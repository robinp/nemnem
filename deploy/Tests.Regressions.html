<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">-- | Regression tests for specific bugs.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
{-# LANGUAGE OverloadedStrings, ScopedTypeVariables #-}
module Tests.Regressions
    (
      tests
    ) where

import Control.Exception (SomeException, </span><a href="Control.Exception.Base.html#loc_181_1_181_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Base.html#loc_181_1_181_7&#39;)"><span class="mpre">handle</span></a><span class="mpre">)
import System.IO
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/tests/Tests/Regressions.hs&quot;, srcSpanStartLine = 11, srcSpanStartColumn = 8, srcSpanEndLine = 11, srcSpanEndColumn = 18}, srcInfoPoints = []}) &quot;Test.HUnit&quot;"><span class="mpre">Test.HUnit</span></span><span class="mpre"> (assertBool, assertEqual, assertFailure)
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/tests/Tests/Regressions.hs&quot;, srcSpanStartLine = 12, srcSpanStartColumn = 18, srcSpanEndLine = 12, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> as B
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/tests/Tests/Regressions.hs&quot;, srcSpanStartLine = 13, srcSpanStartColumn = 8, srcSpanEndLine = 13, srcSpanEndColumn = 29}, srcInfoPoints = []}) &quot;Data.ByteString.Char8&quot;"><span class="mpre">Data.ByteString.Char8</span></span><span class="mpre"> ()
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/tests/Tests/Regressions.hs&quot;, srcSpanStartLine = 14, srcSpanStartColumn = 18, srcSpanEndLine = 14, srcSpanEndColumn = 38}, srcInfoPoints = []}) &quot;Data.ByteString.Lazy&quot;"><span class="mpre">Data.ByteString.Lazy</span></span><span class="mpre"> as LB
import qualified Data.Text as T
import qualified Data.Text.Encoding as TE
import qualified Data.Text.IO as T
import qualified Data.Text.Lazy as LT
import qualified Data.Text.Lazy.Encoding as LE
import qualified Data.Text.Unsafe as T
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/tests/Tests/Regressions.hs&quot;, srcSpanStartLine = 21, srcSpanStartColumn = 18, srcSpanEndLine = 21, srcSpanEndColumn = 32}, srcInfoPoints = []}) &quot;Test.Framework&quot;"><span class="mpre">Test.Framework</span></span><span class="mpre"> as F
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/tests/Tests/Regressions.hs&quot;, srcSpanStartLine = 22, srcSpanStartColumn = 18, srcSpanEndLine = 22, srcSpanEndColumn = 48}, srcInfoPoints = []}) &quot;Test.Framework.Providers.HUnit&quot;"><span class="mpre">Test.Framework.Providers.HUnit</span></span><span class="mpre"> as F

import Tests.Utils (</span><a href="Tests.Utils.html#loc_35_1_35_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Tests.Utils.html#loc_35_1_35_13&#39;)"><span class="mpre">withTempFile</span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- Reported by Michael Snoyman: UTF-8 encoding a large lazy bytestring</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- caused either a segfault or attempt to allocate a negative number</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- of bytes.</span></span><span class="mpre">
</span><a href="#loc_30_1_30_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_1_30_18&#39;)"><span class="mpre">lazy_encode_crash</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_30_1_30_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_1_30_18&#39;)"><span class="hl_vardecl"><span class="mpre">lazy_encode_crash</span></span></a><span class="mpre"> = </span><a href="Tests.Utils.html#loc_35_1_35_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Tests.Utils.html#loc_35_1_35_13&#39;)"><span class="hl_varref"><span class="mpre">withTempFile</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \ _ </span><a name="loc_30_40_30_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_40_30_41&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> -&gt;
   </span><span class="hl_varref"><span class="mpre">LB.hPut</span></span><span class="mpre"> </span><a href="#loc_30_40_30_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_40_30_41&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Text.Lazy.Encoding.html#loc_153_1_153_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Lazy.Encoding.html#loc_153_1_153_11&#39;)"><span class="hl_varref"><span class="mpre">LE.encodeUtf8</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Text.Lazy.html#loc_348_1_348_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Lazy.html#loc_348_1_348_5&#39;)"><span class="hl_varref"><span class="mpre">LT.pack</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">replicate</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">100000</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;a&#39;</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- Reported by Pieter Laeremans: attempting to read an incorrectly</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- encoded file can result in a crash in the RTS (i.e. not merely an</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- exception).</span></span><span class="mpre">
</span><a href="#loc_37_1_37_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_1_37_19&#39;)"><span class="mpre">hGetContents_crash</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_37_1_37_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_1_37_19&#39;)"><span class="hl_vardecl"><span class="mpre">hGetContents_crash</span></span></a><span class="mpre"> = </span><a href="Tests.Utils.html#loc_35_1_35_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Tests.Utils.html#loc_35_1_35_13&#39;)"><span class="hl_varref"><span class="mpre">withTempFile</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \ </span><a name="loc_37_39_37_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_39_37_43&#39;)"><span class="hl_vardecl"><span class="mpre">path</span></span></a><span class="mpre"> </span><a name="loc_37_44_37_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_44_37_45&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> -&gt; do
  </span><span class="hl_varref"><span class="mpre">B.hPut</span></span><span class="mpre"> </span><a href="#loc_37_44_37_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_44_37_45&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">B.pack</span></span><span class="mpre"> [</span><span class="hl_num"><span class="mpre">0x78</span></span><span class="mpre">, </span><span class="hl_num"><span class="mpre">0xc4</span></span><span class="mpre"> ,</span><span class="hl_num"><span class="mpre">0x0a</span></span><span class="mpre">]) </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="GHC.IO.Handle.html#loc_86_1_86_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_86_1_86_7&#39;)"><span class="hl_varref"><span class="mpre">hClose</span></span></a><span class="mpre"> </span><a href="#loc_37_44_37_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_44_37_45&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">
  </span><a name="loc_39_3_39_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_3_39_5&#39;)"><span class="hl_vardecl"><span class="mpre">h&#39;</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.Handle.FD.html#loc_150_1_150_9" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.FD.html#loc_150_1_150_9&#39;)"><span class="hl_varref"><span class="mpre">openFile</span></span></a><span class="mpre"> </span><a href="#loc_37_39_37_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_39_37_43&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre"> </span><a href="GHC.IO.IOMode.html#loc_28_21_28_29" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.IOMode.html#loc_28_21_28_29&#39;)"><span class="hl_conref"><span class="mpre">ReadMode</span></span></a><span class="mpre">
  </span><a href="GHC.IO.Handle.html#loc_253_1_253_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_253_1_253_13&#39;)"><span class="hl_varref"><span class="mpre">hSetEncoding</span></span></a><span class="mpre"> </span><a href="#loc_39_3_39_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_3_39_5&#39;)"><span class="hl_varref"><span class="mpre">h&#39;</span></span></a><span class="mpre"> </span><a href="GHC.IO.Encoding.html#loc_66_1_66_5" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.html#loc_66_1_66_5&#39;)"><span class="hl_varref"><span class="mpre">utf8</span></span></a><span class="mpre">
  </span><a href="Control.Exception.Base.html#loc_181_1_181_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Base.html#loc_181_1_181_7&#39;)"><span class="hl_varref"><span class="mpre">handle</span></span></a><span class="mpre"> (\(_::</span><span class="hl_tyconref"><span class="mpre">SomeException</span></span><span class="mpre">) -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
    </span><a href="Data.Text.IO.html#loc_135_1_135_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.IO.html#loc_135_1_135_13&#39;)"><span class="hl_varref"><span class="mpre">T.hGetContents</span></span></a><span class="mpre"> </span><a href="#loc_39_3_39_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_3_39_5&#39;)"><span class="hl_varref"><span class="mpre">h&#39;</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">assertFailure</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;T.hGetContents should crash&quot;</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- Reported by Ian Lynagh: attempting to allocate a sufficiently large</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- string (via either Array.new or Text.replicate) could result in an</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- integer overflow.</span></span><span class="mpre">
</span><a href="#loc_48_1_48_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_1_48_16&#39;)"><span class="mpre">replicate_crash</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_48_1_48_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_1_48_16&#39;)"><span class="hl_vardecl"><span class="mpre">replicate_crash</span></span></a><span class="mpre"> = </span><a href="Control.Exception.Base.html#loc_181_1_181_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Base.html#loc_181_1_181_7&#39;)"><span class="hl_varref"><span class="mpre">handle</span></span></a><span class="mpre"> (\(_::</span><span class="hl_tyconref"><span class="mpre">SomeException</span></span><span class="mpre">) -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
                  </span><a href="Data.Text.html#loc_962_1_962_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_962_1_962_10&#39;)"><span class="hl_varref"><span class="mpre">T.replicate</span></span></a><span class="mpre"> (</span><span class="hl_num"><span class="mpre">2</span></span><span class="hl_infix"><span class="mpre">^</span></span><a href="#loc_52_5_52_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_5_52_10&#39;)"><span class="hl_varref"><span class="mpre">power</span></span></a><span class="mpre">) </span><span class="hl_string"><span class="mpre">&quot;0123456789abcdef&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`seq`</span></span><span class="mpre">
                  </span><span class="hl_varref"><span class="mpre">assertFailure</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;T.replicate should crash&quot;</span></span><span class="mpre">
  where
    </span><a name="loc_52_5_52_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_5_52_10&#39;)"><span class="hl_vardecl"><span class="mpre">power</span></span></a><span class="mpre"> | </span><span class="hl_varref"><span class="mpre">maxBound</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> (</span><span class="hl_num"><span class="mpre">2147483647</span></span><span class="mpre">::</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">) = </span><span class="hl_num"><span class="mpre">28</span></span><span class="mpre">
          | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">                     = </span><span class="hl_num"><span class="mpre">60</span></span><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- Reported by John Millikin: a UTF-8 decode error handler could</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- return a bogus substitution character, which we would write without</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- checking.</span></span><span class="mpre">
</span><a href="#loc_59_1_59_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_1_59_19&#39;)"><span class="mpre">utf8_decode_unsafe</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_59_1_59_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_1_59_19&#39;)"><span class="hl_vardecl"><span class="mpre">utf8_decode_unsafe</span></span></a><span class="mpre"> = do
  let </span><a name="loc_60_7_60_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_7_60_8&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Encoding.html#loc_142_1_142_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_142_1_142_15&#39;)"><span class="hl_varref"><span class="mpre">TE.decodeUtf8With</span></span></a><span class="mpre"> (\_ _ -&gt; </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;\xdc00&#39;</span></span><span class="mpre">) </span><span class="hl_string"><span class="mpre">&quot;\x80&quot;</span></span><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">assertBool</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;broken error recovery shouldn&#39;t break us&quot;</span></span><span class="mpre"> (</span><a href="#loc_60_7_60_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_7_60_8&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;\xfffd&quot;</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- Reported by Eric Seidel: we mishandled mapping Chars that fit in a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- single Word16 to Chars that require two.</span></span><span class="mpre">
</span><a href="#loc_66_1_66_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_1_66_17&#39;)"><span class="mpre">mapAccumL_resize</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_66_1_66_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_1_66_17&#39;)"><span class="hl_vardecl"><span class="mpre">mapAccumL_resize</span></span></a><span class="mpre"> = do
  let </span><a name="loc_67_7_67_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_7_67_8&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_67_9_67_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_9_67_10&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> _ = (</span><a href="#loc_67_9_67_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_9_67_10&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><span class="hl_char"><span class="mpre">&#39;\65536&#39;</span></span><span class="mpre">)
      </span><a name="loc_68_7_68_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_7_68_12&#39;)"><span class="hl_vardecl"><span class="mpre">count</span></span></a><span class="mpre"> = </span><span class="hl_num"><span class="mpre">5</span></span><span class="mpre">
      </span><a name="loc_69_7_69_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_7_69_10&#39;)"><span class="hl_vardecl"><span class="mpre">val</span></span></a><span class="mpre">   = </span><a href="Data.Text.html#loc_941_1_941_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_941_1_941_10&#39;)"><span class="hl_varref"><span class="mpre">T.mapAccumL</span></span></a><span class="mpre"> </span><a href="#loc_67_7_67_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_7_67_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">::</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">) (</span><a href="Data.Text.html#loc_962_1_962_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_962_1_962_10&#39;)"><span class="hl_varref"><span class="mpre">T.replicate</span></span></a><span class="mpre"> </span><a href="#loc_68_7_68_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_7_68_12&#39;)"><span class="hl_varref"><span class="mpre">count</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;a&quot;</span></span><span class="mpre">)
  </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;mapAccumL should correctly fill buffers for two-word results&quot;</span></span><span class="mpre">
             (</span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">, </span><a href="Data.Text.html#loc_962_1_962_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_962_1_962_10&#39;)"><span class="hl_varref"><span class="mpre">T.replicate</span></span></a><span class="mpre"> </span><a href="#loc_68_7_68_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_7_68_12&#39;)"><span class="hl_varref"><span class="mpre">count</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;\65536&quot;</span></span><span class="mpre">) </span><a href="#loc_69_7_69_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_7_69_10&#39;)"><span class="hl_varref"><span class="mpre">val</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;mapAccumL should correctly size buffers for two-word results&quot;</span></span><span class="mpre">
             (</span><a href="#loc_68_7_68_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_7_68_12&#39;)"><span class="hl_varref"><span class="mpre">count</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">*</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">) (</span><a href="Data.Text.Unsafe.html#loc_112_1_112_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_112_1_112_13&#39;)"><span class="hl_varref"><span class="mpre">T.lengthWord16</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">snd</span></span><span class="mpre"> </span><a href="#loc_69_7_69_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_7_69_10&#39;)"><span class="hl_varref"><span class="mpre">val</span></span></a><span class="mpre">))

</span><a href="#loc_76_1_76_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_1_76_6&#39;)"><span class="mpre">tests</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">F.Test</span></span><span class="mpre">
</span><a name="loc_76_1_76_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_1_76_6&#39;)"><span class="hl_vardecl"><span class="mpre">tests</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">F.testGroup</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Regressions&quot;</span></span><span class="mpre">
    [ </span><span class="hl_varref"><span class="mpre">F.testCase</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;hGetContents_crash&quot;</span></span><span class="mpre"> </span><a href="#loc_37_1_37_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_1_37_19&#39;)"><span class="hl_varref"><span class="mpre">hGetContents_crash</span></span></a><span class="mpre">
    , </span><span class="hl_varref"><span class="mpre">F.testCase</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;lazy_encode_crash&quot;</span></span><span class="mpre"> </span><a href="#loc_30_1_30_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_1_30_18&#39;)"><span class="hl_varref"><span class="mpre">lazy_encode_crash</span></span></a><span class="mpre">
    , </span><span class="hl_varref"><span class="mpre">F.testCase</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;mapAccumL_resize&quot;</span></span><span class="mpre"> </span><a href="#loc_66_1_66_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_1_66_17&#39;)"><span class="hl_varref"><span class="mpre">mapAccumL_resize</span></span></a><span class="mpre">
    , </span><span class="hl_varref"><span class="mpre">F.testCase</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;replicate_crash&quot;</span></span><span class="mpre"> </span><a href="#loc_48_1_48_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_1_48_16&#39;)"><span class="hl_varref"><span class="mpre">replicate_crash</span></span></a><span class="mpre">
    , </span><span class="hl_varref"><span class="mpre">F.testCase</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;utf8_decode_unsafe&quot;</span></span><span class="mpre"> </span><a href="#loc_59_1_59_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_1_59_19&#39;)"><span class="hl_varref"><span class="mpre">utf8_decode_unsafe</span></span></a><span class="mpre">
    ]
</span></div></body></html>