<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">
module HSE.Scope(
    Scope, scopeCreate, scopeImports,
    scopeMatch, scopeMove
    ) where

import HSE.Type
import HSE.Util
import Data.List
import Data.Maybe
import Data.Monoid

</span><span class="hl_comment"><span class="mpre">{-
the hint file can do:

import Prelude (filter)
import Data.List (filter)
import List (filter)

then filter on it&#39;s own will get expanded to all of them

import Data.List
import List as Data.List


if Data.List.head x ==&gt; x, then that might match List too
-}</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Data type representing the modules in scope within a module.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   Created with &#39;scopeCreate&#39; and queried with &#39;scopeMatch&#39; and &#39;scopeMove&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   Note that the &#39;mempty&#39; &#39;Scope&#39; is not equivalent to &#39;scopeCreate&#39; on an empty module,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   due to the implicit import of &#39;Prelude&#39;.</span></span><span class="mpre">
newtype </span><a name="loc_34_9_34_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_9_34_14&#39;)"><span class="hl_tycondecl"><span class="mpre">Scope</span></span></a><span class="mpre"> = </span><a name="loc_34_17_34_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_17_34_22&#39;)"><span class="hl_condecl"><span class="mpre">Scope</span></span></a><span class="mpre"> [</span><span class="hl_tyconref"><span class="mpre">ImportDecl</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S</span></span><span class="mpre">]
             </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/HSE/Scope.hs&quot;, srcSpanStartLine = 35, srcSpanStartColumn = 14, srcSpanEndLine = 35, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/HSE/Scope.hs&quot;, srcSpanStartLine = 35, srcSpanStartColumn = 14, srcSpanEndLine = 35, srcSpanEndColumn = 22}]}) [IHead (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/HSE/Scope.hs&quot;, srcS"><span class="mpre">deriving Show</span></span><span class="mpre">

instance </span><a href="Data.Monoid.html#loc_79_7_79_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_79_7_79_13&#39;)"><span class="hl_classref"><span class="mpre">Monoid</span></span></a><span class="mpre"> </span><a href="#loc_34_9_34_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_9_34_14&#39;)"><span class="hl_tyconref"><span class="mpre">Scope</span></span></a><span class="mpre"> where
    </span><a href="Data.Monoid.html#loc_80_9_80_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_80_9_80_15&#39;)"><span class="hl_vardecl"><span class="mpre">mempty</span></span></a><span class="mpre"> = </span><a href="#loc_34_17_34_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_17_34_22&#39;)"><span class="hl_conref"><span class="mpre">Scope</span></span></a><span class="mpre"> []
    </span><a href="Data.Monoid.html#loc_82_9_82_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_82_9_82_16&#39;)"><span class="hl_fundecl"><span class="mpre">mappend</span></span></a><span class="mpre"> (</span><a href="#loc_34_17_34_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_17_34_22&#39;)"><span class="hl_conref"><span class="mpre">Scope</span></span></a><span class="mpre"> </span><a name="loc_39_20_39_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_20_39_22&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) (</span><a href="#loc_34_17_34_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_17_34_22&#39;)"><span class="hl_conref"><span class="mpre">Scope</span></span></a><span class="mpre"> </span><a name="loc_39_31_39_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_31_39_33&#39;)"><span class="hl_vardecl"><span class="mpre">ys</span></span></a><span class="mpre">) = </span><a href="#loc_34_17_34_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_17_34_22&#39;)"><span class="hl_conref"><span class="mpre">Scope</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_39_20_39_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_20_39_22&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_39_31_39_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_31_39_33&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Create a &#39;Scope&#39; value from a module, based on the modules imports.</span></span><span class="mpre">
</span><a href="#loc_43_1_43_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_1_43_12&#39;)"><span class="mpre">scopeCreate</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Module</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">SrcSpanInfo</span></span><span class="mpre"> -&gt; </span><a href="#loc_34_9_34_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_9_34_14&#39;)"><span class="hl_tyconref"><span class="mpre">Scope</span></span></a><span class="mpre">
</span><a name="loc_43_1_43_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_1_43_12&#39;)"><span class="hl_fundecl"><span class="mpre">scopeCreate</span></span></a><span class="mpre"> </span><a name="loc_43_13_43_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_13_43_15&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> = </span><a href="#loc_34_17_34_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_17_34_22&#39;)"><span class="hl_conref"><span class="mpre">Scope</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> [</span><a href="#loc_46_9_46_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_9_46_16&#39;)"><span class="hl_varref"><span class="mpre">prelude</span></span></a><span class="mpre"> | </span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">any</span></span><span class="mpre"> </span><a href="#loc_47_9_47_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_9_47_18&#39;)"><span class="hl_varref"><span class="mpre">isPrelude</span></span></a><span class="mpre"> </span><a href="#loc_45_9_45_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_12&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre">] </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_45_9_45_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_12&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre">
    where
        </span><a name="loc_45_9_45_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_12&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> = [</span><a href="#loc_45_20_45_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_20_45_21&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> | </span><a name="loc_45_20_45_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_20_45_21&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="HSE.Util.html#loc_34_1_34_14" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_34_1_34_14&#39;)"><span class="hl_varref"><span class="mpre">moduleImports</span></span></a><span class="mpre"> </span><a href="#loc_43_13_43_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_13_43_15&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">, </span><span class="hl_varref"><span class="mpre">importPkg</span></span><span class="mpre"> </span><a href="#loc_45_20_45_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_20_45_21&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">/=</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;hint&quot;</span></span><span class="mpre">]
        </span><a name="loc_46_9_46_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_9_46_16&#39;)"><span class="hl_vardecl"><span class="mpre">prelude</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">ImportDecl</span></span><span class="mpre"> </span><a href="HSE.Util.html#loc_278_1_278_3" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_278_1_278_3&#39;)"><span class="hl_varref"><span class="mpre">an</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">ModuleName</span></span><span class="mpre"> </span><a href="HSE.Util.html#loc_278_1_278_3" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_278_1_278_3&#39;)"><span class="hl_varref"><span class="mpre">an</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Prelude&quot;</span></span><span class="mpre">) </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">
        </span><a name="loc_47_9_47_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_9_47_18&#39;)"><span class="hl_fundecl"><span class="mpre">isPrelude</span></span></a><span class="mpre"> </span><a name="loc_47_19_47_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_19_47_20&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="HSE.Util.html#loc_40_1_40_15" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_40_1_40_15&#39;)"><span class="hl_varref"><span class="mpre">fromModuleName</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">importModule</span></span><span class="mpre"> </span><a href="#loc_47_19_47_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_19_47_20&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Prelude&quot;</span></span><span class="mpre">


</span><a href="#loc_51_1_51_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_1_51_13&#39;)"><span class="mpre">scopeImports</span></a><span class="mpre"> :: </span><a href="#loc_34_9_34_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_9_34_14&#39;)"><span class="hl_tyconref"><span class="mpre">Scope</span></span></a><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">ImportDecl</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S</span></span><span class="mpre">]
</span><a name="loc_51_1_51_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_1_51_13&#39;)"><span class="hl_fundecl"><span class="mpre">scopeImports</span></span></a><span class="mpre"> (</span><a href="#loc_34_17_34_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_17_34_22&#39;)"><span class="hl_conref"><span class="mpre">Scope</span></span></a><span class="mpre"> </span><a name="loc_51_21_51_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_21_51_22&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><a href="#loc_51_21_51_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_21_51_22&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">



</span><span class="hl_comment"><span class="mpre">-- | Given a two names in scopes, could they possibly refer to the same thing.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   This property is reflexive.</span></span><span class="mpre">
</span><a href="#loc_58_1_58_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_1_58_11&#39;)"><span class="mpre">scopeMatch</span></a><span class="mpre"> :: (</span><a href="#loc_34_9_34_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_9_34_14&#39;)"><span class="hl_tyconref"><span class="mpre">Scope</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">QName</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">SrcSpanInfo</span></span><span class="mpre">) -&gt; (</span><a href="#loc_34_9_34_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_9_34_14&#39;)"><span class="hl_tyconref"><span class="mpre">Scope</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">QName</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">SrcSpanInfo</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_58_1_58_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_1_58_11&#39;)"><span class="hl_fundecl"><span class="mpre">scopeMatch</span></span></a><span class="mpre"> (</span><span class="hl_vardecl"><span class="mpre">a</span></span><span class="mpre">, </span><a name="loc_58_16_58_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_16_58_17&#39;)"><span class="hl_specname"><span class="mpre">x</span></span></a><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/HSE/Scope.hs&quot;, srcSpanStartLine = 58, srcSpanStartColumn = 18, srcSpanEndLine = 58, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/HSE/Scope.hs&quot;, srcSpanStartLine = 58, srcSpanStartColumn = 25, srcSpanEndLine = 58, srcSpanEndColumn = 26},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/HSE/Scope.hs&quot;, srcSpanStartLine = 58, srcSpanStartColumn = 26"><span class="mpre">Special{}</span></span><span class="mpre">) (</span><span class="hl_vardecl"><span class="mpre">b</span></span><span class="mpre">, </span><a name="loc_58_33_58_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_33_58_34&#39;)"><span class="hl_specname"><span class="mpre">y</span></span></a><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/HSE/Scope.hs&quot;, srcSpanStartLine = 58, srcSpanStartColumn = 35, srcSpanEndLine = 58, srcSpanEndColumn = 44}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/HSE/Scope.hs&quot;, srcSpanStartLine = 58, srcSpanStartColumn = 42, srcSpanEndLine = 58, srcSpanEndColumn = 43},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/HSE/Scope.hs&quot;, srcSpanStartLine = 58, srcSpanStartColumn = 43"><span class="mpre">Special{}</span></span><span class="mpre">) = </span><a href="#loc_58_16_58_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_16_58_17&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">=~=</span></span><span class="mpre"> </span><a href="#loc_58_33_58_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_33_58_34&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">
</span><a href="#loc_58_1_58_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_1_58_11&#39;)"><span class="hl_fundecl"><span class="mpre">scopeMatch</span></span></a><span class="mpre"> (</span><span class="hl_vardecl"><span class="mpre">a</span></span><span class="mpre">, </span><a name="loc_59_16_59_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_16_59_17&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) (</span><span class="hl_vardecl"><span class="mpre">b</span></span><span class="mpre">, </span><a name="loc_59_23_59_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_23_59_24&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) | </span><a href="HSE.Util.html#loc_119_1_119_10" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_119_1_119_10&#39;)"><span class="hl_varref"><span class="mpre">isSpecial</span></span></a><span class="mpre"> </span><a href="#loc_59_16_59_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_16_59_17&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">||</span></span><span class="mpre"> </span><a href="HSE.Util.html#loc_119_1_119_10" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_119_1_119_10&#39;)"><span class="hl_varref"><span class="mpre">isSpecial</span></span></a><span class="mpre"> </span><a href="#loc_59_23_59_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_23_59_24&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
</span><a href="#loc_58_1_58_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_1_58_11&#39;)"><span class="hl_fundecl"><span class="mpre">scopeMatch</span></span></a><span class="mpre"> (</span><a name="loc_60_13_60_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_13_60_14&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">, </span><a name="loc_60_16_60_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_16_60_17&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) (</span><a name="loc_60_20_60_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_20_60_21&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">, </span><a name="loc_60_23_60_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_23_60_24&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) = </span><a href="HSE.Util.html#loc_111_1_111_7" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_111_1_111_7&#39;)"><span class="hl_varref"><span class="mpre">unqual</span></span></a><span class="mpre"> </span><a href="#loc_60_16_60_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_16_60_17&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">=~=</span></span><span class="mpre"> </span><a href="HSE.Util.html#loc_111_1_111_7" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_111_1_111_7&#39;)"><span class="hl_varref"><span class="mpre">unqual</span></span></a><span class="mpre"> </span><a href="#loc_60_23_60_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_23_60_24&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_80_1_80_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_1_80_12&#39;)"><span class="hl_varref"><span class="mpre">possModules</span></span></a><span class="mpre"> </span><a href="#loc_60_13_60_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_13_60_14&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_60_16_60_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_16_60_17&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="Data.List.html#loc_412_1_412_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_412_1_412_10&#39;)"><span class="hl_infix"><span class="mpre">`intersect`</span></span></a><span class="mpre"> </span><a href="#loc_80_1_80_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_1_80_12&#39;)"><span class="hl_varref"><span class="mpre">possModules</span></span></a><span class="mpre"> </span><a href="#loc_60_20_60_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_20_60_21&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_60_23_60_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_23_60_24&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">-- | Given a name in a scope, and a new scope, create a name for the new scope that will refer</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   to the same thing. If the resulting name is ambiguous, it picks a plausible candidate.</span></span><span class="mpre">
</span><a href="#loc_66_1_66_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_1_66_10&#39;)"><span class="mpre">scopeMove</span></a><span class="mpre"> :: (</span><a href="#loc_34_9_34_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_9_34_14&#39;)"><span class="hl_tyconref"><span class="mpre">Scope</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">QName</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">SrcSpanInfo</span></span><span class="mpre">) -&gt; </span><a href="#loc_34_9_34_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_9_34_14&#39;)"><span class="hl_tyconref"><span class="mpre">Scope</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">QName</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">SrcSpanInfo</span></span><span class="mpre">
</span><a name="loc_66_1_66_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_1_66_10&#39;)"><span class="hl_fundecl"><span class="mpre">scopeMove</span></span></a><span class="mpre"> (</span><a name="loc_66_12_66_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_12_66_13&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">, </span><a name="loc_66_15_66_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_15_66_16&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) (</span><a href="#loc_34_17_34_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_17_34_22&#39;)"><span class="hl_conref"><span class="mpre">Scope</span></span></a><span class="mpre"> </span><a name="loc_66_25_66_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_25_66_26&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">)
    | </span><a href="HSE.Util.html#loc_119_1_119_10" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_119_1_119_10&#39;)"><span class="hl_varref"><span class="mpre">isSpecial</span></span></a><span class="mpre"> </span><a href="#loc_66_15_66_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_15_66_16&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_66_15_66_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_15_66_16&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> </span><a href="#loc_73_9_73_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_9_73_13&#39;)"><span class="hl_varref"><span class="mpre">imps</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">head</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_72_9_72_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_9_72_13&#39;)"><span class="hl_varref"><span class="mpre">real</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><a href="#loc_66_15_66_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_15_66_16&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">]
    | </span><span class="hl_varref"><span class="mpre">any</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">importQualified</span></span><span class="mpre">) </span><a href="#loc_73_9_73_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_9_73_13&#39;)"><span class="hl_varref"><span class="mpre">imps</span></span></a><span class="mpre"> = </span><a href="HSE.Util.html#loc_111_1_111_7" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_111_1_111_7&#39;)"><span class="hl_varref"><span class="mpre">unqual</span></span></a><span class="mpre"> </span><a href="#loc_66_15_66_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_15_66_16&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Qual</span></span><span class="mpre"> </span><a href="HSE.Util.html#loc_278_1_278_3" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_278_1_278_3&#39;)"><span class="hl_varref"><span class="mpre">an</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">head</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_123_1_123_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_123_1_123_9&#39;)"><span class="hl_varref"><span class="mpre">mapMaybe</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">importAs</span></span><span class="mpre"> </span><a href="#loc_73_9_73_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_9_73_13&#39;)"><span class="hl_varref"><span class="mpre">imps</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">importModule</span></span><span class="mpre"> </span><a href="#loc_73_9_73_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_9_73_13&#39;)"><span class="hl_varref"><span class="mpre">imps</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="HSE.Util.html#loc_115_1_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_115_1_115_9&#39;)"><span class="hl_varref"><span class="mpre">fromQual</span></span></a><span class="mpre"> </span><a href="#loc_66_15_66_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_15_66_16&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
    where
        </span><a name="loc_72_9_72_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_9_72_13&#39;)"><span class="hl_vardecl"><span class="mpre">real</span></span></a><span class="mpre"> = [</span><span class="hl_conref"><span class="mpre">Qual</span></span><span class="mpre"> </span><a href="HSE.Util.html#loc_278_1_278_3" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_278_1_278_3&#39;)"><span class="hl_varref"><span class="mpre">an</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">ModuleName</span></span><span class="mpre"> </span><a href="HSE.Util.html#loc_278_1_278_3" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_278_1_278_3&#39;)"><span class="hl_varref"><span class="mpre">an</span></span></a><span class="mpre"> </span><a href="#loc_72_58_72_59" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_58_72_59&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="HSE.Util.html#loc_115_1_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_115_1_115_9&#39;)"><span class="hl_varref"><span class="mpre">fromQual</span></span></a><span class="mpre"> </span><a href="#loc_66_15_66_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_15_66_16&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> | </span><a name="loc_72_58_72_59" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_58_72_59&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_80_1_80_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_1_80_12&#39;)"><span class="hl_varref"><span class="mpre">possModules</span></span></a><span class="mpre"> </span><a href="#loc_66_12_66_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_12_66_13&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_66_15_66_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_15_66_16&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">]
        </span><a name="loc_73_9_73_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_9_73_13&#39;)"><span class="hl_vardecl"><span class="mpre">imps</span></span></a><span class="mpre"> = [</span><a href="#loc_73_32_73_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_32_73_33&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> | </span><a name="loc_73_21_73_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_21_73_22&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_72_9_72_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_9_72_13&#39;)"><span class="hl_varref"><span class="mpre">real</span></span></a><span class="mpre">, </span><a name="loc_73_32_73_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_32_73_33&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_66_25_66_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_25_66_26&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">, </span><a href="#loc_90_1_90_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_1_90_11&#39;)"><span class="hl_varref"><span class="mpre">possImport</span></span></a><span class="mpre"> </span><a href="#loc_73_32_73_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_32_73_33&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_73_21_73_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_21_73_22&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">]


</span><span class="hl_comment"><span class="mpre">-- which modules could a name possibly lie in</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- if it&#39;s qualified but not matching any import, assume the user</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- just lacks an import</span></span><span class="mpre">
</span><a href="#loc_80_1_80_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_1_80_12&#39;)"><span class="mpre">possModules</span></a><span class="mpre"> :: </span><a href="#loc_34_9_34_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_9_34_14&#39;)"><span class="hl_tyconref"><span class="mpre">Scope</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">QName</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_80_1_80_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_1_80_12&#39;)"><span class="hl_fundecl"><span class="mpre">possModules</span></span></a><span class="mpre"> (</span><a href="#loc_34_17_34_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_17_34_22&#39;)"><span class="hl_conref"><span class="mpre">Scope</span></span></a><span class="mpre"> </span><a name="loc_80_20_80_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_20_80_22&#39;)"><span class="hl_vardecl"><span class="mpre">is</span></span></a><span class="mpre">) </span><a name="loc_80_24_80_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_24_80_25&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_84_9_84_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_9_84_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_80_24_80_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_24_80_25&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
    where
        </span><a name="loc_82_9_82_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_9_82_12&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> = [</span><a href="HSE.Util.html#loc_40_1_40_15" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_40_1_40_15&#39;)"><span class="hl_varref"><span class="mpre">fromModuleName</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">importModule</span></span><span class="mpre"> </span><a href="#loc_82_50_82_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_50_82_51&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> | </span><a name="loc_82_50_82_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_50_82_51&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_80_20_80_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_20_80_22&#39;)"><span class="hl_varref"><span class="mpre">is</span></span></a><span class="mpre">, </span><a href="#loc_90_1_90_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_1_90_11&#39;)"><span class="hl_varref"><span class="mpre">possImport</span></span></a><span class="mpre"> </span><a href="#loc_82_50_82_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_50_82_51&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_80_24_80_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_24_80_25&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">]

        </span><a name="loc_84_9_84_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_9_84_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/HSE/Scope.hs&quot;, srcSpanStartLine = 84, srcSpanStartColumn = 11, srcSpanEndLine = 84, srcSpanEndColumn = 20}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/HSE/Scope.hs&quot;, srcSpanStartLine = 84, srcSpanStartColumn = 18, srcSpanEndLine = 84, srcSpanEndColumn = 19},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/HSE/Scope.hs&quot;, srcSpanStartLine = 84, srcSpanStartColumn = 19"><span class="mpre">Special{}</span></span><span class="mpre"> = [</span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">]
        </span><a href="#loc_84_9_84_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_9_84_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_specname"><span class="mpre">x</span></span><span class="mpre">@(</span><span class="hl_conref"><span class="mpre">Qual</span></span><span class="mpre"> _ </span><a name="loc_85_21_85_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_21_85_24&#39;)"><span class="hl_vardecl"><span class="mpre">mod</span></span></a><span class="mpre"> _) = [</span><a href="HSE.Util.html#loc_40_1_40_15" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_40_1_40_15&#39;)"><span class="hl_varref"><span class="mpre">fromModuleName</span></span></a><span class="mpre"> </span><a href="#loc_85_21_85_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_21_85_24&#39;)"><span class="hl_varref"><span class="mpre">mod</span></span></a><span class="mpre"> | </span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> </span><a href="#loc_82_9_82_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_9_82_12&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre">] </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_82_9_82_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_9_82_12&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre">
        </span><a href="#loc_84_9_84_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_9_84_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> _ = </span><a href="#loc_82_9_82_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_9_82_12&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre">


</span><a href="#loc_90_1_90_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_1_90_11&#39;)"><span class="mpre">possImport</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ImportDecl</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">QName</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_90_1_90_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_1_90_11&#39;)"><span class="hl_fundecl"><span class="mpre">possImport</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">i</span></span><span class="mpre"> </span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/HSE/Scope.hs&quot;, srcSpanStartLine = 90, srcSpanStartColumn = 14, srcSpanEndLine = 90, srcSpanEndColumn = 23}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/HSE/Scope.hs&quot;, srcSpanStartLine = 90, srcSpanStartColumn = 21, srcSpanEndLine = 90, srcSpanEndColumn = 22},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/HSE/Scope.hs&quot;, srcSpanStartLine = 90, srcSpanStartColumn = 22"><span class="mpre">Special{}</span></span><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
</span><a href="#loc_90_1_90_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_1_90_11&#39;)"><span class="hl_fundecl"><span class="mpre">possImport</span></span></a><span class="mpre"> </span><a name="loc_91_12_91_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_12_91_13&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Qual</span></span><span class="mpre"> _ </span><a name="loc_91_22_91_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_22_91_25&#39;)"><span class="hl_vardecl"><span class="mpre">mod</span></span></a><span class="mpre"> </span><a name="loc_91_26_91_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_26_91_27&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><a href="HSE.Util.html#loc_40_1_40_15" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_40_1_40_15&#39;)"><span class="hl_varref"><span class="mpre">fromModuleName</span></span></a><span class="mpre"> </span><a href="#loc_91_22_91_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_22_91_25&#39;)"><span class="hl_varref"><span class="mpre">mod</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`elem`</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="HSE.Util.html#loc_40_1_40_15" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_40_1_40_15&#39;)"><span class="hl_varref"><span class="mpre">fromModuleName</span></span></a><span class="mpre"> </span><a href="#loc_92_11_92_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_11_92_13&#39;)"><span class="hl_varref"><span class="mpre">ms</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_90_1_90_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_1_90_11&#39;)"><span class="hl_varref"><span class="mpre">possImport</span></span></a><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/HSE/Scope.hs&quot;, srcSpanStartLine = 91, srcSpanStartColumn = 93, srcSpanEndLine = 91, srcSpanEndColumn = 117}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/HSE/Scope.hs&quot;, srcSpanStartLine = 91, srcSpanStartColumn = 94, srcSpanEndLine = 91, srcSpanEndColumn = 95},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/HSE/Scope.hs&quot;, srcSpanStartLine = 91, srcSpanStartColum"><span class="mpre">i{importQualified=False}</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">UnQual</span></span><span class="mpre"> </span><a href="HSE.Util.html#loc_278_1_278_3" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_278_1_278_3&#39;)"><span class="hl_varref"><span class="mpre">an</span></span></a><span class="mpre"> </span><a href="#loc_91_26_91_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_26_91_27&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)
    where </span><a name="loc_92_11_92_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_11_92_13&#39;)"><span class="hl_vardecl"><span class="mpre">ms</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">importModule</span></span><span class="mpre"> </span><a href="#loc_91_12_91_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_12_91_13&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_103_1_103_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_103_1_103_12&#39;)"><span class="hl_varref"><span class="mpre">maybeToList</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">importAs</span></span><span class="mpre"> </span><a href="#loc_91_12_91_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_12_91_13&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">)
</span><a href="#loc_90_1_90_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_1_90_11&#39;)"><span class="hl_fundecl"><span class="mpre">possImport</span></span></a><span class="mpre"> </span><a name="loc_93_12_93_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_12_93_13&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">UnQual</span></span><span class="mpre"> _ </span><a name="loc_93_24_93_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_24_93_25&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">importQualified</span></span><span class="mpre"> </span><a href="#loc_93_12_93_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_12_93_13&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_74_1_74_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_74_1_74_6&#39;)"><span class="hl_varref"><span class="mpre">maybe</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> </span><a href="#loc_95_9_95_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_9_95_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">importSpecs</span></span><span class="mpre"> </span><a href="#loc_93_12_93_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_12_93_13&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">)
    where
        </span><a name="loc_95_9_95_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_9_95_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">ImportSpecList</span></span><span class="mpre"> _ </span><a name="loc_95_29_95_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_29_95_33&#39;)"><span class="hl_vardecl"><span class="mpre">hide</span></span></a><span class="mpre"> </span><a name="loc_95_34_95_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_34_95_36&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) = if </span><a href="#loc_95_29_95_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_29_95_33&#39;)"><span class="hl_varref"><span class="mpre">hide</span></span></a><span class="mpre"> then </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`notElem`</span></span><span class="mpre"> </span><a href="#loc_96_19_96_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_19_96_21&#39;)"><span class="hl_varref"><span class="mpre">ms</span></span></a><span class="mpre"> else </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`elem`</span></span><span class="mpre"> </span><a href="#loc_96_19_96_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_19_96_21&#39;)"><span class="hl_varref"><span class="mpre">ms</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">||</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`elem`</span></span><span class="mpre"> </span><a href="#loc_96_19_96_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_19_96_21&#39;)"><span class="hl_varref"><span class="mpre">ms</span></span></a><span class="mpre">
            where </span><a name="loc_96_19_96_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_19_96_21&#39;)"><span class="hl_vardecl"><span class="mpre">ms</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_99_9_99_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_9_99_10&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_95_34_95_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_34_95_36&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
        
        </span><a href="#loc_99_9_99_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_9_99_10&#39;)"><span class="mpre">g</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ImportSpec</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S</span></span><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- does this import cover the name x</span></span><span class="mpre">
        </span><a name="loc_99_9_99_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_9_99_10&#39;)"><span class="hl_fundecl"><span class="mpre">g</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">IVar</span></span><span class="mpre"> _ </span><a name="loc_99_19_99_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_19_99_20&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) = </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_93_24_93_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_24_93_25&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">=~=</span></span><span class="mpre"> </span><a href="#loc_99_19_99_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_19_99_20&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">
        </span><a href="#loc_99_9_99_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_9_99_10&#39;)"><span class="hl_fundecl"><span class="mpre">g</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">IAbs</span></span><span class="mpre"> _ </span><a name="loc_100_19_100_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_19_100_20&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) = </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_93_24_93_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_24_93_25&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">=~=</span></span><span class="mpre"> </span><a href="#loc_100_19_100_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_19_100_20&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">
        </span><a href="#loc_99_9_99_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_9_99_10&#39;)"><span class="hl_fundecl"><span class="mpre">g</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">IThingAll</span></span><span class="mpre"> _ </span><a name="loc_101_24_101_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_24_101_25&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) = if </span><a href="#loc_93_24_93_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_24_93_25&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">=~=</span></span><span class="mpre"> </span><a href="#loc_101_24_101_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_24_101_25&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> then </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> else </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">
        </span><a href="#loc_99_9_99_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_9_99_10&#39;)"><span class="hl_fundecl"><span class="mpre">g</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">IThingWith</span></span><span class="mpre"> _ </span><a name="loc_102_25_102_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_25_102_26&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre"> </span><a name="loc_102_27_102_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_27_102_29&#39;)"><span class="hl_vardecl"><span class="mpre">ys</span></span></a><span class="mpre">) = </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_93_24_93_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_24_93_25&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="HSE.Util.html#loc_292_1_292_6" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.Util.html#loc_292_1_292_6&#39;)"><span class="hl_infix"><span class="mpre">`elem_`</span></span></a><span class="mpre"> (</span><a href="#loc_102_25_102_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_25_102_26&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_105_9_105_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_9_105_18&#39;)"><span class="hl_varref"><span class="mpre">fromCName</span></span></a><span class="mpre"> </span><a href="#loc_102_27_102_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_27_102_29&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">)
        
        </span><a href="#loc_105_9_105_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_9_105_18&#39;)"><span class="mpre">fromCName</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">CName</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Name</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S</span></span><span class="mpre">
        </span><a name="loc_105_9_105_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_9_105_18&#39;)"><span class="hl_fundecl"><span class="mpre">fromCName</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">VarName</span></span><span class="mpre"> _ </span><a name="loc_105_30_105_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_30_105_31&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><a href="#loc_105_30_105_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_30_105_31&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
        </span><a href="#loc_105_9_105_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_9_105_18&#39;)"><span class="hl_fundecl"><span class="mpre">fromCName</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">ConName</span></span><span class="mpre"> _ </span><a name="loc_106_30_106_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_30_106_31&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><a href="#loc_106_30_106_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_30_106_31&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
</span></div></body></html>