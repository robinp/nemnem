<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">module Data.Conduit.ExtraSpec where

import Data.Conduit
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/ExtraSpec.hs&quot;, srcSpanStartLine = 4, srcSpanStartColumn = 8, srcSpanEndLine = 4, srcSpanEndColumn = 18}, srcInfoPoints = []}) &quot;Test.Hspec&quot;"><span class="mpre">Test.Hspec</span></span><span class="mpre">
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/ExtraSpec.hs&quot;, srcSpanStartLine = 5, srcSpanStartColumn = 8, srcSpanEndLine = 5, srcSpanEndColumn = 29}, srcInfoPoints = []}) &quot;Test.Hspec.QuickCheck&quot;"><span class="mpre">Test.Hspec.QuickCheck</span></span><span class="mpre">
import Data.Conduit.List (</span><a href="Data.Conduit.List.html#loc_485_1_485_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_485_1_485_8&#39;)"><span class="mpre">isolate</span></a><span class="mpre">, </span><a href="Data.Conduit.List.html#loc_262_1_262_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_262_1_262_5&#39;)"><span class="mpre">peek</span></a><span class="mpre">, </span><a href="Data.Conduit.List.html#loc_450_1_450_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_450_1_450_8&#39;)"><span class="mpre">consume</span></a><span class="mpre">)
import qualified Data.Conduit.List as CL
import qualified Data.Text as T
import qualified Data.Text.Encoding as T
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/ExtraSpec.hs&quot;, srcSpanStartLine = 10, srcSpanStartColumn = 18, srcSpanEndLine = 10, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> as S
import qualified Data.Conduit.Text as CT

</span><a href="#loc_14_1_14_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_1_14_5&#39;)"><span class="mpre">spec</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Spec</span></span><span class="mpre">
</span><a name="loc_14_1_14_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_1_14_5&#39;)"><span class="hl_vardecl"><span class="mpre">spec</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">describe</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Data.Conduit.Extra&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
    </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;basic test&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        let </span><a href="#loc_17_13_17_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_17_13_17_18&#39;)"><span class="mpre">sink2</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Sink</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
            </span><a name="loc_17_13_17_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_17_13_17_18&#39;)"><span class="hl_vardecl"><span class="mpre">sink2</span></span></a><span class="mpre"> = do
                </span><a name="loc_18_17_18_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_18_17_18_20&#39;)"><span class="hl_vardecl"><span class="mpre">ma1</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.Internal.html#loc_1039_1_1039_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Internal.html#loc_1039_1_1039_14&#39;)"><span class="hl_varref"><span class="mpre">fuseLeftovers</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre"> (</span><a href="Data.Conduit.List.html#loc_485_1_485_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_485_1_485_8&#39;)"><span class="hl_varref"><span class="mpre">isolate</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">10</span></span><span class="mpre">) </span><a href="Data.Conduit.List.html#loc_262_1_262_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_262_1_262_5&#39;)"><span class="hl_varref"><span class="mpre">peek</span></span></a><span class="mpre">
                </span><a name="loc_19_17_19_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_17_19_20&#39;)"><span class="hl_vardecl"><span class="mpre">ma2</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.List.html#loc_262_1_262_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_262_1_262_5&#39;)"><span class="hl_varref"><span class="mpre">peek</span></span></a><span class="mpre">
                </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_18_17_18_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_18_17_18_20&#39;)"><span class="hl_varref"><span class="mpre">ma1</span></span></a><span class="mpre">, </span><a href="#loc_19_17_19_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_17_19_20&#39;)"><span class="hl_varref"><span class="mpre">ma2</span></span></a><span class="mpre">)

            </span><a name="loc_22_13_22_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_22_13_22_19&#39;)"><span class="hl_vardecl"><span class="mpre">source</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">
        </span><a name="loc_23_9_23_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_23_9_23_12&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_22_13_22_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_22_13_22_19&#39;)"><span class="hl_varref"><span class="mpre">source</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">$$</span></span></a><span class="mpre"> </span><a href="#loc_17_13_17_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_17_13_17_18&#39;)"><span class="hl_varref"><span class="mpre">sink2</span></span></a><span class="mpre">
        </span><a href="#loc_23_9_23_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_23_9_23_12&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">, </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)

    </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;get leftovers&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        let </span><a href="#loc_28_13_28_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_13_28_18&#39;)"><span class="mpre">sink2</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Sink</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> ([</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">], [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">], [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">])
            </span><a name="loc_28_13_28_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_13_28_18&#39;)"><span class="hl_vardecl"><span class="mpre">sink2</span></span></a><span class="mpre"> = do
                (</span><a name="loc_29_18_29_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_18_29_19&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">, </span><a name="loc_29_21_29_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_21_29_22&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) &lt;- </span><a href="Data.Conduit.Internal.html#loc_1003_1_1003_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Internal.html#loc_1003_1_1003_20&#39;)"><span class="hl_varref"><span class="mpre">fuseReturnLeftovers</span></span></a><span class="mpre"> (</span><a href="Data.Conduit.List.html#loc_485_1_485_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_485_1_485_8&#39;)"><span class="hl_varref"><span class="mpre">isolate</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">) </span><a href="#loc_33_13_33_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_13_33_18&#39;)"><span class="hl_varref"><span class="mpre">peek3</span></span></a><span class="mpre">
                </span><a name="loc_30_17_30_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_17_30_18&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.List.html#loc_450_1_450_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_450_1_450_8&#39;)"><span class="hl_varref"><span class="mpre">CL.consume</span></span></a><span class="mpre">
                </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_29_18_29_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_18_29_19&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">, </span><a href="#loc_29_21_29_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_21_29_22&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">, </span><a href="#loc_30_17_30_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_17_30_18&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre">)

            </span><a name="loc_33_13_33_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_13_33_18&#39;)"><span class="hl_vardecl"><span class="mpre">peek3</span></span></a><span class="mpre"> = do
                </span><a name="loc_34_17_34_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_17_34_18&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.List.html#loc_243_1_243_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_243_1_243_5&#39;)"><span class="hl_varref"><span class="mpre">CL.take</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">
                </span><span class="hl_varref"><span class="mpre">mapM_</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_207_1_207_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_207_1_207_9&#39;)"><span class="hl_varref"><span class="mpre">leftover</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">reverse</span></span><span class="mpre"> </span><a href="#loc_34_17_34_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_17_34_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
                </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_34_17_34_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_17_34_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">

            </span><a name="loc_38_13_38_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_13_38_19&#39;)"><span class="hl_vardecl"><span class="mpre">source</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">mapM_</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><span class="warning" data-warning="ExpEnumFromTo (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/ExtraSpec.hs&quot;, srcSpanStartLine = 38, srcSpanStartColumn = 34, srcSpanEndLine = 38, srcSpanEndColumn = 40}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/ExtraSpec.hs&quot;, srcSpanStartLine = 38, srcSpanStartColumn = 34, srcSpanEndLine = 38, srcSpanEndColumn = 35},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/t"><span class="mpre">[1..5]</span></span><span class="mpre">
        </span><a name="loc_39_9_39_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_9_39_12&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_38_13_38_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_13_38_19&#39;)"><span class="hl_varref"><span class="mpre">source</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">$$</span></span></a><span class="mpre"> </span><a href="#loc_28_13_28_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_13_28_18&#39;)"><span class="hl_varref"><span class="mpre">sink2</span></span></a><span class="mpre">
        </span><a href="#loc_39_9_39_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_9_39_12&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> (</span><span class="warning" data-warning="ExpEnumFromTo (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/ExtraSpec.hs&quot;, srcSpanStartLine = 40, srcSpanStartColumn = 25, srcSpanEndLine = 40, srcSpanEndColumn = 31}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/ExtraSpec.hs&quot;, srcSpanStartLine = 40, srcSpanStartColumn = 25, srcSpanEndLine = 40, srcSpanEndColumn = 26},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/t"><span class="mpre">[1..2]</span></span><span class="mpre">, </span><span class="warning" data-warning="ExpEnumFromTo (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/ExtraSpec.hs&quot;, srcSpanStartLine = 40, srcSpanStartColumn = 33, srcSpanEndLine = 40, srcSpanEndColumn = 39}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/ExtraSpec.hs&quot;, srcSpanStartLine = 40, srcSpanStartColumn = 33, srcSpanEndLine = 40, srcSpanEndColumn = 34},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/t"><span class="mpre">[1..2]</span></span><span class="mpre">, </span><span class="warning" data-warning="ExpEnumFromTo (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/ExtraSpec.hs&quot;, srcSpanStartLine = 40, srcSpanStartColumn = 41, srcSpanEndLine = 40, srcSpanEndColumn = 47}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/ExtraSpec.hs&quot;, srcSpanStartLine = 40, srcSpanStartColumn = 41, srcSpanEndLine = 40, srcSpanEndColumn = 42},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/t"><span class="mpre">[3..5]</span></span><span class="mpre">)

    </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;multiple values&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        let </span><a href="#loc_44_13_44_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_13_44_18&#39;)"><span class="mpre">sink2</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Sink</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> ([</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">], </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
            </span><a name="loc_44_13_44_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_13_44_18&#39;)"><span class="hl_vardecl"><span class="mpre">sink2</span></span></a><span class="mpre"> = do
                </span><a name="loc_45_17_45_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_17_45_20&#39;)"><span class="hl_vardecl"><span class="mpre">ma1</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.Internal.html#loc_1039_1_1039_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Internal.html#loc_1039_1_1039_14&#39;)"><span class="hl_varref"><span class="mpre">fuseLeftovers</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre"> (</span><a href="Data.Conduit.List.html#loc_485_1_485_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_485_1_485_8&#39;)"><span class="hl_varref"><span class="mpre">isolate</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">10</span></span><span class="mpre">) </span><a href="#loc_49_13_49_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_13_49_18&#39;)"><span class="hl_varref"><span class="mpre">peek3</span></span></a><span class="mpre">
                </span><a name="loc_46_17_46_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_17_46_20&#39;)"><span class="hl_vardecl"><span class="mpre">ma2</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.List.html#loc_262_1_262_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_262_1_262_5&#39;)"><span class="hl_varref"><span class="mpre">peek</span></span></a><span class="mpre">
                </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_45_17_45_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_17_45_20&#39;)"><span class="hl_varref"><span class="mpre">ma1</span></span></a><span class="mpre">, </span><a href="#loc_46_17_46_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_17_46_20&#39;)"><span class="hl_varref"><span class="mpre">ma2</span></span></a><span class="mpre">)

            </span><a name="loc_49_13_49_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_13_49_18&#39;)"><span class="hl_vardecl"><span class="mpre">peek3</span></span></a><span class="mpre"> = do
                </span><a name="loc_50_17_50_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_17_50_18&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.List.html#loc_243_1_243_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_243_1_243_5&#39;)"><span class="hl_varref"><span class="mpre">CL.take</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">
                </span><span class="hl_varref"><span class="mpre">mapM_</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_207_1_207_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_207_1_207_9&#39;)"><span class="hl_varref"><span class="mpre">leftover</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">reverse</span></span><span class="mpre"> </span><a href="#loc_50_17_50_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_17_50_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
                </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_50_17_50_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_17_50_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">

            </span><a name="loc_54_13_54_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_13_54_19&#39;)"><span class="hl_vardecl"><span class="mpre">source</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">mapM_</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><span class="warning" data-warning="ExpEnumFromTo (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/ExtraSpec.hs&quot;, srcSpanStartLine = 54, srcSpanStartColumn = 34, srcSpanEndLine = 54, srcSpanEndColumn = 40}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/ExtraSpec.hs&quot;, srcSpanStartLine = 54, srcSpanStartColumn = 34, srcSpanEndLine = 54, srcSpanEndColumn = 35},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/t"><span class="mpre">[1..5]</span></span><span class="mpre">
        </span><a name="loc_55_9_55_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_9_55_12&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_54_13_54_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_13_54_19&#39;)"><span class="hl_varref"><span class="mpre">source</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">$$</span></span></a><span class="mpre"> </span><a href="#loc_44_13_44_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_13_44_18&#39;)"><span class="hl_varref"><span class="mpre">sink2</span></span></a><span class="mpre">
        </span><a href="#loc_55_9_55_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_9_55_12&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> (</span><span class="warning" data-warning="ExpEnumFromTo (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/ExtraSpec.hs&quot;, srcSpanStartLine = 56, srcSpanStartColumn = 25, srcSpanEndLine = 56, srcSpanEndColumn = 31}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/ExtraSpec.hs&quot;, srcSpanStartLine = 56, srcSpanStartColumn = 25, srcSpanEndLine = 56, srcSpanEndColumn = 26},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/t"><span class="mpre">[1..3]</span></span><span class="mpre">, </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)

    </span><span class="hl_varref"><span class="mpre">prop</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;more complex&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_58_28_58_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_28_58_30&#39;)"><span class="hl_vardecl"><span class="mpre">ss</span></span></a><span class="mpre"> </span><a name="loc_58_31_58_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_31_58_34&#39;)"><span class="hl_vardecl"><span class="mpre">cnt</span></span></a><span class="mpre"> -&gt; do
        let </span><a name="loc_59_13_59_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_13_59_15&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="Data.Text.html#loc_387_1_387_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_387_1_387_5&#39;)"><span class="hl_varref"><span class="mpre">T.pack</span></span></a><span class="mpre"> </span><a href="#loc_58_28_58_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_28_58_30&#39;)"><span class="hl_varref"><span class="mpre">ss</span></span></a><span class="mpre">
            </span><a name="loc_60_13_60_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_13_60_16&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">mapM_</span></span><span class="mpre"> (</span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Text.Encoding.html#loc_386_1_386_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_386_1_386_11&#39;)"><span class="hl_varref"><span class="mpre">T.encodeUtf8</span></span></a><span class="mpre">) </span><a href="#loc_59_13_59_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_13_59_15&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
            </span><a name="loc_61_13_61_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_13_61_20&#39;)"><span class="hl_vardecl"><span class="mpre">conduit</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.List.html#loc_268_1_268_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_268_1_268_4&#39;)"><span class="hl_varref"><span class="mpre">CL.map</span></span></a><span class="mpre"> </span><a href="Data.Text.Encoding.html#loc_307_1_307_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_307_1_307_11&#39;)"><span class="hl_varref"><span class="mpre">T.decodeUtf8</span></span></a><span class="mpre">
            </span><a name="loc_62_13_62_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_13_62_17&#39;)"><span class="hl_vardecl"><span class="mpre">sink</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.Text.html#loc_346_1_346_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Text.html#loc_346_1_346_5&#39;)"><span class="hl_varref"><span class="mpre">CT.take</span></span></a><span class="mpre"> </span><a href="#loc_58_31_58_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_31_58_34&#39;)"><span class="hl_varref"><span class="mpre">cnt</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_149_14_149_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_149_14_149_16&#39;)"><span class="hl_infix"><span class="mpre">=$</span></span></a><span class="mpre"> </span><a href="Data.Conduit.List.html#loc_450_1_450_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_450_1_450_8&#39;)"><span class="hl_varref"><span class="mpre">consume</span></span></a><span class="mpre">
            </span><a name="loc_63_13_63_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_13_63_17&#39;)"><span class="hl_vardecl"><span class="mpre">undo</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Text.Encoding.html#loc_386_1_386_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_386_1_386_11&#39;)"><span class="hl_varref"><span class="mpre">T.encodeUtf8</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Text.html#loc_849_1_849_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_849_1_849_7&#39;)"><span class="hl_varref"><span class="mpre">T.concat</span></span></a><span class="mpre">
        </span><a name="loc_64_9_64_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_9_64_12&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_60_13_60_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_13_60_16&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">$$</span></span></a><span class="mpre"> do
            </span><a name="loc_65_13_65_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_13_65_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.Internal.html#loc_1039_1_1039_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Internal.html#loc_1039_1_1039_14&#39;)"><span class="hl_varref"><span class="mpre">fuseLeftovers</span></span></a><span class="mpre"> </span><a href="#loc_63_13_63_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_13_63_17&#39;)"><span class="hl_varref"><span class="mpre">undo</span></span></a><span class="mpre"> </span><a href="#loc_61_13_61_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_13_61_20&#39;)"><span class="hl_varref"><span class="mpre">conduit</span></span></a><span class="mpre"> </span><a href="#loc_62_13_62_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_13_62_17&#39;)"><span class="hl_varref"><span class="mpre">sink</span></span></a><span class="mpre">
            </span><a name="loc_66_13_66_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_13_66_14&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.List.html#loc_450_1_450_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_450_1_450_8&#39;)"><span class="hl_varref"><span class="mpre">consume</span></span></a><span class="mpre">
            </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="Data.Text.html#loc_849_1_849_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_849_1_849_7&#39;)"><span class="hl_varref"><span class="mpre">T.concat</span></span></a><span class="mpre"> </span><a href="#loc_65_13_65_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_13_65_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">, </span><a href="Data.Text.Encoding.html#loc_307_1_307_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_307_1_307_11&#39;)"><span class="hl_varref"><span class="mpre">T.decodeUtf8</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.concat</span></span><span class="mpre"> </span><a href="#loc_66_13_66_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_13_66_14&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">)
        </span><a href="#loc_64_9_64_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_9_64_12&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><a href="Data.Text.html#loc_1177_1_1177_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1177_1_1177_8&#39;)"><span class="hl_varref"><span class="mpre">T.splitAt</span></span></a><span class="mpre"> </span><a href="#loc_58_31_58_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_31_58_34&#39;)"><span class="hl_varref"><span class="mpre">cnt</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_849_1_849_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_849_1_849_7&#39;)"><span class="hl_varref"><span class="mpre">T.concat</span></span></a><span class="mpre"> </span><a href="#loc_59_13_59_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_13_59_15&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">)

</span><a href="#loc_71_1_71_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_1_71_5&#39;)"><span class="mpre">main</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_71_1_71_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_1_71_5&#39;)"><span class="hl_vardecl"><span class="mpre">main</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">hspec</span></span><span class="mpre"> </span><a href="#loc_14_1_14_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_1_14_5&#39;)"><span class="hl_varref"><span class="mpre">spec</span></span></a><span class="mpre">
</span></div></body></html>