<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# OPTIONS -Wall -Werror #-}

module Test.TestTimeZone where

import Data.Time
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/time-1.4.2/Test/TestTimeZone.hs&quot;, srcSpanStartLine = 6, srcSpanStartColumn = 8, srcSpanEndLine = 6, srcSpanEndColumn = 24}, srcInfoPoints = []}) &quot;System.Posix.Env&quot;"><span class="mpre">System.Posix.Env</span></span><span class="mpre"> (putEnv)
import Test.TestUtil

</span><a href="#loc_10_1_10_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_10_1_10_13&#39;)"><span class="mpre">testTimeZone</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Test</span></span><span class="mpre">
</span><a name="loc_10_1_10_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_10_1_10_13&#39;)"><span class="hl_vardecl"><span class="mpre">testTimeZone</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">ioTest</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;getTimeZone respects TZ env var&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
  </span><span class="hl_varref"><span class="mpre">putEnv</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;TZ=UTC+0&quot;</span></span><span class="mpre">
  </span><a name="loc_12_3_12_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_12_3_12_8&#39;)"><span class="hl_vardecl"><span class="mpre">zone1</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Time.LocalTime.TimeZone.html#loc_83_1_83_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.LocalTime.TimeZone.html#loc_83_1_83_12&#39;)"><span class="hl_varref"><span class="mpre">getTimeZone</span></span></a><span class="mpre"> </span><a href="#loc_17_3_17_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_17_3_17_8&#39;)"><span class="hl_varref"><span class="mpre">epoch</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">putEnv</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;TZ=EST+5&quot;</span></span><span class="mpre">
  </span><a name="loc_14_3_14_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_3_14_8&#39;)"><span class="hl_vardecl"><span class="mpre">zone2</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Time.LocalTime.TimeZone.html#loc_83_1_83_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.LocalTime.TimeZone.html#loc_83_1_83_12&#39;)"><span class="hl_varref"><span class="mpre">getTimeZone</span></span></a><span class="mpre"> </span><a href="#loc_17_3_17_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_17_3_17_8&#39;)"><span class="hl_varref"><span class="mpre">epoch</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">diff</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre"> (</span><a href="#loc_12_3_12_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_12_3_12_8&#39;)"><span class="hl_varref"><span class="mpre">zone1</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_14_3_14_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_3_14_8&#39;)"><span class="hl_varref"><span class="mpre">zone2</span></span></a><span class="mpre">)
 where
  </span><a name="loc_17_3_17_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_17_3_17_8&#39;)"><span class="hl_vardecl"><span class="mpre">epoch</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">UTCTime</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">ModifiedJulianDay</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">) </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
</span></div></body></html>