<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE MultiParamTypeClasses #-}
{-# LANGUAGE FlexibleInstances #-}
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  System.Exit.Lens</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (C) 2013-14 Edward Kmett</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  BSD-style (see the file LICENSE)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  provisional</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  Control.Exception</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- These prisms can be used with the combinators in &quot;Control.Exception.Lens&quot;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------------------</span></span><span class="mpre">
module System.Exit.Lens
  ( AsExitCode(..)
  , _ExitFailure
  , _ExitSuccess
  ) where

import Control.Applicative
import Control.Exception
import Control.Exception.Lens
import Control.Lens
import System.Exit

</span><span class="hl_comment"><span class="mpre">-- | Exit codes that a program can return with:</span></span><span class="mpre">
class </span><a name="loc_27_7_27_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_7_27_17&#39;)"><span class="hl_classdecl"><span class="mpre">AsExitCode</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> where
  </span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- &#39;_ExitCode&#39; :: &#39;Equality&#39;&#39; &#39;ExitCode&#39;      &#39;ExitCode&#39;</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- &#39;_ExitCode&#39; :: &#39;Prism&#39;&#39;    &#39;SomeException&#39; &#39;ExitCode&#39;</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
  </span><a name="loc_33_3_33_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_3_33_12&#39;)"><span class="mpre">_ExitCode</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Optic&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><a href="GHC.IO.Exception.html#loc_205_6_205_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Exception.html#loc_205_6_205_14&#39;)"><span class="hl_tyconref"><span class="mpre">ExitCode</span></span></a><span class="mpre">

instance </span><a href="#loc_27_7_27_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_7_27_17&#39;)"><span class="hl_classref"><span class="mpre">AsExitCode</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><a href="GHC.IO.Exception.html#loc_205_6_205_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Exception.html#loc_205_6_205_14&#39;)"><span class="hl_tyconref"><span class="mpre">ExitCode</span></span></a><span class="mpre"> where
  </span><a href="#loc_33_3_33_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_3_33_12&#39;)"><span class="hl_vardecl"><span class="mpre">_ExitCode</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_33_3_33_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_3_33_12&#39;)"><span class="mpre">_ExitCode</span></a><span class="mpre"> #-}</span></span><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/System/Exit/Lens.hs&quot;, srcSpanStartLine = 39, srcSpanStartColumn = 10, srcSpanEndLine = 39, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/System/Exit/Lens.hs&quot;, srcSpanStartLine = 39, srcSpanStartColumn = 10, srcSpanEndLine = 39, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/System/Exit/Lens.hs&quot;, srcSpanStartLine = 39, sr"><span class="mpre">(Choice p, Applicative f) =&gt;</span></span><span class="mpre"> </span><a href="#loc_27_7_27_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_7_27_17&#39;)"><span class="hl_classref"><span class="mpre">AsExitCode</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">SomeException</span></span><span class="mpre"> where
  </span><a href="#loc_33_3_33_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_3_33_12&#39;)"><span class="hl_vardecl"><span class="mpre">_ExitCode</span></span></a><span class="mpre"> = </span><a href="Control.Exception.Lens.html#loc_142_1_142_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Lens.html#loc_142_1_142_10&#39;)"><span class="hl_varref"><span class="mpre">exception</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_33_3_33_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_3_33_12&#39;)"><span class="mpre">_ExitCode</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | indicates successful termination;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;_ExitSuccess&#39; :: &#39;Prism&#39;&#39; &#39;ExitCode&#39;      ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;_ExitSuccess&#39; :: &#39;Prism&#39;&#39; &#39;SomeException&#39; ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_50_1_50_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_1_50_13&#39;)"><span class="mpre">_ExitSuccess</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/System/Exit/Lens.hs&quot;, srcSpanStartLine = 49, srcSpanStartColumn = 17, srcSpanEndLine = 49, srcSpanEndColumn = 63}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/System/Exit/Lens.hs&quot;, srcSpanStartLine = 49, srcSpanStartColumn = 17, srcSpanEndLine = 49, srcSpanEndColumn = 18},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/System/Exit/Lens.hs&quot;, srcSpanStartLine = 49, sr"><span class="mpre">(AsExitCode p f t, Choice p, Applicative f) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Optic&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_50_1_50_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_1_50_13&#39;)"><span class="hl_vardecl"><span class="mpre">_ExitSuccess</span></span></a><span class="mpre"> = </span><a href="#loc_33_3_33_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_3_33_12&#39;)"><span class="hl_varref"><span class="mpre">_ExitCode</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Profunctor.Unsafe.html#loc_87_3_87_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_87_3_87_8&#39;)"><span class="hl_varref"><span class="mpre">dimap</span></span></a><span class="mpre"> </span><a href="#loc_51_3_51_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_3_51_7&#39;)"><span class="hl_varref"><span class="mpre">seta</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">either</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">right&#39;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Profunctor.Unsafe.html#loc_101_3_101_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_101_3_101_7&#39;)"><span class="hl_varref"><span class="mpre">rmap</span></span></a><span class="mpre"> (</span><a href="GHC.IO.Exception.html#loc_206_5_206_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Exception.html#loc_206_5_206_16&#39;)"><span class="hl_conref"><span class="mpre">ExitSuccess</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;$</span></span><span class="mpre">) where
  </span><a name="loc_51_3_51_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_3_51_7&#39;)"><span class="hl_fundecl"><span class="mpre">seta</span></span></a><span class="mpre"> </span><a href="GHC.IO.Exception.html#loc_206_5_206_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Exception.html#loc_206_5_206_16&#39;)"><span class="hl_conref"><span class="mpre">ExitSuccess</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
  </span><a href="#loc_51_3_51_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_3_51_7&#39;)"><span class="hl_fundecl"><span class="mpre">seta</span></span></a><span class="mpre"> </span><a name="loc_52_8_52_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_8_52_9&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre">           = </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre">  (</span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_varref"><span class="mpre">pure</span></span></a><span class="mpre"> </span><a href="#loc_52_8_52_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_8_52_9&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_50_1_50_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_1_50_13&#39;)"><span class="mpre">_ExitSuccess</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | indicates program failure with an exit code. The exact interpretation of the code is operating-system dependent. In particular, some values may be prohibited (e.g. 0 on a POSIX-compliant system).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;_ExitFailure&#39; :: &#39;Prism&#39;&#39; &#39;ExitCode&#39;      &#39;Int&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;_ExitFailure&#39; :: &#39;Prism&#39;&#39; &#39;SomeException&#39; &#39;Int&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_62_1_62_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_1_62_13&#39;)"><span class="mpre">_ExitFailure</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/System/Exit/Lens.hs&quot;, srcSpanStartLine = 61, srcSpanStartColumn = 17, srcSpanEndLine = 61, srcSpanEndColumn = 63}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/System/Exit/Lens.hs&quot;, srcSpanStartLine = 61, srcSpanStartColumn = 17, srcSpanEndLine = 61, srcSpanEndColumn = 18},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/System/Exit/Lens.hs&quot;, srcSpanStartLine = 61, sr"><span class="mpre">(AsExitCode p f t, Choice p, Applicative f) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Optic&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
</span><a name="loc_62_1_62_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_1_62_13&#39;)"><span class="hl_vardecl"><span class="mpre">_ExitFailure</span></span></a><span class="mpre"> = </span><a href="#loc_33_3_33_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_3_33_12&#39;)"><span class="hl_varref"><span class="mpre">_ExitCode</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Profunctor.Unsafe.html#loc_87_3_87_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_87_3_87_8&#39;)"><span class="hl_varref"><span class="mpre">dimap</span></span></a><span class="mpre"> </span><a href="#loc_63_3_63_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_3_63_7&#39;)"><span class="hl_varref"><span class="mpre">seta</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">either</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">right&#39;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Profunctor.Unsafe.html#loc_101_3_101_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_101_3_101_7&#39;)"><span class="hl_varref"><span class="mpre">rmap</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="GHC.IO.Exception.html#loc_207_5_207_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Exception.html#loc_207_5_207_16&#39;)"><span class="hl_conref"><span class="mpre">ExitFailure</span></span></a><span class="mpre">) where
  </span><a name="loc_63_3_63_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_3_63_7&#39;)"><span class="hl_fundecl"><span class="mpre">seta</span></span></a><span class="mpre"> (</span><a href="GHC.IO.Exception.html#loc_207_5_207_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Exception.html#loc_207_5_207_16&#39;)"><span class="hl_conref"><span class="mpre">ExitFailure</span></span></a><span class="mpre"> </span><a name="loc_63_21_63_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_21_63_22&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a href="#loc_63_21_63_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_21_63_22&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">
  </span><a href="#loc_63_3_63_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_3_63_7&#39;)"><span class="hl_fundecl"><span class="mpre">seta</span></span></a><span class="mpre"> </span><a name="loc_64_8_64_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_8_64_9&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre">               = </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre">  (</span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_varref"><span class="mpre">pure</span></span></a><span class="mpre"> </span><a href="#loc_64_8_64_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_8_64_9&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_62_1_62_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_1_62_13&#39;)"><span class="mpre">_ExitFailure</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span></div></body></html>