<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Distribution.Simple.PreProcess</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (c) 2003-2005, Isaac Jones, Malcolm Wallace</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  cabal-devel@haskell.org</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This defines a &#39;PreProcessor&#39; abstraction which represents a pre-processor</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- that can transform one kind of file into another. There is also a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;PPSuffixHandler&#39; which is a combination of a file extension and a function</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- for configuring a &#39;PreProcessor&#39;. It defines a bunch of known built-in</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- preprocessors like @cpp@, @cpphs@, @c2hs@, @hsc2hs@, @happy@, @alex@ etc and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- lists them in &#39;knownSuffixHandlers&#39;. On top of this it provides a function</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- for actually preprocessing some sources given a bunch of known suffix</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- handlers. This module is not as good as it could be, it could really do with</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- a rewrite to address some of the problems we have with pre-processors.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{- Copyright (c) 2003-2005, Isaac Jones, Malcolm Wallace
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.

    * Redistributions in binary form must reproduce the above
      copyright notice, this list of conditions and the following
      disclaimer in the documentation and/or other materials provided
      with the distribution.

    * Neither the name of Isaac Jones nor the names of other
      contributors may be used to endorse or promote products derived
      from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
&quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -}</span></span><span class="mpre">

module Distribution.Simple.PreProcess (preprocessComponent, knownSuffixHandlers,
                                ppSuffixes, PPSuffixHandler, PreProcessor(..),
                                mkSimplePreProcessor, runSimplePreProcessor,
                                ppCpp, ppCpp&#39;, ppGreenCard, ppC2hs, ppHsc2hs,
                                ppHappy, ppAlex, ppUnlit, platformDefines
                               )
    where


import Control.Monad
import Distribution.Simple.PreProcess.Unlit (</span><a href="Distribution.Simple.PreProcess.Unlit.html#loc_66_1_66_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PreProcess.Unlit.html#loc_66_1_66_6&#39;)"><span class="mpre">unlit</span></a><span class="mpre">)
import Distribution.Package
         ( </span><a href="Distribution.Package.html#loc_183_7_183_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_183_7_183_14&#39;)"><span class="mpre">Package</span></a><span class="mpre">(..), </span><a href="Distribution.Package.html#loc_80_9_80_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_80_9_80_20&#39;)"><span class="mpre">PackageName</span></a><span class="mpre">(..) )
import qualified Distribution.ModuleName as ModuleName
import Distribution.PackageDescription as PD
         ( </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="mpre">PackageDescription</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="mpre">BuildInfo</span></a><span class="mpre">(..)
         , </span><a href="Distribution.PackageDescription.html#loc_347_6_347_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_347_6_347_16&#39;)"><span class="mpre">Executable</span></a><span class="mpre">(..)
         , </span><a href="Distribution.PackageDescription.html#loc_299_6_299_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_299_6_299_13&#39;)"><span class="mpre">Library</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_341_1_341_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_341_1_341_11&#39;)"><span class="mpre">libModules</span></a><span class="mpre">
         , </span><a href="Distribution.PackageDescription.html#loc_395_6_395_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_395_6_395_15&#39;)"><span class="mpre">TestSuite</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_478_1_478_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_478_1_478_12&#39;)"><span class="mpre">testModules</span></a><span class="mpre">
         , </span><a href="Distribution.PackageDescription.html#loc_414_6_414_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_414_6_414_24&#39;)"><span class="mpre">TestSuiteInterface</span></a><span class="mpre">(..)
         , </span><a href="Distribution.PackageDescription.html#loc_530_6_530_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_530_6_530_15&#39;)"><span class="mpre">Benchmark</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_605_1_605_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_605_1_605_17&#39;)"><span class="mpre">benchmarkModules</span></a><span class="mpre">, </span><a href="Distribution.PackageDescription.html#loc_545_6_545_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_545_6_545_24&#39;)"><span class="mpre">BenchmarkInterface</span></a><span class="mpre">(..) )
import qualified Distribution.InstalledPackageInfo as Installed
         ( </span><a href="Distribution.InstalledPackageInfo.html#loc_92_6_92_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_92_6_92_27&#39;)"><span class="mpre">InstalledPackageInfo_</span></a><span class="mpre">(..) )
import qualified Distribution.Simple.PackageIndex as PackageIndex
import Distribution.Simple.CCompiler
         ( </span><a href="Distribution.Simple.CCompiler.html#loc_80_1_80_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.CCompiler.html#loc_80_1_80_18&#39;)"><span class="mpre">cSourceExtensions</span></a><span class="mpre"> )
import Distribution.Simple.Compiler
         ( </span><a href="Distribution.Compiler.html#loc_81_6_81_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_6_81_20&#39;)"><span class="mpre">CompilerFlavor</span></a><span class="mpre">(..), </span><a href="Distribution.Simple.Compiler.html#loc_96_1_96_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_96_1_96_15&#39;)"><span class="mpre">compilerFlavor</span></a><span class="mpre">, </span><a href="Distribution.Simple.Compiler.html#loc_99_1_99_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_99_1_99_16&#39;)"><span class="mpre">compilerVersion</span></a><span class="mpre"> )
import Distribution.Simple.LocalBuildInfo
         ( </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="mpre">LocalBuildInfo</span></a><span class="mpre">(..), </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_185_6_185_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_185_6_185_15&#39;)"><span class="mpre">Component</span></a><span class="mpre">(..) )
import Distribution.Simple.BuildPaths (</span><a href="Distribution.Simple.BuildPaths.html#loc_94_1_94_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_94_1_94_18&#39;)"><span class="mpre">autogenModulesDir</span></a><span class="mpre">,</span><a href="Distribution.Simple.BuildPaths.html#loc_97_1_97_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_97_1_97_14&#39;)"><span class="mpre">cppHeaderName</span></a><span class="mpre">)
import Distribution.Simple.Utils
         ( </span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="mpre">createDirectoryIfMissingVerbose</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_1249_1_1249_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1249_1_1249_21&#39;)"><span class="mpre">withUTF8FileContents</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_1260_1_1260_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1260_1_1260_14&#39;)"><span class="mpre">writeUTF8File</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="mpre">die</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_297_1_297_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_297_1_297_13&#39;)"><span class="mpre">setupMessage</span></a><span class="mpre">, </span><a href="Data.List.html#loc_443_1_443_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_443_1_443_12&#39;)"><span class="mpre">intercalate</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_868_1_868_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_868_1_868_16&#39;)"><span class="mpre">copyFileVerbose</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_805_1_805_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_805_1_805_15&#39;)"><span class="mpre">moreRecentFile</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Utils.html#loc_660_1_660_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_660_1_660_22&#39;)"><span class="mpre">findFileWithExtension</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_673_1_673_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_673_1_673_23&#39;)"><span class="mpre">findFileWithExtension&#39;</span></a><span class="mpre"> )
import Distribution.Simple.Program
         ( </span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="mpre">Program</span></a><span class="mpre">(..), </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="mpre">ConfiguredProgram</span></a><span class="mpre">(..), </span><a href="Distribution.Simple.Program.Types.html#loc_115_1_115_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_115_1_115_12&#39;)"><span class="mpre">programPath</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Program.Db.html#loc_261_1_261_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_261_1_261_14&#39;)"><span class="mpre">lookupProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Db.html#loc_371_1_371_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_371_1_371_15&#39;)"><span class="mpre">requireProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Db.html#loc_399_1_399_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_399_1_399_22&#39;)"><span class="mpre">requireProgramVersion</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Program.html#loc_205_1_205_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_205_1_205_21&#39;)"><span class="mpre">rawSystemProgramConf</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.html#loc_197_1_197_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_197_1_197_17&#39;)"><span class="mpre">rawSystemProgram</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Program.Builtin.html#loc_257_1_257_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_257_1_257_17&#39;)"><span class="mpre">greencardProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Builtin.html#loc_228_1_228_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_228_1_228_13&#39;)"><span class="mpre">cpphsProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Builtin.html#loc_213_1_213_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_213_1_213_14&#39;)"><span class="mpre">hsc2hsProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Builtin.html#loc_223_1_223_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_223_1_223_12&#39;)"><span class="mpre">c2hsProgram</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Program.Builtin.html#loc_179_1_179_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_179_1_179_13&#39;)"><span class="mpre">happyProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Builtin.html#loc_189_1_189_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_189_1_189_12&#39;)"><span class="mpre">alexProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Builtin.html#loc_247_1_247_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_247_1_247_15&#39;)"><span class="mpre">haddockProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Builtin.html#loc_97_1_97_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_97_1_97_11&#39;)"><span class="mpre">ghcProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Builtin.html#loc_199_1_199_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_199_1_199_11&#39;)"><span class="mpre">gccProgram</span></a><span class="mpre"> )
import Distribution.Simple.Test ( </span><a href="Distribution.Simple.Test.html#loc_480_1_480_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Test.html#loc_480_1_480_20&#39;)"><span class="mpre">writeSimpleTestStub</span></a><span class="mpre">, </span><a href="Distribution.Simple.Test.html#loc_468_1_468_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Test.html#loc_468_1_468_13&#39;)"><span class="mpre">stubFilePath</span></a><span class="mpre">, </span><a href="Distribution.Simple.Test.html#loc_472_1_472_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Test.html#loc_472_1_472_9&#39;)"><span class="mpre">stubName</span></a><span class="mpre"> )
import Distribution.System
         ( </span><a href="Distribution.System.html#loc_66_6_66_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_66_6_66_8&#39;)"><span class="mpre">OS</span></a><span class="mpre">(..), </span><a href="Distribution.System.html#loc_112_1_112_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_112_1_112_8&#39;)"><span class="mpre">buildOS</span></a><span class="mpre">, </span><a href="Distribution.System.html#loc_118_6_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_118_6_118_10&#39;)"><span class="mpre">Arch</span></a><span class="mpre">(..), </span><a href="Distribution.System.html#loc_164_6_164_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_164_6_164_14&#39;)"><span class="mpre">Platform</span></a><span class="mpre">(..) )
import Distribution.Text
import Distribution.Version
         ( </span><a href="Data.Version.html#loc_68_6_68_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Version.html#loc_68_6_68_13&#39;)"><span class="mpre">Version</span></a><span class="mpre">(..), </span><a href="Distribution.Version.html#loc_143_1_143_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Version.html#loc_143_1_143_11&#39;)"><span class="mpre">anyVersion</span></a><span class="mpre">, </span><a href="Distribution.Version.html#loc_182_1_182_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Version.html#loc_182_1_182_15&#39;)"><span class="mpre">orLaterVersion</span></a><span class="mpre"> )
import Distribution.Verbosity

import Data.Maybe (</span><a href="Data.Maybe.html#loc_98_1_98_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_98_1_98_10&#39;)"><span class="mpre">fromMaybe</span></a><span class="mpre">)
import Data.List (</span><a href="Data.List.html#loc_314_1_314_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_314_1_314_4&#39;)"><span class="mpre">nub</span></a><span class="mpre">)
import System.Directory (</span><a href="System.Directory.html#loc_726_1_726_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_726_1_726_14&#39;)"><span class="mpre">doesFileExist</span></a><span class="mpre">)
import System.Info (</span><a href="System.Info.html#loc_40_1_40_3" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Info.html#loc_40_1_40_3&#39;)"><span class="mpre">os</span></a><span class="mpre">, </span><a href="System.Info.html#loc_44_1_44_5" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Info.html#loc_44_1_44_5&#39;)"><span class="mpre">arch</span></a><span class="mpre">)
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 103, srcSpanStartColumn = 8, srcSpanEndLine = 103, srcSpanEndColumn = 23}, srcInfoPoints = []}) &quot;System.FilePath&quot;"><span class="mpre">System.FilePath</span></span><span class="mpre"> (splitExtension, dropExtensions, (&lt;/&gt;), (&lt;.&gt;),
                        takeDirectory, normalise, replaceExtension)

</span><span class="hl_comment"><span class="mpre">-- |The interface to a preprocessor, which may be implemented using an</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- external program, but need not be.  The arguments are the name of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the input file, the name of the output file and a verbosity level.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Here is a simple example that merely prepends a comment to the given</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- source file:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; ppTestHandler :: PreProcessor</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; ppTestHandler =</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;   PreProcessor {</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;     platformIndependent = True,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;     runPreProcessor = mkSimplePreProcessor $ \inFile outFile verbosity -&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;       do info verbosity (inFile++&quot; has been preprocessed to &quot;++outFile)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;          stuff &lt;- readFile inFile</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;          writeFile outFile (&quot;-- preprocessed as a test\n\n&quot; ++ stuff)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;          return ExitSuccess</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- We split the input and output file names into a base directory and the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- rest of the file name. The input base dir is the path in the list of search</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- dirs that this file was found in. The output base dir is the build dir where</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- all the generated source files are put.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The reason for splitting it up this way is that some pre-processors don&#39;t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- simply generate one output .hs file from one input file but have</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- dependencies on other genereated files (notably c2hs, where building one</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- .hs file may require reading other .chi files, and then compiling the .hs</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- file may require reading a generated .h file). In these cases the generated</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- files need to embed relative path names to each other (eg the generated .hs</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- file mentions the .h file in the FFI imports). This path must be relative to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the base directory where the genereated files are located, it cannot be</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- relative to the top level of the build tree because the compilers do not</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- look for .h files relative to there, ie we do not use \&quot;-I .\&quot;, instead we</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- use \&quot;-I dist\/build\&quot; (or whatever dist dir has been set by the user)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Most pre-processors do not care of course, so mkSimplePreProcessor and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- runSimplePreProcessor functions handle the simple case.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
data </span><a name="loc_142_6_142_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_6_142_18&#39;)"><span class="hl_tycondecl"><span class="mpre">PreProcessor</span></span></a><span class="mpre"> = </span><span class="hl_condecl"><span class="mpre">PreProcessor</span></span><span class="mpre"> {

  </span><span class="hl_comment"><span class="mpre">-- Is the output of the pre-processor platform independent? eg happy output</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- is portable haskell but c2hs&#39;s output is platform dependent.</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- This matters since only platform independent generated code can be</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- inlcuded into a source tarball.</span></span><span class="mpre">
  </span><a name="loc_148_3_148_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_3_148_22&#39;)"><span class="hl_fielddecl"><span class="mpre">platformIndependent</span></span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">,

  </span><span class="hl_comment"><span class="mpre">-- TODO: deal with pre-processors that have implementaion dependent output</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">--       eg alex and happy have --ghc flags. However we can&#39;t really inlcude</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">--       ghc-specific code into supposedly portable source tarballs.</span></span><span class="mpre">

  </span><a name="loc_154_3_154_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_3_154_18&#39;)"><span class="hl_fielddecl"><span class="mpre">runPreProcessor</span></span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">) </span><span class="hl_comment"><span class="mpre">-- Location of the source file relative to a base dir</span></span><span class="mpre">
                  -&gt; (</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">) </span><span class="hl_comment"><span class="mpre">-- Output file name, relative to an output base dir</span></span><span class="mpre">
                  -&gt; </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- verbosity</span></span><span class="mpre">
                  -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">     </span><span class="hl_comment"><span class="mpre">-- Should exit if the preprocessor fails</span></span><span class="mpre">
  }

</span><a href="#loc_163_1_163_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_1_163_21&#39;)"><span class="mpre">mkSimplePreProcessor</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">)
                      -&gt; (</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">)
                      -&gt; (</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">) -&gt; </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_163_1_163_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_1_163_21&#39;)"><span class="hl_fundecl"><span class="mpre">mkSimplePreProcessor</span></span></a><span class="mpre"> </span><a name="loc_163_22_163_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_22_163_30&#39;)"><span class="hl_vardecl"><span class="mpre">simplePP</span></span></a><span class="mpre">
  (</span><a name="loc_164_4_164_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_4_164_13&#39;)"><span class="hl_vardecl"><span class="mpre">inBaseDir</span></span></a><span class="mpre">, </span><a name="loc_164_15_164_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_15_164_29&#39;)"><span class="hl_vardecl"><span class="mpre">inRelativeFile</span></span></a><span class="mpre">)
  (</span><a name="loc_165_4_165_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_4_165_14&#39;)"><span class="hl_vardecl"><span class="mpre">outBaseDir</span></span></a><span class="mpre">, </span><a name="loc_165_16_165_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_16_165_31&#39;)"><span class="hl_vardecl"><span class="mpre">outRelativeFile</span></span></a><span class="mpre">) </span><a name="loc_165_33_165_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_33_165_42&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> = </span><a href="#loc_163_22_163_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_22_163_30&#39;)"><span class="hl_varref"><span class="mpre">simplePP</span></span></a><span class="mpre"> </span><a href="#loc_166_9_166_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_9_166_15&#39;)"><span class="hl_varref"><span class="mpre">inFile</span></span></a><span class="mpre"> </span><a href="#loc_167_9_167_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_9_167_16&#39;)"><span class="hl_varref"><span class="mpre">outFile</span></span></a><span class="mpre"> </span><a href="#loc_165_33_165_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_33_165_42&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
  where </span><a name="loc_166_9_166_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_9_166_15&#39;)"><span class="hl_vardecl"><span class="mpre">inFile</span></span></a><span class="mpre">  = </span><span class="hl_varref"><span class="mpre">normalise</span></span><span class="mpre"> (</span><a href="#loc_164_4_164_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_4_164_13&#39;)"><span class="hl_varref"><span class="mpre">inBaseDir</span></span></a><span class="mpre">  </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_164_15_164_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_15_164_29&#39;)"><span class="hl_varref"><span class="mpre">inRelativeFile</span></span></a><span class="mpre">)
        </span><a name="loc_167_9_167_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_9_167_16&#39;)"><span class="hl_vardecl"><span class="mpre">outFile</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">normalise</span></span><span class="mpre"> (</span><a href="#loc_165_4_165_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_4_165_14&#39;)"><span class="hl_varref"><span class="mpre">outBaseDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_165_16_165_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_16_165_31&#39;)"><span class="hl_varref"><span class="mpre">outRelativeFile</span></span></a><span class="mpre">)

</span><a href="#loc_171_1_171_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_1_171_22&#39;)"><span class="mpre">runSimplePreProcessor</span></a><span class="mpre"> :: </span><a href="#loc_142_6_142_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_6_142_18&#39;)"><span class="hl_tyconref"><span class="mpre">PreProcessor</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">
                      -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_171_1_171_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_1_171_22&#39;)"><span class="hl_fundecl"><span class="mpre">runSimplePreProcessor</span></span></a><span class="mpre"> </span><a name="loc_171_23_171_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_23_171_25&#39;)"><span class="hl_vardecl"><span class="mpre">pp</span></span></a><span class="mpre"> </span><a name="loc_171_26_171_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_26_171_32&#39;)"><span class="hl_vardecl"><span class="mpre">inFile</span></span></a><span class="mpre"> </span><a name="loc_171_33_171_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_33_171_40&#39;)"><span class="hl_vardecl"><span class="mpre">outFile</span></span></a><span class="mpre"> </span><a name="loc_171_41_171_50" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_41_171_50&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> =
  </span><a href="#loc_154_3_154_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_3_154_18&#39;)"><span class="hl_varref"><span class="mpre">runPreProcessor</span></span></a><span class="mpre"> </span><a href="#loc_171_23_171_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_23_171_25&#39;)"><span class="hl_varref"><span class="mpre">pp</span></span></a><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;.&quot;</span></span><span class="mpre">, </span><a href="#loc_171_26_171_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_26_171_32&#39;)"><span class="hl_varref"><span class="mpre">inFile</span></span></a><span class="mpre">) (</span><span class="hl_string"><span class="mpre">&quot;.&quot;</span></span><span class="mpre">, </span><a href="#loc_171_33_171_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_33_171_40&#39;)"><span class="hl_varref"><span class="mpre">outFile</span></span></a><span class="mpre">) </span><a href="#loc_171_41_171_50" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_41_171_50&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |A preprocessor for turning non-Haskell files with the given extension</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- into plain Haskell source files.</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 176, srcSpanStartColumn = 1, srcSpanEndLine = 177, srcSpanEndColumn = 60}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 176, srcSpanStartColumn = 1, srcSpanEndLine = 176, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distributio"><span class="mpre">type PPSuffixHandler
    = (String, BuildInfo -&gt; LocalBuildInfo -&gt; PreProcessor)</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Apply preprocessors to the sources from &#39;hsSourceDirs&#39; for a given</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- component (lib, exe, or test suite).</span></span><span class="mpre">
</span><a href="#loc_188_1_188_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_1_188_20&#39;)"><span class="mpre">preprocessComponent</span></a><span class="mpre"> :: </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre">
                    -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_185_6_185_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_185_6_185_15&#39;)"><span class="hl_tyconref"><span class="mpre">Component</span></span></a><span class="mpre">
                    -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre">
                    -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
                    -&gt; </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">
                    -&gt; [</span><span class="hl_tyconref"><span class="mpre">PPSuffixHandler</span></span><span class="mpre">]
                    -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_188_1_188_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_1_188_20&#39;)"><span class="hl_fundecl"><span class="mpre">preprocessComponent</span></span></a><span class="mpre"> </span><a name="loc_188_21_188_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_21_188_23&#39;)"><span class="hl_vardecl"><span class="mpre">pd</span></span></a><span class="mpre"> </span><a name="loc_188_24_188_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_24_188_28&#39;)"><span class="hl_vardecl"><span class="mpre">comp</span></span></a><span class="mpre"> </span><a name="loc_188_29_188_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_29_188_32&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_188_33_188_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_33_188_42&#39;)"><span class="hl_vardecl"><span class="mpre">isSrcDist</span></span></a><span class="mpre"> </span><a name="loc_188_43_188_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_43_188_52&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_188_53_188_61" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_53_188_61&#39;)"><span class="hl_vardecl"><span class="mpre">handlers</span></span></a><span class="mpre"> = case </span><a href="#loc_188_24_188_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_24_188_28&#39;)"><span class="hl_varref"><span class="mpre">comp</span></span></a><span class="mpre"> of
  (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_185_18_185_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_185_18_185_22&#39;)"><span class="hl_conref"><span class="mpre">CLib</span></span></a><span class="mpre"> </span><a name="loc_189_9_189_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_189_9_189_12&#39;)"><span class="hl_specname"><span class="mpre">lib</span></span></a><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 189, srcSpanStartColumn = 13, srcSpanEndLine = 189, srcSpanEndColumn = 41}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 189, srcSpanStartColumn = 20, srcSpanEndLine = 189, srcSpanEndColumn = 21},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution"><span class="mpre">Library{ libBuildInfo = bi }</span></span><span class="mpre">) -&gt; do
    let </span><a name="loc_190_9_190_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_9_190_13&#39;)"><span class="hl_vardecl"><span class="mpre">dirs</span></span></a><span class="mpre"> = </span><a href="Distribution.PackageDescription.html#loc_645_9_645_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_645_9_645_21&#39;)"><span class="hl_varref"><span class="mpre">hsSourceDirs</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">bi</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><a href="Distribution.Simple.BuildPaths.html#loc_94_1_94_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_94_1_94_18&#39;)"><span class="hl_varref"><span class="mpre">autogenModulesDir</span></span></a><span class="mpre"> </span><a href="#loc_188_29_188_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_29_188_32&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">]
    </span><a href="Distribution.Simple.Utils.html#loc_297_1_297_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_297_1_297_13&#39;)"><span class="hl_varref"><span class="mpre">setupMessage</span></span></a><span class="mpre"> </span><a href="#loc_188_43_188_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_43_188_52&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Preprocessing library&quot;</span></span><span class="mpre"> (</span><a href="Distribution.Package.html#loc_184_3_184_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_184_3_184_12&#39;)"><span class="hl_varref"><span class="mpre">packageId</span></span></a><span class="mpre"> </span><a href="#loc_188_21_188_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_21_188_23&#39;)"><span class="hl_varref"><span class="mpre">pd</span></span></a><span class="mpre">)
    </span><a href="Control.Monad.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">forM_</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="Distribution.ModuleName.html#loc_133_1_133_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_133_1_133_11&#39;)"><span class="hl_varref"><span class="mpre">ModuleName.toFilePath</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_341_1_341_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_341_1_341_11&#39;)"><span class="hl_varref"><span class="mpre">libModules</span></span></a><span class="mpre"> </span><a href="#loc_189_9_189_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_189_9_189_12&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
      </span><a href="#loc_230_5_230_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_5_230_8&#39;)"><span class="hl_varref"><span class="mpre">pre</span></span></a><span class="mpre"> </span><a href="#loc_190_9_190_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_9_190_13&#39;)"><span class="hl_varref"><span class="mpre">dirs</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17&#39;)"><span class="hl_varref"><span class="mpre">buildDir</span></span></a><span class="mpre"> </span><a href="#loc_188_29_188_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_29_188_32&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) (</span><a href="#loc_229_5_229_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_5_229_18&#39;)"><span class="hl_varref"><span class="mpre">localHandlers</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">bi</span></span><span class="mpre">)
  (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_186_18_186_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_186_18_186_22&#39;)"><span class="hl_conref"><span class="mpre">CExe</span></span></a><span class="mpre"> </span><a name="loc_194_9_194_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_9_194_12&#39;)"><span class="hl_specname"><span class="mpre">exe</span></span></a><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 194, srcSpanStartColumn = 13, srcSpanEndLine = 194, srcSpanEndColumn = 56}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 194, srcSpanStartColumn = 24, srcSpanEndLine = 194, srcSpanEndColumn = 25},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution"><span class="mpre">Executable { buildInfo = bi, exeName = nm }</span></span><span class="mpre">) -&gt; do
    let </span><a name="loc_195_9_195_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_9_195_15&#39;)"><span class="hl_vardecl"><span class="mpre">exeDir</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17&#39;)"><span class="hl_varref"><span class="mpre">buildDir</span></span></a><span class="mpre"> </span><a href="#loc_188_29_188_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_29_188_32&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">nm</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">nm</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;-tmp&quot;</span></span><span class="mpre">
        </span><a name="loc_196_9_196_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_9_196_13&#39;)"><span class="hl_vardecl"><span class="mpre">dirs</span></span></a><span class="mpre">   = </span><a href="Distribution.PackageDescription.html#loc_645_9_645_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_645_9_645_21&#39;)"><span class="hl_varref"><span class="mpre">hsSourceDirs</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">bi</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><a href="Distribution.Simple.BuildPaths.html#loc_94_1_94_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_94_1_94_18&#39;)"><span class="hl_varref"><span class="mpre">autogenModulesDir</span></span></a><span class="mpre"> </span><a href="#loc_188_29_188_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_29_188_32&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">]
    </span><a href="Distribution.Simple.Utils.html#loc_297_1_297_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_297_1_297_13&#39;)"><span class="hl_varref"><span class="mpre">setupMessage</span></span></a><span class="mpre"> </span><a href="#loc_188_43_188_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_43_188_52&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;Preprocessing executable &#39;&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">nm</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;&#39; for&quot;</span></span><span class="mpre">) (</span><a href="Distribution.Package.html#loc_184_3_184_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_184_3_184_12&#39;)"><span class="hl_varref"><span class="mpre">packageId</span></span></a><span class="mpre"> </span><a href="#loc_188_21_188_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_21_188_23&#39;)"><span class="hl_varref"><span class="mpre">pd</span></span></a><span class="mpre">)
    </span><a href="Control.Monad.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">forM_</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="Distribution.ModuleName.html#loc_133_1_133_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_133_1_133_11&#39;)"><span class="hl_varref"><span class="mpre">ModuleName.toFilePath</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_646_9_646_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_646_9_646_21&#39;)"><span class="hl_varref"><span class="mpre">otherModules</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">bi</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
      </span><a href="#loc_230_5_230_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_5_230_8&#39;)"><span class="hl_varref"><span class="mpre">pre</span></span></a><span class="mpre"> </span><a href="#loc_196_9_196_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_9_196_13&#39;)"><span class="hl_varref"><span class="mpre">dirs</span></span></a><span class="mpre"> </span><a href="#loc_195_9_195_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_9_195_15&#39;)"><span class="hl_varref"><span class="mpre">exeDir</span></span></a><span class="mpre"> (</span><a href="#loc_229_5_229_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_5_229_18&#39;)"><span class="hl_varref"><span class="mpre">localHandlers</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">bi</span></span><span class="mpre">)
    </span><a href="#loc_230_5_230_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_5_230_8&#39;)"><span class="hl_varref"><span class="mpre">pre</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_645_9_645_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_645_9_645_21&#39;)"><span class="hl_varref"><span class="mpre">hsSourceDirs</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">bi</span></span><span class="mpre">) </span><a href="#loc_195_9_195_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_9_195_15&#39;)"><span class="hl_varref"><span class="mpre">exeDir</span></span></a><span class="mpre"> (</span><a href="#loc_229_5_229_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_5_229_18&#39;)"><span class="hl_varref"><span class="mpre">localHandlers</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">bi</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
      </span><span class="hl_varref"><span class="mpre">dropExtensions</span></span><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_349_9_349_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_349_9_349_19&#39;)"><span class="hl_varref"><span class="mpre">modulePath</span></span></a><span class="mpre"> </span><a href="#loc_194_9_194_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_9_194_12&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre">)
  </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_187_18_187_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_187_18_187_23&#39;)"><span class="hl_conref"><span class="mpre">CTest</span></span></a><span class="mpre"> </span><a name="loc_202_9_202_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_9_202_13&#39;)"><span class="hl_specname"><span class="mpre">test</span></span></a><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 202, srcSpanStartColumn = 14, srcSpanEndLine = 202, srcSpanEndColumn = 40}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 202, srcSpanStartColumn = 23, srcSpanEndLine = 202, srcSpanEndColumn = 24},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution"><span class="mpre">TestSuite{ testName = nm }</span></span><span class="mpre"> -&gt; do
    </span><a href="Distribution.Simple.Utils.html#loc_297_1_297_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_297_1_297_13&#39;)"><span class="hl_varref"><span class="mpre">setupMessage</span></span></a><span class="mpre"> </span><a href="#loc_188_43_188_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_43_188_52&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;Preprocessing test suite &#39;&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">nm</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;&#39; for&quot;</span></span><span class="mpre">) (</span><a href="Distribution.Package.html#loc_184_3_184_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_184_3_184_12&#39;)"><span class="hl_varref"><span class="mpre">packageId</span></span></a><span class="mpre"> </span><a href="#loc_188_21_188_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_21_188_23&#39;)"><span class="hl_varref"><span class="mpre">pd</span></span></a><span class="mpre">)
    case </span><a href="Distribution.PackageDescription.html#loc_397_9_397_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_397_9_397_22&#39;)"><span class="hl_varref"><span class="mpre">testInterface</span></span></a><span class="mpre"> </span><a href="#loc_202_9_202_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_9_202_13&#39;)"><span class="hl_varref"><span class="mpre">test</span></span></a><span class="mpre"> of
      </span><a href="Distribution.PackageDescription.html#loc_421_6_421_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_421_6_421_21&#39;)"><span class="hl_conref"><span class="mpre">TestSuiteExeV10</span></span></a><span class="mpre"> _ </span><a name="loc_205_25_205_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_205_25_205_26&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> -&gt;
          </span><a href="#loc_232_5_232_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_5_232_19&#39;)"><span class="hl_varref"><span class="mpre">preProcessTest</span></span></a><span class="mpre"> </span><a href="#loc_202_9_202_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_9_202_13&#39;)"><span class="hl_varref"><span class="mpre">test</span></span></a><span class="mpre"> </span><a href="#loc_205_25_205_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_205_25_205_26&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17&#39;)"><span class="hl_varref"><span class="mpre">buildDir</span></span></a><span class="mpre"> </span><a href="#loc_188_29_188_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_29_188_32&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_396_9_396_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_396_9_396_17&#39;)"><span class="hl_varref"><span class="mpre">testName</span></span></a><span class="mpre"> </span><a href="#loc_202_9_202_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_9_202_13&#39;)"><span class="hl_varref"><span class="mpre">test</span></span></a><span class="mpre">
              </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_396_9_396_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_396_9_396_17&#39;)"><span class="hl_varref"><span class="mpre">testName</span></span></a><span class="mpre"> </span><a href="#loc_202_9_202_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_9_202_13&#39;)"><span class="hl_varref"><span class="mpre">test</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;-tmp&quot;</span></span><span class="mpre">
      </span><a href="Distribution.PackageDescription.html#loc_426_6_426_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_426_6_426_21&#39;)"><span class="hl_conref"><span class="mpre">TestSuiteLibV09</span></span></a><span class="mpre"> _ _ -&gt; do
          let </span><a name="loc_209_15_209_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_15_209_22&#39;)"><span class="hl_vardecl"><span class="mpre">testDir</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17&#39;)"><span class="hl_varref"><span class="mpre">buildDir</span></span></a><span class="mpre"> </span><a href="#loc_188_29_188_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_29_188_32&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="Distribution.Simple.Test.html#loc_472_1_472_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Test.html#loc_472_1_472_9&#39;)"><span class="hl_varref"><span class="mpre">stubName</span></span></a><span class="mpre"> </span><a href="#loc_202_9_202_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_9_202_13&#39;)"><span class="hl_varref"><span class="mpre">test</span></span></a><span class="mpre">
                  </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="Distribution.Simple.Test.html#loc_472_1_472_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Test.html#loc_472_1_472_9&#39;)"><span class="hl_varref"><span class="mpre">stubName</span></span></a><span class="mpre"> </span><a href="#loc_202_9_202_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_9_202_13&#39;)"><span class="hl_varref"><span class="mpre">test</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;-tmp&quot;</span></span><span class="mpre">
          </span><a href="Distribution.Simple.Test.html#loc_480_1_480_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Test.html#loc_480_1_480_20&#39;)"><span class="hl_varref"><span class="mpre">writeSimpleTestStub</span></span></a><span class="mpre"> </span><a href="#loc_202_9_202_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_9_202_13&#39;)"><span class="hl_varref"><span class="mpre">test</span></span></a><span class="mpre"> </span><a href="#loc_209_15_209_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_15_209_22&#39;)"><span class="hl_varref"><span class="mpre">testDir</span></span></a><span class="mpre">
          </span><a href="#loc_232_5_232_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_5_232_19&#39;)"><span class="hl_varref"><span class="mpre">preProcessTest</span></span></a><span class="mpre"> </span><a href="#loc_202_9_202_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_9_202_13&#39;)"><span class="hl_varref"><span class="mpre">test</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.Test.html#loc_468_1_468_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Test.html#loc_468_1_468_13&#39;)"><span class="hl_varref"><span class="mpre">stubFilePath</span></span></a><span class="mpre"> </span><a href="#loc_202_9_202_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_9_202_13&#39;)"><span class="hl_varref"><span class="mpre">test</span></span></a><span class="mpre">) </span><a href="#loc_209_15_209_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_15_209_22&#39;)"><span class="hl_varref"><span class="mpre">testDir</span></span></a><span class="mpre">
      </span><a href="Distribution.PackageDescription.html#loc_431_6_431_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_431_6_431_26&#39;)"><span class="hl_conref"><span class="mpre">TestSuiteUnsupported</span></span></a><span class="mpre"> </span><a name="loc_213_28_213_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_28_213_30&#39;)"><span class="hl_vardecl"><span class="mpre">tt</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;No support for preprocessing test &quot;</span></span><span class="mpre">
                                    </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;suite type &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><a href="#loc_213_28_213_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_28_213_30&#39;)"><span class="hl_varref"><span class="mpre">tt</span></span></a><span class="mpre">
  </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_188_18_188_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_188_18_188_24&#39;)"><span class="hl_conref"><span class="mpre">CBench</span></span></a><span class="mpre"> </span><a name="loc_215_10_215_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_10_215_12&#39;)"><span class="hl_specname"><span class="mpre">bm</span></span></a><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 215, srcSpanStartColumn = 13, srcSpanEndLine = 215, srcSpanEndColumn = 44}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 215, srcSpanStartColumn = 22, srcSpanEndLine = 215, srcSpanEndColumn = 23},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution"><span class="mpre">Benchmark{ benchmarkName = nm }</span></span><span class="mpre"> -&gt; do
    </span><a href="Distribution.Simple.Utils.html#loc_297_1_297_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_297_1_297_13&#39;)"><span class="hl_varref"><span class="mpre">setupMessage</span></span></a><span class="mpre"> </span><a href="#loc_188_43_188_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_43_188_52&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;Preprocessing benchmark &#39;&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">nm</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;&#39; for&quot;</span></span><span class="mpre">) (</span><a href="Distribution.Package.html#loc_184_3_184_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_184_3_184_12&#39;)"><span class="hl_varref"><span class="mpre">packageId</span></span></a><span class="mpre"> </span><a href="#loc_188_21_188_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_21_188_23&#39;)"><span class="hl_varref"><span class="mpre">pd</span></span></a><span class="mpre">)
    case </span><a href="Distribution.PackageDescription.html#loc_532_9_532_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_532_9_532_27&#39;)"><span class="hl_varref"><span class="mpre">benchmarkInterface</span></span></a><span class="mpre"> </span><a href="#loc_215_10_215_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_10_215_12&#39;)"><span class="hl_varref"><span class="mpre">bm</span></span></a><span class="mpre"> of
      </span><a href="Distribution.PackageDescription.html#loc_553_6_553_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_553_6_553_21&#39;)"><span class="hl_conref"><span class="mpre">BenchmarkExeV10</span></span></a><span class="mpre"> _ </span><a name="loc_218_25_218_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_25_218_26&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> -&gt;
          </span><a href="#loc_234_5_234_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_5_234_20&#39;)"><span class="hl_varref"><span class="mpre">preProcessBench</span></span></a><span class="mpre"> </span><a href="#loc_215_10_215_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_10_215_12&#39;)"><span class="hl_varref"><span class="mpre">bm</span></span></a><span class="mpre"> </span><a href="#loc_218_25_218_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_25_218_26&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17&#39;)"><span class="hl_varref"><span class="mpre">buildDir</span></span></a><span class="mpre"> </span><a href="#loc_188_29_188_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_29_188_32&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_531_9_531_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_531_9_531_22&#39;)"><span class="hl_varref"><span class="mpre">benchmarkName</span></span></a><span class="mpre"> </span><a href="#loc_215_10_215_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_10_215_12&#39;)"><span class="hl_varref"><span class="mpre">bm</span></span></a><span class="mpre">
              </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_531_9_531_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_531_9_531_22&#39;)"><span class="hl_varref"><span class="mpre">benchmarkName</span></span></a><span class="mpre"> </span><a href="#loc_215_10_215_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_10_215_12&#39;)"><span class="hl_varref"><span class="mpre">bm</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;-tmp&quot;</span></span><span class="mpre">
      </span><a href="Distribution.PackageDescription.html#loc_558_6_558_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_558_6_558_26&#39;)"><span class="hl_conref"><span class="mpre">BenchmarkUnsupported</span></span></a><span class="mpre"> </span><a name="loc_221_28_221_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_28_221_30&#39;)"><span class="hl_vardecl"><span class="mpre">tt</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;No support for preprocessing benchmark &quot;</span></span><span class="mpre">
                                 </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;type &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><a href="#loc_221_28_221_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_28_221_30&#39;)"><span class="hl_varref"><span class="mpre">tt</span></span></a><span class="mpre">
  where
    </span><a name="loc_224_5_224_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_224_5_224_27&#39;)"><span class="hl_vardecl"><span class="mpre">builtinHaskellSuffixes</span></span></a><span class="mpre">
      | </span><a href="Distribution.Compiler.html#loc_81_29_81_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_29_81_32&#39;)"><span class="hl_conref"><span class="mpre">NHC</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="Distribution.Simple.Compiler.html#loc_96_1_96_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_96_1_96_15&#39;)"><span class="hl_varref"><span class="mpre">compilerFlavor</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> </span><a href="#loc_188_29_188_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_29_188_32&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) = [</span><span class="hl_string"><span class="mpre">&quot;hs&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;lhs&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;gc&quot;</span></span><span class="mpre">]
      | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">                            = [</span><span class="hl_string"><span class="mpre">&quot;hs&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;lhs&quot;</span></span><span class="mpre">]
    </span><a name="loc_227_5_227_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_5_227_21&#39;)"><span class="hl_vardecl"><span class="mpre">builtinCSuffixes</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.CCompiler.html#loc_80_1_80_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.CCompiler.html#loc_80_1_80_18&#39;)"><span class="hl_varref"><span class="mpre">cSourceExtensions</span></span></a><span class="mpre">
    </span><a name="loc_228_5_228_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_5_228_20&#39;)"><span class="hl_vardecl"><span class="mpre">builtinSuffixes</span></span></a><span class="mpre"> = </span><a href="#loc_224_5_224_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_224_5_224_27&#39;)"><span class="hl_varref"><span class="mpre">builtinHaskellSuffixes</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_227_5_227_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_5_227_21&#39;)"><span class="hl_varref"><span class="mpre">builtinCSuffixes</span></span></a><span class="mpre">
    </span><a name="loc_229_5_229_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_5_229_18&#39;)"><span class="hl_fundecl"><span class="mpre">localHandlers</span></span></a><span class="mpre"> </span><a name="loc_229_19_229_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_19_229_21&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre"> = [(</span><a href="#loc_229_44_229_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_44_229_47&#39;)"><span class="hl_varref"><span class="mpre">ext</span></span></a><span class="mpre">, </span><a href="#loc_229_49_229_50" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_49_229_50&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><a href="#loc_229_19_229_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_19_229_21&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a href="#loc_188_29_188_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_29_188_32&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) | (</span><a name="loc_229_44_229_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_44_229_47&#39;)"><span class="hl_vardecl"><span class="mpre">ext</span></span></a><span class="mpre">, </span><a name="loc_229_49_229_50" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_49_229_50&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_188_53_188_61" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_53_188_61&#39;)"><span class="hl_varref"><span class="mpre">handlers</span></span></a><span class="mpre">]
    </span><a name="loc_230_5_230_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_5_230_8&#39;)"><span class="hl_fundecl"><span class="mpre">pre</span></span></a><span class="mpre"> </span><a name="loc_230_9_230_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_9_230_13&#39;)"><span class="hl_vardecl"><span class="mpre">dirs</span></span></a><span class="mpre"> </span><a name="loc_230_14_230_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_14_230_17&#39;)"><span class="hl_vardecl"><span class="mpre">dir</span></span></a><span class="mpre"> </span><a name="loc_230_18_230_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_18_230_25&#39;)"><span class="hl_vardecl"><span class="mpre">lhndlrs</span></span></a><span class="mpre"> </span><a name="loc_230_26_230_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_26_230_28&#39;)"><span class="hl_vardecl"><span class="mpre">fp</span></span></a><span class="mpre"> =
      </span><a href="#loc_262_1_262_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_1_262_15&#39;)"><span class="hl_varref"><span class="mpre">preprocessFile</span></span></a><span class="mpre"> </span><a href="#loc_230_9_230_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_9_230_13&#39;)"><span class="hl_varref"><span class="mpre">dirs</span></span></a><span class="mpre"> </span><a href="#loc_230_14_230_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_14_230_17&#39;)"><span class="hl_varref"><span class="mpre">dir</span></span></a><span class="mpre"> </span><a href="#loc_188_33_188_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_33_188_42&#39;)"><span class="hl_varref"><span class="mpre">isSrcDist</span></span></a><span class="mpre"> </span><a href="#loc_230_26_230_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_26_230_28&#39;)"><span class="hl_varref"><span class="mpre">fp</span></span></a><span class="mpre"> </span><a href="#loc_188_43_188_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_43_188_52&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_228_5_228_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_5_228_20&#39;)"><span class="hl_varref"><span class="mpre">builtinSuffixes</span></span></a><span class="mpre"> </span><a href="#loc_230_18_230_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_18_230_25&#39;)"><span class="hl_varref"><span class="mpre">lhndlrs</span></span></a><span class="mpre">
    </span><a name="loc_232_5_232_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_5_232_19&#39;)"><span class="hl_fundecl"><span class="mpre">preProcessTest</span></span></a><span class="mpre"> </span><a name="loc_232_20_232_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_20_232_24&#39;)"><span class="hl_vardecl"><span class="mpre">test</span></span></a><span class="mpre"> = </span><a href="#loc_236_5_236_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_5_236_24&#39;)"><span class="hl_varref"><span class="mpre">preProcessComponent</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_398_9_398_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_398_9_398_22&#39;)"><span class="hl_varref"><span class="mpre">testBuildInfo</span></span></a><span class="mpre"> </span><a href="#loc_232_20_232_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_20_232_24&#39;)"><span class="hl_varref"><span class="mpre">test</span></span></a><span class="mpre">)
                          (</span><a href="Distribution.PackageDescription.html#loc_478_1_478_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_478_1_478_12&#39;)"><span class="hl_varref"><span class="mpre">testModules</span></span></a><span class="mpre"> </span><a href="#loc_232_20_232_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_20_232_24&#39;)"><span class="hl_varref"><span class="mpre">test</span></span></a><span class="mpre">)
    </span><a name="loc_234_5_234_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_5_234_20&#39;)"><span class="hl_fundecl"><span class="mpre">preProcessBench</span></span></a><span class="mpre"> </span><a name="loc_234_21_234_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_21_234_23&#39;)"><span class="hl_vardecl"><span class="mpre">bm</span></span></a><span class="mpre"> = </span><a href="#loc_236_5_236_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_5_236_24&#39;)"><span class="hl_varref"><span class="mpre">preProcessComponent</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_533_9_533_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_533_9_533_27&#39;)"><span class="hl_varref"><span class="mpre">benchmarkBuildInfo</span></span></a><span class="mpre"> </span><a href="#loc_234_21_234_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_21_234_23&#39;)"><span class="hl_varref"><span class="mpre">bm</span></span></a><span class="mpre">)
                         (</span><a href="Distribution.PackageDescription.html#loc_605_1_605_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_605_1_605_17&#39;)"><span class="hl_varref"><span class="mpre">benchmarkModules</span></span></a><span class="mpre"> </span><a href="#loc_234_21_234_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_21_234_23&#39;)"><span class="hl_varref"><span class="mpre">bm</span></span></a><span class="mpre">)
    </span><a name="loc_236_5_236_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_5_236_24&#39;)"><span class="hl_fundecl"><span class="mpre">preProcessComponent</span></span></a><span class="mpre"> </span><a name="loc_236_25_236_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_25_236_27&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a name="loc_236_28_236_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_28_236_35&#39;)"><span class="hl_vardecl"><span class="mpre">modules</span></span></a><span class="mpre"> </span><a name="loc_236_36_236_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_36_236_43&#39;)"><span class="hl_vardecl"><span class="mpre">exePath</span></span></a><span class="mpre"> </span><a name="loc_236_44_236_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_44_236_47&#39;)"><span class="hl_vardecl"><span class="mpre">dir</span></span></a><span class="mpre"> = do
        let </span><a name="loc_237_13_237_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_13_237_23&#39;)"><span class="hl_vardecl"><span class="mpre">biHandlers</span></span></a><span class="mpre"> = </span><a href="#loc_229_5_229_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_5_229_18&#39;)"><span class="hl_varref"><span class="mpre">localHandlers</span></span></a><span class="mpre"> </span><a href="#loc_236_25_236_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_25_236_27&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">
            </span><a name="loc_238_13_238_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_13_238_23&#39;)"><span class="hl_vardecl"><span class="mpre">sourceDirs</span></span></a><span class="mpre"> = </span><a href="Distribution.PackageDescription.html#loc_645_9_645_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_645_9_645_21&#39;)"><span class="hl_varref"><span class="mpre">hsSourceDirs</span></span></a><span class="mpre"> </span><a href="#loc_236_25_236_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_25_236_27&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [ </span><a href="Distribution.Simple.BuildPaths.html#loc_94_1_94_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_94_1_94_18&#39;)"><span class="hl_varref"><span class="mpre">autogenModulesDir</span></span></a><span class="mpre"> </span><a href="#loc_188_29_188_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_29_188_32&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> ]
        </span><a href="Control.Monad.html#loc_106_1_106_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_106_1_106_10&#39;)"><span class="hl_varref"><span class="mpre">sequence_</span></span></a><span class="mpre"> [ </span><a href="#loc_262_1_262_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_1_262_15&#39;)"><span class="hl_varref"><span class="mpre">preprocessFile</span></span></a><span class="mpre"> </span><a href="#loc_238_13_238_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_13_238_23&#39;)"><span class="hl_varref"><span class="mpre">sourceDirs</span></span></a><span class="mpre"> </span><a href="#loc_236_44_236_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_44_236_47&#39;)"><span class="hl_varref"><span class="mpre">dir</span></span></a><span class="mpre"> </span><a href="#loc_188_33_188_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_33_188_42&#39;)"><span class="hl_varref"><span class="mpre">isSrcDist</span></span></a><span class="mpre">
                (</span><a href="Distribution.ModuleName.html#loc_133_1_133_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_133_1_133_11&#39;)"><span class="hl_varref"><span class="mpre">ModuleName.toFilePath</span></span></a><span class="mpre"> </span><a href="#loc_242_19_242_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_19_242_23&#39;)"><span class="hl_varref"><span class="mpre">modu</span></span></a><span class="mpre">) </span><a href="#loc_188_43_188_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_43_188_52&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_228_5_228_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_5_228_20&#39;)"><span class="hl_varref"><span class="mpre">builtinSuffixes</span></span></a><span class="mpre">
                </span><a href="#loc_237_13_237_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_13_237_23&#39;)"><span class="hl_varref"><span class="mpre">biHandlers</span></span></a><span class="mpre">
                | </span><a name="loc_242_19_242_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_19_242_23&#39;)"><span class="hl_vardecl"><span class="mpre">modu</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_236_28_236_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_28_236_35&#39;)"><span class="hl_varref"><span class="mpre">modules</span></span></a><span class="mpre"> ]
        </span><a href="#loc_262_1_262_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_1_262_15&#39;)"><span class="hl_varref"><span class="mpre">preprocessFile</span></span></a><span class="mpre"> (</span><a href="#loc_236_44_236_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_44_236_47&#39;)"><span class="hl_varref"><span class="mpre">dir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_645_9_645_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_645_9_645_21&#39;)"><span class="hl_varref"><span class="mpre">hsSourceDirs</span></span></a><span class="mpre"> </span><a href="#loc_236_25_236_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_25_236_27&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">)) </span><a href="#loc_236_44_236_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_44_236_47&#39;)"><span class="hl_varref"><span class="mpre">dir</span></span></a><span class="mpre"> </span><a href="#loc_188_33_188_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_33_188_42&#39;)"><span class="hl_varref"><span class="mpre">isSrcDist</span></span></a><span class="mpre">
            (</span><span class="hl_varref"><span class="mpre">dropExtensions</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_236_36_236_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_36_236_43&#39;)"><span class="hl_varref"><span class="mpre">exePath</span></span></a><span class="mpre">) </span><a href="#loc_188_43_188_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_43_188_52&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
            </span><a href="#loc_228_5_228_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_5_228_20&#39;)"><span class="hl_varref"><span class="mpre">builtinSuffixes</span></span></a><span class="mpre"> </span><a href="#loc_237_13_237_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_13_237_23&#39;)"><span class="hl_varref"><span class="mpre">biHandlers</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">--TODO: try to list all the modules that could not be found</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--      not just the first one. It&#39;s annoying and slow due to the need</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--      to reconfigure after editing the .cabal file each time.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |Find the first extension of the file that exists, and preprocess it</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- if required.</span></span><span class="mpre">
</span><a href="#loc_262_1_262_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_1_262_15&#39;)"><span class="mpre">preprocessFile</span></a><span class="mpre">
    :: [</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">]               </span><span class="hl_comment"><span class="mpre">-- ^source directories</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">                 </span><span class="hl_comment"><span class="mpre">-- ^build directory</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">                     </span><span class="hl_comment"><span class="mpre">-- ^preprocess for sdist</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">                 </span><span class="hl_comment"><span class="mpre">-- ^module file name</span></span><span class="mpre">
    -&gt; </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">                </span><span class="hl_comment"><span class="mpre">-- ^verbosity</span></span><span class="mpre">
    -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]                 </span><span class="hl_comment"><span class="mpre">-- ^builtin suffixes</span></span><span class="mpre">
    -&gt; [(</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">, </span><a href="#loc_142_6_142_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_6_142_18&#39;)"><span class="hl_tyconref"><span class="mpre">PreProcessor</span></span></a><span class="mpre">)] </span><span class="hl_comment"><span class="mpre">-- ^possible preprocessors</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_262_1_262_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_1_262_15&#39;)"><span class="hl_fundecl"><span class="mpre">preprocessFile</span></span></a><span class="mpre"> </span><a name="loc_262_16_262_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_16_262_25&#39;)"><span class="hl_vardecl"><span class="mpre">searchLoc</span></span></a><span class="mpre"> </span><a name="loc_262_26_262_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_26_262_34&#39;)"><span class="hl_vardecl"><span class="mpre">buildLoc</span></span></a><span class="mpre"> </span><a name="loc_262_35_262_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_35_262_43&#39;)"><span class="hl_vardecl"><span class="mpre">forSDist</span></span></a><span class="mpre"> </span><a name="loc_262_44_262_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_44_262_52&#39;)"><span class="hl_vardecl"><span class="mpre">baseFile</span></span></a><span class="mpre"> </span><a name="loc_262_53_262_62" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_53_262_62&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_262_63_262_78" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_63_262_78&#39;)"><span class="hl_vardecl"><span class="mpre">builtinSuffixes</span></span></a><span class="mpre"> </span><a name="loc_262_79_262_87" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_79_262_87&#39;)"><span class="hl_vardecl"><span class="mpre">handlers</span></span></a><span class="mpre"> = do
    </span><span class="hl_comment"><span class="mpre">-- look for files in the various source dirs with this module name</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- and a file extension of a known preprocessor</span></span><span class="mpre">
    </span><a name="loc_265_5_265_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_265_5_265_14&#39;)"><span class="hl_vardecl"><span class="mpre">psrcFiles</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.Simple.Utils.html#loc_673_1_673_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_673_1_673_23&#39;)"><span class="hl_varref"><span class="mpre">findFileWithExtension&#39;</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fst</span></span><span class="mpre"> </span><a href="#loc_262_79_262_87" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_79_262_87&#39;)"><span class="hl_varref"><span class="mpre">handlers</span></span></a><span class="mpre">) </span><a href="#loc_262_16_262_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_16_262_25&#39;)"><span class="hl_varref"><span class="mpre">searchLoc</span></span></a><span class="mpre"> </span><a href="#loc_262_44_262_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_44_262_52&#39;)"><span class="hl_varref"><span class="mpre">baseFile</span></span></a><span class="mpre">
    case </span><a href="#loc_265_5_265_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_265_5_265_14&#39;)"><span class="hl_varref"><span class="mpre">psrcFiles</span></span></a><span class="mpre"> of
        </span><span class="hl_comment"><span class="mpre">-- no preprocessor file exists, look for an ordinary source file</span></span><span class="mpre">
        </span><span class="hl_comment"><span class="mpre">-- just to make sure one actually exists at all for this module.</span></span><span class="mpre">
        </span><span class="hl_comment"><span class="mpre">-- Note: by looking in the target/output build dir too, we allow</span></span><span class="mpre">
        </span><span class="hl_comment"><span class="mpre">-- source files to appear magically in the target build dir without</span></span><span class="mpre">
        </span><span class="hl_comment"><span class="mpre">-- any corresponding &quot;real&quot; source file. This lets custom Setup.hs</span></span><span class="mpre">
        </span><span class="hl_comment"><span class="mpre">-- files generate source modules directly into the build dir without</span></span><span class="mpre">
        </span><span class="hl_comment"><span class="mpre">-- the rest of the build system being aware of it (somewhat dodgy)</span></span><span class="mpre">
      </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; do
                 </span><a name="loc_275_18_275_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_18_275_27&#39;)"><span class="hl_vardecl"><span class="mpre">bsrcFiles</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.Simple.Utils.html#loc_660_1_660_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_660_1_660_22&#39;)"><span class="hl_varref"><span class="mpre">findFileWithExtension</span></span></a><span class="mpre"> </span><a href="#loc_262_63_262_78" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_63_262_78&#39;)"><span class="hl_varref"><span class="mpre">builtinSuffixes</span></span></a><span class="mpre"> (</span><a href="#loc_262_26_262_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_26_262_34&#39;)"><span class="hl_varref"><span class="mpre">buildLoc</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_262_16_262_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_16_262_25&#39;)"><span class="hl_varref"><span class="mpre">searchLoc</span></span></a><span class="mpre">) </span><a href="#loc_262_44_262_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_44_262_52&#39;)"><span class="hl_varref"><span class="mpre">baseFile</span></span></a><span class="mpre">
                 case </span><a href="#loc_275_18_275_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_18_275_27&#39;)"><span class="hl_varref"><span class="mpre">bsrcFiles</span></span></a><span class="mpre"> of
                  </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;can&#39;t find source for &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_262_44_262_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_44_262_52&#39;)"><span class="hl_varref"><span class="mpre">baseFile</span></span></a><span class="mpre">
                                </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; in &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Data.List.html#loc_443_1_443_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_443_1_443_12&#39;)"><span class="hl_varref"><span class="mpre">intercalate</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;, &quot;</span></span><span class="mpre"> </span><a href="#loc_262_16_262_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_16_262_25&#39;)"><span class="hl_varref"><span class="mpre">searchLoc</span></span></a><span class="mpre">
                  _       -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
        </span><span class="hl_comment"><span class="mpre">-- found a pre-processable file in one of the source dirs</span></span><span class="mpre">
      </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><a name="loc_281_13_281_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_13_281_20&#39;)"><span class="hl_vardecl"><span class="mpre">psrcLoc</span></span></a><span class="mpre">, </span><a name="loc_281_22_281_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_22_281_33&#39;)"><span class="hl_vardecl"><span class="mpre">psrcRelFile</span></span></a><span class="mpre">) -&gt; do
            let (</span><a name="loc_282_18_282_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_18_282_25&#39;)"><span class="hl_vardecl"><span class="mpre">srcStem</span></span></a><span class="mpre">, </span><a name="loc_282_27_282_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_27_282_30&#39;)"><span class="hl_vardecl"><span class="mpre">ext</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">splitExtension</span></span><span class="mpre"> </span><a href="#loc_281_22_281_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_22_281_33&#39;)"><span class="hl_varref"><span class="mpre">psrcRelFile</span></span></a><span class="mpre">
                </span><a name="loc_283_17_283_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_17_283_25&#39;)"><span class="hl_vardecl"><span class="mpre">psrcFile</span></span></a><span class="mpre"> = </span><a href="#loc_281_13_281_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_13_281_20&#39;)"><span class="hl_varref"><span class="mpre">psrcLoc</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_281_22_281_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_22_281_33&#39;)"><span class="hl_varref"><span class="mpre">psrcRelFile</span></span></a><span class="mpre">
                </span><a name="loc_284_17_284_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_17_284_19&#39;)"><span class="hl_vardecl"><span class="mpre">pp</span></span></a><span class="mpre"> = </span><a href="Data.Maybe.html#loc_98_1_98_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_98_1_98_10&#39;)"><span class="hl_varref"><span class="mpre">fromMaybe</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Internal error in preProcess module: Just expected&quot;</span></span><span class="mpre">)
                               (</span><span class="hl_varref"><span class="mpre">lookup</span></span><span class="mpre"> (</span><a href="#loc_312_5_312_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_5_312_16&#39;)"><span class="hl_varref"><span class="mpre">tailNotNull</span></span></a><span class="mpre"> </span><a href="#loc_282_27_282_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_27_282_30&#39;)"><span class="hl_varref"><span class="mpre">ext</span></span></a><span class="mpre">) </span><a href="#loc_262_79_262_87" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_79_262_87&#39;)"><span class="hl_varref"><span class="mpre">handlers</span></span></a><span class="mpre">)
            </span><span class="hl_comment"><span class="mpre">-- Preprocessing files for &#39;sdist&#39; is different from preprocessing</span></span><span class="mpre">
            </span><span class="hl_comment"><span class="mpre">-- for &#39;build&#39;.  When preprocessing for sdist we preprocess to</span></span><span class="mpre">
            </span><span class="hl_comment"><span class="mpre">-- avoid that the user has to have the preprocessors available.</span></span><span class="mpre">
            </span><span class="hl_comment"><span class="mpre">-- ATM, we don&#39;t have a way to specify which files are to be</span></span><span class="mpre">
            </span><span class="hl_comment"><span class="mpre">-- preprocessed and which not, so for sdist we only process</span></span><span class="mpre">
            </span><span class="hl_comment"><span class="mpre">-- platform independent files and put them into the &#39;buildLoc&#39;</span></span><span class="mpre">
            </span><span class="hl_comment"><span class="mpre">-- (which we assume is set to the temp. directory that will become</span></span><span class="mpre">
            </span><span class="hl_comment"><span class="mpre">-- the tarball).</span></span><span class="mpre">
            </span><span class="hl_comment"><span class="mpre">--TODO: eliminate sdist variant, just supply different handlers</span></span><span class="mpre">
            </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><a href="#loc_262_35_262_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_35_262_43&#39;)"><span class="hl_varref"><span class="mpre">forSDist</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">||</span></span><span class="mpre"> </span><a href="#loc_262_35_262_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_35_262_43&#39;)"><span class="hl_varref"><span class="mpre">forSDist</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_148_3_148_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_3_148_22&#39;)"><span class="hl_varref"><span class="mpre">platformIndependent</span></span></a><span class="mpre"> </span><a href="#loc_284_17_284_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_17_284_19&#39;)"><span class="hl_varref"><span class="mpre">pp</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
              </span><span class="hl_comment"><span class="mpre">-- look for existing pre-processed source file in the dest dir to</span></span><span class="mpre">
              </span><span class="hl_comment"><span class="mpre">-- see if we really have to re-run the preprocessor.</span></span><span class="mpre">
              </span><a name="loc_298_15_298_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_298_15_298_25&#39;)"><span class="hl_vardecl"><span class="mpre">ppsrcFiles</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.Simple.Utils.html#loc_660_1_660_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_660_1_660_22&#39;)"><span class="hl_varref"><span class="mpre">findFileWithExtension</span></span></a><span class="mpre"> </span><a href="#loc_262_63_262_78" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_63_262_78&#39;)"><span class="hl_varref"><span class="mpre">builtinSuffixes</span></span></a><span class="mpre"> [</span><a href="#loc_262_26_262_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_26_262_34&#39;)"><span class="hl_varref"><span class="mpre">buildLoc</span></span></a><span class="mpre">] </span><a href="#loc_262_44_262_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_44_262_52&#39;)"><span class="hl_varref"><span class="mpre">baseFile</span></span></a><span class="mpre">
              </span><a name="loc_299_15_299_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_15_299_21&#39;)"><span class="hl_vardecl"><span class="mpre">recomp</span></span></a><span class="mpre"> &lt;- case </span><a href="#loc_298_15_298_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_298_15_298_25&#39;)"><span class="hl_varref"><span class="mpre">ppsrcFiles</span></span></a><span class="mpre"> of
                          </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">
                          </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_301_32_301_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_32_301_41&#39;)"><span class="hl_vardecl"><span class="mpre">ppsrcFile</span></span></a><span class="mpre"> -&gt;
                              </span><a href="#loc_283_17_283_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_17_283_25&#39;)"><span class="hl_varref"><span class="mpre">psrcFile</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Utils.html#loc_805_1_805_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_805_1_805_15&#39;)"><span class="hl_infix"><span class="mpre">`moreRecentFile`</span></span></a><span class="mpre"> </span><a href="#loc_301_32_301_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_32_301_41&#39;)"><span class="hl_varref"><span class="mpre">ppsrcFile</span></span></a><span class="mpre">
              </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> </span><a href="#loc_299_15_299_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_15_299_21&#39;)"><span class="hl_varref"><span class="mpre">recomp</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
                let </span><a name="loc_304_21_304_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_21_304_28&#39;)"><span class="hl_vardecl"><span class="mpre">destDir</span></span></a><span class="mpre"> = </span><a href="#loc_262_26_262_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_26_262_34&#39;)"><span class="hl_varref"><span class="mpre">buildLoc</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_311_5_311_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_5_311_12&#39;)"><span class="hl_varref"><span class="mpre">dirName</span></span></a><span class="mpre"> </span><a href="#loc_282_18_282_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_18_282_25&#39;)"><span class="hl_varref"><span class="mpre">srcStem</span></span></a><span class="mpre">
                </span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="hl_varref"><span class="mpre">createDirectoryIfMissingVerbose</span></span></a><span class="mpre"> </span><a href="#loc_262_53_262_62" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_53_262_62&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> </span><a href="#loc_304_21_304_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_21_304_28&#39;)"><span class="hl_varref"><span class="mpre">destDir</span></span></a><span class="mpre">
                </span><a href="#loc_320_5_320_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_320_5_320_34&#39;)"><span class="hl_varref"><span class="mpre">runPreProcessorWithHsBootHack</span></span></a><span class="mpre"> </span><a href="#loc_284_17_284_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_17_284_19&#39;)"><span class="hl_varref"><span class="mpre">pp</span></span></a><span class="mpre">
                   (</span><a href="#loc_281_13_281_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_13_281_20&#39;)"><span class="hl_varref"><span class="mpre">psrcLoc</span></span></a><span class="mpre">, </span><a href="#loc_281_22_281_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_22_281_33&#39;)"><span class="hl_varref"><span class="mpre">psrcRelFile</span></span></a><span class="mpre">)
                   (</span><a href="#loc_262_26_262_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_26_262_34&#39;)"><span class="hl_varref"><span class="mpre">buildLoc</span></span></a><span class="mpre">, </span><a href="#loc_282_18_282_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_18_282_25&#39;)"><span class="hl_varref"><span class="mpre">srcStem</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;hs&quot;</span></span><span class="mpre">)

  where
    </span><a name="loc_311_5_311_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_5_311_12&#39;)"><span class="hl_vardecl"><span class="mpre">dirName</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">takeDirectory</span></span><span class="mpre">
    </span><a name="loc_312_5_312_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_5_312_16&#39;)"><span class="hl_fundecl"><span class="mpre">tailNotNull</span></span></a><span class="mpre"> [] = []
    </span><a href="#loc_312_5_312_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_5_312_16&#39;)"><span class="hl_fundecl"><span class="mpre">tailNotNull</span></span></a><span class="mpre"> </span><a name="loc_313_17_313_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_17_313_18&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">  = </span><span class="hl_varref"><span class="mpre">tail</span></span><span class="mpre"> </span><a href="#loc_313_17_313_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_17_313_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- FIXME: This is a somewhat nasty hack. GHC requires that hs-boot files</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- be in the same place as the hs files, so if we put the hs file in dist/</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- then we need to copy the hs-boot file there too. This should probably be</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- done another way. Possibly we should also be looking for .lhs-boot</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- files, but I think that preprocessors only produce .hs files.</span></span><span class="mpre">
    </span><a name="loc_320_5_320_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_320_5_320_34&#39;)"><span class="hl_fundecl"><span class="mpre">runPreProcessorWithHsBootHack</span></span></a><span class="mpre"> </span><a name="loc_320_35_320_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_320_35_320_37&#39;)"><span class="hl_vardecl"><span class="mpre">pp</span></span></a><span class="mpre">
      (</span><a name="loc_321_8_321_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_8_321_17&#39;)"><span class="hl_vardecl"><span class="mpre">inBaseDir</span></span></a><span class="mpre">,  </span><a name="loc_321_20_321_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_20_321_34&#39;)"><span class="hl_vardecl"><span class="mpre">inRelativeFile</span></span></a><span class="mpre">)
      (</span><a name="loc_322_8_322_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_8_322_18&#39;)"><span class="hl_vardecl"><span class="mpre">outBaseDir</span></span></a><span class="mpre">, </span><a name="loc_322_20_322_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_20_322_35&#39;)"><span class="hl_vardecl"><span class="mpre">outRelativeFile</span></span></a><span class="mpre">) = do
        </span><a href="#loc_154_3_154_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_3_154_18&#39;)"><span class="hl_varref"><span class="mpre">runPreProcessor</span></span></a><span class="mpre"> </span><a href="#loc_320_35_320_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_320_35_320_37&#39;)"><span class="hl_varref"><span class="mpre">pp</span></span></a><span class="mpre">
          (</span><a href="#loc_321_8_321_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_8_321_17&#39;)"><span class="hl_varref"><span class="mpre">inBaseDir</span></span></a><span class="mpre">, </span><a href="#loc_321_20_321_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_20_321_34&#39;)"><span class="hl_varref"><span class="mpre">inRelativeFile</span></span></a><span class="mpre">)
          (</span><a href="#loc_322_8_322_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_8_322_18&#39;)"><span class="hl_varref"><span class="mpre">outBaseDir</span></span></a><span class="mpre">, </span><a href="#loc_322_20_322_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_20_322_35&#39;)"><span class="hl_varref"><span class="mpre">outRelativeFile</span></span></a><span class="mpre">) </span><a href="#loc_262_53_262_62" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_53_262_62&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">

        </span><a name="loc_327_9_327_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_327_9_327_15&#39;)"><span class="hl_vardecl"><span class="mpre">exists</span></span></a><span class="mpre"> &lt;- </span><a href="System.Directory.html#loc_726_1_726_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_726_1_726_14&#39;)"><span class="hl_varref"><span class="mpre">doesFileExist</span></span></a><span class="mpre"> </span><a href="#loc_331_9_331_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_331_9_331_15&#39;)"><span class="hl_varref"><span class="mpre">inBoot</span></span></a><span class="mpre">
        </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> </span><a href="#loc_327_9_327_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_327_9_327_15&#39;)"><span class="hl_varref"><span class="mpre">exists</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Distribution.Simple.Utils.html#loc_868_1_868_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_868_1_868_16&#39;)"><span class="hl_varref"><span class="mpre">copyFileVerbose</span></span></a><span class="mpre"> </span><a href="#loc_262_53_262_62" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_53_262_62&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_331_9_331_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_331_9_331_15&#39;)"><span class="hl_varref"><span class="mpre">inBoot</span></span></a><span class="mpre"> </span><a href="#loc_332_9_332_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_332_9_332_16&#39;)"><span class="hl_varref"><span class="mpre">outBoot</span></span></a><span class="mpre">

      where
        </span><a name="loc_331_9_331_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_331_9_331_15&#39;)"><span class="hl_vardecl"><span class="mpre">inBoot</span></span></a><span class="mpre">  = </span><span class="hl_varref"><span class="mpre">replaceExtension</span></span><span class="mpre"> </span><a href="#loc_334_9_334_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_9_334_15&#39;)"><span class="hl_varref"><span class="mpre">inFile</span></span></a><span class="mpre">  </span><span class="hl_string"><span class="mpre">&quot;hs-boot&quot;</span></span><span class="mpre">
        </span><a name="loc_332_9_332_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_332_9_332_16&#39;)"><span class="hl_vardecl"><span class="mpre">outBoot</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">replaceExtension</span></span><span class="mpre"> </span><a href="#loc_335_9_335_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_9_335_16&#39;)"><span class="hl_varref"><span class="mpre">outFile</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;hs-boot&quot;</span></span><span class="mpre">

        </span><a name="loc_334_9_334_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_9_334_15&#39;)"><span class="hl_vardecl"><span class="mpre">inFile</span></span></a><span class="mpre">  = </span><span class="hl_varref"><span class="mpre">normalise</span></span><span class="mpre"> (</span><a href="#loc_321_8_321_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_8_321_17&#39;)"><span class="hl_varref"><span class="mpre">inBaseDir</span></span></a><span class="mpre">  </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_321_20_321_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_20_321_34&#39;)"><span class="hl_varref"><span class="mpre">inRelativeFile</span></span></a><span class="mpre">)
        </span><a name="loc_335_9_335_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_9_335_16&#39;)"><span class="hl_vardecl"><span class="mpre">outFile</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">normalise</span></span><span class="mpre"> (</span><a href="#loc_322_8_322_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_8_322_18&#39;)"><span class="hl_varref"><span class="mpre">outBaseDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_322_20_322_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_20_322_35&#39;)"><span class="hl_varref"><span class="mpre">outRelativeFile</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- ------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * known preprocessors</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- ------------------------------------------------------------</span></span><span class="mpre">

</span><a href="#loc_342_1_342_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_1_342_12&#39;)"><span class="mpre">ppGreenCard</span></a><span class="mpre"> :: </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_142_6_142_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_6_142_18&#39;)"><span class="hl_tyconref"><span class="mpre">PreProcessor</span></span></a><span class="mpre">
</span><a name="loc_342_1_342_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_1_342_12&#39;)"><span class="hl_fundecl"><span class="mpre">ppGreenCard</span></span></a><span class="mpre"> _ </span><span class="hl_vardecl"><span class="mpre">lbi</span></span><span class="mpre">
    = </span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 343, srcSpanStartColumn = 7, srcSpanEndLine = 348, srcSpanEndColumn = 8}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 343, srcSpanStartColumn = 20, srcSpanEndLine = 343, srcSpanEndColumn = 21},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribut"><span class="mpre">PreProcessor {
        platformIndependent = False,
        runPreProcessor = mkSimplePreProcessor $ \inFile outFile verbosity -&gt;
          rawSystemProgramConf verbosity greencardProgram (withPrograms lbi)
              ([&quot;-tffi&quot;, &quot;-o&quot; ++ outFile, inFile])
      }</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- This one is useful for preprocessors that can&#39;t handle literate source.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- We also need a way to chain preprocessors.</span></span><span class="mpre">
</span><a href="#loc_353_1_353_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_1_353_8&#39;)"><span class="mpre">ppUnlit</span></a><span class="mpre"> :: </span><a href="#loc_142_6_142_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_6_142_18&#39;)"><span class="hl_tyconref"><span class="mpre">PreProcessor</span></span></a><span class="mpre">
</span><a name="loc_353_1_353_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_1_353_8&#39;)"><span class="hl_vardecl"><span class="mpre">ppUnlit</span></span></a><span class="mpre"> =
  </span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 354, srcSpanStartColumn = 3, srcSpanEndLine = 359, srcSpanEndColumn = 4}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 354, srcSpanStartColumn = 16, srcSpanEndLine = 354, srcSpanEndColumn = 17},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribut"><span class="mpre">PreProcessor {
    platformIndependent = True,
    runPreProcessor = mkSimplePreProcessor $ \inFile outFile _verbosity -&gt;
      withUTF8FileContents inFile $ \contents -&gt;
        either (writeUTF8File outFile) die (unlit inFile contents)
  }</span></span><span class="mpre">

</span><a href="#loc_362_1_362_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_1_362_6&#39;)"><span class="mpre">ppCpp</span></a><span class="mpre"> :: </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_142_6_142_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_6_142_18&#39;)"><span class="hl_tyconref"><span class="mpre">PreProcessor</span></span></a><span class="mpre">
</span><a name="loc_362_1_362_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_1_362_6&#39;)"><span class="hl_vardecl"><span class="mpre">ppCpp</span></span></a><span class="mpre"> = </span><a href="#loc_365_1_365_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_1_365_7&#39;)"><span class="hl_varref"><span class="mpre">ppCpp&#39;</span></span></a><span class="mpre"> []

</span><a href="#loc_365_1_365_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_1_365_7&#39;)"><span class="mpre">ppCpp&#39;</span></a><span class="mpre"> :: [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">] -&gt; </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_142_6_142_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_6_142_18&#39;)"><span class="hl_tyconref"><span class="mpre">PreProcessor</span></span></a><span class="mpre">
</span><a name="loc_365_1_365_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_1_365_7&#39;)"><span class="hl_fundecl"><span class="mpre">ppCpp&#39;</span></span></a><span class="mpre"> </span><a name="loc_365_8_365_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_8_365_17&#39;)"><span class="hl_vardecl"><span class="mpre">extraArgs</span></span></a><span class="mpre"> </span><a name="loc_365_18_365_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_18_365_20&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a name="loc_365_21_365_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_21_365_24&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> =
  case </span><a href="Distribution.Simple.Compiler.html#loc_96_1_96_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_96_1_96_15&#39;)"><span class="hl_varref"><span class="mpre">compilerFlavor</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> </span><a href="#loc_365_21_365_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_21_365_24&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) of
    </span><a href="Distribution.Compiler.html#loc_81_23_81_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_23_81_26&#39;)"><span class="hl_conref"><span class="mpre">GHC</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_373_1_373_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_373_1_373_9&#39;)"><span class="hl_varref"><span class="mpre">ppGhcCpp</span></span></a><span class="mpre"> (</span><a href="#loc_370_9_370_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_9_370_16&#39;)"><span class="hl_varref"><span class="mpre">cppArgs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_365_8_365_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_8_365_17&#39;)"><span class="hl_varref"><span class="mpre">extraArgs</span></span></a><span class="mpre">) </span><a href="#loc_365_18_365_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_18_365_20&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a href="#loc_365_21_365_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_21_365_24&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
    _   -&gt; </span><a href="#loc_394_1_394_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_394_1_394_8&#39;)"><span class="hl_varref"><span class="mpre">ppCpphs</span></span></a><span class="mpre">  (</span><a href="#loc_370_9_370_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_9_370_16&#39;)"><span class="hl_varref"><span class="mpre">cppArgs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_365_8_365_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_8_365_17&#39;)"><span class="hl_varref"><span class="mpre">extraArgs</span></span></a><span class="mpre">) </span><a href="#loc_365_18_365_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_18_365_20&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a href="#loc_365_21_365_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_21_365_24&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">

  where </span><a name="loc_370_9_370_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_9_370_16&#39;)"><span class="hl_vardecl"><span class="mpre">cppArgs</span></span></a><span class="mpre"> = </span><a href="#loc_533_1_533_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_533_1_533_14&#39;)"><span class="hl_varref"><span class="mpre">getCppOptions</span></span></a><span class="mpre"> </span><a href="#loc_365_18_365_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_18_365_20&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a href="#loc_365_21_365_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_21_365_24&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">

</span><a href="#loc_373_1_373_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_373_1_373_9&#39;)"><span class="mpre">ppGhcCpp</span></a><span class="mpre"> :: [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">] -&gt; </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_142_6_142_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_6_142_18&#39;)"><span class="hl_tyconref"><span class="mpre">PreProcessor</span></span></a><span class="mpre">
</span><a name="loc_373_1_373_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_373_1_373_9&#39;)"><span class="hl_fundecl"><span class="mpre">ppGhcCpp</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">extraArgs</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_bi</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">lbi</span></span><span class="mpre"> =
  </span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 374, srcSpanStartColumn = 3, srcSpanEndLine = 391, srcSpanEndColumn = 4}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 374, srcSpanStartColumn = 16, srcSpanEndLine = 374, srcSpanEndColumn = 17},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribut"><span class="mpre">PreProcessor {
    platformIndependent = False,
    runPreProcessor = mkSimplePreProcessor $ \inFile outFile verbosity -&gt; do
      (ghcProg, ghcVersion, _) &lt;- requireProgramVersion verbosity
                                    ghcProgram anyVersion (withPrograms lbi)
      rawSystemProgram verbosity ghcProg $
          [&quot;-E&quot;, &quot;-cpp&quot;]
          </span><span class="hl_comment"><span class="mpre">-- This is a bit of an ugly hack. We&#39;re going to</span></span><span class="mpre">
          </span><span class="hl_comment"><span class="mpre">-- unlit the file ourselves later on if appropriate,</span></span><span class="mpre">
          </span><span class="hl_comment"><span class="mpre">-- so we need GHC not to unlit it now or it&#39;ll get</span></span><span class="mpre">
          </span><span class="hl_comment"><span class="mpre">-- double-unlitted. In the future we might switch to</span></span><span class="mpre">
          </span><span class="hl_comment"><span class="mpre">-- using cpphs --unlit instead.</span></span><span class="mpre">
       ++ (if ghcVersion &gt;= Version [6,6] [] then [&quot;-x&quot;, &quot;hs&quot;] else [])
       ++ (if use_optP_P lbi then [&quot;-optP-P&quot;] else [])
       ++ [ &quot;-optP-include&quot;, &quot;-optP&quot;++ (autogenModulesDir lbi &lt;/&gt; cppHeaderName) ]
       ++ [&quot;-o&quot;, outFile, inFile]
       ++ extraArgs
  }</span></span><span class="mpre">

</span><a href="#loc_394_1_394_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_394_1_394_8&#39;)"><span class="mpre">ppCpphs</span></a><span class="mpre"> :: [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">] -&gt; </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_142_6_142_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_6_142_18&#39;)"><span class="hl_tyconref"><span class="mpre">PreProcessor</span></span></a><span class="mpre">
</span><a name="loc_394_1_394_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_394_1_394_8&#39;)"><span class="hl_fundecl"><span class="mpre">ppCpphs</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">extraArgs</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_bi</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">lbi</span></span><span class="mpre"> =
  </span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 395, srcSpanStartColumn = 3, srcSpanEndLine = 407, srcSpanEndColumn = 4}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 395, srcSpanStartColumn = 16, srcSpanEndLine = 395, srcSpanEndColumn = 17},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribut"><span class="mpre">PreProcessor {
    platformIndependent = False,
    runPreProcessor = mkSimplePreProcessor $ \inFile outFile verbosity -&gt; do
      (cpphsProg, cpphsVersion, _) &lt;- requireProgramVersion verbosity
                                        cpphsProgram anyVersion (withPrograms lbi)
      rawSystemProgram verbosity cpphsProg $
          (&quot;-O&quot; ++ outFile) : inFile
        : &quot;--noline&quot; : &quot;--strip&quot;
        : (if cpphsVersion &gt;= Version [1,6] []
             then [&quot;--include=&quot;++ (autogenModulesDir lbi &lt;/&gt; cppHeaderName)]
             else [])
        ++ extraArgs
  }</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- Haddock versions before 0.8 choke on #line and #file pragmas.  Those</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- pragmas are necessary for correct links when we preprocess.  So use</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- -optP-P only if the Haddock version is prior to 0.8.</span></span><span class="mpre">
</span><a href="#loc_413_1_413_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_413_1_413_11&#39;)"><span class="mpre">use_optP_P</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_413_1_413_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_413_1_413_11&#39;)"><span class="hl_fundecl"><span class="mpre">use_optP_P</span></span></a><span class="mpre"> </span><a name="loc_413_12_413_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_413_12_413_15&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre">
 = case </span><a href="Distribution.Simple.Program.Db.html#loc_261_1_261_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_261_1_261_14&#39;)"><span class="hl_varref"><span class="mpre">lookupProgram</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_247_1_247_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_247_1_247_15&#39;)"><span class="hl_varref"><span class="mpre">haddockProgram</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21&#39;)"><span class="hl_varref"><span class="mpre">withPrograms</span></span></a><span class="mpre"> </span><a href="#loc_413_12_413_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_413_12_413_15&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) of
     </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 415, srcSpanStartColumn = 12, srcSpanEndLine = 415, srcSpanEndColumn = 63}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 415, srcSpanStartColumn = 30, srcSpanEndLine = 415, srcSpanEndColumn = 31},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution"><span class="mpre">ConfiguredProgram { programVersion = Just version }</span></span><span class="mpre">)
       | </span><span class="hl_varref"><span class="mpre">version</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Version</span></span><span class="mpre"> [</span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">,</span><span class="hl_num"><span class="mpre">8</span></span><span class="mpre">] [] -&gt; </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
     _                               -&gt; </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">

</span><a href="#loc_420_1_420_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_420_1_420_9&#39;)"><span class="mpre">ppHsc2hs</span></a><span class="mpre"> :: </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_142_6_142_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_6_142_18&#39;)"><span class="hl_tyconref"><span class="mpre">PreProcessor</span></span></a><span class="mpre">
</span><a name="loc_420_1_420_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_420_1_420_9&#39;)"><span class="hl_fundecl"><span class="mpre">ppHsc2hs</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">bi</span></span><span class="mpre"> </span><a name="loc_420_13_420_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_420_13_420_16&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> =
  </span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 421, srcSpanStartColumn = 3, srcSpanEndLine = 477, srcSpanEndColumn = 4}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 421, srcSpanStartColumn = 16, srcSpanEndLine = 421, srcSpanEndColumn = 17},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribut"><span class="mpre">PreProcessor {
    platformIndependent = False,
    runPreProcessor = mkSimplePreProcessor $ \inFile outFile verbosity -&gt; do
      (gccProg, _) &lt;- requireProgram verbosity gccProgram (withPrograms lbi)
      rawSystemProgramConf verbosity hsc2hsProgram (withPrograms lbi) $
          [ &quot;--cc=&quot; ++ programPath gccProg
          , &quot;--ld=&quot; ++ programPath gccProg ]

          </span><span class="hl_comment"><span class="mpre">-- Additional gcc options</span></span><span class="mpre">
       ++ [ &quot;--cflag=&quot; ++ opt | opt &lt;- programDefaultArgs  gccProg
                                    ++ programOverrideArgs gccProg ]
       ++ [ &quot;--lflag=&quot; ++ opt | opt &lt;- programDefaultArgs  gccProg
                                    ++ programOverrideArgs gccProg ]

          </span><span class="hl_comment"><span class="mpre">-- OSX frameworks:</span></span><span class="mpre">
       ++ [ what ++ &quot;=-F&quot; ++ opt
          | isOSX
          , opt &lt;- nub (concatMap Installed.frameworkDirs pkgs)
          , what &lt;- [&quot;--cflag&quot;, &quot;--lflag&quot;] ]
       ++ [ &quot;--lflag=&quot; ++ arg
          | isOSX
          , opt &lt;- PD.frameworks bi ++ concatMap Installed.frameworks pkgs
          , arg &lt;- [&quot;-framework&quot;, opt] ]

          </span><span class="hl_comment"><span class="mpre">-- Note that on ELF systems, wherever we use -L, we must also use -R</span></span><span class="mpre">
          </span><span class="hl_comment"><span class="mpre">-- because presumably that -L dir is not on the normal path for the</span></span><span class="mpre">
          </span><span class="hl_comment"><span class="mpre">-- system&#39;s dynamic linker. This is needed because hsc2hs works by</span></span><span class="mpre">
          </span><span class="hl_comment"><span class="mpre">-- compiling a C program and then running it.</span></span><span class="mpre">

       ++ [ &quot;--cflag=&quot;   ++ opt | opt &lt;- platformDefines lbi ]

          </span><span class="hl_comment"><span class="mpre">-- Options from the current package:</span></span><span class="mpre">
       ++ [ &quot;--cflag=-I&quot; ++ dir | dir &lt;- PD.includeDirs  bi ]
       ++ [ &quot;--cflag=&quot;   ++ opt | opt &lt;- PD.ccOptions    bi
                                      ++ PD.cppOptions   bi ]
       ++ [ &quot;--lflag=-L&quot; ++ opt | opt &lt;- PD.extraLibDirs bi ]
       ++ [ &quot;--lflag=-Wl,-R,&quot; ++ opt | isELF
                                , opt &lt;- PD.extraLibDirs bi ]
       ++ [ &quot;--lflag=-l&quot; ++ opt | opt &lt;- PD.extraLibs    bi ]
       ++ [ &quot;--lflag=&quot;   ++ opt | opt &lt;- PD.ldOptions    bi ]

          </span><span class="hl_comment"><span class="mpre">-- Options from dependent packages</span></span><span class="mpre">
       ++ [ &quot;--cflag=&quot; ++ opt
          | pkg &lt;- pkgs
          , opt &lt;- [ &quot;-I&quot; ++ opt | opt &lt;- Installed.includeDirs pkg ]
                ++ [         opt | opt &lt;- Installed.ccOptions   pkg ]
                ++ [ &quot;-I&quot; ++ autogenModulesDir lbi,
                     &quot;-include&quot;, autogenModulesDir lbi &lt;/&gt; cppHeaderName ] ]
       ++ [ &quot;--lflag=&quot; ++ opt
          | pkg &lt;- pkgs
          , opt &lt;- [ &quot;-L&quot; ++ opt | opt &lt;- Installed.libraryDirs    pkg ]
                ++ [ &quot;-Wl,-R,&quot; ++ opt | isELF
                                 , opt &lt;- Installed.libraryDirs    pkg ]
                ++ [ &quot;-l&quot; ++ opt | opt &lt;- Installed.extraLibraries pkg ]
                ++ [         opt | opt &lt;- Installed.ldOptions      pkg ] ]
       ++ [&quot;-o&quot;, outFile, inFile]
  }</span></span><span class="mpre">
  where
    </span><span class="hl_vardecl"><span class="mpre">pkgs</span></span><span class="mpre"> = </span><a href="Distribution.Simple.PackageIndex.html#loc_491_1_491_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PackageIndex.html#loc_491_1_491_17&#39;)"><span class="hl_varref"><span class="mpre">PackageIndex.topologicalOrder</span></span></a><span class="mpre"> (</span><a href="#loc_482_5_482_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_5_482_17&#39;)"><span class="hl_varref"><span class="mpre">packageHacks</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_139_9_139_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_139_9_139_22&#39;)"><span class="hl_varref"><span class="mpre">installedPkgs</span></span></a><span class="mpre"> </span><a href="#loc_420_13_420_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_420_13_420_16&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">))
    </span><span class="hl_vardecl"><span class="mpre">isOSX</span></span><span class="mpre"> = case </span><a href="Distribution.System.html#loc_112_1_112_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_112_1_112_8&#39;)"><span class="hl_varref"><span class="mpre">buildOS</span></span></a><span class="mpre"> of </span><a href="Distribution.System.html#loc_66_29_66_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_66_29_66_32&#39;)"><span class="hl_conref"><span class="mpre">OSX</span></span></a><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">; _ -&gt; </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
    </span><span class="hl_vardecl"><span class="mpre">isELF</span></span><span class="mpre"> = case </span><a href="Distribution.System.html#loc_112_1_112_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_112_1_112_8&#39;)"><span class="hl_varref"><span class="mpre">buildOS</span></span></a><span class="mpre"> of </span><a href="Distribution.System.html#loc_66_29_66_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_66_29_66_32&#39;)"><span class="hl_conref"><span class="mpre">OSX</span></span></a><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">; </span><a href="Distribution.System.html#loc_66_19_66_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_66_19_66_26&#39;)"><span class="hl_conref"><span class="mpre">Windows</span></span></a><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">; _ -&gt; </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">;
    </span><a name="loc_482_5_482_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_5_482_17&#39;)"><span class="hl_vardecl"><span class="mpre">packageHacks</span></span></a><span class="mpre"> = case </span><a href="Distribution.Simple.Compiler.html#loc_96_1_96_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_96_1_96_15&#39;)"><span class="hl_varref"><span class="mpre">compilerFlavor</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> </span><a href="#loc_420_13_420_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_420_13_420_16&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) of
      </span><a href="Distribution.Compiler.html#loc_81_23_81_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_23_81_26&#39;)"><span class="hl_conref"><span class="mpre">GHC</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_489_5_489_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_489_5_489_19&#39;)"><span class="hl_varref"><span class="mpre">hackRtsPackage</span></span></a><span class="mpre">
      _   -&gt; </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- We don&#39;t link in the actual Haskell libraries of our dependencies, so</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- the -u flags in the ldOptions of the rts package mean linking fails on</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- OS X (it&#39;s ld is a tad stricter than gnu ld). Thus we remove the</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- ldOptions for GHC&#39;s rts package:</span></span><span class="mpre">
    </span><a name="loc_489_5_489_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_489_5_489_19&#39;)"><span class="hl_fundecl"><span class="mpre">hackRtsPackage</span></span></a><span class="mpre"> </span><a name="loc_489_20_489_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_489_20_489_25&#39;)"><span class="hl_vardecl"><span class="mpre">index</span></span></a><span class="mpre"> =
      case </span><a href="Distribution.Simple.PackageIndex.html#loc_349_1_349_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PackageIndex.html#loc_349_1_349_18&#39;)"><span class="hl_varref"><span class="mpre">PackageIndex.lookupPackageName</span></span></a><span class="mpre"> </span><a href="#loc_489_20_489_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_489_20_489_25&#39;)"><span class="hl_varref"><span class="mpre">index</span></span></a><span class="mpre"> (</span><a href="Distribution.Package.html#loc_80_23_80_34" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_80_23_80_34&#39;)"><span class="hl_conref"><span class="mpre">PackageName</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;rts&quot;</span></span><span class="mpre">) of
        [(_, [</span><span class="hl_vardecl"><span class="mpre">rts</span></span><span class="mpre">])]
           -&gt; </span><a href="Distribution.Simple.PackageIndex.html#loc_208_1_208_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PackageIndex.html#loc_208_1_208_7&#39;)"><span class="hl_varref"><span class="mpre">PackageIndex.insert</span></span></a><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 492, srcSpanStartColumn = 35, srcSpanEndLine = 492, srcSpanEndColumn = 67}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 492, srcSpanStartColumn = 39, srcSpanEndLine = 492, srcSpanEndColumn = 40},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distrib"><span class="mpre">rts { Installed.ldOptions = [] }</span></span><span class="mpre"> </span><a href="#loc_489_20_489_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_489_20_489_25&#39;)"><span class="hl_varref"><span class="mpre">index</span></span></a><span class="mpre">
        _  -&gt; </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;No (or multiple) ghc rts package is registered!!&quot;</span></span><span class="mpre">


</span><a href="#loc_497_1_497_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_1_497_7&#39;)"><span class="mpre">ppC2hs</span></a><span class="mpre"> :: </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_142_6_142_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_6_142_18&#39;)"><span class="hl_tyconref"><span class="mpre">PreProcessor</span></span></a><span class="mpre">
</span><a name="loc_497_1_497_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_1_497_7&#39;)"><span class="hl_fundecl"><span class="mpre">ppC2hs</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">bi</span></span><span class="mpre"> </span><a name="loc_497_11_497_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_11_497_14&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> =
  </span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 498, srcSpanStartColumn = 3, srcSpanEndLine = 526, srcSpanEndColumn = 4}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 498, srcSpanStartColumn = 16, srcSpanEndLine = 498, srcSpanEndColumn = 17},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribut"><span class="mpre">PreProcessor {
    platformIndependent = False,
    runPreProcessor = \(inBaseDir, inRelativeFile)
                       (outBaseDir, outRelativeFile) verbosity -&gt; do
      (c2hsProg, _, _) &lt;- requireProgramVersion verbosity
                            c2hsProgram (orLaterVersion (Version [0,15] []))
                            (withPrograms lbi)
      (gccProg, _) &lt;- requireProgram verbosity gccProgram (withPrograms lbi)
      rawSystemProgram verbosity c2hsProg $

          </span><span class="hl_comment"><span class="mpre">-- Options from the current package:</span></span><span class="mpre">
           [ &quot;--cpp=&quot; ++ programPath gccProg, &quot;--cppopts=-E&quot; ]
        ++ [ &quot;--cppopts=&quot; ++ opt | opt &lt;- getCppOptions bi lbi ]
        ++ [ &quot;--include=&quot; ++ outBaseDir ]

          </span><span class="hl_comment"><span class="mpre">-- Options from dependent packages</span></span><span class="mpre">
       ++ [ &quot;--cppopts=&quot; ++ opt
          | pkg &lt;- pkgs
          , opt &lt;- [ &quot;-I&quot; ++ opt | opt &lt;- Installed.includeDirs pkg ]
                ++ [         opt | opt@(&#39;-&#39;:c:_) &lt;- Installed.ccOptions pkg
                                 , c `elem` &quot;DIU&quot; ] ]
          </span><span class="hl_comment"><span class="mpre">--TODO: install .chi files for packages, so we can --include</span></span><span class="mpre">
          </span><span class="hl_comment"><span class="mpre">-- those dirs here, for the dependencies</span></span><span class="mpre">

           </span><span class="hl_comment"><span class="mpre">-- input and output files</span></span><span class="mpre">
        ++ [ &quot;--output-dir=&quot; ++ outBaseDir
           , &quot;--output=&quot; ++ outRelativeFile
           , inBaseDir &lt;/&gt; inRelativeFile ]
  }</span></span><span class="mpre">
  where
    </span><span class="hl_vardecl"><span class="mpre">pkgs</span></span><span class="mpre"> = </span><a href="Distribution.Simple.PackageIndex.html#loc_491_1_491_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PackageIndex.html#loc_491_1_491_17&#39;)"><span class="hl_varref"><span class="mpre">PackageIndex.topologicalOrder</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_139_9_139_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_139_9_139_22&#39;)"><span class="hl_varref"><span class="mpre">installedPkgs</span></span></a><span class="mpre"> </span><a href="#loc_497_11_497_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_11_497_14&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">--TODO: perhaps use this with hsc2hs too</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--TODO: remove cc-options from cpphs for cabal-version: &gt;= 1.10</span></span><span class="mpre">
</span><a href="#loc_533_1_533_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_533_1_533_14&#39;)"><span class="mpre">getCppOptions</span></a><span class="mpre"> :: </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_533_1_533_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_533_1_533_14&#39;)"><span class="hl_fundecl"><span class="mpre">getCppOptions</span></span></a><span class="mpre"> </span><a name="loc_533_15_533_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_533_15_533_17&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a name="loc_533_18_533_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_533_18_533_21&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre">
    = </span><a href="#loc_540_1_540_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_540_1_540_16&#39;)"><span class="hl_varref"><span class="mpre">platformDefines</span></span></a><span class="mpre"> </span><a href="#loc_533_18_533_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_533_18_533_21&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
   </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_639_9_639_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_639_9_639_19&#39;)"><span class="hl_varref"><span class="mpre">cppOptions</span></span></a><span class="mpre"> </span><a href="#loc_533_15_533_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_533_15_533_17&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">
   </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-I&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_536_22_536_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_536_22_536_25&#39;)"><span class="hl_varref"><span class="mpre">dir</span></span></a><span class="mpre"> | </span><a name="loc_536_22_536_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_536_22_536_25&#39;)"><span class="hl_vardecl"><span class="mpre">dir</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_656_9_656_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_656_9_656_20&#39;)"><span class="hl_varref"><span class="mpre">PD.includeDirs</span></span></a><span class="mpre"> </span><a href="#loc_533_15_533_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_533_15_533_17&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">]
   </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><a href="#loc_537_14_537_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_537_14_537_17&#39;)"><span class="hl_varref"><span class="mpre">opt</span></span></a><span class="mpre"> | </span><a name="loc_537_14_537_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_537_14_537_17&#39;)"><span class="hl_specname"><span class="mpre">opt</span></span></a><span class="mpre">@(</span><span class="hl_char"><span class="mpre">&#39;-&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_537_23_537_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_537_23_537_24&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">_) &lt;- </span><a href="Distribution.PackageDescription.html#loc_640_9_640_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_640_9_640_18&#39;)"><span class="hl_varref"><span class="mpre">PD.ccOptions</span></span></a><span class="mpre"> </span><a href="#loc_533_15_533_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_533_15_533_17&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">, </span><a href="#loc_537_23_537_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_537_23_537_24&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`elem`</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;DIU&quot;</span></span><span class="mpre">]

</span><a href="#loc_540_1_540_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_540_1_540_16&#39;)"><span class="mpre">platformDefines</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_540_1_540_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_540_1_540_16&#39;)"><span class="hl_fundecl"><span class="mpre">platformDefines</span></span></a><span class="mpre"> </span><a name="loc_540_17_540_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_540_17_540_20&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> =
  case </span><a href="Distribution.Simple.Compiler.html#loc_96_1_96_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_96_1_96_15&#39;)"><span class="hl_varref"><span class="mpre">compilerFlavor</span></span></a><span class="mpre"> </span><a href="#loc_584_5_584_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_584_5_584_9&#39;)"><span class="hl_varref"><span class="mpre">comp</span></span></a><span class="mpre"> of
    </span><a href="Distribution.Compiler.html#loc_81_23_81_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_23_81_26&#39;)"><span class="hl_conref"><span class="mpre">GHC</span></span></a><span class="mpre">  -&gt;
        let </span><a name="loc_543_13_543_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_543_13_543_18&#39;)"><span class="hl_vardecl"><span class="mpre">ghcOS</span></span></a><span class="mpre"> = case </span><a href="#loc_585_23_585_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_585_23_585_29&#39;)"><span class="hl_varref"><span class="mpre">hostOS</span></span></a><span class="mpre"> of
                    </span><a href="Distribution.System.html#loc_66_11_66_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_66_11_66_16&#39;)"><span class="hl_conref"><span class="mpre">Linux</span></span></a><span class="mpre">     -&gt; [</span><span class="hl_string"><span class="mpre">&quot;linux&quot;</span></span><span class="mpre">]
                    </span><a href="Distribution.System.html#loc_66_19_66_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_66_19_66_26&#39;)"><span class="hl_conref"><span class="mpre">Windows</span></span></a><span class="mpre">   -&gt; [</span><span class="hl_string"><span class="mpre">&quot;mingw32&quot;</span></span><span class="mpre">]
                    </span><a href="Distribution.System.html#loc_66_29_66_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_66_29_66_32&#39;)"><span class="hl_conref"><span class="mpre">OSX</span></span></a><span class="mpre">       -&gt; [</span><span class="hl_string"><span class="mpre">&quot;darwin&quot;</span></span><span class="mpre">]
                    </span><a href="Distribution.System.html#loc_67_11_67_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_67_11_67_18&#39;)"><span class="hl_conref"><span class="mpre">FreeBSD</span></span></a><span class="mpre">   -&gt; [</span><span class="hl_string"><span class="mpre">&quot;freebsd&quot;</span></span><span class="mpre">]
                    </span><a href="Distribution.System.html#loc_67_21_67_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_67_21_67_28&#39;)"><span class="hl_conref"><span class="mpre">OpenBSD</span></span></a><span class="mpre">   -&gt; [</span><span class="hl_string"><span class="mpre">&quot;openbsd&quot;</span></span><span class="mpre">]
                    </span><a href="Distribution.System.html#loc_67_31_67_37" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_67_31_67_37&#39;)"><span class="hl_conref"><span class="mpre">NetBSD</span></span></a><span class="mpre">    -&gt; [</span><span class="hl_string"><span class="mpre">&quot;netbsd&quot;</span></span><span class="mpre">]
                    </span><a href="Distribution.System.html#loc_68_11_68_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_68_11_68_18&#39;)"><span class="hl_conref"><span class="mpre">Solaris</span></span></a><span class="mpre">   -&gt; [</span><span class="hl_string"><span class="mpre">&quot;solaris2&quot;</span></span><span class="mpre">]
                    </span><a href="Distribution.System.html#loc_68_21_68_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_68_21_68_24&#39;)"><span class="hl_conref"><span class="mpre">AIX</span></span></a><span class="mpre">       -&gt; [</span><span class="hl_string"><span class="mpre">&quot;aix&quot;</span></span><span class="mpre">]
                    </span><a href="Distribution.System.html#loc_68_27_68_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_68_27_68_31&#39;)"><span class="hl_conref"><span class="mpre">HPUX</span></span></a><span class="mpre">      -&gt; [</span><span class="hl_string"><span class="mpre">&quot;hpux&quot;</span></span><span class="mpre">]
                    </span><a href="Distribution.System.html#loc_68_34_68_38" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_68_34_68_38&#39;)"><span class="hl_conref"><span class="mpre">IRIX</span></span></a><span class="mpre">      -&gt; [</span><span class="hl_string"><span class="mpre">&quot;irix&quot;</span></span><span class="mpre">]
                    </span><a href="Distribution.System.html#loc_69_11_69_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_69_11_69_16&#39;)"><span class="hl_conref"><span class="mpre">HaLVM</span></span></a><span class="mpre">     -&gt; []
                    </span><a href="Distribution.System.html#loc_70_11_70_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_70_11_70_14&#39;)"><span class="hl_conref"><span class="mpre">IOS</span></span></a><span class="mpre">       -&gt; [</span><span class="hl_string"><span class="mpre">&quot;ios&quot;</span></span><span class="mpre">]
                    </span><a href="Distribution.System.html#loc_71_11_71_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_71_11_71_18&#39;)"><span class="hl_conref"><span class="mpre">OtherOS</span></span></a><span class="mpre"> _ -&gt; []
            </span><a name="loc_557_13_557_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_557_13_557_20&#39;)"><span class="hl_vardecl"><span class="mpre">ghcArch</span></span></a><span class="mpre"> = case </span><a href="#loc_585_14_585_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_585_14_585_22&#39;)"><span class="hl_varref"><span class="mpre">hostArch</span></span></a><span class="mpre"> of
                      </span><a href="Distribution.System.html#loc_118_13_118_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_118_13_118_17&#39;)"><span class="hl_conref"><span class="mpre">I386</span></span></a><span class="mpre">        -&gt; [</span><span class="hl_string"><span class="mpre">&quot;i386&quot;</span></span><span class="mpre">]
                      </span><a href="Distribution.System.html#loc_118_21_118_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_118_21_118_27&#39;)"><span class="hl_conref"><span class="mpre">X86_64</span></span></a><span class="mpre">      -&gt; [</span><span class="hl_string"><span class="mpre">&quot;x86_64&quot;</span></span><span class="mpre">]
                      </span><a href="Distribution.System.html#loc_118_30_118_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_118_30_118_33&#39;)"><span class="hl_conref"><span class="mpre">PPC</span></span></a><span class="mpre">         -&gt; [</span><span class="hl_string"><span class="mpre">&quot;powerpc&quot;</span></span><span class="mpre">]
                      </span><a href="Distribution.System.html#loc_118_36_118_41" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_118_36_118_41&#39;)"><span class="hl_conref"><span class="mpre">PPC64</span></span></a><span class="mpre">       -&gt; [</span><span class="hl_string"><span class="mpre">&quot;powerpc64&quot;</span></span><span class="mpre">]
                      </span><a href="Distribution.System.html#loc_118_44_118_49" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_118_44_118_49&#39;)"><span class="hl_conref"><span class="mpre">Sparc</span></span></a><span class="mpre">       -&gt; [</span><span class="hl_string"><span class="mpre">&quot;sparc&quot;</span></span><span class="mpre">]
                      </span><a href="Distribution.System.html#loc_119_13_119_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_119_13_119_16&#39;)"><span class="hl_conref"><span class="mpre">Arm</span></span></a><span class="mpre">         -&gt; [</span><span class="hl_string"><span class="mpre">&quot;arm&quot;</span></span><span class="mpre">]
                      </span><a href="Distribution.System.html#loc_119_21_119_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_119_21_119_25&#39;)"><span class="hl_conref"><span class="mpre">Mips</span></span></a><span class="mpre">        -&gt; [</span><span class="hl_string"><span class="mpre">&quot;mips&quot;</span></span><span class="mpre">]
                      </span><a href="Distribution.System.html#loc_119_30_119_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_119_30_119_32&#39;)"><span class="hl_conref"><span class="mpre">SH</span></span></a><span class="mpre">          -&gt; []
                      </span><a href="Distribution.System.html#loc_120_13_120_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_120_13_120_17&#39;)"><span class="hl_conref"><span class="mpre">IA64</span></span></a><span class="mpre">        -&gt; [</span><span class="hl_string"><span class="mpre">&quot;ia64&quot;</span></span><span class="mpre">]
                      </span><a href="Distribution.System.html#loc_120_21_120_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_120_21_120_25&#39;)"><span class="hl_conref"><span class="mpre">S390</span></span></a><span class="mpre">        -&gt; [</span><span class="hl_string"><span class="mpre">&quot;s390&quot;</span></span><span class="mpre">]
                      </span><a href="Distribution.System.html#loc_121_13_121_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_121_13_121_18&#39;)"><span class="hl_conref"><span class="mpre">Alpha</span></span></a><span class="mpre">       -&gt; [</span><span class="hl_string"><span class="mpre">&quot;alpha&quot;</span></span><span class="mpre">]
                      </span><a href="Distribution.System.html#loc_121_21_121_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_121_21_121_25&#39;)"><span class="hl_conref"><span class="mpre">Hppa</span></span></a><span class="mpre">        -&gt; [</span><span class="hl_string"><span class="mpre">&quot;hppa&quot;</span></span><span class="mpre">]
                      </span><a href="Distribution.System.html#loc_121_30_121_36" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_121_30_121_36&#39;)"><span class="hl_conref"><span class="mpre">Rs6000</span></span></a><span class="mpre">      -&gt; [</span><span class="hl_string"><span class="mpre">&quot;rs6000&quot;</span></span><span class="mpre">]
                      </span><a href="Distribution.System.html#loc_122_13_122_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_122_13_122_17&#39;)"><span class="hl_conref"><span class="mpre">M68k</span></span></a><span class="mpre">        -&gt; [</span><span class="hl_string"><span class="mpre">&quot;m68k&quot;</span></span><span class="mpre">]
                      </span><a href="Distribution.System.html#loc_122_21_122_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_122_21_122_24&#39;)"><span class="hl_conref"><span class="mpre">Vax</span></span></a><span class="mpre">         -&gt; [</span><span class="hl_string"><span class="mpre">&quot;vax&quot;</span></span><span class="mpre">]
                      </span><a href="Distribution.System.html#loc_123_13_123_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_123_13_123_22&#39;)"><span class="hl_conref"><span class="mpre">OtherArch</span></span></a><span class="mpre"> _ -&gt; []
        in [</span><span class="hl_string"><span class="mpre">&quot;-D__GLASGOW_HASKELL__=&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_591_5_591_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_591_5_591_15&#39;)"><span class="hl_varref"><span class="mpre">versionInt</span></span></a><span class="mpre"> </span><a href="#loc_586_5_586_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_586_5_586_12&#39;)"><span class="hl_varref"><span class="mpre">version</span></span></a><span class="mpre">] </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre">
           [</span><span class="hl_string"><span class="mpre">&quot;-D&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="System.Info.html#loc_40_1_40_3" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Info.html#loc_40_1_40_3&#39;)"><span class="hl_varref"><span class="mpre">os</span></span></a><span class="mpre">   </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;_BUILD_OS=1&quot;</span></span><span class="mpre">] </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre">
           [</span><span class="hl_string"><span class="mpre">&quot;-D&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="System.Info.html#loc_44_1_44_5" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Info.html#loc_44_1_44_5&#39;)"><span class="hl_varref"><span class="mpre">arch</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;_BUILD_ARCH=1&quot;</span></span><span class="mpre">] </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre">
           </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (\</span><a name="loc_577_18_577_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_577_18_577_21&#39;)"><span class="hl_vardecl"><span class="mpre">os&#39;</span></span></a><span class="mpre">   -&gt; </span><span class="hl_string"><span class="mpre">&quot;-D&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_577_18_577_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_577_18_577_21&#39;)"><span class="hl_varref"><span class="mpre">os&#39;</span></span></a><span class="mpre">   </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;_HOST_OS=1&quot;</span></span><span class="mpre">)   </span><a href="#loc_543_13_543_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_543_13_543_18&#39;)"><span class="hl_varref"><span class="mpre">ghcOS</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre">
           </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (\</span><a name="loc_578_18_578_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_578_18_578_23&#39;)"><span class="hl_vardecl"><span class="mpre">arch&#39;</span></span></a><span class="mpre"> -&gt; </span><span class="hl_string"><span class="mpre">&quot;-D&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_578_18_578_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_578_18_578_23&#39;)"><span class="hl_varref"><span class="mpre">arch&#39;</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;_HOST_ARCH=1&quot;</span></span><span class="mpre">) </span><a href="#loc_557_13_557_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_557_13_557_20&#39;)"><span class="hl_varref"><span class="mpre">ghcArch</span></span></a><span class="mpre">
    </span><a href="Distribution.Compiler.html#loc_81_63_81_66" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_63_81_66&#39;)"><span class="hl_conref"><span class="mpre">JHC</span></span></a><span class="mpre">  -&gt; [</span><span class="hl_string"><span class="mpre">&quot;-D__JHC__=&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_591_5_591_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_591_5_591_15&#39;)"><span class="hl_varref"><span class="mpre">versionInt</span></span></a><span class="mpre"> </span><a href="#loc_586_5_586_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_586_5_586_12&#39;)"><span class="hl_varref"><span class="mpre">version</span></span></a><span class="mpre">]
    </span><a href="Distribution.Compiler.html#loc_81_29_81_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_29_81_32&#39;)"><span class="hl_conref"><span class="mpre">NHC</span></span></a><span class="mpre">  -&gt; [</span><span class="hl_string"><span class="mpre">&quot;-D__NHC__=&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_591_5_591_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_591_5_591_15&#39;)"><span class="hl_varref"><span class="mpre">versionInt</span></span></a><span class="mpre"> </span><a href="#loc_586_5_586_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_586_5_586_12&#39;)"><span class="hl_varref"><span class="mpre">version</span></span></a><span class="mpre">]
    </span><a href="Distribution.Compiler.html#loc_81_41_81_45" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_41_81_45&#39;)"><span class="hl_conref"><span class="mpre">Hugs</span></span></a><span class="mpre"> -&gt; [</span><span class="hl_string"><span class="mpre">&quot;-D__HUGS__&quot;</span></span><span class="mpre">]
    _    -&gt; []
  where
    </span><a name="loc_584_5_584_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_584_5_584_9&#39;)"><span class="hl_vardecl"><span class="mpre">comp</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> </span><a href="#loc_540_17_540_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_540_17_540_20&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
    </span><a href="Distribution.System.html#loc_164_17_164_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_164_17_164_25&#39;)"><span class="hl_conref"><span class="mpre">Platform</span></span></a><span class="mpre"> </span><a name="loc_585_14_585_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_585_14_585_22&#39;)"><span class="hl_vardecl"><span class="mpre">hostArch</span></span></a><span class="mpre"> </span><a name="loc_585_23_585_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_585_23_585_29&#39;)"><span class="hl_vardecl"><span class="mpre">hostOS</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_129_9_129_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_129_9_129_21&#39;)"><span class="hl_varref"><span class="mpre">hostPlatform</span></span></a><span class="mpre"> </span><a href="#loc_540_17_540_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_540_17_540_20&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
    </span><a name="loc_586_5_586_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_586_5_586_12&#39;)"><span class="hl_vardecl"><span class="mpre">version</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Compiler.html#loc_99_1_99_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_99_1_99_16&#39;)"><span class="hl_varref"><span class="mpre">compilerVersion</span></span></a><span class="mpre"> </span><a href="#loc_584_5_584_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_584_5_584_9&#39;)"><span class="hl_varref"><span class="mpre">comp</span></span></a><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- TODO: move this into the compiler abstraction</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- FIXME: this forces GHC&#39;s crazy 4.8.2 -&gt; 408 convention on all</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- the other compilers. Check if that&#39;s really what they want.</span></span><span class="mpre">
    </span><a href="#loc_591_5_591_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_591_5_591_15&#39;)"><span class="mpre">versionInt</span></a><span class="mpre"> :: </span><a href="Data.Version.html#loc_68_6_68_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Version.html#loc_68_6_68_13&#39;)"><span class="hl_tyconref"><span class="mpre">Version</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
    </span><a name="loc_591_5_591_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_591_5_591_15&#39;)"><span class="hl_fundecl"><span class="mpre">versionInt</span></span></a><span class="mpre"> (</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 591, srcSpanStartColumn = 17, srcSpanEndLine = 591, srcSpanEndColumn = 47}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 591, srcSpanStartColumn = 25, srcSpanEndLine = 591, srcSpanEndColumn = 26},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution"><span class="mpre">Version { versionBranch = [] }</span></span><span class="mpre">) = </span><span class="hl_string"><span class="mpre">&quot;1&quot;</span></span><span class="mpre">
    </span><a href="#loc_591_5_591_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_591_5_591_15&#39;)"><span class="hl_fundecl"><span class="mpre">versionInt</span></span></a><span class="mpre"> (</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 592, srcSpanStartColumn = 17, srcSpanEndLine = 592, srcSpanEndColumn = 48}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 592, srcSpanStartColumn = 25, srcSpanEndLine = 592, srcSpanEndColumn = 26},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution"><span class="mpre">Version { versionBranch = [n] }</span></span><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">n</span></span><span class="mpre">
    </span><a href="#loc_591_5_591_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_591_5_591_15&#39;)"><span class="hl_fundecl"><span class="mpre">versionInt</span></span></a><span class="mpre"> (</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 593, srcSpanStartColumn = 17, srcSpanEndLine = 593, srcSpanEndColumn = 52}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 593, srcSpanStartColumn = 25, srcSpanEndLine = 593, srcSpanEndColumn = 26},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution"><span class="mpre">Version { versionBranch = n1:n2:_ }</span></span><span class="mpre">)
      = </span><span class="hl_comment"><span class="mpre">-- 6.8.x -&gt; 608</span></span><span class="mpre">
        </span><span class="hl_comment"><span class="mpre">-- 6.10.x -&gt; 610</span></span><span class="mpre">
        let </span><a name="loc_596_13_596_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_596_13_596_15&#39;)"><span class="hl_vardecl"><span class="mpre">s1</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">n1</span></span><span class="mpre">
            </span><a name="loc_597_13_597_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_597_13_597_15&#39;)"><span class="hl_vardecl"><span class="mpre">s2</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">n2</span></span><span class="mpre">
            </span><a name="loc_598_13_598_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_598_13_598_19&#39;)"><span class="hl_vardecl"><span class="mpre">middle</span></span></a><span class="mpre"> = case </span><a href="#loc_597_13_597_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_597_13_597_15&#39;)"><span class="hl_varref"><span class="mpre">s2</span></span></a><span class="mpre"> of
                     _ </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> _ </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> _ -&gt; </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">
                     _         -&gt; </span><span class="hl_string"><span class="mpre">&quot;0&quot;</span></span><span class="mpre">
        in </span><a href="#loc_596_13_596_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_596_13_596_15&#39;)"><span class="hl_varref"><span class="mpre">s1</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_598_13_598_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_598_13_598_19&#39;)"><span class="hl_varref"><span class="mpre">middle</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_597_13_597_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_597_13_597_15&#39;)"><span class="hl_varref"><span class="mpre">s2</span></span></a><span class="mpre">

</span><a href="#loc_604_1_604_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_604_1_604_8&#39;)"><span class="mpre">ppHappy</span></a><span class="mpre"> :: </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_142_6_142_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_6_142_18&#39;)"><span class="hl_tyconref"><span class="mpre">PreProcessor</span></span></a><span class="mpre">
</span><a name="loc_604_1_604_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_604_1_604_8&#39;)"><span class="hl_fundecl"><span class="mpre">ppHappy</span></span></a><span class="mpre"> _ </span><a name="loc_604_11_604_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_604_11_604_14&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 604, srcSpanStartColumn = 17, srcSpanEndLine = 604, srcSpanEndColumn = 50}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 604, srcSpanStartColumn = 20, srcSpanEndLine = 604, srcSpanEndColumn = 21},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distrib"><span class="mpre">pp { platformIndependent = True }</span></span><span class="mpre">
  where </span><span class="hl_vardecl"><span class="mpre">pp</span></span><span class="mpre"> = </span><a href="#loc_618_1_618_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_618_1_618_11&#39;)"><span class="hl_varref"><span class="mpre">standardPP</span></span></a><span class="mpre"> </span><a href="#loc_604_11_604_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_604_11_604_14&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_179_1_179_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_179_1_179_13&#39;)"><span class="hl_varref"><span class="mpre">happyProgram</span></span></a><span class="mpre"> (</span><a href="#loc_607_9_607_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_607_9_607_16&#39;)"><span class="hl_varref"><span class="mpre">hcFlags</span></span></a><span class="mpre"> </span><a href="#loc_606_9_606_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_9_606_11&#39;)"><span class="hl_varref"><span class="mpre">hc</span></span></a><span class="mpre">)
        </span><a name="loc_606_9_606_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_9_606_11&#39;)"><span class="hl_vardecl"><span class="mpre">hc</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Compiler.html#loc_96_1_96_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_96_1_96_15&#39;)"><span class="hl_varref"><span class="mpre">compilerFlavor</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> </span><a href="#loc_604_11_604_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_604_11_604_14&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)
        </span><a name="loc_607_9_607_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_607_9_607_16&#39;)"><span class="hl_fundecl"><span class="mpre">hcFlags</span></span></a><span class="mpre"> </span><a href="Distribution.Compiler.html#loc_81_23_81_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_23_81_26&#39;)"><span class="hl_conref"><span class="mpre">GHC</span></span></a><span class="mpre"> = [</span><span class="hl_string"><span class="mpre">&quot;-agc&quot;</span></span><span class="mpre">]
        </span><a href="#loc_607_9_607_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_607_9_607_16&#39;)"><span class="hl_fundecl"><span class="mpre">hcFlags</span></span></a><span class="mpre"> _ = []

</span><a href="#loc_611_1_611_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_611_1_611_7&#39;)"><span class="mpre">ppAlex</span></a><span class="mpre"> :: </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_142_6_142_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_6_142_18&#39;)"><span class="hl_tyconref"><span class="mpre">PreProcessor</span></span></a><span class="mpre">
</span><a name="loc_611_1_611_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_611_1_611_7&#39;)"><span class="hl_fundecl"><span class="mpre">ppAlex</span></span></a><span class="mpre"> _ </span><a name="loc_611_10_611_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_611_10_611_13&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 611, srcSpanStartColumn = 16, srcSpanEndLine = 611, srcSpanEndColumn = 49}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 611, srcSpanStartColumn = 19, srcSpanEndLine = 611, srcSpanEndColumn = 20},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distrib"><span class="mpre">pp { platformIndependent = True }</span></span><span class="mpre">
  where </span><span class="hl_vardecl"><span class="mpre">pp</span></span><span class="mpre"> = </span><a href="#loc_618_1_618_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_618_1_618_11&#39;)"><span class="hl_varref"><span class="mpre">standardPP</span></span></a><span class="mpre"> </span><a href="#loc_611_10_611_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_611_10_611_13&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_189_1_189_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_189_1_189_12&#39;)"><span class="hl_varref"><span class="mpre">alexProgram</span></span></a><span class="mpre"> (</span><a href="#loc_614_9_614_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_614_9_614_16&#39;)"><span class="hl_varref"><span class="mpre">hcFlags</span></span></a><span class="mpre"> </span><a href="#loc_613_9_613_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_613_9_613_11&#39;)"><span class="hl_varref"><span class="mpre">hc</span></span></a><span class="mpre">)
        </span><a name="loc_613_9_613_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_613_9_613_11&#39;)"><span class="hl_vardecl"><span class="mpre">hc</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Compiler.html#loc_96_1_96_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_96_1_96_15&#39;)"><span class="hl_varref"><span class="mpre">compilerFlavor</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> </span><a href="#loc_611_10_611_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_611_10_611_13&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)
        </span><a name="loc_614_9_614_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_614_9_614_16&#39;)"><span class="hl_fundecl"><span class="mpre">hcFlags</span></span></a><span class="mpre"> </span><a href="Distribution.Compiler.html#loc_81_23_81_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_23_81_26&#39;)"><span class="hl_conref"><span class="mpre">GHC</span></span></a><span class="mpre"> = [</span><span class="hl_string"><span class="mpre">&quot;-g&quot;</span></span><span class="mpre">]
        </span><a href="#loc_614_9_614_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_614_9_614_16&#39;)"><span class="hl_fundecl"><span class="mpre">hcFlags</span></span></a><span class="mpre"> _ = []

</span><a href="#loc_618_1_618_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_618_1_618_11&#39;)"><span class="mpre">standardPP</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Program</span></span></a><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">] -&gt; </span><a href="#loc_142_6_142_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_6_142_18&#39;)"><span class="hl_tyconref"><span class="mpre">PreProcessor</span></span></a><span class="mpre">
</span><a name="loc_618_1_618_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_618_1_618_11&#39;)"><span class="hl_fundecl"><span class="mpre">standardPP</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">lbi</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">prog</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">args</span></span><span class="mpre"> =
  </span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 619, srcSpanStartColumn = 3, srcSpanEndLine = 624, srcSpanEndColumn = 4}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/PreProcess.hs&quot;, srcSpanStartLine = 619, srcSpanStartColumn = 16, srcSpanEndLine = 619, srcSpanEndColumn = 17},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribut"><span class="mpre">PreProcessor {
    platformIndependent = False,
    runPreProcessor = mkSimplePreProcessor $ \inFile outFile verbosity -&gt;
      rawSystemProgramConf verbosity prog (withPrograms lbi)
                           (args ++ [&quot;-o&quot;, outFile, inFile])
  }</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |Convenience function; get the suffixes of these preprocessors.</span></span><span class="mpre">
</span><a href="#loc_628_1_628_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_628_1_628_11&#39;)"><span class="mpre">ppSuffixes</span></a><span class="mpre"> :: [ </span><span class="hl_tyconref"><span class="mpre">PPSuffixHandler</span></span><span class="mpre"> ] -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_628_1_628_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_628_1_628_11&#39;)"><span class="hl_vardecl"><span class="mpre">ppSuffixes</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fst</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |Standard preprocessors: GreenCard, c2hs, hsc2hs, happy, alex and cpphs.</span></span><span class="mpre">
</span><a href="#loc_632_1_632_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_632_1_632_20&#39;)"><span class="mpre">knownSuffixHandlers</span></a><span class="mpre"> :: [ </span><span class="hl_tyconref"><span class="mpre">PPSuffixHandler</span></span><span class="mpre"> ]
</span><a name="loc_632_1_632_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_632_1_632_20&#39;)"><span class="hl_vardecl"><span class="mpre">knownSuffixHandlers</span></span></a><span class="mpre"> =
  [ (</span><span class="hl_string"><span class="mpre">&quot;gc&quot;</span></span><span class="mpre">,     </span><a href="#loc_342_1_342_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_1_342_12&#39;)"><span class="hl_varref"><span class="mpre">ppGreenCard</span></span></a><span class="mpre">)
  , (</span><span class="hl_string"><span class="mpre">&quot;chs&quot;</span></span><span class="mpre">,    </span><a href="#loc_497_1_497_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_1_497_7&#39;)"><span class="hl_varref"><span class="mpre">ppC2hs</span></span></a><span class="mpre">)
  , (</span><span class="hl_string"><span class="mpre">&quot;hsc&quot;</span></span><span class="mpre">,    </span><a href="#loc_420_1_420_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_420_1_420_9&#39;)"><span class="hl_varref"><span class="mpre">ppHsc2hs</span></span></a><span class="mpre">)
  , (</span><span class="hl_string"><span class="mpre">&quot;x&quot;</span></span><span class="mpre">,      </span><a href="#loc_611_1_611_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_611_1_611_7&#39;)"><span class="hl_varref"><span class="mpre">ppAlex</span></span></a><span class="mpre">)
  , (</span><span class="hl_string"><span class="mpre">&quot;y&quot;</span></span><span class="mpre">,      </span><a href="#loc_604_1_604_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_604_1_604_8&#39;)"><span class="hl_varref"><span class="mpre">ppHappy</span></span></a><span class="mpre">)
  , (</span><span class="hl_string"><span class="mpre">&quot;ly&quot;</span></span><span class="mpre">,     </span><a href="#loc_604_1_604_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_604_1_604_8&#39;)"><span class="hl_varref"><span class="mpre">ppHappy</span></span></a><span class="mpre">)
  , (</span><span class="hl_string"><span class="mpre">&quot;cpphs&quot;</span></span><span class="mpre">,  </span><a href="#loc_362_1_362_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_1_362_6&#39;)"><span class="hl_varref"><span class="mpre">ppCpp</span></span></a><span class="mpre">)
  ]
</span></div></body></html>