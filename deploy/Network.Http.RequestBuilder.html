<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- HTTP types for use with io-streams and pipes</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright © 2012-2013 Operational Dynamics Consulting, Pty Ltd</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The code in this file, and the program it is a part of, is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- made available to you by its authors as open source software:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- you can redistribute it and/or modify it under the terms of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the BSD licence.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">

{-# LANGUAGE GeneralizedNewtypeDeriving #-}
{-# LANGUAGE OverloadedStrings          #-}
{-# OPTIONS_HADDOCK hide #-}

module Network.Http.RequestBuilder (
    RequestBuilder,
    buildRequest,
    http,
    setHostname,
    setAccept,
    setAccept&#39;,
    setAuthorizationBasic,
    ContentType,
    setContentType,
    setContentLength,
    setExpectContinue,
    setTransferEncoding,
    setHeader
) where

import Blaze.ByteString.Builder (</span><a href="Blaze.ByteString.Builder.Internal.Types.html#loc_69_9_69_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.Internal.Types.html#loc_69_9_69_16&#39;)"><span class="mpre">Builder</span></a><span class="mpre">)
import qualified Blaze.ByteString.Builder as Builder (</span><a href="Blaze.ByteString.Builder.ByteString.html#loc_94_1_94_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.ByteString.html#loc_94_1_94_15&#39;)"><span class="mpre">fromByteString</span></a><span class="mpre">,
                                                      </span><a href="Blaze.ByteString.Builder.Internal.html#loc_299_1_299_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.Internal.html#loc_299_1_299_13&#39;)"><span class="mpre">toByteString</span></a><span class="mpre">)
import qualified Blaze.ByteString.Builder.Char8 as Builder (</span><a href="Blaze.ByteString.Builder.Char8.html#loc_72_1_72_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.Char8.html#loc_72_1_72_9&#39;)"><span class="mpre">fromShow</span></a><span class="mpre">,
                                                            </span><a href="Blaze.ByteString.Builder.Char8.html#loc_66_1_66_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.Char8.html#loc_66_1_66_11&#39;)"><span class="mpre">fromString</span></a><span class="mpre">)
import Control.Monad.State
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 38, srcSpanStartColumn = 8, srcSpanEndLine = 38, srcSpanEndColumn = 23}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> (ByteString)
import qualified Data.ByteString.Base64 as BS64
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 40, srcSpanStartColumn = 8, srcSpanEndLine = 40, srcSpanEndColumn = 29}, srcInfoPoints = []}) &quot;Data.ByteString.Char8&quot;"><span class="mpre">Data.ByteString.Char8</span></span><span class="mpre"> ()
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 41, srcSpanStartColumn = 18, srcSpanEndLine = 41, srcSpanEndColumn = 39}, srcInfoPoints = []}) &quot;Data.ByteString.Char8&quot;"><span class="mpre">Data.ByteString.Char8</span></span><span class="mpre"> as S
import Data.Int (</span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="mpre">Int64</span></a><span class="mpre">)
import Data.List (</span><a href="Data.List.html#loc_427_1_427_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_427_1_427_12&#39;)"><span class="mpre">intersperse</span></a><span class="mpre">)
import Data.Monoid (</span><a href="Data.Monoid.html#loc_84_9_84_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_84_9_84_16&#39;)"><span class="mpre">mconcat</span></a><span class="mpre">)

import Network.Http.Internal

</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | The RequestBuilder monad allows you to abuse do-notation to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- conveniently setup a &#39;Request&#39; object.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
newtype </span><a name="loc_52_9_52_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_9_52_23&#39;)"><span class="hl_tycondecl"><span class="mpre">RequestBuilder</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">α</span></span><span class="mpre"> = </span><a name="loc_52_28_52_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_28_52_42&#39;)"><span class="hl_condecl"><span class="mpre">RequestBuilder</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">State</span></span><span class="mpre"> </span><a href="Network.Http.Internal.html#loc_138_6_138_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_138_6_138_13&#39;)"><span class="hl_tyconref"><span class="mpre">Request</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">α</span></span><span class="mpre">)
  </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 53, srcSpanStartColumn = 3, srcSpanEndLine = 53, srcSpanEndColumn = 39}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 53, srcSpanStartColumn = 3, srcSpanEndLine = 53, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1"><span class="mpre">deriving (Monad, MonadState Request)</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Run a RequestBuilder, yielding a Request object you can use on the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- given connection.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;     q &lt;- buildRequest $ do</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;         http POST &quot;/api/v1/messages&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;         setContentType &quot;application/json&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;         setHostname &quot;clue.example.com&quot; 80</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;         setAccept &quot;text/html&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;         setHeader &quot;X-WhoDoneIt&quot; &quot;The Butler&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Obviously it&#39;s up to you to later actually /send/ JSON data.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_69_1_69_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_13&#39;)"><span class="mpre">buildRequest</span></a><span class="mpre"> :: </span><a href="#loc_52_9_52_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_9_52_23&#39;)"><span class="hl_tyconref"><span class="mpre">RequestBuilder</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">α</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="Network.Http.Internal.html#loc_138_6_138_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_138_6_138_13&#39;)"><span class="hl_tyconref"><span class="mpre">Request</span></span></a><span class="mpre">
</span><a name="loc_69_1_69_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_13&#39;)"><span class="hl_fundecl"><span class="mpre">buildRequest</span></span></a><span class="mpre"> </span><a name="loc_69_14_69_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_14_69_16&#39;)"><span class="hl_vardecl"><span class="mpre">mm</span></span></a><span class="mpre"> = do
    let (</span><a href="#loc_52_28_52_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_28_52_42&#39;)"><span class="hl_conref"><span class="mpre">RequestBuilder</span></span></a><span class="mpre"> </span><a name="loc_70_25_70_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_25_70_26&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) = (</span><a href="#loc_69_14_69_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_14_69_16&#39;)"><span class="hl_varref"><span class="mpre">mm</span></span></a><span class="mpre">)
    let </span><a name="loc_71_9_71_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_9_71_10&#39;)"><span class="hl_vardecl"><span class="mpre">q</span></span></a><span class="mpre"> = </span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 71, srcSpanStartColumn = 13, srcSpanEndLine = 78, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 71, srcSpanStartColumn = 21, srcSpanEndLine = 71, srcSpanEndColumn = 22},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7"><span class="mpre">Request {
        qHost = Nothing,
        qMethod = GET,
        qPath = &quot;/&quot;,
        qBody = Empty,
        qExpect = Normal,
        qHeaders = emptyHeaders
    }</span></span><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.State.Lazy.html#loc_116_1_116_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.State.Lazy.html#loc_116_1_116_10&#39;)"><span class="hl_varref"><span class="mpre">execState</span></span></a><span class="mpre"> </span><a href="#loc_70_25_70_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_25_70_26&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><a href="#loc_71_9_71_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_9_71_10&#39;)"><span class="hl_varref"><span class="mpre">q</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Begin constructing a Request, starting with the request line.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_86_1_86_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_5&#39;)"><span class="mpre">http</span></a><span class="mpre"> :: </span><a href="Network.Http.Internal.html#loc_87_6_87_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_87_6_87_12&#39;)"><span class="hl_tyconref"><span class="mpre">Method</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_52_9_52_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_9_52_23&#39;)"><span class="hl_tyconref"><span class="mpre">RequestBuilder</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_86_1_86_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_5&#39;)"><span class="hl_fundecl"><span class="mpre">http</span></span></a><span class="mpre"> </span><a name="loc_86_6_86_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_6_86_7&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">p&#39;</span></span><span class="mpre"> = do
    </span><a name="loc_87_5_87_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_5_87_6&#39;)"><span class="hl_vardecl"><span class="mpre">q</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">get</span></span><span class="mpre">
    let </span><a name="loc_88_9_88_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_9_88_11&#39;)"><span class="hl_vardecl"><span class="mpre">h1</span></span></a><span class="mpre"> = </span><a href="Network.Http.Internal.html#loc_145_9_145_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_145_9_145_17&#39;)"><span class="hl_varref"><span class="mpre">qHeaders</span></span></a><span class="mpre"> </span><a href="#loc_87_5_87_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_5_87_6&#39;)"><span class="hl_varref"><span class="mpre">q</span></span></a><span class="mpre">
    let </span><a name="loc_89_9_89_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_9_89_11&#39;)"><span class="hl_vardecl"><span class="mpre">h2</span></span></a><span class="mpre"> = </span><a href="Network.Http.Internal.html#loc_384_1_384_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_384_1_384_13&#39;)"><span class="hl_varref"><span class="mpre">updateHeader</span></span></a><span class="mpre"> </span><a href="#loc_88_9_88_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_9_88_11&#39;)"><span class="hl_varref"><span class="mpre">h1</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Accept-Encoding&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;gzip&quot;</span></span><span class="mpre">

    let </span><a name="loc_91_9_91_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_9_91_10&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre">  = case </span><a href="#loc_86_6_86_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_6_86_7&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> of
            </span><a href="Network.Http.Internal.html#loc_91_7_91_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_91_7_91_10&#39;)"><span class="hl_conref"><span class="mpre">PUT</span></span></a><span class="mpre">  -&gt; </span><a href="Network.Http.Internal.html#loc_153_27_153_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_153_27_153_35&#39;)"><span class="hl_conref"><span class="mpre">Chunking</span></span></a><span class="mpre">
            </span><a href="Network.Http.Internal.html#loc_90_7_90_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_90_7_90_11&#39;)"><span class="hl_conref"><span class="mpre">POST</span></span></a><span class="mpre"> -&gt; </span><a href="Network.Http.Internal.html#loc_153_27_153_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_153_27_153_35&#39;)"><span class="hl_conref"><span class="mpre">Chunking</span></span></a><span class="mpre">
            _    -&gt; </span><a href="Network.Http.Internal.html#loc_153_19_153_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_153_19_153_24&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">

    let </span><span class="hl_vardecl"><span class="mpre">h3</span></span><span class="mpre"> = case </span><a href="#loc_91_9_91_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_9_91_10&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> of
            </span><a href="Network.Http.Internal.html#loc_153_27_153_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_153_27_153_35&#39;)"><span class="hl_conref"><span class="mpre">Chunking</span></span></a><span class="mpre">    -&gt; </span><a href="Network.Http.Internal.html#loc_384_1_384_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_384_1_384_13&#39;)"><span class="hl_varref"><span class="mpre">updateHeader</span></span></a><span class="mpre"> </span><a href="#loc_89_9_89_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_9_89_11&#39;)"><span class="hl_varref"><span class="mpre">h2</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Transfer-Encoding&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;chunked&quot;</span></span><span class="mpre">
            _           -&gt; </span><a href="#loc_89_9_89_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_9_89_11&#39;)"><span class="hl_varref"><span class="mpre">h2</span></span></a><span class="mpre">

    </span><span class="hl_varref"><span class="mpre">put</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 100, srcSpanStartColumn = 9, srcSpanEndLine = 105, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 100, srcSpanStartColumn = 11, srcSpanEndLine = 100, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-"><span class="mpre">q {
        qMethod = m,
        qPath = p&#39;,
        qBody = e,
        qHeaders = h3
    }</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Set the [virtual] hostname for the request. In ordinary conditions</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- you won&#39;t need to call this, as the @Host:@ header is a required</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- header in HTTP 1.1 and is set directly from the name of the server</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- you connected to when calling &#39;Network.Http.Connection.openConnection&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_114_1_114_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_1_114_12&#39;)"><span class="mpre">setHostname</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Hostname</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Port</span></span><span class="mpre"> -&gt; </span><a href="#loc_52_9_52_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_9_52_23&#39;)"><span class="hl_tyconref"><span class="mpre">RequestBuilder</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_114_1_114_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_1_114_12&#39;)"><span class="hl_fundecl"><span class="mpre">setHostname</span></span></a><span class="mpre"> </span><a name="loc_114_13_114_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_13_114_15&#39;)"><span class="hl_vardecl"><span class="mpre">h&#39;</span></span></a><span class="mpre"> </span><a name="loc_114_16_114_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_16_114_17&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = do
    </span><span class="hl_vardecl"><span class="mpre">q</span></span><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">get</span></span><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">put</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 116, srcSpanStartColumn = 9, srcSpanEndLine = 118, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 116, srcSpanStartColumn = 11, srcSpanEndLine = 116, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-"><span class="mpre">q {
        qHost = Just v&#39;
    }</span></span><span class="mpre">
  where
    </span><a href="#loc_121_5_121_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_5_121_7&#39;)"><span class="mpre">v&#39;</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre">
    </span><a name="loc_121_5_121_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_5_121_7&#39;)"><span class="hl_vardecl"><span class="mpre">v&#39;</span></span></a><span class="mpre"> = if </span><a href="#loc_114_16_114_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_16_114_17&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">80</span></span><span class="mpre">
        then </span><a href="#loc_114_13_114_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_13_114_15&#39;)"><span class="hl_varref"><span class="mpre">h&#39;</span></span></a><span class="mpre">
        else </span><a href="Blaze.ByteString.Builder.Internal.html#loc_299_1_299_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.Internal.html#loc_299_1_299_13&#39;)"><span class="hl_varref"><span class="mpre">Builder.toByteString</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Monoid.html#loc_84_9_84_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_84_9_84_16&#39;)"><span class="hl_varref"><span class="mpre">mconcat</span></span></a><span class="mpre">
           [</span><a href="Blaze.ByteString.Builder.ByteString.html#loc_94_1_94_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.ByteString.html#loc_94_1_94_15&#39;)"><span class="hl_varref"><span class="mpre">Builder.fromByteString</span></span></a><span class="mpre"> </span><a href="#loc_114_13_114_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_13_114_15&#39;)"><span class="hl_varref"><span class="mpre">h&#39;</span></span></a><span class="mpre">,
            </span><a href="Blaze.ByteString.Builder.Char8.html#loc_66_1_66_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.Char8.html#loc_66_1_66_11&#39;)"><span class="hl_varref"><span class="mpre">Builder.fromString</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;:&quot;</span></span><span class="mpre">,
            </span><a href="Blaze.ByteString.Builder.Char8.html#loc_72_1_72_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.Char8.html#loc_72_1_72_9&#39;)"><span class="hl_varref"><span class="mpre">Builder.fromShow</span></span></a><span class="mpre"> </span><a href="#loc_114_16_114_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_16_114_17&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">]

</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Set a generic header to be sent in the HTTP request. The other</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- methods in the RequestBuilder API are expressed in terms of this</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- function, but we recommend you use them where offered for their</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- stronger types.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_135_1_135_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_10&#39;)"><span class="mpre">setHeader</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_52_9_52_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_9_52_23&#39;)"><span class="hl_tyconref"><span class="mpre">RequestBuilder</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_135_1_135_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_10&#39;)"><span class="hl_fundecl"><span class="mpre">setHeader</span></span></a><span class="mpre"> </span><a name="loc_135_11_135_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_11_135_13&#39;)"><span class="hl_vardecl"><span class="mpre">k&#39;</span></span></a><span class="mpre"> </span><a name="loc_135_14_135_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_14_135_16&#39;)"><span class="hl_vardecl"><span class="mpre">v&#39;</span></span></a><span class="mpre"> = do
    </span><a name="loc_136_5_136_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_5_136_6&#39;)"><span class="hl_vardecl"><span class="mpre">q</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">get</span></span><span class="mpre">
    let </span><a name="loc_137_9_137_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_9_137_11&#39;)"><span class="hl_vardecl"><span class="mpre">h0</span></span></a><span class="mpre"> = </span><a href="Network.Http.Internal.html#loc_145_9_145_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_145_9_145_17&#39;)"><span class="hl_varref"><span class="mpre">qHeaders</span></span></a><span class="mpre"> </span><a href="#loc_136_5_136_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_5_136_6&#39;)"><span class="hl_varref"><span class="mpre">q</span></span></a><span class="mpre">
    let </span><span class="hl_vardecl"><span class="mpre">h1</span></span><span class="mpre"> = </span><a href="Network.Http.Internal.html#loc_384_1_384_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_384_1_384_13&#39;)"><span class="hl_varref"><span class="mpre">updateHeader</span></span></a><span class="mpre"> </span><a href="#loc_137_9_137_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_9_137_11&#39;)"><span class="hl_varref"><span class="mpre">h0</span></span></a><span class="mpre"> </span><a href="#loc_135_11_135_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_11_135_13&#39;)"><span class="hl_varref"><span class="mpre">k&#39;</span></span></a><span class="mpre"> </span><a href="#loc_135_14_135_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_14_135_16&#39;)"><span class="hl_varref"><span class="mpre">v&#39;</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">put</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 139, srcSpanStartColumn = 9, srcSpanEndLine = 141, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 139, srcSpanStartColumn = 11, srcSpanEndLine = 139, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-"><span class="mpre">q {
        qHeaders = h1
    }</span></span><span class="mpre">

</span><a href="#loc_144_1_144_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_1_144_13&#39;)"><span class="mpre">deleteHeader</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_52_9_52_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_9_52_23&#39;)"><span class="hl_tyconref"><span class="mpre">RequestBuilder</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_144_1_144_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_1_144_13&#39;)"><span class="hl_fundecl"><span class="mpre">deleteHeader</span></span></a><span class="mpre"> </span><a name="loc_144_14_144_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_14_144_16&#39;)"><span class="hl_vardecl"><span class="mpre">k&#39;</span></span></a><span class="mpre"> = do
    </span><a name="loc_145_5_145_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_145_5_145_6&#39;)"><span class="hl_vardecl"><span class="mpre">q</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">get</span></span><span class="mpre">
    let </span><a name="loc_146_9_146_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_9_146_11&#39;)"><span class="hl_vardecl"><span class="mpre">h0</span></span></a><span class="mpre"> = </span><a href="Network.Http.Internal.html#loc_145_9_145_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_145_9_145_17&#39;)"><span class="hl_varref"><span class="mpre">qHeaders</span></span></a><span class="mpre"> </span><a href="#loc_145_5_145_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_145_5_145_6&#39;)"><span class="hl_varref"><span class="mpre">q</span></span></a><span class="mpre">
    let </span><span class="hl_vardecl"><span class="mpre">h1</span></span><span class="mpre"> = </span><a href="Network.Http.Internal.html#loc_395_1_395_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_395_1_395_13&#39;)"><span class="hl_varref"><span class="mpre">removeHeader</span></span></a><span class="mpre"> </span><a href="#loc_146_9_146_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_9_146_11&#39;)"><span class="hl_varref"><span class="mpre">h0</span></span></a><span class="mpre"> </span><a href="#loc_144_14_144_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_14_144_16&#39;)"><span class="hl_varref"><span class="mpre">k&#39;</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">put</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 148, srcSpanStartColumn = 9, srcSpanEndLine = 150, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 148, srcSpanStartColumn = 11, srcSpanEndLine = 148, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-"><span class="mpre">q {
        qHeaders = h1
    }</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_154_1_154_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_1_154_14&#39;)"><span class="mpre">setEntityBody</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a href="#loc_154_1_154_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_1_154_14&#39;)"><span class="mpre">setEntityBody</span></a><span class="mpre"> :: </span><a href="Network.Http.Internal.html#loc_153_6_153_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_153_6_153_16&#39;)"><span class="hl_tyconref"><span class="mpre">EntityBody</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_52_9_52_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_9_52_23&#39;)"><span class="hl_tyconref"><span class="mpre">RequestBuilder</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_154_1_154_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_1_154_14&#39;)"><span class="hl_fundecl"><span class="mpre">setEntityBody</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">e</span></span><span class="mpre"> = do
    </span><span class="hl_vardecl"><span class="mpre">q</span></span><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">get</span></span><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">put</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 156, srcSpanStartColumn = 9, srcSpanEndLine = 158, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 156, srcSpanStartColumn = 11, srcSpanEndLine = 156, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-"><span class="mpre">q {
        qBody = e
    }</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_162_1_162_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_1_162_14&#39;)"><span class="mpre">setExpectMode</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a href="#loc_162_1_162_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_1_162_14&#39;)"><span class="mpre">setExpectMode</span></a><span class="mpre"> :: </span><a href="Network.Http.Internal.html#loc_155_6_155_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_155_6_155_16&#39;)"><span class="hl_tyconref"><span class="mpre">ExpectMode</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_52_9_52_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_9_52_23&#39;)"><span class="hl_tyconref"><span class="mpre">RequestBuilder</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_162_1_162_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_1_162_14&#39;)"><span class="hl_fundecl"><span class="mpre">setExpectMode</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">e</span></span><span class="mpre"> = do
    </span><span class="hl_vardecl"><span class="mpre">q</span></span><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">get</span></span><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">put</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 164, srcSpanStartColumn = 9, srcSpanEndLine = 166, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 164, srcSpanStartColumn = 11, srcSpanEndLine = 164, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-"><span class="mpre">q {
        qExpect = e
    }</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Indicate the content type you are willing to receive in a reply</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- from the server. For more complex @Accept:@ headers, use</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;setAccept&#39;&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_174_1_174_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_1_174_10&#39;)"><span class="mpre">setAccept</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_52_9_52_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_9_52_23&#39;)"><span class="hl_tyconref"><span class="mpre">RequestBuilder</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_174_1_174_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_1_174_10&#39;)"><span class="hl_fundecl"><span class="mpre">setAccept</span></span></a><span class="mpre"> </span><a name="loc_174_11_174_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_11_174_13&#39;)"><span class="hl_vardecl"><span class="mpre">v&#39;</span></span></a><span class="mpre"> = do
    </span><a href="#loc_135_1_135_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_10&#39;)"><span class="hl_varref"><span class="mpre">setHeader</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Accept&quot;</span></span><span class="mpre"> </span><a href="#loc_174_11_174_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_11_174_13&#39;)"><span class="hl_varref"><span class="mpre">v&#39;</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Indicate the content types you are willing to receive in a reply</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- from the server in order of preference. A call of the form:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;         setAccept&#39; [(&quot;text/html&quot;, 1.0),</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;                     (&quot;application/xml&quot;, 0.8),</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;                     (&quot;*/*&quot;, 0)]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- will result in an @Accept:@ header value of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @text\/html; q=1.0, application\/xml; q=0.8, \*\/\*; q=0.0@ as you</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- would expect.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_190_1_190_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_1_190_11&#39;)"><span class="mpre">setAccept&#39;</span></a><span class="mpre"> :: [(</span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">Float</span></span><span class="mpre">)] -&gt; </span><a href="#loc_52_9_52_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_9_52_23&#39;)"><span class="hl_tyconref"><span class="mpre">RequestBuilder</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_190_1_190_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_1_190_11&#39;)"><span class="hl_fundecl"><span class="mpre">setAccept&#39;</span></span></a><span class="mpre"> </span><a name="loc_190_12_190_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_12_190_15&#39;)"><span class="hl_vardecl"><span class="mpre">tqs</span></span></a><span class="mpre"> = do
    </span><a href="#loc_135_1_135_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_10&#39;)"><span class="hl_varref"><span class="mpre">setHeader</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Accept&quot;</span></span><span class="mpre"> </span><a href="#loc_193_5_193_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_5_193_7&#39;)"><span class="hl_varref"><span class="mpre">v&#39;</span></span></a><span class="mpre">
  where
    </span><a name="loc_193_5_193_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_5_193_7&#39;)"><span class="hl_vardecl"><span class="mpre">v&#39;</span></span></a><span class="mpre"> = </span><a href="Blaze.ByteString.Builder.Internal.html#loc_299_1_299_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.Internal.html#loc_299_1_299_13&#39;)"><span class="hl_varref"><span class="mpre">Builder.toByteString</span></span></a><span class="mpre"> </span><a href="#loc_194_5_194_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_5_194_6&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre">
    </span><a name="loc_194_5_194_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_5_194_6&#39;)"><span class="hl_vardecl"><span class="mpre">v</span></span></a><span class="mpre">  = </span><a href="Data.Monoid.html#loc_84_9_84_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_84_9_84_16&#39;)"><span class="hl_varref"><span class="mpre">mconcat</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.List.html#loc_427_1_427_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_427_1_427_12&#39;)"><span class="hl_varref"><span class="mpre">intersperse</span></span></a><span class="mpre"> (</span><a href="Blaze.ByteString.Builder.Char8.html#loc_66_1_66_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.Char8.html#loc_66_1_66_11&#39;)"><span class="hl_varref"><span class="mpre">Builder.fromString</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;, &quot;</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_197_5_197_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_5_197_11&#39;)"><span class="hl_varref"><span class="mpre">format</span></span></a><span class="mpre"> </span><a href="#loc_190_12_190_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_12_190_15&#39;)"><span class="hl_varref"><span class="mpre">tqs</span></span></a><span class="mpre">

    </span><a href="#loc_197_5_197_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_5_197_11&#39;)"><span class="mpre">format</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">Float</span></span><span class="mpre">) -&gt; </span><a href="Blaze.ByteString.Builder.Internal.Types.html#loc_69_9_69_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.Internal.Types.html#loc_69_9_69_16&#39;)"><span class="hl_tyconref"><span class="mpre">Builder</span></span></a><span class="mpre">
    </span><a name="loc_197_5_197_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_5_197_11&#39;)"><span class="hl_fundecl"><span class="mpre">format</span></span></a><span class="mpre"> (</span><a name="loc_197_13_197_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_13_197_15&#39;)"><span class="hl_vardecl"><span class="mpre">t&#39;</span></span></a><span class="mpre">,</span><a name="loc_197_16_197_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_16_197_17&#39;)"><span class="hl_vardecl"><span class="mpre">q</span></span></a><span class="mpre">) =
        </span><a href="Data.Monoid.html#loc_84_9_84_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_84_9_84_16&#39;)"><span class="hl_varref"><span class="mpre">mconcat</span></span></a><span class="mpre">
           [</span><a href="Blaze.ByteString.Builder.ByteString.html#loc_94_1_94_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.ByteString.html#loc_94_1_94_15&#39;)"><span class="hl_varref"><span class="mpre">Builder.fromByteString</span></span></a><span class="mpre"> </span><a href="#loc_197_13_197_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_13_197_15&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre">,
            </span><a href="Blaze.ByteString.Builder.Char8.html#loc_66_1_66_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.Char8.html#loc_66_1_66_11&#39;)"><span class="hl_varref"><span class="mpre">Builder.fromString</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;; q=&quot;</span></span><span class="mpre">,
            </span><a href="Blaze.ByteString.Builder.Char8.html#loc_72_1_72_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.Char8.html#loc_72_1_72_9&#39;)"><span class="hl_varref"><span class="mpre">Builder.fromShow</span></span></a><span class="mpre"> </span><a href="#loc_197_16_197_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_16_197_17&#39;)"><span class="hl_varref"><span class="mpre">q</span></span></a><span class="mpre">]


</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Set username and password credentials per the HTTP basic</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- authentication method.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;         setAuthorizationBasic &quot;Aladdin&quot; &quot;open sesame&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- will result in an @Authorization:@ header value of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Basic authentication does /not/ use a message digest function to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- encipher the password; the above string is only base-64 encoded and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- is thus plain-text visible to any observer on the wire and all</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- caches and servers at the other end, making basic authentication</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- completely insecure. A number of web services, however, use SSL to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- encrypt the connection that then use HTTP basic authentication to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- validate requests. Keep in mind in these cases the secret is still</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- sent to the servers on the other side and passes in clear through</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- all layers after the SSL termination. Do /not/ use basic</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- authentication to protect secure or user-originated privacy-sensitve</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- information.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-
    This would be better using Builder, right?
-}</span></span><span class="mpre">
</span><a href="#loc_229_1_229_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_1_229_22&#39;)"><span class="mpre">setAuthorizationBasic</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_52_9_52_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_9_52_23&#39;)"><span class="hl_tyconref"><span class="mpre">RequestBuilder</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_229_1_229_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_1_229_22&#39;)"><span class="hl_fundecl"><span class="mpre">setAuthorizationBasic</span></span></a><span class="mpre"> </span><a name="loc_229_23_229_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_23_229_28&#39;)"><span class="hl_vardecl"><span class="mpre">user&#39;</span></span></a><span class="mpre"> </span><a name="loc_229_29_229_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_29_229_36&#39;)"><span class="hl_vardecl"><span class="mpre">passwd&#39;</span></span></a><span class="mpre"> = do
    </span><a href="#loc_135_1_135_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_10&#39;)"><span class="hl_varref"><span class="mpre">setHeader</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Authorization&quot;</span></span><span class="mpre"> </span><a href="#loc_232_5_232_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_5_232_7&#39;)"><span class="hl_varref"><span class="mpre">v&#39;</span></span></a><span class="mpre">
  where
    </span><a name="loc_232_5_232_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_5_232_7&#39;)"><span class="hl_vardecl"><span class="mpre">v&#39;</span></span></a><span class="mpre">   = </span><span class="hl_varref"><span class="mpre">S.concat</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;Basic &quot;</span></span><span class="mpre">, </span><a href="#loc_233_5_233_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_233_5_233_9&#39;)"><span class="hl_varref"><span class="mpre">msg&#39;</span></span></a><span class="mpre">]
    </span><a name="loc_233_5_233_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_233_5_233_9&#39;)"><span class="hl_vardecl"><span class="mpre">msg&#39;</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Base64.html#loc_34_1_34_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Base64.html#loc_34_1_34_7&#39;)"><span class="hl_varref"><span class="mpre">BS64.encode</span></span></a><span class="mpre"> </span><a href="#loc_234_5_234_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_5_234_9&#39;)"><span class="hl_varref"><span class="mpre">str&#39;</span></span></a><span class="mpre">
    </span><a name="loc_234_5_234_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_5_234_9&#39;)"><span class="hl_vardecl"><span class="mpre">str&#39;</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">S.concat</span></span><span class="mpre"> [</span><a href="#loc_229_23_229_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_23_229_28&#39;)"><span class="hl_varref"><span class="mpre">user&#39;</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;:&quot;</span></span><span class="mpre">, </span><a href="#loc_229_29_229_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_29_229_36&#39;)"><span class="hl_varref"><span class="mpre">passwd&#39;</span></span></a><span class="mpre">]


</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 237, srcSpanStartColumn = 1, srcSpanEndLine = 237, srcSpanEndColumn = 30}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0.7.1.1/src/Network/Http/RequestBuilder.hs&quot;, srcSpanStartLine = 237, srcSpanStartColumn = 1, srcSpanEndLine = 237, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-common-0."><span class="mpre">type ContentType = ByteString</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Set the MIME type corresponding to the body of the request you are</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- sending. Defaults to @\&quot;text\/plain\&quot;@, so usually you need to set</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- this if &#39;PUT&#39;ting.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_246_1_246_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_1_246_15&#39;)"><span class="mpre">setContentType</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ContentType</span></span><span class="mpre"> -&gt; </span><a href="#loc_52_9_52_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_9_52_23&#39;)"><span class="hl_tyconref"><span class="mpre">RequestBuilder</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_246_1_246_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_1_246_15&#39;)"><span class="hl_fundecl"><span class="mpre">setContentType</span></span></a><span class="mpre"> </span><a name="loc_246_16_246_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_16_246_18&#39;)"><span class="hl_vardecl"><span class="mpre">v&#39;</span></span></a><span class="mpre"> = do
    </span><a href="#loc_135_1_135_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_10&#39;)"><span class="hl_varref"><span class="mpre">setHeader</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Content-Type&quot;</span></span><span class="mpre"> </span><a href="#loc_246_16_246_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_16_246_18&#39;)"><span class="hl_varref"><span class="mpre">v&#39;</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Specify the length of the request body, in bytes.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- RFC 2616 requires that we either send a @Content-Length@ header or</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- use @Transfer-Encoding: chunked@. If you know the exact size ahead</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- of time, then call this function; the body content will still be</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- streamed out by @io-streams@ in more-or-less constant space.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This function is special: in a PUT or POST request, @http-streams@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- will assume chunked transfer-encoding /unless/ you specify a content</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- length here, in which case you need to ensure your body function</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- writes precisely that many bytes.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_264_1_264_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_1_264_17&#39;)"><span class="mpre">setContentLength</span></a><span class="mpre"> :: </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_52_9_52_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_9_52_23&#39;)"><span class="hl_tyconref"><span class="mpre">RequestBuilder</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_264_1_264_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_1_264_17&#39;)"><span class="hl_fundecl"><span class="mpre">setContentLength</span></span></a><span class="mpre"> </span><a name="loc_264_18_264_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_18_264_19&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = do
    </span><a href="#loc_144_1_144_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_1_144_13&#39;)"><span class="hl_varref"><span class="mpre">deleteHeader</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Transfer-Encoding&quot;</span></span><span class="mpre">
    </span><a href="#loc_135_1_135_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_10&#39;)"><span class="hl_varref"><span class="mpre">setHeader</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Content-Length&quot;</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">S.pack</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_264_18_264_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_18_264_19&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
    </span><a href="#loc_154_1_154_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_1_154_14&#39;)"><span class="hl_varref"><span class="mpre">setEntityBody</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Network.Http.Internal.html#loc_153_38_153_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_153_38_153_44&#39;)"><span class="hl_conref"><span class="mpre">Static</span></span></a><span class="mpre"> </span><a href="#loc_264_18_264_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_18_264_19&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Override the default setting about how the entity body will be sent.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This function is special: this explicitly sets the @Transfer-Encoding:@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- header to @chunked@ and will instruct the library to actually tranfer the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- body as a stream (&quot;chunked transfer encoding&quot;). See &#39;setContentLength&#39; for</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- forcing the opposite. You /really/ won&#39;t need this in normal operation, but</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- some people are control freaks.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_279_1_279_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_1_279_20&#39;)"><span class="mpre">setTransferEncoding</span></a><span class="mpre"> :: </span><a href="#loc_52_9_52_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_9_52_23&#39;)"><span class="hl_tyconref"><span class="mpre">RequestBuilder</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_279_1_279_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_1_279_20&#39;)"><span class="hl_vardecl"><span class="mpre">setTransferEncoding</span></span></a><span class="mpre"> = do
    </span><a href="#loc_144_1_144_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_1_144_13&#39;)"><span class="hl_varref"><span class="mpre">deleteHeader</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Content-Length&quot;</span></span><span class="mpre">
    </span><a href="#loc_154_1_154_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_1_154_14&#39;)"><span class="hl_varref"><span class="mpre">setEntityBody</span></span></a><span class="mpre"> </span><a href="Network.Http.Internal.html#loc_153_27_153_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_153_27_153_35&#39;)"><span class="hl_conref"><span class="mpre">Chunking</span></span></a><span class="mpre">
    </span><a href="#loc_135_1_135_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_10&#39;)"><span class="hl_varref"><span class="mpre">setHeader</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Transfer-Encoding&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;chunked&quot;</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Specify that this request should set the expectation that the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- server needs to approve the request before you send it.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This function is special: in a PUT or POST request, @http-streams@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- will wait for the server to reply with an HTTP/1.1 100 Continue</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- status before sending the entity body. This is handled internally;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- you will get the real response (be it successful 2xx, client error,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- 4xx, or server error 5xx) in &#39;receiveResponse&#39;. In theory, it</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- should be 417 if the expectation failed.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Only bother with this if you know the service you&#39;re talking to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- requires clients to send an @Expect: 100-continue@ header and will</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- handle it properly. Most servers don&#39;t do any precondition checking,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- automatically send an intermediate 100 response, and then just read</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the body regardless, making this a bit of a no-op in most cases.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_303_1_303_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_1_303_18&#39;)"><span class="mpre">setExpectContinue</span></a><span class="mpre"> :: </span><a href="#loc_52_9_52_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_9_52_23&#39;)"><span class="hl_tyconref"><span class="mpre">RequestBuilder</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_303_1_303_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_1_303_18&#39;)"><span class="hl_vardecl"><span class="mpre">setExpectContinue</span></span></a><span class="mpre"> = do
    </span><a href="#loc_135_1_135_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_10&#39;)"><span class="hl_varref"><span class="mpre">setHeader</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Expect&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;100-continue&quot;</span></span><span class="mpre">
    </span><a href="#loc_162_1_162_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_1_162_14&#39;)"><span class="hl_varref"><span class="mpre">setExpectMode</span></span></a><span class="mpre"> </span><a href="Network.Http.Internal.html#loc_155_28_155_36" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Http.Internal.html#loc_155_28_155_36&#39;)"><span class="hl_conref"><span class="mpre">Continue</span></span></a><span class="mpre">

</span></div></body></html>