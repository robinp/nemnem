<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE OverloadedStrings, RankNTypes #-}
module Web.Scotty.Action
    ( addHeader
    , body
    , file
    , files
    , header
    , headers
    , html
    , json
    , jsonData
    , next
    , param
    , params
    , raise
    , raw
    , readEither
    , redirect
    , request
    , rescue
    , setHeader
    , status
    , stream
    , source    </span><span class="hl_comment"><span class="mpre">-- Deprecated</span></span><span class="mpre">
    , text
    , Param
    , Parsable(..)
      </span><span class="hl_comment"><span class="mpre">-- private to Scotty</span></span><span class="mpre">
    , runAction
    ) where

import Blaze.ByteString.Builder (</span><a href="Blaze.ByteString.Builder.Internal.Types.html#loc_69_9_69_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.Internal.Types.html#loc_69_9_69_16&#39;)"><span class="mpre">Builder</span></a><span class="mpre">, </span><a href="Blaze.ByteString.Builder.ByteString.html#loc_185_1_185_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.ByteString.html#loc_185_1_185_19&#39;)"><span class="mpre">fromLazyByteString</span></a><span class="mpre">)

import Control.Monad.Error
import Control.Monad.Reader
import qualified Control.Monad.State as MS

import qualified Data.Aeson as A
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 39, srcSpanStartColumn = 18, srcSpanEndLine = 39, srcSpanEndColumn = 39}, srcInfoPoints = []}) &quot;Data.ByteString.Char8&quot;"><span class="mpre">Data.ByteString.Char8</span></span><span class="mpre"> as B
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 40, srcSpanStartColumn = 18, srcSpanEndLine = 40, srcSpanEndColumn = 44}, srcInfoPoints = []}) &quot;Data.ByteString.Lazy.Char8&quot;"><span class="mpre">Data.ByteString.Lazy.Char8</span></span><span class="mpre"> as BL
import qualified Data.CaseInsensitive as CI
import           Data.Conduit
import qualified Data.Conduit.List as CL
import           Data.Default (def)
import           Data.Monoid (</span><a href="Data.Monoid.html#loc_84_9_84_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_84_9_84_16&#39;)"><span class="mpre">mconcat</span></a><span class="mpre">)
import qualified Data.Text as ST
import qualified Data.Text.Lazy as T
import           Data.Text.Lazy.Encoding (</span><a href="Data.Text.Lazy.Encoding.html#loc_153_1_153_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Lazy.Encoding.html#loc_153_1_153_11&#39;)"><span class="mpre">encodeUtf8</span></a><span class="mpre">)

import Network.HTTP.Types
import Network.Wai

import Web.Scotty.Internal.Types
import Web.Scotty.Util

</span><span class="hl_comment"><span class="mpre">-- Nothing indicates route failed (due to Next) and pattern matching should continue.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Just indicates a successful response.</span></span><span class="mpre">
</span><a href="#loc_59_1_59_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_1_59_10&#39;)"><span class="mpre">runAction</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 58, srcSpanStartColumn = 14, srcSpanEndLine = 58, srcSpanEndColumn = 41}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 58, srcSpanStartColumn = 14, srcSpanEndLine = 58, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 58,"><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ErrorHandler</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_102_6_102_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_102_6_102_15&#39;)"><span class="hl_tyconref"><span class="mpre">ActionEnv</span></span></a><span class="mpre"> -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Network.Wai.Internal.html#loc_74_6_74_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_74_6_74_14&#39;)"><span class="hl_tyconref"><span class="mpre">Response</span></span></a><span class="mpre">)
</span><a name="loc_59_1_59_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_1_59_10&#39;)"><span class="hl_fundecl"><span class="mpre">runAction</span></span></a><span class="mpre"> </span><a name="loc_59_11_59_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_11_59_12&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> </span><a name="loc_59_13_59_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_13_59_16&#39;)"><span class="hl_vardecl"><span class="mpre">env</span></span></a><span class="mpre"> </span><a name="loc_59_17_59_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_17_59_23&#39;)"><span class="hl_vardecl"><span class="mpre">action</span></span></a><span class="mpre"> = do
    (</span><a name="loc_60_6_60_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_6_60_7&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre">,</span><a name="loc_60_8_60_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_8_60_9&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">) &lt;- </span><span class="hl_varref"><span class="mpre">flip</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.State.Lazy.html#loc_142_33_142_42" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.State.Lazy.html#loc_142_33_142_42&#39;)"><span class="hl_varref"><span class="mpre">MS.runStateT</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">def</span></span><span class="mpre">
           </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">flip</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.Reader.html#loc_92_35_92_45" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Reader.html#loc_92_35_92_45&#39;)"><span class="hl_varref"><span class="mpre">runReaderT</span></span></a><span class="mpre"> </span><a href="#loc_59_13_59_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_13_59_16&#39;)"><span class="hl_varref"><span class="mpre">env</span></span></a><span class="mpre">
           </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.Error.html#loc_155_33_155_42" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Error.html#loc_155_33_155_42&#39;)"><span class="hl_varref"><span class="mpre">runErrorT</span></span></a><span class="mpre">
           </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_120_35_120_40" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_35_120_40&#39;)"><span class="hl_varref"><span class="mpre">runAM</span></span></a><span class="mpre">
           </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_59_17_59_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_17_59_23&#39;)"><span class="hl_varref"><span class="mpre">action</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`catchError`</span></span><span class="mpre"> (</span><a href="#loc_69_1_69_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_5&#39;)"><span class="hl_varref"><span class="mpre">defH</span></span></a><span class="mpre"> </span><a href="#loc_59_11_59_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_11_59_12&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">)
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">either</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Web.Scotty.Util.html#loc_41_1_41_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Util.html#loc_41_1_41_11&#39;)"><span class="hl_varref"><span class="mpre">mkResponse</span></span></a><span class="mpre"> </span><a href="#loc_60_8_60_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_8_60_9&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">) </span><a href="#loc_60_6_60_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_6_60_7&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Default error handler for all actions.</span></span><span class="mpre">
</span><a href="#loc_69_1_69_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_5&#39;)"><span class="mpre">defH</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 68, srcSpanStartColumn = 9, srcSpanEndLine = 68, srcSpanEndColumn = 36}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 68, srcSpanStartColumn = 9, srcSpanEndLine = 68, srcSpanEndColumn = 10},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 68, s"><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ErrorHandler</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_72_6_72_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_72_6_72_17&#39;)"><span class="hl_tyconref"><span class="mpre">ActionError</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_69_1_69_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_5&#39;)"><span class="hl_fundecl"><span class="mpre">defH</span></span></a><span class="mpre"> _          (</span><a href="Web.Scotty.Internal.Types.html#loc_72_22_72_30" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_72_22_72_30&#39;)"><span class="hl_conref"><span class="mpre">Redirect</span></span></a><span class="mpre"> </span><a name="loc_69_27_69_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_27_69_30&#39;)"><span class="hl_vardecl"><span class="mpre">url</span></span></a><span class="mpre">)    = do
    </span><a href="#loc_221_1_221_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_1_221_7&#39;)"><span class="hl_varref"><span class="mpre">status</span></span></a><span class="mpre"> </span><a href="Network.HTTP.Types.Status.html#loc_265_1_265_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Types.Status.html#loc_265_1_265_10&#39;)"><span class="hl_varref"><span class="mpre">status302</span></span></a><span class="mpre">
    </span><a href="#loc_230_1_230_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_1_230_10&#39;)"><span class="hl_varref"><span class="mpre">setHeader</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Location&quot;</span></span><span class="mpre"> </span><a href="#loc_69_27_69_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_27_69_30&#39;)"><span class="hl_varref"><span class="mpre">url</span></span></a><span class="mpre">
</span><a href="#loc_69_1_69_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_5&#39;)"><span class="hl_fundecl"><span class="mpre">defH</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">    (</span><a href="Web.Scotty.Internal.Types.html#loc_74_22_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_74_22_74_33&#39;)"><span class="hl_conref"><span class="mpre">ActionError</span></span></a><span class="mpre"> </span><a name="loc_72_30_72_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_30_72_31&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre">)   = do
    </span><a href="#loc_221_1_221_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_1_221_7&#39;)"><span class="hl_varref"><span class="mpre">status</span></span></a><span class="mpre"> </span><a href="Network.HTTP.Types.Status.html#loc_487_1_487_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Types.Status.html#loc_487_1_487_10&#39;)"><span class="hl_varref"><span class="mpre">status500</span></span></a><span class="mpre">
    </span><a href="#loc_242_1_242_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_1_242_5&#39;)"><span class="hl_varref"><span class="mpre">html</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Monoid.html#loc_84_9_84_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_84_9_84_16&#39;)"><span class="hl_varref"><span class="mpre">mconcat</span></span></a><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;&lt;h1&gt;500 Internal Server Error&lt;/h1&gt;&quot;</span></span><span class="mpre">, </span><a href="Web.Scotty.Internal.Types.html#loc_80_5_80_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_80_5_80_14&#39;)"><span class="hl_varref"><span class="mpre">showError</span></span></a><span class="mpre"> </span><a href="#loc_72_30_72_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_30_72_31&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">]
</span><a href="#loc_69_1_69_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_5&#39;)"><span class="hl_fundecl"><span class="mpre">defH</span></span></a><span class="mpre"> </span><a name="loc_75_6_75_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_6_75_7&#39;)"><span class="hl_specname"><span class="mpre">h</span></span></a><span class="mpre">@(</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_75_14_75_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_14_75_15&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre">) (</span><a href="Web.Scotty.Internal.Types.html#loc_74_22_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_74_22_74_33&#39;)"><span class="hl_conref"><span class="mpre">ActionError</span></span></a><span class="mpre"> </span><a name="loc_75_30_75_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_30_75_31&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre">)   = </span><a href="#loc_75_14_75_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_14_75_15&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_75_30_75_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_30_75_31&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`catchError`</span></span><span class="mpre"> (</span><a href="#loc_69_1_69_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_5&#39;)"><span class="hl_varref"><span class="mpre">defH</span></span></a><span class="mpre"> </span><a href="#loc_75_6_75_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_6_75_7&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">) </span><span class="hl_comment"><span class="mpre">-- so handlers can throw exceptions themselves</span></span><span class="mpre">
</span><a href="#loc_69_1_69_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_5&#39;)"><span class="hl_fundecl"><span class="mpre">defH</span></span></a><span class="mpre"> _          </span><a href="Web.Scotty.Internal.Types.html#loc_73_22_73_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_73_22_73_26&#39;)"><span class="hl_conref"><span class="mpre">Next</span></span></a><span class="mpre">              = </span><a href="#loc_98_1_98_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_1_98_5&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Throw an exception, which can be caught with &#39;rescue&#39;. Uncaught exceptions</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- turn into HTTP 500 responses.</span></span><span class="mpre">
</span><a href="#loc_81_1_81_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_1_81_6&#39;)"><span class="mpre">raise</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 80, srcSpanStartColumn = 10, srcSpanEndLine = 80, srcSpanEndColumn = 37}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 80, srcSpanStartColumn = 10, srcSpanEndLine = 80, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 80,"><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_81_1_81_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_1_81_6&#39;)"><span class="hl_vardecl"><span class="mpre">raise</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">throwError</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_74_22_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_74_22_74_33&#39;)"><span class="hl_conref"><span class="mpre">ActionError</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Abort execution of this action and continue pattern matching routes.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Like an exception, any code after &#39;next&#39; is not executed.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- As an example, these two routes overlap. The only way the second one will</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- ever run is if the first one calls &#39;next&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; get &quot;/foo/:bar&quot; $ do</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;   w :: Text &lt;- param &quot;bar&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;   unless (w == &quot;special&quot;) next</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;   text &quot;You made a request to /foo/special&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; get &quot;/foo/:baz&quot; $ do</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;   w &lt;- param &quot;baz&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;   text $ &quot;You made a request to: &quot; &lt;&gt; w</span></span><span class="mpre">
</span><a href="#loc_98_1_98_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_1_98_5&#39;)"><span class="mpre">next</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 97, srcSpanStartColumn = 9, srcSpanEndLine = 97, srcSpanEndColumn = 36}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 97, srcSpanStartColumn = 9, srcSpanEndLine = 97, srcSpanEndColumn = 10},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 97, s"><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_98_1_98_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_1_98_5&#39;)"><span class="hl_vardecl"><span class="mpre">next</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">throwError</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_73_22_73_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_73_22_73_26&#39;)"><span class="hl_conref"><span class="mpre">Next</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Catch an exception thrown by &#39;raise&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; raise &quot;just kidding&quot; `rescue` (\msg -&gt; text msg)</span></span><span class="mpre">
</span><a href="#loc_104_1_104_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_1_104_7&#39;)"><span class="mpre">rescue</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 103, srcSpanStartColumn = 11, srcSpanEndLine = 103, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 103, srcSpanStartColumn = 11, srcSpanEndLine = 103, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine ="><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_104_1_104_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_1_104_7&#39;)"><span class="hl_fundecl"><span class="mpre">rescue</span></span></a><span class="mpre"> </span><a name="loc_104_8_104_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_8_104_14&#39;)"><span class="hl_vardecl"><span class="mpre">action</span></span></a><span class="mpre"> </span><a name="loc_104_15_104_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_15_104_16&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">catchError</span></span><span class="mpre"> </span><a href="#loc_104_8_104_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_8_104_14&#39;)"><span class="hl_varref"><span class="mpre">action</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_104_40_104_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_40_104_41&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> -&gt; case </span><a href="#loc_104_40_104_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_40_104_41&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> of
    </span><a href="Web.Scotty.Internal.Types.html#loc_74_22_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_74_22_74_33&#39;)"><span class="hl_conref"><span class="mpre">ActionError</span></span></a><span class="mpre"> </span><a name="loc_105_17_105_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_17_105_20&#39;)"><span class="hl_vardecl"><span class="mpre">err</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_104_15_104_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_15_104_16&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><a href="#loc_105_17_105_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_17_105_20&#39;)"><span class="hl_varref"><span class="mpre">err</span></span></a><span class="mpre">            </span><span class="hl_comment"><span class="mpre">-- handle errors</span></span><span class="mpre">
    </span><a name="loc_106_5_106_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_5_106_10&#39;)"><span class="hl_vardecl"><span class="mpre">other</span></span></a><span class="mpre">           -&gt; </span><span class="hl_varref"><span class="mpre">throwError</span></span><span class="mpre"> </span><a href="#loc_106_5_106_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_5_106_10&#39;)"><span class="hl_varref"><span class="mpre">other</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- rethrow internal error types</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Redirect to given URL. Like throwing an uncatchable exception. Any code after the call to redirect</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- will not be run.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; redirect &quot;http://www.google.com&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- OR</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; redirect &quot;/foo/bar&quot;</span></span><span class="mpre">
</span><a href="#loc_117_1_117_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_9&#39;)"><span class="mpre">redirect</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 116, srcSpanStartColumn = 13, srcSpanEndLine = 116, srcSpanEndColumn = 40}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 116, srcSpanStartColumn = 13, srcSpanEndLine = 116, srcSpanEndColumn = 14},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine ="><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_117_1_117_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_9&#39;)"><span class="hl_vardecl"><span class="mpre">redirect</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">throwError</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_72_22_72_30" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_72_22_72_30&#39;)"><span class="hl_conref"><span class="mpre">Redirect</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Get the &#39;Request&#39; object.</span></span><span class="mpre">
</span><a href="#loc_121_1_121_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_1_121_8&#39;)"><span class="mpre">request</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 120, srcSpanStartColumn = 12, srcSpanEndLine = 120, srcSpanEndColumn = 39}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 120, srcSpanStartColumn = 12, srcSpanEndLine = 120, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine ="><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><a href="Network.Wai.Internal.html#loc_20_6_20_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_20_6_20_13&#39;)"><span class="hl_tyconref"><span class="mpre">Request</span></span></a><span class="mpre">
</span><a name="loc_121_1_121_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_1_121_8&#39;)"><span class="hl_vardecl"><span class="mpre">request</span></span></a><span class="mpre"> = </span><a href="Web.Scotty.Internal.Types.html#loc_120_25_120_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_25_120_32&#39;)"><span class="hl_conref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_102_24_102_30" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_102_24_102_30&#39;)"><span class="hl_varref"><span class="mpre">getReq</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ask</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Get list of uploaded files.</span></span><span class="mpre">
</span><a href="#loc_125_1_125_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_1_125_6&#39;)"><span class="mpre">files</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 124, srcSpanStartColumn = 10, srcSpanEndLine = 124, srcSpanEndColumn = 37}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 124, srcSpanStartColumn = 10, srcSpanEndLine = 124, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine ="><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> [</span><span class="hl_tyconref"><span class="mpre">File</span></span><span class="mpre">]
</span><a name="loc_125_1_125_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_1_125_6&#39;)"><span class="hl_vardecl"><span class="mpre">files</span></span></a><span class="mpre"> = </span><a href="Web.Scotty.Internal.Types.html#loc_120_25_120_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_25_120_32&#39;)"><span class="hl_conref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_105_24_105_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_105_24_105_32&#39;)"><span class="hl_varref"><span class="mpre">getFiles</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ask</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Get a request header. Header name is case-insensitive.</span></span><span class="mpre">
</span><a href="#loc_129_1_129_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_1_129_7&#39;)"><span class="mpre">header</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 128, srcSpanStartColumn = 11, srcSpanEndLine = 128, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 128, srcSpanStartColumn = 11, srcSpanEndLine = 128, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine ="><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre">)
</span><a name="loc_129_1_129_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_1_129_7&#39;)"><span class="hl_fundecl"><span class="mpre">header</span></span></a><span class="mpre"> </span><a name="loc_129_8_129_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_8_129_9&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> = do
    </span><a name="loc_130_5_130_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_5_130_7&#39;)"><span class="hl_vardecl"><span class="mpre">hs</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre"> </span><a href="Network.Wai.Internal.html#loc_36_6_36_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_36_6_36_20&#39;)"><span class="hl_varref"><span class="mpre">requestHeaders</span></span></a><span class="mpre"> </span><a href="#loc_121_1_121_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_1_121_8&#39;)"><span class="hl_varref"><span class="mpre">request</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="Web.Scotty.Util.html#loc_26_1_26_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Util.html#loc_26_1_26_27&#39;)"><span class="hl_varref"><span class="mpre">strictByteStringToLazyText</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">lookup</span></span><span class="mpre"> (</span><a href="Data.CaseInsensitive.Internal.html#loc_94_1_94_3" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.CaseInsensitive.Internal.html#loc_94_1_94_3&#39;)"><span class="hl_varref"><span class="mpre">CI.mk</span></span></a><span class="mpre"> (</span><a href="Web.Scotty.Util.html#loc_23_1_23_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Util.html#loc_23_1_23_27&#39;)"><span class="hl_varref"><span class="mpre">lazyTextToStrictByteString</span></span></a><span class="mpre"> </span><a href="#loc_129_8_129_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_8_129_9&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">)) </span><a href="#loc_130_5_130_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_5_130_7&#39;)"><span class="hl_varref"><span class="mpre">hs</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Get all the request headers. Header names are case-insensitive.</span></span><span class="mpre">
</span><a href="#loc_135_1_135_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_8&#39;)"><span class="mpre">headers</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 134, srcSpanStartColumn = 12, srcSpanEndLine = 134, srcSpanEndColumn = 39}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 134, srcSpanStartColumn = 12, srcSpanEndLine = 134, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine ="><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> [(</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre">)]
</span><a name="loc_135_1_135_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_8&#39;)"><span class="hl_vardecl"><span class="mpre">headers</span></span></a><span class="mpre"> = do
    </span><a name="loc_136_5_136_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_5_136_7&#39;)"><span class="hl_vardecl"><span class="mpre">hs</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre"> </span><a href="Network.Wai.Internal.html#loc_36_6_36_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_36_6_36_20&#39;)"><span class="hl_varref"><span class="mpre">requestHeaders</span></span></a><span class="mpre"> </span><a href="#loc_121_1_121_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_1_121_8&#39;)"><span class="hl_varref"><span class="mpre">request</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> [ ( </span><a href="Web.Scotty.Util.html#loc_26_1_26_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Util.html#loc_26_1_26_27&#39;)"><span class="hl_varref"><span class="mpre">strictByteStringToLazyText</span></span></a><span class="mpre"> (</span><a href="Data.CaseInsensitive.Internal.html#loc_86_18_86_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.CaseInsensitive.Internal.html#loc_86_18_86_26&#39;)"><span class="hl_varref"><span class="mpre">CI.original</span></span></a><span class="mpre"> </span><a href="#loc_139_15_139_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_15_139_16&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">)
             , </span><a href="Web.Scotty.Util.html#loc_26_1_26_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Util.html#loc_26_1_26_27&#39;)"><span class="hl_varref"><span class="mpre">strictByteStringToLazyText</span></span></a><span class="mpre"> </span><a href="#loc_139_17_139_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_17_139_18&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre">)
           | (</span><a name="loc_139_15_139_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_15_139_16&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre">,</span><a name="loc_139_17_139_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_17_139_18&#39;)"><span class="hl_vardecl"><span class="mpre">v</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_136_5_136_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_5_136_7&#39;)"><span class="hl_varref"><span class="mpre">hs</span></span></a><span class="mpre"> ]

</span><span class="hl_comment"><span class="mpre">-- | Get the request body.</span></span><span class="mpre">
</span><a href="#loc_143_1_143_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_5&#39;)"><span class="mpre">body</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 142, srcSpanStartColumn = 9, srcSpanEndLine = 142, srcSpanEndColumn = 36}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 142, srcSpanStartColumn = 9, srcSpanEndLine = 142, srcSpanEndColumn = 10},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 1"><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">BL.ByteString</span></span><span class="mpre">
</span><a name="loc_143_1_143_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_5&#39;)"><span class="hl_vardecl"><span class="mpre">body</span></span></a><span class="mpre"> = </span><a href="Web.Scotty.Internal.Types.html#loc_120_25_120_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_25_120_32&#39;)"><span class="hl_conref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_104_24_104_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_104_24_104_31&#39;)"><span class="hl_varref"><span class="mpre">getBody</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ask</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Parse the request body as a JSON object and return it. Raises an exception if parse is unsuccessful.</span></span><span class="mpre">
</span><a href="#loc_147_1_147_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_1_147_9&#39;)"><span class="mpre">jsonData</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 146, srcSpanStartColumn = 13, srcSpanEndLine = 146, srcSpanEndColumn = 54}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 146, srcSpanStartColumn = 13, srcSpanEndLine = 146, srcSpanEndColumn = 14},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine ="><span class="mpre">(A.FromJSON a, ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_147_1_147_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_1_147_9&#39;)"><span class="hl_vardecl"><span class="mpre">jsonData</span></span></a><span class="mpre"> = do
    </span><a name="loc_148_5_148_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_5_148_6&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_143_1_143_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_5&#39;)"><span class="hl_varref"><span class="mpre">body</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> (</span><a href="#loc_81_1_81_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_1_81_6&#39;)"><span class="hl_varref"><span class="mpre">raise</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_79_5_79_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_79_5_79_16&#39;)"><span class="hl_varref"><span class="mpre">stringError</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;jsonData - no parse: &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">BL.unpack</span></span><span class="mpre"> </span><a href="#loc_148_5_148_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_5_148_6&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">) </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Aeson.html#loc_105_1_105_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Aeson.html#loc_105_1_105_7&#39;)"><span class="hl_varref"><span class="mpre">A.decode</span></span></a><span class="mpre"> </span><a href="#loc_148_5_148_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_5_148_6&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Get a parameter. First looks in captures, then form data, then query parameters.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * Raises an exception which can be caught by &#39;rescue&#39; if parameter is not found.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * If parameter is found, but &#39;read&#39; fails to parse to the correct type, &#39;next&#39; is called.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   This means captures are somewhat typed, in that a route won&#39;t match if a correctly typed</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   capture cannot be parsed.</span></span><span class="mpre">
</span><a href="#loc_159_1_159_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_1_159_6&#39;)"><span class="mpre">param</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 158, srcSpanStartColumn = 10, srcSpanEndLine = 158, srcSpanEndColumn = 49}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 158, srcSpanStartColumn = 10, srcSpanEndLine = 158, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine ="><span class="mpre">(Parsable a, ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_159_1_159_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_1_159_6&#39;)"><span class="hl_fundecl"><span class="mpre">param</span></span></a><span class="mpre"> </span><a name="loc_159_7_159_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_7_159_8&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> = do
    </span><a name="loc_160_5_160_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_5_160_8&#39;)"><span class="hl_vardecl"><span class="mpre">val</span></span></a><span class="mpre"> &lt;- </span><a href="Web.Scotty.Internal.Types.html#loc_120_25_120_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_25_120_32&#39;)"><span class="hl_conref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">lookup</span></span><span class="mpre"> </span><a href="#loc_159_7_159_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_7_159_8&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_103_24_103_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_103_24_103_33&#39;)"><span class="hl_varref"><span class="mpre">getParams</span></span></a><span class="mpre">) </span><span class="hl_varref"><span class="mpre">ask</span></span><span class="mpre">
    case </span><a href="#loc_160_5_160_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_5_160_8&#39;)"><span class="hl_varref"><span class="mpre">val</span></span></a><span class="mpre"> of
        </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_1_81_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_1_81_6&#39;)"><span class="hl_varref"><span class="mpre">raise</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_79_5_79_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_79_5_79_16&#39;)"><span class="hl_varref"><span class="mpre">stringError</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Param: &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Data.Text.Lazy.html#loc_354_1_354_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Lazy.html#loc_354_1_354_7&#39;)"><span class="hl_varref"><span class="mpre">T.unpack</span></span></a><span class="mpre"> </span><a href="#loc_159_7_159_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_7_159_8&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; not found!&quot;</span></span><span class="mpre">
        </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_163_14_163_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_14_163_15&#39;)"><span class="hl_vardecl"><span class="mpre">v</span></span></a><span class="mpre">  -&gt; </span><span class="hl_varref"><span class="mpre">either</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre"> </span><a href="#loc_98_1_98_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_1_98_5&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre">) </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_172_5_172_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_5_172_15&#39;)"><span class="hl_varref"><span class="mpre">parseParam</span></span></a><span class="mpre"> </span><a href="#loc_163_14_163_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_14_163_15&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Get all parameters from capture, form and query (in that order).</span></span><span class="mpre">
</span><a href="#loc_167_1_167_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_1_167_7&#39;)"><span class="mpre">params</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 166, srcSpanStartColumn = 11, srcSpanEndLine = 166, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 166, srcSpanStartColumn = 11, srcSpanEndLine = 166, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine ="><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> [</span><span class="hl_tyconref"><span class="mpre">Param</span></span><span class="mpre">]
</span><a name="loc_167_1_167_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_1_167_7&#39;)"><span class="hl_vardecl"><span class="mpre">params</span></span></a><span class="mpre"> = </span><a href="Web.Scotty.Internal.Types.html#loc_120_25_120_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_25_120_32&#39;)"><span class="hl_conref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_103_24_103_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_103_24_103_33&#39;)"><span class="hl_varref"><span class="mpre">getParams</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ask</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Minimum implemention: &#39;parseParam&#39;</span></span><span class="mpre">
class </span><a name="loc_170_7_170_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_7_170_15&#39;)"><span class="hl_classdecl"><span class="mpre">Parsable</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> where
    </span><span class="hl_comment"><span class="mpre">-- | Take a &#39;T.Text&#39; value and parse it as &#39;a&#39;, or fail with a message.</span></span><span class="mpre">
    </span><a name="loc_172_5_172_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_5_172_15&#39;)"><span class="mpre">parseParam</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- | Default implementation parses comma-delimited lists.</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- &gt; parseParamList t = mapM parseParam (T.split (== &#39;,&#39;) t)</span></span><span class="mpre">
    </span><a name="loc_177_5_177_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_5_177_19&#39;)"><span class="mpre">parseParamList</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">]
    </span><a href="#loc_177_5_177_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_5_177_19&#39;)"><span class="hl_fundecl"><span class="mpre">parseParamList</span></span></a><span class="mpre"> </span><a name="loc_178_20_178_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_20_178_21&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Control.Monad.html#loc_111_1_111_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_111_1_111_5&#39;)"><span class="hl_varref"><span class="mpre">mapM</span></span></a><span class="mpre"> </span><a href="#loc_172_5_172_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_5_172_15&#39;)"><span class="hl_varref"><span class="mpre">parseParam</span></span></a><span class="mpre"> (</span><a href="Data.Text.Lazy.html#loc_1308_1_1308_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Lazy.html#loc_1308_1_1308_6&#39;)"><span class="hl_varref"><span class="mpre">T.split</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;,&#39;</span></span><span class="mpre">) </span><a href="#loc_178_20_178_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_20_178_21&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- No point using &#39;read&#39; for Text, ByteString, Char, and String.</span></span><span class="mpre">
instance </span><a href="#loc_170_7_170_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_7_170_15&#39;)"><span class="hl_classref"><span class="mpre">Parsable</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> where </span><a href="#loc_172_5_172_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_5_172_15&#39;)"><span class="hl_vardecl"><span class="mpre">parseParam</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre">
instance </span><a href="#loc_170_7_170_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_7_170_15&#39;)"><span class="hl_classref"><span class="mpre">Parsable</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">ST.Text</span></span></a><span class="mpre"> where </span><a href="#loc_172_5_172_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_5_172_15&#39;)"><span class="hl_vardecl"><span class="mpre">parseParam</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Text.Lazy.html#loc_393_1_393_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Lazy.html#loc_393_1_393_9&#39;)"><span class="hl_varref"><span class="mpre">T.toStrict</span></span></a><span class="mpre">
instance </span><a href="#loc_170_7_170_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_7_170_15&#39;)"><span class="hl_classref"><span class="mpre">Parsable</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> where </span><a href="#loc_172_5_172_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_5_172_15&#39;)"><span class="hl_vardecl"><span class="mpre">parseParam</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Web.Scotty.Util.html#loc_23_1_23_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Util.html#loc_23_1_23_27&#39;)"><span class="hl_varref"><span class="mpre">lazyTextToStrictByteString</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Overrides default &#39;parseParamList&#39; to parse String.</span></span><span class="mpre">
instance </span><a href="#loc_170_7_170_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_7_170_15&#39;)"><span class="hl_classref"><span class="mpre">Parsable</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> where
    </span><a href="#loc_172_5_172_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_5_172_15&#39;)"><span class="hl_fundecl"><span class="mpre">parseParam</span></span></a><span class="mpre"> </span><a name="loc_186_16_186_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_16_186_17&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = case </span><a href="Data.Text.Lazy.html#loc_354_1_354_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Lazy.html#loc_354_1_354_7&#39;)"><span class="hl_varref"><span class="mpre">T.unpack</span></span></a><span class="mpre"> </span><a href="#loc_186_16_186_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_16_186_17&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> of
                    [</span><a name="loc_187_22_187_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_22_187_23&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">] -&gt; </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a href="#loc_187_22_187_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_22_187_23&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
                    _   -&gt; </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;parseParam Char: no parse&quot;</span></span><span class="mpre">
    </span><a href="#loc_177_5_177_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_5_177_19&#39;)"><span class="hl_vardecl"><span class="mpre">parseParamList</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Text.Lazy.html#loc_354_1_354_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Lazy.html#loc_354_1_354_7&#39;)"><span class="hl_varref"><span class="mpre">T.unpack</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- String</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Checks if parameter is present and is null-valued, not a literal &#39;()&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- If the URI requested is: &#39;/foo?bar=()&amp;baz&#39; then &#39;baz&#39; will parse as (), where &#39;bar&#39; will not.</span></span><span class="mpre">
instance </span><a href="#loc_170_7_170_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_7_170_15&#39;)"><span class="hl_classref"><span class="mpre">Parsable</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre"> where
    </span><a href="#loc_172_5_172_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_5_172_15&#39;)"><span class="hl_fundecl"><span class="mpre">parseParam</span></span></a><span class="mpre"> </span><a name="loc_193_16_193_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_16_193_17&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = if </span><a href="Data.Text.Lazy.html#loc_493_1_493_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Lazy.html#loc_493_1_493_5&#39;)"><span class="hl_varref"><span class="mpre">T.null</span></span></a><span class="mpre"> </span><a href="#loc_193_16_193_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_16_193_17&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> then </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre"> else </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;parseParam Unit: no parse&quot;</span></span><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxParen (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 195, srcSpanStartColumn = 10, srcSpanEndLine = 195, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 195, srcSpanStartColumn = 10, srcSpanEndLine = 195, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine ="><span class="mpre">(Parsable a) =&gt;</span></span><span class="mpre"> </span><a href="#loc_170_7_170_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_7_170_15&#39;)"><span class="hl_classref"><span class="mpre">Parsable</span></span></a><span class="mpre"> [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">] where </span><a href="#loc_172_5_172_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_5_172_15&#39;)"><span class="hl_vardecl"><span class="mpre">parseParam</span></span></a><span class="mpre"> = </span><a href="#loc_177_5_177_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_5_177_19&#39;)"><span class="hl_varref"><span class="mpre">parseParamList</span></span></a><span class="mpre">

instance </span><a href="#loc_170_7_170_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_7_170_15&#39;)"><span class="hl_classref"><span class="mpre">Parsable</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> where
    </span><a href="#loc_172_5_172_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_5_172_15&#39;)"><span class="hl_fundecl"><span class="mpre">parseParam</span></span></a><span class="mpre"> </span><a name="loc_198_16_198_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_16_198_17&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = if </span><a href="#loc_203_15_203_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_15_203_17&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="Data.Text.Lazy.html#loc_683_1_683_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Lazy.html#loc_683_1_683_11&#39;)"><span class="hl_varref"><span class="mpre">T.toCaseFold</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;true&quot;</span></span><span class="mpre">
                   then </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">
                   else if </span><a href="#loc_203_15_203_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_15_203_17&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="Data.Text.Lazy.html#loc_683_1_683_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Lazy.html#loc_683_1_683_11&#39;)"><span class="hl_varref"><span class="mpre">T.toCaseFold</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;false&quot;</span></span><span class="mpre">
                        then </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
                        else </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;parseParam Bool: no parse&quot;</span></span><span class="mpre">
        where </span><a name="loc_203_15_203_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_15_203_17&#39;)"><span class="hl_vardecl"><span class="mpre">t&#39;</span></span></a><span class="mpre"> = </span><a href="Data.Text.Lazy.html#loc_683_1_683_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Lazy.html#loc_683_1_683_11&#39;)"><span class="hl_varref"><span class="mpre">T.toCaseFold</span></span></a><span class="mpre"> </span><a href="#loc_198_16_198_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_16_198_17&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">

instance </span><a href="#loc_170_7_170_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_7_170_15&#39;)"><span class="hl_classref"><span class="mpre">Parsable</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Double</span></span><span class="mpre"> where </span><a href="#loc_172_5_172_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_5_172_15&#39;)"><span class="hl_vardecl"><span class="mpre">parseParam</span></span></a><span class="mpre"> = </span><a href="#loc_214_1_214_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_11&#39;)"><span class="hl_varref"><span class="mpre">readEither</span></span></a><span class="mpre">
instance </span><a href="#loc_170_7_170_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_7_170_15&#39;)"><span class="hl_classref"><span class="mpre">Parsable</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Float</span></span><span class="mpre"> where </span><a href="#loc_172_5_172_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_5_172_15&#39;)"><span class="hl_vardecl"><span class="mpre">parseParam</span></span></a><span class="mpre"> = </span><a href="#loc_214_1_214_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_11&#39;)"><span class="hl_varref"><span class="mpre">readEither</span></span></a><span class="mpre">
instance </span><a href="#loc_170_7_170_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_7_170_15&#39;)"><span class="hl_classref"><span class="mpre">Parsable</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> where </span><a href="#loc_172_5_172_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_5_172_15&#39;)"><span class="hl_vardecl"><span class="mpre">parseParam</span></span></a><span class="mpre"> = </span><a href="#loc_214_1_214_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_11&#39;)"><span class="hl_varref"><span class="mpre">readEither</span></span></a><span class="mpre">
instance </span><a href="#loc_170_7_170_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_7_170_15&#39;)"><span class="hl_classref"><span class="mpre">Parsable</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre"> where </span><a href="#loc_172_5_172_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_5_172_15&#39;)"><span class="hl_vardecl"><span class="mpre">parseParam</span></span></a><span class="mpre"> = </span><a href="#loc_214_1_214_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_11&#39;)"><span class="hl_varref"><span class="mpre">readEither</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Useful for creating &#39;Parsable&#39; instances for things that already implement &#39;Read&#39;. Ex:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; instance Parsable Int where parseParam = readEither</span></span><span class="mpre">
</span><a href="#loc_214_1_214_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_11&#39;)"><span class="mpre">readEither</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxParen (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 213, srcSpanStartColumn = 15, srcSpanEndLine = 213, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 213, srcSpanStartColumn = 15, srcSpanEndLine = 213, srcSpanEndColumn = 16},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine ="><span class="mpre">(Read a) =&gt;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_214_1_214_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_11&#39;)"><span class="hl_fundecl"><span class="mpre">readEither</span></span></a><span class="mpre"> </span><a name="loc_214_12_214_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_12_214_13&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = case [ </span><a href="#loc_214_28_214_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_28_214_29&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> | (</span><a name="loc_214_28_214_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_28_214_29&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">,</span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">) &lt;- </span><span class="hl_varref"><span class="mpre">reads</span></span><span class="mpre"> (</span><a href="Data.Text.Lazy.html#loc_354_1_354_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Lazy.html#loc_354_1_354_7&#39;)"><span class="hl_varref"><span class="mpre">T.unpack</span></span></a><span class="mpre"> </span><a href="#loc_214_12_214_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_12_214_13&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) ] of
                [</span><a name="loc_215_18_215_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_18_215_19&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">] -&gt; </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a href="#loc_215_18_215_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_18_215_19&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
                []  -&gt; </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;readEither: no parse&quot;</span></span><span class="mpre">
                _   -&gt; </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;readEither: ambiguous parse&quot;</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Set the HTTP response status. Default is 200.</span></span><span class="mpre">
</span><a href="#loc_221_1_221_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_1_221_7&#39;)"><span class="mpre">status</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 220, srcSpanStartColumn = 11, srcSpanEndLine = 220, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 220, srcSpanStartColumn = 11, srcSpanEndLine = 220, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine ="><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><a href="Network.HTTP.Types.Status.html#loc_114_6_114_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Types.Status.html#loc_114_6_114_12&#39;)"><span class="hl_tyconref"><span class="mpre">Status</span></span></a><span class="mpre"> -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_221_1_221_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_1_221_7&#39;)"><span class="hl_vardecl"><span class="mpre">status</span></span></a><span class="mpre"> = </span><a href="Web.Scotty.Internal.Types.html#loc_120_25_120_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_25_120_32&#39;)"><span class="hl_conref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">MS.modify</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Web.Scotty.Util.html#loc_35_1_35_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Util.html#loc_35_1_35_10&#39;)"><span class="hl_varref"><span class="mpre">setStatus</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Add to the response headers. Header names are case-insensitive.</span></span><span class="mpre">
</span><a href="#loc_225_1_225_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_1_225_10&#39;)"><span class="mpre">addHeader</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 224, srcSpanStartColumn = 14, srcSpanEndLine = 224, srcSpanEndColumn = 41}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 224, srcSpanStartColumn = 14, srcSpanEndLine = 224, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine ="><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_225_1_225_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_1_225_10&#39;)"><span class="hl_fundecl"><span class="mpre">addHeader</span></span></a><span class="mpre"> </span><a name="loc_225_11_225_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_11_225_12&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> </span><a name="loc_225_13_225_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_13_225_14&#39;)"><span class="hl_vardecl"><span class="mpre">v</span></span></a><span class="mpre"> = </span><a href="Web.Scotty.Internal.Types.html#loc_120_25_120_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_25_120_32&#39;)"><span class="hl_conref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">MS.modify</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Web.Scotty.Util.html#loc_32_1_32_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Util.html#loc_32_1_32_14&#39;)"><span class="hl_varref"><span class="mpre">setHeaderWith</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Web.Scotty.Util.html#loc_53_1_53_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Util.html#loc_53_1_53_4&#39;)"><span class="hl_varref"><span class="mpre">add</span></span></a><span class="mpre"> (</span><a href="Data.CaseInsensitive.Internal.html#loc_94_1_94_3" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.CaseInsensitive.Internal.html#loc_94_1_94_3&#39;)"><span class="hl_varref"><span class="mpre">CI.mk</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Web.Scotty.Util.html#loc_23_1_23_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Util.html#loc_23_1_23_27&#39;)"><span class="hl_varref"><span class="mpre">lazyTextToStrictByteString</span></span></a><span class="mpre"> </span><a href="#loc_225_11_225_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_11_225_12&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">) (</span><a href="Web.Scotty.Util.html#loc_23_1_23_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Util.html#loc_23_1_23_27&#39;)"><span class="hl_varref"><span class="mpre">lazyTextToStrictByteString</span></span></a><span class="mpre"> </span><a href="#loc_225_13_225_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_13_225_14&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Set one of the response headers. Will override any previously set value for that header.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Header names are case-insensitive.</span></span><span class="mpre">
</span><a href="#loc_230_1_230_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_1_230_10&#39;)"><span class="mpre">setHeader</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 229, srcSpanStartColumn = 14, srcSpanEndLine = 229, srcSpanEndColumn = 41}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 229, srcSpanStartColumn = 14, srcSpanEndLine = 229, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine ="><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_230_1_230_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_1_230_10&#39;)"><span class="hl_fundecl"><span class="mpre">setHeader</span></span></a><span class="mpre"> </span><a name="loc_230_11_230_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_11_230_12&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> </span><a name="loc_230_13_230_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_13_230_14&#39;)"><span class="hl_vardecl"><span class="mpre">v</span></span></a><span class="mpre"> = </span><a href="Web.Scotty.Internal.Types.html#loc_120_25_120_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_25_120_32&#39;)"><span class="hl_conref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">MS.modify</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Web.Scotty.Util.html#loc_32_1_32_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Util.html#loc_32_1_32_14&#39;)"><span class="hl_varref"><span class="mpre">setHeaderWith</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Web.Scotty.Util.html#loc_50_1_50_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Util.html#loc_50_1_50_8&#39;)"><span class="hl_varref"><span class="mpre">replace</span></span></a><span class="mpre"> (</span><a href="Data.CaseInsensitive.Internal.html#loc_94_1_94_3" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.CaseInsensitive.Internal.html#loc_94_1_94_3&#39;)"><span class="hl_varref"><span class="mpre">CI.mk</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Web.Scotty.Util.html#loc_23_1_23_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Util.html#loc_23_1_23_27&#39;)"><span class="hl_varref"><span class="mpre">lazyTextToStrictByteString</span></span></a><span class="mpre"> </span><a href="#loc_230_11_230_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_11_230_12&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">) (</span><a href="Web.Scotty.Util.html#loc_23_1_23_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Util.html#loc_23_1_23_27&#39;)"><span class="hl_varref"><span class="mpre">lazyTextToStrictByteString</span></span></a><span class="mpre"> </span><a href="#loc_230_13_230_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_13_230_14&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Set the body of the response to the given &#39;T.Text&#39; value. Also sets \&quot;Content-Type\&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- header to \&quot;text/plain\&quot;.</span></span><span class="mpre">
</span><a href="#loc_235_1_235_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_1_235_5&#39;)"><span class="mpre">text</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 234, srcSpanStartColumn = 9, srcSpanEndLine = 234, srcSpanEndColumn = 36}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 234, srcSpanStartColumn = 9, srcSpanEndLine = 234, srcSpanEndColumn = 10},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 2"><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_235_1_235_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_1_235_5&#39;)"><span class="hl_fundecl"><span class="mpre">text</span></span></a><span class="mpre"> </span><a name="loc_235_6_235_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_6_235_7&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = do
    </span><a href="#loc_230_1_230_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_1_230_10&#39;)"><span class="hl_varref"><span class="mpre">setHeader</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Content-Type&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;text/plain&quot;</span></span><span class="mpre">
    </span><a href="#loc_278_1_278_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_1_278_4&#39;)"><span class="hl_varref"><span class="mpre">raw</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Text.Lazy.Encoding.html#loc_153_1_153_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Lazy.Encoding.html#loc_153_1_153_11&#39;)"><span class="hl_varref"><span class="mpre">encodeUtf8</span></span></a><span class="mpre"> </span><a href="#loc_235_6_235_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_6_235_7&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Set the body of the response to the given &#39;T.Text&#39; value. Also sets \&quot;Content-Type\&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- header to \&quot;text/html\&quot;.</span></span><span class="mpre">
</span><a href="#loc_242_1_242_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_1_242_5&#39;)"><span class="mpre">html</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 241, srcSpanStartColumn = 9, srcSpanEndLine = 241, srcSpanEndColumn = 36}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 241, srcSpanStartColumn = 9, srcSpanEndLine = 241, srcSpanEndColumn = 10},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 2"><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_242_1_242_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_1_242_5&#39;)"><span class="hl_fundecl"><span class="mpre">html</span></span></a><span class="mpre"> </span><a name="loc_242_6_242_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_6_242_7&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = do
    </span><a href="#loc_230_1_230_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_1_230_10&#39;)"><span class="hl_varref"><span class="mpre">setHeader</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Content-Type&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;text/html&quot;</span></span><span class="mpre">
    </span><a href="#loc_278_1_278_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_1_278_4&#39;)"><span class="hl_varref"><span class="mpre">raw</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Text.Lazy.Encoding.html#loc_153_1_153_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Lazy.Encoding.html#loc_153_1_153_11&#39;)"><span class="hl_varref"><span class="mpre">encodeUtf8</span></span></a><span class="mpre"> </span><a href="#loc_242_6_242_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_6_242_7&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Send a file as the response. Doesn&#39;t set the \&quot;Content-Type\&quot; header, so you probably</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- want to do that on your own with &#39;setHeader&#39;.</span></span><span class="mpre">
</span><a href="#loc_249_1_249_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_1_249_5&#39;)"><span class="mpre">file</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 248, srcSpanStartColumn = 9, srcSpanEndLine = 248, srcSpanEndColumn = 36}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 248, srcSpanStartColumn = 9, srcSpanEndLine = 248, srcSpanEndColumn = 10},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 2"><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_249_1_249_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_1_249_5&#39;)"><span class="hl_vardecl"><span class="mpre">file</span></span></a><span class="mpre"> = </span><a href="Web.Scotty.Internal.Types.html#loc_120_25_120_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_25_120_32&#39;)"><span class="hl_conref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">MS.modify</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Web.Scotty.Util.html#loc_29_1_29_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Util.html#loc_29_1_29_11&#39;)"><span class="hl_varref"><span class="mpre">setContent</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_109_16_109_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_109_16_109_27&#39;)"><span class="hl_conref"><span class="mpre">ContentFile</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Set the body of the response to the JSON encoding of the given value. Also sets \&quot;Content-Type\&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- header to \&quot;application/json\&quot;.</span></span><span class="mpre">
</span><a href="#loc_254_1_254_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_1_254_5&#39;)"><span class="mpre">json</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 253, srcSpanStartColumn = 9, srcSpanEndLine = 253, srcSpanEndColumn = 48}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 253, srcSpanStartColumn = 9, srcSpanEndLine = 253, srcSpanEndColumn = 10},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 2"><span class="mpre">(A.ToJSON a, ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_254_1_254_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_1_254_5&#39;)"><span class="hl_fundecl"><span class="mpre">json</span></span></a><span class="mpre"> </span><a name="loc_254_6_254_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_6_254_7&#39;)"><span class="hl_vardecl"><span class="mpre">v</span></span></a><span class="mpre"> = do
    </span><a href="#loc_230_1_230_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_1_230_10&#39;)"><span class="hl_varref"><span class="mpre">setHeader</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Content-Type&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;application/json&quot;</span></span><span class="mpre">
    </span><a href="#loc_278_1_278_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_1_278_4&#39;)"><span class="hl_varref"><span class="mpre">raw</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Aeson.Encode.html#loc_56_1_56_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Aeson.Encode.html#loc_56_1_56_7&#39;)"><span class="hl_varref"><span class="mpre">A.encode</span></span></a><span class="mpre"> </span><a href="#loc_254_6_254_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_6_254_7&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Set the body of the response to a Source. Doesn&#39;t set the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- \&quot;Content-Type\&quot; header, so you probably want to do that on your</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- own with &#39;setHeader&#39;.</span></span><span class="mpre">
</span><a href="#loc_262_1_262_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_1_262_7&#39;)"><span class="mpre">stream</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 261, srcSpanStartColumn = 11, srcSpanEndLine = 261, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 261, srcSpanStartColumn = 11, srcSpanEndLine = 261, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine ="><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">StreamingBody</span></span><span class="mpre"> -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_262_1_262_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_1_262_7&#39;)"><span class="hl_vardecl"><span class="mpre">stream</span></span></a><span class="mpre"> = </span><a href="Web.Scotty.Internal.Types.html#loc_120_25_120_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_25_120_32&#39;)"><span class="hl_conref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">MS.modify</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Web.Scotty.Util.html#loc_29_1_29_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Util.html#loc_29_1_29_11&#39;)"><span class="hl_varref"><span class="mpre">setContent</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_110_16_110_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_110_16_110_29&#39;)"><span class="hl_conref"><span class="mpre">ContentStream</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Set the body of the response to a Source. Doesn&#39;t set the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- \&quot;Content-Type\&quot; header, so you probably want to do that on your</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- own with &#39;setHeader&#39;.</span></span><span class="mpre">
</span><a href="#loc_268_1_268_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_1_268_7&#39;)"><span class="mpre">source</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 267, srcSpanStartColumn = 11, srcSpanEndLine = 267, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 267, srcSpanStartColumn = 11, srcSpanEndLine = 267, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine ="><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Source</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><a href="Data.Conduit.html#loc_358_6_358_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_6_358_11&#39;)"><span class="hl_tyconref"><span class="mpre">Flush</span></span></a><span class="mpre"> </span><a href="Blaze.ByteString.Builder.Internal.Types.html#loc_69_9_69_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.Internal.Types.html#loc_69_9_69_16&#39;)"><span class="hl_tyconref"><span class="mpre">Builder</span></span></a><span class="mpre">) -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_268_1_268_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_1_268_7&#39;)"><span class="hl_fundecl"><span class="mpre">source</span></span></a><span class="mpre"> </span><a name="loc_268_8_268_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_8_268_11&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre"> = </span><a href="#loc_262_1_262_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_1_262_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_268_24_268_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_24_268_28&#39;)"><span class="hl_vardecl"><span class="mpre">send</span></span></a><span class="mpre"> </span><a name="loc_268_29_268_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_29_268_34&#39;)"><span class="hl_vardecl"><span class="mpre">flush</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_268_8_268_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_8_268_11&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">$$</span></span></a><span class="mpre"> </span><a href="Data.Conduit.List.html#loc_200_1_200_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_200_1_200_6&#39;)"><span class="hl_varref"><span class="mpre">CL.mapM_</span></span></a><span class="mpre"> (\</span><a name="loc_268_56_268_64" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_56_268_64&#39;)"><span class="hl_vardecl"><span class="mpre">mbuilder</span></span></a><span class="mpre"> -&gt;
    case </span><a href="#loc_268_56_268_64" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_56_268_64&#39;)"><span class="hl_varref"><span class="mpre">mbuilder</span></span></a><span class="mpre"> of
      </span><a href="Data.Conduit.html#loc_358_16_358_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_16_358_21&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_270_13_270_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_13_270_14&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_268_24_268_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_24_268_28&#39;)"><span class="hl_varref"><span class="mpre">send</span></span></a><span class="mpre"> </span><a href="#loc_270_13_270_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_13_270_14&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">
      </span><a href="Data.Conduit.html#loc_358_26_358_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_26_358_31&#39;)"><span class="hl_conref"><span class="mpre">Flush</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_268_29_268_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_29_268_34&#39;)"><span class="hl_varref"><span class="mpre">flush</span></span></a><span class="mpre">)
</span><span class="hl_comment"><span class="mpre">-- Deprecated, but pragma is in Web.Scotty and Web.Scotty.Trans</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Set the body of the response to the given &#39;BL.ByteString&#39; value. Doesn&#39;t set the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- \&quot;Content-Type\&quot; header, so you probably want to do that on your</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- own with &#39;setHeader&#39;.</span></span><span class="mpre">
</span><a href="#loc_278_1_278_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_1_278_4&#39;)"><span class="mpre">raw</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 277, srcSpanStartColumn = 8, srcSpanEndLine = 277, srcSpanEndColumn = 35}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 277, srcSpanStartColumn = 8, srcSpanEndLine = 277, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Action.hs&quot;, srcSpanStartLine = 27"><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">BL.ByteString</span></span><span class="mpre"> -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_278_1_278_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_1_278_4&#39;)"><span class="hl_vardecl"><span class="mpre">raw</span></span></a><span class="mpre"> = </span><a href="Web.Scotty.Internal.Types.html#loc_120_25_120_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_25_120_32&#39;)"><span class="hl_conref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">MS.modify</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Web.Scotty.Util.html#loc_29_1_29_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Util.html#loc_29_1_29_11&#39;)"><span class="hl_varref"><span class="mpre">setContent</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_108_16_108_30" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_108_16_108_30&#39;)"><span class="hl_conref"><span class="mpre">ContentBuilder</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Blaze.ByteString.Builder.ByteString.html#loc_185_1_185_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.ByteString.html#loc_185_1_185_19&#39;)"><span class="hl_varref"><span class="mpre">fromLazyByteString</span></span></a><span class="mpre">
</span></div></body></html>