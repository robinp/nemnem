<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Distribution.Simple.Program.Db</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  Isaac Jones 2006, Duncan Coutts 2007-2009</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  cabal-devel@haskell.org</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This provides a &#39;ProgramDb&#39; type which holds configured and not-yet</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- configured programs. It is the parameter to lots of actions elsewhere in</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Cabal that need to look up and run programs. If we had a Cabal monad,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the &#39;ProgramDb&#39; would probably be a reader or state component of it.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- One nice thing about using it is that any program that is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- registered with Cabal will get some \&quot;configure\&quot; and \&quot;.cabal\&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- helpers like --with-foo-args --foo-path= and extra-foo-args.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- There&#39;s also a hook for adding programs in a Setup.lhs script.  See</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- hookedPrograms in &#39;Distribution.Simple.UserHooks&#39;.  This gives a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- hook user the ability to get the above flags and such so that they</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- don&#39;t have to write all the PATH logic inside Setup.lhs.</span></span><span class="mpre">

module Distribution.Simple.Program.Db (
    </span><span class="hl_comment"><span class="mpre">-- * The collection of configured programs we can run</span></span><span class="mpre">
    ProgramDb,
    emptyProgramDb,
    defaultProgramDb,
    restoreProgramDb,

    </span><span class="hl_comment"><span class="mpre">-- ** Query and manipulate the program db</span></span><span class="mpre">
    addKnownProgram,
    addKnownPrograms,
    lookupKnownProgram,
    knownPrograms,
    getProgramSearchPath,
    setProgramSearchPath,
    userSpecifyPath,
    userSpecifyPaths,
    userMaybeSpecifyPath,
    userSpecifyArgs,
    userSpecifyArgss,
    userSpecifiedArgs,
    lookupProgram,
    updateProgram,

    </span><span class="hl_comment"><span class="mpre">-- ** Query and manipulate the program db</span></span><span class="mpre">
    configureProgram,
    configureAllKnownPrograms,
    reconfigurePrograms,
    requireProgram,
    requireProgramVersion,

  ) where

import Distribution.Simple.Program.Types
         ( </span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="mpre">Program</span></a><span class="mpre">(..), ProgArg, </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="mpre">ConfiguredProgram</span></a><span class="mpre">(..), </span><a href="Distribution.Simple.Program.Types.html#loc_105_6_105_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_105_6_105_21&#39;)"><span class="mpre">ProgramLocation</span></a><span class="mpre">(..) )
import Distribution.Simple.Program.Find
         ( ProgramSearchPath, </span><a href="Distribution.Simple.Program.Find.html#loc_65_1_65_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Find.html#loc_65_1_65_25&#39;)"><span class="mpre">defaultProgramSearchPath</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Program.Find.html#loc_69_1_69_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Find.html#loc_69_1_69_24&#39;)"><span class="mpre">findProgramOnSearchPath</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Find.html#loc_112_1_112_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Find.html#loc_112_1_112_27&#39;)"><span class="mpre">programSearchPathAsPATHVar</span></a><span class="mpre"> )
import Distribution.Simple.Program.Builtin
         ( </span><a href="Distribution.Simple.Program.Builtin.html#loc_62_1_62_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_62_1_62_16&#39;)"><span class="mpre">builtinPrograms</span></a><span class="mpre"> )
import Distribution.Simple.Utils
         ( </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="mpre">die</span></a><span class="mpre"> )
import Distribution.Version
         ( </span><a href="Data.Version.html#loc_68_6_68_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Version.html#loc_68_6_68_13&#39;)"><span class="mpre">Version</span></a><span class="mpre">, </span><a href="Distribution.Version.html#loc_113_6_113_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Version.html#loc_113_6_113_18&#39;)"><span class="mpre">VersionRange</span></a><span class="mpre">, </span><a href="Distribution.Version.html#loc_359_1_359_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Version.html#loc_359_1_359_13&#39;)"><span class="mpre">isAnyVersion</span></a><span class="mpre">, </span><a href="Distribution.Version.html#loc_317_1_317_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Version.html#loc_317_1_317_12&#39;)"><span class="mpre">withinRange</span></a><span class="mpre"> )
import Distribution.Text
         ( </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="mpre">display</span></a><span class="mpre"> )
import Distribution.Verbosity
         ( </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="mpre">Verbosity</span></a><span class="mpre"> )

import Data.List
         ( </span><a href="Data.List.html#loc_993_1_993_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_993_1_993_7&#39;)"><span class="mpre">foldl&#39;</span></a><span class="mpre"> )
import Data.Maybe
         ( </span><a href="Data.Maybe.html#loc_115_1_115_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_115_1_115_10&#39;)"><span class="mpre">catMaybes</span></a><span class="mpre"> )
import qualified Data.Map as Map
import Control.Monad
         ( </span><a href="Control.Monad.html#loc_204_1_204_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_204_1_204_5&#39;)"><span class="mpre">join</span></a><span class="mpre">, </span><a href="Control.Monad.html#loc_240_1_240_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_240_1_240_6&#39;)"><span class="mpre">foldM</span></a><span class="mpre"> )
import System.Directory
         ( </span><a href="System.Directory.html#loc_726_1_726_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_726_1_726_14&#39;)"><span class="mpre">doesFileExist</span></a><span class="mpre"> )


</span><span class="hl_comment"><span class="mpre">-- ------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * Programs database</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- ------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The configuration is a collection of information about programs. It</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- contains information both about configured programs and also about programs</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- that we are yet to configure.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The idea is that we start from a collection of unconfigured programs and one</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- by one we try to configure them at which point we move them into the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- configured collection. For unconfigured programs we record not just the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Program&#39; but also any user-provided arguments and location for the program.</span></span><span class="mpre">
data </span><a name="loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tycondecl"><span class="mpre">ProgramDb</span></span></a><span class="mpre"> = </span><a name="loc_94_18_94_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_18_94_27&#39;)"><span class="hl_condecl"><span class="mpre">ProgramDb</span></span></a><span class="mpre"> {
        </span><a name="loc_95_9_95_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_9_95_26&#39;)"><span class="hl_fielddecl"><span class="mpre">unconfiguredProgs</span></span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">UnconfiguredProgs</span></span><span class="mpre">,
        </span><a name="loc_96_9_96_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_9_96_23&#39;)"><span class="hl_fielddecl"><span class="mpre">progSearchPath</span></span></a><span class="mpre">    :: </span><span class="hl_tyconref"><span class="mpre">ProgramSearchPath</span></span><span class="mpre">,
        </span><a name="loc_97_9_97_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_9_97_24&#39;)"><span class="hl_fielddecl"><span class="mpre">configuredProgs</span></span></a><span class="mpre">   :: </span><span class="hl_tyconref"><span class="mpre">ConfiguredProgs</span></span><span class="mpre">
    }

</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/Db.hs&quot;, srcSpanStartLine = 100, srcSpanStartColumn = 1, srcSpanEndLine = 100, srcSpanEndColumn = 64}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/Db.hs&quot;, srcSpanStartLine = 100, srcSpanStartColumn = 1, srcSpanEndLine = 100, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distributio"><span class="mpre">type UnconfiguredProgram = (Program, Maybe FilePath, [ProgArg])</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/Db.hs&quot;, srcSpanStartLine = 101, srcSpanStartColumn = 1, srcSpanEndLine = 101, srcSpanEndColumn = 62}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/Db.hs&quot;, srcSpanStartLine = 101, srcSpanStartColumn = 1, srcSpanEndLine = 101, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distributio"><span class="mpre">type UnconfiguredProgs   = Map.Map String UnconfiguredProgram</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/Db.hs&quot;, srcSpanStartLine = 102, srcSpanStartColumn = 1, srcSpanEndLine = 102, srcSpanEndColumn = 60}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/Db.hs&quot;, srcSpanStartLine = 102, srcSpanStartColumn = 1, srcSpanEndLine = 102, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distributio"><span class="mpre">type ConfiguredProgs     = Map.Map String ConfiguredProgram</span></span><span class="mpre">


</span><a href="#loc_106_1_106_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_1_106_15&#39;)"><span class="mpre">emptyProgramDb</span></a><span class="mpre"> :: </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
</span><a name="loc_106_1_106_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_1_106_15&#39;)"><span class="hl_vardecl"><span class="mpre">emptyProgramDb</span></span></a><span class="mpre"> = </span><a href="#loc_94_18_94_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_18_94_27&#39;)"><span class="hl_conref"><span class="mpre">ProgramDb</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">Map.empty</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Find.html#loc_65_1_65_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Find.html#loc_65_1_65_25&#39;)"><span class="hl_varref"><span class="mpre">defaultProgramSearchPath</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">Map.empty</span></span><span class="mpre">

</span><a href="#loc_109_1_109_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_109_1_109_17&#39;)"><span class="mpre">defaultProgramDb</span></a><span class="mpre"> :: </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
</span><a name="loc_109_1_109_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_109_1_109_17&#39;)"><span class="hl_vardecl"><span class="mpre">defaultProgramDb</span></span></a><span class="mpre"> = </span><a href="#loc_146_1_146_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_17&#39;)"><span class="hl_varref"><span class="mpre">restoreProgramDb</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_62_1_62_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_62_1_62_16&#39;)"><span class="hl_varref"><span class="mpre">builtinPrograms</span></span></a><span class="mpre"> </span><a href="#loc_106_1_106_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_1_106_15&#39;)"><span class="hl_varref"><span class="mpre">emptyProgramDb</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- internal helpers:</span></span><span class="mpre">
</span><a href="#loc_115_1_115_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_1_115_24&#39;)"><span class="mpre">updateUnconfiguredProgs</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">UnconfiguredProgs</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">UnconfiguredProgs</span></span><span class="mpre">)
                        -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
</span><a name="loc_115_1_115_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_1_115_24&#39;)"><span class="hl_fundecl"><span class="mpre">updateUnconfiguredProgs</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">update</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">conf</span></span><span class="mpre"> =
  </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/Db.hs&quot;, srcSpanStartLine = 116, srcSpanStartColumn = 3, srcSpanEndLine = 116, srcSpanEndColumn = 63}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/Db.hs&quot;, srcSpanStartLine = 116, srcSpanStartColumn = 8, srcSpanEndLine = 116, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distributi"><span class="mpre">conf { unconfiguredProgs = update (unconfiguredProgs conf) }</span></span><span class="mpre">

</span><a href="#loc_120_1_120_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_1_120_22&#39;)"><span class="mpre">updateConfiguredProgs</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">ConfiguredProgs</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ConfiguredProgs</span></span><span class="mpre">)
                      -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
</span><a name="loc_120_1_120_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_1_120_22&#39;)"><span class="hl_fundecl"><span class="mpre">updateConfiguredProgs</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">update</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">conf</span></span><span class="mpre"> =
  </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/Db.hs&quot;, srcSpanStartLine = 121, srcSpanStartColumn = 3, srcSpanEndLine = 121, srcSpanEndColumn = 59}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/Db.hs&quot;, srcSpanStartLine = 121, srcSpanStartColumn = 8, srcSpanEndLine = 121, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distributi"><span class="mpre">conf { configuredProgs = update (configuredProgs conf) }</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- Read &amp; Show instances are based on listToFM</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note that we only serialise the configured part of the database, this is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- because we don&#39;t need the unconfigured part after the configure stage, and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- additionally because we cannot read/show &#39;Program&#39; as it contains functions.</span></span><span class="mpre">
instance </span><span class="hl_classref"><span class="mpre">Show</span></span><span class="mpre"> </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre"> where
  </span><span class="hl_vardecl"><span class="mpre">show</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">Map.toAscList</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_97_9_97_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_9_97_24&#39;)"><span class="hl_varref"><span class="mpre">configuredProgs</span></span></a><span class="mpre">

instance </span><span class="hl_classref"><span class="mpre">Read</span></span><span class="mpre"> </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre"> where
  </span><span class="hl_fundecl"><span class="mpre">readsPrec</span></span><span class="mpre"> </span><a name="loc_132_13_132_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_13_132_14&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a name="loc_132_15_132_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_15_132_16&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> =
    [ (</span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/Db.hs&quot;, srcSpanStartLine = 133, srcSpanStartColumn = 8, srcSpanEndLine = 133, srcSpanEndColumn = 60}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/Db.hs&quot;, srcSpanStartLine = 133, srcSpanStartColumn = 23, srcSpanEndLine = 133, srcSpanEndColumn = 24},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribu"><span class="mpre">emptyProgramDb { configuredProgs = Map.fromList s&#39; }</span></span><span class="mpre">, </span><a href="#loc_134_12_134_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_12_134_13&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">)
    | (</span><span class="hl_vardecl"><span class="mpre">s&#39;</span></span><span class="mpre">, </span><a name="loc_134_12_134_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_12_134_13&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">) &lt;- </span><span class="hl_varref"><span class="mpre">readsPrec</span></span><span class="mpre"> </span><a href="#loc_132_13_132_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_13_132_14&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_132_15_132_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_15_132_16&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> ]


</span><span class="hl_comment"><span class="mpre">-- | The Read\/Show instance does not preserve all the unconfigured &#39;Programs&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- because &#39;Program&#39; is not in Read\/Show because it contains functions. So to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fully restore a deserialised &#39;ProgramDb&#39; use this function to add</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- back all the known &#39;Program&#39;s.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * It does not add the default programs, but you probably want them, use</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   &#39;builtinPrograms&#39; in addition to any extra you might need.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_146_1_146_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_17&#39;)"><span class="mpre">restoreProgramDb</span></a><span class="mpre"> :: [</span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Program</span></span></a><span class="mpre">] -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
</span><a name="loc_146_1_146_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_17&#39;)"><span class="hl_vardecl"><span class="mpre">restoreProgramDb</span></span></a><span class="mpre"> = </span><a href="#loc_161_1_161_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_1_161_17&#39;)"><span class="hl_varref"><span class="mpre">addKnownPrograms</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- -------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Managing unconfigured programs</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Add a known program that we may configure later</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_155_1_155_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_1_155_16&#39;)"><span class="mpre">addKnownProgram</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Program</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
</span><a name="loc_155_1_155_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_1_155_16&#39;)"><span class="hl_fundecl"><span class="mpre">addKnownProgram</span></span></a><span class="mpre"> </span><a name="loc_155_17_155_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_17_155_21&#39;)"><span class="hl_vardecl"><span class="mpre">prog</span></span></a><span class="mpre"> = </span><a href="#loc_115_1_115_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_1_115_24&#39;)"><span class="hl_varref"><span class="mpre">updateUnconfiguredProgs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">Map.insertWith</span></span><span class="mpre"> </span><a href="#loc_157_9_157_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_9_157_16&#39;)"><span class="hl_varref"><span class="mpre">combine</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.Program.Types.html#loc_48_8_48_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_48_8_48_19&#39;)"><span class="hl_varref"><span class="mpre">programName</span></span></a><span class="mpre"> </span><a href="#loc_155_17_155_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_17_155_21&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre">) (</span><a href="#loc_155_17_155_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_17_155_21&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre">, </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">, [])
  where </span><a name="loc_157_9_157_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_9_157_16&#39;)"><span class="hl_fundecl"><span class="mpre">combine</span></span></a><span class="mpre"> _ (_, </span><a name="loc_157_23_157_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_23_157_27&#39;)"><span class="hl_vardecl"><span class="mpre">path</span></span></a><span class="mpre">, </span><a name="loc_157_29_157_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_29_157_33&#39;)"><span class="hl_vardecl"><span class="mpre">args</span></span></a><span class="mpre">) = (</span><a href="#loc_155_17_155_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_17_155_21&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre">, </span><a href="#loc_157_23_157_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_23_157_27&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre">, </span><a href="#loc_157_29_157_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_29_157_33&#39;)"><span class="hl_varref"><span class="mpre">args</span></span></a><span class="mpre">)


</span><a href="#loc_161_1_161_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_1_161_17&#39;)"><span class="mpre">addKnownPrograms</span></a><span class="mpre"> :: [</span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Program</span></span></a><span class="mpre">] -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
</span><a name="loc_161_1_161_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_1_161_17&#39;)"><span class="hl_fundecl"><span class="mpre">addKnownPrograms</span></span></a><span class="mpre"> </span><a name="loc_161_18_161_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_18_161_23&#39;)"><span class="hl_vardecl"><span class="mpre">progs</span></span></a><span class="mpre"> </span><a name="loc_161_24_161_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_24_161_28&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre"> = </span><a href="Data.List.html#loc_993_1_993_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_993_1_993_7&#39;)"><span class="hl_varref"><span class="mpre">foldl&#39;</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">flip</span></span><span class="mpre"> </span><a href="#loc_155_1_155_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_1_155_16&#39;)"><span class="hl_varref"><span class="mpre">addKnownProgram</span></span></a><span class="mpre">) </span><a href="#loc_161_24_161_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_24_161_28&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre"> </span><a href="#loc_161_18_161_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_18_161_23&#39;)"><span class="hl_varref"><span class="mpre">progs</span></span></a><span class="mpre">


</span><a href="#loc_165_1_165_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_1_165_19&#39;)"><span class="mpre">lookupKnownProgram</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Program</span></span></a><span class="mpre">
</span><a name="loc_165_1_165_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_1_165_19&#39;)"><span class="hl_fundecl"><span class="mpre">lookupKnownProgram</span></span></a><span class="mpre"> </span><a name="loc_165_20_165_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_20_165_24&#39;)"><span class="hl_vardecl"><span class="mpre">name</span></span></a><span class="mpre"> =
  </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (\(</span><a name="loc_166_11_166_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_11_166_12&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">,_,_)-&gt;</span><a href="#loc_166_11_166_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_11_166_12&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">Map.lookup</span></span><span class="mpre"> </span><a href="#loc_165_20_165_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_20_165_24&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_95_9_95_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_9_95_26&#39;)"><span class="hl_varref"><span class="mpre">unconfiguredProgs</span></span></a><span class="mpre">


</span><a href="#loc_170_1_170_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_1_170_14&#39;)"><span class="mpre">knownPrograms</span></a><span class="mpre"> :: </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre"> -&gt; [(</span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Program</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre">)]
</span><a name="loc_170_1_170_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_1_170_14&#39;)"><span class="hl_fundecl"><span class="mpre">knownPrograms</span></span></a><span class="mpre"> </span><a name="loc_170_15_170_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_15_170_19&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre"> =
  [ (</span><a href="#loc_171_15_171_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_15_171_16&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">,</span><a href="#loc_172_18_172_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_18_172_20&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre">) | (</span><a name="loc_171_15_171_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_15_171_16&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">,_,_) &lt;- </span><span class="hl_varref"><span class="mpre">Map.elems</span></span><span class="mpre"> (</span><a href="#loc_95_9_95_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_9_95_26&#39;)"><span class="hl_varref"><span class="mpre">unconfiguredProgs</span></span></a><span class="mpre"> </span><a href="#loc_170_15_170_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_15_170_19&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">)
           , let </span><a name="loc_172_18_172_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_18_172_20&#39;)"><span class="hl_vardecl"><span class="mpre">p&#39;</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">Map.lookup</span></span><span class="mpre"> (</span><a href="Distribution.Simple.Program.Types.html#loc_48_8_48_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_48_8_48_19&#39;)"><span class="hl_varref"><span class="mpre">programName</span></span></a><span class="mpre"> </span><a href="#loc_171_15_171_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_15_171_16&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">) (</span><a href="#loc_97_9_97_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_9_97_24&#39;)"><span class="hl_varref"><span class="mpre">configuredProgs</span></span></a><span class="mpre"> </span><a href="#loc_170_15_170_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_15_170_19&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">) ]

</span><span class="hl_comment"><span class="mpre">-- | Get the current &#39;ProgramSearchPath&#39; used by the &#39;ProgramDb&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is the default list of locations where programs are looked for when</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- configuring them. This can be overriden for specific programs (with</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;userSpecifyPath&#39;), and specific known programs can modify or ignore this</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- search path in their own configuration code.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_181_1_181_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_1_181_21&#39;)"><span class="mpre">getProgramSearchPath</span></a><span class="mpre"> :: </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ProgramSearchPath</span></span><span class="mpre">
</span><a name="loc_181_1_181_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_1_181_21&#39;)"><span class="hl_vardecl"><span class="mpre">getProgramSearchPath</span></span></a><span class="mpre"> = </span><a href="#loc_96_9_96_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_9_96_23&#39;)"><span class="hl_varref"><span class="mpre">progSearchPath</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Change the current &#39;ProgramSearchPath&#39; used by the &#39;ProgramDb&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This will affect programs that are configured from here on, so you</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- should usually set it before configuring any programs.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_188_1_188_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_1_188_21&#39;)"><span class="mpre">setProgramSearchPath</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ProgramSearchPath</span></span><span class="mpre"> -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
</span><a name="loc_188_1_188_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_1_188_21&#39;)"><span class="hl_fundecl"><span class="mpre">setProgramSearchPath</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">searchpath</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">db</span></span><span class="mpre"> = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/Db.hs&quot;, srcSpanStartLine = 188, srcSpanStartColumn = 38, srcSpanEndLine = 188, srcSpanEndColumn = 72}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/Db.hs&quot;, srcSpanStartLine = 188, srcSpanStartColumn = 41, srcSpanEndLine = 188, srcSpanEndColumn = 42},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distrib"><span class="mpre">db { progSearchPath = searchpath }</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |User-specify this path.  Basically override any path information</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- for this program in the configuration. If it&#39;s not a known</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- program ignore it.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_197_1_197_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_1_197_16&#39;)"><span class="mpre">userSpecifyPath</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">   </span><span class="hl_comment"><span class="mpre">-- ^Program name</span></span><span class="mpre">
                -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^user-specified path to the program</span></span><span class="mpre">
                -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
</span><a name="loc_197_1_197_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_1_197_16&#39;)"><span class="hl_fundecl"><span class="mpre">userSpecifyPath</span></span></a><span class="mpre"> </span><a name="loc_197_17_197_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_17_197_21&#39;)"><span class="hl_vardecl"><span class="mpre">name</span></span></a><span class="mpre"> </span><a name="loc_197_22_197_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_22_197_26&#39;)"><span class="hl_vardecl"><span class="mpre">path</span></span></a><span class="mpre"> = </span><a href="#loc_115_1_115_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_1_115_24&#39;)"><span class="hl_varref"><span class="mpre">updateUnconfiguredProgs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">flip</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">Map.update</span></span><span class="mpre"> </span><a href="#loc_197_17_197_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_17_197_21&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \(</span><a name="loc_198_28_198_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_28_198_32&#39;)"><span class="hl_vardecl"><span class="mpre">prog</span></span></a><span class="mpre">, _, </span><a name="loc_198_37_198_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_37_198_41&#39;)"><span class="hl_vardecl"><span class="mpre">args</span></span></a><span class="mpre">) -&gt; </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><a href="#loc_198_28_198_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_28_198_32&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre">, </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_197_22_197_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_22_197_26&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre">, </span><a href="#loc_198_37_198_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_37_198_41&#39;)"><span class="hl_varref"><span class="mpre">args</span></span></a><span class="mpre">)


</span><a href="#loc_203_1_203_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_1_203_21&#39;)"><span class="mpre">userMaybeSpecifyPath</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
                     -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
</span><a name="loc_203_1_203_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_1_203_21&#39;)"><span class="hl_fundecl"><span class="mpre">userMaybeSpecifyPath</span></span></a><span class="mpre"> _    </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> </span><a name="loc_203_35_203_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_35_203_39&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre">     = </span><a href="#loc_203_35_203_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_35_203_39&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">
</span><a href="#loc_203_1_203_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_1_203_21&#39;)"><span class="hl_fundecl"><span class="mpre">userMaybeSpecifyPath</span></span></a><span class="mpre"> </span><a name="loc_204_22_204_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_22_204_26&#39;)"><span class="hl_vardecl"><span class="mpre">name</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_204_33_204_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_33_204_37&#39;)"><span class="hl_vardecl"><span class="mpre">path</span></span></a><span class="mpre">) </span><a name="loc_204_39_204_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_39_204_43&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre"> = </span><a href="#loc_197_1_197_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_1_197_16&#39;)"><span class="hl_varref"><span class="mpre">userSpecifyPath</span></span></a><span class="mpre"> </span><a href="#loc_204_22_204_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_22_204_26&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><a href="#loc_204_33_204_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_33_204_37&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre"> </span><a href="#loc_204_39_204_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_39_204_43&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- |User-specify the arguments for this program.  Basically override</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- any args information for this program in the configuration. If it&#39;s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- not a known program, ignore it..</span></span><span class="mpre">
</span><a href="#loc_214_1_214_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_16&#39;)"><span class="mpre">userSpecifyArgs</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">    </span><span class="hl_comment"><span class="mpre">-- ^Program name</span></span><span class="mpre">
                -&gt; [</span><span class="hl_tyconref"><span class="mpre">ProgArg</span></span><span class="mpre">] </span><span class="hl_comment"><span class="mpre">-- ^user-specified args</span></span><span class="mpre">
                -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
                -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
</span><a name="loc_214_1_214_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_16&#39;)"><span class="hl_fundecl"><span class="mpre">userSpecifyArgs</span></span></a><span class="mpre"> </span><a name="loc_214_17_214_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_17_214_21&#39;)"><span class="hl_vardecl"><span class="mpre">name</span></span></a><span class="mpre"> </span><a name="loc_214_22_214_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_22_214_27&#39;)"><span class="hl_vardecl"><span class="mpre">args&#39;</span></span></a><span class="mpre"> =
    </span><a href="#loc_115_1_115_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_1_115_24&#39;)"><span class="hl_varref"><span class="mpre">updateUnconfiguredProgs</span></span></a><span class="mpre">
      (</span><span class="hl_varref"><span class="mpre">flip</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">Map.update</span></span><span class="mpre"> </span><a href="#loc_214_17_214_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_17_214_21&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
         \(</span><a name="loc_217_12_217_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_12_217_16&#39;)"><span class="hl_vardecl"><span class="mpre">prog</span></span></a><span class="mpre">, </span><a name="loc_217_18_217_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_18_217_22&#39;)"><span class="hl_vardecl"><span class="mpre">path</span></span></a><span class="mpre">, </span><a name="loc_217_24_217_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_24_217_28&#39;)"><span class="hl_vardecl"><span class="mpre">args</span></span></a><span class="mpre">) -&gt; </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><a href="#loc_217_12_217_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_12_217_16&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre">, </span><a href="#loc_217_18_217_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_18_217_22&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre">, </span><a href="#loc_217_24_217_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_24_217_28&#39;)"><span class="hl_varref"><span class="mpre">args</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_214_22_214_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_22_214_27&#39;)"><span class="hl_varref"><span class="mpre">args&#39;</span></span></a><span class="mpre">))
  </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_120_1_120_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_1_120_22&#39;)"><span class="hl_varref"><span class="mpre">updateConfiguredProgs</span></span></a><span class="mpre">
      (</span><span class="hl_varref"><span class="mpre">flip</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">Map.update</span></span><span class="mpre"> </span><a href="#loc_214_17_214_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_17_214_21&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
         \</span><span class="hl_vardecl"><span class="mpre">prog</span></span><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/Db.hs&quot;, srcSpanStartLine = 220, srcSpanStartColumn = 24, srcSpanEndLine = 221, srcSpanEndColumn = 60}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/Db.hs&quot;, srcSpanStartLine = 220, srcSpanStartColumn = 29, srcSpanEndLine = 220, srcSpanEndColumn = 30},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distrib"><span class="mpre">prog { programOverrideArgs = programOverrideArgs prog
                                                 ++ args&#39; }</span></span><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">-- | Like &#39;userSpecifyPath&#39; but for a list of progs and their paths.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_229_1_229_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_1_229_17&#39;)"><span class="mpre">userSpecifyPaths</span></a><span class="mpre"> :: [(</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">)]
                 -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
                 -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
</span><a name="loc_229_1_229_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_1_229_17&#39;)"><span class="hl_fundecl"><span class="mpre">userSpecifyPaths</span></span></a><span class="mpre"> </span><a name="loc_229_18_229_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_18_229_23&#39;)"><span class="hl_vardecl"><span class="mpre">paths</span></span></a><span class="mpre"> </span><a name="loc_229_24_229_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_24_229_28&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre"> =
  </span><a href="Data.List.html#loc_993_1_993_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_993_1_993_7&#39;)"><span class="hl_varref"><span class="mpre">foldl&#39;</span></span></a><span class="mpre"> (\</span><a name="loc_230_12_230_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_12_230_17&#39;)"><span class="hl_vardecl"><span class="mpre">conf&#39;</span></span></a><span class="mpre"> (</span><a name="loc_230_19_230_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_19_230_23&#39;)"><span class="hl_vardecl"><span class="mpre">prog</span></span></a><span class="mpre">, </span><a name="loc_230_25_230_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_25_230_29&#39;)"><span class="hl_vardecl"><span class="mpre">path</span></span></a><span class="mpre">) -&gt; </span><a href="#loc_197_1_197_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_1_197_16&#39;)"><span class="hl_varref"><span class="mpre">userSpecifyPath</span></span></a><span class="mpre"> </span><a href="#loc_230_19_230_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_19_230_23&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a href="#loc_230_25_230_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_25_230_29&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre"> </span><a href="#loc_230_12_230_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_12_230_17&#39;)"><span class="hl_varref"><span class="mpre">conf&#39;</span></span></a><span class="mpre">) </span><a href="#loc_229_24_229_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_24_229_28&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre"> </span><a href="#loc_229_18_229_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_18_229_23&#39;)"><span class="hl_varref"><span class="mpre">paths</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Like &#39;userSpecifyPath&#39; but for a list of progs and their args.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_238_1_238_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_1_238_17&#39;)"><span class="mpre">userSpecifyArgss</span></a><span class="mpre"> :: [(</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">, [</span><span class="hl_tyconref"><span class="mpre">ProgArg</span></span><span class="mpre">])]
                 -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
                 -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
</span><a name="loc_238_1_238_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_1_238_17&#39;)"><span class="hl_fundecl"><span class="mpre">userSpecifyArgss</span></span></a><span class="mpre"> </span><a name="loc_238_18_238_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_18_238_23&#39;)"><span class="hl_vardecl"><span class="mpre">argss</span></span></a><span class="mpre"> </span><a name="loc_238_24_238_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_24_238_28&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre"> =
  </span><a href="Data.List.html#loc_993_1_993_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_993_1_993_7&#39;)"><span class="hl_varref"><span class="mpre">foldl&#39;</span></span></a><span class="mpre"> (\</span><a name="loc_239_12_239_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_12_239_17&#39;)"><span class="hl_vardecl"><span class="mpre">conf&#39;</span></span></a><span class="mpre"> (</span><a name="loc_239_19_239_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_19_239_23&#39;)"><span class="hl_vardecl"><span class="mpre">prog</span></span></a><span class="mpre">, </span><a name="loc_239_25_239_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_25_239_29&#39;)"><span class="hl_vardecl"><span class="mpre">args</span></span></a><span class="mpre">) -&gt; </span><a href="#loc_214_1_214_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_16&#39;)"><span class="hl_varref"><span class="mpre">userSpecifyArgs</span></span></a><span class="mpre"> </span><a href="#loc_239_19_239_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_19_239_23&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a href="#loc_239_25_239_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_25_239_29&#39;)"><span class="hl_varref"><span class="mpre">args</span></span></a><span class="mpre"> </span><a href="#loc_239_12_239_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_12_239_17&#39;)"><span class="hl_varref"><span class="mpre">conf&#39;</span></span></a><span class="mpre">) </span><a href="#loc_238_24_238_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_24_238_28&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre"> </span><a href="#loc_238_18_238_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_18_238_23&#39;)"><span class="hl_varref"><span class="mpre">argss</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Get the path that has been previously specified for a program, if any.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_245_1_245_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_245_1_245_18&#39;)"><span class="mpre">userSpecifiedPath</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Program</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
</span><a name="loc_245_1_245_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_245_1_245_18&#39;)"><span class="hl_fundecl"><span class="mpre">userSpecifiedPath</span></span></a><span class="mpre"> </span><a name="loc_245_19_245_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_245_19_245_23&#39;)"><span class="hl_vardecl"><span class="mpre">prog</span></span></a><span class="mpre"> =
  </span><a href="Control.Monad.html#loc_204_1_204_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_204_1_204_5&#39;)"><span class="hl_varref"><span class="mpre">join</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (\(_,</span><a name="loc_246_20_246_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_20_246_21&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">,_)-&gt;</span><a href="#loc_246_20_246_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_20_246_21&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">Map.lookup</span></span><span class="mpre"> (</span><a href="Distribution.Simple.Program.Types.html#loc_48_8_48_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_48_8_48_19&#39;)"><span class="hl_varref"><span class="mpre">programName</span></span></a><span class="mpre"> </span><a href="#loc_245_19_245_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_245_19_245_23&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_95_9_95_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_9_95_26&#39;)"><span class="hl_varref"><span class="mpre">unconfiguredProgs</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Get any extra args that have been previously specified for a program.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_252_1_252_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_1_252_18&#39;)"><span class="mpre">userSpecifiedArgs</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Program</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">ProgArg</span></span><span class="mpre">]
</span><a name="loc_252_1_252_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_1_252_18&#39;)"><span class="hl_fundecl"><span class="mpre">userSpecifiedArgs</span></span></a><span class="mpre"> </span><a name="loc_252_19_252_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_19_252_23&#39;)"><span class="hl_vardecl"><span class="mpre">prog</span></span></a><span class="mpre"> =
  </span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> [] (\(_,_,</span><a name="loc_253_19_253_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_19_253_21&#39;)"><span class="hl_vardecl"><span class="mpre">as</span></span></a><span class="mpre">)-&gt;</span><a href="#loc_253_19_253_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_19_253_21&#39;)"><span class="hl_varref"><span class="mpre">as</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">Map.lookup</span></span><span class="mpre"> (</span><a href="Distribution.Simple.Program.Types.html#loc_48_8_48_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_48_8_48_19&#39;)"><span class="hl_varref"><span class="mpre">programName</span></span></a><span class="mpre"> </span><a href="#loc_252_19_252_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_19_252_23&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_95_9_95_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_9_95_26&#39;)"><span class="hl_varref"><span class="mpre">unconfiguredProgs</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- -----------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Managing configured programs</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Try to find a configured program</span></span><span class="mpre">
</span><a href="#loc_261_1_261_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_1_261_14&#39;)"><span class="mpre">lookupProgram</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Program</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre">
</span><a name="loc_261_1_261_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_1_261_14&#39;)"><span class="hl_fundecl"><span class="mpre">lookupProgram</span></span></a><span class="mpre"> </span><a name="loc_261_15_261_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_15_261_19&#39;)"><span class="hl_vardecl"><span class="mpre">prog</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">Map.lookup</span></span><span class="mpre"> (</span><a href="Distribution.Simple.Program.Types.html#loc_48_8_48_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_48_8_48_19&#39;)"><span class="hl_varref"><span class="mpre">programName</span></span></a><span class="mpre"> </span><a href="#loc_261_15_261_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_15_261_19&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_97_9_97_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_9_97_24&#39;)"><span class="hl_varref"><span class="mpre">configuredProgs</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Update a configured program in the database.</span></span><span class="mpre">
</span><a href="#loc_267_1_267_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_1_267_14&#39;)"><span class="mpre">updateProgram</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
                                   -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
</span><a name="loc_267_1_267_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_1_267_14&#39;)"><span class="hl_fundecl"><span class="mpre">updateProgram</span></span></a><span class="mpre"> </span><a name="loc_267_15_267_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_15_267_19&#39;)"><span class="hl_vardecl"><span class="mpre">prog</span></span></a><span class="mpre"> = </span><a href="#loc_120_1_120_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_1_120_22&#39;)"><span class="hl_varref"><span class="mpre">updateConfiguredProgs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">Map.insert</span></span><span class="mpre"> (</span><a href="Distribution.Simple.Program.Types.html#loc_79_8_79_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_79_8_79_17&#39;)"><span class="hl_varref"><span class="mpre">programId</span></span></a><span class="mpre"> </span><a href="#loc_267_15_267_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_15_267_19&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre">) </span><a href="#loc_267_15_267_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_15_267_19&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- ---------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Configuring known programs</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Try to configure a specific program. If the program is already included in</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the colleciton of unconfigured programs then we use any user-supplied</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- location and arguments. If the program gets configured sucessfully it gets</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- added to the configured collection.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note that it is not a failure if the program cannot be configured. It&#39;s only</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- a failure if the user supplied a location and the program could not be found</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- at that location.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The reason for it not being a failure at this stage is that we don&#39;t know up</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- front all the programs we will need, so we try to configure them all.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- To verify that a program was actually sucessfully configured use</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;requireProgram&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_292_1_292_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_1_292_17&#39;)"><span class="mpre">configureProgram</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">
                 -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Program</span></span></a><span class="mpre">
                 -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
                 -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
</span><a name="loc_292_1_292_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_1_292_17&#39;)"><span class="hl_fundecl"><span class="mpre">configureProgram</span></span></a><span class="mpre"> </span><a name="loc_292_18_292_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_18_292_27&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_292_28_292_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_28_292_32&#39;)"><span class="hl_vardecl"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a name="loc_292_33_292_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_33_292_37&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre"> = do
  let </span><a name="loc_293_7_293_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_293_7_293_11&#39;)"><span class="hl_vardecl"><span class="mpre">name</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Program.Types.html#loc_48_8_48_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_48_8_48_19&#39;)"><span class="hl_varref"><span class="mpre">programName</span></span></a><span class="mpre"> </span><a href="#loc_292_28_292_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_28_292_32&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre">
  </span><a name="loc_294_3_294_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_3_294_16&#39;)"><span class="hl_vardecl"><span class="mpre">maybeLocation</span></span></a><span class="mpre"> &lt;- case </span><a href="#loc_245_1_245_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_245_1_245_18&#39;)"><span class="hl_varref"><span class="mpre">userSpecifiedPath</span></span></a><span class="mpre"> </span><a href="#loc_292_28_292_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_28_292_32&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a href="#loc_292_33_292_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_33_292_37&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre"> of
    </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">   -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_56_8_56_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_56_8_56_27&#39;)"><span class="hl_varref"><span class="mpre">programFindLocation</span></span></a><span class="mpre"> </span><a href="#loc_292_28_292_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_28_292_32&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a href="#loc_292_18_292_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_18_292_27&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> (</span><a href="#loc_96_9_96_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_9_96_23&#39;)"><span class="hl_varref"><span class="mpre">progSearchPath</span></span></a><span class="mpre"> </span><a href="#loc_292_33_292_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_33_292_37&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">)
             </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">FoundOnSystem</span></span><span class="mpre">
    </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_297_10_297_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_10_297_14&#39;)"><span class="hl_vardecl"><span class="mpre">path</span></span></a><span class="mpre"> -&gt; do
      </span><a name="loc_298_7_298_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_298_7_298_15&#39;)"><span class="hl_vardecl"><span class="mpre">absolute</span></span></a><span class="mpre"> &lt;- </span><a href="System.Directory.html#loc_726_1_726_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_726_1_726_14&#39;)"><span class="hl_varref"><span class="mpre">doesFileExist</span></span></a><span class="mpre"> </span><a href="#loc_297_10_297_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_10_297_14&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre">
      if </span><a href="#loc_298_7_298_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_298_7_298_15&#39;)"><span class="hl_varref"><span class="mpre">absolute</span></span></a><span class="mpre">
        then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">UserSpecified</span></span><span class="mpre"> </span><a href="#loc_297_10_297_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_10_297_14&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre">))
        else </span><a href="Distribution.Simple.Program.Find.html#loc_69_1_69_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Find.html#loc_69_1_69_24&#39;)"><span class="hl_varref"><span class="mpre">findProgramOnSearchPath</span></span></a><span class="mpre"> </span><a href="#loc_292_18_292_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_18_292_27&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> (</span><a href="#loc_96_9_96_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_9_96_23&#39;)"><span class="hl_varref"><span class="mpre">progSearchPath</span></span></a><span class="mpre"> </span><a href="#loc_292_33_292_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_33_292_37&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">) </span><a href="#loc_297_10_297_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_10_297_14&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre">
         </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> (</span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><a href="#loc_303_13_303_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_13_303_21&#39;)"><span class="hl_varref"><span class="mpre">notFound</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">UserSpecified</span></span><span class="mpre">)
      where </span><a name="loc_303_13_303_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_13_303_21&#39;)"><span class="hl_vardecl"><span class="mpre">notFound</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;Cannot find the program &#39;&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_293_7_293_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_293_7_293_11&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;&#39; at &#39;&quot;</span></span><span class="mpre">
                     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_297_10_297_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_10_297_14&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;&#39; or on the path&quot;</span></span><span class="mpre">
  case </span><a href="#loc_294_3_294_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_3_294_16&#39;)"><span class="hl_varref"><span class="mpre">maybeLocation</span></span></a><span class="mpre"> of
    </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_292_33_292_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_33_292_37&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">
    </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_307_10_307_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_10_307_18&#39;)"><span class="hl_vardecl"><span class="mpre">location</span></span></a><span class="mpre"> -&gt; do
      </span><span class="hl_vardecl"><span class="mpre">version</span></span><span class="mpre"> &lt;- </span><a href="Distribution.Simple.Program.Types.html#loc_61_8_61_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_61_8_61_26&#39;)"><span class="hl_varref"><span class="mpre">programFindVersion</span></span></a><span class="mpre"> </span><a href="#loc_292_28_292_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_28_292_32&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a href="#loc_292_18_292_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_18_292_27&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.Program.Types.html#loc_106_23_106_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_106_23_106_35&#39;)"><span class="hl_varref"><span class="mpre">locationPath</span></span></a><span class="mpre"> </span><a href="#loc_307_10_307_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_10_307_18&#39;)"><span class="hl_varref"><span class="mpre">location</span></span></a><span class="mpre">)
      </span><span class="hl_vardecl"><span class="mpre">newPath</span></span><span class="mpre"> &lt;- </span><a href="Distribution.Simple.Program.Find.html#loc_112_1_112_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Find.html#loc_112_1_112_27&#39;)"><span class="hl_varref"><span class="mpre">programSearchPathAsPATHVar</span></span></a><span class="mpre"> (</span><a href="#loc_96_9_96_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_9_96_23&#39;)"><span class="hl_varref"><span class="mpre">progSearchPath</span></span></a><span class="mpre"> </span><a href="#loc_292_33_292_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_33_292_37&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">)
      let </span><a name="loc_310_11_310_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_11_310_25&#39;)"><span class="hl_vardecl"><span class="mpre">configuredProg</span></span></a><span class="mpre">        = </span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/Db.hs&quot;, srcSpanStartLine = 310, srcSpanStartColumn = 35, srcSpanEndLine = 317, srcSpanEndColumn = 12}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/Db.hs&quot;, srcSpanStartLine = 310, srcSpanStartColumn = 53, srcSpanEndLine = 310, srcSpanEndColumn = 54},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distrib"><span class="mpre">ConfiguredProgram {
            programId           = name,
            programVersion      = version,
            programDefaultArgs  = [],
            programOverrideArgs = userSpecifiedArgs prog conf,
            programOverrideEnv  = [(&quot;PATH&quot;, Just newPath)],
            programLocation     = location
          }</span></span><span class="mpre">
      </span><a name="loc_318_7_318_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_318_7_318_22&#39;)"><span class="hl_vardecl"><span class="mpre">configuredProg&#39;</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.Simple.Program.Types.html#loc_66_8_66_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_66_8_66_23&#39;)"><span class="hl_varref"><span class="mpre">programPostConf</span></span></a><span class="mpre"> </span><a href="#loc_292_28_292_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_28_292_32&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a href="#loc_292_18_292_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_18_292_27&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_310_11_310_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_11_310_25&#39;)"><span class="hl_varref"><span class="mpre">configuredProg</span></span></a><span class="mpre">
      </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_120_1_120_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_1_120_22&#39;)"><span class="hl_varref"><span class="mpre">updateConfiguredProgs</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">Map.insert</span></span><span class="mpre"> </span><a href="#loc_293_7_293_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_293_7_293_11&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><a href="#loc_318_7_318_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_318_7_318_22&#39;)"><span class="hl_varref"><span class="mpre">configuredProg&#39;</span></span></a><span class="mpre">) </span><a href="#loc_292_33_292_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_33_292_37&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">-- | Configure a bunch of programs using &#39;configureProgram&#39;. Just a &#39;foldM&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_328_1_328_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_1_328_18&#39;)"><span class="mpre">configurePrograms</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">
                  -&gt; [</span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Program</span></span></a><span class="mpre">]
                  -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
                  -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
</span><a name="loc_328_1_328_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_1_328_18&#39;)"><span class="hl_fundecl"><span class="mpre">configurePrograms</span></span></a><span class="mpre"> </span><a name="loc_328_19_328_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_19_328_28&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_328_29_328_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_29_328_34&#39;)"><span class="hl_vardecl"><span class="mpre">progs</span></span></a><span class="mpre"> </span><a name="loc_328_35_328_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_35_328_39&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre"> =
  </span><a href="Control.Monad.html#loc_240_1_240_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_240_1_240_6&#39;)"><span class="hl_varref"><span class="mpre">foldM</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">flip</span></span><span class="mpre"> (</span><a href="#loc_292_1_292_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_1_292_17&#39;)"><span class="hl_varref"><span class="mpre">configureProgram</span></span></a><span class="mpre"> </span><a href="#loc_328_19_328_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_19_328_28&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">)) </span><a href="#loc_328_35_328_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_35_328_39&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre"> </span><a href="#loc_328_29_328_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_29_328_34&#39;)"><span class="hl_varref"><span class="mpre">progs</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Try to configure all the known programs that have not yet been configured.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_337_1_337_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_1_337_26&#39;)"><span class="mpre">configureAllKnownPrograms</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">
                          -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
                          -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
</span><a name="loc_337_1_337_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_1_337_26&#39;)"><span class="hl_fundecl"><span class="mpre">configureAllKnownPrograms</span></span></a><span class="mpre"> </span><a name="loc_337_27_337_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_27_337_36&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_337_37_337_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_37_337_41&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre"> =
  </span><a href="#loc_328_1_328_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_1_328_18&#39;)"><span class="hl_varref"><span class="mpre">configurePrograms</span></span></a><span class="mpre"> </span><a href="#loc_337_27_337_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_27_337_36&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
    [ </span><a href="#loc_339_15_339_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_15_339_19&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> | (</span><a name="loc_339_15_339_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_15_339_19&#39;)"><span class="hl_vardecl"><span class="mpre">prog</span></span></a><span class="mpre">,_,_) &lt;- </span><span class="hl_varref"><span class="mpre">Map.elems</span></span><span class="mpre"> </span><a href="#loc_341_5_341_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_341_5_341_21&#39;)"><span class="hl_varref"><span class="mpre">notYetConfigured</span></span></a><span class="mpre"> ] </span><a href="#loc_337_37_337_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_37_337_41&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">
  where
    </span><a name="loc_341_5_341_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_341_5_341_21&#39;)"><span class="hl_vardecl"><span class="mpre">notYetConfigured</span></span></a><span class="mpre"> = </span><a href="#loc_95_9_95_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_9_95_26&#39;)"><span class="hl_varref"><span class="mpre">unconfiguredProgs</span></span></a><span class="mpre"> </span><a href="#loc_337_37_337_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_37_337_41&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">
      </span><span class="hl_infix"><span class="mpre">`Map.difference`</span></span><span class="mpre"> </span><a href="#loc_97_9_97_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_9_97_24&#39;)"><span class="hl_varref"><span class="mpre">configuredProgs</span></span></a><span class="mpre"> </span><a href="#loc_337_37_337_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_37_337_41&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | reconfigure a bunch of programs given new user-specified args. It takes</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the same inputs as &#39;userSpecifyPath&#39; and &#39;userSpecifyArgs&#39; and for all progs</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- with a new path it calls &#39;configureProgram&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_354_1_354_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_1_354_20&#39;)"><span class="mpre">reconfigurePrograms</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">
                    -&gt; [(</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">)]
                    -&gt; [(</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">, [</span><span class="hl_tyconref"><span class="mpre">ProgArg</span></span><span class="mpre">])]
                    -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
                    -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
</span><a name="loc_354_1_354_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_1_354_20&#39;)"><span class="hl_fundecl"><span class="mpre">reconfigurePrograms</span></span></a><span class="mpre"> </span><a name="loc_354_21_354_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_21_354_30&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_354_31_354_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_31_354_36&#39;)"><span class="hl_vardecl"><span class="mpre">paths</span></span></a><span class="mpre"> </span><a name="loc_354_37_354_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_37_354_42&#39;)"><span class="hl_vardecl"><span class="mpre">argss</span></span></a><span class="mpre"> </span><a name="loc_354_43_354_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_43_354_47&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre"> = do
  </span><a href="#loc_328_1_328_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_1_328_18&#39;)"><span class="hl_varref"><span class="mpre">configurePrograms</span></span></a><span class="mpre"> </span><a href="#loc_354_21_354_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_21_354_30&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_361_5_361_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_361_5_361_10&#39;)"><span class="hl_varref"><span class="mpre">progs</span></span></a><span class="mpre">
   </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_229_1_229_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_1_229_17&#39;)"><span class="hl_varref"><span class="mpre">userSpecifyPaths</span></span></a><span class="mpre"> </span><a href="#loc_354_31_354_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_31_354_36&#39;)"><span class="hl_varref"><span class="mpre">paths</span></span></a><span class="mpre">
   </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_238_1_238_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_1_238_17&#39;)"><span class="hl_varref"><span class="mpre">userSpecifyArgss</span></span></a><span class="mpre"> </span><a href="#loc_354_37_354_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_37_354_42&#39;)"><span class="hl_varref"><span class="mpre">argss</span></span></a><span class="mpre">
   </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_354_43_354_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_43_354_47&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">

  where
    </span><a name="loc_361_5_361_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_361_5_361_10&#39;)"><span class="hl_vardecl"><span class="mpre">progs</span></span></a><span class="mpre"> = </span><a href="Data.Maybe.html#loc_115_1_115_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_115_1_115_10&#39;)"><span class="hl_varref"><span class="mpre">catMaybes</span></span></a><span class="mpre"> [ </span><a href="#loc_165_1_165_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_1_165_19&#39;)"><span class="hl_varref"><span class="mpre">lookupKnownProgram</span></span></a><span class="mpre"> </span><a href="#loc_361_57_361_61" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_361_57_361_61&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><a href="#loc_354_43_354_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_43_354_47&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre"> | (</span><a name="loc_361_57_361_61" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_361_57_361_61&#39;)"><span class="hl_vardecl"><span class="mpre">name</span></span></a><span class="mpre">,_) &lt;- </span><a href="#loc_354_31_354_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_31_354_36&#39;)"><span class="hl_varref"><span class="mpre">paths</span></span></a><span class="mpre"> ]


</span><span class="hl_comment"><span class="mpre">-- | Check that a program is configured and available to be run.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- It raises an exception if the program could not be configured, otherwise</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- it returns the configured program.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_371_1_371_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_371_1_371_15&#39;)"><span class="mpre">requireProgram</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Program</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
               -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre">, </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">)
</span><a name="loc_371_1_371_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_371_1_371_15&#39;)"><span class="hl_fundecl"><span class="mpre">requireProgram</span></span></a><span class="mpre"> </span><a name="loc_371_16_371_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_371_16_371_25&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_371_26_371_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_371_26_371_30&#39;)"><span class="hl_vardecl"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a name="loc_371_31_371_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_371_31_371_35&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre"> = do

  </span><span class="hl_comment"><span class="mpre">-- If it&#39;s not already been configured, try to configure it now</span></span><span class="mpre">
  </span><a name="loc_374_3_374_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_374_3_374_8&#39;)"><span class="hl_vardecl"><span class="mpre">conf&#39;</span></span></a><span class="mpre"> &lt;- case </span><a href="#loc_261_1_261_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_1_261_14&#39;)"><span class="hl_varref"><span class="mpre">lookupProgram</span></span></a><span class="mpre"> </span><a href="#loc_371_26_371_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_371_26_371_30&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a href="#loc_371_31_371_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_371_31_371_35&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre"> of
    </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; </span><a href="#loc_292_1_292_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_1_292_17&#39;)"><span class="hl_varref"><span class="mpre">configureProgram</span></span></a><span class="mpre"> </span><a href="#loc_371_16_371_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_371_16_371_25&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_371_26_371_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_371_26_371_30&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a href="#loc_371_31_371_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_371_31_371_35&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">
    </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> _  -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_371_31_371_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_371_31_371_35&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">

  case </span><a href="#loc_261_1_261_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_1_261_14&#39;)"><span class="hl_varref"><span class="mpre">lookupProgram</span></span></a><span class="mpre"> </span><a href="#loc_371_26_371_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_371_26_371_30&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a href="#loc_374_3_374_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_374_3_374_8&#39;)"><span class="hl_varref"><span class="mpre">conf&#39;</span></span></a><span class="mpre"> of
    </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">             -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><a href="#loc_382_9_382_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_382_9_382_17&#39;)"><span class="hl_varref"><span class="mpre">notFound</span></span></a><span class="mpre">
    </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_380_10_380_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_380_10_380_24&#39;)"><span class="hl_vardecl"><span class="mpre">configuredProg</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_380_10_380_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_380_10_380_24&#39;)"><span class="hl_varref"><span class="mpre">configuredProg</span></span></a><span class="mpre">, </span><a href="#loc_374_3_374_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_374_3_374_8&#39;)"><span class="hl_varref"><span class="mpre">conf&#39;</span></span></a><span class="mpre">)

  where </span><a name="loc_382_9_382_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_382_9_382_17&#39;)"><span class="hl_vardecl"><span class="mpre">notFound</span></span></a><span class="mpre">       = </span><span class="hl_string"><span class="mpre">&quot;The program &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_48_8_48_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_48_8_48_19&#39;)"><span class="hl_varref"><span class="mpre">programName</span></span></a><span class="mpre"> </span><a href="#loc_371_26_371_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_371_26_371_30&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre">
                      </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; is required but it could not be found.&quot;</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Check that a program is configured and available to be run.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Additionally check that the version of the program number is suitable and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- return it. For example you could require &#39;AnyVersion&#39; or</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @&#39;orLaterVersion&#39; (&#39;Version&#39; [1,0] [])@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- It raises an exception if the program could not be configured or the version</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- is unsuitable, otherwise it returns the configured program and its version</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- number.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_399_1_399_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_1_399_22&#39;)"><span class="mpre">requireProgramVersion</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Program</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Version.html#loc_113_6_113_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Version.html#loc_113_6_113_18&#39;)"><span class="hl_tyconref"><span class="mpre">VersionRange</span></span></a><span class="mpre">
                      -&gt; </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">
                      -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre">, </span><a href="Data.Version.html#loc_68_6_68_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Version.html#loc_68_6_68_13&#39;)"><span class="hl_tyconref"><span class="mpre">Version</span></span></a><span class="mpre">, </span><a href="#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">)
</span><a name="loc_399_1_399_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_1_399_22&#39;)"><span class="hl_fundecl"><span class="mpre">requireProgramVersion</span></span></a><span class="mpre"> </span><a name="loc_399_23_399_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_23_399_32&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_399_33_399_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_33_399_37&#39;)"><span class="hl_vardecl"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a name="loc_399_38_399_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_38_399_43&#39;)"><span class="hl_vardecl"><span class="mpre">range</span></span></a><span class="mpre"> </span><a name="loc_399_44_399_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_44_399_48&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre"> = do

  </span><span class="hl_comment"><span class="mpre">-- If it&#39;s not already been configured, try to configure it now</span></span><span class="mpre">
  </span><a name="loc_402_3_402_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_402_3_402_8&#39;)"><span class="hl_vardecl"><span class="mpre">conf&#39;</span></span></a><span class="mpre"> &lt;- case </span><a href="#loc_261_1_261_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_1_261_14&#39;)"><span class="hl_varref"><span class="mpre">lookupProgram</span></span></a><span class="mpre"> </span><a href="#loc_399_33_399_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_33_399_37&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a href="#loc_399_44_399_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_44_399_48&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre"> of
    </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; </span><a href="#loc_292_1_292_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_1_292_17&#39;)"><span class="hl_varref"><span class="mpre">configureProgram</span></span></a><span class="mpre"> </span><a href="#loc_399_23_399_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_23_399_32&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_399_33_399_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_33_399_37&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a href="#loc_399_44_399_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_44_399_48&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">
    </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> _  -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_399_44_399_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_44_399_48&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">

  case </span><a href="#loc_261_1_261_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_1_261_14&#39;)"><span class="hl_varref"><span class="mpre">lookupProgram</span></span></a><span class="mpre"> </span><a href="#loc_399_33_399_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_33_399_37&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a href="#loc_402_3_402_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_402_3_402_8&#39;)"><span class="hl_varref"><span class="mpre">conf&#39;</span></span></a><span class="mpre"> of
    </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">                           -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><a href="#loc_415_9_415_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_415_9_415_17&#39;)"><span class="hl_varref"><span class="mpre">notFound</span></span></a><span class="mpre">
    </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_408_10_408_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_10_408_24&#39;)"><span class="hl_specname"><span class="mpre">configuredProg</span></span></a><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/Db.hs&quot;, srcSpanStartLine = 408, srcSpanStartColumn = 25, srcSpanEndLine = 408, srcSpanEndColumn = 73}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/Db.hs&quot;, srcSpanStartLine = 408, srcSpanStartColumn = 43, srcSpanEndLine = 408, srcSpanEndColumn = 44},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution"><span class="mpre">ConfiguredProgram { programLocation = location }</span></span><span class="mpre"> -&gt;
      case </span><a href="Distribution.Simple.Program.Types.html#loc_82_8_82_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_82_8_82_22&#39;)"><span class="hl_varref"><span class="mpre">programVersion</span></span></a><span class="mpre"> </span><a href="#loc_408_10_408_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_10_408_24&#39;)"><span class="hl_varref"><span class="mpre">configuredProg</span></span></a><span class="mpre"> of
        </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_410_14_410_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_410_14_410_21&#39;)"><span class="hl_vardecl"><span class="mpre">version</span></span></a><span class="mpre">
          | </span><a href="Distribution.Version.html#loc_317_1_317_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Version.html#loc_317_1_317_12&#39;)"><span class="hl_varref"><span class="mpre">withinRange</span></span></a><span class="mpre"> </span><a href="#loc_410_14_410_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_410_14_410_21&#39;)"><span class="hl_varref"><span class="mpre">version</span></span></a><span class="mpre"> </span><a href="#loc_399_38_399_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_38_399_43&#39;)"><span class="hl_varref"><span class="mpre">range</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_408_10_408_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_10_408_24&#39;)"><span class="hl_varref"><span class="mpre">configuredProg</span></span></a><span class="mpre">, </span><a href="#loc_410_14_410_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_410_14_410_21&#39;)"><span class="hl_varref"><span class="mpre">version</span></span></a><span class="mpre">, </span><a href="#loc_402_3_402_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_402_3_402_8&#39;)"><span class="hl_varref"><span class="mpre">conf&#39;</span></span></a><span class="mpre">)
          | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">                 -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> (</span><a href="#loc_418_9_418_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_9_418_19&#39;)"><span class="hl_varref"><span class="mpre">badVersion</span></span></a><span class="mpre"> </span><a href="#loc_410_14_410_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_410_14_410_21&#39;)"><span class="hl_varref"><span class="mpre">version</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">location</span></span><span class="mpre">)
        </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">                       -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> (</span><a href="#loc_422_9_422_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_422_9_422_18&#39;)"><span class="hl_varref"><span class="mpre">noVersion</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">location</span></span><span class="mpre">)

  where </span><a name="loc_415_9_415_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_415_9_415_17&#39;)"><span class="hl_vardecl"><span class="mpre">notFound</span></span></a><span class="mpre">       = </span><span class="hl_string"><span class="mpre">&quot;The program &quot;</span></span><span class="mpre">
                      </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_48_8_48_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_48_8_48_19&#39;)"><span class="hl_varref"><span class="mpre">programName</span></span></a><span class="mpre"> </span><a href="#loc_399_33_399_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_33_399_37&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_426_9_426_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_426_9_426_27&#39;)"><span class="hl_varref"><span class="mpre">versionRequirement</span></span></a><span class="mpre">
                      </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; is required but it could not be found.&quot;</span></span><span class="mpre">
        </span><a name="loc_418_9_418_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_9_418_19&#39;)"><span class="hl_fundecl"><span class="mpre">badVersion</span></span></a><span class="mpre"> </span><a name="loc_418_20_418_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_20_418_21&#39;)"><span class="hl_vardecl"><span class="mpre">v</span></span></a><span class="mpre"> </span><a name="loc_418_22_418_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_22_418_23&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;The program &quot;</span></span><span class="mpre">
                      </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_48_8_48_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_48_8_48_19&#39;)"><span class="hl_varref"><span class="mpre">programName</span></span></a><span class="mpre"> </span><a href="#loc_399_33_399_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_33_399_37&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_426_9_426_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_426_9_426_27&#39;)"><span class="hl_varref"><span class="mpre">versionRequirement</span></span></a><span class="mpre">
                      </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; is required but the version found at &quot;</span></span><span class="mpre">
                      </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_106_23_106_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_106_23_106_35&#39;)"><span class="hl_varref"><span class="mpre">locationPath</span></span></a><span class="mpre"> </span><a href="#loc_418_22_418_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_22_418_23&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; is version &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><a href="#loc_418_20_418_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_20_418_21&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre">
        </span><a name="loc_422_9_422_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_422_9_422_18&#39;)"><span class="hl_fundecl"><span class="mpre">noVersion</span></span></a><span class="mpre"> </span><a name="loc_422_19_422_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_422_19_422_20&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre">    = </span><span class="hl_string"><span class="mpre">&quot;The program &quot;</span></span><span class="mpre">
                      </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_48_8_48_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_48_8_48_19&#39;)"><span class="hl_varref"><span class="mpre">programName</span></span></a><span class="mpre"> </span><a href="#loc_399_33_399_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_33_399_37&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_426_9_426_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_426_9_426_27&#39;)"><span class="hl_varref"><span class="mpre">versionRequirement</span></span></a><span class="mpre">
                      </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; is required but the version of &quot;</span></span><span class="mpre">
                      </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_106_23_106_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_106_23_106_35&#39;)"><span class="hl_varref"><span class="mpre">locationPath</span></span></a><span class="mpre"> </span><a href="#loc_422_19_422_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_422_19_422_20&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; could not be determined.&quot;</span></span><span class="mpre">
        </span><a name="loc_426_9_426_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_426_9_426_27&#39;)"><span class="hl_vardecl"><span class="mpre">versionRequirement</span></span></a><span class="mpre">
          | </span><a href="Distribution.Version.html#loc_359_1_359_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Version.html#loc_359_1_359_13&#39;)"><span class="hl_varref"><span class="mpre">isAnyVersion</span></span></a><span class="mpre"> </span><a href="#loc_399_38_399_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_38_399_43&#39;)"><span class="hl_varref"><span class="mpre">range</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">
          | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">          = </span><span class="hl_string"><span class="mpre">&quot; version &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><a href="#loc_399_38_399_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_38_399_43&#39;)"><span class="hl_varref"><span class="mpre">range</span></span></a><span class="mpre">
</span></div></body></html>