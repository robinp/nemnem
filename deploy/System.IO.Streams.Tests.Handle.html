<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE BangPatterns      #-}
{-# LANGUAGE OverloadedStrings #-}

module System.IO.Streams.Tests.Handle (tests) where

</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
import           Control.Exception
import           Control.Monad                  hiding (</span><a href="Control.Monad.html#loc_111_1_111_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_111_1_111_5&#39;)"><span class="mpre">mapM</span></a><span class="mpre">)
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/io-streams-1.1.4.6/test/System/IO/Streams/Tests/Handle.hs&quot;, srcSpanStartLine = 9, srcSpanStartColumn = 18, srcSpanEndLine = 9, srcSpanEndColumn = 39}, srcInfoPoints = []}) &quot;Data.ByteString.Char8&quot;"><span class="mpre">Data.ByteString.Char8</span></span><span class="mpre">          as S
import           Data.List
import           Foreign.Marshal.Alloc          (</span><a href="Foreign.Marshal.Alloc.html#loc_121_1_121_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.Marshal.Alloc.html#loc_121_1_121_12&#39;)"><span class="mpre">allocaBytes</span></a><span class="mpre">)
import           Foreign.Marshal.Utils          (</span><a href="Foreign.Marshal.Utils.html#loc_154_1_154_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.Marshal.Utils.html#loc_154_1_154_10&#39;)"><span class="mpre">copyBytes</span></a><span class="mpre">)
import           Foreign.Ptr                    (castPtr)
import qualified GHC.IO.Buffer                  as HB
import qualified GHC.IO.BufferedIO              as H
import qualified GHC.IO.Device                  as H
import           Prelude                        hiding (</span><a href="Control.Monad.html#loc_111_1_111_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_111_1_111_5&#39;)"><span class="mpre">mapM</span></a><span class="mpre">, </span><a href="Text.Read.html#loc_91_1_91_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Read.html#loc_91_1_91_5&#39;)"><span class="mpre">read</span></a><span class="mpre">)
import           System.Directory
import           </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/io-streams-1.1.4.6/test/System/IO/Streams/Tests/Handle.hs&quot;, srcSpanStartLine = 19, srcSpanStartColumn = 18, srcSpanEndLine = 19, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;System.FilePath&quot;"><span class="mpre">System.FilePath</span></span><span class="mpre">
import           System.IO                      hiding (</span><a href="GHC.IO.Handle.FD.html#loc_74_1_74_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.FD.html#loc_74_1_74_7&#39;)"><span class="mpre">stderr</span></a><span class="mpre">, </span><a href="GHC.IO.Handle.FD.html#loc_52_1_52_6" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.FD.html#loc_52_1_52_6&#39;)"><span class="mpre">stdin</span></a><span class="mpre">, </span><a href="GHC.IO.Handle.FD.html#loc_63_1_63_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.FD.html#loc_63_1_63_7&#39;)"><span class="mpre">stdout</span></a><span class="mpre">)
import qualified System.IO                      as IO
import           System.IO.Streams              (</span><a href="System.IO.Streams.Internal.html#loc_126_6_126_18" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_126_6_126_18&#39;)"><span class="mpre">OutputStream</span></a><span class="mpre">)
import qualified System.IO.Streams              as Streams
import qualified System.IO.Streams.Internal     as Streams
import           </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/io-streams-1.1.4.6/test/System/IO/Streams/Tests/Handle.hs&quot;, srcSpanStartLine = 25, srcSpanStartColumn = 18, srcSpanEndLine = 25, srcSpanEndColumn = 32}, srcInfoPoints = []}) &quot;Test.Framework&quot;"><span class="mpre">Test.Framework</span></span><span class="mpre">
import           </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/io-streams-1.1.4.6/test/System/IO/Streams/Tests/Handle.hs&quot;, srcSpanStartLine = 26, srcSpanStartColumn = 18, srcSpanEndLine = 26, srcSpanEndColumn = 48}, srcInfoPoints = []}) &quot;Test.Framework.Providers.HUnit&quot;"><span class="mpre">Test.Framework.Providers.HUnit</span></span><span class="mpre">
import           </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/io-streams-1.1.4.6/test/System/IO/Streams/Tests/Handle.hs&quot;, srcSpanStartLine = 27, srcSpanStartColumn = 18, srcSpanEndLine = 27, srcSpanEndColumn = 28}, srcInfoPoints = []}) &quot;Test.HUnit&quot;"><span class="mpre">Test.HUnit</span></span><span class="mpre">                     hiding (Test)
</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
import           System.IO.Streams.Tests.Common

</span><a href="#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_1_32_6&#39;)"><span class="mpre">tests</span></a><span class="mpre"> :: [</span><span class="hl_tyconref"><span class="mpre">Test</span></span><span class="mpre">]
</span><a name="loc_32_1_32_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_1_32_6&#39;)"><span class="hl_vardecl"><span class="mpre">tests</span></span></a><span class="mpre"> = [ </span><a href="#loc_44_1_44_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_1_44_11&#39;)"><span class="hl_varref"><span class="mpre">testHandle</span></span></a><span class="mpre">
        , </span><a href="#loc_65_1_65_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_1_65_15&#39;)"><span class="hl_varref"><span class="mpre">testStdHandles</span></span></a><span class="mpre">
        , </span><a href="#loc_76_1_76_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_1_76_24&#39;)"><span class="hl_varref"><span class="mpre">testInputStreamToHandle</span></span></a><span class="mpre">
        , </span><a href="#loc_84_1_84_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_1_84_25&#39;)"><span class="hl_varref"><span class="mpre">testOutputStreamToHandle</span></span></a><span class="mpre">
        , </span><a href="#loc_93_1_93_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_23&#39;)"><span class="hl_varref"><span class="mpre">testStreamPairToHandle</span></span></a><span class="mpre">
        , </span><a href="#loc_125_1_125_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_1_125_20&#39;)"><span class="hl_varref"><span class="mpre">testHandleInstances</span></span></a><span class="mpre">
        , </span><a href="#loc_105_1_105_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_1_105_20&#39;)"><span class="hl_varref"><span class="mpre">testHandleBadnesses</span></span></a><span class="mpre">
        ]


</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><a href="#loc_44_1_44_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_1_44_11&#39;)"><span class="mpre">testHandle</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Test</span></span><span class="mpre">
</span><a name="loc_44_1_44_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_1_44_11&#39;)"><span class="hl_vardecl"><span class="mpre">testHandle</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">testCase</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;handle/files&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
    </span><a href="System.Directory.html#loc_267_1_267_25" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_267_1_267_25&#39;)"><span class="hl_varref"><span class="mpre">createDirectoryIfMissing</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;tmp&quot;</span></span><span class="mpre">
    </span><a href="#loc_51_5_51_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_5_51_8&#39;)"><span class="hl_varref"><span class="mpre">tst</span></span></a><span class="mpre"> </span><a href="Control.Exception.Base.html#loc_273_3_273_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Base.html#loc_273_3_273_12&#39;)"><span class="hl_infix"><span class="mpre">`finally`</span></span></a><span class="mpre"> </span><a href="System.IO.Streams.Tests.Common.html#loc_34_1_34_13" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_34_1_34_13&#39;)"><span class="hl_varref"><span class="mpre">eatException</span></span></a><span class="mpre"> (</span><a href="System.Directory.html#loc_400_1_400_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_400_1_400_11&#39;)"><span class="hl_varref"><span class="mpre">removeFile</span></span></a><span class="mpre"> </span><a href="#loc_49_5_49_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_5_49_7&#39;)"><span class="hl_varref"><span class="mpre">fn</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="System.Directory.html#loc_344_1_344_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_344_1_344_16&#39;)"><span class="hl_varref"><span class="mpre">removeDirectory</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;tmp&quot;</span></span><span class="mpre">)

  where
    </span><a name="loc_49_5_49_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_5_49_7&#39;)"><span class="hl_vardecl"><span class="mpre">fn</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;tmp&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;data&quot;</span></span><span class="mpre">

    </span><a name="loc_51_5_51_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_5_51_8&#39;)"><span class="hl_vardecl"><span class="mpre">tst</span></span></a><span class="mpre"> = do
        </span><a href="System.IO.html#loc_397_1_397_15" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.html#loc_397_1_397_15&#39;)"><span class="hl_varref"><span class="mpre">withBinaryFile</span></span></a><span class="mpre"> </span><a href="#loc_49_5_49_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_5_49_7&#39;)"><span class="hl_varref"><span class="mpre">fn</span></span></a><span class="mpre"> </span><a href="GHC.IO.IOMode.html#loc_28_32_28_41" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.IOMode.html#loc_28_32_28_41&#39;)"><span class="hl_conref"><span class="mpre">WriteMode</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_52_40_52_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_40_52_41&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> -&gt; do
            let </span><a name="loc_53_17_53_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_17_53_18&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> (</span><a href="Data.List.html#loc_427_1_427_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_427_1_427_12&#39;)"><span class="hl_varref"><span class="mpre">intersperse</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; &quot;</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;the&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;quick&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;brown&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;fox&quot;</span></span><span class="mpre">])
            </span><a name="loc_54_13_54_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_13_54_15&#39;)"><span class="hl_vardecl"><span class="mpre">os</span></span></a><span class="mpre"> &lt;- </span><a href="System.IO.Streams.Handle.html#loc_60_1_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Handle.html#loc_60_1_60_21&#39;)"><span class="hl_varref"><span class="mpre">Streams.handleToOutputStream</span></span></a><span class="mpre"> </span><a href="#loc_52_40_52_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_40_52_41&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">
            </span><a href="System.IO.Streams.List.html#loc_36_1_36_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.List.html#loc_36_1_36_9&#39;)"><span class="hl_varref"><span class="mpre">Streams.fromList</span></span></a><span class="mpre"> </span><a href="#loc_53_17_53_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_17_53_18&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="System.IO.Streams.Internal.html#loc_204_1_204_10" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_204_1_204_10&#39;)"><span class="hl_varref"><span class="mpre">Streams.connectTo</span></span></a><span class="mpre"> </span><a href="#loc_54_13_54_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_13_54_15&#39;)"><span class="hl_varref"><span class="mpre">os</span></span></a><span class="mpre">

        </span><a href="System.IO.html#loc_397_1_397_15" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.html#loc_397_1_397_15&#39;)"><span class="hl_varref"><span class="mpre">withBinaryFile</span></span></a><span class="mpre"> </span><a href="#loc_49_5_49_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_5_49_7&#39;)"><span class="hl_varref"><span class="mpre">fn</span></span></a><span class="mpre"> </span><a href="GHC.IO.IOMode.html#loc_28_21_28_29" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.IOMode.html#loc_28_21_28_29&#39;)"><span class="hl_conref"><span class="mpre">ReadMode</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_57_39_57_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_39_57_40&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> -&gt; do
            </span><a name="loc_58_13_58_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_13_58_14&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.concat</span></span><span class="mpre"> (</span><a href="System.IO.Streams.Handle.html#loc_46_1_46_20" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Handle.html#loc_46_1_46_20&#39;)"><span class="hl_varref"><span class="mpre">Streams.handleToInputStream</span></span></a><span class="mpre"> </span><a href="#loc_57_39_57_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_39_57_40&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre">
                                 </span><a href="System.IO.Streams.List.html#loc_93_1_93_7" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.List.html#loc_93_1_93_7&#39;)"><span class="hl_varref"><span class="mpre">Streams.toList</span></span></a><span class="mpre">)
            </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;testFiles&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;the quick brown fox&quot;</span></span><span class="mpre"> </span><a href="#loc_58_13_58_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_13_58_14&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><a href="#loc_65_1_65_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_1_65_15&#39;)"><span class="mpre">testStdHandles</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Test</span></span><span class="mpre">
</span><a name="loc_65_1_65_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_1_65_15&#39;)"><span class="hl_vardecl"><span class="mpre">testStdHandles</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">testCase</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;handle/stdHandles&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
    </span><a href="GHC.IO.Handle.html#loc_86_1_86_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_86_1_86_7&#39;)"><span class="hl_varref"><span class="mpre">hClose</span></span></a><span class="mpre"> </span><a href="GHC.IO.Handle.FD.html#loc_52_1_52_6" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.FD.html#loc_52_1_52_6&#39;)"><span class="hl_varref"><span class="mpre">IO.stdin</span></span></a><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- Should generate exception: handle is closed.</span></span><span class="mpre">
    </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> (</span><a href="System.IO.Streams.List.html#loc_93_1_93_7" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.List.html#loc_93_1_93_7&#39;)"><span class="hl_varref"><span class="mpre">Streams.toList</span></span></a><span class="mpre"> </span><a href="System.IO.Streams.Handle.html#loc_126_1_126_6" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Handle.html#loc_126_1_126_6&#39;)"><span class="hl_varref"><span class="mpre">Streams.stdin</span></span></a><span class="mpre">)
    </span><a href="System.IO.Streams.Internal.html#loc_147_1_147_6" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_147_1_147_6&#39;)"><span class="hl_varref"><span class="mpre">Streams.write</span></span></a><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">) </span><a href="System.IO.Streams.Handle.html#loc_133_1_133_7" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Handle.html#loc_133_1_133_7&#39;)"><span class="hl_varref"><span class="mpre">Streams.stdout</span></span></a><span class="mpre">
    </span><a href="System.IO.Streams.Internal.html#loc_147_1_147_6" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_147_1_147_6&#39;)"><span class="hl_varref"><span class="mpre">Streams.write</span></span></a><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">) </span><a href="System.IO.Streams.Handle.html#loc_141_1_141_7" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Handle.html#loc_141_1_141_7&#39;)"><span class="hl_varref"><span class="mpre">Streams.stderr</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><a href="#loc_76_1_76_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_1_76_24&#39;)"><span class="mpre">testInputStreamToHandle</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Test</span></span><span class="mpre">
</span><a name="loc_76_1_76_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_1_76_24&#39;)"><span class="hl_vardecl"><span class="mpre">testInputStreamToHandle</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">testCase</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;handle/inputStreamToHandle&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
    </span><a name="loc_77_5_77_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_5_77_6&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> &lt;- </span><a href="System.IO.Streams.List.html#loc_36_1_36_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.List.html#loc_36_1_36_9&#39;)"><span class="hl_varref"><span class="mpre">Streams.fromList</span></span></a><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;foo&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;bar&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;baz&quot;</span></span><span class="mpre">] </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre">
         </span><a href="System.IO.Streams.Handle.html#loc_78_1_78_20" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Handle.html#loc_78_1_78_20&#39;)"><span class="hl_varref"><span class="mpre">Streams.inputStreamToHandle</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">S.hGetContents</span></span><span class="mpre"> </span><a href="#loc_77_5_77_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_5_77_6&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;inputStreamToHandle&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;foobarbaz&quot;</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><a href="#loc_84_1_84_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_1_84_25&#39;)"><span class="mpre">testOutputStreamToHandle</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Test</span></span><span class="mpre">
</span><a name="loc_84_1_84_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_1_84_25&#39;)"><span class="hl_vardecl"><span class="mpre">testOutputStreamToHandle</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">testCase</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;handle/outputStreamToHandle&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
    (</span><a name="loc_85_6_85_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_6_85_8&#39;)"><span class="hl_vardecl"><span class="mpre">os</span></span></a><span class="mpre">, </span><a name="loc_85_10_85_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_10_85_18&#39;)"><span class="hl_vardecl"><span class="mpre">getInput</span></span></a><span class="mpre">) &lt;- </span><a href="System.IO.Streams.List.html#loc_65_1_65_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.List.html#loc_65_1_65_17&#39;)"><span class="hl_varref"><span class="mpre">Streams.listOutputStream</span></span></a><span class="mpre">
    </span><a name="loc_86_5_86_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_5_86_6&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> &lt;- </span><a href="System.IO.Streams.Handle.html#loc_99_1_99_21" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Handle.html#loc_99_1_99_21&#39;)"><span class="hl_varref"><span class="mpre">Streams.outputStreamToHandle</span></span></a><span class="mpre"> </span><a href="#loc_85_6_85_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_6_85_8&#39;)"><span class="hl_varref"><span class="mpre">os</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">S.hPutStrLn</span></span><span class="mpre"> </span><a href="#loc_86_5_86_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_5_86_6&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;foo&quot;</span></span><span class="mpre">
    </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.concat</span></span><span class="mpre"> </span><a href="#loc_85_10_85_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_10_85_18&#39;)"><span class="hl_varref"><span class="mpre">getInput</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;outputStreamToHandle&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;foo\n&quot;</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><a href="#loc_93_1_93_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_23&#39;)"><span class="mpre">testStreamPairToHandle</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Test</span></span><span class="mpre">
</span><a name="loc_93_1_93_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_23&#39;)"><span class="hl_vardecl"><span class="mpre">testStreamPairToHandle</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">testCase</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;handle/streamPairToHandle&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
    </span><a name="loc_94_5_94_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_5_94_7&#39;)"><span class="hl_vardecl"><span class="mpre">is</span></span></a><span class="mpre">             &lt;- </span><a href="System.IO.Streams.List.html#loc_36_1_36_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.List.html#loc_36_1_36_9&#39;)"><span class="hl_varref"><span class="mpre">Streams.fromList</span></span></a><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;foo&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;bar&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;baz&quot;</span></span><span class="mpre">]
    (</span><a name="loc_95_6_95_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_6_95_8&#39;)"><span class="hl_vardecl"><span class="mpre">os</span></span></a><span class="mpre">, </span><a name="loc_95_10_95_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_10_95_18&#39;)"><span class="hl_vardecl"><span class="mpre">getInput</span></span></a><span class="mpre">) &lt;- </span><a href="System.IO.Streams.List.html#loc_65_1_65_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.List.html#loc_65_1_65_17&#39;)"><span class="hl_varref"><span class="mpre">Streams.listOutputStream</span></span></a><span class="mpre">

    </span><a name="loc_97_5_97_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_5_97_6&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> &lt;- </span><a href="System.IO.Streams.Handle.html#loc_115_1_115_19" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Handle.html#loc_115_1_115_19&#39;)"><span class="hl_varref"><span class="mpre">Streams.streamPairToHandle</span></span></a><span class="mpre"> </span><a href="#loc_94_5_94_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_5_94_7&#39;)"><span class="hl_varref"><span class="mpre">is</span></span></a><span class="mpre"> </span><a href="#loc_95_6_95_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_6_95_8&#39;)"><span class="hl_varref"><span class="mpre">os</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">S.hPutStrLn</span></span><span class="mpre"> </span><a href="#loc_97_5_97_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_5_97_6&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;foo&quot;</span></span><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">S.hGetContents</span></span><span class="mpre"> </span><a href="#loc_97_5_97_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_5_97_6&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;input stream&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;foobarbaz&quot;</span></span><span class="mpre">
    </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.concat</span></span><span class="mpre"> </span><a href="#loc_95_10_95_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_10_95_18&#39;)"><span class="hl_varref"><span class="mpre">getInput</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;output stream&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;foo\n&quot;</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><a href="#loc_105_1_105_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_1_105_20&#39;)"><span class="mpre">testHandleBadnesses</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Test</span></span><span class="mpre">
</span><a name="loc_105_1_105_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_1_105_20&#39;)"><span class="hl_vardecl"><span class="mpre">testHandleBadnesses</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">testCase</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;handle/badness&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
    </span><a name="loc_106_5_106_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_5_106_6&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> &lt;- </span><a href="System.IO.Streams.List.html#loc_36_1_36_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.List.html#loc_36_1_36_9&#39;)"><span class="hl_varref"><span class="mpre">Streams.fromList</span></span></a><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;foo&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;bar&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;baz&quot;</span></span><span class="mpre">] </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="System.IO.Streams.Handle.html#loc_78_1_78_20" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Handle.html#loc_78_1_78_20&#39;)"><span class="hl_varref"><span class="mpre">Streams.inputStreamToHandle</span></span></a><span class="mpre">
    _ &lt;- </span><span class="hl_varref"><span class="mpre">S.hGetContents</span></span><span class="mpre"> </span><a href="#loc_106_5_106_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_5_106_6&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">
    </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.hGetContents</span></span><span class="mpre"> </span><a href="#loc_106_5_106_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_5_106_6&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">

    </span><a name="loc_110_5_110_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_5_110_7&#39;)"><span class="hl_vardecl"><span class="mpre">h&#39;</span></span></a><span class="mpre"> &lt;- </span><a href="System.IO.Streams.List.html#loc_36_1_36_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.List.html#loc_36_1_36_9&#39;)"><span class="hl_varref"><span class="mpre">Streams.fromList</span></span></a><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;foo&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;bar&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;baz&quot;</span></span><span class="mpre">] </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="System.IO.Streams.Handle.html#loc_78_1_78_20" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Handle.html#loc_78_1_78_20&#39;)"><span class="hl_varref"><span class="mpre">Streams.inputStreamToHandle</span></span></a><span class="mpre">
    </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.hPutStrLn</span></span><span class="mpre"> </span><a href="#loc_110_5_110_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_5_110_7&#39;)"><span class="hl_varref"><span class="mpre">h&#39;</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;foo&quot;</span></span><span class="mpre">

    (</span><a name="loc_113_6_113_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_6_113_8&#39;)"><span class="hl_vardecl"><span class="mpre">os</span></span></a><span class="mpre">, _) &lt;- </span><a href="System.IO.Streams.List.html#loc_65_1_65_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.List.html#loc_65_1_65_17&#39;)"><span class="hl_varref"><span class="mpre">Streams.listOutputStream</span></span></a><span class="mpre">
    </span><a name="loc_114_5_114_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_5_114_8&#39;)"><span class="hl_vardecl"><span class="mpre">h&#39;&#39;</span></span></a><span class="mpre"> &lt;- </span><a href="System.IO.Streams.Handle.html#loc_99_1_99_21" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Handle.html#loc_99_1_99_21&#39;)"><span class="hl_varref"><span class="mpre">Streams.outputStreamToHandle</span></span></a><span class="mpre"> </span><a href="#loc_113_6_113_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_6_113_8&#39;)"><span class="hl_varref"><span class="mpre">os</span></span></a><span class="mpre">
    </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.hGetContents</span></span><span class="mpre"> </span><a href="#loc_114_5_114_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_5_114_8&#39;)"><span class="hl_varref"><span class="mpre">h&#39;&#39;</span></span></a><span class="mpre">

    </span><a name="loc_117_5_117_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_5_117_7&#39;)"><span class="hl_vardecl"><span class="mpre">is</span></span></a><span class="mpre"> &lt;- </span><a href="System.IO.Streams.List.html#loc_36_1_36_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.List.html#loc_36_1_36_9&#39;)"><span class="hl_varref"><span class="mpre">Streams.fromList</span></span></a><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;foo&quot;</span></span><span class="mpre">]
    </span><a name="loc_118_5_118_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_5_118_9&#39;)"><span class="hl_vardecl"><span class="mpre">h&#39;&#39;&#39;</span></span></a><span class="mpre"> &lt;- </span><a href="System.IO.Streams.Handle.html#loc_115_1_115_19" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Handle.html#loc_115_1_115_19&#39;)"><span class="hl_varref"><span class="mpre">Streams.streamPairToHandle</span></span></a><span class="mpre"> </span><a href="#loc_117_5_117_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_5_117_7&#39;)"><span class="hl_varref"><span class="mpre">is</span></span></a><span class="mpre"> </span><a href="#loc_113_6_113_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_6_113_8&#39;)"><span class="hl_varref"><span class="mpre">os</span></span></a><span class="mpre">
    _ &lt;- </span><span class="hl_varref"><span class="mpre">S.hGetContents</span></span><span class="mpre"> </span><a href="#loc_118_5_118_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_5_118_9&#39;)"><span class="hl_varref"><span class="mpre">h&#39;&#39;&#39;</span></span></a><span class="mpre">
    </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.hGetContents</span></span><span class="mpre"> </span><a href="#loc_118_5_118_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_5_118_9&#39;)"><span class="hl_varref"><span class="mpre">h&#39;&#39;&#39;</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><a href="#loc_125_1_125_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_1_125_20&#39;)"><span class="mpre">testHandleInstances</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Test</span></span><span class="mpre">
</span><a name="loc_125_1_125_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_1_125_20&#39;)"><span class="hl_vardecl"><span class="mpre">testHandleInstances</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">testCase</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;handle/ghc-instances&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
    </span><a name="loc_126_5_126_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_5_126_7&#39;)"><span class="hl_vardecl"><span class="mpre">is</span></span></a><span class="mpre">            &lt;- </span><a href="System.IO.Streams.List.html#loc_36_1_36_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.List.html#loc_36_1_36_9&#39;)"><span class="hl_varref"><span class="mpre">Streams.fromList</span></span></a><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;foo&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;bar&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;baz&quot;</span></span><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">]
    (</span><a name="loc_127_6_127_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_8&#39;)"><span class="hl_vardecl"><span class="mpre">os</span></span></a><span class="mpre">, </span><a name="loc_127_10_127_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_10_127_17&#39;)"><span class="hl_vardecl"><span class="mpre">getList</span></span></a><span class="mpre">) &lt;- </span><a href="System.IO.Streams.List.html#loc_65_1_65_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.List.html#loc_65_1_65_17&#39;)"><span class="hl_varref"><span class="mpre">Streams.listOutputStream</span></span></a><span class="mpre">
    let </span><a name="loc_128_9_128_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_9_128_11&#39;)"><span class="hl_vardecl"><span class="mpre">sp</span></span></a><span class="mpre">   = </span><a href="System.IO.Streams.Internal.html#loc_88_15_88_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_88_15_88_17&#39;)"><span class="hl_conref"><span class="mpre">Streams.SP</span></span></a><span class="mpre"> </span><a href="#loc_126_5_126_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_5_126_7&#39;)"><span class="hl_varref"><span class="mpre">is</span></span></a><span class="mpre"> (</span><a href="#loc_127_6_127_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_8&#39;)"><span class="hl_varref"><span class="mpre">os</span></span></a><span class="mpre"> :: </span><a href="System.IO.Streams.Internal.html#loc_126_6_126_18" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_126_6_126_18&#39;)"><span class="hl_tyconref"><span class="mpre">OutputStream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">)
    </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.Device.html#loc_53_3_53_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_53_3_53_8&#39;)"><span class="hl_varref"><span class="mpre">H.write</span></span></a><span class="mpre"> </span><a href="#loc_126_5_126_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_5_126_7&#39;)"><span class="hl_varref"><span class="mpre">is</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre">
    </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.Device.html#loc_57_3_57_19" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_57_3_57_19&#39;)"><span class="hl_varref"><span class="mpre">H.writeNonBlocking</span></span></a><span class="mpre"> </span><a href="#loc_126_5_126_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_5_126_7&#39;)"><span class="hl_varref"><span class="mpre">is</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre">
    </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.BufferedIO.html#loc_69_3_69_19" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.BufferedIO.html#loc_69_3_69_19&#39;)"><span class="hl_varref"><span class="mpre">H.flushWriteBuffer</span></span></a><span class="mpre"> </span><a href="#loc_126_5_126_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_5_126_7&#39;)"><span class="hl_varref"><span class="mpre">is</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre">
    </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.BufferedIO.html#loc_74_3_74_20" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.BufferedIO.html#loc_74_3_74_20&#39;)"><span class="hl_varref"><span class="mpre">H.flushWriteBuffer0</span></span></a><span class="mpre"> </span><a href="#loc_126_5_126_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_5_126_7&#39;)"><span class="hl_varref"><span class="mpre">is</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre">

    </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.Device.html#loc_45_3_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_45_3_45_7&#39;)"><span class="hl_varref"><span class="mpre">H.read</span></span></a><span class="mpre"> </span><a href="#loc_127_6_127_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_8&#39;)"><span class="hl_varref"><span class="mpre">os</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre">
    </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.Device.html#loc_57_3_57_19" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_57_3_57_19&#39;)"><span class="hl_varref"><span class="mpre">H.writeNonBlocking</span></span></a><span class="mpre"> </span><a href="#loc_127_6_127_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_8&#39;)"><span class="hl_varref"><span class="mpre">os</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre">

    </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.BufferedIO.html#loc_53_3_53_18" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.BufferedIO.html#loc_53_3_53_18&#39;)"><span class="hl_varref"><span class="mpre">H.fillReadBuffer0</span></span></a><span class="mpre"> </span><a href="#loc_126_5_126_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_5_126_7&#39;)"><span class="hl_varref"><span class="mpre">is</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre">
    </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.BufferedIO.html#loc_53_3_53_18" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.BufferedIO.html#loc_53_3_53_18&#39;)"><span class="hl_varref"><span class="mpre">H.fillReadBuffer0</span></span></a><span class="mpre"> </span><a href="#loc_127_6_127_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_8&#39;)"><span class="hl_varref"><span class="mpre">os</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre">
    </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.BufferedIO.html#loc_53_3_53_18" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.BufferedIO.html#loc_53_3_53_18&#39;)"><span class="hl_varref"><span class="mpre">H.fillReadBuffer0</span></span></a><span class="mpre"> </span><a href="#loc_128_9_128_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_9_128_11&#39;)"><span class="hl_varref"><span class="mpre">sp</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre">

    </span><a href="GHC.IO.Device.html#loc_67_3_67_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_67_3_67_8&#39;)"><span class="hl_varref"><span class="mpre">H.ready</span></span></a><span class="mpre"> </span><a href="#loc_126_5_126_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_5_126_7&#39;)"><span class="hl_varref"><span class="mpre">is</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;ready input&quot;</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">
    </span><a href="GHC.IO.Device.html#loc_67_3_67_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_67_3_67_8&#39;)"><span class="hl_varref"><span class="mpre">H.ready</span></span></a><span class="mpre"> </span><a href="#loc_127_6_127_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_8&#39;)"><span class="hl_varref"><span class="mpre">os</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;ready output&quot;</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">
    </span><a href="GHC.IO.Device.html#loc_67_3_67_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_67_3_67_8&#39;)"><span class="hl_varref"><span class="mpre">H.ready</span></span></a><span class="mpre"> </span><a href="#loc_128_9_128_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_9_128_11&#39;)"><span class="hl_varref"><span class="mpre">sp</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;ready pair&quot;</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">

    </span><a href="GHC.IO.Device.html#loc_113_3_113_10" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_113_3_113_10&#39;)"><span class="hl_varref"><span class="mpre">H.devType</span></span></a><span class="mpre"> </span><a href="#loc_126_5_126_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_5_126_7&#39;)"><span class="hl_varref"><span class="mpre">is</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">assertBool</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;devtype input&quot;</span></span><span class="mpre">  </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="GHC.IO.Device.html#loc_148_5_148_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_148_5_148_11&#39;)"><span class="hl_conref"><span class="mpre">H.Stream</span></span></a><span class="mpre">)
    </span><a href="GHC.IO.Device.html#loc_113_3_113_10" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_113_3_113_10&#39;)"><span class="hl_varref"><span class="mpre">H.devType</span></span></a><span class="mpre"> </span><a href="#loc_127_6_127_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_8&#39;)"><span class="hl_varref"><span class="mpre">os</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">assertBool</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;devtype output&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="GHC.IO.Device.html#loc_148_5_148_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_148_5_148_11&#39;)"><span class="hl_conref"><span class="mpre">H.Stream</span></span></a><span class="mpre">)
    </span><a href="GHC.IO.Device.html#loc_113_3_113_10" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_113_3_113_10&#39;)"><span class="hl_varref"><span class="mpre">H.devType</span></span></a><span class="mpre"> </span><a href="#loc_128_9_128_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_9_128_11&#39;)"><span class="hl_varref"><span class="mpre">sp</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">assertBool</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;devtype pair&quot;</span></span><span class="mpre">   </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="GHC.IO.Device.html#loc_148_5_148_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_148_5_148_11&#39;)"><span class="hl_conref"><span class="mpre">H.Stream</span></span></a><span class="mpre">)

    </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.Device.html#loc_50_3_50_18" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_50_3_50_18&#39;)"><span class="hl_varref"><span class="mpre">H.readNonBlocking</span></span></a><span class="mpre"> </span><a href="#loc_126_5_126_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_5_126_7&#39;)"><span class="hl_varref"><span class="mpre">is</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre">
    </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.Device.html#loc_50_3_50_18" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_50_3_50_18&#39;)"><span class="hl_varref"><span class="mpre">H.readNonBlocking</span></span></a><span class="mpre"> </span><a href="#loc_127_6_127_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_8&#39;)"><span class="hl_varref"><span class="mpre">os</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre">
    </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.Device.html#loc_50_3_50_18" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_50_3_50_18&#39;)"><span class="hl_varref"><span class="mpre">H.readNonBlocking</span></span></a><span class="mpre"> </span><a href="#loc_128_9_128_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_9_128_11&#39;)"><span class="hl_varref"><span class="mpre">sp</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre">
    </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.Device.html#loc_57_3_57_19" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_57_3_57_19&#39;)"><span class="hl_varref"><span class="mpre">H.writeNonBlocking</span></span></a><span class="mpre"> </span><a href="#loc_126_5_126_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_5_126_7&#39;)"><span class="hl_varref"><span class="mpre">is</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre">
    </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.Device.html#loc_57_3_57_19" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_57_3_57_19&#39;)"><span class="hl_varref"><span class="mpre">H.writeNonBlocking</span></span></a><span class="mpre"> </span><a href="#loc_127_6_127_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_8&#39;)"><span class="hl_varref"><span class="mpre">os</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre">
    </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.Device.html#loc_57_3_57_19" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_57_3_57_19&#39;)"><span class="hl_varref"><span class="mpre">H.writeNonBlocking</span></span></a><span class="mpre"> </span><a href="#loc_128_9_128_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_9_128_11&#39;)"><span class="hl_varref"><span class="mpre">sp</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre">

    </span><span class="hl_varref"><span class="mpre">S.useAsCStringLen</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;foo&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \(</span><a name="loc_156_33_156_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_33_156_37&#39;)"><span class="hl_vardecl"><span class="mpre">cstr</span></span></a><span class="mpre">, </span><a name="loc_156_39_156_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_39_156_40&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre">) -&gt; do
        </span><a href="GHC.IO.Device.html#loc_53_3_53_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_53_3_53_8&#39;)"><span class="hl_varref"><span class="mpre">H.write</span></span></a><span class="mpre"> </span><a href="#loc_127_6_127_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_8&#39;)"><span class="hl_varref"><span class="mpre">os</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">castPtr</span></span><span class="mpre"> </span><a href="#loc_156_33_156_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_33_156_37&#39;)"><span class="hl_varref"><span class="mpre">cstr</span></span></a><span class="mpre">) </span><a href="#loc_156_39_156_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_39_156_40&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">
        </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.concat</span></span><span class="mpre"> </span><a href="#loc_127_10_127_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_10_127_17&#39;)"><span class="hl_varref"><span class="mpre">getList</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;H.write 1&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;foo&quot;</span></span><span class="mpre">
        </span><a href="GHC.IO.Device.html#loc_53_3_53_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_53_3_53_8&#39;)"><span class="hl_varref"><span class="mpre">H.write</span></span></a><span class="mpre"> </span><a href="#loc_128_9_128_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_9_128_11&#39;)"><span class="hl_varref"><span class="mpre">sp</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">castPtr</span></span><span class="mpre"> </span><a href="#loc_156_33_156_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_33_156_37&#39;)"><span class="hl_varref"><span class="mpre">cstr</span></span></a><span class="mpre">) </span><a href="#loc_156_39_156_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_39_156_40&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">
        </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.concat</span></span><span class="mpre"> </span><a href="#loc_127_10_127_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_10_127_17&#39;)"><span class="hl_varref"><span class="mpre">getList</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;H.write 2&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;foo&quot;</span></span><span class="mpre">
        </span><a name="loc_161_9_161_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_9_161_12&#39;)"><span class="hl_vardecl"><span class="mpre">buf</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.BufferedIO.html#loc_43_3_43_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.BufferedIO.html#loc_43_3_43_12&#39;)"><span class="hl_varref"><span class="mpre">H.newBuffer</span></span></a><span class="mpre"> </span><a href="#loc_128_9_128_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_9_128_11&#39;)"><span class="hl_varref"><span class="mpre">sp</span></span></a><span class="mpre"> </span><a href="GHC.IO.Buffer.html#loc_195_33_195_44" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_195_33_195_44&#39;)"><span class="hl_conref"><span class="mpre">HB.WriteBuffer</span></span></a><span class="mpre">
        </span><a href="GHC.IO.Buffer.html#loc_198_1_198_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_198_1_198_11&#39;)"><span class="hl_varref"><span class="mpre">HB.withBuffer</span></span></a><span class="mpre"> </span><a href="#loc_161_9_161_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_9_161_12&#39;)"><span class="hl_varref"><span class="mpre">buf</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_162_30_162_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_30_162_33&#39;)"><span class="hl_vardecl"><span class="mpre">ptr</span></span></a><span class="mpre"> -&gt; </span><a href="Foreign.Marshal.Utils.html#loc_154_1_154_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.Marshal.Utils.html#loc_154_1_154_10&#39;)"><span class="hl_varref"><span class="mpre">copyBytes</span></span></a><span class="mpre"> </span><a href="#loc_162_30_162_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_30_162_33&#39;)"><span class="hl_varref"><span class="mpre">ptr</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">castPtr</span></span><span class="mpre"> </span><a href="#loc_156_33_156_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_33_156_37&#39;)"><span class="hl_varref"><span class="mpre">cstr</span></span></a><span class="mpre">) </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">
        (</span><a name="loc_163_10_163_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_10_163_12&#39;)"><span class="hl_vardecl"><span class="mpre">l&#39;</span></span></a><span class="mpre">, !</span><a name="loc_163_15_163_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_15_163_19&#39;)"><span class="hl_vardecl"><span class="mpre">buf&#39;</span></span></a><span class="mpre">) &lt;- </span><a href="GHC.IO.BufferedIO.html#loc_74_3_74_20" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.BufferedIO.html#loc_74_3_74_20&#39;)"><span class="hl_varref"><span class="mpre">H.flushWriteBuffer0</span></span></a><span class="mpre"> </span><a href="#loc_128_9_128_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_9_128_11&#39;)"><span class="hl_varref"><span class="mpre">sp</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/io-streams-1.1.4.6/test/System/IO/Streams/Tests/Handle.hs&quot;, srcSpanStartLine = 163, srcSpanStartColumn = 49, srcSpanEndLine = 163, srcSpanEndColumn = 68}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/io-streams-1.1.4.6/test/System/IO/Streams/Tests/Handle.hs&quot;, srcSpanStartLine = 163, srcSpanStartColumn = 53, srcSpanEndLine = 163, srcSpanEndColumn = 54},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/io-s"><span class="mpre">buf { HB.bufR = 3 }</span></span><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;flushWriteBuffer0&quot;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre"> </span><a href="#loc_163_10_163_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_10_163_12&#39;)"><span class="hl_varref"><span class="mpre">l&#39;</span></span></a><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;bufR&quot;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.Buffer.html#loc_186_9_186_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_186_9_186_13&#39;)"><span class="hl_varref"><span class="mpre">HB.bufR</span></span></a><span class="mpre"> </span><a href="#loc_163_15_163_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_15_163_19&#39;)"><span class="hl_varref"><span class="mpre">buf&#39;</span></span></a><span class="mpre">
        </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.concat</span></span><span class="mpre"> </span><a href="#loc_127_10_127_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_10_127_17&#39;)"><span class="hl_varref"><span class="mpre">getList</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;write 3&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;foo&quot;</span></span><span class="mpre">


    </span><a href="Foreign.Marshal.Alloc.html#loc_121_1_121_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.Marshal.Alloc.html#loc_121_1_121_12&#39;)"><span class="hl_varref"><span class="mpre">allocaBytes</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_169_22_169_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_22_169_25&#39;)"><span class="hl_vardecl"><span class="mpre">buf</span></span></a><span class="mpre"> -&gt; do
        </span><a name="loc_170_9_170_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_9_170_10&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.Device.html#loc_45_3_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_45_3_45_7&#39;)"><span class="hl_varref"><span class="mpre">H.read</span></span></a><span class="mpre"> </span><a href="#loc_126_5_126_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_5_126_7&#39;)"><span class="hl_varref"><span class="mpre">is</span></span></a><span class="mpre"> </span><a href="#loc_169_22_169_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_22_169_25&#39;)"><span class="hl_varref"><span class="mpre">buf</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;3 byte read&quot;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre"> </span><a href="#loc_170_9_170_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_9_170_10&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">S.packCStringLen</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">castPtr</span></span><span class="mpre"> </span><a href="#loc_169_22_169_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_22_169_25&#39;)"><span class="hl_varref"><span class="mpre">buf</span></span></a><span class="mpre">, </span><a href="#loc_170_9_170_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_9_170_10&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;first read&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;foo&quot;</span></span><span class="mpre">
        </span><a name="loc_173_9_173_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_9_173_11&#39;)"><span class="hl_vardecl"><span class="mpre">l&#39;</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.Device.html#loc_45_3_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_45_3_45_7&#39;)"><span class="hl_varref"><span class="mpre">H.read</span></span></a><span class="mpre"> </span><a href="#loc_128_9_128_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_9_128_11&#39;)"><span class="hl_varref"><span class="mpre">sp</span></span></a><span class="mpre"> </span><a href="#loc_169_22_169_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_22_169_25&#39;)"><span class="hl_varref"><span class="mpre">buf</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;3 byte read #2&quot;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre"> </span><a href="#loc_173_9_173_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_9_173_11&#39;)"><span class="hl_varref"><span class="mpre">l&#39;</span></span></a><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">S.packCStringLen</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">castPtr</span></span><span class="mpre"> </span><a href="#loc_169_22_169_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_22_169_25&#39;)"><span class="hl_varref"><span class="mpre">buf</span></span></a><span class="mpre">, </span><a href="#loc_173_9_173_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_9_173_11&#39;)"><span class="hl_varref"><span class="mpre">l&#39;</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;second read&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;bar&quot;</span></span><span class="mpre">
        </span><a href="System.IO.Streams.Tests.Common.html#loc_99_1_99_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Tests.Common.html#loc_99_1_99_17&#39;)"><span class="hl_varref"><span class="mpre">expectExceptionH</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.Device.html#loc_45_3_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_45_3_45_7&#39;)"><span class="hl_varref"><span class="mpre">H.read</span></span></a><span class="mpre"> </span><a href="#loc_127_6_127_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_8&#39;)"><span class="hl_varref"><span class="mpre">os</span></span></a><span class="mpre"> </span><a href="#loc_169_22_169_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_22_169_25&#39;)"><span class="hl_varref"><span class="mpre">buf</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">
</span></div></body></html>