<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP, RankNTypes #-}
</span><span class="hl_comment"><span class="mpre">-- | Functions for interacting with bytes.</span></span><span class="mpre">
module Data.Conduit.Binary
    ( </span><span class="hl_comment"><span class="mpre">-- * Files and @Handle@s</span></span><span class="mpre">

      </span><span class="hl_comment"><span class="mpre">-- | Note that most of these functions live in the @MonadResource@ monad</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- to ensure resource finalization even in the presence of exceptions. In</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- order to run such code, you will need to use @runResourceT@.</span></span><span class="mpre">

      </span><span class="hl_comment"><span class="mpre">-- ** Sources</span></span><span class="mpre">
      sourceFile
    , sourceHandle
    , sourceHandleUnsafe
    , sourceIOHandle
    , sourceFileRange
    , sourceHandleRange
      </span><span class="hl_comment"><span class="mpre">-- ** Sinks</span></span><span class="mpre">
    , sinkFile
    , sinkHandle
    , sinkIOHandle
      </span><span class="hl_comment"><span class="mpre">-- ** Conduits</span></span><span class="mpre">
    , conduitFile
    , conduitHandle
      </span><span class="hl_comment"><span class="mpre">-- * Utilities</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- ** Sources</span></span><span class="mpre">
    , sourceLbs
      </span><span class="hl_comment"><span class="mpre">-- ** Sinks</span></span><span class="mpre">
    , head
    , dropWhile
    , take
    , drop
    , sinkCacheLength
    , sinkLbs
    , mapM_
      </span><span class="hl_comment"><span class="mpre">-- ** Conduits</span></span><span class="mpre">
    , isolate
    , takeWhile
    , Data.Conduit.Binary.lines
    ) where

import qualified Data.Streaming.FileRead as FR
import Prelude hiding (head, take, drop, takeWhile, dropWhile, </span><a href="Control.Monad.html#loc_116_1_116_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_116_1_116_6&#39;)"><span class="mpre">mapM_</span></a><span class="mpre">)
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 43, srcSpanStartColumn = 18, srcSpanEndLine = 43, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> as S
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 44, srcSpanStartColumn = 18, srcSpanEndLine = 44, srcSpanEndColumn = 38}, srcInfoPoints = []}) &quot;Data.ByteString.Lazy&quot;"><span class="mpre">Data.ByteString.Lazy</span></span><span class="mpre"> as L
import Data.Conduit
import Data.Conduit.List (</span><a href="Data.Conduit.List.html#loc_115_1_115_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_115_1_115_11&#39;)"><span class="mpre">sourceList</span></a><span class="mpre">, </span><a href="Data.Conduit.List.html#loc_450_1_450_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_450_1_450_8&#39;)"><span class="mpre">consume</span></a><span class="mpre">)
import Control.Exception (assert, </span><a href="Control.Exception.Base.html#loc_273_3_273_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Base.html#loc_273_3_273_12&#39;)"><span class="mpre">finally</span></a><span class="mpre">)
import Control.Monad (</span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="mpre">unless</span></a><span class="mpre">, </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="mpre">when</span></a><span class="mpre">)
import Control.Monad.IO.Class (</span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="mpre">liftIO</span></a><span class="mpre">, </span><a href="Control.Monad.IO.Class.html#loc_30_20_30_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_30_20_30_27&#39;)"><span class="mpre">MonadIO</span></a><span class="mpre">)
import Control.Monad.Trans.Resource (</span><a href="Control.Monad.Trans.Resource.html#loc_138_1_138_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_138_1_138_9&#39;)"><span class="mpre">allocate</span></a><span class="mpre">, </span><a href="Control.Monad.Trans.Resource.html#loc_115_1_115_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_115_1_115_8&#39;)"><span class="mpre">release</span></a><span class="mpre">)
import Control.Monad.Trans.Class (</span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="mpre">lift</span></a><span class="mpre">)
import qualified System.IO as IO
import Data.Word (Word8, Word64)
import Control.Applicative (</span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="mpre">(&lt;$&gt;)</span></a><span class="mpre">)
import System.Directory (</span><a href="System.Directory.html#loc_906_1_906_22" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_906_1_906_22&#39;)"><span class="mpre">getTemporaryDirectory</span></a><span class="mpre">, </span><a href="System.Directory.html#loc_400_1_400_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_400_1_400_11&#39;)"><span class="mpre">removeFile</span></a><span class="mpre">)
import Data.ByteString.Lazy.Internal (</span><a href="Data.ByteString.Lazy.Internal.html#loc_208_1_208_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Lazy.Internal.html#loc_208_1_208_17&#39;)"><span class="mpre">defaultChunkSize</span></a><span class="mpre">)
import Data.ByteString.Internal (</span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="mpre">ByteString</span></a><span class="mpre"> (</span><a href="Data.ByteString.Internal.html#loc_193_19_193_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_19_193_21&#39;)"><span class="mpre">PS</span></a><span class="mpre">), </span><a href="Data.ByteString.Internal.html#loc_592_1_592_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_592_1_592_16&#39;)"><span class="mpre">inlinePerformIO</span></a><span class="mpre">)
import Foreign.ForeignPtr.Unsafe (</span><a href="GHC.ForeignPtr.html#loc_420_1_420_22" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.ForeignPtr.html#loc_420_1_420_22&#39;)"><span class="mpre">unsafeForeignPtrToPtr</span></a><span class="mpre">)
import Foreign.ForeignPtr (touchForeignPtr)
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 60, srcSpanStartColumn = 8, srcSpanEndLine = 60, srcSpanEndColumn = 19}, srcInfoPoints = []}) &quot;Foreign.Ptr&quot;"><span class="mpre">Foreign.Ptr</span></span><span class="mpre"> (plusPtr)
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 61, srcSpanStartColumn = 8, srcSpanEndLine = 61, srcSpanEndColumn = 24}, srcInfoPoints = []}) &quot;Foreign.Storable&quot;"><span class="mpre">Foreign.Storable</span></span><span class="mpre"> (peek)
import GHC.ForeignPtr           (</span><a href="GHC.ForeignPtr.html#loc_227_1_227_27" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.ForeignPtr.html#loc_227_1_227_27&#39;)"><span class="mpre">mallocPlainForeignPtrBytes</span></a><span class="mpre">)
import Control.Monad.Trans.Resource (MonadResource)

</span><span class="hl_comment"><span class="mpre">-- | Stream the contents of a file as binary data.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_71_1_71_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_1_71_11&#39;)"><span class="mpre">sourceFile</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 68, srcSpanStartColumn = 15, srcSpanEndLine = 69, srcSpanEndColumn = 14}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 69, srcSpanStartColumn = 12, srcSpanEndLine = 69, srcSpanEndColumn = 14}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/"><span class="mpre">MonadResource m
           =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
           -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">
</span><a name="loc_71_1_71_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_1_71_11&#39;)"><span class="hl_fundecl"><span class="mpre">sourceFile</span></span></a><span class="mpre"> </span><a name="loc_71_12_71_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_12_71_14&#39;)"><span class="hl_vardecl"><span class="mpre">fp</span></span></a><span class="mpre"> =
    </span><a href="Data.Conduit.html#loc_226_1_226_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_226_1_226_9&#39;)"><span class="hl_varref"><span class="mpre">bracketP</span></span></a><span class="mpre">
        (</span><a href="Data.Streaming.FileRead.html#loc_29_1_29_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.FileRead.html#loc_29_1_29_9&#39;)"><span class="hl_varref"><span class="mpre">FR.openFile</span></span></a><span class="mpre"> </span><a href="#loc_71_12_71_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_12_71_14&#39;)"><span class="hl_varref"><span class="mpre">fp</span></span></a><span class="mpre">)
         </span><a href="Data.Streaming.FileRead.html#loc_32_1_32_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.FileRead.html#loc_32_1_32_10&#39;)"><span class="hl_varref"><span class="mpre">FR.closeFile</span></span></a><span class="mpre">
         </span><a href="#loc_77_5_77_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_5_77_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">
  where
    </span><a name="loc_77_5_77_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_5_77_9&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a name="loc_77_10_77_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_11&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> = do
        </span><a name="loc_78_9_78_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_9_78_11&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Streaming.FileRead.html#loc_35_1_35_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.FileRead.html#loc_35_1_35_10&#39;)"><span class="hl_varref"><span class="mpre">FR.readChunk</span></span></a><span class="mpre"> </span><a href="#loc_77_10_77_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_11&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">
        </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_78_9_78_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_9_78_11&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
            </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_78_9_78_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_9_78_11&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
            </span><a href="#loc_77_5_77_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_5_77_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a href="#loc_77_10_77_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_11&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Stream the contents of a &#39;IO.Handle&#39; as binary data. Note that this</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- function will /not/ automatically close the @Handle@ when processing</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- completes, since it did not acquire the @Handle@ in the first place.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_91_1_91_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_1_91_13&#39;)"><span class="mpre">sourceHandle</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 88, srcSpanStartColumn = 17, srcSpanEndLine = 89, srcSpanEndColumn = 16}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 89, srcSpanStartColumn = 14, srcSpanEndLine = 89, srcSpanEndColumn = 16}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/"><span class="mpre">MonadIO m
             =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO.Handle</span></span><span class="mpre">
             -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">
</span><a name="loc_91_1_91_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_1_91_13&#39;)"><span class="hl_fundecl"><span class="mpre">sourceHandle</span></span></a><span class="mpre"> </span><a name="loc_91_14_91_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_14_91_15&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> =
    </span><a href="#loc_94_5_94_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_5_94_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">
  where
    </span><a name="loc_94_5_94_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_5_94_9&#39;)"><span class="hl_vardecl"><span class="mpre">loop</span></span></a><span class="mpre"> = do
        </span><a name="loc_95_9_95_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_9_95_11&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">S.hGetSome</span></span><span class="mpre"> </span><a href="#loc_91_14_91_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_14_91_15&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><a href="Data.ByteString.Lazy.Internal.html#loc_208_1_208_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Lazy.Internal.html#loc_208_1_208_17&#39;)"><span class="hl_varref"><span class="mpre">defaultChunkSize</span></span></a><span class="mpre">)
        if </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_95_9_95_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_9_95_11&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
            then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
            else </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_95_9_95_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_9_95_11&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_94_5_94_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_5_94_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Same as @sourceHandle@, but instead of allocating a new buffer for each</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- incoming chunk of data, reuses the same buffer. Therefore, the @ByteString@s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- yielded by this function are not referentially transparent between two</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- different @yield@s.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This function will be slightly more efficient than @sourceHandle@ by</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- avoiding allocations and reducing garbage collections, but should only be</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- used if you can guarantee that you do not reuse a @ByteString@ (or any slice</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- thereof) between two calls to @await@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 1.0.12</span></span><span class="mpre">
</span><a href="#loc_112_1_112_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_1_112_19&#39;)"><span class="mpre">sourceHandleUnsafe</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 111, srcSpanStartColumn = 23, srcSpanEndLine = 111, srcSpanEndColumn = 35}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 111, srcSpanStartColumn = 33, srcSpanEndLine = 111, srcSpanEndColumn = 35}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">MonadIO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO.Handle</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Source</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="hl_tyconref"><span class="mpre">ByteString</span></span></a><span class="mpre">
</span><a name="loc_112_1_112_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_1_112_19&#39;)"><span class="hl_fundecl"><span class="mpre">sourceHandleUnsafe</span></span></a><span class="mpre"> </span><a name="loc_112_20_112_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_20_112_26&#39;)"><span class="hl_vardecl"><span class="mpre">handle</span></span></a><span class="mpre"> = do
    </span><a name="loc_113_5_113_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_5_113_9&#39;)"><span class="hl_vardecl"><span class="mpre">fptr</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.ForeignPtr.html#loc_227_1_227_27" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.ForeignPtr.html#loc_227_1_227_27&#39;)"><span class="hl_varref"><span class="mpre">mallocPlainForeignPtrBytes</span></span></a><span class="mpre"> </span><a href="Data.ByteString.Lazy.Internal.html#loc_208_1_208_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Lazy.Internal.html#loc_208_1_208_17&#39;)"><span class="hl_varref"><span class="mpre">defaultChunkSize</span></span></a><span class="mpre">
    let </span><a name="loc_114_9_114_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_9_114_12&#39;)"><span class="hl_vardecl"><span class="mpre">ptr</span></span></a><span class="mpre"> = </span><a href="GHC.ForeignPtr.html#loc_420_1_420_22" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.ForeignPtr.html#loc_420_1_420_22&#39;)"><span class="hl_varref"><span class="mpre">unsafeForeignPtrToPtr</span></span></a><span class="mpre"> </span><a href="#loc_113_5_113_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_5_113_9&#39;)"><span class="hl_varref"><span class="mpre">fptr</span></span></a><span class="mpre">
        </span><a name="loc_115_9_115_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_9_115_13&#39;)"><span class="hl_vardecl"><span class="mpre">loop</span></span></a><span class="mpre"> = do
            </span><a name="loc_116_13_116_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_13_116_18&#39;)"><span class="hl_vardecl"><span class="mpre">count</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">IO.hGetBuf</span></span><span class="mpre"> </span><a href="#loc_112_20_112_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_20_112_26&#39;)"><span class="hl_varref"><span class="mpre">handle</span></span></a><span class="mpre"> </span><a href="#loc_114_9_114_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_9_114_12&#39;)"><span class="hl_varref"><span class="mpre">ptr</span></span></a><span class="mpre"> </span><a href="Data.ByteString.Lazy.Internal.html#loc_208_1_208_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Lazy.Internal.html#loc_208_1_208_17&#39;)"><span class="hl_varref"><span class="mpre">defaultChunkSize</span></span></a><span class="mpre">
            </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> (</span><a href="#loc_116_13_116_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_13_116_18&#39;)"><span class="hl_varref"><span class="mpre">count</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
                </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> (</span><a href="Data.ByteString.Internal.html#loc_193_19_193_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_19_193_21&#39;)"><span class="hl_conref"><span class="mpre">PS</span></span></a><span class="mpre"> </span><a href="#loc_113_5_113_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_5_113_9&#39;)"><span class="hl_varref"><span class="mpre">fptr</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="#loc_116_13_116_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_13_116_18&#39;)"><span class="hl_varref"><span class="mpre">count</span></span></a><span class="mpre">)
                </span><a href="#loc_115_9_115_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_9_115_13&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">

    </span><a href="#loc_115_9_115_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_9_115_13&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">

    </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">touchForeignPtr</span></span><span class="mpre"> </span><a href="#loc_113_5_113_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_5_113_9&#39;)"><span class="hl_varref"><span class="mpre">fptr</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | An alternative to &#39;sourceHandle&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Instead of taking a pre-opened &#39;IO.Handle&#39;, it takes an action that opens</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- a &#39;IO.Handle&#39; (in read mode), so that it can open it only when needed</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and closed it as soon as possible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_134_1_134_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_1_134_15&#39;)"><span class="mpre">sourceIOHandle</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 131, srcSpanStartColumn = 19, srcSpanEndLine = 132, srcSpanEndColumn = 18}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 132, srcSpanStartColumn = 16, srcSpanEndLine = 132, srcSpanEndColumn = 18}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">MonadResource m
               =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO.Handle</span></span><span class="mpre">
               -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">
</span><a name="loc_134_1_134_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_1_134_15&#39;)"><span class="hl_fundecl"><span class="mpre">sourceIOHandle</span></span></a><span class="mpre"> </span><a name="loc_134_16_134_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_16_134_21&#39;)"><span class="hl_vardecl"><span class="mpre">alloc</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.html#loc_226_1_226_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_226_1_226_9&#39;)"><span class="hl_varref"><span class="mpre">bracketP</span></span></a><span class="mpre"> </span><a href="#loc_134_16_134_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_16_134_21&#39;)"><span class="hl_varref"><span class="mpre">alloc</span></span></a><span class="mpre"> </span><a href="GHC.IO.Handle.html#loc_86_1_86_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_86_1_86_7&#39;)"><span class="hl_varref"><span class="mpre">IO.hClose</span></span></a><span class="mpre"> </span><a href="#loc_91_1_91_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_1_91_13&#39;)"><span class="hl_varref"><span class="mpre">sourceHandle</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Stream all incoming data to the given &#39;IO.Handle&#39;. Note that this function</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- will /not/ automatically close the @Handle@ when processing completes.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_143_1_143_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_11&#39;)"><span class="mpre">sinkHandle</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 140, srcSpanStartColumn = 15, srcSpanEndLine = 141, srcSpanEndColumn = 14}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 141, srcSpanStartColumn = 12, srcSpanEndLine = 141, srcSpanEndColumn = 14}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">MonadIO m
           =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO.Handle</span></span><span class="mpre">
           -&gt; </span><span class="hl_tyconref"><span class="mpre">Consumer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_143_1_143_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_11&#39;)"><span class="hl_fundecl"><span class="mpre">sinkHandle</span></span></a><span class="mpre"> </span><a name="loc_143_12_143_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_12_143_13&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.html#loc_263_1_263_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_263_1_263_13&#39;)"><span class="hl_varref"><span class="mpre">awaitForever</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.hPut</span></span><span class="mpre"> </span><a href="#loc_143_12_143_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_12_143_13&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | An alternative to &#39;sinkHandle&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Instead of taking a pre-opened &#39;IO.Handle&#39;, it takes an action that opens</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- a &#39;IO.Handle&#39; (in write mode), so that it can open it only when needed</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and close it as soon as possible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_154_1_154_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_1_154_13&#39;)"><span class="mpre">sinkIOHandle</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 151, srcSpanStartColumn = 17, srcSpanEndLine = 152, srcSpanEndColumn = 16}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 152, srcSpanStartColumn = 14, srcSpanEndLine = 152, srcSpanEndColumn = 16}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">MonadResource m
             =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO.Handle</span></span><span class="mpre">
             -&gt; </span><span class="hl_tyconref"><span class="mpre">Consumer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_154_1_154_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_1_154_13&#39;)"><span class="hl_fundecl"><span class="mpre">sinkIOHandle</span></span></a><span class="mpre"> </span><a name="loc_154_14_154_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_14_154_19&#39;)"><span class="hl_vardecl"><span class="mpre">alloc</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.html#loc_226_1_226_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_226_1_226_9&#39;)"><span class="hl_varref"><span class="mpre">bracketP</span></span></a><span class="mpre"> </span><a href="#loc_154_14_154_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_14_154_19&#39;)"><span class="hl_varref"><span class="mpre">alloc</span></span></a><span class="mpre"> </span><a href="GHC.IO.Handle.html#loc_86_1_86_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_86_1_86_7&#39;)"><span class="hl_varref"><span class="mpre">IO.hClose</span></span></a><span class="mpre"> </span><a href="#loc_143_1_143_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_11&#39;)"><span class="hl_varref"><span class="mpre">sinkHandle</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Stream the contents of a file as binary data, starting from a certain</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- offset and only consuming up to a certain number of bytes.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_165_1_165_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_1_165_16&#39;)"><span class="mpre">sourceFileRange</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 160, srcSpanStartColumn = 20, srcSpanEndLine = 161, srcSpanEndColumn = 19}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 161, srcSpanStartColumn = 17, srcSpanEndLine = 161, srcSpanEndColumn = 19}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">MonadResource m
                =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
                -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ Offset</span></span><span class="mpre">
                -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ Maximum count</span></span><span class="mpre">
                -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">
</span><a name="loc_165_1_165_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_1_165_16&#39;)"><span class="hl_fundecl"><span class="mpre">sourceFileRange</span></span></a><span class="mpre"> </span><a name="loc_165_17_165_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_17_165_19&#39;)"><span class="hl_vardecl"><span class="mpre">fp</span></span></a><span class="mpre"> </span><a name="loc_165_20_165_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_20_165_26&#39;)"><span class="hl_vardecl"><span class="mpre">offset</span></span></a><span class="mpre"> </span><a name="loc_165_27_165_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_27_165_32&#39;)"><span class="hl_vardecl"><span class="mpre">count</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.html#loc_226_1_226_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_226_1_226_9&#39;)"><span class="hl_varref"><span class="mpre">bracketP</span></span></a><span class="mpre">
    (</span><a href="GHC.IO.Handle.FD.html#loc_177_1_177_15" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.FD.html#loc_177_1_177_15&#39;)"><span class="hl_varref"><span class="mpre">IO.openBinaryFile</span></span></a><span class="mpre"> </span><a href="#loc_165_17_165_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_17_165_19&#39;)"><span class="hl_varref"><span class="mpre">fp</span></span></a><span class="mpre"> </span><a href="GHC.IO.IOMode.html#loc_28_21_28_29" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.IOMode.html#loc_28_21_28_29&#39;)"><span class="hl_conref"><span class="mpre">IO.ReadMode</span></span></a><span class="mpre">)
    </span><a href="GHC.IO.Handle.html#loc_86_1_86_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_86_1_86_7&#39;)"><span class="hl_varref"><span class="mpre">IO.hClose</span></span></a><span class="mpre">
    (\</span><a name="loc_168_7_168_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_7_168_8&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_179_1_179_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_1_179_18&#39;)"><span class="hl_varref"><span class="mpre">sourceHandleRange</span></span></a><span class="mpre"> </span><a href="#loc_168_7_168_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_7_168_8&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><a href="#loc_165_20_165_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_20_165_26&#39;)"><span class="hl_varref"><span class="mpre">offset</span></span></a><span class="mpre"> </span><a href="#loc_165_27_165_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_27_165_32&#39;)"><span class="hl_varref"><span class="mpre">count</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Stream the contents of a handle as binary data, starting from a certain</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- offset and only consuming up to a certain number of bytes.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 1.0.8</span></span><span class="mpre">
</span><a href="#loc_179_1_179_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_1_179_18&#39;)"><span class="mpre">sourceHandleRange</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 174, srcSpanStartColumn = 22, srcSpanEndLine = 175, srcSpanEndColumn = 21}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 175, srcSpanStartColumn = 19, srcSpanEndLine = 175, srcSpanEndColumn = 21}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">MonadIO m
                  =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO.Handle</span></span><span class="mpre">
                  -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ Offset</span></span><span class="mpre">
                  -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ Maximum count</span></span><span class="mpre">
                  -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">
</span><a name="loc_179_1_179_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_1_179_18&#39;)"><span class="hl_fundecl"><span class="mpre">sourceHandleRange</span></span></a><span class="mpre"> </span><a name="loc_179_19_179_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_19_179_25&#39;)"><span class="hl_vardecl"><span class="mpre">handle</span></span></a><span class="mpre"> </span><a name="loc_179_26_179_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_26_179_32&#39;)"><span class="hl_vardecl"><span class="mpre">offset</span></span></a><span class="mpre"> </span><a name="loc_179_33_179_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_33_179_38&#39;)"><span class="hl_vardecl"><span class="mpre">count</span></span></a><span class="mpre"> = do
    case </span><a href="#loc_179_26_179_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_26_179_32&#39;)"><span class="hl_varref"><span class="mpre">offset</span></span></a><span class="mpre"> of
        </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
        </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a name="loc_182_14_182_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_14_182_17&#39;)"><span class="hl_vardecl"><span class="mpre">off</span></span></a><span class="mpre"> -&gt; </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.Handle.html#loc_386_1_386_6" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_386_1_386_6&#39;)"><span class="hl_varref"><span class="mpre">IO.hSeek</span></span></a><span class="mpre"> </span><a href="#loc_179_19_179_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_19_179_25&#39;)"><span class="hl_varref"><span class="mpre">handle</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">IO.AbsoluteSeek</span></span><span class="mpre"> </span><a href="#loc_182_14_182_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_14_182_17&#39;)"><span class="hl_varref"><span class="mpre">off</span></span></a><span class="mpre">
    case </span><a href="#loc_179_33_179_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_33_179_38&#39;)"><span class="hl_varref"><span class="mpre">count</span></span></a><span class="mpre"> of
        </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_187_5_187_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_5_187_18&#39;)"><span class="hl_varref"><span class="mpre">pullUnlimited</span></span></a><span class="mpre">
        </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a name="loc_185_14_185_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_14_185_15&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_195_5_195_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_5_195_16&#39;)"><span class="hl_varref"><span class="mpre">pullLimited</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromInteger</span></span><span class="mpre"> </span><a href="#loc_185_14_185_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_14_185_15&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">)
  where
    </span><a name="loc_187_5_187_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_5_187_18&#39;)"><span class="hl_vardecl"><span class="mpre">pullUnlimited</span></span></a><span class="mpre"> = do
        </span><a name="loc_188_9_188_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_9_188_11&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.hGetSome</span></span><span class="mpre"> </span><a href="#loc_179_19_179_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_19_179_25&#39;)"><span class="hl_varref"><span class="mpre">handle</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">4096</span></span><span class="mpre">
        if </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_188_9_188_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_9_188_11&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
            then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
            else do
                </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_188_9_188_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_9_188_11&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
                </span><a href="#loc_187_5_187_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_5_187_18&#39;)"><span class="hl_varref"><span class="mpre">pullUnlimited</span></span></a><span class="mpre">

    </span><a name="loc_195_5_195_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_5_195_16&#39;)"><span class="hl_fundecl"><span class="mpre">pullLimited</span></span></a><span class="mpre"> </span><a name="loc_195_17_195_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_17_195_18&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = do
        </span><a name="loc_196_9_196_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_9_196_11&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.hGetSome</span></span><span class="mpre"> </span><a href="#loc_179_19_179_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_19_179_25&#39;)"><span class="hl_varref"><span class="mpre">handle</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">min</span></span><span class="mpre"> </span><a href="#loc_195_17_195_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_17_195_18&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">4096</span></span><span class="mpre">)
        let </span><a name="loc_197_13_197_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_13_197_15&#39;)"><span class="hl_vardecl"><span class="mpre">c&#39;</span></span></a><span class="mpre"> = </span><a href="#loc_195_17_195_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_17_195_18&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.length</span></span><span class="mpre"> </span><a href="#loc_196_9_196_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_9_196_11&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">assert</span></span><span class="mpre"> (</span><a href="#loc_197_13_197_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_13_197_15&#39;)"><span class="hl_varref"><span class="mpre">c&#39;</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
            if </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_196_9_196_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_9_196_11&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
                then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
                else do
                    </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_196_9_196_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_9_196_11&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
                    </span><a href="#loc_195_5_195_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_5_195_16&#39;)"><span class="hl_varref"><span class="mpre">pullLimited</span></span></a><span class="mpre"> </span><a href="#loc_197_13_197_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_13_197_15&#39;)"><span class="hl_varref"><span class="mpre">c&#39;</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Stream all incoming data to the given file.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_211_1_211_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_1_211_9&#39;)"><span class="mpre">sinkFile</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 208, srcSpanStartColumn = 13, srcSpanEndLine = 209, srcSpanEndColumn = 12}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 209, srcSpanStartColumn = 10, srcSpanEndLine = 209, srcSpanEndColumn = 12}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">MonadResource m
         =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
         -&gt; </span><span class="hl_tyconref"><span class="mpre">Consumer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_211_1_211_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_1_211_9&#39;)"><span class="hl_fundecl"><span class="mpre">sinkFile</span></span></a><span class="mpre"> </span><a name="loc_211_10_211_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_10_211_12&#39;)"><span class="hl_vardecl"><span class="mpre">fp</span></span></a><span class="mpre"> = </span><a href="#loc_154_1_154_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_1_154_13&#39;)"><span class="hl_varref"><span class="mpre">sinkIOHandle</span></span></a><span class="mpre"> (</span><a href="GHC.IO.Handle.FD.html#loc_177_1_177_15" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.FD.html#loc_177_1_177_15&#39;)"><span class="hl_varref"><span class="mpre">IO.openBinaryFile</span></span></a><span class="mpre"> </span><a href="#loc_211_10_211_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_10_211_12&#39;)"><span class="hl_varref"><span class="mpre">fp</span></span></a><span class="mpre"> </span><a href="GHC.IO.IOMode.html#loc_28_32_28_41" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.IOMode.html#loc_28_32_28_41&#39;)"><span class="hl_conref"><span class="mpre">IO.WriteMode</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Stream the contents of the input to a file, and also send it along the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- pipeline. Similar in concept to the Unix command @tee@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_220_1_220_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_1_220_12&#39;)"><span class="mpre">conduitFile</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 217, srcSpanStartColumn = 16, srcSpanEndLine = 218, srcSpanEndColumn = 15}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 218, srcSpanStartColumn = 13, srcSpanEndLine = 218, srcSpanEndColumn = 15}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">MonadResource m
            =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
            -&gt; </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">
</span><a name="loc_220_1_220_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_1_220_12&#39;)"><span class="hl_fundecl"><span class="mpre">conduitFile</span></span></a><span class="mpre"> </span><a name="loc_220_13_220_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_13_220_15&#39;)"><span class="hl_vardecl"><span class="mpre">fp</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.html#loc_226_1_226_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_226_1_226_9&#39;)"><span class="hl_varref"><span class="mpre">bracketP</span></span></a><span class="mpre">
    (</span><a href="GHC.IO.Handle.FD.html#loc_177_1_177_15" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.FD.html#loc_177_1_177_15&#39;)"><span class="hl_varref"><span class="mpre">IO.openBinaryFile</span></span></a><span class="mpre"> </span><a href="#loc_220_13_220_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_13_220_15&#39;)"><span class="hl_varref"><span class="mpre">fp</span></span></a><span class="mpre"> </span><a href="GHC.IO.IOMode.html#loc_28_32_28_41" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.IOMode.html#loc_28_32_28_41&#39;)"><span class="hl_conref"><span class="mpre">IO.WriteMode</span></span></a><span class="mpre">)
    </span><a href="GHC.IO.Handle.html#loc_86_1_86_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_86_1_86_7&#39;)"><span class="hl_varref"><span class="mpre">IO.hClose</span></span></a><span class="mpre">
    </span><a href="#loc_231_1_231_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_1_231_14&#39;)"><span class="hl_varref"><span class="mpre">conduitHandle</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Stream the contents of the input to a @Handle@, and also send it along the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- pipeline. Similar in concept to the Unix command @tee@. Like @sourceHandle@,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- does not close the handle on completion. Related to: @conduitFile@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 1.0.9</span></span><span class="mpre">
</span><a href="#loc_231_1_231_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_1_231_14&#39;)"><span class="mpre">conduitHandle</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 230, srcSpanStartColumn = 18, srcSpanEndLine = 230, srcSpanEndColumn = 30}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 230, srcSpanStartColumn = 28, srcSpanEndLine = 230, srcSpanEndColumn = 30}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">MonadIO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO.Handle</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">
</span><a name="loc_231_1_231_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_1_231_14&#39;)"><span class="hl_fundecl"><span class="mpre">conduitHandle</span></span></a><span class="mpre"> </span><a name="loc_231_15_231_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_15_231_16&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.html#loc_263_1_263_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_263_1_263_13&#39;)"><span class="hl_varref"><span class="mpre">awaitForever</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_231_35_231_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_35_231_37&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> -&gt; </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">S.hPut</span></span><span class="mpre"> </span><a href="#loc_231_15_231_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_15_231_16&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><a href="#loc_231_35_231_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_35_231_37&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_231_35_231_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_35_231_37&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Ensure that only up to the given number of bytes are consume by the inner</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- sink. Note that this does /not/ ensure that all of those bytes are in fact</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- consumed.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_241_1_241_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_1_241_8&#39;)"><span class="mpre">isolate</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 238, srcSpanStartColumn = 12, srcSpanEndLine = 239, srcSpanEndColumn = 11}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 239, srcSpanStartColumn = 9, srcSpanEndLine = 239, srcSpanEndColumn = 11}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pu"><span class="mpre">Monad m
        =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
        -&gt; </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">
</span><a name="loc_241_1_241_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_1_241_8&#39;)"><span class="hl_vardecl"><span class="mpre">isolate</span></span></a><span class="mpre"> =
    </span><a href="#loc_244_5_244_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_244_5_244_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">
  where
    </span><a name="loc_244_5_244_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_244_5_244_9&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
    </span><a href="#loc_244_5_244_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_244_5_244_9&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a name="loc_245_10_245_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_245_10_245_15&#39;)"><span class="hl_vardecl"><span class="mpre">count</span></span></a><span class="mpre"> = do
        </span><a name="loc_246_9_246_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_9_246_12&#39;)"><span class="hl_vardecl"><span class="mpre">mbs</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre">
        case </span><a href="#loc_246_9_246_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_9_246_12&#39;)"><span class="hl_varref"><span class="mpre">mbs</span></span></a><span class="mpre"> of
            </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
            </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a name="loc_249_18_249_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_18_249_20&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> -&gt; do
                let (</span><a name="loc_250_22_250_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_22_250_23&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">, </span><a name="loc_250_25_250_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_25_250_26&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">S.splitAt</span></span><span class="mpre"> </span><a href="#loc_245_10_245_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_245_10_245_15&#39;)"><span class="hl_varref"><span class="mpre">count</span></span></a><span class="mpre"> </span><a href="#loc_249_18_249_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_18_249_20&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
                case </span><a href="#loc_245_10_245_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_245_10_245_15&#39;)"><span class="hl_varref"><span class="mpre">count</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.length</span></span><span class="mpre"> </span><a href="#loc_250_22_250_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_22_250_23&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> of
                    </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> -&gt; do
                        </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_250_25_250_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_25_250_26&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_207_1_207_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_207_1_207_9&#39;)"><span class="hl_varref"><span class="mpre">leftover</span></span></a><span class="mpre"> </span><a href="#loc_250_25_250_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_25_250_26&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">
                        </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_250_22_250_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_22_250_23&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
                    </span><a name="loc_255_21_255_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_21_255_27&#39;)"><span class="hl_vardecl"><span class="mpre">count&#39;</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">assert</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_250_25_250_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_25_250_26&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_250_22_250_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_22_250_23&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_244_5_244_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_244_5_244_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a href="#loc_255_21_255_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_21_255_27&#39;)"><span class="hl_varref"><span class="mpre">count&#39;</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Return the next byte from the stream, if available.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_261_1_261_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_1_261_5&#39;)"><span class="mpre">head</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 260, srcSpanStartColumn = 9, srcSpanEndLine = 260, srcSpanEndColumn = 19}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 260, srcSpanStartColumn = 17, srcSpanEndLine = 260, srcSpanEndColumn = 19}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pu"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Consumer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">)
</span><a name="loc_261_1_261_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_1_261_5&#39;)"><span class="hl_vardecl"><span class="mpre">head</span></span></a><span class="mpre"> = do
    </span><a name="loc_262_5_262_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_5_262_8&#39;)"><span class="hl_vardecl"><span class="mpre">mbs</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre">
    case </span><a href="#loc_262_5_262_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_5_262_8&#39;)"><span class="hl_varref"><span class="mpre">mbs</span></span></a><span class="mpre"> of
        </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">
        </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a name="loc_265_14_265_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_265_14_265_16&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> -&gt;
            case </span><span class="hl_varref"><span class="mpre">S.uncons</span></span><span class="mpre"> </span><a href="#loc_265_14_265_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_265_14_265_16&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> of
                </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_261_1_261_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_1_261_5&#39;)"><span class="hl_varref"><span class="mpre">head</span></span></a><span class="mpre">
                </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> (</span><a name="loc_268_23_268_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_23_268_24&#39;)"><span class="hl_vardecl"><span class="mpre">w</span></span></a><span class="mpre">, </span><a name="loc_268_26_268_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_26_268_29&#39;)"><span class="hl_vardecl"><span class="mpre">bs&#39;</span></span></a><span class="mpre">) -&gt; </span><a href="Data.Conduit.html#loc_207_1_207_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_207_1_207_9&#39;)"><span class="hl_varref"><span class="mpre">leftover</span></span></a><span class="mpre"> </span><a href="#loc_268_26_268_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_26_268_29&#39;)"><span class="hl_varref"><span class="mpre">bs&#39;</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a href="#loc_268_23_268_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_23_268_24&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Return all bytes while the predicate returns @True@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_274_1_274_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_1_274_10&#39;)"><span class="mpre">takeWhile</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 273, srcSpanStartColumn = 14, srcSpanEndLine = 273, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 273, srcSpanStartColumn = 22, srcSpanEndLine = 273, srcSpanEndColumn = 24}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">
</span><a name="loc_274_1_274_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_1_274_10&#39;)"><span class="hl_fundecl"><span class="mpre">takeWhile</span></span></a><span class="mpre"> </span><a name="loc_274_11_274_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_11_274_12&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> =
    </span><a href="#loc_277_5_277_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_5_277_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">
  where
    </span><a name="loc_277_5_277_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_5_277_9&#39;)"><span class="hl_vardecl"><span class="mpre">loop</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_74_1_74_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_74_1_74_6&#39;)"><span class="hl_varref"><span class="mpre">maybe</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">) </span><a href="#loc_279_5_279_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_5_279_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">

    </span><a name="loc_279_5_279_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_5_279_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_279_8_279_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_8_279_10&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre">
        | </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_284_10_284_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_10_284_11&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_283_9_283_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_9_283_13&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre">
        | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_284_10_284_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_10_284_11&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_283_9_283_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_9_283_13&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre">
      where
        </span><a name="loc_283_9_283_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_9_283_13&#39;)"><span class="hl_vardecl"><span class="mpre">next</span></span></a><span class="mpre"> = if </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_284_13_284_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_13_284_14&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> then </span><a href="#loc_277_5_277_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_5_277_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> else </span><a href="Data.Conduit.html#loc_207_1_207_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_207_1_207_9&#39;)"><span class="hl_varref"><span class="mpre">leftover</span></span></a><span class="mpre"> </span><a href="#loc_284_13_284_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_13_284_14&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">
        (</span><a name="loc_284_10_284_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_10_284_11&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">, </span><a name="loc_284_13_284_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_13_284_14&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">S.span</span></span><span class="mpre"> </span><a href="#loc_274_11_274_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_11_274_12&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_279_8_279_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_8_279_10&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Ignore all bytes while the predicate returns @True@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_290_1_290_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_1_290_10&#39;)"><span class="mpre">dropWhile</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 289, srcSpanStartColumn = 14, srcSpanEndLine = 289, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 289, srcSpanStartColumn = 22, srcSpanEndLine = 289, srcSpanEndColumn = 24}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Consumer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_290_1_290_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_1_290_10&#39;)"><span class="hl_fundecl"><span class="mpre">dropWhile</span></span></a><span class="mpre"> </span><a name="loc_290_11_290_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_11_290_12&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> =
    </span><a href="#loc_293_5_293_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_293_5_293_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">
  where
    </span><a name="loc_293_5_293_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_293_5_293_9&#39;)"><span class="hl_vardecl"><span class="mpre">loop</span></span></a><span class="mpre"> = do
        </span><a name="loc_294_9_294_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_9_294_12&#39;)"><span class="hl_vardecl"><span class="mpre">mbs</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre">
        case </span><span class="hl_varref"><span class="mpre">S.dropWhile</span></span><span class="mpre"> </span><a href="#loc_290_11_290_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_11_290_12&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_294_9_294_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_9_294_12&#39;)"><span class="hl_varref"><span class="mpre">mbs</span></span></a><span class="mpre"> of
            </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
            </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a name="loc_297_18_297_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_18_297_20&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre">
                | </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_297_18_297_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_18_297_20&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_293_5_293_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_293_5_293_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">
                | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> -&gt; </span><a href="Data.Conduit.html#loc_207_1_207_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_207_1_207_9&#39;)"><span class="hl_varref"><span class="mpre">leftover</span></span></a><span class="mpre"> </span><a href="#loc_297_18_297_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_18_297_20&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Take the given number of bytes, if available.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_305_1_305_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_1_305_5&#39;)"><span class="mpre">take</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 304, srcSpanStartColumn = 9, srcSpanEndLine = 304, srcSpanEndColumn = 19}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 304, srcSpanStartColumn = 17, srcSpanEndLine = 304, srcSpanEndColumn = 19}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pu"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Consumer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre">
</span><a name="loc_305_1_305_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_1_305_5&#39;)"><span class="hl_fundecl"><span class="mpre">take</span></span></a><span class="mpre">  </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.empty</span></span><span class="mpre">
</span><a href="#loc_305_1_305_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_1_305_5&#39;)"><span class="hl_fundecl"><span class="mpre">take</span></span></a><span class="mpre"> </span><a name="loc_306_6_306_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_306_6_306_8&#39;)"><span class="hl_vardecl"><span class="mpre">n0</span></span></a><span class="mpre"> = </span><a href="#loc_308_5_308_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_5_308_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_306_6_306_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_306_6_306_8&#39;)"><span class="hl_varref"><span class="mpre">n0</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">
  where
    </span><a name="loc_308_5_308_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_5_308_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_308_8_308_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_8_308_9&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_308_10_308_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_10_308_15&#39;)"><span class="hl_vardecl"><span class="mpre">front</span></span></a><span class="mpre"> =
        </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_74_1_74_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_74_1_74_6&#39;)"><span class="hl_varref"><span class="mpre">maybe</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.fromChunks</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_308_10_308_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_10_308_15&#39;)"><span class="hl_varref"><span class="mpre">front</span></span></a><span class="mpre"> []) </span><a href="#loc_311_9_311_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_9_311_12&#39;)"><span class="hl_varref"><span class="mpre">go&#39;</span></span></a><span class="mpre">
      where
        </span><a name="loc_311_9_311_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_9_311_12&#39;)"><span class="hl_fundecl"><span class="mpre">go&#39;</span></span></a><span class="mpre"> </span><a name="loc_311_13_311_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_13_311_15&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> =
            case </span><span class="hl_varref"><span class="mpre">S.length</span></span><span class="mpre"> </span><a href="#loc_311_13_311_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_13_311_15&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`compare`</span></span><span class="mpre"> </span><a href="#loc_308_8_308_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_8_308_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> of
                </span><span class="hl_conref"><span class="mpre">LT</span></span><span class="mpre"> -&gt; </span><a href="#loc_308_5_308_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_5_308_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="#loc_308_8_308_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_8_308_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.length</span></span><span class="mpre"> </span><a href="#loc_311_13_311_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_13_311_15&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">) (</span><a href="#loc_308_10_308_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_10_308_15&#39;)"><span class="hl_varref"><span class="mpre">front</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (</span><a href="#loc_311_13_311_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_13_311_15&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">))
                </span><span class="hl_conref"><span class="mpre">EQ</span></span><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.fromChunks</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_308_10_308_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_10_308_15&#39;)"><span class="hl_varref"><span class="mpre">front</span></span></a><span class="mpre"> [</span><a href="#loc_311_13_311_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_13_311_15&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">]
                </span><span class="hl_conref"><span class="mpre">GT</span></span><span class="mpre"> -&gt;
                    let (</span><a name="loc_316_26_316_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_26_316_27&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">, </span><a name="loc_316_29_316_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_29_316_30&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">S.splitAt</span></span><span class="mpre"> </span><a href="#loc_308_8_308_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_8_308_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_311_13_311_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_13_311_15&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
                     in </span><span class="hl_varref"><span class="mpre">assert</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_316_29_316_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_29_316_30&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_207_1_207_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_207_1_207_9&#39;)"><span class="hl_varref"><span class="mpre">leftover</span></span></a><span class="mpre"> </span><a href="#loc_316_29_316_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_29_316_30&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">L.fromChunks</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_308_10_308_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_10_308_15&#39;)"><span class="hl_varref"><span class="mpre">front</span></span></a><span class="mpre"> [</span><a href="#loc_316_26_316_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_26_316_27&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">])

</span><span class="hl_comment"><span class="mpre">-- | Drop up to the given number of bytes.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.5.0</span></span><span class="mpre">
</span><a href="#loc_323_1_323_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_1_323_5&#39;)"><span class="mpre">drop</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 322, srcSpanStartColumn = 9, srcSpanEndLine = 322, srcSpanEndColumn = 19}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 322, srcSpanStartColumn = 17, srcSpanEndLine = 322, srcSpanEndColumn = 19}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pu"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Consumer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_323_1_323_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_1_323_5&#39;)"><span class="hl_fundecl"><span class="mpre">drop</span></span></a><span class="mpre">  </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
</span><a href="#loc_323_1_323_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_1_323_5&#39;)"><span class="hl_fundecl"><span class="mpre">drop</span></span></a><span class="mpre"> </span><a name="loc_324_6_324_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_6_324_8&#39;)"><span class="hl_vardecl"><span class="mpre">n0</span></span></a><span class="mpre"> = </span><a href="#loc_326_5_326_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_5_326_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_324_6_324_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_6_324_8&#39;)"><span class="hl_varref"><span class="mpre">n0</span></span></a><span class="mpre">
  where
    </span><a name="loc_326_5_326_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_5_326_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_326_8_326_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_8_326_9&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> =
        </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_74_1_74_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_74_1_74_6&#39;)"><span class="hl_varref"><span class="mpre">maybe</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">) </span><a href="#loc_329_9_329_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_9_329_12&#39;)"><span class="hl_varref"><span class="mpre">go&#39;</span></span></a><span class="mpre">
      where
        </span><a name="loc_329_9_329_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_9_329_12&#39;)"><span class="hl_fundecl"><span class="mpre">go&#39;</span></span></a><span class="mpre"> </span><a name="loc_329_13_329_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_13_329_15&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> =
            case </span><span class="hl_varref"><span class="mpre">S.length</span></span><span class="mpre"> </span><a href="#loc_329_13_329_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_13_329_15&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`compare`</span></span><span class="mpre"> </span><a href="#loc_326_8_326_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_8_326_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> of
                </span><span class="hl_conref"><span class="mpre">LT</span></span><span class="mpre"> -&gt; </span><a href="#loc_326_5_326_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_5_326_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="#loc_326_8_326_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_8_326_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.length</span></span><span class="mpre"> </span><a href="#loc_329_13_329_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_13_329_15&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">)
                </span><span class="hl_conref"><span class="mpre">EQ</span></span><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
                </span><span class="hl_conref"><span class="mpre">GT</span></span><span class="mpre"> -&gt;
                    let </span><a name="loc_334_25_334_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_25_334_26&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">S.drop</span></span><span class="mpre"> </span><a href="#loc_326_8_326_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_8_326_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_329_13_329_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_13_329_15&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
                     in </span><span class="hl_varref"><span class="mpre">assert</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_334_25_334_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_25_334_26&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_207_1_207_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_207_1_207_9&#39;)"><span class="hl_varref"><span class="mpre">leftover</span></span></a><span class="mpre"> </span><a href="#loc_334_25_334_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_25_334_26&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Split the input bytes into lines. In other words, split on the LF byte</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (10), and strip it from the output.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_342_1_342_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_1_342_6&#39;)"><span class="mpre">lines</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 341, srcSpanStartColumn = 10, srcSpanEndLine = 341, srcSpanEndColumn = 20}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 341, srcSpanStartColumn = 18, srcSpanEndLine = 341, srcSpanEndColumn = 20}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">
</span><a name="loc_342_1_342_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_1_342_6&#39;)"><span class="hl_vardecl"><span class="mpre">lines</span></span></a><span class="mpre"> =
    </span><a href="#loc_345_5_345_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_345_5_345_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">
  where
    </span><a name="loc_345_5_345_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_345_5_345_9&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a name="loc_345_10_345_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_345_10_345_15&#39;)"><span class="hl_vardecl"><span class="mpre">front</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_74_1_74_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_74_1_74_6&#39;)"><span class="hl_varref"><span class="mpre">maybe</span></span></a><span class="mpre"> (</span><a href="#loc_347_5_347_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_5_347_11&#39;)"><span class="hl_varref"><span class="mpre">finish</span></span></a><span class="mpre"> </span><a href="#loc_345_10_345_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_345_10_345_15&#39;)"><span class="hl_varref"><span class="mpre">front</span></span></a><span class="mpre">) (</span><a href="#loc_351_5_351_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_5_351_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_345_10_345_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_345_10_345_15&#39;)"><span class="hl_varref"><span class="mpre">front</span></span></a><span class="mpre">)

    </span><a name="loc_347_5_347_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_5_347_11&#39;)"><span class="hl_fundecl"><span class="mpre">finish</span></span></a><span class="mpre"> </span><a name="loc_347_12_347_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_12_347_17&#39;)"><span class="hl_vardecl"><span class="mpre">front</span></span></a><span class="mpre"> =
        let </span><a name="loc_348_13_348_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_13_348_18&#39;)"><span class="hl_vardecl"><span class="mpre">final</span></span></a><span class="mpre"> = </span><a href="#loc_347_12_347_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_12_347_17&#39;)"><span class="hl_varref"><span class="mpre">front</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.empty</span></span><span class="mpre">
         in </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_348_13_348_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_13_348_18&#39;)"><span class="hl_varref"><span class="mpre">final</span></span></a><span class="mpre">) (</span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_348_13_348_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_13_348_18&#39;)"><span class="hl_varref"><span class="mpre">final</span></span></a><span class="mpre">)

    </span><a name="loc_351_5_351_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_5_351_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_351_8_351_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_8_351_13&#39;)"><span class="hl_vardecl"><span class="mpre">sofar</span></span></a><span class="mpre"> </span><a name="loc_351_14_351_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_14_351_18&#39;)"><span class="hl_vardecl"><span class="mpre">more</span></span></a><span class="mpre"> =
        case </span><span class="hl_varref"><span class="mpre">S.uncons</span></span><span class="mpre"> </span><a href="#loc_358_17_358_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_358_17_358_23&#39;)"><span class="hl_varref"><span class="mpre">second</span></span></a><span class="mpre"> of
            </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> (_, </span><a name="loc_353_22_353_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_22_353_29&#39;)"><span class="hl_vardecl"><span class="mpre">second&#39;</span></span></a><span class="mpre">) -&gt; </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> (</span><a href="#loc_351_8_351_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_8_351_13&#39;)"><span class="hl_varref"><span class="mpre">sofar</span></span></a><span class="mpre"> </span><a href="#loc_358_10_358_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_358_10_358_15&#39;)"><span class="hl_varref"><span class="mpre">first</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_351_5_351_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_5_351_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre"> </span><a href="#loc_353_22_353_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_22_353_29&#39;)"><span class="hl_varref"><span class="mpre">second&#39;</span></span></a><span class="mpre">
            </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> -&gt;
                let </span><a name="loc_355_21_355_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_355_21_355_25&#39;)"><span class="hl_vardecl"><span class="mpre">rest</span></span></a><span class="mpre"> = </span><a href="#loc_351_8_351_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_8_351_13&#39;)"><span class="hl_varref"><span class="mpre">sofar</span></span></a><span class="mpre"> </span><a href="#loc_351_14_351_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_14_351_18&#39;)"><span class="hl_varref"><span class="mpre">more</span></span></a><span class="mpre">
                 in </span><a href="#loc_345_5_345_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_345_5_345_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.append</span></span><span class="mpre"> </span><a href="#loc_355_21_355_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_355_21_355_25&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre">
      where
        (</span><a name="loc_358_10_358_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_358_10_358_15&#39;)"><span class="hl_vardecl"><span class="mpre">first</span></span></a><span class="mpre">, </span><a name="loc_358_17_358_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_358_17_358_23&#39;)"><span class="hl_vardecl"><span class="mpre">second</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">S.breakByte</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">10</span></span><span class="mpre"> </span><a href="#loc_351_14_351_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_14_351_18&#39;)"><span class="hl_varref"><span class="mpre">more</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Stream the chunks from a lazy bytestring.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.5.0</span></span><span class="mpre">
</span><a href="#loc_364_1_364_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_364_1_364_10&#39;)"><span class="mpre">sourceLbs</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 363, srcSpanStartColumn = 14, srcSpanEndLine = 363, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 363, srcSpanStartColumn = 22, srcSpanEndLine = 363, srcSpanEndColumn = 24}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">
</span><a name="loc_364_1_364_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_364_1_364_10&#39;)"><span class="hl_vardecl"><span class="mpre">sourceLbs</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.List.html#loc_115_1_115_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_115_1_115_11&#39;)"><span class="hl_varref"><span class="mpre">sourceList</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.toChunks</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Stream the input data into a temp file and count the number of bytes</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- present. When complete, return a new @Source@ reading from the temp file</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- together with the length of the input in bytes.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- All resources will be cleaned up automatically.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 1.0.5</span></span><span class="mpre">
</span><a href="#loc_375_1_375_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_375_1_375_16&#39;)"><span class="mpre">sinkCacheLength</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 373, srcSpanStartColumn = 20, srcSpanEndLine = 374, srcSpanEndColumn = 19}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 373, srcSpanStartColumn = 20, srcSpanEndLine = 373, srcSpanEndColumn = 21},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Bin"><span class="mpre">(MonadResource m1, MonadResource m2)
                =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Sink</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m1</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Word64</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Source</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m2</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">)
</span><a name="loc_375_1_375_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_375_1_375_16&#39;)"><span class="hl_vardecl"><span class="mpre">sinkCacheLength</span></span></a><span class="mpre"> = do
    </span><a name="loc_376_5_376_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_5_376_11&#39;)"><span class="hl_vardecl"><span class="mpre">tmpdir</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><a href="System.Directory.html#loc_906_1_906_22" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_906_1_906_22&#39;)"><span class="hl_varref"><span class="mpre">getTemporaryDirectory</span></span></a><span class="mpre">
    (</span><a name="loc_377_6_377_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_377_6_377_16&#39;)"><span class="hl_vardecl"><span class="mpre">releaseKey</span></span></a><span class="mpre">, (</span><a name="loc_377_19_377_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_377_19_377_21&#39;)"><span class="hl_vardecl"><span class="mpre">fp</span></span></a><span class="mpre">, </span><a name="loc_377_23_377_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_377_23_377_24&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre">)) &lt;- </span><a href="Control.Monad.Trans.Resource.html#loc_138_1_138_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_138_1_138_9&#39;)"><span class="hl_varref"><span class="mpre">allocate</span></span></a><span class="mpre">
        (</span><a href="System.IO.html#loc_450_1_450_19" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.html#loc_450_1_450_19&#39;)"><span class="hl_varref"><span class="mpre">IO.openBinaryTempFile</span></span></a><span class="mpre"> </span><a href="#loc_376_5_376_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_5_376_11&#39;)"><span class="hl_varref"><span class="mpre">tmpdir</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;conduit.cache&quot;</span></span><span class="mpre">)
        (\(</span><a name="loc_379_12_379_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_12_379_14&#39;)"><span class="hl_vardecl"><span class="mpre">fp</span></span></a><span class="mpre">, </span><a name="loc_379_16_379_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_16_379_17&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre">) -&gt; </span><a href="GHC.IO.Handle.html#loc_86_1_86_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_86_1_86_7&#39;)"><span class="hl_varref"><span class="mpre">IO.hClose</span></span></a><span class="mpre"> </span><a href="#loc_379_16_379_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_16_379_17&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><a href="Control.Exception.Base.html#loc_273_3_273_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Base.html#loc_273_3_273_12&#39;)"><span class="hl_infix"><span class="mpre">`finally`</span></span></a><span class="mpre"> </span><a href="System.Directory.html#loc_400_1_400_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_400_1_400_11&#39;)"><span class="hl_varref"><span class="mpre">removeFile</span></span></a><span class="mpre"> </span><a href="#loc_379_12_379_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_12_379_14&#39;)"><span class="hl_varref"><span class="mpre">fp</span></span></a><span class="mpre">)
    </span><a name="loc_380_5_380_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_380_5_380_8&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_385_5_385_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_5_385_18&#39;)"><span class="hl_varref"><span class="mpre">sinkHandleLen</span></span></a><span class="mpre"> </span><a href="#loc_377_23_377_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_377_23_377_24&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">
    </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.Handle.html#loc_86_1_86_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_86_1_86_7&#39;)"><span class="hl_varref"><span class="mpre">IO.hClose</span></span></a><span class="mpre"> </span><a href="#loc_377_23_377_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_377_23_377_24&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_380_5_380_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_380_5_380_8&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">, </span><a href="#loc_71_1_71_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_1_71_11&#39;)"><span class="hl_varref"><span class="mpre">sourceFile</span></span></a><span class="mpre"> </span><a href="#loc_377_19_377_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_377_19_377_21&#39;)"><span class="hl_varref"><span class="mpre">fp</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.Resource.html#loc_115_1_115_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_115_1_115_8&#39;)"><span class="hl_varref"><span class="mpre">release</span></span></a><span class="mpre"> </span><a href="#loc_377_6_377_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_377_6_377_16&#39;)"><span class="hl_varref"><span class="mpre">releaseKey</span></span></a><span class="mpre">)
  where
    </span><a href="#loc_385_5_385_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_5_385_18&#39;)"><span class="mpre">sinkHandleLen</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 384, srcSpanStartColumn = 22, srcSpanEndLine = 384, srcSpanEndColumn = 40}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 384, srcSpanStartColumn = 38, srcSpanEndLine = 384, srcSpanEndColumn = 40}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">MonadResource m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO.Handle</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Sink</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word64</span></span><span class="mpre">
    </span><a name="loc_385_5_385_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_5_385_18&#39;)"><span class="hl_fundecl"><span class="mpre">sinkHandleLen</span></span></a><span class="mpre"> </span><a name="loc_385_19_385_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_19_385_20&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> =
        </span><a href="#loc_388_9_388_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_388_9_388_13&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
      where
        </span><a name="loc_388_9_388_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_388_9_388_13&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a name="loc_388_14_388_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_388_14_388_15&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> =
            </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_74_1_74_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_74_1_74_6&#39;)"><span class="hl_varref"><span class="mpre">maybe</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_388_14_388_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_388_14_388_15&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) </span><a href="#loc_391_13_391_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_13_391_15&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">
          where
            </span><a name="loc_391_13_391_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_13_391_15&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_391_16_391_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_16_391_18&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> = do
                </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.hPut</span></span><span class="mpre"> </span><a href="#loc_385_19_385_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_19_385_20&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><a href="#loc_391_16_391_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_16_391_18&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
                </span><a href="#loc_388_9_388_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_388_9_388_13&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_388_14_388_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_388_14_388_15&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">S.length</span></span><span class="mpre"> </span><a href="#loc_391_16_391_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_16_391_18&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Consume a stream of input into a lazy bytestring. Note that no lazy I\/O</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- is performed, but rather all content is read into memory strictly.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 1.0.5</span></span><span class="mpre">
</span><a href="#loc_400_1_400_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_400_1_400_8&#39;)"><span class="mpre">sinkLbs</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 399, srcSpanStartColumn = 12, srcSpanEndLine = 399, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 399, srcSpanStartColumn = 20, srcSpanEndLine = 399, srcSpanEndColumn = 22}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Sink</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre">
</span><a name="loc_400_1_400_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_400_1_400_8&#39;)"><span class="hl_vardecl"><span class="mpre">sinkLbs</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.fromChunks</span></span><span class="mpre"> </span><a href="Data.Conduit.List.html#loc_450_1_450_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_450_1_450_8&#39;)"><span class="hl_varref"><span class="mpre">consume</span></span></a><span class="mpre">

</span><a href="#loc_403_1_403_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_1_403_8&#39;)"><span class="mpre">mapM_BS</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 402, srcSpanStartColumn = 12, srcSpanEndLine = 402, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 402, srcSpanStartColumn = 20, srcSpanEndLine = 402, srcSpanEndColumn = 22}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_403_1_403_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_1_403_8&#39;)"><span class="hl_fundecl"><span class="mpre">mapM_BS</span></span></a><span class="mpre"> </span><a name="loc_403_9_403_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_9_403_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="Data.ByteString.Internal.html#loc_193_19_193_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_19_193_21&#39;)"><span class="hl_conref"><span class="mpre">PS</span></span></a><span class="mpre"> </span><a name="loc_403_15_403_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_15_403_19&#39;)"><span class="hl_vardecl"><span class="mpre">fptr</span></span></a><span class="mpre"> </span><a name="loc_403_20_403_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_20_403_26&#39;)"><span class="hl_vardecl"><span class="mpre">offset</span></span></a><span class="mpre"> </span><a name="loc_403_27_403_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_27_403_30&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre">) = do
    let </span><a name="loc_404_9_404_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_9_404_14&#39;)"><span class="hl_vardecl"><span class="mpre">start</span></span></a><span class="mpre"> = </span><a href="GHC.ForeignPtr.html#loc_420_1_420_22" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.ForeignPtr.html#loc_420_1_420_22&#39;)"><span class="hl_varref"><span class="mpre">unsafeForeignPtrToPtr</span></span></a><span class="mpre"> </span><a href="#loc_403_15_403_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_15_403_19&#39;)"><span class="hl_varref"><span class="mpre">fptr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`plusPtr`</span></span><span class="mpre"> </span><a href="#loc_403_20_403_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_20_403_26&#39;)"><span class="hl_varref"><span class="mpre">offset</span></span></a><span class="mpre">
        </span><a name="loc_405_9_405_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_405_9_405_12&#39;)"><span class="hl_vardecl"><span class="mpre">end</span></span></a><span class="mpre"> = </span><a href="#loc_404_9_404_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_9_404_14&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`plusPtr`</span></span><span class="mpre"> </span><a href="#loc_403_27_403_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_27_403_30&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">
        </span><a name="loc_406_9_406_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_9_406_13&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a name="loc_406_14_406_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_14_406_17&#39;)"><span class="hl_vardecl"><span class="mpre">ptr</span></span></a><span class="mpre">
            | </span><a href="#loc_406_14_406_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_14_406_17&#39;)"><span class="hl_varref"><span class="mpre">ptr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_405_9_405_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_405_9_405_12&#39;)"><span class="hl_varref"><span class="mpre">end</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Internal.html#loc_592_1_592_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_592_1_592_16&#39;)"><span class="hl_varref"><span class="mpre">inlinePerformIO</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">touchForeignPtr</span></span><span class="mpre"> </span><a href="#loc_403_15_403_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_15_403_19&#39;)"><span class="hl_varref"><span class="mpre">fptr</span></span></a><span class="mpre">) </span><a href="Prelude.html#loc_167_1_167_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Prelude.html#loc_167_1_167_4&#39;)"><span class="hl_infix"><span class="mpre">`seq`</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
            | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = do
                </span><a href="#loc_403_9_403_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_9_403_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="Data.ByteString.Internal.html#loc_592_1_592_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_592_1_592_16&#39;)"><span class="hl_varref"><span class="mpre">inlinePerformIO</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">peek</span></span><span class="mpre"> </span><a href="#loc_406_14_406_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_14_406_17&#39;)"><span class="hl_varref"><span class="mpre">ptr</span></span></a><span class="mpre">))
                </span><a href="#loc_406_9_406_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_9_406_13&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> (</span><a href="#loc_406_14_406_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_14_406_17&#39;)"><span class="hl_varref"><span class="mpre">ptr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`plusPtr`</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
    </span><a href="#loc_406_9_406_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_9_406_13&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a href="#loc_404_9_404_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_9_404_14&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_403_1_403_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_1_403_8&#39;)"><span class="mpre">mapM_BS</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Perform a computation on each @Word8@ in a stream.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 1.0.10</span></span><span class="mpre">
</span><a href="#loc_418_1_418_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_1_418_6&#39;)"><span class="mpre">mapM_</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 417, srcSpanStartColumn = 10, srcSpanEndLine = 417, srcSpanEndColumn = 20}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Binary.hs&quot;, srcSpanStartLine = 417, srcSpanStartColumn = 18, srcSpanEndLine = 417, srcSpanEndColumn = 20}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Consumer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_418_1_418_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_1_418_6&#39;)"><span class="hl_fundecl"><span class="mpre">mapM_</span></span></a><span class="mpre"> </span><a name="loc_418_7_418_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_7_418_8&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.html#loc_263_1_263_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_263_1_263_13&#39;)"><span class="hl_varref"><span class="mpre">awaitForever</span></span></a><span class="mpre"> (</span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_403_1_403_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_1_403_8&#39;)"><span class="hl_varref"><span class="mpre">mapM_BS</span></span></a><span class="mpre"> </span><a href="#loc_418_7_418_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_7_418_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_418_1_418_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_1_418_6&#39;)"><span class="mpre">mapM_</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span></div></body></html>