<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">module System.Console.Haskeline.Backend where

import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Backend.hs&quot;, srcSpanStartLine = 3, srcSpanStartColumn = 8, srcSpanEndLine = 3, srcSpanEndColumn = 37}, srcInfoPoints = []}) &quot;System.Console.Haskeline.Term&quot;"><span class="mpre">System.Console.Haskeline.Term</span></span><span class="mpre">
import System.Console.Haskeline.Monads
import Control.Monad
import System.IO (</span><a href="GHC.IO.Handle.FD.html#loc_52_1_52_6" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.FD.html#loc_52_1_52_6&#39;)"><span class="mpre">stdin</span></a><span class="mpre">, </span><a href="GHC.IO.Handle.html#loc_530_1_530_9" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_530_1_530_9&#39;)"><span class="mpre">hGetEcho</span></a><span class="mpre">, Handle)

#ifdef MINGW
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Backend.hs&quot;, srcSpanStartLine = 9, srcSpanStartColumn = 8, srcSpanEndLine = 9, srcSpanEndColumn = 46}, srcInfoPoints = []}) &quot;System.Console.Haskeline.Backend.Win32&quot;"><span class="mpre">System.Console.Haskeline.Backend.Win32</span></span><span class="mpre"> as Win32
#else
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Backend.hs&quot;, srcSpanStartLine = 11, srcSpanStartColumn = 8, srcSpanEndLine = 11, srcSpanEndColumn = 46}, srcInfoPoints = []}) &quot;System.Console.Haskeline.Backend.Posix&quot;"><span class="mpre">System.Console.Haskeline.Backend.Posix</span></span><span class="mpre"> as Posix
#ifdef TERMINFO
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Backend.hs&quot;, srcSpanStartLine = 13, srcSpanStartColumn = 8, srcSpanEndLine = 13, srcSpanEndColumn = 49}, srcInfoPoints = []}) &quot;System.Console.Haskeline.Backend.Terminfo&quot;"><span class="mpre">System.Console.Haskeline.Backend.Terminfo</span></span><span class="mpre"> as Terminfo
#endif
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Backend.hs&quot;, srcSpanStartLine = 15, srcSpanStartColumn = 8, srcSpanEndLine = 15, srcSpanEndColumn = 49}, srcInfoPoints = []}) &quot;System.Console.Haskeline.Backend.DumbTerm&quot;"><span class="mpre">System.Console.Haskeline.Backend.DumbTerm</span></span><span class="mpre"> as DumbTerm
#endif


</span><a href="#loc_20_1_20_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_1_20_15&#39;)"><span class="mpre">defaultRunTerm</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">RunTerm</span></span><span class="mpre">
</span><a name="loc_20_1_20_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_1_20_15&#39;)"><span class="hl_vardecl"><span class="mpre">defaultRunTerm</span></span></a><span class="mpre"> = (</span><span class="hl_varref"><span class="mpre">liftIO</span></span><span class="mpre"> (</span><a href="GHC.IO.Handle.html#loc_530_1_530_9" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_530_1_530_9&#39;)"><span class="hl_varref"><span class="mpre">hGetEcho</span></span></a><span class="mpre"> </span><a href="GHC.IO.Handle.FD.html#loc_52_1_52_6" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.FD.html#loc_52_1_52_6&#39;)"><span class="hl_varref"><span class="mpre">stdin</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Control.Monad.html#loc_148_1_148_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_148_1_148_6&#39;)"><span class="hl_varref"><span class="mpre">guard</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_28_1_28_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_9&#39;)"><span class="hl_varref"><span class="mpre">stdinTTY</span></span></a><span class="mpre">)
                    </span><a href="System.Console.Haskeline.Monads.html#loc_134_1_134_7" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Monads.html#loc_134_1_134_7&#39;)"><span class="hl_infix"><span class="mpre">`orElse`</span></span></a><span class="mpre"> </span><a href="#loc_52_1_52_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_1_52_18&#39;)"><span class="hl_varref"><span class="mpre">fileHandleRunTerm</span></span></a><span class="mpre"> </span><a href="GHC.IO.Handle.FD.html#loc_52_1_52_6" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.FD.html#loc_52_1_52_6&#39;)"><span class="hl_varref"><span class="mpre">stdin</span></span></a><span class="mpre">

</span><a href="#loc_24_1_24_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_1_24_16&#39;)"><span class="mpre">terminalRunTerm</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">RunTerm</span></span><span class="mpre">
</span><a name="loc_24_1_24_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_1_24_16&#39;)"><span class="hl_vardecl"><span class="mpre">terminalRunTerm</span></span></a><span class="mpre"> = </span><a href="#loc_35_1_35_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_1_35_10&#39;)"><span class="hl_varref"><span class="mpre">directTTY</span></span></a><span class="mpre"> </span><a href="System.Console.Haskeline.Monads.html#loc_134_1_134_7" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Monads.html#loc_134_1_134_7&#39;)"><span class="hl_infix"><span class="mpre">`orElse`</span></span></a><span class="mpre"> </span><a href="#loc_52_1_52_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_1_52_18&#39;)"><span class="hl_varref"><span class="mpre">fileHandleRunTerm</span></span></a><span class="mpre"> </span><a href="GHC.IO.Handle.FD.html#loc_52_1_52_6" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.FD.html#loc_52_1_52_6&#39;)"><span class="hl_varref"><span class="mpre">stdin</span></span></a><span class="mpre">

</span><a href="#loc_28_1_28_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_9&#39;)"><span class="mpre">stdinTTY</span></a><span class="mpre"> :: </span><a href="Control.Monad.Trans.Maybe.html#loc_57_9_57_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Maybe.html#loc_57_9_57_15&#39;)"><span class="hl_tyconref"><span class="mpre">MaybeT</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">RunTerm</span></span><span class="mpre">
#ifdef MINGW
</span><a name="loc_28_1_28_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_9&#39;)"><span class="hl_vardecl"><span class="mpre">stdinTTY</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">win32TermStdin</span></span><span class="mpre">
#else
</span><span class="hl_vardecl"><span class="mpre">stdinTTY</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">stdinTTYHandles</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="#loc_44_1_44_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_1_44_8&#39;)"><span class="hl_varref"><span class="mpre">runDraw</span></span></a><span class="mpre">
#endif

</span><a href="#loc_35_1_35_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_1_35_10&#39;)"><span class="mpre">directTTY</span></a><span class="mpre"> :: </span><a href="Control.Monad.Trans.Maybe.html#loc_57_9_57_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Maybe.html#loc_57_9_57_15&#39;)"><span class="hl_tyconref"><span class="mpre">MaybeT</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">RunTerm</span></span><span class="mpre">
#ifdef MINGW
</span><a name="loc_35_1_35_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_1_35_10&#39;)"><span class="hl_vardecl"><span class="mpre">directTTY</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">win32Term</span></span><span class="mpre">
#else
</span><span class="hl_vardecl"><span class="mpre">directTTY</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">ttyHandles</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="#loc_44_1_44_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_1_44_8&#39;)"><span class="hl_varref"><span class="mpre">runDraw</span></span></a><span class="mpre">
#endif


#ifndef MINGW
</span><a href="#loc_44_1_44_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_1_44_8&#39;)"><span class="mpre">runDraw</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Handles</span></span><span class="mpre"> -&gt; </span><a href="Control.Monad.Trans.Maybe.html#loc_57_9_57_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Maybe.html#loc_57_9_57_15&#39;)"><span class="hl_tyconref"><span class="mpre">MaybeT</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">RunTerm</span></span><span class="mpre">
#ifndef TERMINFO
</span><a name="loc_44_1_44_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_1_44_8&#39;)"><span class="hl_vardecl"><span class="mpre">runDraw</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">runDumbTerm</span></span><span class="mpre">
#else
</span><span class="hl_fundecl"><span class="mpre">runDraw</span></span><span class="mpre"> </span><a name="loc_46_9_46_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_9_46_10&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">runTerminfoDraw</span></span><span class="mpre"> </span><a href="#loc_46_9_46_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_9_46_10&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><a href="Control.Monad.html#loc_130_4_130_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_130_4_130_9&#39;)"><span class="hl_infix"><span class="mpre">`mplus`</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">runDumbTerm</span></span><span class="mpre"> </span><a href="#loc_46_9_46_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_9_46_10&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">
#endif
#endif

</span><a href="#loc_52_1_52_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_1_52_18&#39;)"><span class="mpre">fileHandleRunTerm</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Handle</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">RunTerm</span></span><span class="mpre">
#ifdef MINGW
</span><a name="loc_52_1_52_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_1_52_18&#39;)"><span class="hl_vardecl"><span class="mpre">fileHandleRunTerm</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">Win32.fileRunTerm</span></span><span class="mpre">
#else
</span><span class="hl_vardecl"><span class="mpre">fileHandleRunTerm</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">Posix.fileRunTerm</span></span><span class="mpre">
#endif
</span></div></body></html>