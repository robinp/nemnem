<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP #-}
{-# LANGUAGE FlexibleContexts #-}
#if __GLASGOW_HASKELL__ &gt;= 707
{-# LANGUAGE StandaloneDeriving, DeriveDataTypeable #-}
#endif
#if defined(__GLASGOW_HASKELL__) &amp;&amp; __GLASGOW_HASKELL__ &gt;= 702
{-# LANGUAGE Trustworthy #-}
#endif
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Control.Comonad.Trans.Env</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (C) 2008-2013 Edward Kmett</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  BSD-style (see the file LICENSE)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  provisional</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The environment comonad holds a value along with some retrievable context.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This module specifies the environment comonad transformer (aka coreader),</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- which is left adjoint to the reader comonad.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The following sets up an experiment that retains its initial value in the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- background:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; let initial = env 0 0</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Extract simply retrieves the value:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; extract initial</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- 0</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Play around with the value, in our case producing a negative value:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; let experiment = fmap (+ 10) initial</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; extract experiment</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- 10</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Oh noes, something went wrong, 10 isn&#39;t very negative! Better restore the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- initial value using the default:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; let initialRestored = experiment =&gt;&gt; ask</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; extract initialRestored</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- 0</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------------------</span></span><span class="mpre">
module Control.Comonad.Trans.Env
  (
  </span><span class="hl_comment"><span class="mpre">-- * The strict environment comonad</span></span><span class="mpre">
    Env
  , env
  , runEnv
  </span><span class="hl_comment"><span class="mpre">-- * The strict environment comonad transformer</span></span><span class="mpre">
  , EnvT(..)
  , runEnvT
  , lowerEnvT
  </span><span class="hl_comment"><span class="mpre">-- * Combinators</span></span><span class="mpre">
  , ask
  , asks
  , local
  ) where

import Control.Comonad
import Control.Comonad.Hoist.Class
import Control.Comonad.Trans.Class
import Data.Foldable
import Data.Traversable
import Data.Functor.Identity
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 69, srcSpanStartColumn = 8, srcSpanEndLine = 69, srcSpanEndColumn = 22}, srcInfoPoints = []}) &quot;Data.Semigroup&quot;"><span class="mpre">Data.Semigroup</span></span><span class="mpre">

#ifdef __GLASGOW_HASKELL__
#if __GLASGOW_HASKELL__ &gt;= 707
#define Typeable1 Typeable
#endif
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 75, srcSpanStartColumn = 8, srcSpanEndLine = 75, srcSpanEndColumn = 17}, srcInfoPoints = []}) &quot;Data.Data&quot;"><span class="mpre">Data.Data</span></span><span class="mpre">

#if __GLASGOW_HASKELL__ &gt;= 707
</span><span class="warning" data-warning="DeclDerivDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 78, srcSpanStartColumn = 1, srcSpanEndLine = 78, srcSpanEndColumn = 32}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 78, srcSpanStartColumn = 1, srcSpanEndLine = 78, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans"><span class="mpre">deriving instance Typeable EnvT</span></span><span class="mpre">
#else
instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 80, srcSpanStartColumn = 10, srcSpanEndLine = 80, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 80, srcSpanStartColumn = 10, srcSpanEndLine = 80, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Tran"><span class="mpre">(Typeable s, Typeable1 w) =&gt;</span></span><span class="mpre"> </span><span class="hl_classref"><span class="mpre">Typeable1</span></span><span class="mpre"> (</span><a href="#loc_127_6_127_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_10&#39;)"><span class="hl_tyconref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre">) where
  </span><span class="hl_fundecl"><span class="mpre">typeOf1</span></span><span class="mpre"> </span><a name="loc_81_11_81_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_11_81_15&#39;)"><span class="hl_vardecl"><span class="mpre">dswa</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">mkTyConApp</span></span><span class="mpre"> </span><a href="#loc_90_1_90_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_1_90_10&#39;)"><span class="hl_varref"><span class="mpre">envTTyCon</span></span></a><span class="mpre"> [</span><span class="hl_varref"><span class="mpre">typeOf</span></span><span class="mpre"> (</span><a href="#loc_84_7_84_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_7_84_8&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><a href="#loc_81_11_81_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_11_81_15&#39;)"><span class="hl_varref"><span class="mpre">dswa</span></span></a><span class="mpre">), </span><span class="hl_varref"><span class="mpre">typeOf1</span></span><span class="mpre"> (</span><a href="#loc_86_7_86_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_7_86_8&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre"> </span><a href="#loc_81_11_81_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_11_81_15&#39;)"><span class="hl_varref"><span class="mpre">dswa</span></span></a><span class="mpre">)]
    where
      </span><a href="#loc_84_7_84_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_7_84_8&#39;)"><span class="mpre">s</span></a><span class="mpre"> :: </span><a href="#loc_127_6_127_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_10&#39;)"><span class="hl_tyconref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">
      </span><a name="loc_84_7_84_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_7_84_8&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre">
      </span><a href="#loc_86_7_86_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_7_86_8&#39;)"><span class="mpre">w</span></a><span class="mpre"> :: </span><a href="#loc_127_6_127_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_10&#39;)"><span class="hl_tyconref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
      </span><a name="loc_86_7_86_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_7_86_8&#39;)"><span class="hl_vardecl"><span class="mpre">w</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre">

</span><a href="#loc_90_1_90_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_1_90_10&#39;)"><span class="mpre">envTTyCon</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">TyCon</span></span><span class="mpre">
#if __GLASGOW_HASKELL__ &lt; 704
</span><a name="loc_90_1_90_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_1_90_10&#39;)"><span class="hl_vardecl"><span class="mpre">envTTyCon</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">mkTyCon</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Control.Comonad.Trans.Env.EnvT&quot;</span></span><span class="mpre">
#else
</span><span class="hl_vardecl"><span class="mpre">envTTyCon</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">mkTyCon3</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;comonad-transformers&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Control.Comonad.Trans.Env&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;EnvT&quot;</span></span><span class="mpre">
#endif
</span><span class="hl_pragma"><span class="mpre">{-# NOINLINE </span><a href="#loc_90_1_90_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_1_90_10&#39;)"><span class="mpre">envTTyCon</span></a><span class="mpre"> #-}</span></span><span class="mpre">

#endif

#if __GLASGOW_HASKELL__ &lt; 707
instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 99, srcSpanStartColumn = 10, srcSpanEndLine = 99, srcSpanEndColumn = 50}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 99, srcSpanStartColumn = 10, srcSpanEndLine = 99, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Tran"><span class="mpre">(Typeable s, Typeable1 w, Typeable a) =&gt;</span></span><span class="mpre"> </span><span class="hl_classref"><span class="mpre">Typeable</span></span><span class="mpre"> (</span><a href="#loc_127_6_127_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_10&#39;)"><span class="hl_tyconref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) where
  </span><span class="hl_vardecl"><span class="mpre">typeOf</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">typeOfDefault</span></span><span class="mpre">
#endif

instance
  </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 104, srcSpanStartColumn = 3, srcSpanEndLine = 107, srcSpanEndColumn = 7}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 104, srcSpanStartColumn = 3, srcSpanEndLine = 104, srcSpanEndColumn = 4},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Tran"><span class="mpre">( Data e
  , Typeable1 w, Data (w a)
  , Data a
  ) =&gt;</span></span><span class="mpre"> </span><span class="hl_classref"><span class="mpre">Data</span></span><span class="mpre"> (</span><a href="#loc_127_6_127_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_10&#39;)"><span class="hl_tyconref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) where
    </span><span class="hl_fundecl"><span class="mpre">gfoldl</span></span><span class="mpre"> </span><a name="loc_108_12_108_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_108_12_108_13&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_108_14_108_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_108_14_108_15&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre"> (</span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><a name="loc_108_22_108_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_108_22_108_23&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> </span><a name="loc_108_24_108_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_108_24_108_26&#39;)"><span class="hl_vardecl"><span class="mpre">wa</span></span></a><span class="mpre">) = </span><a href="#loc_108_14_108_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_108_14_108_15&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> </span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><a href="#loc_108_12_108_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_108_12_108_13&#39;)"><span class="hl_infix"><span class="mpre">`f`</span></span></a><span class="mpre"> </span><a href="#loc_108_22_108_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_108_22_108_23&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> </span><a href="#loc_108_12_108_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_108_12_108_13&#39;)"><span class="hl_infix"><span class="mpre">`f`</span></span></a><span class="mpre"> </span><a href="#loc_108_24_108_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_108_24_108_26&#39;)"><span class="hl_varref"><span class="mpre">wa</span></span></a><span class="mpre">
    </span><span class="hl_fundecl"><span class="mpre">toConstr</span></span><span class="mpre"> _ = </span><a href="#loc_117_1_117_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_11&#39;)"><span class="hl_varref"><span class="mpre">envTConstr</span></span></a><span class="mpre">
    </span><span class="hl_fundecl"><span class="mpre">gunfold</span></span><span class="mpre"> </span><a name="loc_110_13_110_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_13_110_14&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> </span><a name="loc_110_15_110_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_15_110_16&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre"> </span><a name="loc_110_17_110_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_17_110_18&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = case </span><span class="hl_varref"><span class="mpre">constrIndex</span></span><span class="mpre"> </span><a href="#loc_110_17_110_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_17_110_18&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> of
        </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre"> -&gt; </span><a href="#loc_110_13_110_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_13_110_14&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> (</span><a href="#loc_110_13_110_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_13_110_14&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> (</span><a href="#loc_110_15_110_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_15_110_16&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> </span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre">))
        _ -&gt; </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;gunfold&quot;</span></span><span class="mpre">
    </span><span class="hl_fundecl"><span class="mpre">dataTypeOf</span></span><span class="mpre"> _ = </span><a href="#loc_121_1_121_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_1_121_13&#39;)"><span class="hl_varref"><span class="mpre">envTDataType</span></span></a><span class="mpre">
    </span><span class="hl_fundecl"><span class="mpre">dataCast1</span></span><span class="mpre"> </span><a name="loc_114_15_114_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_15_114_16&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">gcast1</span></span><span class="mpre"> </span><a href="#loc_114_15_114_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_15_114_16&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">

</span><a href="#loc_117_1_117_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_11&#39;)"><span class="mpre">envTConstr</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Constr</span></span><span class="mpre">
</span><a name="loc_117_1_117_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_11&#39;)"><span class="hl_vardecl"><span class="mpre">envTConstr</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">mkConstr</span></span><span class="mpre"> </span><a href="#loc_121_1_121_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_1_121_13&#39;)"><span class="hl_varref"><span class="mpre">envTDataType</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;EnvT&quot;</span></span><span class="mpre"> [] </span><span class="hl_conref"><span class="mpre">Prefix</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# NOINLINE </span><a href="#loc_117_1_117_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_11&#39;)"><span class="mpre">envTConstr</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_121_1_121_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_1_121_13&#39;)"><span class="mpre">envTDataType</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">DataType</span></span><span class="mpre">
</span><a name="loc_121_1_121_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_1_121_13&#39;)"><span class="hl_vardecl"><span class="mpre">envTDataType</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">mkDataType</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Control.Comonad.Trans.Env.EnvT&quot;</span></span><span class="mpre"> [</span><a href="#loc_117_1_117_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_11&#39;)"><span class="hl_varref"><span class="mpre">envTConstr</span></span></a><span class="mpre">]
</span><span class="hl_pragma"><span class="mpre">{-# NOINLINE </span><a href="#loc_121_1_121_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_1_121_13&#39;)"><span class="mpre">envTDataType</span></a><span class="mpre"> #-}</span></span><span class="mpre">

#endif

</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 126, srcSpanStartColumn = 1, srcSpanEndLine = 126, srcSpanEndColumn = 29}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 126, srcSpanStartColumn = 1, srcSpanEndLine = 126, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Tr"><span class="mpre">type Env e = EnvT e Identity</span></span><span class="mpre">
data </span><a name="loc_127_6_127_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_10&#39;)"><span class="hl_tycondecl"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> = </span><a name="loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_condecl"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Create an Env using an environment and a value</span></span><span class="mpre">
</span><a href="#loc_131_1_131_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_1_131_4&#39;)"><span class="mpre">env</span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Env</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_131_1_131_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_1_131_4&#39;)"><span class="hl_fundecl"><span class="mpre">env</span></span></a><span class="mpre"> </span><a name="loc_131_5_131_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_5_131_6&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> </span><a name="loc_131_7_131_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_7_131_8&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><a href="#loc_131_5_131_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_5_131_6&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Identity</span></span><span class="mpre"> </span><a href="#loc_131_7_131_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_7_131_8&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)

</span><a href="#loc_134_1_134_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_1_134_7&#39;)"><span class="mpre">runEnv</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Env</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
</span><a name="loc_134_1_134_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_1_134_7&#39;)"><span class="hl_fundecl"><span class="mpre">runEnv</span></span></a><span class="mpre"> (</span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><a name="loc_134_14_134_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_14_134_15&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Identity</span></span><span class="mpre"> </span><a name="loc_134_26_134_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_26_134_27&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">)) = (</span><a href="#loc_134_14_134_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_14_134_15&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">, </span><a href="#loc_134_26_134_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_26_134_27&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)

</span><a href="#loc_137_1_137_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_1_137_8&#39;)"><span class="mpre">runEnvT</span></a><span class="mpre"> :: </span><a href="#loc_127_6_127_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_10&#39;)"><span class="hl_tyconref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
</span><a name="loc_137_1_137_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_1_137_8&#39;)"><span class="hl_fundecl"><span class="mpre">runEnvT</span></span></a><span class="mpre"> (</span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><a name="loc_137_15_137_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_15_137_16&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> </span><a name="loc_137_17_137_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_17_137_19&#39;)"><span class="hl_vardecl"><span class="mpre">wa</span></span></a><span class="mpre">) = (</span><a href="#loc_137_15_137_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_15_137_16&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">, </span><a href="#loc_137_17_137_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_17_137_19&#39;)"><span class="hl_varref"><span class="mpre">wa</span></span></a><span class="mpre">)

instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 139, srcSpanStartColumn = 10, srcSpanEndLine = 139, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 139, srcSpanStartColumn = 20, srcSpanEndLine = 139, srcSpanEndColumn = 22}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemn"><span class="mpre">Functor w =&gt;</span></span><span class="mpre"> </span><span class="hl_classref"><span class="mpre">Functor</span></span><span class="mpre"> (</span><a href="#loc_127_6_127_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_10&#39;)"><span class="hl_tyconref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre">) where
  </span><span class="hl_fundecl"><span class="mpre">fmap</span></span><span class="mpre"> </span><a name="loc_140_8_140_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_8_140_9&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> (</span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><a name="loc_140_16_140_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_16_140_17&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> </span><a name="loc_140_18_140_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_18_140_20&#39;)"><span class="hl_vardecl"><span class="mpre">wa</span></span></a><span class="mpre">) = </span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><a href="#loc_140_16_140_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_16_140_17&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_140_8_140_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_8_140_9&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_140_18_140_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_18_140_20&#39;)"><span class="hl_varref"><span class="mpre">wa</span></span></a><span class="mpre">)

instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 142, srcSpanStartColumn = 10, srcSpanEndLine = 142, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 142, srcSpanStartColumn = 20, srcSpanEndLine = 142, srcSpanEndColumn = 22}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemn"><span class="mpre">Comonad w =&gt;</span></span><span class="mpre"> </span><a href="Control.Comonad.html#loc_120_20_120_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.html#loc_120_20_120_27&#39;)"><span class="hl_classref"><span class="mpre">Comonad</span></span></a><span class="mpre"> (</span><a href="#loc_127_6_127_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_10&#39;)"><span class="hl_tyconref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre">) where
  </span><a href="Control.Comonad.html#loc_132_3_132_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.html#loc_132_3_132_12&#39;)"><span class="hl_fundecl"><span class="mpre">duplicate</span></span></a><span class="mpre"> (</span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><a name="loc_143_19_143_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_19_143_20&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> </span><a name="loc_143_21_143_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_21_143_23&#39;)"><span class="hl_vardecl"><span class="mpre">wa</span></span></a><span class="mpre">) = </span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><a href="#loc_143_19_143_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_19_143_20&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> (</span><a href="Control.Comonad.html#loc_139_3_139_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.html#loc_139_3_139_9&#39;)"><span class="hl_varref"><span class="mpre">extend</span></span></a><span class="mpre"> (</span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><a href="#loc_143_19_143_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_19_143_20&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">) </span><a href="#loc_143_21_143_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_21_143_23&#39;)"><span class="hl_varref"><span class="mpre">wa</span></span></a><span class="mpre">)
  </span><a href="Control.Comonad.html#loc_125_3_125_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.html#loc_125_3_125_10&#39;)"><span class="hl_fundecl"><span class="mpre">extract</span></span></a><span class="mpre"> (</span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> _ </span><a name="loc_144_19_144_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_19_144_21&#39;)"><span class="hl_vardecl"><span class="mpre">wa</span></span></a><span class="mpre">) = </span><a href="Control.Comonad.html#loc_125_3_125_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.html#loc_125_3_125_10&#39;)"><span class="hl_varref"><span class="mpre">extract</span></span></a><span class="mpre"> </span><a href="#loc_144_19_144_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_19_144_21&#39;)"><span class="hl_varref"><span class="mpre">wa</span></span></a><span class="mpre">

instance </span><a href="Control.Comonad.Trans.Class.html#loc_21_7_21_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.Trans.Class.html#loc_21_7_21_19&#39;)"><span class="hl_classref"><span class="mpre">ComonadTrans</span></span></a><span class="mpre"> (</span><a href="#loc_127_6_127_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_10&#39;)"><span class="hl_tyconref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre">) where
  </span><a href="Control.Comonad.Trans.Class.html#loc_22_3_22_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.Trans.Class.html#loc_22_3_22_8&#39;)"><span class="hl_fundecl"><span class="mpre">lower</span></span></a><span class="mpre"> (</span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> _ </span><a name="loc_147_17_147_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_17_147_19&#39;)"><span class="hl_vardecl"><span class="mpre">wa</span></span></a><span class="mpre">) = </span><a href="#loc_147_17_147_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_17_147_19&#39;)"><span class="hl_varref"><span class="mpre">wa</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Gets rid of the environment. This differs from &#39;extract&#39; in that it will</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   not continue extracting the value from the contained comonad.</span></span><span class="mpre">
</span><a href="#loc_152_1_152_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_1_152_10&#39;)"><span class="mpre">lowerEnvT</span></a><span class="mpre"> :: </span><a href="#loc_127_6_127_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_10&#39;)"><span class="hl_tyconref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_152_1_152_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_1_152_10&#39;)"><span class="hl_fundecl"><span class="mpre">lowerEnvT</span></span></a><span class="mpre"> (</span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> _ </span><a name="loc_152_19_152_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_19_152_21&#39;)"><span class="hl_vardecl"><span class="mpre">wa</span></span></a><span class="mpre">) = </span><a href="#loc_152_19_152_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_19_152_21&#39;)"><span class="hl_varref"><span class="mpre">wa</span></span></a><span class="mpre">

instance </span><a href="Control.Comonad.Hoist.Class.html#loc_19_7_19_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.Hoist.Class.html#loc_19_7_19_19&#39;)"><span class="hl_classref"><span class="mpre">ComonadHoist</span></span></a><span class="mpre"> (</span><a href="#loc_127_6_127_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_10&#39;)"><span class="hl_tyconref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre">) where
  </span><a href="Control.Comonad.Hoist.Class.html#loc_22_3_22_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.Hoist.Class.html#loc_22_3_22_10&#39;)"><span class="hl_fundecl"><span class="mpre">cohoist</span></span></a><span class="mpre"> </span><a name="loc_155_11_155_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_11_155_12&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> (</span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><a name="loc_155_19_155_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_19_155_20&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> </span><a name="loc_155_21_155_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_21_155_23&#39;)"><span class="hl_vardecl"><span class="mpre">wa</span></span></a><span class="mpre">) = </span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><a href="#loc_155_19_155_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_19_155_20&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> (</span><a href="#loc_155_11_155_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_11_155_12&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_155_21_155_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_21_155_23&#39;)"><span class="hl_varref"><span class="mpre">wa</span></span></a><span class="mpre">)

instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 157, srcSpanStartColumn = 10, srcSpanEndLine = 157, srcSpanEndColumn = 42}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 157, srcSpanStartColumn = 10, srcSpanEndLine = 157, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/"><span class="mpre">(Semigroup e, ComonadApply w) =&gt;</span></span><span class="mpre"> </span><a href="Control.Comonad.html#loc_213_20_213_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.html#loc_213_20_213_32&#39;)"><span class="hl_classref"><span class="mpre">ComonadApply</span></span></a><span class="mpre"> (</span><a href="#loc_127_6_127_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_10&#39;)"><span class="hl_tyconref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre">) where
  </span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><a name="loc_158_8_158_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_8_158_10&#39;)"><span class="hl_vardecl"><span class="mpre">ef</span></span></a><span class="mpre"> </span><a name="loc_158_11_158_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_11_158_13&#39;)"><span class="hl_vardecl"><span class="mpre">wf</span></span></a><span class="mpre"> </span><a href="Control.Comonad.html#loc_214_3_214_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.html#loc_214_3_214_8&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;@&gt;</span></span></a><span class="mpre"> </span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><a name="loc_158_23_158_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_23_158_25&#39;)"><span class="hl_vardecl"><span class="mpre">ea</span></span></a><span class="mpre"> </span><a name="loc_158_26_158_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_26_158_28&#39;)"><span class="hl_vardecl"><span class="mpre">wa</span></span></a><span class="mpre"> = </span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> (</span><a href="#loc_158_8_158_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_8_158_10&#39;)"><span class="hl_varref"><span class="mpre">ef</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;&gt;</span></span><span class="mpre"> </span><a href="#loc_158_23_158_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_23_158_25&#39;)"><span class="hl_varref"><span class="mpre">ea</span></span></a><span class="mpre">) (</span><a href="#loc_158_11_158_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_11_158_13&#39;)"><span class="hl_varref"><span class="mpre">wf</span></span></a><span class="mpre"> </span><a href="Control.Comonad.html#loc_214_3_214_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.html#loc_214_3_214_8&#39;)"><span class="hl_infix"><span class="mpre">&lt;@&gt;</span></span></a><span class="mpre"> </span><a href="#loc_158_26_158_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_26_158_28&#39;)"><span class="hl_varref"><span class="mpre">wa</span></span></a><span class="mpre">)

instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 160, srcSpanStartColumn = 10, srcSpanEndLine = 160, srcSpanEndColumn = 23}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 160, srcSpanStartColumn = 21, srcSpanEndLine = 160, srcSpanEndColumn = 23}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemn"><span class="mpre">Foldable w =&gt;</span></span><span class="mpre"> </span><a href="Data.Foldable.html#loc_97_7_97_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Foldable.html#loc_97_7_97_15&#39;)"><span class="hl_classref"><span class="mpre">Foldable</span></span></a><span class="mpre"> (</span><a href="#loc_127_6_127_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_10&#39;)"><span class="hl_tyconref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre">) where
  </span><a href="Data.Foldable.html#loc_104_5_104_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Foldable.html#loc_104_5_104_12&#39;)"><span class="hl_fundecl"><span class="mpre">foldMap</span></span></a><span class="mpre"> </span><a name="loc_161_11_161_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_11_161_12&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> _ </span><a name="loc_161_21_161_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_21_161_22&#39;)"><span class="hl_vardecl"><span class="mpre">w</span></span></a><span class="mpre">) = </span><a href="Data.Foldable.html#loc_104_5_104_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Foldable.html#loc_104_5_104_12&#39;)"><span class="hl_varref"><span class="mpre">foldMap</span></span></a><span class="mpre"> </span><a href="#loc_161_11_161_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_11_161_12&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_161_21_161_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_21_161_22&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 163, srcSpanStartColumn = 10, srcSpanEndLine = 163, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/comonad-4.2/src/Control/Comonad/Trans/Env.hs&quot;, srcSpanStartLine = 163, srcSpanStartColumn = 24, srcSpanEndLine = 163, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemn"><span class="mpre">Traversable w =&gt;</span></span><span class="mpre"> </span><a href="Data.Traversable.html#loc_147_34_147_45" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Traversable.html#loc_147_34_147_45&#39;)"><span class="hl_classref"><span class="mpre">Traversable</span></span></a><span class="mpre"> (</span><a href="#loc_127_6_127_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_10&#39;)"><span class="hl_tyconref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre">) where
  </span><a href="Data.Traversable.html#loc_150_5_150_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Traversable.html#loc_150_5_150_13&#39;)"><span class="hl_fundecl"><span class="mpre">traverse</span></span></a><span class="mpre"> </span><a name="loc_164_12_164_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_12_164_13&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><a name="loc_164_20_164_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_20_164_21&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> </span><a name="loc_164_22_164_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_22_164_23&#39;)"><span class="hl_vardecl"><span class="mpre">w</span></span></a><span class="mpre">) = </span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><a href="#loc_164_20_164_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_20_164_21&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="Data.Traversable.html#loc_150_5_150_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Traversable.html#loc_150_5_150_13&#39;)"><span class="hl_varref"><span class="mpre">traverse</span></span></a><span class="mpre"> </span><a href="#loc_164_12_164_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_12_164_13&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_164_22_164_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_22_164_23&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Retrieves the environment.</span></span><span class="mpre">
</span><a href="#loc_168_1_168_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_1_168_4&#39;)"><span class="mpre">ask</span></a><span class="mpre"> :: </span><a href="#loc_127_6_127_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_10&#39;)"><span class="hl_tyconref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre">
</span><a name="loc_168_1_168_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_1_168_4&#39;)"><span class="hl_fundecl"><span class="mpre">ask</span></span></a><span class="mpre"> (</span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><a name="loc_168_11_168_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_11_168_12&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> _) = </span><a href="#loc_168_11_168_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_11_168_12&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Like &#39;ask&#39;, but modifies the resulting value with a function.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   &gt; asks = f . ask</span></span><span class="mpre">
</span><a href="#loc_174_1_174_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_1_174_5&#39;)"><span class="mpre">asks</span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">) -&gt; </span><a href="#loc_127_6_127_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_10&#39;)"><span class="hl_tyconref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">
</span><a name="loc_174_1_174_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_1_174_5&#39;)"><span class="hl_fundecl"><span class="mpre">asks</span></span></a><span class="mpre"> </span><a name="loc_174_6_174_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_6_174_7&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><a name="loc_174_14_174_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_14_174_15&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> _) = </span><a href="#loc_174_6_174_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_6_174_7&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_174_14_174_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_14_174_15&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modifies the environment using the specified function.</span></span><span class="mpre">
</span><a href="#loc_178_1_178_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_1_178_6&#39;)"><span class="mpre">local</span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">e&#39;</span></span><span class="mpre">) -&gt; </span><a href="#loc_127_6_127_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_10&#39;)"><span class="hl_tyconref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_127_6_127_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_6_127_10&#39;)"><span class="hl_tyconref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_178_1_178_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_1_178_6&#39;)"><span class="hl_fundecl"><span class="mpre">local</span></span></a><span class="mpre"> </span><a name="loc_178_7_178_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_7_178_8&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> </span><a name="loc_178_15_178_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_15_178_16&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> </span><a name="loc_178_17_178_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_17_178_19&#39;)"><span class="hl_vardecl"><span class="mpre">wa</span></span></a><span class="mpre">) = </span><a href="#loc_127_19_127_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_19_127_23&#39;)"><span class="hl_conref"><span class="mpre">EnvT</span></span></a><span class="mpre"> (</span><a href="#loc_178_7_178_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_7_178_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_178_15_178_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_15_178_16&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">) </span><a href="#loc_178_17_178_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_17_178_19&#39;)"><span class="hl_varref"><span class="mpre">wa</span></span></a><span class="mpre">
</span></div></body></html>