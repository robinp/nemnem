<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">module System.Console.Haskeline.Command.KillRing where

import System.Console.Haskeline.LineState
import System.Console.Haskeline.Command
import System.Console.Haskeline.Monads
import System.Console.Haskeline.Command.Undo
import Control.Monad
import Data.IORef

</span><span class="hl_comment"><span class="mpre">-- standard trick for a purely functional queue:</span></span><span class="mpre">
data </span><a name="loc_11_6_11_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_6_11_11&#39;)"><span class="hl_tycondecl"><span class="mpre">Stack</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> = </span><a name="loc_11_16_11_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_16_11_21&#39;)"><span class="hl_condecl"><span class="mpre">Stack</span></span></a><span class="mpre"> [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">] [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">]
                </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/KillRing.hs&quot;, srcSpanStartLine = 12, srcSpanStartColumn = 17, srcSpanEndLine = 12, srcSpanEndColumn = 30}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/KillRing.hs&quot;, srcSpanStartLine = 12, srcSpanStartColumn = 17, srcSpanEndLine = 12, srcSpanEndColumn = 25}]}) [IHead (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpa"><span class="mpre">deriving Show</span></span><span class="mpre">

</span><a href="#loc_15_1_15_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_15_1_15_11&#39;)"><span class="mpre">emptyStack</span></a><span class="mpre"> :: </span><a href="#loc_11_6_11_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_6_11_11&#39;)"><span class="hl_tyconref"><span class="mpre">Stack</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_15_1_15_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_15_1_15_11&#39;)"><span class="hl_vardecl"><span class="mpre">emptyStack</span></span></a><span class="mpre"> = </span><a href="#loc_11_16_11_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_16_11_21&#39;)"><span class="hl_conref"><span class="mpre">Stack</span></span></a><span class="mpre"> [] []

</span><a href="#loc_18_1_18_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_18_1_18_5&#39;)"><span class="mpre">peek</span></a><span class="mpre"> :: </span><a href="#loc_11_6_11_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_6_11_11&#39;)"><span class="hl_tyconref"><span class="mpre">Stack</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_18_1_18_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_18_1_18_5&#39;)"><span class="hl_fundecl"><span class="mpre">peek</span></span></a><span class="mpre"> (</span><a href="#loc_11_16_11_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_16_11_21&#39;)"><span class="hl_conref"><span class="mpre">Stack</span></span></a><span class="mpre"> [] []) = </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
</span><a href="#loc_18_1_18_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_18_1_18_5&#39;)"><span class="hl_fundecl"><span class="mpre">peek</span></span></a><span class="mpre"> (</span><a href="#loc_11_16_11_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_16_11_21&#39;)"><span class="hl_conref"><span class="mpre">Stack</span></span></a><span class="mpre"> (</span><a name="loc_19_14_19_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_14_19_15&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">_) _) = </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_19_14_19_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_14_19_15&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
</span><a href="#loc_18_1_18_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_18_1_18_5&#39;)"><span class="hl_fundecl"><span class="mpre">peek</span></span></a><span class="mpre"> (</span><a href="#loc_11_16_11_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_16_11_21&#39;)"><span class="hl_conref"><span class="mpre">Stack</span></span></a><span class="mpre"> [] </span><a name="loc_20_16_20_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_16_20_18&#39;)"><span class="hl_vardecl"><span class="mpre">ys</span></span></a><span class="mpre">) = </span><a href="#loc_18_1_18_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_18_1_18_5&#39;)"><span class="hl_varref"><span class="mpre">peek</span></span></a><span class="mpre"> (</span><a href="#loc_11_16_11_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_16_11_21&#39;)"><span class="hl_conref"><span class="mpre">Stack</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">reverse</span></span><span class="mpre"> </span><a href="#loc_20_16_20_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_16_20_18&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">) [])

</span><a href="#loc_23_1_23_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_23_1_23_7&#39;)"><span class="mpre">rotate</span></a><span class="mpre"> :: </span><a href="#loc_11_6_11_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_6_11_11&#39;)"><span class="hl_tyconref"><span class="mpre">Stack</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_11_6_11_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_6_11_11&#39;)"><span class="hl_tyconref"><span class="mpre">Stack</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_23_1_23_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_23_1_23_7&#39;)"><span class="hl_fundecl"><span class="mpre">rotate</span></span></a><span class="mpre"> </span><a name="loc_23_8_23_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_23_8_23_9&#39;)"><span class="hl_specname"><span class="mpre">s</span></span></a><span class="mpre">@(</span><a href="#loc_11_16_11_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_16_11_21&#39;)"><span class="hl_conref"><span class="mpre">Stack</span></span></a><span class="mpre"> [] []) = </span><a href="#loc_23_8_23_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_23_8_23_9&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
</span><a href="#loc_23_1_23_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_23_1_23_7&#39;)"><span class="hl_fundecl"><span class="mpre">rotate</span></span></a><span class="mpre"> (</span><a href="#loc_11_16_11_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_16_11_21&#39;)"><span class="hl_conref"><span class="mpre">Stack</span></span></a><span class="mpre"> (</span><a name="loc_24_16_24_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_16_24_17&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_24_18_24_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_18_24_20&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) </span><a name="loc_24_22_24_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_22_24_24&#39;)"><span class="hl_vardecl"><span class="mpre">ys</span></span></a><span class="mpre">) = </span><a href="#loc_11_16_11_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_16_11_21&#39;)"><span class="hl_conref"><span class="mpre">Stack</span></span></a><span class="mpre"> </span><a href="#loc_24_18_24_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_18_24_20&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre"> (</span><a href="#loc_24_16_24_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_16_24_17&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_24_22_24_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_22_24_24&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">)
</span><a href="#loc_23_1_23_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_23_1_23_7&#39;)"><span class="hl_fundecl"><span class="mpre">rotate</span></span></a><span class="mpre"> (</span><a href="#loc_11_16_11_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_16_11_21&#39;)"><span class="hl_conref"><span class="mpre">Stack</span></span></a><span class="mpre"> [] </span><a name="loc_25_18_25_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_18_25_20&#39;)"><span class="hl_vardecl"><span class="mpre">ys</span></span></a><span class="mpre">) = </span><a href="#loc_23_1_23_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_23_1_23_7&#39;)"><span class="hl_varref"><span class="mpre">rotate</span></span></a><span class="mpre"> (</span><a href="#loc_11_16_11_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_16_11_21&#39;)"><span class="hl_conref"><span class="mpre">Stack</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">reverse</span></span><span class="mpre"> </span><a href="#loc_25_18_25_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_18_25_20&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">) [])

</span><a href="#loc_28_1_28_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_5&#39;)"><span class="mpre">push</span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_11_6_11_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_6_11_11&#39;)"><span class="hl_tyconref"><span class="mpre">Stack</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_11_6_11_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_6_11_11&#39;)"><span class="hl_tyconref"><span class="mpre">Stack</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_28_1_28_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_5&#39;)"><span class="hl_fundecl"><span class="mpre">push</span></span></a><span class="mpre"> </span><a name="loc_28_6_28_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_6_28_7&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> (</span><a href="#loc_11_16_11_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_16_11_21&#39;)"><span class="hl_conref"><span class="mpre">Stack</span></span></a><span class="mpre"> </span><a name="loc_28_15_28_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_15_28_17&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> </span><a name="loc_28_18_28_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_18_28_20&#39;)"><span class="hl_vardecl"><span class="mpre">ys</span></span></a><span class="mpre">) = </span><a href="#loc_11_16_11_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_16_11_21&#39;)"><span class="hl_conref"><span class="mpre">Stack</span></span></a><span class="mpre"> (</span><a href="#loc_28_6_28_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_6_28_7&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_28_15_28_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_15_28_17&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">) </span><a href="#loc_28_18_28_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_18_28_20&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">

</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/KillRing.hs&quot;, srcSpanStartLine = 30, srcSpanStartColumn = 1, srcSpanEndLine = 30, srcSpanEndColumn = 33}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/KillRing.hs&quot;, srcSpanStartLine = 30, srcSpanStartColumn = 1, srcSpanEndLine = 30, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/ha"><span class="mpre">type KillRing = Stack [Grapheme]</span></span><span class="mpre">

</span><a href="#loc_33_1_33_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_1_33_12&#39;)"><span class="mpre">runKillRing</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/KillRing.hs&quot;, srcSpanStartLine = 32, srcSpanStartColumn = 16, srcSpanEndLine = 32, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/KillRing.hs&quot;, srcSpanStartLine = 32, srcSpanStartColumn = 26, srcSpanEndLine = 32, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSp"><span class="mpre">MonadIO m =&gt;</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.Reader.html#loc_92_9_92_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Reader.html#loc_92_9_92_16&#39;)"><span class="hl_tyconref"><span class="mpre">ReaderT</span></span></a><span class="mpre"> (</span><a href="GHC.IORef.html#loc_34_9_34_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_34_9_34_14&#39;)"><span class="hl_tyconref"><span class="mpre">IORef</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">KillRing</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_33_1_33_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_1_33_12&#39;)"><span class="hl_fundecl"><span class="mpre">runKillRing</span></span></a><span class="mpre"> </span><a name="loc_33_13_33_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_13_33_16&#39;)"><span class="hl_vardecl"><span class="mpre">act</span></span></a><span class="mpre"> = do
    </span><a name="loc_34_5_34_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_5_34_12&#39;)"><span class="hl_vardecl"><span class="mpre">ringRef</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">liftIO</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IORef.html#loc_42_1_42_9" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_42_1_42_9&#39;)"><span class="hl_varref"><span class="mpre">newIORef</span></span></a><span class="mpre"> </span><a href="#loc_15_1_15_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_15_1_15_11&#39;)"><span class="hl_varref"><span class="mpre">emptyStack</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">runReaderT</span></span><span class="mpre"> </span><a href="#loc_33_13_33_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_13_33_16&#39;)"><span class="hl_varref"><span class="mpre">act</span></span></a><span class="mpre"> </span><a href="#loc_34_5_34_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_5_34_12&#39;)"><span class="hl_varref"><span class="mpre">ringRef</span></span></a><span class="mpre">


</span><a href="#loc_40_1_40_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_1_40_13&#39;)"><span class="mpre">pasteCommand</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/KillRing.hs&quot;, srcSpanStartLine = 38, srcSpanStartColumn = 17, srcSpanEndLine = 39, srcSpanEndColumn = 15}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/KillRing.hs&quot;, srcSpanStartLine = 38, srcSpanStartColumn = 17, srcSpanEndLine = 38, srcSpanEndColumn = 18},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/"><span class="mpre">(Save s, MonadState KillRing m, MonadState Undo m)
            =&gt;</span></span><span class="mpre"> ([</span><a href="System.Console.Haskeline.LineState.html#loc_76_6_76_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_76_6_76_14&#39;)"><span class="hl_tyconref"><span class="mpre">Grapheme</span></span></a><span class="mpre">] -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><a href="System.Console.Haskeline.LineState.html#loc_322_6_322_13" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_322_6_322_13&#39;)"><span class="hl_tyconref"><span class="mpre">ArgMode</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">
</span><a name="loc_40_1_40_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_1_40_13&#39;)"><span class="hl_fundecl"><span class="mpre">pasteCommand</span></span></a><span class="mpre"> </span><a name="loc_40_14_40_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_14_40_17&#39;)"><span class="hl_vardecl"><span class="mpre">use</span></span></a><span class="mpre"> = \</span><a name="loc_40_21_40_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_21_40_22&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> -&gt; do
    </span><a name="loc_41_5_41_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_5_41_7&#39;)"><span class="hl_vardecl"><span class="mpre">ms</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre"> </span><a href="#loc_18_1_18_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_18_1_18_5&#39;)"><span class="hl_varref"><span class="mpre">peek</span></span></a><span class="mpre"> </span><a href="System.Console.Haskeline.Monads.html#loc_52_5_52_8" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Monads.html#loc_52_5_52_8&#39;)"><span class="hl_varref"><span class="mpre">get</span></span></a><span class="mpre">
    case </span><a href="#loc_41_5_41_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_5_41_7&#39;)"><span class="hl_varref"><span class="mpre">ms</span></span></a><span class="mpre"> of
        </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.LineState.html#loc_322_39_322_47" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_322_39_322_47&#39;)"><span class="hl_varref"><span class="mpre">argState</span></span></a><span class="mpre"> </span><a href="#loc_40_21_40_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_21_40_22&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
        </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_44_14_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_14_44_15&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> -&gt; do
            </span><a href="System.Console.Haskeline.Monads.html#loc_59_1_59_7" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Monads.html#loc_59_1_59_7&#39;)"><span class="hl_varref"><span class="mpre">modify</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.Command.Undo.html#loc_21_1_21_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.Undo.html#loc_21_1_21_11&#39;)"><span class="hl_varref"><span class="mpre">saveToUndo</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.LineState.html#loc_322_39_322_47" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_322_39_322_47&#39;)"><span class="hl_varref"><span class="mpre">argState</span></span></a><span class="mpre"> </span><a href="#loc_40_21_40_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_21_40_22&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
            </span><a href="System.Console.Haskeline.Command.html#loc_157_1_157_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_157_1_157_9&#39;)"><span class="hl_varref"><span class="mpre">setState</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.LineState.html#loc_349_1_349_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_349_1_349_9&#39;)"><span class="hl_varref"><span class="mpre">applyArg</span></span></a><span class="mpre"> (</span><a href="#loc_40_14_40_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_14_40_17&#39;)"><span class="hl_varref"><span class="mpre">use</span></span></a><span class="mpre"> </span><a href="#loc_44_14_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_14_44_15&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">) </span><a href="#loc_40_21_40_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_21_40_22&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">

</span><a href="#loc_49_1_49_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_1_49_16&#39;)"><span class="mpre">deleteFromDiff&#39;</span></a><span class="mpre"> :: </span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre"> -&gt; </span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre"> -&gt; ([</span><a href="System.Console.Haskeline.LineState.html#loc_76_6_76_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_76_6_76_14&#39;)"><span class="hl_tyconref"><span class="mpre">Grapheme</span></span></a><span class="mpre">],</span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre">)
</span><a name="loc_49_1_49_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_1_49_16&#39;)"><span class="hl_fundecl"><span class="mpre">deleteFromDiff&#39;</span></span></a><span class="mpre"> (</span><a href="System.Console.Haskeline.LineState.html#loc_169_19_169_24" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_19_169_24&#39;)"><span class="hl_conref"><span class="mpre">IMode</span></span></a><span class="mpre"> </span><a name="loc_49_24_49_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_24_49_27&#39;)"><span class="hl_vardecl"><span class="mpre">xs1</span></span></a><span class="mpre"> </span><a name="loc_49_28_49_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_28_49_31&#39;)"><span class="hl_vardecl"><span class="mpre">ys1</span></span></a><span class="mpre">) (</span><a href="System.Console.Haskeline.LineState.html#loc_169_19_169_24" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_19_169_24&#39;)"><span class="hl_conref"><span class="mpre">IMode</span></span></a><span class="mpre"> </span><a name="loc_49_40_49_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_40_49_43&#39;)"><span class="hl_vardecl"><span class="mpre">xs2</span></span></a><span class="mpre"> </span><a name="loc_49_44_49_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_44_49_47&#39;)"><span class="hl_vardecl"><span class="mpre">ys2</span></span></a><span class="mpre">)
    | </span><a href="#loc_53_5_53_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_5_53_14&#39;)"><span class="hl_varref"><span class="mpre">posChange</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> = (</span><span class="hl_varref"><span class="mpre">take</span></span><span class="mpre"> </span><a href="#loc_53_5_53_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_5_53_14&#39;)"><span class="hl_varref"><span class="mpre">posChange</span></span></a><span class="mpre"> </span><a href="#loc_49_28_49_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_28_49_31&#39;)"><span class="hl_varref"><span class="mpre">ys1</span></span></a><span class="mpre">, </span><a href="System.Console.Haskeline.LineState.html#loc_169_19_169_24" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_19_169_24&#39;)"><span class="hl_conref"><span class="mpre">IMode</span></span></a><span class="mpre"> </span><a href="#loc_49_24_49_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_24_49_27&#39;)"><span class="hl_varref"><span class="mpre">xs1</span></span></a><span class="mpre"> </span><a href="#loc_49_44_49_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_44_49_47&#39;)"><span class="hl_varref"><span class="mpre">ys2</span></span></a><span class="mpre">)
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = (</span><span class="hl_varref"><span class="mpre">take</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">negate</span></span><span class="mpre"> </span><a href="#loc_53_5_53_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_5_53_14&#39;)"><span class="hl_varref"><span class="mpre">posChange</span></span></a><span class="mpre">) </span><a href="#loc_49_44_49_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_44_49_47&#39;)"><span class="hl_varref"><span class="mpre">ys2</span></span></a><span class="mpre"> ,</span><a href="System.Console.Haskeline.LineState.html#loc_169_19_169_24" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_19_169_24&#39;)"><span class="hl_conref"><span class="mpre">IMode</span></span></a><span class="mpre"> </span><a href="#loc_49_40_49_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_40_49_43&#39;)"><span class="hl_varref"><span class="mpre">xs2</span></span></a><span class="mpre"> </span><a href="#loc_49_28_49_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_28_49_31&#39;)"><span class="hl_varref"><span class="mpre">ys1</span></span></a><span class="mpre">)
  where
    </span><a name="loc_53_5_53_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_5_53_14&#39;)"><span class="hl_vardecl"><span class="mpre">posChange</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">length</span></span><span class="mpre"> </span><a href="#loc_49_40_49_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_40_49_43&#39;)"><span class="hl_varref"><span class="mpre">xs2</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">length</span></span><span class="mpre"> </span><a href="#loc_49_24_49_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_24_49_27&#39;)"><span class="hl_varref"><span class="mpre">xs1</span></span></a><span class="mpre">

</span><a href="#loc_58_1_58_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_1_58_15&#39;)"><span class="mpre">killFromHelper</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/KillRing.hs&quot;, srcSpanStartLine = 55, srcSpanStartColumn = 19, srcSpanEndLine = 57, srcSpanEndColumn = 19}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/KillRing.hs&quot;, srcSpanStartLine = 55, srcSpanStartColumn = 19, srcSpanEndLine = 55, srcSpanEndColumn = 20},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/"><span class="mpre">(MonadState KillRing m, MonadState Undo m,
                        Save s, Save t)
                =&gt;</span></span><span class="mpre"> </span><a href="#loc_78_6_78_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_6_78_16&#39;)"><span class="hl_tyconref"><span class="mpre">KillHelper</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_58_1_58_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_1_58_15&#39;)"><span class="hl_fundecl"><span class="mpre">killFromHelper</span></span></a><span class="mpre"> </span><a name="loc_58_16_58_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_16_58_22&#39;)"><span class="hl_vardecl"><span class="mpre">helper</span></span></a><span class="mpre"> = </span><a href="System.Console.Haskeline.Command.Undo.html#loc_43_1_43_12" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.Undo.html#loc_43_1_43_12&#39;)"><span class="hl_varref"><span class="mpre">saveForUndo</span></span></a><span class="mpre"> </span><a href="System.Console.Haskeline.Command.html#loc_117_3_117_6" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_117_3_117_6&#39;)"><span class="hl_infix"><span class="mpre">&gt;|&gt;</span></span></a><span class="mpre"> \</span><a name="loc_58_42_58_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_42_58_46&#39;)"><span class="hl_vardecl"><span class="mpre">oldS</span></span></a><span class="mpre"> -&gt; do
    let (</span><a name="loc_59_10_59_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_10_59_12&#39;)"><span class="hl_vardecl"><span class="mpre">gs</span></span></a><span class="mpre">,</span><a name="loc_59_13_59_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_13_59_18&#39;)"><span class="hl_vardecl"><span class="mpre">newIM</span></span></a><span class="mpre">) = </span><a href="#loc_87_1_87_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_1_87_12&#39;)"><span class="hl_varref"><span class="mpre">applyHelper</span></span></a><span class="mpre"> </span><a href="#loc_58_16_58_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_16_58_22&#39;)"><span class="hl_varref"><span class="mpre">helper</span></span></a><span class="mpre"> (</span><a href="System.Console.Haskeline.LineState.html#loc_155_5_155_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_155_5_155_9&#39;)"><span class="hl_varref"><span class="mpre">save</span></span></a><span class="mpre"> </span><a href="#loc_58_42_58_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_42_58_46&#39;)"><span class="hl_varref"><span class="mpre">oldS</span></span></a><span class="mpre">)
    </span><a href="System.Console.Haskeline.Monads.html#loc_59_1_59_7" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Monads.html#loc_59_1_59_7&#39;)"><span class="hl_varref"><span class="mpre">modify</span></span></a><span class="mpre"> (</span><a href="#loc_28_1_28_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_5&#39;)"><span class="hl_varref"><span class="mpre">push</span></span></a><span class="mpre"> </span><a href="#loc_59_10_59_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_10_59_12&#39;)"><span class="hl_varref"><span class="mpre">gs</span></span></a><span class="mpre">)
    </span><a href="System.Console.Haskeline.Command.html#loc_157_1_157_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_157_1_157_9&#39;)"><span class="hl_varref"><span class="mpre">setState</span></span></a><span class="mpre"> (</span><a href="System.Console.Haskeline.LineState.html#loc_156_5_156_12" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_156_5_156_12&#39;)"><span class="hl_varref"><span class="mpre">restore</span></span></a><span class="mpre"> </span><a href="#loc_59_13_59_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_13_59_18&#39;)"><span class="hl_varref"><span class="mpre">newIM</span></span></a><span class="mpre">)

</span><a href="#loc_65_1_65_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_1_65_18&#39;)"><span class="mpre">killFromArgHelper</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/KillRing.hs&quot;, srcSpanStartLine = 63, srcSpanStartColumn = 22, srcSpanEndLine = 64, srcSpanEndColumn = 19}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/KillRing.hs&quot;, srcSpanStartLine = 63, srcSpanStartColumn = 22, srcSpanEndLine = 63, srcSpanEndColumn = 23},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/"><span class="mpre">(MonadState KillRing m, MonadState Undo m, Save s, Save t)
                =&gt;</span></span><span class="mpre"> </span><a href="#loc_78_6_78_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_6_78_16&#39;)"><span class="hl_tyconref"><span class="mpre">KillHelper</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><a href="System.Console.Haskeline.LineState.html#loc_322_6_322_13" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_322_6_322_13&#39;)"><span class="hl_tyconref"><span class="mpre">ArgMode</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_65_1_65_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_1_65_18&#39;)"><span class="hl_fundecl"><span class="mpre">killFromArgHelper</span></span></a><span class="mpre"> </span><a name="loc_65_19_65_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_19_65_25&#39;)"><span class="hl_vardecl"><span class="mpre">helper</span></span></a><span class="mpre"> = </span><a href="System.Console.Haskeline.Command.Undo.html#loc_43_1_43_12" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.Undo.html#loc_43_1_43_12&#39;)"><span class="hl_varref"><span class="mpre">saveForUndo</span></span></a><span class="mpre"> </span><a href="System.Console.Haskeline.Command.html#loc_117_3_117_6" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_117_3_117_6&#39;)"><span class="hl_infix"><span class="mpre">&gt;|&gt;</span></span></a><span class="mpre"> \</span><a name="loc_65_45_65_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_45_65_49&#39;)"><span class="hl_vardecl"><span class="mpre">oldS</span></span></a><span class="mpre"> -&gt; do
    let (</span><a name="loc_66_10_66_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_10_66_12&#39;)"><span class="hl_vardecl"><span class="mpre">gs</span></span></a><span class="mpre">,</span><a name="loc_66_13_66_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_13_66_18&#39;)"><span class="hl_vardecl"><span class="mpre">newIM</span></span></a><span class="mpre">) = </span><a href="#loc_91_1_91_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_1_91_15&#39;)"><span class="hl_varref"><span class="mpre">applyArgHelper</span></span></a><span class="mpre"> </span><a href="#loc_65_19_65_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_19_65_25&#39;)"><span class="hl_varref"><span class="mpre">helper</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.LineState.html#loc_155_5_155_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_155_5_155_9&#39;)"><span class="hl_varref"><span class="mpre">save</span></span></a><span class="mpre"> </span><a href="#loc_65_45_65_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_45_65_49&#39;)"><span class="hl_varref"><span class="mpre">oldS</span></span></a><span class="mpre">)
    </span><a href="System.Console.Haskeline.Monads.html#loc_59_1_59_7" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Monads.html#loc_59_1_59_7&#39;)"><span class="hl_varref"><span class="mpre">modify</span></span></a><span class="mpre"> (</span><a href="#loc_28_1_28_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_5&#39;)"><span class="hl_varref"><span class="mpre">push</span></span></a><span class="mpre"> </span><a href="#loc_66_10_66_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_10_66_12&#39;)"><span class="hl_varref"><span class="mpre">gs</span></span></a><span class="mpre">)
    </span><a href="System.Console.Haskeline.Command.html#loc_157_1_157_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_157_1_157_9&#39;)"><span class="hl_varref"><span class="mpre">setState</span></span></a><span class="mpre"> (</span><a href="System.Console.Haskeline.LineState.html#loc_156_5_156_12" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_156_5_156_12&#39;)"><span class="hl_varref"><span class="mpre">restore</span></span></a><span class="mpre"> </span><a href="#loc_66_13_66_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_13_66_18&#39;)"><span class="hl_varref"><span class="mpre">newIM</span></span></a><span class="mpre">)

</span><a href="#loc_72_1_72_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_1_72_18&#39;)"><span class="mpre">copyFromArgHelper</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/KillRing.hs&quot;, srcSpanStartLine = 70, srcSpanStartColumn = 22, srcSpanEndLine = 71, srcSpanEndColumn = 19}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/KillRing.hs&quot;, srcSpanStartLine = 70, srcSpanStartColumn = 22, srcSpanEndLine = 70, srcSpanEndColumn = 23},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/"><span class="mpre">(MonadState KillRing m, Save s)
                =&gt;</span></span><span class="mpre"> </span><a href="#loc_78_6_78_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_6_78_16&#39;)"><span class="hl_tyconref"><span class="mpre">KillHelper</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><a href="System.Console.Haskeline.LineState.html#loc_322_6_322_13" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_322_6_322_13&#39;)"><span class="hl_tyconref"><span class="mpre">ArgMode</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">
</span><a name="loc_72_1_72_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_1_72_18&#39;)"><span class="hl_fundecl"><span class="mpre">copyFromArgHelper</span></span></a><span class="mpre"> </span><a name="loc_72_19_72_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_19_72_25&#39;)"><span class="hl_vardecl"><span class="mpre">helper</span></span></a><span class="mpre"> = \</span><a name="loc_72_29_72_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_29_72_33&#39;)"><span class="hl_vardecl"><span class="mpre">oldS</span></span></a><span class="mpre"> -&gt; do
    let (</span><a name="loc_73_10_73_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_10_73_12&#39;)"><span class="hl_vardecl"><span class="mpre">gs</span></span></a><span class="mpre">,_) = </span><a href="#loc_91_1_91_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_1_91_15&#39;)"><span class="hl_varref"><span class="mpre">applyArgHelper</span></span></a><span class="mpre"> </span><a href="#loc_72_19_72_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_19_72_25&#39;)"><span class="hl_varref"><span class="mpre">helper</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.LineState.html#loc_155_5_155_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_155_5_155_9&#39;)"><span class="hl_varref"><span class="mpre">save</span></span></a><span class="mpre"> </span><a href="#loc_72_29_72_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_29_72_33&#39;)"><span class="hl_varref"><span class="mpre">oldS</span></span></a><span class="mpre">)
    </span><a href="System.Console.Haskeline.Monads.html#loc_59_1_59_7" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Monads.html#loc_59_1_59_7&#39;)"><span class="hl_varref"><span class="mpre">modify</span></span></a><span class="mpre"> (</span><a href="#loc_28_1_28_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_5&#39;)"><span class="hl_varref"><span class="mpre">push</span></span></a><span class="mpre"> </span><a href="#loc_73_10_73_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_10_73_12&#39;)"><span class="hl_varref"><span class="mpre">gs</span></span></a><span class="mpre">)
    </span><a href="System.Console.Haskeline.Command.html#loc_157_1_157_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_157_1_157_9&#39;)"><span class="hl_varref"><span class="mpre">setState</span></span></a><span class="mpre"> (</span><a href="System.Console.Haskeline.LineState.html#loc_322_39_322_47" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_322_39_322_47&#39;)"><span class="hl_varref"><span class="mpre">argState</span></span></a><span class="mpre"> </span><a href="#loc_72_29_72_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_29_72_33&#39;)"><span class="hl_varref"><span class="mpre">oldS</span></span></a><span class="mpre">)


data </span><a name="loc_78_6_78_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_6_78_16&#39;)"><span class="hl_tycondecl"><span class="mpre">KillHelper</span></span></a><span class="mpre"> = </span><a name="loc_78_19_78_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_19_78_29&#39;)"><span class="hl_condecl"><span class="mpre">SimpleMove</span></span></a><span class="mpre"> (</span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre"> -&gt; </span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre">)
                 | </span><a name="loc_79_20_79_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_20_79_31&#39;)"><span class="hl_condecl"><span class="mpre">GenericKill</span></span></a><span class="mpre"> (</span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre"> -&gt; ([</span><a href="System.Console.Haskeline.LineState.html#loc_76_6_76_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_76_6_76_14&#39;)"><span class="hl_tyconref"><span class="mpre">Grapheme</span></span></a><span class="mpre">],</span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre">))
        </span><span class="hl_comment"><span class="mpre">-- a generic kill gives more flexibility, but isn&#39;t repeatable.</span></span><span class="mpre">
        </span><span class="hl_comment"><span class="mpre">-- for example: dd,cc, %</span></span><span class="mpre">

</span><a href="#loc_84_1_84_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_1_84_8&#39;)"><span class="mpre">killAll</span></a><span class="mpre"> :: </span><a href="#loc_78_6_78_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_6_78_16&#39;)"><span class="hl_tyconref"><span class="mpre">KillHelper</span></span></a><span class="mpre">
</span><a name="loc_84_1_84_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_1_84_8&#39;)"><span class="hl_vardecl"><span class="mpre">killAll</span></span></a><span class="mpre"> = </span><a href="#loc_79_20_79_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_20_79_31&#39;)"><span class="hl_conref"><span class="mpre">GenericKill</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \(</span><a href="System.Console.Haskeline.LineState.html#loc_169_19_169_24" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_19_169_24&#39;)"><span class="hl_conref"><span class="mpre">IMode</span></span></a><span class="mpre"> </span><a name="loc_84_33_84_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_33_84_35&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> </span><a name="loc_84_36_84_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_36_84_38&#39;)"><span class="hl_vardecl"><span class="mpre">ys</span></span></a><span class="mpre">) -&gt; (</span><span class="hl_varref"><span class="mpre">reverse</span></span><span class="mpre"> </span><a href="#loc_84_33_84_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_33_84_35&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_84_36_84_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_36_84_38&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">, </span><a href="System.Console.Haskeline.LineState.html#loc_194_1_194_8" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_194_1_194_8&#39;)"><span class="hl_varref"><span class="mpre">emptyIM</span></span></a><span class="mpre">)

</span><a href="#loc_87_1_87_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_1_87_12&#39;)"><span class="mpre">applyHelper</span></a><span class="mpre"> :: </span><a href="#loc_78_6_78_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_6_78_16&#39;)"><span class="hl_tyconref"><span class="mpre">KillHelper</span></span></a><span class="mpre"> -&gt; </span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre"> -&gt; ([</span><a href="System.Console.Haskeline.LineState.html#loc_76_6_76_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_76_6_76_14&#39;)"><span class="hl_tyconref"><span class="mpre">Grapheme</span></span></a><span class="mpre">],</span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre">)
</span><a name="loc_87_1_87_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_1_87_12&#39;)"><span class="hl_fundecl"><span class="mpre">applyHelper</span></span></a><span class="mpre"> (</span><a href="#loc_78_19_78_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_19_78_29&#39;)"><span class="hl_conref"><span class="mpre">SimpleMove</span></span></a><span class="mpre"> </span><a name="loc_87_25_87_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_25_87_29&#39;)"><span class="hl_vardecl"><span class="mpre">move</span></span></a><span class="mpre">) </span><a name="loc_87_31_87_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_31_87_33&#39;)"><span class="hl_vardecl"><span class="mpre">im</span></span></a><span class="mpre"> = </span><a href="#loc_49_1_49_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_1_49_16&#39;)"><span class="hl_varref"><span class="mpre">deleteFromDiff&#39;</span></span></a><span class="mpre"> </span><a href="#loc_87_31_87_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_31_87_33&#39;)"><span class="hl_varref"><span class="mpre">im</span></span></a><span class="mpre"> (</span><a href="#loc_87_25_87_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_25_87_29&#39;)"><span class="hl_varref"><span class="mpre">move</span></span></a><span class="mpre"> </span><a href="#loc_87_31_87_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_31_87_33&#39;)"><span class="hl_varref"><span class="mpre">im</span></span></a><span class="mpre">)
</span><a href="#loc_87_1_87_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_1_87_12&#39;)"><span class="hl_fundecl"><span class="mpre">applyHelper</span></span></a><span class="mpre"> (</span><a href="#loc_79_20_79_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_20_79_31&#39;)"><span class="hl_conref"><span class="mpre">GenericKill</span></span></a><span class="mpre"> </span><a name="loc_88_26_88_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_26_88_29&#39;)"><span class="hl_vardecl"><span class="mpre">act</span></span></a><span class="mpre">) </span><a name="loc_88_31_88_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_31_88_33&#39;)"><span class="hl_vardecl"><span class="mpre">im</span></span></a><span class="mpre"> = </span><a href="#loc_88_26_88_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_26_88_29&#39;)"><span class="hl_varref"><span class="mpre">act</span></span></a><span class="mpre"> </span><a href="#loc_88_31_88_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_31_88_33&#39;)"><span class="hl_varref"><span class="mpre">im</span></span></a><span class="mpre">

</span><a href="#loc_91_1_91_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_1_91_15&#39;)"><span class="mpre">applyArgHelper</span></a><span class="mpre"> :: </span><a href="#loc_78_6_78_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_6_78_16&#39;)"><span class="hl_tyconref"><span class="mpre">KillHelper</span></span></a><span class="mpre"> -&gt; </span><a href="System.Console.Haskeline.LineState.html#loc_322_6_322_13" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_322_6_322_13&#39;)"><span class="hl_tyconref"><span class="mpre">ArgMode</span></span></a><span class="mpre"> </span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre"> -&gt; ([</span><a href="System.Console.Haskeline.LineState.html#loc_76_6_76_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_76_6_76_14&#39;)"><span class="hl_tyconref"><span class="mpre">Grapheme</span></span></a><span class="mpre">],</span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre">)
</span><a name="loc_91_1_91_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_1_91_15&#39;)"><span class="hl_fundecl"><span class="mpre">applyArgHelper</span></span></a><span class="mpre"> (</span><a href="#loc_78_19_78_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_19_78_29&#39;)"><span class="hl_conref"><span class="mpre">SimpleMove</span></span></a><span class="mpre"> </span><a name="loc_91_28_91_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_28_91_32&#39;)"><span class="hl_vardecl"><span class="mpre">move</span></span></a><span class="mpre">) </span><a name="loc_91_34_91_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_34_91_36&#39;)"><span class="hl_vardecl"><span class="mpre">im</span></span></a><span class="mpre"> = </span><a href="#loc_49_1_49_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_1_49_16&#39;)"><span class="hl_varref"><span class="mpre">deleteFromDiff&#39;</span></span></a><span class="mpre"> (</span><a href="System.Console.Haskeline.LineState.html#loc_322_39_322_47" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_322_39_322_47&#39;)"><span class="hl_varref"><span class="mpre">argState</span></span></a><span class="mpre"> </span><a href="#loc_91_34_91_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_34_91_36&#39;)"><span class="hl_varref"><span class="mpre">im</span></span></a><span class="mpre">) (</span><a href="System.Console.Haskeline.LineState.html#loc_349_1_349_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_349_1_349_9&#39;)"><span class="hl_varref"><span class="mpre">applyArg</span></span></a><span class="mpre"> </span><a href="#loc_91_28_91_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_28_91_32&#39;)"><span class="hl_varref"><span class="mpre">move</span></span></a><span class="mpre"> </span><a href="#loc_91_34_91_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_34_91_36&#39;)"><span class="hl_varref"><span class="mpre">im</span></span></a><span class="mpre">)
</span><a href="#loc_91_1_91_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_1_91_15&#39;)"><span class="hl_fundecl"><span class="mpre">applyArgHelper</span></span></a><span class="mpre"> (</span><a href="#loc_79_20_79_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_20_79_31&#39;)"><span class="hl_conref"><span class="mpre">GenericKill</span></span></a><span class="mpre"> </span><a name="loc_92_29_92_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_29_92_32&#39;)"><span class="hl_vardecl"><span class="mpre">act</span></span></a><span class="mpre">) </span><a name="loc_92_34_92_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_34_92_36&#39;)"><span class="hl_vardecl"><span class="mpre">im</span></span></a><span class="mpre"> = </span><a href="#loc_92_29_92_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_29_92_32&#39;)"><span class="hl_varref"><span class="mpre">act</span></span></a><span class="mpre"> (</span><a href="System.Console.Haskeline.LineState.html#loc_322_39_322_47" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_322_39_322_47&#39;)"><span class="hl_varref"><span class="mpre">argState</span></span></a><span class="mpre"> </span><a href="#loc_92_34_92_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_34_92_36&#39;)"><span class="hl_varref"><span class="mpre">im</span></span></a><span class="mpre">)
</span></div></body></html>