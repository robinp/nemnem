<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP #-}
#ifdef TRUSTWORTHY
{-# LANGUAGE Trustworthy #-}
#endif
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Control.Lens.Internal.Setter</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (C) 2012-2014 Edward Kmett</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  BSD-style (see the file LICENSE)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  provisional</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  non-portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------------------</span></span><span class="mpre">
module Control.Lens.Internal.Setter
  (
  </span><span class="hl_comment"><span class="mpre">-- ** Setters</span></span><span class="mpre">
    Settable(..)
  ) where

import Control.Applicative
import Control.Applicative.Backwards
import Data.Distributive
import Data.Functor.Compose
import Data.Functor.Identity
import Data.Profunctor
import Data.Profunctor.Unsafe
import Data.Traversable

</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Settable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Anything &#39;Settable&#39; must be isomorphic to the &#39;Identity&#39; &#39;Functor&#39;.</span></span><span class="mpre">
class </span><span class="warning" data-warning="ClassDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Internal/Setter.hs&quot;, srcSpanStartLine = 35, srcSpanStartColumn = 7, srcSpanEndLine = 35, srcSpanEndColumn = 56}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Internal/Setter.hs&quot;, srcSpanStartLine = 35, srcSpanStartColumn = 7, srcSpanEndLine = 35, srcSpanEndColumn = 8},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Internal/Sett"><span class="mpre">(Applicative f, Distributive f, Traversable f) =&gt;</span></span><span class="mpre"> </span><a name="loc_35_57_35_65" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_57_35_65&#39;)"><span class="hl_classdecl"><span class="mpre">Settable</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> where
  </span><a name="loc_36_3_36_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_3_36_12&#39;)"><span class="mpre">untainted</span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">

  </span><a name="loc_38_3_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_3_38_15&#39;)"><span class="mpre">untaintedDot</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Internal/Setter.hs&quot;, srcSpanStartLine = 38, srcSpanStartColumn = 19, srcSpanEndLine = 38, srcSpanEndColumn = 34}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Internal/Setter.hs&quot;, srcSpanStartLine = 38, srcSpanStartColumn = 32, srcSpanEndLine = 38, srcSpanEndColumn = 34}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Profunctor p =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
  </span><a href="#loc_38_3_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_3_38_15&#39;)"><span class="hl_fundecl"><span class="mpre">untaintedDot</span></span></a><span class="mpre"> </span><a name="loc_39_16_39_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_16_39_17&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> = </span><a href="#loc_39_16_39_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_16_39_17&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`seq`</span></span><span class="mpre"> </span><a href="Data.Profunctor.Unsafe.html#loc_101_3_101_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_101_3_101_7&#39;)"><span class="hl_varref"><span class="mpre">rmap</span></span></a><span class="mpre"> </span><a href="#loc_36_3_36_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_3_36_12&#39;)"><span class="hl_varref"><span class="mpre">untainted</span></span></a><span class="mpre"> </span><a href="#loc_39_16_39_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_16_39_17&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_38_3_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_3_38_15&#39;)"><span class="mpre">untaintedDot</span></a><span class="mpre"> #-}</span></span><span class="mpre">

  </span><a name="loc_42_3_42_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_3_42_13&#39;)"><span class="mpre">taintedDot</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Internal/Setter.hs&quot;, srcSpanStartLine = 42, srcSpanStartColumn = 17, srcSpanEndLine = 42, srcSpanEndColumn = 32}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Internal/Setter.hs&quot;, srcSpanStartLine = 42, srcSpanStartColumn = 30, srcSpanEndLine = 42, srcSpanEndColumn = 32}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Profunctor p =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">)
  </span><a href="#loc_42_3_42_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_3_42_13&#39;)"><span class="hl_fundecl"><span class="mpre">taintedDot</span></span></a><span class="mpre"> </span><a name="loc_43_14_43_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_14_43_15&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> = </span><a href="#loc_43_14_43_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_14_43_15&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`seq`</span></span><span class="mpre"> </span><a href="Data.Profunctor.Unsafe.html#loc_101_3_101_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_101_3_101_7&#39;)"><span class="hl_varref"><span class="mpre">rmap</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_varref"><span class="mpre">pure</span></span></a><span class="mpre"> </span><a href="#loc_43_14_43_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_14_43_15&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_42_3_42_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_3_42_13&#39;)"><span class="mpre">taintedDot</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | So you can pass our &#39;Control.Lens.Setter.Setter&#39; into combinators from other lens libraries.</span></span><span class="mpre">
instance </span><a href="#loc_35_57_35_65" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_57_35_65&#39;)"><span class="hl_classref"><span class="mpre">Settable</span></span></a><span class="mpre"> </span><a href="Data.Functor.Identity.html#loc_35_9_35_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_9_35_17&#39;)"><span class="hl_tyconref"><span class="mpre">Identity</span></span></a><span class="mpre"> where
  </span><a href="#loc_36_3_36_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_3_36_12&#39;)"><span class="hl_vardecl"><span class="mpre">untainted</span></span></a><span class="mpre"> = </span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_36_3_36_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_3_36_12&#39;)"><span class="mpre">untainted</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><a href="#loc_38_3_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_3_38_15&#39;)"><span class="hl_vardecl"><span class="mpre">untaintedDot</span></span></a><span class="mpre"> = (</span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">#.</span></span><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_38_3_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_3_38_15&#39;)"><span class="mpre">untaintedDot</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><a href="#loc_42_3_42_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_3_42_13&#39;)"><span class="hl_vardecl"><span class="mpre">taintedDot</span></span></a><span class="mpre"> = (</span><span class="hl_conref"><span class="mpre">Identity</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">#.</span></span><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_42_3_42_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_3_42_13&#39;)"><span class="mpre">taintedDot</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | &#39;Control.Lens.Fold.backwards&#39;</span></span><span class="mpre">
instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Internal/Setter.hs&quot;, srcSpanStartLine = 56, srcSpanStartColumn = 10, srcSpanEndLine = 56, srcSpanEndColumn = 23}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Internal/Setter.hs&quot;, srcSpanStartLine = 56, srcSpanStartColumn = 21, srcSpanEndLine = 56, srcSpanEndColumn = 23}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Settable f =&gt;</span></span><span class="mpre"> </span><a href="#loc_35_57_35_65" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_57_35_65&#39;)"><span class="hl_classref"><span class="mpre">Settable</span></span></a><span class="mpre"> (</span><a href="Control.Applicative.Backwards.html#loc_26_9_26_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.Backwards.html#loc_26_9_26_18&#39;)"><span class="hl_tyconref"><span class="mpre">Backwards</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">) where
  </span><a href="#loc_36_3_36_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_3_36_12&#39;)"><span class="hl_vardecl"><span class="mpre">untainted</span></span></a><span class="mpre"> = </span><a href="#loc_38_3_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_3_38_15&#39;)"><span class="hl_varref"><span class="mpre">untaintedDot</span></span></a><span class="mpre"> </span><a href="Control.Applicative.Backwards.html#loc_26_37_26_45" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.Backwards.html#loc_26_37_26_45&#39;)"><span class="hl_varref"><span class="mpre">forwards</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_36_3_36_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_3_36_12&#39;)"><span class="mpre">untainted</span></a><span class="mpre"> #-}</span></span><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Internal/Setter.hs&quot;, srcSpanStartLine = 60, srcSpanStartColumn = 10, srcSpanEndLine = 60, srcSpanEndColumn = 37}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Internal/Setter.hs&quot;, srcSpanStartLine = 60, srcSpanStartColumn = 10, srcSpanEndLine = 60, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Internal/S"><span class="mpre">(Settable f, Settable g) =&gt;</span></span><span class="mpre"> </span><a href="#loc_35_57_35_65" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_57_35_65&#39;)"><span class="hl_classref"><span class="mpre">Settable</span></span></a><span class="mpre"> (</span><a href="Data.Functor.Compose.html#loc_27_9_27_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Compose.html#loc_27_9_27_16&#39;)"><span class="hl_tyconref"><span class="mpre">Compose</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre">) where
  </span><a href="#loc_36_3_36_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_3_36_12&#39;)"><span class="hl_vardecl"><span class="mpre">untainted</span></span></a><span class="mpre"> = </span><a href="#loc_38_3_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_3_38_15&#39;)"><span class="hl_varref"><span class="mpre">untaintedDot</span></span></a><span class="mpre"> (</span><a href="#loc_38_3_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_3_38_15&#39;)"><span class="hl_varref"><span class="mpre">untaintedDot</span></span></a><span class="mpre"> </span><a href="Data.Functor.Compose.html#loc_27_35_27_45" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Compose.html#loc_27_35_27_45&#39;)"><span class="hl_varref"><span class="mpre">getCompose</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_36_3_36_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_3_36_12&#39;)"><span class="mpre">untainted</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span></div></body></html>