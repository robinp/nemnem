<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module         : Data.ByteString.Search.KMP</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright      : Justin Bailey</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--                  Chris Kuklewicz</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--                  Daniel Fischer</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Licence        : BSD3</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer     : Daniel Fischer &lt;daniel.is.fischer@googlemail.com&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability      : Provisional</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability    : non-portable (BangPatterns)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Fast search of strict &#39;S.ByteString&#39; values using the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Knuth-Morris-Pratt algorithm.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- A description of the algorithm can be found at</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &lt;http://en.wikipedia.org/wiki/Knuth-Morris-Pratt_algorithm&gt;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Original authors: Justin Bailey (jgbailey at gmail.com) and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Chris Kuklewicz (haskell at list.mightyreason.com).</span></span><span class="mpre">
module Data.ByteString.Search.KMP ( </span><span class="hl_comment"><span class="mpre">-- * Overview</span></span><span class="mpre">
                                    </span><span class="hl_comment"><span class="mpre">-- $overview</span></span><span class="mpre">

                                    </span><span class="hl_comment"><span class="mpre">-- ** Complexity and Performance</span></span><span class="mpre">
                                    </span><span class="hl_comment"><span class="mpre">-- $complexity</span></span><span class="mpre">

                                    </span><span class="hl_comment"><span class="mpre">-- ** Partial application</span></span><span class="mpre">
                                    </span><span class="hl_comment"><span class="mpre">-- $partial</span></span><span class="mpre">

                                    </span><span class="hl_comment"><span class="mpre">-- * Functions</span></span><span class="mpre">
                                      indices
                                    , nonOverlappingIndices
                                    ) where

import Data.ByteString.Search.Internal.KnuthMorrisPratt (</span><a href="Data.ByteString.Search.Internal.KnuthMorrisPratt.html#loc_160_1_160_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Search.Internal.KnuthMorrisPratt.html#loc_160_1_160_8&#39;)"><span class="mpre">matchSS</span></a><span class="mpre">, </span><a href="Data.ByteString.Search.Internal.KnuthMorrisPratt.html#loc_123_1_123_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Search.Internal.KnuthMorrisPratt.html#loc_123_1_123_9&#39;)"><span class="mpre">indicesS</span></a><span class="mpre">)
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/stringsearch-0.3.6.5/Data/ByteString/Search/KMP.hs&quot;, srcSpanStartLine = 34, srcSpanStartColumn = 18, srcSpanEndLine = 34, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> as S

</span><span class="hl_comment"><span class="mpre">-- $overview</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This module provides two functions for finding the occurrences of a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- pattern in a target string using the Knuth-Morris-Pratt algorithm.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- It exists only for systematic reasons, the functions from</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &quot;Data.ByteString.Search&quot; are much faster, except for very short patterns,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- in which case &quot;Data.ByteString.Search.DFA&quot; provides better functions.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- $complexity</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The preprocessing of the pattern is /O/(@patternLength@) in time and space.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The time complexity of the searching phase is /O/(@targetLength@) for both</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- functions.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- In most cases, these functions are considerably slower than the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Boyer-Moore variants, performance is close to that of those from</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &quot;Data.ByteString.Search.DFA&quot;.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- $partial</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Both functions can be usefully partially applied. Given only a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- pattern, the auxiliary data will be computed only once, allowing for</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- efficient re-use.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | @&#39;indices&#39;@ finds the starting indices of all possibly overlapping</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   occurrences of the pattern in the target string.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   If the pattern is empty, the result is @[0 .. &#39;length&#39; target]@.</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_67_1_67_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_1_67_8&#39;)"><span class="mpre">indices</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a href="#loc_67_1_67_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_1_67_8&#39;)"><span class="mpre">indices</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">     </span><span class="hl_comment"><span class="mpre">-- ^ Pattern to find</span></span><span class="mpre">
        -&gt; </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">     </span><span class="hl_comment"><span class="mpre">-- ^ String to search</span></span><span class="mpre">
        -&gt; [</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">]            </span><span class="hl_comment"><span class="mpre">-- ^ Offsets of matches</span></span><span class="mpre">
</span><a name="loc_67_1_67_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_1_67_8&#39;)"><span class="hl_vardecl"><span class="mpre">indices</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Search.Internal.KnuthMorrisPratt.html#loc_123_1_123_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Search.Internal.KnuthMorrisPratt.html#loc_123_1_123_9&#39;)"><span class="hl_varref"><span class="mpre">indicesS</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | @&#39;nonOverlappingIndices&#39;@ finds the starting indices of all</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   non-overlapping occurrences of the pattern in the target string.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   It is more efficient than removing indices from the list produced</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   by &#39;indices&#39;.</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_77_1_77_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_1_77_22&#39;)"><span class="mpre">nonOverlappingIndices</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a href="#loc_77_1_77_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_1_77_22&#39;)"><span class="mpre">nonOverlappingIndices</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">   </span><span class="hl_comment"><span class="mpre">-- ^ Pattern to find</span></span><span class="mpre">
                      -&gt; </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">   </span><span class="hl_comment"><span class="mpre">-- ^ String to search</span></span><span class="mpre">
                      -&gt; [</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">]          </span><span class="hl_comment"><span class="mpre">-- ^ Offsets of matches</span></span><span class="mpre">
</span><a name="loc_77_1_77_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_1_77_22&#39;)"><span class="hl_vardecl"><span class="mpre">nonOverlappingIndices</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Search.Internal.KnuthMorrisPratt.html#loc_160_1_160_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Search.Internal.KnuthMorrisPratt.html#loc_160_1_160_8&#39;)"><span class="hl_varref"><span class="mpre">matchSS</span></span></a><span class="mpre">
</span></div></body></html>