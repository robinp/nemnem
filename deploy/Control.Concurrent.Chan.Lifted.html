<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP #-}
{-# LANGUAGE NoImplicitPrelude #-}
{-# LANGUAGE FlexibleContexts #-}

#if __GLASGOW_HASKELL__ &gt;= 702
{-# LANGUAGE Trustworthy #-}
#endif

</span><span class="hl_comment"><span class="mpre">{- |
Module      :  Control.Concurrent.Chan.Lifted
Copyright   :  Liyang HU, Bas van Dijk
License     :  BSD-style

Maintainer  :  Bas van Dijk &lt;v.dijk.bas@gmail.com&gt;
Stability   :  experimental

This is a wrapped version of &quot;Control.Concurrent.Chan&quot; with types
generalised from &#39;IO&#39; to all monads in &#39;MonadBase&#39;.

&#39;Chan.unGetChan&#39; and &#39;Chan.isEmptyChan&#39; are deprecated in @base@, therefore
they are not included here. Use &#39;Control.Concurrent.STM.TVar&#39; instead.
-}</span></span><span class="mpre">

module Control.Concurrent.Chan.Lifted
    ( Chan
    , newChan
    , writeChan
    , readChan
    , dupChan
    , getChanContents
    , writeList2Chan
    ) where

</span><span class="hl_comment"><span class="mpre">--------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Imports</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- from base:</span></span><span class="mpre">
import Control.Concurrent.Chan ( </span><a href="Control.Concurrent.Chan.html#loc_51_6_51_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Concurrent.Chan.html#loc_51_6_51_10&#39;)"><span class="mpre">Chan</span></a><span class="mpre"> )
import qualified Control.Concurrent.Chan as Chan
import System.IO ( IO )
import Prelude ( (.) )

</span><span class="hl_comment"><span class="mpre">-- from transformers-base:</span></span><span class="mpre">
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Chan/Lifted.hs&quot;, srcSpanStartLine = 45, srcSpanStartColumn = 8, srcSpanEndLine = 45, srcSpanEndColumn = 26}, srcInfoPoints = []}) &quot;Control.Monad.Base&quot;"><span class="mpre">Control.Monad.Base</span></span><span class="mpre"> ( MonadBase, liftBase )

#include &quot;inlinable.h&quot;

</span><span class="hl_comment"><span class="mpre">--------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * Chans</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;Chan.newChan&#39;.</span></span><span class="mpre">
</span><a href="#loc_55_1_55_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_1_55_8&#39;)"><span class="mpre">newChan</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Chan/Lifted.hs&quot;, srcSpanStartLine = 54, srcSpanStartColumn = 12, srcSpanEndLine = 54, srcSpanEndColumn = 29}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Chan/Lifted.hs&quot;, srcSpanStartLine = 54, srcSpanStartColumn = 27, srcSpanEndLine = 54, srcSpanEndColumn = 29}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/hom"><span class="mpre">MonadBase IO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><a href="Control.Concurrent.Chan.html#loc_51_6_51_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Concurrent.Chan.html#loc_51_6_51_10&#39;)"><span class="hl_tyconref"><span class="mpre">Chan</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
</span><a name="loc_55_1_55_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_1_55_8&#39;)"><span class="hl_vardecl"><span class="mpre">newChan</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBase</span></span><span class="mpre"> </span><a href="Control.Concurrent.Chan.html#loc_71_1_71_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Concurrent.Chan.html#loc_71_1_71_8&#39;)"><span class="hl_varref"><span class="mpre">Chan.newChan</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE newChan #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;Chan.writeChan&#39;.</span></span><span class="mpre">
</span><a href="#loc_60_1_60_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_1_60_10&#39;)"><span class="mpre">writeChan</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Chan/Lifted.hs&quot;, srcSpanStartLine = 59, srcSpanStartColumn = 14, srcSpanEndLine = 59, srcSpanEndColumn = 31}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Chan/Lifted.hs&quot;, srcSpanStartLine = 59, srcSpanStartColumn = 29, srcSpanEndLine = 59, srcSpanEndColumn = 31}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/hom"><span class="mpre">MonadBase IO m =&gt;</span></span><span class="mpre"> </span><a href="Control.Concurrent.Chan.html#loc_51_6_51_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Concurrent.Chan.html#loc_51_6_51_10&#39;)"><span class="hl_tyconref"><span class="mpre">Chan</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_60_1_60_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_1_60_10&#39;)"><span class="hl_fundecl"><span class="mpre">writeChan</span></span></a><span class="mpre"> </span><a name="loc_60_11_60_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_11_60_15&#39;)"><span class="hl_vardecl"><span class="mpre">chan</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBase</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Concurrent.Chan.html#loc_84_1_84_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Concurrent.Chan.html#loc_84_1_84_10&#39;)"><span class="hl_varref"><span class="mpre">Chan.writeChan</span></span></a><span class="mpre"> </span><a href="#loc_60_11_60_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_11_60_15&#39;)"><span class="hl_varref"><span class="mpre">chan</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE writeChan #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;Chan.readChan&#39;.</span></span><span class="mpre">
</span><a href="#loc_65_1_65_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_1_65_9&#39;)"><span class="mpre">readChan</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Chan/Lifted.hs&quot;, srcSpanStartLine = 64, srcSpanStartColumn = 13, srcSpanEndLine = 64, srcSpanEndColumn = 30}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Chan/Lifted.hs&quot;, srcSpanStartLine = 64, srcSpanStartColumn = 28, srcSpanEndLine = 64, srcSpanEndColumn = 30}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/hom"><span class="mpre">MonadBase IO m =&gt;</span></span><span class="mpre"> </span><a href="Control.Concurrent.Chan.html#loc_51_6_51_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Concurrent.Chan.html#loc_51_6_51_10&#39;)"><span class="hl_tyconref"><span class="mpre">Chan</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_65_1_65_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_1_65_9&#39;)"><span class="hl_vardecl"><span class="mpre">readChan</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBase</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Concurrent.Chan.html#loc_103_1_103_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Concurrent.Chan.html#loc_103_1_103_9&#39;)"><span class="hl_varref"><span class="mpre">Chan.readChan</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE readChan #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;Chan.dupChan&#39;.</span></span><span class="mpre">
</span><a href="#loc_70_1_70_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_1_70_8&#39;)"><span class="mpre">dupChan</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Chan/Lifted.hs&quot;, srcSpanStartLine = 69, srcSpanStartColumn = 12, srcSpanEndLine = 69, srcSpanEndColumn = 29}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Chan/Lifted.hs&quot;, srcSpanStartLine = 69, srcSpanStartColumn = 27, srcSpanEndLine = 69, srcSpanEndColumn = 29}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/hom"><span class="mpre">MonadBase IO m =&gt;</span></span><span class="mpre"> </span><a href="Control.Concurrent.Chan.html#loc_51_6_51_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Concurrent.Chan.html#loc_51_6_51_10&#39;)"><span class="hl_tyconref"><span class="mpre">Chan</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><a href="Control.Concurrent.Chan.html#loc_51_6_51_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Concurrent.Chan.html#loc_51_6_51_10&#39;)"><span class="hl_tyconref"><span class="mpre">Chan</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
</span><a name="loc_70_1_70_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_1_70_8&#39;)"><span class="hl_vardecl"><span class="mpre">dupChan</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBase</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Concurrent.Chan.html#loc_127_1_127_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Concurrent.Chan.html#loc_127_1_127_8&#39;)"><span class="hl_varref"><span class="mpre">Chan.dupChan</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE dupChan #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;Chan.getChanContents&#39;.</span></span><span class="mpre">
</span><a href="#loc_75_1_75_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_1_75_16&#39;)"><span class="mpre">getChanContents</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Chan/Lifted.hs&quot;, srcSpanStartLine = 74, srcSpanStartColumn = 20, srcSpanEndLine = 74, srcSpanEndColumn = 37}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Chan/Lifted.hs&quot;, srcSpanStartLine = 74, srcSpanStartColumn = 35, srcSpanEndLine = 74, srcSpanEndColumn = 37}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/hom"><span class="mpre">MonadBase IO m =&gt;</span></span><span class="mpre"> </span><a href="Control.Concurrent.Chan.html#loc_51_6_51_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Concurrent.Chan.html#loc_51_6_51_10&#39;)"><span class="hl_tyconref"><span class="mpre">Chan</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">]
</span><a name="loc_75_1_75_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_1_75_16&#39;)"><span class="hl_vardecl"><span class="mpre">getChanContents</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBase</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Concurrent.Chan.html#loc_155_1_155_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Concurrent.Chan.html#loc_155_1_155_16&#39;)"><span class="hl_varref"><span class="mpre">Chan.getChanContents</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE getChanContents #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;Chan.writeList2Chan&#39;.</span></span><span class="mpre">
</span><a href="#loc_80_1_80_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_1_80_15&#39;)"><span class="mpre">writeList2Chan</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Chan/Lifted.hs&quot;, srcSpanStartLine = 79, srcSpanStartColumn = 19, srcSpanEndLine = 79, srcSpanEndColumn = 36}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Chan/Lifted.hs&quot;, srcSpanStartLine = 79, srcSpanStartColumn = 34, srcSpanEndLine = 79, srcSpanEndColumn = 36}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/hom"><span class="mpre">MonadBase IO m =&gt;</span></span><span class="mpre"> </span><a href="Control.Concurrent.Chan.html#loc_51_6_51_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Concurrent.Chan.html#loc_51_6_51_10&#39;)"><span class="hl_tyconref"><span class="mpre">Chan</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">] -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_80_1_80_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_1_80_15&#39;)"><span class="hl_fundecl"><span class="mpre">writeList2Chan</span></span></a><span class="mpre"> </span><a name="loc_80_16_80_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_16_80_20&#39;)"><span class="hl_vardecl"><span class="mpre">chan</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBase</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Concurrent.Chan.html#loc_164_1_164_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Concurrent.Chan.html#loc_164_1_164_15&#39;)"><span class="hl_varref"><span class="mpre">Chan.writeList2Chan</span></span></a><span class="mpre"> </span><a href="#loc_80_16_80_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_16_80_20&#39;)"><span class="hl_varref"><span class="mpre">chan</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE writeList2Chan #-}</span></span><span class="mpre">
</span></div></body></html>