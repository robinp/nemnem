<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP #-}

</span><span class="hl_comment"><span class="mpre">-- | Converting network &#39;Socket&#39;s to streams.</span></span><span class="mpre">
module System.IO.Streams.Network
  ( </span><span class="hl_comment"><span class="mpre">-- * Sockets to Streams</span></span><span class="mpre">
    socketToStreams
  , socketToStreamsWithBufferSize
  ) where

</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
import           Control.Exception          (</span><a href="Control.Exception.Base.html#loc_150_1_150_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Base.html#loc_150_1_150_6&#39;)"><span class="mpre">catch</span></a><span class="mpre">)
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/io-streams-1.1.4.6/src/System/IO/Streams/Network.hs&quot;, srcSpanStartLine = 12, srcSpanStartColumn = 18, srcSpanEndLine = 12, srcSpanEndColumn = 39}, srcInfoPoints = []}) &quot;Data.ByteString.Char8&quot;"><span class="mpre">Data.ByteString.Char8</span></span><span class="mpre">      as S
import qualified Data.ByteString.Internal   as S
import           Foreign.ForeignPtr         (</span><a href="Foreign.ForeignPtr.Imp.html#loc_63_1_63_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.ForeignPtr.Imp.html#loc_63_1_63_14&#39;)"><span class="mpre">newForeignPtr</span></a><span class="mpre">, </span><a href="Foreign.ForeignPtr.Imp.html#loc_88_1_88_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.ForeignPtr.Imp.html#loc_88_1_88_15&#39;)"><span class="mpre">withForeignPtr</span></a><span class="mpre">)
import           Foreign.Marshal.Alloc      (finalizerFree, </span><a href="Foreign.Marshal.Alloc.html#loc_96_1_96_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.Marshal.Alloc.html#loc_96_1_96_12&#39;)"><span class="mpre">mallocBytes</span></a><span class="mpre">)
import           </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/io-streams-1.1.4.6/src/System/IO/Streams/Network.hs&quot;, srcSpanStartLine = 16, srcSpanStartColumn = 18, srcSpanEndLine = 16, srcSpanEndColumn = 32}, srcInfoPoints = []}) &quot;Network.Socket&quot;"><span class="mpre">Network.Socket</span></span><span class="mpre">             (Socket)
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/io-streams-1.1.4.6/src/System/IO/Streams/Network.hs&quot;, srcSpanStartLine = 17, srcSpanStartColumn = 18, srcSpanEndLine = 17, srcSpanEndColumn = 32}, srcInfoPoints = []}) &quot;Network.Socket&quot;"><span class="mpre">Network.Socket</span></span><span class="mpre">             as N
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/io-streams-1.1.4.6/src/System/IO/Streams/Network.hs&quot;, srcSpanStartLine = 18, srcSpanStartColumn = 18, srcSpanEndLine = 18, srcSpanEndColumn = 43}, srcInfoPoints = []}) &quot;Network.Socket.ByteString&quot;"><span class="mpre">Network.Socket.ByteString</span></span><span class="mpre">  as NB
import           Prelude                    (IO, Int, </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="mpre">Maybe</span></a><span class="mpre"> (..), return, </span><a href="Prelude.html#loc_160_3_160_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Prelude.html#loc_160_3_160_5&#39;)"><span class="mpre">($!)</span></a><span class="mpre">, (&lt;=), (&gt;&gt;=))
import           System.IO.Error            (</span><a href="GHC.IO.Exception.html#loc_221_1_221_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Exception.html#loc_221_1_221_8&#39;)"><span class="mpre">ioError</span></a><span class="mpre">, </span><a href="System.IO.Error.html#loc_152_1_152_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Error.html#loc_152_1_152_11&#39;)"><span class="mpre">isEOFError</span></a><span class="mpre">)
</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
import           System.IO.Streams.Internal (</span><a href="System.IO.Streams.Internal.html#loc_107_6_107_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_107_6_107_17&#39;)"><span class="mpre">InputStream</span></a><span class="mpre">, </span><a href="System.IO.Streams.Internal.html#loc_126_6_126_18" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_126_6_126_18&#39;)"><span class="mpre">OutputStream</span></a><span class="mpre">)
import qualified System.IO.Streams.Internal as Streams


</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><a href="#loc_28_1_28_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_7&#39;)"><span class="mpre">bUFSIZ</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
</span><a name="loc_28_1_28_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_7&#39;)"><span class="hl_vardecl"><span class="mpre">bUFSIZ</span></span></a><span class="mpre"> = </span><span class="hl_num"><span class="mpre">4096</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Converts a &#39;Socket&#39; to an &#39;InputStream&#39; \/ &#39;OutputStream&#39; pair. Note that,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- as is usually the case in @io-streams@, writing a &#39;Nothing&#39; to the generated</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;OutputStream&#39; does not cause the underlying &#39;Socket&#39; to be closed.</span></span><span class="mpre">
</span><a href="#loc_37_1_37_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_1_37_16&#39;)"><span class="mpre">socketToStreams</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Socket</span></span><span class="mpre">
                -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><a href="System.IO.Streams.Internal.html#loc_107_6_107_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_107_6_107_17&#39;)"><span class="hl_tyconref"><span class="mpre">InputStream</span></span></a><span class="mpre"> </span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span></a><span class="mpre">, </span><a href="System.IO.Streams.Internal.html#loc_126_6_126_18" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_126_6_126_18&#39;)"><span class="hl_tyconref"><span class="mpre">OutputStream</span></span></a><span class="mpre"> </span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span></a><span class="mpre">)
</span><a name="loc_37_1_37_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_1_37_16&#39;)"><span class="hl_vardecl"><span class="mpre">socketToStreams</span></span></a><span class="mpre"> = </span><a href="#loc_49_1_49_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_1_49_30&#39;)"><span class="hl_varref"><span class="mpre">socketToStreamsWithBufferSize</span></span></a><span class="mpre"> </span><a href="#loc_28_1_28_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_7&#39;)"><span class="hl_varref"><span class="mpre">bUFSIZ</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Converts a &#39;Socket&#39; to an &#39;InputStream&#39; \/ &#39;OutputStream&#39; pair, with</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- control over the size of the receive buffers. Note that, as is usually the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- case in @io-streams@, writing a &#39;Nothing&#39; to the generated &#39;OutputStream&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- does not cause the underlying &#39;Socket&#39; to be closed.</span></span><span class="mpre">
</span><a href="#loc_49_1_49_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_1_49_30&#39;)"><span class="mpre">socketToStreamsWithBufferSize</span></a><span class="mpre">
    :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">                      </span><span class="hl_comment"><span class="mpre">-- ^ how large the receive buffer should be</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">Socket</span></span><span class="mpre">                   </span><span class="hl_comment"><span class="mpre">-- ^ network socket</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><a href="System.IO.Streams.Internal.html#loc_107_6_107_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_107_6_107_17&#39;)"><span class="hl_tyconref"><span class="mpre">InputStream</span></span></a><span class="mpre"> </span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span></a><span class="mpre">, </span><a href="System.IO.Streams.Internal.html#loc_126_6_126_18" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_126_6_126_18&#39;)"><span class="hl_tyconref"><span class="mpre">OutputStream</span></span></a><span class="mpre"> </span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span></a><span class="mpre">)
</span><a name="loc_49_1_49_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_1_49_30&#39;)"><span class="hl_fundecl"><span class="mpre">socketToStreamsWithBufferSize</span></span></a><span class="mpre"> </span><a name="loc_49_31_49_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_31_49_37&#39;)"><span class="hl_vardecl"><span class="mpre">bufsiz</span></span></a><span class="mpre"> </span><a name="loc_49_38_49_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_38_49_44&#39;)"><span class="hl_vardecl"><span class="mpre">socket</span></span></a><span class="mpre"> = do
    </span><a name="loc_50_5_50_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_5_50_7&#39;)"><span class="hl_vardecl"><span class="mpre">is</span></span></a><span class="mpre"> &lt;- </span><a href="System.IO.Streams.Internal.html#loc_247_1_247_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_247_1_247_16&#39;)"><span class="hl_varref"><span class="mpre">Streams.makeInputStream</span></span></a><span class="mpre"> </span><a href="#loc_61_5_61_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_5_61_10&#39;)"><span class="hl_varref"><span class="mpre">input</span></span></a><span class="mpre">
    </span><a name="loc_51_5_51_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_5_51_7&#39;)"><span class="hl_vardecl"><span class="mpre">os</span></span></a><span class="mpre"> &lt;- </span><a href="System.IO.Streams.Internal.html#loc_273_1_273_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_273_1_273_17&#39;)"><span class="hl_varref"><span class="mpre">Streams.makeOutputStream</span></span></a><span class="mpre"> </span><a href="#loc_73_5_73_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_5_73_11&#39;)"><span class="hl_varref"><span class="mpre">output</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="Prelude.html#loc_160_3_160_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Prelude.html#loc_160_3_160_5&#39;)"><span class="hl_infix"><span class="mpre">$!</span></span></a><span class="mpre"> (</span><a href="#loc_50_5_50_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_5_50_7&#39;)"><span class="hl_varref"><span class="mpre">is</span></span></a><span class="mpre">, </span><a href="#loc_51_5_51_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_5_51_7&#39;)"><span class="hl_varref"><span class="mpre">os</span></span></a><span class="mpre">)

  where
#if MIN_VERSION_network(2,4,0)
    </span><a name="loc_56_5_56_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_5_56_9&#39;)"><span class="hl_fundecl"><span class="mpre">recv</span></span></a><span class="mpre"> </span><a name="loc_56_10_56_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_10_56_13&#39;)"><span class="hl_vardecl"><span class="mpre">buf</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">N.recvBuf</span></span><span class="mpre"> </span><a href="#loc_49_38_49_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_38_49_44&#39;)"><span class="hl_varref"><span class="mpre">socket</span></span></a><span class="mpre"> </span><a href="#loc_56_10_56_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_10_56_13&#39;)"><span class="hl_varref"><span class="mpre">buf</span></span></a><span class="mpre"> </span><a href="#loc_49_31_49_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_31_49_37&#39;)"><span class="hl_varref"><span class="mpre">bufsiz</span></span></a><span class="mpre"> </span><a href="Control.Exception.Base.html#loc_150_1_150_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Base.html#loc_150_1_150_6&#39;)"><span class="hl_infix"><span class="mpre">`catch`</span></span></a><span class="mpre"> \</span><a name="loc_56_53_56_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_53_56_56&#39;)"><span class="hl_vardecl"><span class="mpre">ioe</span></span></a><span class="mpre"> -&gt;
               if </span><a href="System.IO.Error.html#loc_152_1_152_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Error.html#loc_152_1_152_11&#39;)"><span class="hl_varref"><span class="mpre">isEOFError</span></span></a><span class="mpre"> </span><a href="#loc_56_53_56_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_53_56_56&#39;)"><span class="hl_varref"><span class="mpre">ioe</span></span></a><span class="mpre"> then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> else </span><a href="GHC.IO.Exception.html#loc_221_1_221_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Exception.html#loc_221_1_221_8&#39;)"><span class="hl_varref"><span class="mpre">ioError</span></span></a><span class="mpre"> </span><a href="#loc_56_53_56_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_53_56_56&#39;)"><span class="hl_varref"><span class="mpre">ioe</span></span></a><span class="mpre">

    </span><a name="loc_59_5_59_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_5_59_9&#39;)"><span class="hl_vardecl"><span class="mpre">mkFp</span></span></a><span class="mpre"> = </span><a href="Foreign.Marshal.Alloc.html#loc_96_1_96_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.Marshal.Alloc.html#loc_96_1_96_12&#39;)"><span class="hl_varref"><span class="mpre">mallocBytes</span></span></a><span class="mpre"> </span><a href="#loc_49_31_49_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_31_49_37&#39;)"><span class="hl_varref"><span class="mpre">bufsiz</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Foreign.ForeignPtr.Imp.html#loc_63_1_63_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.ForeignPtr.Imp.html#loc_63_1_63_14&#39;)"><span class="hl_varref"><span class="mpre">newForeignPtr</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">finalizerFree</span></span><span class="mpre">

    </span><a name="loc_61_5_61_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_5_61_10&#39;)"><span class="hl_vardecl"><span class="mpre">input</span></span></a><span class="mpre"> = do
        </span><a name="loc_62_9_62_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_9_62_11&#39;)"><span class="hl_vardecl"><span class="mpre">fp</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_59_5_59_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_5_59_9&#39;)"><span class="hl_varref"><span class="mpre">mkFp</span></span></a><span class="mpre">
        </span><a name="loc_63_9_63_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_9_63_10&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre">  &lt;- </span><a href="Foreign.ForeignPtr.Imp.html#loc_88_1_88_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.ForeignPtr.Imp.html#loc_88_1_88_15&#39;)"><span class="hl_varref"><span class="mpre">withForeignPtr</span></span></a><span class="mpre"> </span><a href="#loc_62_9_62_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_9_62_11&#39;)"><span class="hl_varref"><span class="mpre">fp</span></span></a><span class="mpre"> </span><a href="#loc_56_5_56_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_5_56_9&#39;)"><span class="hl_varref"><span class="mpre">recv</span></span></a><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="Prelude.html#loc_160_3_160_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Prelude.html#loc_160_3_160_5&#39;)"><span class="hl_infix"><span class="mpre">$!</span></span></a><span class="mpre"> if </span><a href="#loc_63_9_63_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_9_63_10&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
                    then </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
                    else </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="Prelude.html#loc_160_3_160_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Prelude.html#loc_160_3_160_5&#39;)"><span class="hl_infix"><span class="mpre">$!</span></span></a><span class="mpre"> </span><a href="Data.ByteString.Internal.html#loc_400_1_400_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_400_1_400_15&#39;)"><span class="hl_varref"><span class="mpre">S.fromForeignPtr</span></span></a><span class="mpre"> </span><a href="#loc_62_9_62_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_9_62_11&#39;)"><span class="hl_varref"><span class="mpre">fp</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="#loc_63_9_63_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_9_63_10&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">
#else
    </span><span class="hl_vardecl"><span class="mpre">input</span></span><span class="mpre"> = do
        </span><a name="loc_69_9_69_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_10&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">NB.recv</span></span><span class="mpre"> </span><a href="#loc_49_38_49_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_38_49_44&#39;)"><span class="hl_varref"><span class="mpre">socket</span></span></a><span class="mpre"> </span><a href="#loc_49_31_49_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_31_49_37&#39;)"><span class="hl_varref"><span class="mpre">bufsiz</span></span></a><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="Prelude.html#loc_160_3_160_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Prelude.html#loc_160_3_160_5&#39;)"><span class="hl_infix"><span class="mpre">$!</span></span></a><span class="mpre"> if </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_69_9_69_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_10&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> then </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> else </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_69_9_69_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_10&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
#endif

    </span><a name="loc_73_5_73_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_5_73_11&#39;)"><span class="hl_fundecl"><span class="mpre">output</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">  = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="Prelude.html#loc_160_3_160_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Prelude.html#loc_160_3_160_5&#39;)"><span class="hl_infix"><span class="mpre">$!</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
    </span><a href="#loc_73_5_73_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_5_73_11&#39;)"><span class="hl_fundecl"><span class="mpre">output</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_74_18_74_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_18_74_19&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) = if </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_74_18_74_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_18_74_19&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="Prelude.html#loc_160_3_160_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Prelude.html#loc_160_3_160_5&#39;)"><span class="hl_infix"><span class="mpre">$!</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre"> else </span><span class="hl_varref"><span class="mpre">NB.sendAll</span></span><span class="mpre"> </span><a href="#loc_49_38_49_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_38_49_44&#39;)"><span class="hl_varref"><span class="mpre">socket</span></span></a><span class="mpre"> </span><a href="#loc_74_18_74_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_18_74_19&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
</span></div></body></html>