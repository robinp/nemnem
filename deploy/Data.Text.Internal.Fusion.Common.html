<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE BangPatterns, MagicHash, Rank2Types #-}
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      : Data.Text.Internal.Fusion.Common</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   : (c) Bryan O&#39;Sullivan 2009, 2012</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     : BSD-style</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  : bos@serpentine.com</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   : experimental</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability : GHC</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- /Warning/: this is an internal module, and does not have a stable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- API or name. Functions in this module may not check or enforce</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- preconditions expected by public modules. Use at your own risk!</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Common stream fusion functionality for text.</span></span><span class="mpre">

module Data.Text.Internal.Fusion.Common
    (
    </span><span class="hl_comment"><span class="mpre">-- * Creation and elimination</span></span><span class="mpre">
      singleton
    , streamList
    , unstreamList
    , streamCString#

    </span><span class="hl_comment"><span class="mpre">-- * Basic interface</span></span><span class="mpre">
    , cons
    , snoc
    , append
    , head
    , uncons
    , last
    , tail
    , init
    , null
    , lengthI
    , compareLengthI
    , isSingleton

    </span><span class="hl_comment"><span class="mpre">-- * Transformations</span></span><span class="mpre">
    , map
    , intercalate
    , intersperse

    </span><span class="hl_comment"><span class="mpre">-- ** Case conversion</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- $case</span></span><span class="mpre">
    , toCaseFold
    , toLower
    , toTitle
    , toUpper

    </span><span class="hl_comment"><span class="mpre">-- ** Justification</span></span><span class="mpre">
    , justifyLeftI

    </span><span class="hl_comment"><span class="mpre">-- * Folds</span></span><span class="mpre">
    , foldl
    , foldl&#39;
    , foldl1
    , foldl1&#39;
    , foldr
    , foldr1

    </span><span class="hl_comment"><span class="mpre">-- ** Special folds</span></span><span class="mpre">
    , concat
    , concatMap
    , any
    , all
    , maximum
    , minimum

    </span><span class="hl_comment"><span class="mpre">-- * Construction</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- ** Scans</span></span><span class="mpre">
    , scanl

    </span><span class="hl_comment"><span class="mpre">-- ** Accumulating maps</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- , mapAccumL</span></span><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- ** Generation and unfolding</span></span><span class="mpre">
    , replicateCharI
    , replicateI
    , unfoldr
    , unfoldrNI

    </span><span class="hl_comment"><span class="mpre">-- * Substrings</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- ** Breaking strings</span></span><span class="mpre">
    , take
    , drop
    , takeWhile
    , dropWhile

    </span><span class="hl_comment"><span class="mpre">-- * Predicates</span></span><span class="mpre">
    , isPrefixOf

    </span><span class="hl_comment"><span class="mpre">-- * Searching</span></span><span class="mpre">
    , elem
    , filter

    </span><span class="hl_comment"><span class="mpre">-- * Indexing</span></span><span class="mpre">
    , findBy
    , indexI
    , findIndexI
    , countCharI

    </span><span class="hl_comment"><span class="mpre">-- * Zipping and unzipping</span></span><span class="mpre">
    , zipWith
    ) where

import Prelude (Bool(..), Char, Eq(..), Int, Integral, </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="mpre">Maybe</span></a><span class="mpre">(..),
                Ord(..), Ordering(..), String, (.), ($), (+), (-), (*), (++),
                (&amp;&amp;), fromIntegral, otherwise)
import qualified Data.List as L
import qualified Prelude as P
import Data.Bits (</span><a href="Data.Bits.html#loc_200_5_200_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Bits.html#loc_200_5_200_11&#39;)"><span class="mpre">shiftL</span></a><span class="mpre">)
import Data.Char (</span><a href="Data.Char.html#loc_122_1_122_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Char.html#loc_122_1_122_9&#39;)"><span class="mpre">isLetter</span></a><span class="mpre">)
import Data.Int (</span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="mpre">Int64</span></a><span class="mpre">)
import Data.Text.Internal.Fusion.Types
import Data.Text.Internal.Fusion.CaseMapping (</span><a href="Data.Text.Internal.Fusion.CaseMapping.html#loc_327_1_327_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.CaseMapping.html#loc_327_1_327_12&#39;)"><span class="mpre">foldMapping</span></a><span class="mpre">, </span><a href="Data.Text.Internal.Fusion.CaseMapping.html#loc_223_1_223_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.CaseMapping.html#loc_223_1_223_13&#39;)"><span class="mpre">lowerMapping</span></a><span class="mpre">, </span><a href="Data.Text.Internal.Fusion.CaseMapping.html#loc_228_1_228_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.CaseMapping.html#loc_228_1_228_13&#39;)"><span class="mpre">titleMapping</span></a><span class="mpre">,
                                     </span><a href="Data.Text.Internal.Fusion.CaseMapping.html#loc_16_1_16_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.CaseMapping.html#loc_16_1_16_13&#39;)"><span class="mpre">upperMapping</span></a><span class="mpre">)
import Data.Text.Internal.Fusion.Size
import GHC.Prim (</span><a href="GHC.Prim.html#loc_2279_6_2279_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_2279_6_2279_11&#39;)"><span class="mpre">Addr#</span></a><span class="mpre">, </span><a href="GHC.Prim.html#loc_1491_1_1491_5" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_1491_1_1491_5&#39;)"><span class="mpre">chr#</span></a><span class="mpre">, </span><a href="GHC.Prim.html#loc_2332_1_2332_18" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_2332_1_2332_18&#39;)"><span class="mpre">indexCharOffAddr#</span></a><span class="mpre">, </span><a href="GHC.Prim.html#loc_1382_1_1382_5" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_1382_1_1382_5&#39;)"><span class="mpre">ord#</span></a><span class="mpre">)
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 120, srcSpanStartColumn = 8, srcSpanEndLine = 120, srcSpanEndColumn = 17}, srcInfoPoints = []}) &quot;GHC.Types&quot;"><span class="mpre">GHC.Types</span></span><span class="mpre"> (Char(..), Int(..))

</span><a href="#loc_123_1_123_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_1_123_10&#39;)"><span class="mpre">singleton</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_123_1_123_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_1_123_10&#39;)"><span class="hl_fundecl"><span class="mpre">singleton</span></span></a><span class="mpre"> </span><a name="loc_123_11_123_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_11_123_12&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a href="#loc_124_11_124_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_11_124_15&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">
    where </span><a name="loc_124_11_124_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_11_124_15&#39;)"><span class="hl_fundecl"><span class="mpre">next</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a href="#loc_123_11_123_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_11_123_12&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">
          </span><a href="#loc_124_11_124_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_11_124_15&#39;)"><span class="hl_fundecl"><span class="mpre">next</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">  = </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_123_1_123_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_1_123_10&#39;)"><span class="mpre">singleton</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_130_1_130_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_1_130_11&#39;)"><span class="mpre">streamList</span></a><span class="mpre"> :: [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">] -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [0] </span><a href="#loc_130_1_130_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_1_130_11&#39;)"><span class="mpre">streamList</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a name="loc_130_1_130_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_1_130_11&#39;)"><span class="hl_fundecl"><span class="mpre">streamList</span></span></a><span class="mpre"> </span><a name="loc_130_12_130_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_12_130_13&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">  = </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a href="#loc_131_11_131_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_11_131_15&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_130_12_130_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_12_130_13&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Size.html#loc_74_1_74_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Size.html#loc_74_1_74_12&#39;)"><span class="hl_varref"><span class="mpre">unknownSize</span></span></a><span class="mpre">
    where </span><a name="loc_131_11_131_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_11_131_15&#39;)"><span class="hl_fundecl"><span class="mpre">next</span></span></a><span class="mpre"> []       = </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">
          </span><a href="#loc_131_11_131_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_11_131_15&#39;)"><span class="hl_fundecl"><span class="mpre">next</span></span></a><span class="mpre"> (</span><a name="loc_132_17_132_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_17_132_18&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_132_19_132_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_19_132_21&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">)   = </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a href="#loc_132_17_132_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_17_132_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="#loc_132_19_132_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_19_132_21&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">

</span><a href="#loc_135_1_135_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_13&#39;)"><span class="mpre">unstreamList</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">]
</span><a name="loc_135_1_135_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_13&#39;)"><span class="hl_fundecl"><span class="mpre">unstreamList</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a name="loc_135_22_135_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_22_135_26&#39;)"><span class="hl_vardecl"><span class="mpre">next</span></span></a><span class="mpre"> </span><a name="loc_135_27_135_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_27_135_29&#39;)"><span class="hl_vardecl"><span class="mpre">s0</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_len</span></span><span class="mpre">) = </span><a href="#loc_136_11_136_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_11_136_17&#39;)"><span class="hl_varref"><span class="mpre">unfold</span></span></a><span class="mpre"> </span><a href="#loc_135_27_135_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_27_135_29&#39;)"><span class="hl_varref"><span class="mpre">s0</span></span></a><span class="mpre">
    where </span><a name="loc_136_11_136_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_11_136_17&#39;)"><span class="hl_fundecl"><span class="mpre">unfold</span></span></a><span class="mpre"> !</span><a name="loc_136_19_136_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_19_136_20&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = case </span><a href="#loc_135_22_135_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_22_135_26&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_136_19_136_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_19_136_20&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
                        </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">       -&gt; []
                        </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> </span><a name="loc_138_30_138_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_30_138_32&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre">    -&gt; </span><a href="#loc_136_11_136_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_11_136_17&#39;)"><span class="hl_varref"><span class="mpre">unfold</span></span></a><span class="mpre"> </span><a href="#loc_138_30_138_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_30_138_32&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">
                        </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a name="loc_139_31_139_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_31_139_32&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_139_33_139_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_33_139_35&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_139_31_139_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_31_139_32&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_136_11_136_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_11_136_17&#39;)"><span class="hl_varref"><span class="mpre">unfold</span></span></a><span class="mpre"> </span><a href="#loc_139_33_139_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_33_139_35&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [0] </span><a href="#loc_135_1_135_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_13&#39;)"><span class="mpre">unstreamList</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES &quot;STREAM streamList/unstreamList fusion&quot; forall s. streamList (unstreamList s) = s #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Stream the UTF-8-like packed encoding used by GHC to represent</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- constant strings in generated code.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This encoding uses the byte sequence &quot;\xc0\x80&quot; to represent NUL,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and the string is NUL-terminated.</span></span><span class="mpre">
</span><a href="#loc_150_1_150_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_15&#39;)"><span class="mpre">streamCString#</span></a><span class="mpre"> :: </span><a href="GHC.Prim.html#loc_2279_6_2279_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_2279_6_2279_11&#39;)"><span class="hl_tyconref"><span class="mpre">Addr#</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_150_1_150_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_15&#39;)"><span class="hl_fundecl"><span class="mpre">streamCString#</span></span></a><span class="mpre"> </span><a name="loc_150_16_150_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_16_150_20&#39;)"><span class="hl_vardecl"><span class="mpre">addr</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a href="#loc_152_5_152_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_5_152_9&#39;)"><span class="hl_varref"><span class="mpre">step</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Size.html#loc_74_1_74_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Size.html#loc_74_1_74_12&#39;)"><span class="hl_varref"><span class="mpre">unknownSize</span></span></a><span class="mpre">
  where
    </span><a name="loc_152_5_152_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_5_152_9&#39;)"><span class="hl_fundecl"><span class="mpre">step</span></span></a><span class="mpre"> !</span><a name="loc_152_11_152_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_11_152_12&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre">
        | </span><a href="#loc_166_13_166_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_13_166_14&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">    = </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">
        | </span><a href="#loc_166_13_166_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_13_166_14&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0x7f</span></span><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">C#</span></span><span class="mpre"> </span><a href="#loc_168_14_168_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_14_168_16&#39;)"><span class="hl_varref"><span class="mpre">b#</span></span></a><span class="mpre">) (</span><a href="#loc_152_11_152_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_11_152_12&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
        | </span><a href="#loc_166_13_166_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_13_166_14&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0xdf</span></span><span class="mpre"> = let !</span><a name="loc_155_28_155_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_28_155_29&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = </span><a href="#loc_170_5_170_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_5_170_8&#39;)"><span class="hl_varref"><span class="mpre">chr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> ((</span><a href="#loc_166_13_166_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_13_166_14&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><span class="hl_num"><span class="mpre">0xc0</span></span><span class="mpre">) </span><a href="Data.Bits.html#loc_200_5_200_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Bits.html#loc_200_5_200_11&#39;)"><span class="hl_infix"><span class="mpre">`shiftL`</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">6</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_167_13_167_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_13_167_17&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">
                      in </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a href="#loc_155_28_155_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_28_155_29&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> (</span><a href="#loc_152_11_152_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_11_152_12&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">)
        | </span><a href="#loc_166_13_166_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_13_166_14&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0xef</span></span><span class="mpre"> = let !</span><a name="loc_157_28_157_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_28_157_29&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = </span><a href="#loc_170_5_170_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_5_170_8&#39;)"><span class="hl_varref"><span class="mpre">chr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> ((</span><a href="#loc_166_13_166_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_13_166_14&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><span class="hl_num"><span class="mpre">0xe0</span></span><span class="mpre">) </span><a href="Data.Bits.html#loc_200_5_200_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Bits.html#loc_200_5_200_11&#39;)"><span class="hl_infix"><span class="mpre">`shiftL`</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">12</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre">
                                      (</span><a href="#loc_167_13_167_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_13_167_17&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">  </span><a href="Data.Bits.html#loc_200_5_200_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Bits.html#loc_200_5_200_11&#39;)"><span class="hl_infix"><span class="mpre">`shiftL`</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">6</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre">
                                       </span><a href="#loc_167_13_167_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_13_167_17&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">
                      in </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a href="#loc_157_28_157_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_28_157_29&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> (</span><a href="#loc_152_11_152_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_11_152_12&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">)
        | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = let !</span><a name="loc_161_28_161_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_28_161_29&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = </span><a href="#loc_170_5_170_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_5_170_8&#39;)"><span class="hl_varref"><span class="mpre">chr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> ((</span><a href="#loc_166_13_166_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_13_166_14&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><span class="hl_num"><span class="mpre">0xf0</span></span><span class="mpre">) </span><a href="Data.Bits.html#loc_200_5_200_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Bits.html#loc_200_5_200_11&#39;)"><span class="hl_infix"><span class="mpre">`shiftL`</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">18</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre">
                                      (</span><a href="#loc_167_13_167_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_13_167_17&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">  </span><a href="Data.Bits.html#loc_200_5_200_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Bits.html#loc_200_5_200_11&#39;)"><span class="hl_infix"><span class="mpre">`shiftL`</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">12</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre">
                                      (</span><a href="#loc_167_13_167_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_13_167_17&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">  </span><a href="Data.Bits.html#loc_200_5_200_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Bits.html#loc_200_5_200_11&#39;)"><span class="hl_infix"><span class="mpre">`shiftL`</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">6</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre">
                                       </span><a href="#loc_167_13_167_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_13_167_17&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">
                      in </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a href="#loc_161_28_161_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_28_161_29&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> (</span><a href="#loc_152_11_152_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_11_152_12&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre">)
      where </span><a name="loc_166_13_166_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_13_166_14&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">      = </span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> (</span><a href="GHC.Prim.html#loc_1382_1_1382_5" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_1382_1_1382_5&#39;)"><span class="hl_varref"><span class="mpre">ord#</span></span></a><span class="mpre"> </span><a href="#loc_168_14_168_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_14_168_16&#39;)"><span class="hl_varref"><span class="mpre">b#</span></span></a><span class="mpre">)
            </span><a name="loc_167_13_167_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_13_167_17&#39;)"><span class="hl_fundecl"><span class="mpre">next</span></span></a><span class="mpre"> </span><a name="loc_167_18_167_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_18_167_19&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> (</span><a href="GHC.Prim.html#loc_1382_1_1382_5" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_1382_1_1382_5&#39;)"><span class="hl_varref"><span class="mpre">ord#</span></span></a><span class="mpre"> (</span><a href="#loc_169_5_169_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_5_169_8&#39;)"><span class="hl_varref"><span class="mpre">at#</span></span></a><span class="mpre"> (</span><a href="#loc_152_11_152_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_11_152_12&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><a href="#loc_167_18_167_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_18_167_19&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">))) </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0x80</span></span><span class="mpre">
            !</span><a name="loc_168_14_168_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_14_168_16&#39;)"><span class="hl_vardecl"><span class="mpre">b#</span></span></a><span class="mpre">    = </span><a href="#loc_169_5_169_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_5_169_8&#39;)"><span class="hl_varref"><span class="mpre">at#</span></span></a><span class="mpre"> </span><a href="#loc_152_11_152_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_11_152_12&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">
    </span><a name="loc_169_5_169_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_5_169_8&#39;)"><span class="hl_fundecl"><span class="mpre">at#</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_169_13_169_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_13_169_15&#39;)"><span class="hl_vardecl"><span class="mpre">i#</span></span></a><span class="mpre">) = </span><a href="GHC.Prim.html#loc_2332_1_2332_18" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_2332_1_2332_18&#39;)"><span class="hl_varref"><span class="mpre">indexCharOffAddr#</span></span></a><span class="mpre"> </span><a href="#loc_150_16_150_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_16_150_20&#39;)"><span class="hl_varref"><span class="mpre">addr</span></span></a><span class="mpre"> </span><a href="#loc_169_13_169_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_13_169_15&#39;)"><span class="hl_varref"><span class="mpre">i#</span></span></a><span class="mpre">
    </span><a name="loc_170_5_170_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_5_170_8&#39;)"><span class="hl_fundecl"><span class="mpre">chr</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_170_13_170_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_13_170_15&#39;)"><span class="hl_vardecl"><span class="mpre">i#</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">C#</span></span><span class="mpre"> (</span><a href="GHC.Prim.html#loc_1491_1_1491_5" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_1491_1_1491_5&#39;)"><span class="hl_varref"><span class="mpre">chr#</span></span></a><span class="mpre"> </span><a href="#loc_170_13_170_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_13_170_15&#39;)"><span class="hl_varref"><span class="mpre">i#</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [0] </span><a href="#loc_150_1_150_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_15&#39;)"><span class="mpre">streamCString#</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- ----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * Basic stream functions</span></span><span class="mpre">

data </span><span class="hl_tycondecl"><span class="mpre">C</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> = </span><a name="loc_176_12_176_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_12_176_14&#39;)"><span class="hl_condecl"><span class="mpre">C0</span></span></a><span class="mpre"> !</span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">
         | </span><a name="loc_177_12_177_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_12_177_14&#39;)"><span class="hl_condecl"><span class="mpre">C1</span></span></a><span class="mpre"> !</span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Adds a character to the front of a Stream Char.</span></span><span class="mpre">
</span><a href="#loc_181_1_181_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_1_181_5&#39;)"><span class="mpre">cons</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_181_1_181_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_1_181_5&#39;)"><span class="hl_fundecl"><span class="mpre">cons</span></span></a><span class="mpre"> !</span><a name="loc_181_7_181_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_7_181_8&#39;)"><span class="hl_vardecl"><span class="mpre">w</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a name="loc_181_17_181_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_17_181_22&#39;)"><span class="hl_vardecl"><span class="mpre">next0</span></span></a><span class="mpre"> </span><a name="loc_181_23_181_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_23_181_25&#39;)"><span class="hl_vardecl"><span class="mpre">s0</span></span></a><span class="mpre"> </span><a name="loc_181_26_181_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_26_181_29&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre">) = </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a href="#loc_183_7_183_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_7_183_11&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> (</span><a href="#loc_177_12_177_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_12_177_14&#39;)"><span class="hl_conref"><span class="mpre">C1</span></span></a><span class="mpre"> </span><a href="#loc_181_23_181_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_23_181_25&#39;)"><span class="hl_varref"><span class="mpre">s0</span></span></a><span class="mpre">) (</span><a href="#loc_181_26_181_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_26_181_29&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
    where
      </span><a name="loc_183_7_183_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_7_183_11&#39;)"><span class="hl_fundecl"><span class="mpre">next</span></span></a><span class="mpre"> (</span><a href="#loc_177_12_177_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_12_177_14&#39;)"><span class="hl_conref"><span class="mpre">C1</span></span></a><span class="mpre"> </span><a name="loc_183_16_183_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_16_183_17&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) = </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a href="#loc_181_7_181_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_7_181_8&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre"> (</span><a href="#loc_176_12_176_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_12_176_14&#39;)"><span class="hl_conref"><span class="mpre">C0</span></span></a><span class="mpre"> </span><a href="#loc_183_16_183_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_16_183_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
      </span><a href="#loc_183_7_183_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_7_183_11&#39;)"><span class="hl_fundecl"><span class="mpre">next</span></span></a><span class="mpre"> (</span><a href="#loc_176_12_176_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_12_176_14&#39;)"><span class="hl_conref"><span class="mpre">C0</span></span></a><span class="mpre"> </span><a name="loc_184_16_184_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_16_184_17&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) = case </span><a href="#loc_181_17_181_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_17_181_22&#39;)"><span class="hl_varref"><span class="mpre">next0</span></span></a><span class="mpre"> </span><a href="#loc_184_16_184_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_16_184_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
                          </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">
                          </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> </span><a name="loc_186_32_186_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_32_186_34&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> (</span><a href="#loc_176_12_176_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_12_176_14&#39;)"><span class="hl_conref"><span class="mpre">C0</span></span></a><span class="mpre"> </span><a href="#loc_186_32_186_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_32_186_34&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">)
                          </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a name="loc_187_33_187_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_33_187_34&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_187_35_187_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_35_187_37&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a href="#loc_187_33_187_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_33_187_34&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> (</span><a href="#loc_176_12_176_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_12_176_14&#39;)"><span class="hl_conref"><span class="mpre">C0</span></span></a><span class="mpre"> </span><a href="#loc_187_35_187_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_35_187_37&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [0] </span><a href="#loc_181_1_181_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_1_181_5&#39;)"><span class="mpre">cons</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Adds a character to the end of a stream.</span></span><span class="mpre">
</span><a href="#loc_192_1_192_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_1_192_5&#39;)"><span class="mpre">snoc</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_192_1_192_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_1_192_5&#39;)"><span class="hl_fundecl"><span class="mpre">snoc</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a name="loc_192_14_192_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_14_192_19&#39;)"><span class="hl_vardecl"><span class="mpre">next0</span></span></a><span class="mpre"> </span><a name="loc_192_20_192_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_20_192_23&#39;)"><span class="hl_vardecl"><span class="mpre">xs0</span></span></a><span class="mpre"> </span><a name="loc_192_24_192_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_24_192_27&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre">) </span><a name="loc_192_29_192_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_29_192_30&#39;)"><span class="hl_vardecl"><span class="mpre">w</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a href="#loc_194_5_194_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_5_194_9&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13&#39;)"><span class="hl_conref"><span class="mpre">J</span></span></a><span class="mpre"> </span><a href="#loc_192_20_192_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_20_192_23&#39;)"><span class="hl_varref"><span class="mpre">xs0</span></span></a><span class="mpre">) (</span><a href="#loc_192_24_192_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_24_192_27&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
  where
    </span><a name="loc_194_5_194_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_5_194_9&#39;)"><span class="hl_fundecl"><span class="mpre">next</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13&#39;)"><span class="hl_conref"><span class="mpre">J</span></span></a><span class="mpre"> </span><a name="loc_194_13_194_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_13_194_15&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) = case </span><a href="#loc_192_14_192_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_14_192_19&#39;)"><span class="hl_varref"><span class="mpre">next0</span></span></a><span class="mpre"> </span><a href="#loc_194_13_194_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_13_194_15&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre"> of
      </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">        -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a href="#loc_192_29_192_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_29_192_30&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_40_12_40_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_40_12_40_13&#39;)"><span class="hl_conref"><span class="mpre">N</span></span></a><span class="mpre">
      </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> </span><a name="loc_196_12_196_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_12_196_15&#39;)"><span class="hl_vardecl"><span class="mpre">xs&#39;</span></span></a><span class="mpre">    -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre">    (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13&#39;)"><span class="hl_conref"><span class="mpre">J</span></span></a><span class="mpre"> </span><a href="#loc_196_12_196_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_12_196_15&#39;)"><span class="hl_varref"><span class="mpre">xs&#39;</span></span></a><span class="mpre">)
      </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a name="loc_197_13_197_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_13_197_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_197_15_197_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_15_197_18&#39;)"><span class="hl_vardecl"><span class="mpre">xs&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a href="#loc_197_13_197_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_13_197_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13&#39;)"><span class="hl_conref"><span class="mpre">J</span></span></a><span class="mpre"> </span><a href="#loc_197_15_197_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_15_197_18&#39;)"><span class="hl_varref"><span class="mpre">xs&#39;</span></span></a><span class="mpre">)
    </span><a href="#loc_194_5_194_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_5_194_9&#39;)"><span class="hl_fundecl"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_40_12_40_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_40_12_40_13&#39;)"><span class="hl_conref"><span class="mpre">N</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [0] </span><a href="#loc_192_1_192_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_1_192_5&#39;)"><span class="mpre">snoc</span></a><span class="mpre"> #-}</span></span><span class="mpre">

data </span><span class="hl_tycondecl"><span class="mpre">E</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">l</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> = </span><a name="loc_201_14_201_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_201_14_201_15&#39;)"><span class="hl_condecl"><span class="mpre">L</span></span></a><span class="mpre"> !</span><span class="hl_tyvar"><span class="mpre">l</span></span><span class="mpre">
           | </span><a name="loc_202_14_202_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_14_202_15&#39;)"><span class="hl_condecl"><span class="mpre">R</span></span></a><span class="mpre"> !</span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Appends one Stream to the other.</span></span><span class="mpre">
</span><a href="#loc_206_1_206_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_7&#39;)"><span class="mpre">append</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_206_1_206_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_7&#39;)"><span class="hl_fundecl"><span class="mpre">append</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a name="loc_206_16_206_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_16_206_21&#39;)"><span class="hl_vardecl"><span class="mpre">next0</span></span></a><span class="mpre"> </span><a name="loc_206_22_206_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_22_206_25&#39;)"><span class="hl_vardecl"><span class="mpre">s01</span></span></a><span class="mpre"> </span><a name="loc_206_26_206_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_26_206_30&#39;)"><span class="hl_vardecl"><span class="mpre">len1</span></span></a><span class="mpre">) (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a name="loc_206_40_206_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_40_206_45&#39;)"><span class="hl_vardecl"><span class="mpre">next1</span></span></a><span class="mpre"> </span><a name="loc_206_46_206_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_46_206_49&#39;)"><span class="hl_vardecl"><span class="mpre">s02</span></span></a><span class="mpre"> </span><a name="loc_206_50_206_54" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_50_206_54&#39;)"><span class="hl_vardecl"><span class="mpre">len2</span></span></a><span class="mpre">) =
    </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a href="#loc_209_7_209_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_7_209_11&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> (</span><a href="#loc_201_14_201_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_201_14_201_15&#39;)"><span class="hl_conref"><span class="mpre">L</span></span></a><span class="mpre"> </span><a href="#loc_206_22_206_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_22_206_25&#39;)"><span class="hl_varref"><span class="mpre">s01</span></span></a><span class="mpre">) (</span><a href="#loc_206_26_206_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_26_206_30&#39;)"><span class="hl_varref"><span class="mpre">len1</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_206_50_206_54" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_50_206_54&#39;)"><span class="hl_varref"><span class="mpre">len2</span></span></a><span class="mpre">)
    where
      </span><a name="loc_209_7_209_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_7_209_11&#39;)"><span class="hl_fundecl"><span class="mpre">next</span></span></a><span class="mpre"> (</span><a href="#loc_201_14_201_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_201_14_201_15&#39;)"><span class="hl_conref"><span class="mpre">L</span></span></a><span class="mpre"> </span><a name="loc_209_15_209_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_15_209_17&#39;)"><span class="hl_vardecl"><span class="mpre">s1</span></span></a><span class="mpre">) = case </span><a href="#loc_206_16_206_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_16_206_21&#39;)"><span class="hl_varref"><span class="mpre">next0</span></span></a><span class="mpre"> </span><a href="#loc_209_15_209_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_15_209_17&#39;)"><span class="hl_varref"><span class="mpre">s1</span></span></a><span class="mpre"> of
                         </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">        -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre">    (</span><a href="#loc_202_14_202_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_14_202_15&#39;)"><span class="hl_conref"><span class="mpre">R</span></span></a><span class="mpre"> </span><a href="#loc_206_46_206_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_46_206_49&#39;)"><span class="hl_varref"><span class="mpre">s02</span></span></a><span class="mpre">)
                         </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> </span><a name="loc_211_31_211_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_31_211_34&#39;)"><span class="hl_vardecl"><span class="mpre">s1&#39;</span></span></a><span class="mpre">    -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre">    (</span><a href="#loc_201_14_201_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_201_14_201_15&#39;)"><span class="hl_conref"><span class="mpre">L</span></span></a><span class="mpre"> </span><a href="#loc_211_31_211_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_31_211_34&#39;)"><span class="hl_varref"><span class="mpre">s1&#39;</span></span></a><span class="mpre">)
                         </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a name="loc_212_32_212_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_32_212_33&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_212_34_212_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_34_212_37&#39;)"><span class="hl_vardecl"><span class="mpre">s1&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a href="#loc_212_32_212_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_32_212_33&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> (</span><a href="#loc_201_14_201_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_201_14_201_15&#39;)"><span class="hl_conref"><span class="mpre">L</span></span></a><span class="mpre"> </span><a href="#loc_212_34_212_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_34_212_37&#39;)"><span class="hl_varref"><span class="mpre">s1&#39;</span></span></a><span class="mpre">)
      </span><a href="#loc_209_7_209_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_7_209_11&#39;)"><span class="hl_fundecl"><span class="mpre">next</span></span></a><span class="mpre"> (</span><a href="#loc_202_14_202_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_14_202_15&#39;)"><span class="hl_conref"><span class="mpre">R</span></span></a><span class="mpre"> </span><a name="loc_213_15_213_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_15_213_17&#39;)"><span class="hl_vardecl"><span class="mpre">s2</span></span></a><span class="mpre">) = case </span><a href="#loc_206_40_206_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_40_206_45&#39;)"><span class="hl_varref"><span class="mpre">next1</span></span></a><span class="mpre"> </span><a href="#loc_213_15_213_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_15_213_17&#39;)"><span class="hl_varref"><span class="mpre">s2</span></span></a><span class="mpre"> of
                          </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">        -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">
                          </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> </span><a name="loc_215_32_215_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_32_215_35&#39;)"><span class="hl_vardecl"><span class="mpre">s2&#39;</span></span></a><span class="mpre">    -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre">    (</span><a href="#loc_202_14_202_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_14_202_15&#39;)"><span class="hl_conref"><span class="mpre">R</span></span></a><span class="mpre"> </span><a href="#loc_215_32_215_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_32_215_35&#39;)"><span class="hl_varref"><span class="mpre">s2&#39;</span></span></a><span class="mpre">)
                          </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a name="loc_216_33_216_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_33_216_34&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_216_35_216_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_35_216_38&#39;)"><span class="hl_vardecl"><span class="mpre">s2&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a href="#loc_216_33_216_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_33_216_34&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> (</span><a href="#loc_202_14_202_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_14_202_15&#39;)"><span class="hl_conref"><span class="mpre">R</span></span></a><span class="mpre"> </span><a href="#loc_216_35_216_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_35_216_38&#39;)"><span class="hl_varref"><span class="mpre">s2&#39;</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [0] </span><a href="#loc_206_1_206_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_7&#39;)"><span class="mpre">append</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(1)/ Returns the first character of a Text, which must be non-empty.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Subject to array fusion.</span></span><span class="mpre">
</span><a href="#loc_222_1_222_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_1_222_5&#39;)"><span class="mpre">head</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_222_1_222_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_1_222_5&#39;)"><span class="hl_fundecl"><span class="mpre">head</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a name="loc_222_14_222_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_14_222_18&#39;)"><span class="hl_vardecl"><span class="mpre">next</span></span></a><span class="mpre"> </span><a name="loc_222_19_222_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_19_222_21&#39;)"><span class="hl_vardecl"><span class="mpre">s0</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_len</span></span><span class="mpre">) = </span><a href="#loc_224_7_224_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_224_7_224_16&#39;)"><span class="hl_varref"><span class="mpre">loop_head</span></span></a><span class="mpre"> </span><a href="#loc_222_19_222_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_19_222_21&#39;)"><span class="hl_varref"><span class="mpre">s0</span></span></a><span class="mpre">
    where
      </span><a name="loc_224_7_224_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_224_7_224_16&#39;)"><span class="hl_fundecl"><span class="mpre">loop_head</span></span></a><span class="mpre"> !</span><a name="loc_224_18_224_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_224_18_224_19&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = case </span><a href="#loc_222_14_222_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_14_222_18&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_224_18_224_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_224_18_224_19&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
                      </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a name="loc_225_29_225_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_29_225_30&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> _ -&gt; </span><a href="#loc_225_29_225_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_29_225_30&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
                      </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> </span><a name="loc_226_28_226_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_28_226_30&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre">   -&gt; </span><a href="#loc_224_7_224_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_224_7_224_16&#39;)"><span class="hl_varref"><span class="mpre">loop_head</span></span></a><span class="mpre"> </span><a href="#loc_226_28_226_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_28_226_30&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">
                      </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">      -&gt; </span><a href="#loc_231_1_231_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_1_231_11&#39;)"><span class="hl_varref"><span class="mpre">head_empty</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [0] </span><a href="#loc_222_1_222_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_1_222_5&#39;)"><span class="mpre">head</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_231_1_231_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_1_231_11&#39;)"><span class="mpre">head_empty</span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_231_1_231_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_1_231_11&#39;)"><span class="hl_vardecl"><span class="mpre">head_empty</span></span></a><span class="mpre"> = </span><a href="#loc_944_1_944_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_944_1_944_12&#39;)"><span class="hl_varref"><span class="mpre">streamError</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;head&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Empty stream&quot;</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# NOINLINE </span><a href="#loc_231_1_231_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_1_231_11&#39;)"><span class="mpre">head_empty</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(1)/ Returns the first character and remainder of a &#39;Stream</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Char&#39;, or &#39;Nothing&#39; if empty.  Subject to array fusion.</span></span><span class="mpre">
</span><a href="#loc_237_1_237_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_1_237_7&#39;)"><span class="mpre">uncons</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">, </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">)
</span><a name="loc_237_1_237_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_1_237_7&#39;)"><span class="hl_fundecl"><span class="mpre">uncons</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a name="loc_237_16_237_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_16_237_20&#39;)"><span class="hl_vardecl"><span class="mpre">next</span></span></a><span class="mpre"> </span><a name="loc_237_21_237_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_21_237_23&#39;)"><span class="hl_vardecl"><span class="mpre">s0</span></span></a><span class="mpre"> </span><a name="loc_237_24_237_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_24_237_27&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre">) = </span><a href="#loc_239_7_239_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_7_239_18&#39;)"><span class="hl_varref"><span class="mpre">loop_uncons</span></span></a><span class="mpre"> </span><a href="#loc_237_21_237_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_21_237_23&#39;)"><span class="hl_varref"><span class="mpre">s0</span></span></a><span class="mpre">
    where
      </span><a name="loc_239_7_239_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_7_239_18&#39;)"><span class="hl_fundecl"><span class="mpre">loop_uncons</span></span></a><span class="mpre"> !</span><a name="loc_239_20_239_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_20_239_21&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = case </span><a href="#loc_237_16_237_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_16_237_20&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_239_20_239_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_20_239_21&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
                         </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a name="loc_240_32_240_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_32_240_33&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_240_34_240_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_34_240_36&#39;)"><span class="hl_vardecl"><span class="mpre">s1</span></span></a><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><a href="#loc_240_32_240_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_32_240_33&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a href="#loc_237_16_237_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_16_237_20&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_240_34_240_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_34_240_36&#39;)"><span class="hl_varref"><span class="mpre">s1</span></span></a><span class="mpre"> (</span><a href="#loc_237_24_237_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_24_237_27&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">))
                         </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> </span><a name="loc_241_31_241_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_31_241_33&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre">    -&gt; </span><a href="#loc_239_7_239_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_7_239_18&#39;)"><span class="hl_varref"><span class="mpre">loop_uncons</span></span></a><span class="mpre"> </span><a href="#loc_241_31_241_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_31_241_33&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">
                         </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">       -&gt; </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [0] </span><a href="#loc_237_1_237_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_1_237_7&#39;)"><span class="mpre">uncons</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Returns the last character of a &#39;Stream Char&#39;, which must</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- be non-empty.</span></span><span class="mpre">
</span><a href="#loc_248_1_248_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_1_248_5&#39;)"><span class="mpre">last</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_248_1_248_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_1_248_5&#39;)"><span class="hl_fundecl"><span class="mpre">last</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a name="loc_248_14_248_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_14_248_18&#39;)"><span class="hl_vardecl"><span class="mpre">next</span></span></a><span class="mpre"> </span><a name="loc_248_19_248_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_19_248_21&#39;)"><span class="hl_vardecl"><span class="mpre">s0</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_len</span></span><span class="mpre">) = </span><a href="#loc_250_7_250_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_7_250_17&#39;)"><span class="hl_varref"><span class="mpre">loop0_last</span></span></a><span class="mpre"> </span><a href="#loc_248_19_248_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_19_248_21&#39;)"><span class="hl_varref"><span class="mpre">s0</span></span></a><span class="mpre">
    where
      </span><a name="loc_250_7_250_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_7_250_17&#39;)"><span class="hl_fundecl"><span class="mpre">loop0_last</span></span></a><span class="mpre"> !</span><a name="loc_250_19_250_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_19_250_20&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = case </span><a href="#loc_248_14_248_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_14_248_18&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_250_19_250_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_19_250_20&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
                        </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">       -&gt; </span><a href="#loc_947_1_947_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_947_1_947_11&#39;)"><span class="hl_varref"><span class="mpre">emptyError</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;last&quot;</span></span><span class="mpre">
                        </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> </span><a name="loc_252_30_252_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_30_252_32&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre">    -&gt; </span><a href="#loc_250_7_250_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_7_250_17&#39;)"><span class="hl_varref"><span class="mpre">loop0_last</span></span></a><span class="mpre">  </span><a href="#loc_252_30_252_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_30_252_32&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">
                        </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a name="loc_253_31_253_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_31_253_32&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_253_33_253_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_33_253_35&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_254_7_254_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_7_254_16&#39;)"><span class="hl_varref"><span class="mpre">loop_last</span></span></a><span class="mpre"> </span><a href="#loc_253_31_253_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_31_253_32&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="#loc_253_33_253_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_33_253_35&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">
      </span><a name="loc_254_7_254_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_7_254_16&#39;)"><span class="hl_fundecl"><span class="mpre">loop_last</span></span></a><span class="mpre"> !</span><a name="loc_254_18_254_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_18_254_19&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> !</span><a name="loc_254_21_254_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_21_254_22&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = case </span><a href="#loc_248_14_248_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_14_248_18&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_254_21_254_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_21_254_22&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
                         </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">        -&gt; </span><a href="#loc_254_18_254_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_18_254_19&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
                         </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> </span><a name="loc_256_31_256_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_256_31_256_33&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre">     -&gt; </span><a href="#loc_254_7_254_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_7_254_16&#39;)"><span class="hl_varref"><span class="mpre">loop_last</span></span></a><span class="mpre"> </span><a href="#loc_254_18_254_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_18_254_19&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">  </span><a href="#loc_256_31_256_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_256_31_256_33&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">
                         </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a name="loc_257_32_257_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_257_32_257_34&#39;)"><span class="hl_vardecl"><span class="mpre">x&#39;</span></span></a><span class="mpre"> </span><a name="loc_257_35_257_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_257_35_257_37&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_254_7_254_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_7_254_16&#39;)"><span class="hl_varref"><span class="mpre">loop_last</span></span></a><span class="mpre"> </span><a href="#loc_257_32_257_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_257_32_257_34&#39;)"><span class="hl_varref"><span class="mpre">x&#39;</span></span></a><span class="mpre"> </span><a href="#loc_257_35_257_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_257_35_257_37&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE[0] </span><a href="#loc_248_1_248_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_1_248_5&#39;)"><span class="mpre">last</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(1)/ Returns all characters after the head of a Stream Char, which must</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- be non-empty.</span></span><span class="mpre">
</span><a href="#loc_263_1_263_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_263_1_263_5&#39;)"><span class="mpre">tail</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_263_1_263_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_263_1_263_5&#39;)"><span class="hl_fundecl"><span class="mpre">tail</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a name="loc_263_14_263_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_263_14_263_19&#39;)"><span class="hl_vardecl"><span class="mpre">next0</span></span></a><span class="mpre"> </span><a name="loc_263_20_263_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_263_20_263_22&#39;)"><span class="hl_vardecl"><span class="mpre">s0</span></span></a><span class="mpre"> </span><a name="loc_263_23_263_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_263_23_263_26&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre">) = </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a href="#loc_265_7_265_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_265_7_265_11&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> (</span><a href="#loc_176_12_176_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_12_176_14&#39;)"><span class="hl_conref"><span class="mpre">C0</span></span></a><span class="mpre"> </span><a href="#loc_263_20_263_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_263_20_263_22&#39;)"><span class="hl_varref"><span class="mpre">s0</span></span></a><span class="mpre">) (</span><a href="#loc_263_23_263_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_263_23_263_26&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
    where
      </span><a name="loc_265_7_265_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_265_7_265_11&#39;)"><span class="hl_fundecl"><span class="mpre">next</span></span></a><span class="mpre"> (</span><a href="#loc_176_12_176_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_12_176_14&#39;)"><span class="hl_conref"><span class="mpre">C0</span></span></a><span class="mpre"> </span><a name="loc_265_16_265_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_265_16_265_17&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) = case </span><a href="#loc_263_14_263_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_263_14_263_19&#39;)"><span class="hl_varref"><span class="mpre">next0</span></span></a><span class="mpre"> </span><a href="#loc_265_16_265_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_265_16_265_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
                      </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">       -&gt; </span><a href="#loc_947_1_947_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_947_1_947_11&#39;)"><span class="hl_varref"><span class="mpre">emptyError</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;tail&quot;</span></span><span class="mpre">
                      </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> </span><a name="loc_267_28_267_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_28_267_30&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre">    -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> (</span><a href="#loc_176_12_176_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_12_176_14&#39;)"><span class="hl_conref"><span class="mpre">C0</span></span></a><span class="mpre"> </span><a href="#loc_267_28_267_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_28_267_30&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">)
                      </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> _ </span><a name="loc_268_31_268_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_31_268_33&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> (</span><a href="#loc_177_12_177_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_12_177_14&#39;)"><span class="hl_conref"><span class="mpre">C1</span></span></a><span class="mpre"> </span><a href="#loc_268_31_268_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_31_268_33&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">)
      </span><a href="#loc_265_7_265_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_265_7_265_11&#39;)"><span class="hl_fundecl"><span class="mpre">next</span></span></a><span class="mpre"> (</span><a href="#loc_177_12_177_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_12_177_14&#39;)"><span class="hl_conref"><span class="mpre">C1</span></span></a><span class="mpre"> </span><a name="loc_269_16_269_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_269_16_269_17&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) = case </span><a href="#loc_263_14_263_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_263_14_263_19&#39;)"><span class="hl_varref"><span class="mpre">next0</span></span></a><span class="mpre"> </span><a href="#loc_269_16_269_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_269_16_269_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
                      </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">       -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">
                      </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> </span><a name="loc_271_28_271_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_271_28_271_30&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre">    -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre">    (</span><a href="#loc_177_12_177_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_12_177_14&#39;)"><span class="hl_conref"><span class="mpre">C1</span></span></a><span class="mpre"> </span><a href="#loc_271_28_271_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_271_28_271_30&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">)
                      </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a name="loc_272_29_272_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_29_272_30&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_272_31_272_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_31_272_33&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a href="#loc_272_29_272_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_29_272_30&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> (</span><a href="#loc_177_12_177_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_12_177_14&#39;)"><span class="hl_conref"><span class="mpre">C1</span></span></a><span class="mpre"> </span><a href="#loc_272_31_272_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_31_272_33&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [0] </span><a href="#loc_263_1_263_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_263_1_263_5&#39;)"><span class="mpre">tail</span></a><span class="mpre"> #-}</span></span><span class="mpre">

data </span><span class="hl_tycondecl"><span class="mpre">Init</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> = </span><a name="loc_275_15_275_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_15_275_20&#39;)"><span class="hl_condecl"><span class="mpre">Init0</span></span></a><span class="mpre"> !</span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">
            | </span><a name="loc_276_15_276_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_15_276_20&#39;)"><span class="hl_condecl"><span class="mpre">Init1</span></span></a><span class="mpre"> {-# UNPACK #-} !</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> !</span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(1)/ Returns all but the last character of a Stream Char, which</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- must be non-empty.</span></span><span class="mpre">
</span><a href="#loc_281_1_281_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_1_281_5&#39;)"><span class="mpre">init</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_281_1_281_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_1_281_5&#39;)"><span class="hl_fundecl"><span class="mpre">init</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a name="loc_281_14_281_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_14_281_19&#39;)"><span class="hl_vardecl"><span class="mpre">next0</span></span></a><span class="mpre"> </span><a name="loc_281_20_281_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_20_281_22&#39;)"><span class="hl_vardecl"><span class="mpre">s0</span></span></a><span class="mpre"> </span><a name="loc_281_23_281_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_23_281_26&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre">) = </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a href="#loc_283_7_283_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_7_283_11&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> (</span><a href="#loc_275_15_275_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_15_275_20&#39;)"><span class="hl_conref"><span class="mpre">Init0</span></span></a><span class="mpre"> </span><a href="#loc_281_20_281_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_20_281_22&#39;)"><span class="hl_varref"><span class="mpre">s0</span></span></a><span class="mpre">) (</span><a href="#loc_281_23_281_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_23_281_26&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
    where
      </span><a name="loc_283_7_283_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_7_283_11&#39;)"><span class="hl_fundecl"><span class="mpre">next</span></span></a><span class="mpre"> (</span><a href="#loc_275_15_275_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_15_275_20&#39;)"><span class="hl_conref"><span class="mpre">Init0</span></span></a><span class="mpre"> </span><a name="loc_283_19_283_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_19_283_20&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) = case </span><a href="#loc_281_14_281_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_14_281_19&#39;)"><span class="hl_varref"><span class="mpre">next0</span></span></a><span class="mpre"> </span><a href="#loc_283_19_283_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_19_283_20&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
                         </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">       -&gt; </span><a href="#loc_947_1_947_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_947_1_947_11&#39;)"><span class="hl_varref"><span class="mpre">emptyError</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;init&quot;</span></span><span class="mpre">
                         </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> </span><a name="loc_285_31_285_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_31_285_33&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre">    -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> (</span><a href="#loc_275_15_275_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_15_275_20&#39;)"><span class="hl_conref"><span class="mpre">Init0</span></span></a><span class="mpre"> </span><a href="#loc_285_31_285_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_31_285_33&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">)
                         </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a name="loc_286_32_286_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_32_286_33&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_286_34_286_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_34_286_36&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> (</span><a href="#loc_276_15_276_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_15_276_20&#39;)"><span class="hl_conref"><span class="mpre">Init1</span></span></a><span class="mpre"> </span><a href="#loc_286_32_286_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_32_286_33&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="#loc_286_34_286_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_34_286_36&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">)
      </span><a href="#loc_283_7_283_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_7_283_11&#39;)"><span class="hl_fundecl"><span class="mpre">next</span></span></a><span class="mpre"> (</span><a href="#loc_276_15_276_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_15_276_20&#39;)"><span class="hl_conref"><span class="mpre">Init1</span></span></a><span class="mpre"> </span><a name="loc_287_19_287_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_287_19_287_20&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_287_21_287_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_287_21_287_22&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">)  = case </span><a href="#loc_281_14_281_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_14_281_19&#39;)"><span class="hl_varref"><span class="mpre">next0</span></span></a><span class="mpre"> </span><a href="#loc_287_21_287_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_287_21_287_22&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
                            </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">        -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">
                            </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> </span><a name="loc_289_34_289_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_34_289_36&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre">     -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre">    (</span><a href="#loc_276_15_276_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_15_276_20&#39;)"><span class="hl_conref"><span class="mpre">Init1</span></span></a><span class="mpre"> </span><a href="#loc_287_19_287_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_287_19_287_20&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="#loc_289_34_289_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_34_289_36&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">)
                            </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a name="loc_290_35_290_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_35_290_37&#39;)"><span class="hl_vardecl"><span class="mpre">x&#39;</span></span></a><span class="mpre"> </span><a name="loc_290_38_290_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_38_290_40&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a href="#loc_287_19_287_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_287_19_287_20&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> (</span><a href="#loc_276_15_276_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_15_276_20&#39;)"><span class="hl_conref"><span class="mpre">Init1</span></span></a><span class="mpre"> </span><a href="#loc_290_35_290_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_35_290_37&#39;)"><span class="hl_varref"><span class="mpre">x&#39;</span></span></a><span class="mpre"> </span><a href="#loc_290_38_290_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_38_290_40&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [0] </span><a href="#loc_281_1_281_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_1_281_5&#39;)"><span class="mpre">init</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(1)/ Tests whether a Stream Char is empty or not.</span></span><span class="mpre">
</span><a href="#loc_295_1_295_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_295_1_295_5&#39;)"><span class="mpre">null</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_295_1_295_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_295_1_295_5&#39;)"><span class="hl_fundecl"><span class="mpre">null</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a name="loc_295_14_295_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_295_14_295_18&#39;)"><span class="hl_vardecl"><span class="mpre">next</span></span></a><span class="mpre"> </span><a name="loc_295_19_295_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_295_19_295_21&#39;)"><span class="hl_vardecl"><span class="mpre">s0</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_len</span></span><span class="mpre">) = </span><a href="#loc_297_7_297_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_7_297_16&#39;)"><span class="hl_varref"><span class="mpre">loop_null</span></span></a><span class="mpre"> </span><a href="#loc_295_19_295_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_295_19_295_21&#39;)"><span class="hl_varref"><span class="mpre">s0</span></span></a><span class="mpre">
    where
      </span><a name="loc_297_7_297_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_7_297_16&#39;)"><span class="hl_fundecl"><span class="mpre">loop_null</span></span></a><span class="mpre"> !</span><a name="loc_297_18_297_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_18_297_19&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = case </span><a href="#loc_295_14_295_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_295_14_295_18&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_297_18_297_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_18_297_19&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
                       </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">      -&gt; </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">
                       </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> _ _ -&gt; </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
                       </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> </span><a name="loc_300_29_300_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_29_300_31&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre">   -&gt; </span><a href="#loc_297_7_297_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_7_297_16&#39;)"><span class="hl_varref"><span class="mpre">loop_null</span></span></a><span class="mpre"> </span><a href="#loc_300_29_300_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_29_300_31&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE[0] </span><a href="#loc_295_1_295_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_295_1_295_5&#39;)"><span class="mpre">null</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Returns the number of characters in a string.</span></span><span class="mpre">
</span><a href="#loc_305_1_305_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_1_305_8&#39;)"><span class="mpre">lengthI</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 304, srcSpanStartColumn = 12, srcSpanEndLine = 304, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 304, srcSpanStartColumn = 23, srcSpanEndLine = 304, srcSpanEndColumn = 25}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">Integral a =&gt;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_305_1_305_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_1_305_8&#39;)"><span class="hl_fundecl"><span class="mpre">lengthI</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a name="loc_305_17_305_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_17_305_21&#39;)"><span class="hl_vardecl"><span class="mpre">next</span></span></a><span class="mpre"> </span><a name="loc_305_22_305_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_22_305_24&#39;)"><span class="hl_vardecl"><span class="mpre">s0</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_len</span></span><span class="mpre">) = </span><a href="#loc_307_7_307_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_7_307_18&#39;)"><span class="hl_varref"><span class="mpre">loop_length</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="#loc_305_22_305_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_22_305_24&#39;)"><span class="hl_varref"><span class="mpre">s0</span></span></a><span class="mpre">
    where
      </span><a name="loc_307_7_307_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_7_307_18&#39;)"><span class="hl_fundecl"><span class="mpre">loop_length</span></span></a><span class="mpre"> !</span><a name="loc_307_20_307_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_20_307_21&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre"> </span><a name="loc_307_22_307_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_22_307_23&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">  = case </span><a href="#loc_305_17_305_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_17_305_21&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_307_22_307_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_22_307_23&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
                           </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">       -&gt; </span><a href="#loc_307_20_307_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_20_307_21&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre">
                           </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre">    </span><a name="loc_309_36_309_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_36_309_38&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_307_7_307_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_7_307_18&#39;)"><span class="hl_varref"><span class="mpre">loop_length</span></span></a><span class="mpre"> </span><a href="#loc_307_20_307_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_20_307_21&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> </span><a href="#loc_309_36_309_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_36_309_38&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">
                           </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> _ </span><a name="loc_310_36_310_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_36_310_38&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_307_7_307_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_7_307_18&#39;)"><span class="hl_varref"><span class="mpre">loop_length</span></span></a><span class="mpre"> (</span><a href="#loc_307_20_307_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_20_307_21&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><a href="#loc_310_36_310_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_36_310_38&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE[0] </span><a href="#loc_305_1_305_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_1_305_8&#39;)"><span class="mpre">lengthI</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Compares the count of characters in a string to a number.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Subject to fusion.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This function gives the same answer as comparing against the result</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- of &#39;lengthI&#39;, but can short circuit if the count of characters is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- greater than the number or if the stream can&#39;t possibly be as long</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- as the number supplied, and hence be more efficient.</span></span><span class="mpre">
</span><a href="#loc_321_1_321_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_1_321_15&#39;)"><span class="mpre">compareLengthI</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 320, srcSpanStartColumn = 19, srcSpanEndLine = 320, srcSpanEndColumn = 32}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 320, srcSpanStartColumn = 30, srcSpanEndLine = 320, srcSpanEndColumn = 32}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">Integral a =&gt;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Ordering</span></span><span class="mpre">
</span><a name="loc_321_1_321_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_1_321_15&#39;)"><span class="hl_fundecl"><span class="mpre">compareLengthI</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a name="loc_321_24_321_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_24_321_28&#39;)"><span class="hl_vardecl"><span class="mpre">next</span></span></a><span class="mpre"> </span><a name="loc_321_29_321_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_29_321_31&#39;)"><span class="hl_vardecl"><span class="mpre">s0</span></span></a><span class="mpre"> </span><a name="loc_321_32_321_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_32_321_35&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre">) </span><a name="loc_321_37_321_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_37_321_38&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> =
    case </span><a href="Data.Text.Internal.Fusion.Size.html#loc_149_1_149_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Size.html#loc_149_1_149_12&#39;)"><span class="hl_varref"><span class="mpre">compareSize</span></span></a><span class="mpre"> </span><a href="#loc_321_32_321_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_32_321_35&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_321_37_321_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_37_321_38&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">) of
      </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_323_12_323_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_12_323_13&#39;)"><span class="hl_vardecl"><span class="mpre">o</span></span></a><span class="mpre">  -&gt; </span><a href="#loc_323_12_323_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_12_323_13&#39;)"><span class="hl_varref"><span class="mpre">o</span></span></a><span class="mpre">
      </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; </span><a href="#loc_326_7_326_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_7_326_15&#39;)"><span class="hl_varref"><span class="mpre">loop_cmp</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="#loc_321_29_321_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_29_321_31&#39;)"><span class="hl_varref"><span class="mpre">s0</span></span></a><span class="mpre">
    where
      </span><a name="loc_326_7_326_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_7_326_15&#39;)"><span class="hl_fundecl"><span class="mpre">loop_cmp</span></span></a><span class="mpre"> !</span><a name="loc_326_17_326_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_17_326_18&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre"> </span><a name="loc_326_19_326_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_19_326_20&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">  = case </span><a href="#loc_321_24_321_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_24_321_28&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_326_19_326_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_19_326_20&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
                         </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">       -&gt; </span><span class="hl_varref"><span class="mpre">compare</span></span><span class="mpre"> </span><a href="#loc_326_17_326_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_17_326_18&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> </span><a href="#loc_321_37_321_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_37_321_38&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">
                         </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre">    </span><a name="loc_328_34_328_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_34_328_36&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_326_7_326_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_7_326_15&#39;)"><span class="hl_varref"><span class="mpre">loop_cmp</span></span></a><span class="mpre"> </span><a href="#loc_326_17_326_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_17_326_18&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> </span><a href="#loc_328_34_328_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_34_328_36&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">
                         </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> _ </span><a name="loc_329_34_329_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_34_329_36&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre"> | </span><a href="#loc_326_17_326_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_17_326_18&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;</span></span><span class="mpre"> </span><a href="#loc_321_37_321_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_37_321_38&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">     -&gt; </span><span class="hl_conref"><span class="mpre">GT</span></span><span class="mpre">
                                    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> -&gt; </span><a href="#loc_326_7_326_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_7_326_15&#39;)"><span class="hl_varref"><span class="mpre">loop_cmp</span></span></a><span class="mpre"> (</span><a href="#loc_326_17_326_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_17_326_18&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><a href="#loc_329_34_329_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_34_329_36&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE[0] </span><a href="#loc_321_1_321_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_1_321_15&#39;)"><span class="mpre">compareLengthI</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Indicate whether a string contains exactly one element.</span></span><span class="mpre">
</span><a href="#loc_335_1_335_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_1_335_12&#39;)"><span class="mpre">isSingleton</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_335_1_335_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_1_335_12&#39;)"><span class="hl_fundecl"><span class="mpre">isSingleton</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a name="loc_335_21_335_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_21_335_25&#39;)"><span class="hl_vardecl"><span class="mpre">next</span></span></a><span class="mpre"> </span><a name="loc_335_26_335_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_26_335_28&#39;)"><span class="hl_vardecl"><span class="mpre">s0</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_len</span></span><span class="mpre">) = </span><a href="#loc_337_7_337_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_7_337_11&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="#loc_335_26_335_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_26_335_28&#39;)"><span class="hl_varref"><span class="mpre">s0</span></span></a><span class="mpre">
    where
      </span><a name="loc_337_7_337_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_7_337_11&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> !</span><a name="loc_337_13_337_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_13_337_14&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre"> </span><a name="loc_337_15_337_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_15_337_16&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">  = case </span><a href="#loc_335_21_335_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_21_335_25&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_337_15_337_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_15_337_16&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
                     </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">            -&gt; </span><a href="#loc_337_13_337_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_13_337_14&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> (</span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">::</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">)
                     </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre">    </span><a name="loc_339_30_339_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_30_339_32&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre">      -&gt; </span><a href="#loc_337_7_337_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_7_337_11&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a href="#loc_337_13_337_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_13_337_14&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> </span><a href="#loc_339_30_339_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_30_339_32&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">
                     </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> _ </span><a name="loc_340_30_340_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_340_30_340_32&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre">
                         | </span><a href="#loc_337_13_337_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_13_337_14&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">    -&gt; </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
                         | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> -&gt; </span><a href="#loc_337_7_337_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_7_337_11&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> (</span><a href="#loc_337_13_337_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_13_337_14&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><a href="#loc_340_30_340_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_340_30_340_32&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE[0] </span><a href="#loc_335_1_335_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_1_335_12&#39;)"><span class="mpre">isSingleton</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- ----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * Stream transformations</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;map&#39; @f @xs is the Stream Char obtained by applying @f@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- to each element of @xs@.</span></span><span class="mpre">
</span><a href="#loc_351_1_351_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_1_351_4&#39;)"><span class="mpre">map</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_351_1_351_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_1_351_4&#39;)"><span class="hl_fundecl"><span class="mpre">map</span></span></a><span class="mpre"> </span><a name="loc_351_5_351_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_5_351_6&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a name="loc_351_15_351_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_15_351_20&#39;)"><span class="hl_vardecl"><span class="mpre">next0</span></span></a><span class="mpre"> </span><a name="loc_351_21_351_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_21_351_23&#39;)"><span class="hl_vardecl"><span class="mpre">s0</span></span></a><span class="mpre"> </span><a name="loc_351_24_351_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_24_351_27&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre">) = </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><a href="#loc_353_7_353_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_7_353_11&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_351_21_351_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_21_351_23&#39;)"><span class="hl_varref"><span class="mpre">s0</span></span></a><span class="mpre"> </span><a href="#loc_351_24_351_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_24_351_27&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">
    where
      </span><a name="loc_353_7_353_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_7_353_11&#39;)"><span class="hl_fundecl"><span class="mpre">next</span></span></a><span class="mpre"> !</span><a name="loc_353_13_353_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_13_353_14&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = case </span><a href="#loc_351_15_351_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_15_351_20&#39;)"><span class="hl_varref"><span class="mpre">next0</span></span></a><span class="mpre"> </span><a href="#loc_353_13_353_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_13_353_14&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
                  </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">       -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre">
                  </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> </span><a name="loc_355_24_355_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_355_24_355_26&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre">    -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> </span><a href="#loc_355_24_355_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_355_24_355_26&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">
                  </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> </span><a name="loc_356_25_356_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_25_356_26&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_356_27_356_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_27_356_29&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Yield</span></span></a><span class="mpre"> (</span><a href="#loc_351_5_351_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_5_351_6&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_356_25_356_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_25_356_26&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) </span><a href="#loc_356_27_356_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_27_356_29&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [0] </span><a href="#loc_351_1_351_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_1_351_4&#39;)"><span class="mpre">map</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-#
  RULES &quot;STREAM map/map fusion&quot; forall f g s.
    </span></span><span class="mpre"> map f (map g s) = map (\x -&gt; f (g x)) s
 #-}

data</span><span class="hl_tycondecl"><span class="mpre"> </span></span><span class="mpre">I</span><span class="hl_tyvar"><span class="mpre"> </span></span><span class="mpre">s =</span><a name="loc_363_12_363_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_363_12_363_14&#39;)"><span class="hl_condecl"><span class="mpre"> I</span></span></a><a name="loc_364_12_364_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_364_12_364_14&#39;)"><span class="hl_condecl"><span class="mpre">1 </span></span></a><span class="mpre">!</span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="hl_tyvar"><span class="mpre">
</span></span><span class="mpre">         | I</span><a name="loc_365_12_365_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_12_365_14&#39;)"><span class="hl_condecl"><span class="mpre">2 </span></span></a><span class="mpre">!s</span><span class="hl_tyvar"><span class="mpre"> </span></span><span class="hl_tyconref"><span class="mpre">{-# </span></span><span class="mpre">UNPACK #-} !Char
         | I3 !s

</span><span class="hl_comment"><span class="mpre">-</span><span class="hl_comment"><span class="mpre">- | /O(n)/ Take a character and p</span></span><span class="mpre">lace it between each of the</span></span><span class="mpre">
-</span><a href="#loc_370_1_370_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_1_370_12&#39;)"><span class="mpre">- character</span></a><span class="mpre">s of</span><span class="hl_tyconref"><span class="mpre"> a &#39;</span></span><span class="mpre">Stre</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">am Cha</span></span></a><span class="mpre">r</span><span class="hl_tyconref"><span class="mpre">&#39;.
i</span></span><a name="loc_370_1_370_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_1_370_12&#39;)"><span class="hl_fundecl"><span class="mpre">nter</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">sperse</span></span></a><span class="mpre"> </span></span></a><span class="hl_tyconref"><span class="mpre">:</span><a name="loc_370_13_370_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_13_370_14&#39;)"><span class="hl_vardecl"><span class="mpre">:</span></span></a><span class="mpre"> C</span></span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">har -&gt;</span></span></a><span class="mpre"> </span><a name="loc_370_23_370_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_23_370_28&#39;)"><span class="hl_vardecl"><span class="mpre">Strea</span></span></a><span class="mpre">m</span><a name="loc_370_29_370_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_29_370_31&#39;)"><span class="hl_vardecl"><span class="mpre"> C</span></span></a><span class="mpre">h</span><a name="loc_370_32_370_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_32_370_35&#39;)"><span class="hl_vardecl"><span class="mpre">ar </span></span></a><span class="mpre">-&gt; S</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">tream </span></span></a><span class="mpre">C</span><a href="#loc_372_7_372_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_7_372_11&#39;)"><span class="hl_varref"><span class="mpre">har
</span></span></a><span class="mpre">in</span><a href="#loc_363_12_363_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_363_12_363_14&#39;)"><span class="hl_conref"><span class="mpre">te</span></span></a><span class="mpre">r</span><a href="#loc_370_29_370_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_29_370_31&#39;)"><span class="hl_varref"><span class="mpre">sp</span></span></a><span class="mpre">er</span><a href="#loc_370_32_370_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_32_370_35&#39;)"><span class="hl_varref"><span class="mpre">se </span></span></a><span class="mpre">c (Stream next0 s0 len) = Stream next (I1 s0) len
    whe</span><a name="loc_372_7_372_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_7_372_11&#39;)"><span class="hl_fundecl"><span class="mpre">re
 </span></span></a><span class="mpre">  </span><a href="#loc_363_12_363_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_363_12_363_14&#39;)"><span class="hl_conref"><span class="mpre">  </span></span></a><span class="mpre"> </span><a name="loc_372_16_372_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_16_372_17&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre">ex</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">t (I</span></span></a><span class="mpre">1 s</span><a href="#loc_370_23_370_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_23_370_28&#39;)"><span class="hl_varref"><span class="mpre">) = c</span></span></a><span class="mpre">a</span><a href="#loc_372_16_372_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_16_372_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">e ne</span></span></a><span class="mpre">xt0 s of
        D</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">one </span></span></a><span class="mpre"> </span><a name="loc_374_14_374_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_374_14_374_16&#39;)"><span class="hl_vardecl"><span class="mpre">  </span></span></a><span class="mpre">   -&gt; D</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">one
</span></span></a><span class="mpre">  </span><a href="#loc_363_12_363_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_363_12_363_14&#39;)"><span class="hl_conref"><span class="mpre">  </span></span></a><span class="mpre"> </span><a href="#loc_374_14_374_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_374_14_374_16&#39;)"><span class="hl_varref"><span class="mpre">  </span></span></a><span class="mpre"> S</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">kip s</span></span></a><span class="mpre">&#39;</span><a name="loc_375_15_375_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_375_15_375_16&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre"> </span><a name="loc_375_17_375_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_375_17_375_19&#39;)"><span class="hl_vardecl"><span class="mpre">  </span></span></a><span class="mpre">-&gt; S</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">kip </span></span></a><span class="mpre">(I</span><a href="#loc_364_12_364_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_364_12_364_14&#39;)"><span class="hl_conref"><span class="mpre">1 </span></span></a><span class="mpre">s</span><a href="#loc_375_17_375_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_375_17_375_19&#39;)"><span class="hl_varref"><span class="mpre">&#39;)</span></span></a><span class="mpre">
</span><a href="#loc_375_15_375_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_375_15_375_16&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">      </span><a href="#loc_372_7_372_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_7_372_11&#39;)"><span class="hl_fundecl"><span class="mpre"> Yie</span></span></a><span class="mpre">ld</span><a href="#loc_364_12_364_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_364_12_364_14&#39;)"><span class="hl_conref"><span class="mpre"> x</span></span></a><span class="mpre"> </span><a name="loc_376_16_376_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_16_376_17&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">&#39;</span><a name="loc_376_18_376_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_18_376_19&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">-&gt; Sk</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">ip (I</span></span></a><span class="mpre">2</span><a href="#loc_376_18_376_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_18_376_19&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">s&#39;</span><a href="#loc_365_12_365_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_12_365_14&#39;)"><span class="hl_conref"><span class="mpre"> x</span></span></a><span class="mpre">)</span><a href="#loc_376_16_376_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_16_376_17&#39;)"><span class="hl_varref"><span class="mpre">
</span></span></a><span class="mpre">      n</span><a href="#loc_372_7_372_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_7_372_11&#39;)"><span class="hl_fundecl"><span class="mpre">ext </span></span></a><span class="mpre">(I</span><a href="#loc_365_12_365_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_12_365_14&#39;)"><span class="hl_conref"><span class="mpre">2 </span></span></a><span class="mpre">s</span><a name="loc_377_16_377_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_377_16_377_17&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">x)  = Yie</span><a href="#loc_370_23_370_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_23_370_28&#39;)"><span class="hl_varref"><span class="mpre">ld x </span></span></a><span class="mpre">(</span><a href="#loc_377_16_377_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_377_16_377_17&#39;)"><span class="hl_varref"><span class="mpre">I</span></span></a><span class="mpre">3 s)
      nex</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">t (I</span></span></a><span class="mpre">3 s) = cas</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">e ne</span></span></a><span class="mpre">xt0 s of
        D</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">one </span></span></a><span class="mpre"> </span><a name="loc_379_14_379_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_14_379_16&#39;)"><span class="hl_vardecl"><span class="mpre">  </span></span></a><span class="mpre">   -&gt; D</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">one
</span></span></a><span class="mpre">     </span><a href="#loc_365_12_365_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_12_365_14&#39;)"><span class="hl_conref"><span class="mpre">  </span></span></a><span class="mpre"> </span><a href="#loc_379_14_379_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_14_379_16&#39;)"><span class="hl_varref"><span class="mpre">Sk</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">ip s&#39;</span></span></a><span class="mpre"> </span><a name="loc_380_15_380_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_380_15_380_16&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre"> </span><a name="loc_380_17_380_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_380_17_380_19&#39;)"><span class="hl_vardecl"><span class="mpre"> -</span></span></a><span class="mpre">&gt; Sk</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">ip   </span></span></a><span class="mpre"> </span><a href="#loc_370_13_370_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_13_370_14&#39;)"><span class="hl_varref"><span class="mpre">(</span></span></a><span class="mpre">I3</span><a href="#loc_364_12_364_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_364_12_364_14&#39;)"><span class="hl_conref"><span class="mpre"> s</span></span></a><span class="mpre">&#39;</span><a href="#loc_380_17_380_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_380_17_380_19&#39;)"><span class="hl_varref"><span class="mpre">)
</span></span></a><span class="mpre"> </span><a href="#loc_380_15_380_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_380_15_380_16&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="hl_pragma"><span class="mpre">      Yield x s</span><a href="#loc_370_1_370_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_1_370_12&#39;)"><span class="mpre">&#39; -&gt; Yield </span></a><span class="mpre">c (I</span></span><span class="mpre">2 s&#39; x)
{-# INLINE [0] intersperse #-}

-</span><span class="hl_comment"><span class="mpre">-</span><span class="hl_comment"><span class="mpre"> -----------------------------</span></span><span class="mpre">-----------------------------------------------
</span></span><span class="mpre">-- ** Case conversions (folds)

-</span><span class="hl_comment"><span class="mpre">-</span><span class="hl_comment"><span class="mpre"> $</span></span><span class="mpre">case
</span></span><span class="mpre">--</span><span class="hl_comment"><span class="mpre">
-- With Unicode text, it is incorrect to use combinators like @ma</span></span><span class="hl_comment"><span class="mpre">p
-- toUpper@ to case convert each character of a string individuall</span></span><span class="hl_comment"><span class="mpre">y.
-- Instead, use the whole-string case conversion functions from t</span></span><span class="mpre">h</span><span class="hl_comment"><span class="mpre">is
-- module.  For correctness in different writing systems, th</span></span><span class="mpre">ese
--</span><span class="hl_comment"><span class="mpre"> functions may map one input character to two or three output
-</span></span><span class="mpre">-</span><span class="hl_comment"><span class="mpre"> characters.

</span></span><span class="mpre">caseConvert :: (forall s. Char -&gt; s -&gt; Step (CC s) Char)
        </span><a href="#loc_397_1_397_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_1_397_12&#39;)"><span class="mpre">    -&gt; Stre</span></a><span class="mpre">am Ch</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">ar -&gt; </span></span></a><span class="mpre">S</span><span class="hl_tyconref"><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">rea</span></span><span class="hl_tyconref"><span class="mpre">m Ch</span></span><span class="mpre">a</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">r
c</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">se</span></span></a><span class="mpre">C</span><span class="hl_tyconref"><span class="mpre">onve</span></span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_6_59_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_6_59_10&#39;)"><span class="hl_tyconref"><span class="mpre">rt r</span></span></a><span class="mpre">em</span><a href="Data.Text.Internal.Fusion.Types.html#loc_37_6_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_37_6_37_8&#39;)"><span class="hl_tyconref"><span class="mpre">ap</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">(</span></span><span class="mpre">St</span><span class="hl_tyconref"><span class="mpre">ream</span></span><span class="mpre"> ne</span><a name="loc_397_1_397_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_1_397_12&#39;)"><span class="hl_fundecl"><span class="mpre">xt0 s0 len)</span></span></a><span class="mpre"> </span><a name="loc_397_13_397_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_13_397_18&#39;)"><span class="hl_vardecl"><span class="mpre">= Str</span></span></a><span class="mpre">ea</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">m next</span></span></a><span class="mpre"> </span><a name="loc_397_27_397_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_27_397_32&#39;)"><span class="hl_vardecl"><span class="mpre">(CC s</span></span></a><span class="mpre">0</span><a name="loc_397_33_397_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_33_397_35&#39;)"><span class="hl_vardecl"><span class="mpre"> &#39;</span></span></a><span class="mpre">\</span><a name="loc_397_36_397_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_36_397_39&#39;)"><span class="hl_vardecl"><span class="mpre">0&#39; </span></span></a><span class="mpre">&#39;\0&#39;</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">) len
</span></span></a><span class="mpre"> </span><a href="#loc_399_5_399_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_5_399_9&#39;)"><span class="hl_varref"><span class="mpre"> whe</span></span></a><span class="mpre">re</span><a href="Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15&#39;)"><span class="hl_conref"><span class="mpre">
 </span></span></a><span class="mpre"> </span><a href="#loc_397_33_397_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_33_397_35&#39;)"><span class="hl_varref"><span class="mpre">  </span></span></a><span class="mpre">n</span><span class="hl_char"><span class="mpre">ext </span></span><span class="mpre">(</span><span class="hl_char"><span class="mpre">CC s</span></span><span class="mpre"> &#39;</span><a href="#loc_397_36_397_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_36_397_39&#39;)"><span class="hl_varref"><span class="mpre">\0&#39;</span></span></a><span class="mpre"> _) =
        case next0 s of
          Done   </span><a name="loc_399_5_399_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_5_399_9&#39;)"><span class="hl_fundecl"><span class="mpre">    </span></span></a><span class="mpre">-&gt;</span><a href="Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15&#39;)"><span class="hl_conref"><span class="mpre"> D</span></span></a><span class="mpre">o</span><a name="loc_399_14_399_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_14_399_15&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre">e</span><span class="hl_char"><span class="mpre">
   </span></span><span class="mpre">  </span><a href="#loc_397_27_397_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_27_397_32&#39;)"><span class="hl_varref"><span class="mpre">     </span></span></a><span class="mpre">S</span><a href="#loc_399_14_399_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_14_399_15&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">ip s&#39;    -&gt; Ski</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">p (C</span></span></a><span class="mpre">C s&#39; &#39;\0&#39; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">&#39;\0&#39;</span></span></a><span class="mpre">)
    </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">    </span></span></a><span class="mpre"> </span><a name="loc_402_16_402_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_402_16_402_18&#39;)"><span class="hl_vardecl"><span class="mpre"> Y</span></span></a><span class="mpre">ield c </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">s&#39; -</span></span></a><span class="mpre">&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15&#39;)"><span class="hl_conref"><span class="mpre">re</span></span></a><span class="mpre">m</span><a href="#loc_402_16_402_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_402_16_402_18&#39;)"><span class="hl_varref"><span class="mpre">ap</span></span></a><span class="mpre"> </span><span class="hl_char"><span class="mpre">c s&#39;</span></span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">
    </span></span></a><span class="hl_char"><span class="mpre">next</span></span><a name="loc_403_17_403_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_17_403_18&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">(</span><a name="loc_403_19_403_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_19_403_21&#39;)"><span class="hl_vardecl"><span class="mpre">CC</span></span></a><span class="mpre"> s a</span><a href="#loc_397_13_397_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_13_397_18&#39;)"><span class="hl_varref"><span class="mpre"> b)  </span></span></a><span class="mpre">=</span><a href="#loc_403_17_403_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_17_403_18&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre"> </span><a href="#loc_403_19_403_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_19_403_21&#39;)"><span class="hl_varref"><span class="mpre">Yi</span></span></a><span class="mpre">eld a (CC s b &#39;\0</span><a href="#loc_399_5_399_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_5_399_9&#39;)"><span class="hl_fundecl"><span class="mpre">&#39;)

</span></span></a><span class="mpre">--</span><a href="Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15&#39;)"><span class="hl_conref"><span class="mpre"> |</span></span></a><span class="mpre"> </span><a name="loc_404_14_404_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_14_404_15&#39;)"><span class="hl_vardecl"><span class="mpre">/</span></span></a><span class="mpre">O</span><a name="loc_404_16_404_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_16_404_17&#39;)"><span class="hl_vardecl"><span class="mpre">(</span></span></a><span class="mpre">n</span><a name="loc_404_18_404_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_18_404_19&#39;)"><span class="hl_vardecl"><span class="mpre">)</span></span></a><span class="mpre">/ Conv</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">ert a</span></span></a><span class="mpre"> </span><a href="#loc_404_16_404_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_16_404_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">tr</span><a href="Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15&#39;)"><span class="hl_conref"><span class="mpre">in</span></span></a><span class="mpre">g</span><a href="#loc_404_14_404_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_14_404_15&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">t</span><a href="#loc_404_18_404_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_18_404_19&#39;)"><span class="hl_varref"><span class="mpre">o</span></span></a><span class="mpre"> </span><span class="hl_char"><span class="mpre">fold</span></span><span class="mpre">ed case.  This function is mainly
-- </span><span class="hl_comment"><span class="mpre">u</span><span class="hl_comment"><span class="mpre">seful for performing caseless (or case insensitive) string
-- </span></span><span class="mpre">compar</span></span><span class="mpre">is</span><span class="hl_comment"><span class="mpre">ons.
--
-- A st</span></span><span class="mpre">ring @x@ is a caseless match for a string @y@ if</span><span class="hl_comment"><span class="mpre"> a</span></span><span class="mpre">nd only if:
--</span><span class="hl_comment"><span class="mpre">
--</span><span class="hl_comment"><span class="mpre"> @</span></span><span class="mpre">toCaseFold x == toCaseFold y@
--
-- The result string may be lo</span></span><span class="mpre">nger</span><span class="hl_comment"><span class="mpre"> th</span><span class="hl_comment"><span class="mpre">an</span></span><span class="mpre"> the input string, and may
-</span></span><span class="mpre">- di</span><span class="hl_comment"><span class="mpre">ffer from applying &#39;toLower&#39; to the input string.  For instance,
</span></span><span class="hl_comment"><span class="mpre">-- the Armenian small ligature men now (U+FB13) is case folded to the</span></span><span class="hl_comment"><span class="mpre">
-- bigram men now (U+0574 U+0576), while the micro sign (U+00B5) is
</span></span><span class="mpre">-</span><span class="hl_comment"><span class="mpre">- case folded to the Greek small letter letter mu (U+03BC) instead </span></span><span class="mpre">of
</span><span class="hl_comment"><span class="mpre">-- itself.
toCaseFold :: Stream Char -&gt; Stream Char
toCaseFold = caseC</span></span><span class="hl_comment"><span class="mpre">onvert fol</span></span><span class="mpre">dMapping
{-# INLINE [0] toCaseFold #-}

-- | /O(n)/ Convert a</span><a href="#loc_421_1_421_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_421_1_421_11&#39;)"><span class="mpre"> string to</span></a><span class="mpre"> </span><a name="loc_421_1_421_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_421_1_421_11&#39;)"><span class="hl_vardecl"><span class="mpre">upp</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">er cas</span></span></a><span class="mpre">e</span></span></a><span class="hl_tyconref"><span class="mpre">, us</span></span><a href="#loc_397_1_397_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_1_397_12&#39;)"><span class="hl_varref"><span class="mpre">ing s</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">imple </span></span></a></span></a><span class="mpre">c</span><a href="Data.Text.Internal.Fusion.CaseMapping.html#loc_327_1_327_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.CaseMapping.html#loc_327_1_327_12&#39;)"><span class="hl_varref"><span class="hl_tyconref"><span class="mpre">ase
</span></span><span class="mpre">-- conv</span></span></a><span class="mpre">ersio</span><span class="hl_pragma"><span class="mpre">n.  The result </span><a href="#loc_421_1_421_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_421_1_421_11&#39;)"><span class="mpre">string may</span></a><span class="mpre"> be </span></span><span class="mpre">longer than the input string.
-- For i</span><span class="hl_comment"><span class="mpre">nstance, the German eszett (U+00DF) maps to the two-letter
--</span></span><span class="hl_comment"><span class="mpre"> sequence SS.
toUpper :: Stream Char -&gt; Stream Char
toUpper = caseConv</span></span><span class="hl_comment"><span class="mpre">ert upperMapping
{-# INLINE [0] toUpper #-}

-- | /O(n)/ Convert a</span></span><span class="mpre"> stri</span><span class="hl_comment"><span class="mpre">ng to lower cas</span></span><span class="mpre">e, using simple case
-- conversion.  The result stri</span><a href="#loc_429_1_429_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_429_1_429_8&#39;)"><span class="mpre">ng may </span></a><span class="mpre">be l</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">onger </span></span></a><a name="loc_429_1_429_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_429_1_429_8&#39;)"><span class="hl_vardecl"><span class="mpre">th</span><span class="hl_tyconref"><span class="mpre">an t</span></span><span class="mpre">h</span></span></a><span class="mpre">e i</span><a href="#loc_397_1_397_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_1_397_12&#39;)"><span class="hl_varref"><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">nput s</span></span></a><span class="mpre">t</span><span class="hl_tyconref"><span class="mpre">ring</span></span></span></a><span class="mpre">.</span><a href="Data.Text.Internal.Fusion.CaseMapping.html#loc_16_1_16_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.CaseMapping.html#loc_16_1_16_13&#39;)"><span class="hl_varref"><span class="mpre">
-- For inst</span></span></a><span class="mpre">ance</span><span class="hl_pragma"><span class="mpre">, the Latin cap</span><a href="#loc_429_1_429_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_429_1_429_8&#39;)"><span class="mpre">ital le</span></a><span class="mpre">tter</span></span><span class="mpre"> I with dot above (U+0130)
-- maps t</span><span class="hl_comment"><span class="mpre">o the sequence Latin small letter i (U+0069) followed by
-- c</span></span><span class="hl_comment"><span class="mpre">ombining dot above (U+0307).
toLower :: Stream Char -&gt; Stream Char
toL</span></span><span class="hl_comment"><span class="mpre">ower = caseConvert lowerMapping
{-# INLINE [0] toLower #-}

-- | /O</span></span><span class="mpre">(n)/</span><span class="hl_comment"><span class="mpre"> Convert a string to title case, using simple case
-- conversion.</span></span><span class="mpre">
--</span><span class="hl_comment"><span class="mpre">
-- The first letter of the inpu</span></span><span class="mpre">t is converted to title case, as i</span><a href="#loc_438_1_438_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_1_438_8&#39;)"><span class="mpre">s
-- ev</span></a><span class="mpre">ery </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">subseq</span></span></a><span class="mpre">u</span><span class="hl_tyconref"><span class="mpre">ent </span></span><span class="mpre">lett</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">er tha</span></span></a><span class="mpre">t</span><a name="loc_438_1_438_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_1_438_8&#39;)"><span class="hl_vardecl"><span class="hl_tyconref"><span class="mpre"> imm</span></span><span class="mpre">edi</span></span></a><span class="mpre">ate</span><a href="#loc_397_1_397_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_1_397_12&#39;)"><span class="hl_varref"><span class="mpre">ly follows </span></span></a><span class="mpre">a</span><a href="Data.Text.Internal.Fusion.CaseMapping.html#loc_223_1_223_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.CaseMapping.html#loc_223_1_223_13&#39;)"><span class="hl_varref"><span class="mpre"> non-letter.</span></span></a><span class="mpre">
-- </span><span class="hl_pragma"><span class="mpre">Every letter th</span><a href="#loc_438_1_438_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_1_438_8&#39;)"><span class="mpre">at imme</span></a><span class="mpre">diat</span></span><span class="mpre">ely follows another letter is conver</span><span class="hl_comment"><span class="mpre">t</span><span class="hl_comment"><span class="mpre">ed
-- to lower</span></span><span class="mpre"> case.
--
-- The result string may be longer t</span></span><span class="mpre">ha</span><span class="hl_comment"><span class="mpre">n </span></span><span class="mpre">the input str</span><span class="hl_comment"><span class="mpre">ing. For example,
-- the Latin small ligature &amp;#xfb02; (U+FB02) is</span></span><span class="hl_comment"><span class="mpre"> converted to the
-- sequence Latin capital letter F (U+0046) fol</span></span><span class="mpre">lo</span><span class="hl_comment"><span class="mpre">wed by Latin small
-- letter l (U+006C).
--
-- /Note/: this function</span></span><span class="hl_comment"><span class="mpre"> does not take la</span></span><span class="mpre">nguage or culture specific
-- rules into account. Fo</span><span class="hl_comment"><span class="mpre">r </span></span><span class="mpre">instance, in Eng</span><span class="hl_comment"><span class="mpre">lis</span><span class="hl_comment"><span class="mpre">h, different style
-- guides disagree on whether the book name \&quot;</span></span><span class="mpre">Th</span></span><span class="mpre">e Hi</span><span class="hl_comment"><span class="mpre">ll of the Red
-- Fox\&quot; is correctly title cased&amp;#x2014;but this fun</span></span><span class="hl_comment"><span class="mpre">ction will
-- capital</span></span><span class="mpre">ize /every/ word.
toTitle :: Stream Char -&gt; Str</span><span class="hl_comment"><span class="mpre">ea</span></span><span class="mpre">m Char
toTitle (Stre</span><span class="hl_comment"><span class="mpre">am </span><span class="hl_comment"><span class="mpre">next0 s0 len) = Stream next (CC (False :*: s0) &#39;\0&#39; &#39;\0&#39;) len
  </span></span></span><span class="mpre">wher</span><span class="hl_comment"><span class="mpre">e
    next (CC (letter :*: s) &#39;\0&#39; _) =
      case next0 s of
   </span></span><span class="hl_comment"><span class="mpre">     Done           -&gt; Done
        Skip s&#39;        -&gt; Skip (CC </span></span><span class="mpre">(le</span><span class="hl_comment"><span class="mpre">tter :*: s&#39;) &#39;\0&#39; &#39;\0&#39;)
   </span></span><span class="mpre">     Yield c s&#39;
          | letter&#39;  </span><a href="#loc_460_1_460_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_1_460_8&#39;)"><span class="mpre">  -&gt; if</span></a><span class="mpre"> let</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">ter
  </span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">    </span></span><span class="mpre">    </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">      </span></span></a><a name="loc_460_1_460_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_1_460_8&#39;)"><span class="hl_fundecl"><span class="mpre">       </span></span></a><span class="hl_tyconref"><span class="mpre">  th</span></span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">en low</span></span></a><span class="mpre">e</span><a name="loc_460_17_460_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_17_460_22&#39;)"><span class="hl_vardecl"><span class="mpre">rMapp</span></span></a><span class="mpre">i</span><a name="loc_460_23_460_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_23_460_25&#39;)"><span class="hl_vardecl"><span class="mpre">ng</span></span></a><span class="mpre"> </span><a name="loc_460_26_460_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_26_460_29&#39;)"><span class="hl_vardecl"><span class="mpre">c (</span></span></a><span class="mpre">lett</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">er&#39; :*</span></span></a><span class="mpre">:</span><a href="#loc_462_5_462_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_462_5_462_9&#39;)"><span class="hl_varref"><span class="mpre"> s&#39;)</span></span></a><span class="mpre">
 </span><a href="Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15&#39;)"><span class="hl_conref"><span class="mpre">  </span></span></a><span class="mpre">  </span><span class="hl_conref"><span class="mpre">     </span></span><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">   </span></span></a><span class="mpre"> </span><a href="#loc_460_23_460_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_23_460_25&#39;)"><span class="hl_varref"><span class="mpre">  </span></span></a><span class="mpre">  </span><span class="hl_char"><span class="mpre">    </span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">  el</span></span><span class="mpre">se</span><a href="#loc_460_26_460_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_26_460_29&#39;)"><span class="hl_varref"><span class="mpre"> ti</span></span></a><span class="mpre">tleMapping c (letter&#39; :*: s&#39;)
          | o</span><a name="loc_462_5_462_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_462_5_462_9&#39;)"><span class="hl_fundecl"><span class="mpre">ther</span></span></a><span class="mpre">wi</span><a href="Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15&#39;)"><span class="hl_conref"><span class="mpre">se</span></span></a><span class="mpre">  </span><a name="loc_462_15_462_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_462_15_462_21&#39;)"><span class="hl_vardecl"><span class="mpre">-&gt; Yie</span></span></a><a href="#loc_460_17_460_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_17_460_22&#39;)"><span class="hl_varref"><span class="mpre">ld</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre"> c </span></span></a></span></a><span class="mpre">(</span><a href="#loc_462_26_462_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_462_26_462_27&#39;)"><a name="loc_462_26_462_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_462_26_462_27&#39;)"><span class="hl_vardecl"><span class="hl_varref"><span class="mpre">C</span></span></span></a></a><span class="mpre">C </span><span class="hl_char"><span class="mpre">(let</span></span><span class="mpre">ter&#39; :*: s&#39;) &#39;\0&#39; &#39;\0&#39;</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">)
  </span></span></a><span class="mpre">        where </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">lett</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">er&#39; </span></span></a><span class="mpre">=</span><a name="loc_465_14_465_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_465_14_465_16&#39;)"><span class="hl_vardecl"><span class="mpre"> i</span></span></a><span class="mpre">sLetter c
 </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">   n</span></span></a><span class="mpre">ex</span><a href="Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15&#39;)"><span class="hl_conref"><span class="mpre">t </span></span></a><span class="mpre">(C</span><a href="#loc_462_15_462_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_462_15_462_21&#39;)"><span class="hl_varref"><span class="mpre">C s a </span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">b)   </span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">  </span><a name="loc_466_15_466_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_15_466_16&#39;)"><span class="hl_vardecl"><span class="mpre">=</span></span></a></span></a><span class="mpre"> </span><a href="#loc_465_14_465_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_465_14_465_16&#39;)"><a name="loc_466_17_466_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_17_466_19&#39;)"><span class="hl_varref"><span class="hl_vardecl"><span class="mpre">Yi</span></span></span></a></a><span class="mpre">el</span><span class="hl_char"><span class="mpre">d a </span></span><span class="mpre">(</span><span class="hl_char"><span class="mpre">CC s</span></span><span class="mpre"> b &#39;\0&#39;)
{-# INLINE [0] toTitle #-}

justifyL</span><a href="#loc_471_17_471_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_471_17_471_24&#39;)"><span class="hl_varref"><span class="mpre">eftI ::</span></span></a><span class="mpre"> Integral </span><a href="#loc_462_15_462_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_462_15_462_21&#39;)"><span class="hl_varref"><span class="mpre">a =&gt; a</span></span></a><span class="mpre"> -&gt; Char -&gt; Str</span><a href="Data.Text.Internal.Fusion.CaseMapping.html#loc_223_1_223_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.CaseMapping.html#loc_223_1_223_13&#39;)"><span class="hl_varref"><span class="mpre">eam Char -&gt; </span></span></a><span class="mpre">S</span><a href="#loc_466_15_466_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_15_466_16&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">re</span><a href="#loc_471_17_471_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_471_17_471_24&#39;)"><span class="hl_varref"><span class="mpre">am Char</span></span></a><span class="mpre">
</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">jus</span></span></a><span class="mpre">t</span><a href="#loc_466_17_466_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_17_466_19&#39;)"><span class="hl_varref"><span class="mpre">if</span></span></a><span class="mpre">yLeftI</span><a href="Data.Text.Internal.Fusion.CaseMapping.html#loc_228_1_228_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.CaseMapping.html#loc_228_1_228_13&#39;)"><span class="hl_varref"><span class="mpre"> k c (Stream</span></span></a><span class="mpre"> </span><a href="#loc_466_15_466_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_15_466_16&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">ex</span><a href="#loc_471_17_471_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_471_17_471_24&#39;)"><span class="hl_varref"><span class="mpre">t0 s0 l</span></span></a><span class="mpre">e</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">n) </span></span></a><span class="mpre">=</span><a href="#loc_466_17_466_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_17_466_19&#39;)"><span class="hl_varref"><span class="mpre">
 </span></span></a><span class="mpre">   Stream next</span><span class="hl_varref"><span class="mpre"> (s0 :*: </span></span><span class="mpre">S1 :*</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">: 0) </span></span></a><span class="mpre">(</span><a href="#loc_466_15_466_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_15_466_16&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">ar</span><a href="Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15&#39;)"><span class="hl_conref"><span class="mpre">ge</span></span></a><span class="mpre">r </span><a href="#loc_471_17_471_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_471_17_471_24&#39;)"><span class="hl_varref"><span class="mpre">(fromIn</span></span></a><span class="mpre">t</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">egr</span></span></a><span class="mpre">a</span><a href="#loc_466_17_466_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_17_466_19&#39;)"><span class="hl_varref"><span class="mpre">l </span></span></a><span class="mpre">k)</span><span class="hl_char"><span class="mpre"> len</span></span><span class="mpre">)</span><span class="hl_char"><span class="mpre">
  w</span></span><span class="mpre">here
    next (</span><a name="loc_471_17_471_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_471_17_471_24&#39;)"><span class="hl_vardecl"><span class="mpre">s :*: S</span></span></a><span class="mpre">1 :</span><a href="Data.Char.html#loc_122_1_122_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Char.html#loc_122_1_122_9&#39;)"><span class="hl_varref"><span class="mpre">*: n) =
</span></span></a><span class="mpre"> </span><a href="#loc_466_15_466_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_15_466_16&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">      case next0 s of
          Do</span><a href="#loc_462_5_462_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_462_5_462_9&#39;)"><span class="hl_fundecl"><span class="mpre">ne  </span></span></a><span class="mpre">  </span><a href="Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15&#39;)"><span class="hl_conref"><span class="mpre">  </span></span></a><span class="mpre"> </span><a name="loc_472_14_472_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_472_14_472_15&#39;)"><span class="hl_vardecl"><span class="mpre">-</span></span></a><span class="mpre">&gt;</span><a name="loc_472_16_472_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_472_16_472_17&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">n</span><a name="loc_472_18_472_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_472_18_472_19&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre">xt (s :*</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">: S2 </span></span></a><span class="mpre">:</span><a href="#loc_472_16_472_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_472_16_472_17&#39;)"><span class="hl_varref"><span class="mpre">*</span></span></a><span class="mpre">: </span><a href="Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_37_13_37_15&#39;)"><span class="hl_conref"><span class="mpre">n)</span></span></a><span class="hl_pragma"><span class="mpre">
</span><a href="#loc_472_14_472_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_472_14_472_15&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre"> </span><a href="#loc_472_18_472_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_472_18_472_19&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre"> </span><span class="hl_char"><span class="mpre">    </span></span><span class="mpre">  Skip</span><a href="#loc_460_1_460_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_1_460_8&#39;)"><span class="mpre"> s&#39;    </span></a><span class="mpre">-&gt; S</span></span><span class="mpre">kip (s&#39; :*: S1 :*: n)
          Yield x s&#39; -&gt; Yie</span><a href="#loc_476_1_476_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_1_476_13&#39;)"><span class="mpre">ld x (s&#39; :*:</span></a><a name="loc_476_1_476_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_1_476_13&#39;)"><span class="hl_fundecl"><span class="mpre"> S1 :*: n+1)</span></span></a><span class="mpre">
</span><a name="loc_476_14_476_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_14_476_15&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre"> </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 475, srcSpanStartColumn = 17, srcSpanEndLine = 475, srcSpanEndColumn = 30}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 475, srcSpanStartColumn = 28, srcSpanEndLine = 475, srcSpanEndColumn = 30}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><a name="loc_476_16_476_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_16_476_17&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre"> n</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">ext (s</span></span></a><span class="mpre"> :*:</span></span><a name="loc_476_26_476_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_26_476_31&#39;)"><span class="hl_vardecl"><span class="mpre"> S2 </span><span class="hl_tyvar"><span class="mpre">:</span></span></span></a><span class="mpre">*</span><a name="loc_476_32_476_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_32_476_34&#39;)"><span class="hl_vardecl"><span class="mpre">: </span></span></a><span class="mpre">n</span><span class="hl_tyconref"><a name="loc_476_35_476_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_35_476_38&#39;)"><span class="hl_vardecl"><span class="mpre">)
 </span></span></a><span class="mpre"> </span></span><span class="mpre">    </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">  | n </span></span></a><span class="mpre">&lt;</span><span class="hl_tyconref"><span class="mpre"> k  </span></span><span class="mpre">    </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre"> = Yie</span></span></a><span class="mpre">l</span><span class="hl_tyconref"><span class="mpre">d c </span></span><span class="mpre">(s :*:</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre"> S2 :*</span></span></a><span class="mpre">:</span><a href="#loc_479_5_479_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_5_479_9&#39;)"><span class="hl_varref"><span class="mpre"> n+1</span></span></a><span class="mpre">)
</span><a href="#loc_476_32_476_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_32_476_34&#39;)"><span class="hl_varref"><span class="mpre">  </span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">   </span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_57_15_57_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_15_57_17&#39;)"><span class="hl_conref"><span class="mpre"> |</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">oth</span></span></a><span class="mpre">e</span><span class="hl_num"><span class="mpre">r</span></span><span class="mpre">wis</span><a href="Data.Text.Internal.Fusion.Size.html#loc_129_1_129_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Size.html#loc_129_1_129_7&#39;)"><span class="hl_varref"><span class="mpre">e   = </span></span></a><span class="mpre">Do</span><span class="hl_varref"><span class="mpre">ne
    {-# I</span></span><span class="mpre">N</span><a href="#loc_476_14_476_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_14_476_15&#39;)"><span class="hl_varref"><span class="mpre">L</span></span></a><span class="mpre">IN</span><a href="#loc_476_35_476_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_35_476_38&#39;)"><span class="hl_varref"><span class="mpre">E n</span></span></a><span class="mpre">ext #-}
{-# INLINE [0] justifyLeftI #-}

-- ---</span><a name="loc_479_5_479_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_5_479_9&#39;)"><span class="hl_fundecl"><span class="mpre">----</span></span></a><span class="mpre">--</span><a name="loc_479_11_479_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_11_479_12&#39;)"><span class="hl_vardecl"><span class="mpre">-</span></span></a><span class="mpre">-</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">---</span></span></a><span class="mpre">-</span><a href="Data.Text.Internal.Fusion.Types.html#loc_57_15_57_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_15_57_17&#39;)"><span class="hl_conref"><span class="mpre">--</span></span></a><span class="mpre">-</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">---</span></span></a><a href="#loc_476_26_476_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_26_476_31&#39;)"><span class="hl_varref"><span class="mpre">--</span><a name="loc_479_24_479_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_24_479_25&#39;)"><span class="hl_vardecl"><span class="mpre">-</span></span></a><span class="mpre">--</span></span></a><span class="mpre">-</span><a href="#loc_479_11_479_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_11_479_12&#39;)"><span class="hl_varref"><span class="mpre">-</span></span></a><span class="mpre">------------------</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">----</span></span></a><span class="mpre">----------</span><a href="#loc_479_5_479_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_5_479_9&#39;)"><span class="hl_varref"><span class="mpre">----</span></span></a><span class="mpre">--</span><a href="#loc_479_11_479_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_11_479_12&#39;)"><span class="hl_varref"><span class="mpre">-</span></span></a><span class="mpre">-</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">---</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">--</span><a href="Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22&#39;)"><span class="hl_conref"><span class="mpre">--</span></span></a></span></a><span class="mpre">-</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><a name="loc_482_16_482_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_16_482_18&#39;)"><span class="hl_vardecl"><span class="mpre">
-</span></span></a><span class="mpre">-</span></span></a><span class="mpre"> </span><a href="#loc_479_24_479_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_24_479_25&#39;)"><span class="hl_varref"><span class="mpre">*</span></span></a><span class="mpre"> Red</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">ucin</span></span></a><span class="mpre">g </span><a href="#loc_482_16_482_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_16_482_18&#39;)"><span class="hl_varref"><span class="mpre">St</span></span></a><span class="mpre">r</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">eam</span></span></a><span class="mpre">s</span><a href="Data.Text.Internal.Fusion.Types.html#loc_57_15_57_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_15_57_17&#39;)"><span class="hl_conref"><span class="mpre"> (</span></span></a><span class="mpre">f</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">old</span></span></a><span class="mpre">s</span><a href="#loc_479_24_479_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_24_479_25&#39;)"><span class="hl_varref"><span class="mpre">)</span></span></a><span class="mpre">

-- | fold</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">l, ap</span></span></a><span class="mpre">p</span><a name="loc_483_17_483_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_483_17_483_18&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre">i</span><a name="loc_483_19_483_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_483_19_483_21&#39;)"><span class="hl_vardecl"><span class="mpre">ed</span></span></a><span class="mpre"> to </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">a bin</span></span></a><span class="mpre">a</span><a href="#loc_483_17_483_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_483_17_483_18&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">y </span><a href="#loc_483_19_483_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_483_19_483_21&#39;)"><span class="hl_varref"><span class="mpre">op</span></span></a><span class="mpre">e</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">rat</span></span></a><span class="mpre">o</span><a href="Data.Text.Internal.Fusion.Types.html#loc_57_15_57_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_15_57_17&#39;)"><span class="hl_conref"><span class="mpre">r,</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">a s</span></span></a><span class="mpre">t</span><a href="#loc_479_24_479_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_24_479_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="hl_infix"><span class="mpre">r</span></span><span class="hl_num"><span class="mpre">t</span></span><span class="mpre">i</span><a href="#loc_479_5_479_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_5_479_9&#39;)"><span class="hl_fundecl"><span class="mpre">ng v</span></span></a><span class="mpre">al</span><a name="loc_484_11_484_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_484_11_484_12&#39;)"><span class="hl_vardecl"><span class="mpre">u</span></span></a><span class="mpre">e</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre"> (t</span></span></a><span class="mpre">y</span><a href="Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22&#39;)"><span class="hl_conref"><span class="mpre">pi</span></span></a><span class="mpre">c</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">all</span></span></a><span class="mpre">y</span><a name="loc_484_24_484_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_484_24_484_25&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">the
-- left-identity of the operator),</span><a href="#loc_484_24_484_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_484_24_484_25&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">a</span><span class="hl_infix"><span class="mpre">n</span></span><span class="mpre">d</span><a href="#loc_476_14_476_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_14_476_15&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">a Stream,</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre"> redu</span></span></a><span class="mpre">c</span><a href="#loc_476_16_476_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_16_476_17&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">s </span><a href="#loc_484_11_484_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_484_11_484_12&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">h</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">e S</span></span></a><span class="hl_varref"><span class="mpre">tre</span><a href="Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22&#39;)"><span class="hl_conref"><span class="mpre">am</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">usi</span></span></a></span><span class="mpre">n</span><a href="#loc_484_24_484_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_484_24_484_25&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="hl_infix"><span class="mpre"> </span></span><span class="hl_num"><span class="mpre">t</span></span><span class="mpre">h</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">e
--</span></span></a><span class="mpre"> binary operator, from left</span><span class="hl_pragma"><span class="mpre"> to right.
</span><a href="#loc_479_5_479_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_5_479_9&#39;)"><span class="mpre">fold</span></a><span class="mpre">l ::</span></span><span class="mpre"> (b -&gt;</span><span class="hl_pragma"><span class="mpre"> Char -&gt; b) -&gt; </span><a href="#loc_476_1_476_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_1_476_13&#39;)"><span class="mpre">b -&gt; Stream </span></a><span class="mpre">Char</span></span><span class="mpre"> -&gt; b
foldl f z0 (Stream </span><span class="hl_comment"><span class="mpre">n</span><span class="hl_comment"><span class="mpre">ext s0 _len) = loop_foldl z0 </span></span><span class="mpre">s0
    where
      loop_foldl z !s = case next s </span></span><span class="mpre">of
                          Don</span><span class="hl_comment"><span class="mpre">e -&gt; z
                          Skip s&#39; -&gt; loop_foldl z s&#39;
             </span></span><span class="hl_comment"><span class="mpre">             Yield x s&#39; -&gt; loop_foldl (f z x) s&#39;
{-# INLINE [0] foldl #-}

--</span></span><span class="hl_comment"><span class="mpre"> | A strict version of foldl.
foldl&#39; ::</span></span><span class="mpre"> (b -&gt; Char -&gt; b) -&gt; b -&gt; Stream Char -</span><a href="#loc_497_1_497_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_1_497_6&#39;)"><span class="mpre">&gt; b
f</span></a><span class="mpre">oldl&#39;</span><span class="hl_tyvar"><span class="mpre"> </span></span><span class="mpre">f z0</span><span class="hl_tyconref"><span class="mpre"> (St</span></span><span class="mpre">ream</span><span class="hl_tyvar"><span class="mpre"> </span></span><span class="mpre">next </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">0 _l</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">en) = </span></span></a><a name="loc_497_1_497_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_1_497_6&#39;)"><span class="hl_fundecl"><span class="mpre">l</span><span class="hl_tyconref"><span class="mpre">oop_</span></span></span></a><span class="mpre">f</span><a name="loc_497_7_497_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_7_497_8&#39;)"><span class="hl_vardecl"><span class="mpre">o</span></span></a><span class="mpre">l</span><a name="loc_497_9_497_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_9_497_11&#39;)"><span class="hl_vardecl"><span class="mpre">d</span><span class="hl_tyvar"><span class="mpre">l</span></span></span></a><span class="mpre">&#39; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">z0 s0
</span></span></a><span class="mpre"> </span><a name="loc_497_20_497_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_20_497_24&#39;)"><span class="hl_vardecl"><span class="mpre">   w</span></span></a><span class="mpre">h</span><a name="loc_497_25_497_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_25_497_27&#39;)"><span class="hl_vardecl"><span class="mpre">er</span></span></a><span class="mpre">e</span><span class="hl_vardecl"><span class="mpre">
   </span></span><span class="mpre">   l</span><a href="#loc_499_7_499_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_499_7_499_17&#39;)"><span class="hl_varref"><span class="mpre">oop_foldl&#39;</span></span></a><span class="mpre"> </span><a href="#loc_497_9_497_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_9_497_11&#39;)"><span class="hl_varref"><span class="mpre">!z</span></span></a><span class="mpre"> </span><a href="#loc_497_25_497_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_25_497_27&#39;)"><span class="hl_varref"><span class="mpre">!s</span></span></a><span class="mpre"> = case next s of
                            Done -&gt; z
  </span><a name="loc_499_7_499_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_499_7_499_17&#39;)"><span class="hl_fundecl"><span class="mpre">          </span></span></a><span class="mpre"> </span><a name="loc_499_18_499_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_499_18_499_19&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">  </span><a name="loc_499_21_499_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_499_21_499_22&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">        </span><a href="#loc_497_20_497_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_20_497_24&#39;)"><span class="hl_varref"><span class="mpre">   S</span></span></a><span class="mpre">k</span><a href="#loc_499_21_499_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_499_21_499_22&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">p</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre"> s&#39; </span></span></a><span class="mpre">-&gt; l</span><a href="#loc_499_18_499_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_499_18_499_19&#39;)"><span class="hl_varref"><span class="mpre">o</span></span></a><span class="mpre">op_foldl&#39; z s&#39;
               </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">    </span></span></a><span class="mpre"> </span><a name="loc_501_32_501_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_501_32_501_34&#39;)"><span class="hl_vardecl"><span class="mpre">  </span></span></a><span class="mpre">    </span><a href="#loc_499_7_499_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_499_7_499_17&#39;)"><span class="hl_varref"><span class="mpre">  Yield x </span></span></a><span class="mpre">s</span><a href="#loc_499_18_499_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_499_18_499_19&#39;)"><span class="hl_varref"><span class="mpre">&#39;</span></span></a><span class="mpre"> </span><a href="#loc_501_32_501_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_501_32_501_34&#39;)"><span class="hl_varref"><span class="mpre">-&gt;</span></span></a><span class="mpre"> loop_fold</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">l&#39; (f</span></span></a><span class="mpre"> </span><a name="loc_502_33_502_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_502_33_502_34&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre"> </span><a name="loc_502_35_502_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_502_35_502_37&#39;)"><span class="hl_vardecl"><span class="mpre">x)</span></span></a><span class="mpre"> s&#39;
</span><a href="#loc_499_7_499_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_499_7_499_17&#39;)"><span class="hl_varref"><span class="mpre">{-# INLINE</span></span></a><span class="mpre"> [</span><a href="#loc_497_7_497_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_7_497_8&#39;)"><span class="hl_varref"><span class="mpre">0</span></span></a><span class="hl_pragma"><span class="mpre">]</span><a href="#loc_499_18_499_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_499_18_499_19&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">f</span><a href="#loc_502_33_502_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_502_33_502_34&#39;)"><span class="hl_varref"><span class="mpre">o</span></span></a><span class="mpre">ld</span><a href="#loc_502_35_502_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_502_35_502_37&#39;)"><span class="hl_varref"><span class="mpre">l&#39;</span></span></a><span class="mpre"> #-}

-</span><a href="#loc_497_1_497_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_1_497_6&#39;)"><span class="mpre">- | f</span></a><span class="mpre">oldl</span></span><span class="mpre">1 is a variant of foldl that has no starting value argument,
--</span><span class="hl_comment"><span class="mpre"> </span><a href="#loc_507_1_507_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_7&#39;)"><span class="mpre">and th</span></a><span class="mpre">us mu</span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">t be</span><span class="hl_tyconref"><span class="mpre"> app</span></span><span class="mpre">lied</span><span class="hl_tyvar"><span class="mpre"> </span></span><span class="mpre">to no</span></span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre">-</span><a name="loc_507_1_507_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_7&#39;)"><span class="hl_fundecl"><span class="mpre">empty </span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">Stre</span><a name="loc_507_8_507_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_8_507_9&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">m</span></span></a><a name="loc_507_10_507_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_10_507_12&#39;)"><span class="hl_vardecl"><span class="mpre">s.</span></span></a><span class="hl_tyconref"><span class="mpre">
fol</span></span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">dl1 :</span><span class="hl_tyvar"><span class="mpre">:</span></span></span></a><span class="mpre"> </span><a name="loc_507_21_507_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_21_507_25&#39;)"><span class="hl_vardecl"><span class="mpre">(Cha</span></span></a><span class="mpre">r</span><a name="loc_507_26_507_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_26_507_28&#39;)"><span class="hl_vardecl"><span class="mpre"> -</span></span></a><span class="mpre">&gt;</span><span class="hl_vardecl"><span class="mpre"> Cha</span></span><span class="mpre">r -&gt;</span><a href="#loc_509_7_509_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_509_7_509_18&#39;)"><span class="hl_varref"><span class="mpre"> Char) -&gt; S</span></span></a><span class="mpre">t</span><a href="#loc_507_10_507_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_10_507_12&#39;)"><span class="hl_varref"><span class="mpre">re</span></span></a><span class="mpre">a</span><a href="#loc_507_26_507_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_26_507_28&#39;)"><span class="hl_varref"><span class="mpre">m </span></span></a><span class="mpre">Char -&gt; Char
foldl1 f (Stream next s0 _len) = loop0_foldl1 </span><a name="loc_509_7_509_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_509_7_509_18&#39;)"><span class="hl_fundecl"><span class="mpre">s0
    wher</span></span></a><span class="mpre">e
</span><a name="loc_509_20_509_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_509_20_509_21&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">  </span><a name="loc_509_23_509_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_509_23_509_24&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">  loop0_</span><a href="#loc_507_21_507_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_21_507_25&#39;)"><span class="hl_varref"><span class="mpre">fold</span></span></a><span class="mpre">l</span><a href="#loc_509_23_509_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_509_23_509_24&#39;)"><span class="hl_varref"><span class="mpre">1</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">!s =</span></span></a><span class="mpre"> cas</span><a href="#loc_509_20_509_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_509_20_509_21&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> next s of
                     </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">    </span></span></a><span class="mpre"> </span><a name="loc_511_34_511_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_511_34_511_36&#39;)"><span class="hl_vardecl"><span class="mpre">Sk</span></span></a><span class="mpre">ip s</span><a href="#loc_509_7_509_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_509_7_509_18&#39;)"><span class="hl_varref"><span class="mpre">&#39; -&gt; loop0_</span></span></a><span class="mpre">f</span><a href="#loc_509_20_509_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_509_20_509_21&#39;)"><span class="hl_varref"><span class="mpre">o</span></span></a><span class="mpre">l</span><a href="#loc_511_34_511_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_511_34_511_36&#39;)"><span class="hl_varref"><span class="mpre">dl</span></span></a><span class="mpre">1 s&#39;
      </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">     </span></span></a><span class="mpre"> </span><a name="loc_512_35_512_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_512_35_512_36&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre"> </span><a name="loc_512_37_512_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_512_37_512_39&#39;)"><span class="hl_vardecl"><span class="mpre">  </span></span></a><span class="mpre">    </span><a href="#loc_509_7_509_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_509_7_509_18&#39;)"><span class="hl_varref"><span class="mpre">      Yield</span></span></a><span class="mpre"> x</span><a href="#loc_507_8_507_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_8_507_9&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="hl_pragma"><span class="mpre">s</span><a href="#loc_509_20_509_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_509_20_509_21&#39;)"><span class="hl_varref"><span class="mpre">&#39;</span></span></a><span class="mpre"> </span><a href="#loc_512_35_512_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_512_35_512_36&#39;)"><span class="hl_varref"><span class="mpre">-</span></span></a><span class="mpre">&gt; </span><a href="#loc_512_37_512_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_512_37_512_39&#39;)"><span class="hl_varref"><span class="mpre">lo</span></span></a><span class="mpre">op_fold</span><a href="#loc_507_1_507_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_7&#39;)"><span class="mpre">l1 x s</span></a><span class="mpre">&#39;
  </span></span><span class="mpre">                        Done -&gt; emptyError &quot;foldl1&quot;
      loop_fol</span><span class="hl_comment"><span class="mpre">d</span><span class="hl_comment"><span class="mpre">l1 z !s = case next s of
                        </span></span><span class="mpre">   Done -&gt; z
       </span></span><span class="mpre">  </span><a href="#loc_518_1_518_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_1_518_7&#39;)"><span class="mpre">      </span></a><span class="mpre">     </span><span class="hl_tyconref"><span class="mpre">    </span></span><span class="mpre">   S</span><span class="hl_tyconref"><span class="mpre">kip </span></span><span class="mpre">s&#39; -</span><span class="hl_tyconref"><span class="mpre">&gt; lo</span></span><span class="mpre">op_fo</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">ldl1 z</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">s&#39;
 </span></span><span class="mpre">   </span><a name="loc_518_1_518_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_1_518_7&#39;)"><span class="hl_fundecl"><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">    </span></span><span class="mpre"> </span></span></a><span class="mpre"> </span><a name="loc_518_8_518_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_8_518_9&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">  </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">      </span></span></a><span class="mpre"> </span><a name="loc_518_18_518_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_18_518_22&#39;)"><span class="hl_vardecl"><span class="mpre">    </span></span></a><span class="mpre"> </span><a name="loc_518_23_518_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_23_518_25&#39;)"><span class="hl_vardecl"><span class="mpre"> Y</span></span></a><span class="mpre">i</span><span class="hl_vardecl"><span class="mpre">eld </span></span><span class="mpre">x s&#39;</span><a href="#loc_520_7_520_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_520_7_520_19&#39;)"><span class="hl_varref"><span class="mpre"> -&gt; loop_fol</span></span></a><span class="mpre">d</span><a href="#loc_518_23_518_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_23_518_25&#39;)"><span class="hl_varref"><span class="mpre">l1</span></span></a><span class="mpre"> (f z x) s&#39;
{-# INLINE [0] foldl1 #-}

-- | A strict version of</span><a name="loc_520_7_520_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_520_7_520_19&#39;)"><span class="hl_fundecl"><span class="mpre"> foldl1.
fol</span></span></a><span class="mpre">dl</span><a name="loc_520_21_520_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_520_21_520_22&#39;)"><span class="hl_vardecl"><span class="mpre">1</span></span></a><span class="mpre">&#39; :: (Ch</span><a href="#loc_518_18_518_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_18_518_22&#39;)"><span class="hl_varref"><span class="mpre">ar -</span></span></a><span class="mpre">&gt;</span><a href="#loc_520_21_520_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_520_21_520_22&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">C</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">har </span></span></a><span class="mpre">-</span><a name="loc_521_32_521_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_521_32_521_34&#39;)"><span class="hl_vardecl"><span class="mpre">&gt; </span></span></a><span class="mpre">Char</span><a href="#loc_520_7_520_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_520_7_520_19&#39;)"><span class="hl_varref"><span class="mpre">) -&gt; Stream </span></span></a><span class="mpre">C</span><a href="#loc_521_32_521_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_521_32_521_34&#39;)"><span class="hl_varref"><span class="mpre">ha</span></span></a><span class="mpre">r -&gt; Char
fol</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">dl1&#39; </span></span></a><span class="mpre">f</span><a name="loc_522_33_522_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_522_33_522_34&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">(</span><a name="loc_522_35_522_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_522_35_522_37&#39;)"><span class="hl_vardecl"><span class="mpre">St</span></span></a><span class="mpre">ream</span><a href="#loc_524_7_524_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_524_7_524_18&#39;)"><span class="hl_varref"><span class="mpre"> next s0 _l</span></span></a><span class="mpre">e</span><a href="#loc_522_33_522_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_522_33_522_34&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)</span><a href="#loc_522_35_522_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_522_35_522_37&#39;)"><span class="hl_varref"><span class="mpre"> =</span></span></a><span class="mpre"> loop0_foldl1&#39; s0
    w</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">here</span></span></a><span class="mpre">
   </span><a href="#loc_947_1_947_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_947_1_947_11&#39;)"><span class="hl_varref"><span class="mpre">   loop0_f</span></span></a><span class="mpre">o</span><span class="hl_string"><span class="mpre">ldl1&#39; !s</span></span><span class="mpre"> = case ne</span><a name="loc_524_7_524_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_524_7_524_18&#39;)"><span class="hl_fundecl"><span class="mpre">xt s of
   </span></span></a><span class="mpre"> </span><a name="loc_524_19_524_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_524_19_524_20&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">  </span><a name="loc_524_22_524_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_524_22_524_23&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">        </span><a href="#loc_518_18_518_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_18_518_22&#39;)"><span class="hl_varref"><span class="mpre">    </span></span></a><span class="mpre"> </span><a href="#loc_524_22_524_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_524_22_524_23&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">     Skip s&#39; -&gt; loop0_foldl1&#39; s&#39;
            </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">    </span></span></a><span class="mpre">    </span><a href="#loc_524_19_524_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_524_19_524_20&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">      Yield x s&#39; -&gt; loop_foldl1</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">&#39; x </span></span></a><span class="mpre">s</span><a name="loc_526_33_526_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_526_33_526_35&#39;)"><span class="hl_vardecl"><span class="mpre">&#39;
</span></span></a><span class="mpre">    </span><a href="#loc_524_7_524_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_524_7_524_18&#39;)"><span class="hl_varref"><span class="mpre">           </span></span></a><span class="mpre"> </span><a href="#loc_524_19_524_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_524_19_524_20&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre"> </span><a href="#loc_526_33_526_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_526_33_526_35&#39;)"><span class="hl_varref"><span class="mpre">  </span></span></a><span class="mpre">       Don</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">e -&gt; </span></span></a><span class="mpre">e</span><a name="loc_527_34_527_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_34_527_35&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre">p</span><a name="loc_527_36_527_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_36_527_38&#39;)"><span class="hl_vardecl"><span class="mpre">ty</span></span></a><span class="mpre">Erro</span><a href="#loc_524_7_524_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_524_7_524_18&#39;)"><span class="hl_varref"><span class="mpre">r &quot;foldl1&quot;
</span></span></a><span class="mpre">  </span><a href="#loc_518_8_518_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_8_518_9&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="hl_pragma"><span class="mpre"> </span><a href="#loc_524_19_524_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_524_19_524_20&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre"> </span><a href="#loc_527_34_527_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_34_527_35&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">oo</span><a href="#loc_527_36_527_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_36_527_38&#39;)"><span class="hl_varref"><span class="mpre">p_</span></span></a><span class="mpre">foldl1&#39;</span><a href="#loc_518_1_518_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_1_518_7&#39;)"><span class="mpre"> !z !s</span></a><span class="mpre"> = c</span></span><span class="mpre">ase next s of
                             Done -&gt; z
            </span><span class="hl_comment"><span class="mpre"> </span><a href="#loc_532_1_532_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_532_1_532_8&#39;)"><span class="mpre">       </span></a><span class="mpre">     </span><span class="hl_tyconref"><span class="mpre">    </span></span><span class="mpre">Skip</span><span class="hl_tyconref"><span class="mpre"> s&#39; </span></span><span class="mpre">-&gt; loop</span></span><span class="hl_tyconref"><span class="mpre">_fol</span></span><span class="mpre">d</span><a name="loc_532_1_532_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_532_1_532_8&#39;)"><span class="hl_fundecl"><span class="mpre">l1&#39; z s</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">&#39;
  </span><a name="loc_532_9_532_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_532_9_532_10&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre"> </span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="hl_tyconref"><span class="mpre">    </span></span><span class="mpre">  </span></span></a><span class="mpre"> </span><a name="loc_532_19_532_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_532_19_532_23&#39;)"><span class="hl_vardecl"><span class="mpre">    </span></span></a><span class="hl_tyconref"><span class="mpre">    </span></span><a name="loc_532_24_532_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_532_24_532_26&#39;)"><span class="hl_vardecl"><span class="mpre">  </span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">    </span></span><span class="mpre">  Yi</span><a href="#loc_534_7_534_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_534_7_534_20&#39;)"><span class="hl_varref"><span class="mpre">eld x s&#39; -&gt; l</span></span></a><span class="mpre">o</span><a href="#loc_532_24_532_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_532_24_532_26&#39;)"><span class="hl_varref"><span class="mpre">op</span></span></a><span class="mpre">_foldl1&#39; (f z x) s&#39;
{-# INLINE [0] foldl1&#39; #-}

-- | &#39;foldr&#39;, ap</span><a name="loc_534_7_534_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_534_7_534_20&#39;)"><span class="hl_fundecl"><span class="mpre">plied to a bi</span></span></a><span class="mpre">na</span><a name="loc_534_22_534_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_534_22_534_23&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">y operat</span><a href="#loc_532_19_532_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_532_19_532_23&#39;)"><span class="hl_varref"><span class="mpre">or, </span></span></a><span class="mpre">a</span><a href="#loc_534_22_534_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_534_22_534_23&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">s</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">tart</span></span></a><span class="mpre">i</span><a name="loc_535_33_535_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_535_33_535_35&#39;)"><span class="hl_vardecl"><span class="mpre">ng</span></span></a><span class="mpre"> val</span><a href="#loc_534_7_534_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_534_7_534_20&#39;)"><span class="hl_varref"><span class="mpre">ue (typically</span></span></a><span class="mpre"> </span><a href="#loc_535_33_535_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_535_33_535_35&#39;)"><span class="hl_varref"><span class="mpre">th</span></span></a><span class="mpre">e
-- right-id</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">entit</span></span></a><span class="mpre">y</span><a name="loc_536_34_536_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_536_34_536_35&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">o</span><a name="loc_536_36_536_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_536_36_536_38&#39;)"><span class="hl_vardecl"><span class="mpre">f </span></span></a><span class="mpre">the </span><a href="#loc_538_7_538_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_7_538_19&#39;)"><span class="hl_varref"><span class="mpre">operator), a</span></span></a><span class="mpre">n</span><a href="#loc_536_34_536_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_536_34_536_35&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre"> </span><a href="#loc_536_36_536_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_536_36_536_38&#39;)"><span class="hl_varref"><span class="mpre">a </span></span></a><span class="mpre">stream, reduces the stre</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">am u</span></span></a><span class="mpre">sing</span><a href="#loc_947_1_947_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_947_1_947_11&#39;)"><span class="hl_varref"><span class="mpre"> the
-- bi</span></span></a><span class="mpre">n</span><span class="hl_string"><span class="mpre">ary oper</span></span><span class="mpre">ator, from </span><a name="loc_538_7_538_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_7_538_19&#39;)"><span class="hl_fundecl"><span class="mpre">right to lef</span></span></a><span class="mpre">t.</span><a name="loc_538_21_538_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_21_538_22&#39;)"><span class="hl_vardecl"><span class="mpre">
</span></span></a><span class="mpre">fo</span><a name="loc_538_24_538_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_24_538_25&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre">dr :: (C</span><a href="#loc_532_19_532_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_532_19_532_23&#39;)"><span class="hl_varref"><span class="mpre">har </span></span></a><span class="mpre">-</span><a href="#loc_538_24_538_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_24_538_25&#39;)"><span class="hl_varref"><span class="mpre">&gt;</span></span></a><span class="mpre"> b -&gt; b) -&gt; b -&gt; Stream Char -&gt; b
foldr f z (S</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">trea</span></span></a><span class="mpre">m ne</span><a href="#loc_538_21_538_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_21_538_22&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">t s0 _len) = loop_foldr s0
    wh</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">ere
</span></span></a><span class="mpre"> </span><a name="loc_540_35_540_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_540_35_540_37&#39;)"><span class="hl_vardecl"><span class="mpre">  </span></span></a><span class="mpre">   l</span><a href="#loc_538_7_538_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_7_538_19&#39;)"><span class="hl_varref"><span class="mpre">oop_foldr !s</span></span></a><span class="mpre"> </span><a href="#loc_538_21_538_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_21_538_22&#39;)"><span class="hl_varref"><span class="mpre">=</span></span></a><span class="mpre"> </span><a href="#loc_540_35_540_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_540_35_540_37&#39;)"><span class="hl_varref"><span class="mpre">ca</span></span></a><span class="mpre">se next s o</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">f
   </span></span></a><span class="mpre"> </span><a name="loc_541_36_541_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_541_36_541_37&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre"> </span><a name="loc_541_38_541_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_541_38_541_40&#39;)"><span class="hl_vardecl"><span class="mpre">  </span></span></a><span class="mpre">    </span><a href="#loc_538_7_538_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_7_538_19&#39;)"><span class="hl_varref"><span class="mpre">            </span></span></a><span class="mpre">Do</span><a href="#loc_532_9_532_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_532_9_532_10&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="hl_pragma"><span class="mpre">e</span><a href="#loc_538_21_538_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_21_538_22&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">-</span><a href="#loc_541_36_541_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_541_36_541_37&#39;)"><span class="hl_varref"><span class="mpre">&gt;</span></span></a><span class="mpre"> z</span><a href="#loc_541_38_541_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_541_38_541_40&#39;)"><span class="hl_varref"><span class="mpre">
 </span></span></a><span class="mpre">       </span><a href="#loc_532_1_532_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_532_1_532_8&#39;)"><span class="mpre">       </span></a><span class="mpre">    </span></span><span class="mpre">     Skip s&#39; -&gt; loop_foldr s&#39;
                        Yield x s&#39; -&gt; </span><span class="hl_comment"><span class="mpre">f x (loop_foldr s&#39;)
{-# INLINE [0] foldr #-}

-- | foldr1 is a variant of &#39;</span></span><span class="hl_comment"><span class="mpre">foldr&#39; that has no starting value argument,
-- and thus must be applied to non</span></span><span class="hl_comment"><span class="mpre">-empty streams.
-- Subject to array fus</span></span><span class="mpre">ion.
foldr1 :: (Char -&gt; Char -&gt; Char) -&gt;</span><a href="#loc_548_1_548_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_548_1_548_6&#39;)"><span class="mpre"> Stre</span></a><span class="mpre">am Ch</span><span class="hl_tyconref"><span class="mpre">ar -</span></span><span class="mpre">&gt; Ch</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">r
fo</span><span class="hl_tyvar"><span class="mpre">l</span></span><span class="mpre">dr1 f</span><span class="hl_tyvar"><span class="mpre"> </span></span><span class="mpre">(Str</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">eam ne</span></span></a><a name="loc_548_1_548_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_548_1_548_6&#39;)"><span class="hl_fundecl"><span class="mpre">x</span><span class="hl_tyconref"><span class="mpre">t s0</span></span></span></a><span class="mpre"> </span><a name="loc_548_7_548_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_548_7_548_8&#39;)"><span class="hl_vardecl"><span class="mpre">_</span></span></a><span class="mpre">l</span><a name="loc_548_9_548_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_548_9_548_10&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre">)</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre"> = loo</span></span></a><span class="mpre">p</span><a name="loc_548_19_548_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_548_19_548_23&#39;)"><span class="hl_vardecl"><span class="mpre">0_fo</span></span></a><span class="mpre">l</span><a name="loc_548_24_548_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_548_24_548_26&#39;)"><span class="hl_vardecl"><span class="mpre">dr</span></span></a><span class="mpre">1</span><span class="hl_vardecl"><span class="mpre"> s0
</span></span><span class="mpre">  wh</span><a href="#loc_550_7_550_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_550_7_550_17&#39;)"><span class="hl_varref"><span class="mpre">ere
    lo</span></span></a><span class="mpre">o</span><a href="#loc_548_24_548_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_548_24_548_26&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">_foldr1 !s = case next s of
      Done       -&gt; emptyError</span><a name="loc_550_7_550_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_550_7_550_17&#39;)"><span class="hl_fundecl"><span class="mpre"> &quot;foldr1&quot;
</span></span></a><span class="mpre">  </span><a name="loc_550_19_550_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_550_19_550_20&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">   Skip </span><a href="#loc_548_19_548_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_548_19_548_23&#39;)"><span class="hl_varref"><span class="mpre">   s</span></span></a><span class="mpre">&#39;</span><a href="#loc_550_19_550_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_550_19_550_20&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">-</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">&gt; lo</span></span></a><span class="mpre">op0_</span><a href="#loc_548_9_548_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_548_9_548_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">oldr1  s&#39;
      Yield x s&#39; -</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">&gt; lo</span></span></a><span class="mpre">o</span><a name="loc_552_30_552_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_552_30_552_32&#39;)"><span class="hl_vardecl"><span class="mpre">p_</span></span></a><span class="mpre">fold</span><a href="#loc_550_7_550_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_550_7_550_17&#39;)"><span class="hl_varref"><span class="mpre">r1 x s&#39;

 </span></span></a><span class="mpre"> </span><a href="#loc_552_30_552_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_552_30_552_32&#39;)"><span class="hl_varref"><span class="mpre">  </span></span></a><span class="mpre">loop_foldr</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">1 x !</span></span></a><span class="mpre">s</span><a name="loc_553_31_553_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_553_31_553_32&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">=</span><a name="loc_553_33_553_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_553_33_553_35&#39;)"><span class="hl_vardecl"><span class="mpre"> c</span></span></a><span class="mpre">ase </span><a href="#loc_548_7_548_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_548_7_548_8&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">e</span><a href="#loc_553_31_553_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_553_31_553_32&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">t </span><a href="#loc_550_7_550_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_550_7_550_17&#39;)"><span class="hl_varref"><span class="mpre">s of
     </span></span></a><span class="hl_pragma"><span class="mpre"> Done</span><a href="#loc_553_33_553_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_553_33_553_35&#39;)"><span class="hl_varref"><span class="mpre">  </span></span></a><span class="mpre">      -&gt;</span><a href="#loc_548_1_548_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_548_1_548_6&#39;)"><span class="mpre"> x
  </span></a><span class="mpre">    </span></span><span class="mpre">Skip     s&#39; -&gt; loop_foldr1 x s&#39;
      Yield x&#39; s&#39; -&gt; f x (l</span><span class="hl_comment"><span class="mpre">o</span><span class="hl_comment"><span class="mpre">op_foldr1 x&#39; s&#39;)
{-# INLINE [0] foldr1 #-}

inter</span></span><span class="mpre">calate :: Stream Char </span></span><span class="mpre">-&gt;</span><span class="hl_comment"><span class="mpre"> [Stream Char] -&gt; Stream Ch</span></span><span class="mpre">ar
intercalate s = conc</span><a href="#loc_560_1_560_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_560_1_560_7&#39;)"><span class="mpre">at . (</span></a><span class="mpre">L.int</span><span class="hl_tyconref"><span class="mpre">ersp</span></span><span class="mpre">erse</span><span class="hl_tyconref"><span class="mpre"> s)
</span></span><span class="mpre">{-# </span><span class="hl_tyconref"><span class="mpre">INLI</span></span><a name="loc_560_1_560_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_560_1_560_7&#39;)"><span class="hl_fundecl"><span class="mpre">NE [0]</span></span></a><span class="mpre"> </span><a name="loc_560_8_560_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_560_8_560_9&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">nterca</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">late #</span></span></a><span class="hl_tyconref"><span class="mpre">-}

</span></span><a name="loc_560_18_560_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_560_18_560_22&#39;)"><span class="hl_vardecl"><span class="mpre">-- -</span></span></a><span class="mpre">-</span><a name="loc_560_23_560_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_560_23_560_25&#39;)"><span class="hl_vardecl"><span class="mpre">--</span></span></a><span class="hl_tyconref"><span class="mpre">----</span></span><span class="hl_vardecl"><span class="mpre">----</span></span><span class="mpre">----</span><a href="#loc_562_5_562_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_562_5_562_17&#39;)"><span class="hl_varref"><span class="mpre">------------</span></span></a><span class="mpre">-</span><a href="#loc_560_23_560_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_560_23_560_25&#39;)"><span class="hl_varref"><span class="mpre">--</span></span></a><span class="mpre">---------------------------------------------
-- ** Special f</span><a name="loc_562_5_562_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_562_5_562_17&#39;)"><span class="hl_fundecl"><span class="mpre">olds

-- | /</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">O(n)</span></span></a><a name="loc_562_19_562_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_562_19_562_20&#39;)"><span class="hl_vardecl"><span class="mpre">/</span></span></a><span class="mpre"> Concate</span><a href="#loc_560_18_560_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_560_18_560_22&#39;)"><span class="hl_varref"><span class="mpre">nate</span></span></a><a href="#loc_947_1_947_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_947_1_947_11&#39;)"><span class="hl_varref"><span class="mpre"> a l</span><a href="#loc_562_19_562_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_562_19_562_20&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">st of</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">streams.</span></span><span class="mpre"> Sub</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">ject</span></span></a><span class="mpre"> to </span><a name="loc_564_15_564_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_564_15_564_17&#39;)"><span class="hl_vardecl"><span class="mpre">ar</span></span></a><span class="mpre">ray </span><a href="#loc_562_5_562_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_562_5_562_17&#39;)"><span class="hl_varref"><span class="mpre">fusion.
conc</span></span></a><span class="mpre">at</span><a href="#loc_564_15_564_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_564_15_564_17&#39;)"><span class="hl_varref"><span class="mpre"> :</span></span></a><span class="mpre">: [Stream </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">Char]</span></span></a><span class="mpre"> </span><a name="loc_565_13_565_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_565_13_565_14&#39;)"><span class="hl_vardecl"><span class="mpre">-</span></span></a><span class="mpre">&gt;</span><a name="loc_565_15_565_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_565_15_565_17&#39;)"><span class="hl_vardecl"><span class="mpre"> S</span></span></a><span class="mpre">trea</span><a href="#loc_567_5_567_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_567_5_567_16&#39;)"><span class="hl_varref"><span class="mpre">m Char
conc</span></span></a><span class="mpre">a</span><a href="#loc_565_13_565_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_565_13_565_14&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_565_15_565_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_565_15_565_17&#39;)"><span class="hl_varref"><span class="mpre">= </span></span></a><span class="mpre">L.foldr append empty
{-# INLINE [0] concat</span><a name="loc_567_5_567_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_567_5_567_16&#39;)"><span class="hl_fundecl"><span class="mpre"> #-</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">}

-</span></span></a><span class="mpre">- | </span></span></a><span class="mpre">M</span><a name="loc_567_17_567_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_567_17_567_18&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">p </span><a name="loc_567_20_567_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_567_20_567_21&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> f</span><a href="#loc_567_17_567_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_567_17_567_18&#39;)"><span class="hl_varref"><span class="mpre">u</span></span></a><span class="mpre">nctio</span><a href="#loc_560_18_560_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_560_18_560_22&#39;)"><span class="hl_varref"><span class="mpre">n ov</span></span></a><span class="mpre">e</span><a href="#loc_567_20_567_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_567_20_567_21&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre"> a stream t</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">hat </span></span></a><span class="mpre">resul</span><a name="loc_569_16_569_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_569_16_569_18&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre"> in </span><a href="#loc_567_5_567_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_567_5_567_16&#39;)"><span class="hl_varref"><span class="mpre">a stream an</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">d co</span><a href="#loc_567_17_567_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_567_17_567_18&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a></span></a><span class="mpre">c</span><a href="#loc_569_16_569_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_569_16_569_18&#39;)"><a name="loc_570_13_570_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_570_13_570_15&#39;)"><span class="hl_varref"><span class="hl_vardecl"><span class="mpre">at</span></span></span></a></a><span class="mpre">e</span><a name="loc_570_16_570_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_570_16_570_18&#39;)"><span class="hl_vardecl"><span class="mpre">na</span></span></a><span class="mpre">te t</span><a href="#loc_560_8_560_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_560_8_560_9&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">e</span><a href="#loc_567_17_567_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_567_17_567_18&#39;)"><span class="hl_varref"><span class="mpre">
</span></span></a><span class="mpre">--</span><a href="#loc_567_5_567_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_567_5_567_16&#39;)"><span class="hl_varref"><span class="mpre"> results.
c</span></span></a><span class="mpre">o</span><span class="hl_pragma"><a href="#loc_570_13_570_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_570_13_570_15&#39;)"><span class="hl_varref"><span class="mpre">nc</span></span></a><span class="mpre">a</span><a href="#loc_570_16_570_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_570_16_570_18&#39;)"><span class="hl_varref"><span class="mpre">tM</span></span></a><span class="mpre">ap :: (Cha</span><a href="#loc_560_1_560_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_560_1_560_7&#39;)"><span class="mpre">r -&gt; S</span></a><span class="mpre">trea</span></span><span class="mpre">m Char) -&gt; Stream Char -&gt; Stream Char
concatMa</span><a href="#loc_574_1_574_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_574_1_574_12&#39;)"><span class="mpre">p f = foldr</span></a><a name="loc_574_1_574_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_574_1_574_12&#39;)"><span class="hl_fundecl"><span class="mpre"> (append . </span></span></a><span class="mpre">f</span><a name="loc_574_13_574_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_574_13_574_14&#39;)"><span class="hl_vardecl"><span class="mpre">)</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">empty
</span></span></a><a href="#loc_582_1_582_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_582_1_582_7&#39;)"><span class="hl_varref"><span class="mpre">{-# IN</span></span></a><span class="hl_tyconref"><span class="mpre">LI</span><span class="hl_infix"><span class="mpre">N</span></span><span class="mpre">E</span></span><span class="mpre"> </span><a href="Data.List.html#loc_427_1_427_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_427_1_427_12&#39;)"><span class="hl_varref"><span class="mpre">[0] </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">concat</span></span></a><span class="mpre">Map</span></span></a><span class="hl_tyconref"><span class="mpre"> #-</span><a href="#loc_574_13_574_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_574_13_574_14&#39;)"><span class="hl_varref"><span class="mpre">}</span></span></a></span><span class="mpre">

-- </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">| /O(n</span></span></a><span class="mpre">)</span><span class="hl_tyconref"><span class="mpre">/ an</span></span><span class="mpre">y </span><span class="hl_pragma"><span class="mpre">@p @xs determin</span><a href="#loc_574_1_574_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_574_1_574_12&#39;)"><span class="mpre">es if any c</span></a><span class="mpre">hara</span></span><span class="mpre">cter in the stream
-- @xs@ satisifes the pre</span><span class="hl_comment"><span class="mpre">d</span><span class="hl_comment"><span class="mpre">icate @p@.
any :: (</span></span><span class="mpre">Char -&gt; Bool) -&gt; Stream Char -&gt; Bool
any p (Stream next0 s0</span></span><span class="mpre"> _len) = loop_any s0
 </span><span class="hl_comment"><span class="mpre"> </span><a href="#loc_582_1_582_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_582_1_582_7&#39;)"><span class="mpre">  wher</span></a><span class="mpre">e
   </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">   loo</span></span></a><span class="mpre">p</span><span class="hl_tyconref"><span class="mpre">_any</span></span><span class="mpre"> !s =</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre"> case </span></span></a><span class="mpre">n</span><span class="hl_tyconref"><span class="mpre">ext0</span></span><span class="mpre"> s of
                      </span></span><span class="mpre">Do</span><a name="loc_582_1_582_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_582_1_582_7&#39;)"><span class="hl_vardecl"><span class="mpre">ne    </span></span></a><span class="mpre">   </span><span class="hl_varref"><span class="mpre">       </span></span><span class="mpre"> </span><a href="#loc_206_1_206_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_7&#39;)"><span class="hl_varref"><span class="mpre">    -&gt;</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_125_1_125_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_125_1_125_6&#39;)"><span class="hl_varref"><span class="mpre">False</span></span></a><span class="mpre">
         </span><span class="hl_pragma"><span class="mpre">             Sk</span><a href="#loc_582_1_582_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_582_1_582_7&#39;)"><span class="mpre">ip s&#39; </span></a><span class="mpre">    </span></span><span class="mpre">           -&gt; loop_any s&#39;
     </span><span class="hl_comment"><span class="mpre"> </span><span class="hl_comment"><span class="mpre">           </span></span><span class="mpre">     Yield x s&#39; | p x       -&gt; True
                              </span></span><span class="mpre">  </span><a href="#loc_588_1_588_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_588_1_588_10&#39;)"><span class="mpre"> | otherw</span></a><span class="mpre">ise</span><a name="loc_588_1_588_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_588_1_588_10&#39;)"><span class="hl_fundecl"><span class="mpre"> -</span><span class="hl_tyconref"><span class="mpre">&gt; lo</span></span><span class="mpre">op_</span></span></a><span class="mpre">a</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><a name="loc_588_11_588_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_588_11_588_12&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre">y s&#39;
</span></span></a><a href="#loc_548_1_548_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_548_1_548_6&#39;)"><span class="hl_varref"><span class="mpre">{-# I</span></span></a><span class="hl_tyconref"><span class="mpre">NLIN</span></span><a href="#loc_206_1_206_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_7&#39;)"><span class="hl_varref"><span class="mpre">E [0] </span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">an</span><span class="hl_infix"><span class="mpre">y</span></span><span class="mpre"> </span><a href="#loc_588_11_588_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_588_11_588_12&#39;)"><span class="hl_varref"><span class="mpre">#</span></span></a><span class="mpre">-</span></span></a><span class="mpre">}</span><a href="Data.Text.Internal.Fusion.Types.html#loc_125_1_125_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_125_1_125_6&#39;)"><span class="hl_varref"><span class="hl_tyconref"><span class="mpre">

--</span></span><span class="mpre"> </span></span></a><span class="mpre">| /</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">O(n)/ </span></span></a><span class="mpre">a</span><span class="hl_tyconref"><span class="mpre">ll @</span></span><span class="mpre">p @xs determi</span><span class="hl_pragma"><span class="mpre">nes if all char</span><a href="#loc_588_1_588_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_588_1_588_10&#39;)"><span class="mpre">acters in</span></a><span class="mpre"> the</span></span><span class="mpre"> &#39;Text&#39;
-- @xs@ satisify the predicate @</span><span class="hl_comment"><span class="mpre">p</span><span class="hl_comment"><span class="mpre">@.
all :: (Char -&gt; Bool) -&gt; Stream C</span></span><span class="mpre">har -&gt; Bool
all p (Stream n</span></span><span class="mpre">ex</span><a href="#loc_594_1_594_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_594_1_594_4&#39;)"><span class="mpre">t0 </span></a><span class="mpre">s0 _l</span><span class="hl_tyconref"><span class="mpre">en) </span></span><span class="mpre">= lo</span><span class="hl_tyconref"><span class="mpre">op_a</span></span><span class="mpre">ll s0</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">
    w</span></span></a><span class="mpre">h</span><span class="hl_tyconref"><span class="mpre">ere
</span></span><span class="mpre"> </span><a name="loc_594_1_594_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_594_1_594_4&#39;)"><span class="hl_fundecl"><span class="mpre">   </span></span></a><span class="hl_tyconref"><span class="mpre"> </span><a name="loc_594_5_594_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_594_5_594_6&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">lo</span></span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">op_all</span></span></a><span class="mpre"> </span><a name="loc_594_15_594_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_594_15_594_20&#39;)"><span class="hl_vardecl"><span class="mpre">!s = </span></span></a><span class="mpre">c</span><a name="loc_594_21_594_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_594_21_594_23&#39;)"><span class="hl_vardecl"><span class="mpre">as</span></span></a><span class="mpre">e</span><span class="hl_vardecl"><span class="mpre"> nex</span></span><span class="mpre">t0 s</span><a href="#loc_596_7_596_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_596_7_596_15&#39;)"><span class="hl_varref"><span class="mpre"> of
    </span></span></a><span class="mpre"> </span><a href="#loc_594_21_594_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_594_21_594_23&#39;)"><span class="hl_varref"><span class="mpre">  </span></span></a><span class="mpre">               Done                   -&gt; True
      </span><a name="loc_596_7_596_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_596_7_596_15&#39;)"><span class="hl_fundecl"><span class="mpre">        </span></span></a><span class="mpre">  </span><a name="loc_596_17_596_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_596_17_596_18&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">     Ski</span><a href="#loc_594_15_594_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_594_15_594_20&#39;)"><span class="hl_varref"><span class="mpre">p s&#39; </span></span></a><span class="mpre"> </span><a href="#loc_596_17_596_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_596_17_596_18&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">    </span></span></a><span class="mpre">         -&gt; loop_all s</span><span class="hl_conref"><span class="mpre">&#39;
   </span></span><span class="mpre">     </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">    </span></span></a><span class="mpre"> </span><a name="loc_598_28_598_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_598_28_598_30&#39;)"><span class="hl_vardecl"><span class="mpre">  </span></span></a><span class="mpre">       Yield x s&#39; |</span><a href="#loc_596_7_596_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_596_7_596_15&#39;)"><span class="hl_varref"><span class="mpre"> p x    </span></span></a><span class="mpre"> </span><a href="#loc_598_28_598_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_598_28_598_30&#39;)"><span class="hl_varref"><span class="mpre">  </span></span></a><span class="mpre">-&gt; loop_all s&#39;
  </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">     </span></span></a><span class="mpre"> </span><a name="loc_599_29_599_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_599_29_599_30&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre"> </span><a name="loc_599_31_599_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_599_31_599_33&#39;)"><span class="hl_vardecl"><span class="mpre">  </span></span></a><span class="mpre">   </span><a href="#loc_594_5_594_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_594_5_594_6&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre"> </span><a href="#loc_599_29_599_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_599_29_599_30&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">          </span><span class="hl_conref"><span class="mpre">    </span></span><span class="mpre"> | otherwise -&gt; False
{-# INLINE [0] all #-</span><span class="hl_varref"><span class="mpre">}

-- | /</span></span><span class="mpre">O(n)</span><a href="#loc_596_7_596_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_596_7_596_15&#39;)"><span class="hl_varref"><span class="mpre">/ maximu</span></span></a><span class="hl_pragma"><span class="mpre">m re</span><a href="#loc_599_31_599_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_599_31_599_33&#39;)"><span class="hl_varref"><span class="mpre">tu</span></span></a><span class="mpre">rns the m</span><a href="#loc_594_1_594_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_594_1_594_4&#39;)"><span class="mpre">axi</span></a><span class="mpre">mum </span></span><span class="mpre">value from a stream, which must be
-- non-empty.
maximum :: S</span><span class="hl_comment"><span class="mpre">t</span><span class="hl_comment"><span class="mpre">ream Char -&gt; Char
maximum (Stream n</span></span><span class="mpre">ext0 s0 _len) = loop0_maximum</span></span><span class="mpre"> s</span><a href="#loc_606_1_606_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_1_606_4&#39;)"><span class="mpre">0
 </span></a><span class="mpre">   wh</span><span class="hl_tyconref"><span class="mpre">ere
</span></span><span class="mpre">    </span><span class="hl_tyconref"><span class="mpre">  lo</span></span><span class="mpre">op0_m</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">aximum</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">!s  </span></span><a name="loc_606_1_606_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_1_606_4&#39;)"><span class="hl_fundecl"><span class="mpre"> = </span></span></a><span class="mpre">c</span><span class="hl_tyconref"><a name="loc_606_5_606_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_5_606_6&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">se </span></span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">next0 </span></span></a><span class="mpre">s</span><a name="loc_606_15_606_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_15_606_20&#39;)"><span class="hl_vardecl"><span class="mpre"> of
 </span></span></a><span class="mpre"> </span><a name="loc_606_21_606_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_21_606_23&#39;)"><span class="hl_vardecl"><span class="mpre">  </span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">    </span></span><span class="mpre">    </span><a href="#loc_608_7_608_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_608_7_608_15&#39;)"><span class="hl_varref"><span class="mpre">        </span></span></a><span class="mpre"> </span><a href="#loc_606_21_606_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_21_606_23&#39;)"><span class="hl_varref"><span class="mpre">  </span></span></a><span class="mpre">     Done       -&gt; emptyError &quot;maximum&quot;
            </span><a name="loc_608_7_608_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_608_7_608_15&#39;)"><span class="hl_fundecl"><span class="mpre">        </span></span></a><span class="mpre">  </span><a name="loc_608_17_608_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_608_17_608_18&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">      Sk</span><a href="#loc_606_15_606_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_15_606_20&#39;)"><span class="hl_varref"><span class="mpre">ip s&#39;</span></span></a><span class="mpre"> </span><a href="#loc_608_17_608_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_608_17_608_18&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">  -&gt;</span></span></a><span class="mpre"> loop0_maximum s&#39;
    </span><span class="hl_conref"><span class="mpre">    </span></span><span class="mpre">      </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">    </span></span></a><span class="mpre"> </span><a name="loc_610_28_610_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_610_28_610_30&#39;)"><span class="hl_vardecl"><span class="mpre">  </span></span></a><span class="mpre">        Yield x s&#39; </span><a href="#loc_608_7_608_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_608_7_608_15&#39;)"><span class="hl_varref"><span class="mpre">-&gt; loop_</span></span></a><span class="mpre">m</span><a href="#loc_610_28_610_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_610_28_610_30&#39;)"><span class="hl_varref"><span class="mpre">ax</span></span></a><span class="mpre">imum x s&#39;
      </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">loop_</span></span></a><span class="mpre">m</span><a name="loc_611_29_611_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_611_29_611_30&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">x</span><a name="loc_611_31_611_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_611_31_611_33&#39;)"><span class="hl_vardecl"><span class="mpre">im</span></span></a><span class="mpre">um </span><a href="#loc_606_5_606_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_5_606_6&#39;)"><span class="hl_varref"><span class="mpre">!</span></span></a><span class="mpre">z</span><a href="#loc_611_29_611_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_611_29_611_30&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">!s = case </span><a href="#loc_608_7_608_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_608_7_608_15&#39;)"><span class="hl_varref"><span class="mpre">next0 s </span></span></a><span class="mpre">o</span><a href="#loc_611_31_611_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_611_31_611_33&#39;)"><span class="hl_varref"><span class="mpre">f
</span></span></a><span class="mpre">                             Done   </span><span class="hl_varref"><span class="mpre">         </span></span><span class="mpre">-&gt; z</span><span class="hl_conref"><span class="mpre">
    </span></span><span class="mpre">       </span><span class="hl_pragma"><span class="mpre">               </span><a href="#loc_606_1_606_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_1_606_4&#39;)"><span class="mpre">   </span></a><span class="mpre">Skip</span></span><span class="mpre"> s&#39;         -&gt; loop_maximum z s&#39;
                      </span><span class="hl_comment"><span class="mpre"> </span><span class="hl_comment"><span class="mpre">      Yield x</span></span><span class="mpre"> s&#39;
                                 | x &gt; z     -&gt; loop_max</span></span><span class="mpre">im</span><a href="#loc_618_1_618_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_618_1_618_8&#39;)"><span class="mpre">um x s&#39;</span></a><span class="mpre">
   </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">      </span></span></a><a name="loc_618_1_618_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_618_1_618_8&#39;)"><span class="hl_fundecl"><span class="mpre">       </span></span></a><span class="hl_tyconref"><span class="mpre">    </span></span><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">      </span></span></a><span class="hl_tyconref"><span class="mpre">    </span></span><a name="loc_618_17_618_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_618_17_618_22&#39;)"><span class="hl_vardecl"><span class="mpre">  | o</span></span></a><span class="mpre">t</span><a name="loc_618_23_618_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_618_23_618_25&#39;)"><span class="hl_vardecl"><span class="mpre">he</span></span></a><span class="mpre">r</span><span class="hl_vardecl"><span class="mpre">wise</span></span><span class="mpre"> -&gt; </span><a href="#loc_620_7_620_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_620_7_620_20&#39;)"><span class="hl_varref"><span class="mpre">loop_maximum </span></span></a><span class="mpre">z</span><a href="#loc_618_23_618_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_618_23_618_25&#39;)"><span class="hl_varref"><span class="mpre"> s</span></span></a><span class="mpre">&#39;
{-# INLINE [0] maximum #-}

-- | /O(</span><a name="loc_620_7_620_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_620_7_620_20&#39;)"><span class="hl_fundecl"><span class="mpre">n)/ minimum r</span></span></a><span class="mpre">et</span><a name="loc_620_22_620_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_620_22_620_23&#39;)"><span class="hl_vardecl"><span class="mpre">u</span></span></a><span class="mpre">rns the mi</span><a href="#loc_618_17_618_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_618_17_618_22&#39;)"><span class="hl_varref"><span class="mpre">nimum</span></span></a><span class="mpre"> </span><a href="#loc_620_22_620_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_620_22_620_23&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">alue</span></span></a><span class="mpre"> from a &#39;T</span><a href="#loc_947_1_947_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_947_1_947_11&#39;)"><span class="hl_varref"><span class="mpre">ext&#39;, whic</span></span></a><span class="mpre">h</span><span class="hl_string"><span class="mpre"> must be
</span></span><span class="mpre">-- non-em</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">pty.</span></span></a><span class="mpre">
</span><a name="loc_622_35_622_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_622_35_622_37&#39;)"><span class="hl_vardecl"><span class="mpre">mi</span></span></a><span class="mpre">nimum :</span><a href="#loc_620_7_620_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_620_7_620_20&#39;)"><span class="hl_varref"><span class="mpre">: Stream Char</span></span></a><span class="mpre"> </span><a href="#loc_622_35_622_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_622_35_622_37&#39;)"><span class="hl_varref"><span class="mpre">-&gt;</span></span></a><span class="mpre"> Char
minimum (Stream next0 s0 _le</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">n) = </span></span></a><span class="mpre">l</span><a name="loc_623_36_623_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_623_36_623_37&#39;)"><span class="hl_vardecl"><span class="mpre">o</span></span></a><span class="mpre">o</span><a name="loc_623_38_623_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_623_38_623_40&#39;)"><span class="hl_vardecl"><span class="mpre">p0</span></span></a><span class="mpre">_min</span><a href="#loc_624_7_624_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_624_7_624_19&#39;)"><span class="hl_varref"><span class="mpre">imum s0
    </span></span></a><span class="mpre">w</span><a href="#loc_623_36_623_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_623_36_623_37&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">e</span><a href="#loc_623_38_623_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_623_38_623_40&#39;)"><span class="hl_varref"><span class="mpre">re</span></span></a><span class="mpre">
     </span><a name="loc_624_7_624_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_624_7_624_19&#39;)"><span class="hl_fundecl"><span class="mpre"> loop0_minim</span></span></a><span class="mpre">um</span><a name="loc_624_21_624_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_624_21_624_22&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">!s</span><a name="loc_624_24_624_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_624_24_624_25&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">  = case</span><a href="#loc_618_17_618_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_618_17_618_22&#39;)"><span class="hl_varref"><span class="mpre"> next</span></span></a><span class="mpre">0</span><a href="#loc_624_24_624_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_624_24_624_25&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">s of
                             Done       -&gt; emp</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">tyEr</span></span></a><span class="mpre">ror &quot;minimum&quot;
 </span><a href="#loc_624_21_624_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_624_21_624_22&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">                       </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">    </span></span></a><span class="mpre">S</span><a name="loc_626_35_626_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_626_35_626_37&#39;)"><span class="hl_vardecl"><span class="mpre">ki</span></span></a><span class="mpre">p s&#39;    -&gt; l</span><a href="#loc_624_7_624_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_624_7_624_19&#39;)"><span class="hl_varref"><span class="mpre">oop0_minimum</span></span></a><span class="mpre"> </span><a href="#loc_624_21_624_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_624_21_624_22&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">&#39;</span><a href="#loc_626_35_626_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_626_35_626_37&#39;)"><span class="hl_varref"><span class="mpre">
 </span></span></a><span class="mpre">              </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">     </span></span></a><span class="mpre"> </span><a name="loc_627_36_627_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_627_36_627_37&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre"> </span><a name="loc_627_38_627_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_627_38_627_40&#39;)"><span class="hl_vardecl"><span class="mpre">  </span></span></a><span class="mpre">    Yield x s&#39; -&gt; loop_minimum x s&#39;
      loop_minimum !z !s =</span><a href="#loc_627_36_627_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_627_36_627_37&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">c</span><span class="hl_infix"><span class="mpre">a</span></span><span class="mpre">s</span><a href="#loc_624_21_624_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_624_21_624_22&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> next0 s</span><a href="#loc_624_7_624_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_624_7_624_19&#39;)"><span class="hl_varref"><span class="mpre"> of
        </span></span></a><span class="mpre"> </span><a href="#loc_627_36_627_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_627_36_627_37&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre"> </span><a href="#loc_627_38_627_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_627_38_627_40&#39;)"><span class="hl_varref"><span class="mpre">  </span></span></a><span class="mpre">          </span><span class="hl_varref"><span class="mpre">      Don</span></span><span class="mpre">e   </span><a href="#loc_624_7_624_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_624_7_624_19&#39;)"><span class="hl_varref"><span class="mpre">         -&gt; </span></span></a><span class="mpre">z</span><a href="#loc_624_21_624_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_624_21_624_22&#39;)"><span class="hl_varref"><span class="mpre">
</span></span></a><span class="mpre"> </span><a href="#loc_627_38_627_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_627_38_627_40&#39;)"><span class="hl_varref"><span class="mpre">  </span></span></a><span class="mpre"> </span><span class="hl_pragma"><span class="mpre">               </span><a href="#loc_618_1_618_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_618_1_618_8&#39;)"><span class="mpre">       </span></a><span class="mpre">   S</span></span><span class="mpre">kip s&#39;         -&gt; loop_minimum z s&#39;
                             Yi</span><span class="hl_comment"><span class="mpre">e</span><span class="hl_comment"><span class="mpre">ld x s&#39;
     </span></span><span class="mpre">                            | x &lt; z     -&gt; loop_minimum x s&#39;</span></span><span class="mpre">
 </span><a href="#loc_635_1_635_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_635_1_635_8&#39;)"><span class="mpre">       </span></a><span class="mpre">    </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">      </span></span></a><a name="loc_635_1_635_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_635_1_635_8&#39;)"><span class="hl_fundecl"><span class="mpre">       </span></span></a><span class="hl_tyconref"><span class="mpre">    </span></span><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">   | o</span></span></a><span class="hl_tyconref"><span class="mpre">ther</span></span><a name="loc_635_17_635_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_635_17_635_22&#39;)"><span class="hl_vardecl"><span class="mpre">wise </span></span></a><span class="mpre">-</span><a name="loc_635_23_635_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_635_23_635_25&#39;)"><span class="hl_vardecl"><span class="mpre">&gt; </span></span></a><span class="mpre">l</span><span class="hl_vardecl"><span class="mpre">oop_</span></span><span class="mpre">mini</span><a href="#loc_637_7_637_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_637_7_637_20&#39;)"><span class="hl_varref"><span class="mpre">mum z s&#39;
{-# </span></span></a><span class="mpre">I</span><a href="#loc_635_23_635_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_635_23_635_25&#39;)"><span class="hl_varref"><span class="mpre">NL</span></span></a><span class="mpre">INE [0] minimum #-}

-- --------------</span><a name="loc_637_7_637_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_637_7_637_20&#39;)"><span class="hl_fundecl"><span class="mpre">-------------</span></span></a><span class="mpre">--</span><a name="loc_637_22_637_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_637_22_637_23&#39;)"><span class="hl_vardecl"><span class="mpre">-</span></span></a><span class="mpre">----------</span><a href="#loc_635_17_635_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_635_17_635_22&#39;)"><span class="hl_varref"><span class="mpre">-----</span></span></a><span class="mpre">-</span><a href="#loc_637_22_637_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_637_22_637_23&#39;)"><span class="hl_varref"><span class="mpre">-</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">----</span></span></a><span class="mpre">----------</span><a href="#loc_947_1_947_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_947_1_947_11&#39;)"><span class="hl_varref"><span class="mpre">----------</span></span></a><span class="mpre">-</span><span class="hl_string"><span class="mpre">-----
-- </span></span><span class="mpre">* Buildin</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">g st</span></span></a><span class="mpre">r</span><a name="loc_639_35_639_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_639_35_639_37&#39;)"><span class="hl_vardecl"><span class="mpre">ea</span></span></a><span class="mpre">ms

sca</span><a href="#loc_637_7_637_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_637_7_637_20&#39;)"><span class="hl_varref"><span class="mpre">nl :: (Char -</span></span></a><span class="mpre">&gt;</span><a href="#loc_639_35_639_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_639_35_639_37&#39;)"><span class="hl_varref"><span class="mpre"> C</span></span></a><span class="mpre">har -&gt; Char) -&gt; Char -&gt; Stream Cha</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">r -&gt; </span></span></a><span class="mpre">S</span><a name="loc_640_36_640_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_640_36_640_37&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre">r</span><a name="loc_640_38_640_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_640_38_640_40&#39;)"><span class="hl_vardecl"><span class="mpre">ea</span></span></a><span class="mpre">m Ch</span><a href="#loc_641_7_641_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_641_7_641_19&#39;)"><span class="hl_varref"><span class="mpre">ar
scanl f z</span></span></a><span class="mpre">0</span><a href="#loc_640_36_640_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_640_36_640_37&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">(</span><a href="#loc_640_38_640_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_640_38_640_40&#39;)"><span class="hl_varref"><span class="mpre">St</span></span></a><span class="mpre">ream n</span><a name="loc_641_7_641_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_641_7_641_19&#39;)"><span class="hl_fundecl"><span class="mpre">ext0 s0 len)</span></span></a><span class="mpre"> =</span><a name="loc_641_21_641_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_641_21_641_22&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">St</span><a name="loc_641_24_641_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_641_24_641_25&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">eam next</span><a href="#loc_635_17_635_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_635_17_635_22&#39;)"><span class="hl_varref"><span class="mpre"> (S1 </span></span></a><span class="mpre">:</span><a href="#loc_641_24_641_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_641_24_641_25&#39;)"><span class="hl_varref"><span class="mpre">*</span></span></a><span class="mpre">: z0 :*: s0) (len+1) -- HINT maybe too low
  where
</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">    </span></span></a><span class="mpre">{-# INLINE next</span><a href="#loc_641_21_641_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_641_21_641_22&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">#-}
    next (S1 :*: z </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">:*: </span></span></a><span class="mpre">s</span><a name="loc_643_35_643_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_643_35_643_37&#39;)"><span class="hl_vardecl"><span class="mpre">) </span></span></a><span class="mpre">= Yield z (S</span><a href="#loc_641_7_641_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_641_7_641_19&#39;)"><span class="hl_varref"><span class="mpre">2 :*: z :*: </span></span></a><span class="mpre">s</span><a href="#loc_641_21_641_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_641_21_641_22&#39;)"><span class="hl_varref"><span class="mpre">)</span></span></a><span class="mpre">
</span><a href="#loc_643_35_643_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_643_35_643_37&#39;)"><span class="hl_varref"><span class="mpre">  </span></span></a><span class="mpre">  next (S2 :*:</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre"> z :*</span></span></a><span class="mpre">:</span><a name="loc_644_36_644_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_644_36_644_37&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">s</span><a name="loc_644_38_644_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_644_38_644_40&#39;)"><span class="hl_vardecl"><span class="mpre">) </span></span></a><span class="mpre">= case next0 s of
                              Yield x s&#39; -&gt; </span><a href="#loc_644_36_644_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_644_36_644_37&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">e</span><span class="hl_infix"><span class="mpre">t</span></span><span class="mpre"> </span><a href="#loc_641_21_641_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_641_21_641_22&#39;)"><span class="hl_varref"><span class="mpre">!</span></span></a><span class="mpre">x&#39; = f z</span><a href="#loc_641_7_641_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_641_7_641_19&#39;)"><span class="hl_varref"><span class="mpre"> x
         </span></span></a><span class="mpre"> </span><a href="#loc_644_36_644_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_644_36_644_37&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre"> </span><a href="#loc_644_38_644_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_644_38_644_40&#39;)"><span class="hl_varref"><span class="mpre">  </span></span></a><span class="mpre">          </span><span class="hl_varref"><span class="mpre">         </span></span><span class="mpre">    </span><a href="#loc_641_7_641_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_641_7_641_19&#39;)"><span class="hl_varref"><span class="mpre">       in Yi</span></span></a><span class="mpre">e</span><a href="#loc_641_21_641_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_641_21_641_22&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">d</span><a href="#loc_644_38_644_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_644_38_644_40&#39;)"><span class="hl_varref"><span class="mpre"> x</span></span></a><span class="mpre">&#39;</span><span class="hl_pragma"><span class="mpre"> (S2 :*: x&#39; :*:</span><a href="#loc_635_1_635_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_635_1_635_8&#39;)"><span class="mpre"> s&#39;)
  </span></a><span class="mpre">    </span></span><span class="mpre">                        Skip s&#39;    -&gt; Skip (S2 :*: z :*: s&#39;)
      </span><span class="hl_comment"><span class="mpre"> </span><span class="hl_comment"><span class="mpre">                     </span></span><span class="mpre">  Done       -&gt; Done
{-# INLINE [0] scanl #-}

-- --------</span></span><span class="mpre">------------------------</span><a href="#loc_653_1_653_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_653_1_653_6&#39;)"><span class="mpre">-----</span></a><a name="loc_653_1_653_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_653_1_653_6&#39;)"><span class="hl_fundecl"><span class="mpre">-----</span></span></a><span class="mpre">-</span><a name="loc_653_7_653_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_653_7_653_8&#39;)"><span class="hl_vardecl"><span class="mpre">-</span></span></a><span class="mpre">-</span><a name="loc_653_9_653_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_653_9_653_11&#39;)"><span class="hl_vardecl"><span class="mpre">--</span></span></a><span class="hl_tyconref"><span class="mpre">----</span></span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">------</span></span></a><span class="hl_tyconref"><span class="mpre">----</span></span><a name="loc_653_20_653_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_653_20_653_25&#39;)"><span class="hl_vardecl"><span class="mpre">-----</span></span></a><span class="mpre">-</span><span class="hl_tyconref"><a name="loc_653_26_653_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_653_26_653_28&#39;)"><span class="hl_vardecl"><span class="mpre">--</span></span></a><span class="mpre">--</span></span><a name="loc_653_29_653_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_653_29_653_32&#39;)"><span class="hl_vardecl"><span class="mpre">---</span></span></a><span class="mpre">---</span><span class="hl_tyconref"><span class="mpre">
-- </span></span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">** Acc</span></span></a><span class="mpre">u</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><a href="#loc_656_5_656_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_656_5_656_9&#39;)"><span class="hl_varref"><span class="mpre">mula</span></span></a><span class="mpre">ti</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_57_15_57_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_15_57_17&#39;)"><span class="hl_conref"><span class="mpre">ng</span></span></a><span class="hl_tyconref"><span class="mpre"> map</span></span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">s

</span></span></a><span class="mpre">{</span><a href="#loc_653_9_653_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_653_9_653_11&#39;)"><span class="hl_varref"><span class="mpre">-
</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">-</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">- |</span></span></a><span class="mpre"> /</span></span></a><a href="#loc_653_26_653_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_653_26_653_28&#39;)"><span class="hl_varref"><span class="mpre">O(</span></span></a><span class="hl_tyconref"><span class="mpre">n)/ </span></span><a href="#loc_653_29_653_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_653_29_653_32&#39;)"><span class="hl_varref"><span class="mpre">Lik</span></span></a><span class="hl_infix"><span class="mpre">e</span></span><span class="hl_num"><span class="mpre"> </span></span><span class="mpre">a </span><span class="hl_comment"><span class="mpre">combination of &#39;map&#39; </span></span><span class="mpre">and &#39;foldl&#39;. Applies a
-- function to each element of a stream, passing an </span><span class="hl_pragma"><span class="mpre">accumula</span><a name="loc_656_5_656_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_656_5_656_9&#39;)"><span class="hl_fundecl"><span class="mpre">ting</span></span></a><a href="#loc_656_5_656_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_656_5_656_9&#39;)"><span class="mpre">
-- </span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_57_15_57_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_15_57_17&#39;)"><span class="hl_conref"><span class="mpre">pa</span></span></a><span class="mpre">ram</span></span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">ete</span></span></a><span class="mpre">r</span><a name="loc_656_18_656_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_656_18_656_19&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">f</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">rom</span></span></a><span class="mpre"> </span><a name="loc_656_24_656_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_656_24_656_25&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre">eft </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><a href="#loc_656_5_656_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_656_5_656_9&#39;)"><span class="hl_fundecl"><span class="mpre">to r</span></span></a><span class="mpre">i</span></span></a><span class="mpre">g</span><a href="Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22&#39;)"><span class="hl_conref"><a href="#loc_656_18_656_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_656_18_656_19&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">t</span></span></a><span class="mpre">,</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><a href="Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22&#39;)"><span class="hl_conref"><span class="mpre"> a</span></span></a><span class="mpre">n</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">d</span><a name="loc_657_18_657_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_657_18_657_19&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">r</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">e</span><a href="#loc_656_18_656_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_656_18_656_19&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">u</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">r</span><a name="loc_657_24_657_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_657_24_657_25&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre">s</span></span></a><span class="mpre"> </span><a href="#loc_656_24_656_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_656_24_656_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> final</span><a href="#loc_653_20_653_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_653_20_653_25&#39;)"><span class="hl_varref"><span class="mpre"> stre</span></span></a><span class="mpre">a</span><a href="#loc_657_24_657_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_657_24_657_25&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">.
--
-- /Note/: Unlike the version over lis</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">ts, t</span></span></a><span class="mpre">h</span><a name="loc_658_37_658_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_658_37_658_38&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre">s</span><a name="loc_658_39_658_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_658_39_658_41&#39;)"><span class="hl_vardecl"><span class="mpre"> f</span></span></a><span class="mpre">unction d</span><a name="loc_658_50_658_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_658_50_658_52&#39;)"><span class="hl_vardecl"><span class="mpre">oe</span></span></a><span class="mpre">s n</span><a href="#loc_653_7_653_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_653_7_653_8&#39;)"><span class="hl_varref"><span class="mpre">o</span></span></a><span class="mpre">t</span><a href="#loc_657_18_657_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_657_18_657_19&#39;)"><span class="hl_varref"><span class="mpre">
</span></span></a><span class="mpre">-</span><a href="#loc_658_37_658_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_658_37_658_38&#39;)"><span class="hl_varref"><span class="mpre">-</span></span></a><span class="mpre"> return a final value for the ac</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">cumul</span></span></a><span class="mpre">a</span><a href="#loc_658_50_658_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_658_50_658_52&#39;)"><span class="hl_varref"><span class="mpre">to</span></span></a><span class="mpre">r,</span><a href="Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22&#39;)"><span class="hl_conref"><span class="mpre"> b</span></span></a><span class="mpre">e</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">cau</span></span></a><span class="mpre">s</span><a href="#loc_658_50_658_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_658_50_658_52&#39;)"><span class="hl_varref"><span class="mpre">e </span></span></a><span class="mpre">t</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">he </span></span></a><span class="mpre">n</span><a href="#loc_658_39_658_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_658_39_658_41&#39;)"><span class="hl_varref"><span class="mpre">at</span></span></a><span class="mpre">ure of
-- streams</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre"> pre</span></span></a><span class="mpre">c</span><a name="loc_660_36_660_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_660_36_660_38&#39;)"><span class="hl_vardecl"><span class="mpre">lu</span></span></a><span class="mpre">des it.</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">
map</span></span></a><span class="mpre">Ac</span><a href="Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22&#39;)"><span class="hl_conref"><span class="mpre">cu</span></span></a><span class="mpre">m</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">L :</span></span></a><span class="mpre">:</span><a href="#loc_657_18_657_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_657_18_657_19&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">(</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">a -</span></span></a><span class="mpre">&gt;</span><a href="#loc_660_36_660_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_660_36_660_38&#39;)"><span class="hl_varref"><span class="mpre"> b</span></span></a><span class="mpre"> -&gt; (a,b)) -&gt; a -&gt; Stream b -&gt; Stream b
</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">mapA</span></span></a><span class="mpre">ccumL f z0</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre"> (St</span></span></a><span class="mpre">ream next0 s0 len) </span><span class="hl_pragma"><span class="mpre">= Stream next (</span><a href="#loc_653_1_653_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_653_1_653_6&#39;)"><span class="mpre">s0 :*</span></a><span class="mpre">: z0</span></span><span class="mpre">) len -- HINT depends on f
  where
    {-# INLINE </span><span class="hl_comment"><span class="mpre">n</span><span class="hl_comment"><span class="mpre">ext #-}
    next (s :*:</span></span><span class="mpre"> z) = case next0 s of
                       Yield x s&#39; </span></span><span class="mpre">-&gt; let (z&#39;,y) = f z x
    </span><span class="hl_comment"><span class="mpre">                                 in Yield y (s&#39; :*: z&#39;)
                       Skip s&#39;    -&gt; Skip (s&#39; :*: z)
                       Done       -&gt; Done
{-# INLINE [0] mapAccumL #-}
-}

-- -----------------------------------------------------------------------------
-- ** Generating and unfolding streams

replicateCharI :: Integral a =&gt; a -&gt; Char -&gt; Stream Char
replicateCharI n c
    | n &lt; 0     = empty
    | otherwise = Stream next 0 (fromIntegral n) -- HINT maybe too low
  where
    next i | i &gt;= n    = Done
           | otherwise = Yield c (i + 1)
{-# INLINE [0] replicateCharI #-}

data RI s = RI !s {-# UNPACK #-} !Int64

replicateI :: Int64 -&gt; Stream Char -&gt; Stream Char
replicateI n (Stream next0 s0 len) =
    Stream next (RI s0 0) (fromIntegral (max 0 n) * len)
  where
</span></span><span class="mpre">    next (RI s k)
        | k </span><span class="hl_comment"><span class="mpre">&gt;</span><span class="hl_comment"><span class="mpre">= n = Done
        | otherwise = case </span></span><span class="mpre">next0 s of
                        Done  </span></span><span class="mpre">     -&gt; Skip    (RI s0 (k+1))
           </span><a href="#loc_691_1_691_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_691_1_691_15&#39;)"><span class="mpre">             S</span></a><a name="loc_691_1_691_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_691_1_691_15&#39;)"><span class="hl_fundecl"><span class="mpre">kip s&#39;    -&gt; S</span></span></a><span class="mpre">k</span><a name="loc_691_16_691_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_691_16_691_17&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre">p</span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 690, srcSpanStartColumn = 19, srcSpanEndLine = 690, srcSpanEndColumn = 32}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 690, srcSpanStartColumn = 30, srcSpanEndLine = 690, srcSpanEndColumn = 32}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><a name="loc_691_18_691_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_691_18_691_19&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">   (RI s&#39; k)</span></span><span class="mpre">
</span><span class="hl_tyvar"><span class="mpre"> </span></span><span class="mpre">    </span><span class="hl_tyconref"><span class="mpre">    </span></span><span class="mpre">    </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">      </span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">    </span></span><span class="mpre">Yield x </span><a href="#loc_691_16_691_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_691_16_691_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">&#39;</span><span class="hl_infix"><span class="mpre"> </span></span><span class="mpre">-</span><span class="hl_num"><span class="mpre">&gt;</span></span><span class="mpre"> Yield </span><a href="Data.Text.Internal.Fusion.Types.html#loc_125_1_125_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_125_1_125_6&#39;)"><span class="hl_varref"><span class="mpre">x (RI</span></span></a><span class="mpre"> s</span><span class="hl_varref"><span class="mpre">&#39; k)
{-# </span></span><span class="mpre">INL</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">INE [0</span></span></a><span class="mpre">]</span><a href="#loc_695_5_695_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_695_5_695_9&#39;)"><span class="hl_varref"><span class="mpre"> rep</span></span></a><span class="mpre">l</span><span class="hl_num"><span class="mpre">i</span></span><span class="mpre">ca</span><span class="hl_varref"><span class="mpre">teI #-}

-- </span></span><span class="mpre">|</span><a href="#loc_691_16_691_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_691_16_691_17&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">/O</span><span class="hl_comment"><span class="mpre">(n)/, where @n@ is th</span></span><span class="mpre">e length of the result. The u</span><a name="loc_695_5_695_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_695_5_695_9&#39;)"><span class="hl_fundecl"><span class="mpre">nfol</span></span></a><span class="mpre">d</span><a name="loc_695_10_695_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_695_10_695_11&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> fu</span><a href="#loc_695_10_695_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_695_10_695_11&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">c</span><span class="hl_infix"><span class="mpre">ti</span></span><span class="mpre">o</span><a href="#loc_691_16_691_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_691_16_691_17&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">
-</span><span class="hl_varref"><span class="mpre">- is</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre"> ana</span></span></a><span class="mpre">l</span></span><span class="mpre">ogo</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">us to</span></span></a><span class="hl_pragma"><span class="mpre"> </span><a href="#loc_691_18_691_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_691_18_691_19&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">he</span><a href="#loc_695_10_695_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_695_10_695_11&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">L</span><span class="hl_infix"><span class="mpre">i</span></span><span class="mpre">s</span><span class="hl_num"><span class="mpre">t</span></span><span class="mpre"> &#39;unfo</span><a href="#loc_691_1_691_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_691_1_691_15&#39;)"><span class="mpre">ldr&#39;. unfoldr </span></a><span class="mpre">buil</span></span><span class="mpre">ds a stream
-- from a seed value. The function </span><span class="hl_tycondecl"><span class="mpre">ta</span></span><span class="mpre">k</span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre">s t</span><a name="loc_699_13_699_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_699_13_699_15&#39;)"><span class="hl_condecl"><span class="mpre">he</span></span></a><span class="mpre"> e</span><span class="hl_tyvar"><span class="mpre">l</span></span><span class="mpre">ement and returns</span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">
-- N</span></span></a><span class="mpre">ot</span><a href="#loc_702_1_702_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_1_702_11&#39;)"><span class="mpre">hing if it</span></a><a name="loc_702_1_702_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_1_702_11&#39;)"><span class="hl_fundecl"><span class="mpre"> is done p</span></span></a><span class="mpre">r</span><a name="loc_702_12_702_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_12_702_13&#39;)"><span class="hl_vardecl"><span class="mpre">o</span></span></a><span class="mpre">d</span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">ucing</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre"> the s</span></span></a><span class="mpre">t</span><a name="loc_702_22_702_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_22_702_27&#39;)"><span class="hl_vardecl"><span class="mpre">ream </span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">or ret</span></span></a><a name="loc_702_28_702_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_28_702_30&#39;)"><span class="hl_vardecl"><span class="mpre">ur</span></span></a><span class="hl_tyconref"><span class="mpre">n</span><a name="loc_702_31_702_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_31_702_34&#39;)"><span class="hl_vardecl"><span class="mpre">s J</span></span></a></span><span class="mpre">ust
</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">-- (a,</span></span></a><span class="mpre">b</span><span class="hl_tyconref"><span class="mpre">), i</span></span><span class="mpre">n whic</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">h case</span></span></a><span class="mpre">,</span><a href="#loc_705_5_705_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_705_5_705_9&#39;)"><span class="hl_varref"><span class="mpre"> a i</span></span></a><span class="mpre">s </span><a href="#loc_699_13_699_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_699_13_699_15&#39;)"><span class="hl_conref"><span class="mpre">th</span></span></a><span class="mpre">e</span><a href="#loc_702_28_702_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_28_702_30&#39;)"><span class="hl_varref"><span class="mpre"> n</span></span></a><span class="mpre">e</span><span class="hl_num"><span class="mpre">x</span></span><span class="mpre">t C</span><span class="hl_varref"><span class="mpre">har in the s</span></span><span class="mpre">tr</span><span class="hl_varref"><span class="mpre">ing</span></span><span class="mpre">,</span><span class="hl_num"><span class="mpre"> </span></span><span class="mpre">a</span><a href="#loc_702_12_702_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_12_702_13&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">d </span><span class="hl_infix"><span class="mpre">b</span></span><span class="mpre"> </span><a href="#loc_702_31_702_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_31_702_34&#39;)"><span class="hl_varref"><span class="mpre">is
</span></span></a><span class="mpre">-- the seed value for further production.
u</span><a name="loc_705_5_705_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_705_5_705_9&#39;)"><span class="hl_fundecl"><span class="mpre">nfol</span></span></a><span class="mpre">dr</span><a href="#loc_699_13_699_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_699_13_699_15&#39;)"><span class="hl_conref"><span class="mpre"> :</span></span></a><span class="mpre">:</span><a name="loc_705_14_705_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_705_14_705_15&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">(</span><a name="loc_705_16_705_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_705_16_705_17&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -</span><a href="#loc_705_16_705_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_705_16_705_17&#39;)"><span class="hl_varref"><span class="mpre">&gt;</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">Ma</span></span><span class="mpre">y</span><a href="#loc_702_12_702_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_12_702_13&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">e (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Char</span></span></a><span class="mpre">,a)) </span><span class="hl_varref"><span class="mpre">-&gt; a -&gt; S</span></span><span class="mpre">tream Ch</span><a href="#loc_702_22_702_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_22_702_27&#39;)"><span class="hl_varref"><span class="mpre">ar
un</span></span></a><span class="mpre">f</span><a href="#loc_705_14_705_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_705_14_705_15&#39;)"><span class="hl_varref"><span class="mpre">o</span></span></a><span class="mpre">ldr f s0 = Str</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">eam </span></span></a><span class="mpre">next s0 1 </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">-- H</span></span></a><span class="mpre">INT m</span><a href="#loc_699_13_699_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_699_13_699_15&#39;)"><span class="hl_conref"><span class="mpre">ay</span></span></a><span class="mpre">b</span><a href="#loc_702_28_702_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_28_702_30&#39;)"><span class="hl_varref"><span class="mpre">e </span></span></a><span class="mpre">to</span><a href="#loc_705_16_705_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_705_16_705_17&#39;)"><span class="hl_varref"><span class="mpre">o</span></span></a><span class="hl_infix"><span class="mpre"> </span></span><span class="hl_num"><span class="mpre">l</span></span><span class="mpre">ow
  </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">  wh</span></span></a><span class="mpre">e</span><a name="loc_709_30_709_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_709_30_709_32&#39;)"><span class="hl_vardecl"><span class="mpre">re</span></span></a><span class="mpre">
      </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">{-# </span></span></a><span class="mpre">INLIN</span><a href="#loc_699_13_699_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_699_13_699_15&#39;)"><span class="hl_conref"><span class="mpre">E </span></span></a><span class="mpre">n</span><a href="#loc_709_30_709_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_709_30_709_32&#39;)"><span class="hl_varref"><span class="mpre">ex</span></span></a><span class="mpre">t</span><a href="#loc_705_16_705_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_705_16_705_17&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">#-}
      next !s = case f s o</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">f
   </span></span></a><span class="mpre"> </span><a name="loc_710_31_710_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_710_31_710_32&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre"> </span><a name="loc_710_33_710_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_710_33_710_35&#39;)"><span class="hl_vardecl"><span class="mpre">  </span></span></a><span class="mpre">    </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">     </span></span></a><span class="mpre">N</span><a href="#loc_710_31_710_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_710_31_710_32&#39;)"><span class="hl_varref"><span class="mpre">o</span></span></a><span class="mpre">th</span><a href="#loc_699_13_699_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_699_13_699_15&#39;)"><span class="hl_conref"><span class="mpre">in</span></span></a><span class="mpre">g</span><a href="#loc_710_33_710_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_710_33_710_35&#39;)"><span class="hl_varref"><span class="mpre">  </span></span></a><span class="mpre"> </span><a href="#loc_705_16_705_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_705_16_705_17&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">  </span><span class="hl_pragma"><span class="mpre">-&gt; Done
       </span><a href="#loc_702_1_702_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_1_702_11&#39;)"><span class="mpre">          </span></a><span class="mpre">Just</span></span><span class="mpre"> (w, s&#39;) -&gt; Yield w s&#39;
{-# INLINE [0] unfoldr #-}

-- | /</span><span class="hl_comment"><span class="mpre">O</span><span class="hl_comment"><span class="mpre">(n)/ Like &#39;unfoldr&#39;, &#39;unfoldrNI&#39; builds a stream from a seed
-</span></span><span class="mpre">- value. </span></span><span class="mpre">Ho</span><span class="hl_comment"><span class="mpre">wever, the length of the result is limited by the
-- first argum</span></span><span class="hl_comment"><span class="mpre">ent to &#39;unfoldrNI&#39;. This function is more efficient than
-- &#39;</span></span><span class="mpre">unfo</span><span class="hl_comment"><span class="mpre">ldr&#39; when the length of the result is known.
unfoldrNI :: Integral </span></span><span class="hl_comment"><span class="mpre">a =&gt; a -&gt; (b -&gt; Maybe (Char,b)) -&gt; b -&gt; S</span></span><span class="mpre">tream Char
unfoldrNI n f s0</span><a href="#loc_720_1_720_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_720_1_720_8&#39;)"><span class="mpre"> | n &lt; </span></a><span class="mpre"> 0   </span><span class="hl_tyvar"><span class="mpre"> </span></span><span class="mpre">= em</span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">pty
 </span></span></a><span class="mpre">  </span><span class="hl_tyconref"><span class="mpre">    </span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre"> </span></span><span class="mpre">      </span><span class="hl_tyvar"><span class="mpre"> </span></span><span class="mpre"> | o</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">therwi</span></span></a><a name="loc_720_1_720_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_720_1_720_8&#39;)"><span class="hl_fundecl"><span class="mpre">se = St</span></span></a><span class="hl_tyconref"><span class="mpre">re</span><a name="loc_720_9_720_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_720_9_720_10&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">m</span></span><a name="loc_720_11_720_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_720_11_720_13&#39;)"><span class="hl_vardecl"><span class="mpre"> n</span></span></a><span class="mpre">ext</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre"> (0 :*</span></span></a><span class="mpre">:</span><a href="#loc_723_7_723_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_723_7_723_11&#39;)"><span class="hl_varref"><span class="mpre"> s0)</span></span></a><span class="mpre"> </span><a href="#loc_720_11_720_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_720_11_720_13&#39;)"><span class="hl_varref"><span class="mpre">(f</span></span></a><span class="mpre">r</span><span class="hl_num"><span class="mpre">o</span></span><span class="mpre">m</span><span class="hl_comment"><span class="mpre">Integral (n*2)) -- HI</span></span><span class="mpre">NT maybe too high
    where
      {-# INLINE next #-}
      </span><span class="hl_pragma"><span class="mpre">next (z :*</span><a name="loc_723_7_723_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_723_7_723_11&#39;)"><span class="hl_fundecl"><span class="mpre">: s)</span></span></a><a href="#loc_723_7_723_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_723_7_723_11&#39;)"><span class="mpre"> = c</span></a><span class="mpre">a</span><a name="loc_723_13_723_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_723_13_723_14&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">e </span></span><span class="mpre">f s of</span><a href="#loc_720_9_720_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_720_9_720_10&#39;)"><span class="hl_varref"><span class="mpre">
</span></span></a><span class="mpre"> </span><a href="#loc_723_13_723_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_723_13_723_14&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">        Nothing    </span><span class="hl_conref"><span class="mpre">       </span></span><span class="mpre">       -&gt;</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre"> Don</span></span></a><span class="mpre">e
      </span><span class="hl_conref"><span class="mpre">    </span></span><span class="mpre">Ju</span><a name="loc_725_24_725_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_725_24_725_25&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">t </span><a name="loc_725_27_725_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_725_27_725_29&#39;)"><span class="hl_vardecl"><span class="mpre">(w</span></span></a><span class="mpre">, s&#39;)</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre"> | z </span></span></a><span class="hl_pragma"><span class="mpre">&gt;</span><a href="#loc_725_24_725_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_725_24_725_25&#39;)"><span class="hl_varref"><span class="mpre">=</span></span></a><span class="mpre"> </span><a href="#loc_725_27_725_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_725_27_725_29&#39;)"><span class="hl_varref"><span class="mpre">n </span></span></a><span class="mpre">   -&gt; Done</span><a href="#loc_720_1_720_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_720_1_720_8&#39;)"><span class="mpre">
      </span></a><span class="mpre">    </span></span><span class="mpre">             | otherwise -&gt; Yield w ((z + 1) </span><span class="hl_comment"><span class="mpre">:</span><span class="hl_comment"><span class="mpre">*: s&#39;)
{-# INLINE unfoldrNI #-}

----------------------------</span></span><span class="mpre">-----</span></span><span class="mpre">--</span><span class="hl_comment"><span class="mpre">--------------------------------------------
--  * Substreams

-- | /O</span></span><span class="hl_comment"><span class="mpre">(n)/ take n, applied to a stream, returns the prefix</span></span><span class="mpre"> of the
-- stream o</span><a href="#loc_733_1_733_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_733_1_733_10&#39;)"><span class="mpre">f length </span></a><span class="mpre">@n@,</span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 732, srcSpanStartColumn = 14, srcSpanEndLine = 732, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 732, srcSpanStartColumn = 25, srcSpanEndLine = 732, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre"> or the strea</span></span><span class="mpre">m</span><span class="hl_tyvar"><span class="mpre"> </span></span><span class="mpre">itsel</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> if </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">@n@ i</span></span></a><span class="mpre">s </span><span class="hl_tyconref"><span class="mpre">grea</span></span><span class="mpre">t</span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre">r </span><a name="loc_733_1_733_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_733_1_733_10&#39;)"><span class="hl_fundecl"><span class="mpre">than</span><span class="hl_tyvar"><span class="mpre"> </span></span><span class="mpre">the
</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">-</span><a name="loc_733_11_733_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_733_11_733_12&#39;)"><span class="hl_vardecl"><span class="mpre">-</span></span></a><span class="mpre"> </span><a name="loc_733_13_733_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_733_13_733_14&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre">en</span></span></a><a name="loc_733_15_733_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_733_15_733_17&#39;)"><span class="hl_vardecl"><span class="mpre">gt</span></span></a><span class="hl_tyconref"><span class="mpre">h o</span><a href="#loc_733_11_733_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_733_11_733_12&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">t</span></span><span class="mpre">he</span><span class="hl_num"><span class="mpre"> </span></span><span class="mpre">stream</span><a href="Data.Text.Internal.Fusion.Types.html#loc_125_1_125_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_125_1_125_6&#39;)"><span class="hl_varref"><span class="mpre">.
tak</span></span></a><span class="mpre">e :: Integral a =&gt; a -&gt; Stream Char -&gt; Stream Char
take n</span><span class="hl_varref"><span class="mpre">0 (Stream</span></span><span class="mpre"> ne</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">xt0 s0</span></span></a><span class="mpre"> </span><a href="#loc_737_7_737_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_737_7_737_11&#39;)"><span class="hl_varref"><span class="mpre">len)</span></span></a><span class="mpre"> =</span><span class="hl_num"><span class="mpre">
</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">   </span></span></a><span class="mpre">S</span><a href="#loc_733_15_733_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_733_15_733_17&#39;)"><span class="hl_varref"><span class="mpre">tr</span></span></a><span class="mpre">eam</span><span class="hl_varref"><span class="mpre"> next (n0 :*</span></span><span class="mpre">: </span><a href="#loc_733_11_733_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_733_11_733_12&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="hl_infix"><span class="mpre">0</span></span><span class="hl_num"><span class="mpre">)</span></span><span class="mpre"> (s</span><span class="hl_comment"><span class="mpre">maller len (fromIntegr</span></span><span class="mpre">al (max 0 n0)))
    where
      {-# INLINE n</span><span class="hl_pragma"><span class="mpre">ext #-}
  </span><a name="loc_737_7_737_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_737_7_737_11&#39;)"><span class="hl_fundecl"><span class="mpre">    </span></span></a><a href="#loc_737_7_737_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_737_7_737_11&#39;)"><span class="mpre">next</span></a><span class="mpre"> </span><a name="loc_737_13_737_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_737_13_737_14&#39;)"><span class="hl_vardecl"><span class="mpre">(</span></span></a><span class="mpre">n </span></span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">:*:</span></span></a><span class="mpre"> </span><a name="loc_737_19_737_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_737_19_737_20&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) | n &lt;= </span><a href="#loc_733_13_733_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_733_13_733_14&#39;)"><span class="hl_varref"><span class="mpre">0</span></span></a><span class="mpre"> </span><a href="#loc_737_19_737_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_737_19_737_20&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">  = D</span><span class="hl_conref"><span class="mpre">one
   </span></span><span class="mpre">                  | o</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">ther</span></span></a><span class="mpre">wis</span><span class="hl_conref"><span class="mpre">e = </span></span><span class="mpre">ca</span><a name="loc_739_17_739_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_739_17_739_18&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">e </span><a name="loc_739_20_739_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_739_20_739_22&#39;)"><span class="hl_vardecl"><span class="mpre">ne</span></span></a><span class="mpre">xt0 </span><a href="#loc_737_13_737_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_737_13_737_14&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">of</span></span><span class="mpre">
</span><a href="#loc_733_11_733_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_733_11_733_12&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">       </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">    </span></span></a><span class="mpre">                         D</span><span class="hl_varref"><span class="mpre">one -&gt; Do</span></span><span class="mpre">ne
 </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">     </span></span></a><span class="hl_pragma"><span class="mpre"> </span><a href="#loc_739_17_739_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_739_17_739_18&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">   </span><a href="#loc_737_13_737_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_737_13_737_14&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre"> </span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre"> </span></span><span class="mpre"> </span><a href="#loc_733_1_733_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_733_1_733_10&#39;)"><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">   </span></span></a><span class="mpre"> </span><a href="#loc_739_20_739_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_739_20_739_22&#39;)"><span class="hl_varref"><span class="mpre">  </span></span></a><span class="mpre">  </span></a><span class="mpre">    </span></span><span class="mpre">       Skip s&#39; -&gt; Skip (n :*: s&#39;)
                              </span><span class="hl_comment"><span class="mpre"> </span><span class="hl_comment"><span class="mpre">      Yield x s&#39;</span></span><span class="mpre"> -&gt; Yield x ((n-1) :*: s&#39;)
{-# INLINE [0] take #-}

-- | /O(n)</span></span><span class="mpre">/ drop n, applied t</span><span class="hl_comment"><span class="mpre">o a stream, returns the suffix of the
-- stream after the first @n</span></span><span class="hl_comment"><span class="mpre">@ characters, or the empty stream if @n@
-- is greater than the length o</span></span><span class="hl_comment"><span class="mpre">f the stream.
drop :: In</span></span><span class="mpre">tegral a =&gt; a -&gt; Stream Char -&gt; Stream Char
drop </span><a href="#loc_750_1_750_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_750_1_750_5&#39;)"><span class="mpre">n0 (</span></a><span class="mpre">Stre</span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 749, srcSpanStartColumn = 9, srcSpanEndLine = 749, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 749, srcSpanStartColumn = 20, srcSpanEndLine = 749, srcSpanEndColumn = 22}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagra"><span class="mpre">am next0 s0 l</span></span><span class="mpre">e</span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre">) </span><a name="loc_750_1_750_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_750_1_750_5&#39;)"><span class="hl_fundecl"><span class="mpre">=
  </span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">  S</span><a name="loc_750_6_750_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_750_6_750_8&#39;)"><span class="hl_vardecl"><span class="mpre">tr</span></span></a><span class="mpre">e</span></span></a><span class="mpre">a</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="hl_tyconref"><span class="mpre">m ne</span></span><span class="mpre">xt</span></span></a><span class="mpre"> </span><a name="loc_750_17_750_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_750_17_750_22&#39;)"><span class="hl_vardecl"><span class="mpre">(J n0</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre"> :*: s</span></span></a><a name="loc_750_23_750_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_750_23_750_25&#39;)"><span class="hl_vardecl"><span class="mpre">0)</span></span></a><span class="hl_tyconref"><span class="mpre"> </span><a name="loc_750_26_750_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_750_26_750_29&#39;)"><span class="hl_vardecl"><span class="mpre">(le</span></span></a></span><span class="mpre">n - fromIntegral (max 0 n0))
 </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre"> where</span></span></a><span class="mpre">
</span><a href="#loc_754_7_754_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_754_7_754_11&#39;)"><span class="hl_varref"><span class="mpre">    </span></span></a><span class="mpre">{-</span><a href="#loc_750_6_750_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_750_6_750_8&#39;)"><span class="hl_varref"><span class="mpre"># </span></span></a><span class="mpre">I</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">NLI</span></span></a><span class="mpre">N</span><a href="#loc_750_23_750_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_750_23_750_25&#39;)"><span class="hl_varref"><span class="mpre">E </span></span></a><span class="mpre">nex</span><a href="Data.Text.Internal.Fusion.Size.html#loc_116_1_116_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Size.html#loc_116_1_116_8&#39;)"><span class="hl_varref"><span class="mpre">t #-}
 </span></span></a><span class="mpre"> </span><a href="#loc_750_26_750_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_750_26_750_29&#39;)"><span class="hl_varref"><span class="mpre">  n</span></span></a><span class="mpre">ex</span><span class="hl_varref"><span class="mpre">t (J n :*: s</span></span><span class="mpre">)
</span><span class="hl_varref"><span class="mpre">   </span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre"> </span></span><span class="mpre"> </span><a href="#loc_750_6_750_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_750_6_750_8&#39;)"><span class="hl_varref"><span class="mpre">| </span></span></a><span class="mpre">n &lt;= 0    = Skip (N :*: s)
      | otherwi</span><span class="hl_pragma"><span class="mpre">se = case </span><a name="loc_754_7_754_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_754_7_754_11&#39;)"><span class="hl_fundecl"><span class="mpre">next</span></span></a><a href="#loc_754_7_754_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_754_7_754_11&#39;)"><span class="mpre">0 s </span></a><span class="mpre">o</span><a name="loc_754_13_754_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_754_13_754_14&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre">
 </span></span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">   </span></span></a><span class="mpre"> </span><a name="loc_754_19_754_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_754_19_754_20&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">    </span><a href="#loc_754_13_754_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_754_13_754_14&#39;)"><span class="hl_varref"><span class="mpre">D</span></span></a><span class="mpre">o</span><span class="hl_infix"><span class="mpre">ne</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre"> </span></span><span class="mpre">     -</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">&gt; Do</span></span></a><span class="mpre">ne
       </span><span class="hl_varref"><span class="mpre">   Skip  </span></span><span class="mpre">  s&#39; -&gt; </span><a href="#loc_750_17_750_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_750_17_750_22&#39;)"><span class="hl_varref"><span class="mpre">Skip </span></span></a><span class="mpre">(</span><a href="#loc_754_19_754_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_754_19_754_20&#39;)"><span class="hl_varref"><span class="mpre">J</span></span></a><span class="mpre"> n    :*: s&#39;)
          Yield </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">_ s&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">Skip</span></span></a><span class="mpre"> (J (n-1) :*: s&#39;)
    next (N :*: s) = </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">case</span></span></a><span class="mpre"> </span><a name="loc_757_43_757_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_757_43_757_45&#39;)"><span class="hl_vardecl"><span class="mpre">ne</span></span></a><span class="mpre">xt0 </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">s of</span></span></a><span class="mpre">
 </span><a href="#loc_754_13_754_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_754_13_754_14&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">   </span></span></a><span class="mpre">D</span><a href="#loc_757_43_757_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_757_43_757_45&#39;)"><span class="hl_varref"><span class="mpre">on</span></span></a><span class="mpre">e       -&gt; Done
      Ski</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">p    </span></span></a><span class="mpre">s</span><a name="loc_758_44_758_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_758_44_758_45&#39;)"><span class="hl_vardecl"><span class="mpre">&#39;</span></span></a><span class="mpre"> </span><a name="loc_758_46_758_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_758_46_758_48&#39;)"><span class="hl_vardecl"><span class="mpre">-&gt;</span></span></a><span class="mpre"> Ski</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">p    </span></span></a><span class="mpre">(</span><a href="#loc_758_44_758_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_758_44_758_45&#39;)"><span class="hl_varref"><span class="mpre">N</span></span></a><span class="mpre"> :*</span><a href="#loc_754_13_754_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_754_13_754_14&#39;)"><span class="hl_varref"><span class="mpre">:</span></span></a><span class="hl_infix"><span class="mpre"> </span></span><span class="hl_num"><span class="mpre">s</span></span><span class="hl_pragma"><span class="mpre">&#39;)</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">
  </span></span></a><span class="mpre"> </span><a href="#loc_758_46_758_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_758_46_758_48&#39;)"><span class="hl_varref"><span class="mpre">  </span></span></a><span class="mpre"> Yield </span><a href="#loc_750_1_750_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_750_1_750_5&#39;)"><span class="mpre">x s&#39;</span></a><span class="mpre"> -&gt; </span></span><span class="mpre">Yield x (N :*: s&#39;)
{-# INLINE [0] drop #-}

-- | takeWhile, applied to a pr</span><span class="hl_comment"><span class="mpre">edicate @p@ and a stream, returns the
-- longest prefix (possibly </span></span><span class="hl_comment"><span class="mpre">empty) of elements that satisfy p.
takeWhile :: (Char -&gt; Bool) -&gt; St</span></span><span class="hl_comment"><span class="mpre">ream Char -&gt; Stream Char
takeWhile p (Stream</span></span><span class="mpre"> next0 s0 len) = Stream n</span><a href="#loc_765_1_765_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_1_765_5&#39;)"><span class="mpre">ext </span></a><span class="mpre">s0 l</span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 764, srcSpanStartColumn = 9, srcSpanEndLine = 764, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 764, srcSpanStartColumn = 20, srcSpanEndLine = 764, srcSpanEndColumn = 22}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagra"><span class="mpre">en -- HINT ma</span></span><span class="mpre">y</span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">e to</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">o high</span></span></a><span class="mpre">
</span><span class="hl_tyconref"><span class="mpre">    </span></span><span class="mpre">wher</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">e
    </span></span></a><a name="loc_765_1_765_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_1_765_5&#39;)"><span class="hl_fundecl"><span class="mpre">  {-</span></span></a><span class="hl_tyconref"><span class="mpre">#</span><a name="loc_765_6_765_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_6_765_8&#39;)"><span class="hl_vardecl"><span class="mpre"> I</span></span></a><span class="mpre">N</span></span><span class="mpre">L</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">INE ne</span></span></a><span class="mpre">x</span><a name="loc_765_17_765_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_17_765_22&#39;)"><span class="hl_vardecl"><span class="mpre">t #-}</span></span></a><span class="mpre">
</span><a name="loc_765_23_765_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_23_765_25&#39;)"><span class="hl_vardecl"><span class="mpre">  </span></span></a><span class="mpre"> </span><a name="loc_765_26_765_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_26_765_29&#39;)"><span class="hl_vardecl"><span class="mpre">   </span></span></a><span class="mpre">next !s = case next0 s of
    </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">      </span></span></a><span class="mpre"> </span><a href="#loc_769_5_769_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_769_5_769_9&#39;)"><span class="hl_varref"><span class="mpre">    </span></span></a><span class="mpre">  </span><a href="Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13&#39;)"><span class="hl_conref"><span class="mpre"> </span></span></a><span class="mpre">D</span><a href="#loc_765_6_765_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_6_765_8&#39;)"><span class="hl_varref"><span class="mpre">on</span></span></a><span class="mpre">e</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">   </span></span></a><span class="mpre"> </span><a href="#loc_765_23_765_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_23_765_25&#39;)"><span class="hl_varref"><span class="mpre">-&gt;</span></span></a><span class="mpre"> Do</span><a href="#loc_765_26_765_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_26_765_29&#39;)"><span class="hl_varref"><span class="mpre">ne
</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre"> </span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">            </span></span><span class="mpre">  </span><span class="hl_varref"><span class="mpre"> Sk</span></span><span class="mpre">i</span><span class="hl_num"><span class="mpre">p</span></span><span class="mpre"> </span><a href="#loc_765_6_765_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_6_765_8&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre"> -&gt; Skip s&#39;
                  Yield x s</span><span class="hl_pragma"><span class="mpre">&#39; | p x </span><a name="loc_769_5_769_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_769_5_769_9&#39;)"><span class="hl_fundecl"><span class="mpre">    </span></span></a><a href="#loc_769_5_769_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_769_5_769_9&#39;)"><span class="mpre">  -</span><a href="Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13&#39;)"><span class="hl_conref"><span class="mpre">&gt;</span></span></a></a><span class="mpre"> </span><a name="loc_769_13_769_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_769_13_769_14&#39;)"><span class="hl_vardecl"><span class="mpre">Y</span></span></a><span class="mpre">ie</span></span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">ld </span></span></a><span class="mpre">x</span><a name="loc_769_19_769_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_769_19_769_20&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">s&#39;
          </span><a href="#loc_769_13_769_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_769_13_769_14&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">  </span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre"> </span></span><span class="mpre">      </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">    </span></span></a><span class="mpre">  </span><a href="Data.Text.Internal.Fusion.Types.html#loc_40_12_40_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_40_12_40_13&#39;)"><span class="hl_conref"><span class="mpre"> </span></span></a><span class="mpre">|</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre"> ot</span></span></a><span class="hl_varref"><span class="mpre">her</span><a href="#loc_769_19_769_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_769_19_769_20&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre">ise -</span></span><span class="mpre">&gt; Done
{</span><a href="#loc_765_17_765_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_17_765_22&#39;)"><span class="hl_varref"><span class="mpre">-# IN</span></span></a><span class="mpre">L</span><a href="#loc_769_19_769_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_769_19_769_20&#39;)"><span class="hl_varref"><span class="mpre">I</span></span></a><span class="mpre">NE [0] takeWh</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">ile </span></span></a><span class="mpre">#-}

-- | </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">drop</span></span></a><span class="mpre">While @p @xs retur</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">ns t</span></span></a><span class="mpre">he s</span><a name="loc_773_19_773_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_773_19_773_21&#39;)"><span class="hl_vardecl"><span class="mpre">uf</span></span></a><span class="mpre">fix </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">rema</span></span></a><span class="mpre">in</span><a href="Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13&#39;)"><span class="hl_conref"><span class="mpre">i</span></span></a><span class="mpre">n</span><a href="#loc_769_13_769_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_769_13_769_14&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> aft</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">er </span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">ta</span><a href="#loc_773_19_773_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_773_19_773_21&#39;)"><span class="hl_varref"><span class="mpre">ke</span></span></a><span class="mpre">W</span></span></a><span class="mpre">hil</span><a name="loc_774_19_774_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_774_19_774_21&#39;)"><span class="hl_vardecl"><span class="mpre">e </span></span></a><span class="mpre">@p @</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">xs.
</span></span></a><span class="mpre">dr</span><a href="Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13&#39;)"><span class="hl_conref"><span class="mpre">o</span></span></a><span class="mpre">pW</span><a href="#loc_769_13_769_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_769_13_769_14&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="hl_infix"><span class="mpre">i</span></span><span class="hl_num"><span class="mpre">l</span></span><span class="mpre">e </span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">:: </span></span></a><span class="mpre">(</span><a href="#loc_774_19_774_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_774_19_774_21&#39;)"><span class="hl_varref"><span class="mpre">Ch</span></span></a><span class="mpre">ar -&gt;</span><a href="#loc_769_5_769_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_769_5_769_9&#39;)"><span class="hl_fundecl"><span class="mpre"> Boo</span></span></a><span class="mpre">l)</span><a href="Data.Text.Internal.Fusion.Types.html#loc_40_12_40_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_40_12_40_13&#39;)"><span class="hl_conref"><span class="mpre"> </span></span></a><span class="mpre">-</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">&gt; S</span></span></a><span class="mpre">t</span><a name="loc_775_17_775_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_775_17_775_18&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">eam Char </span><a href="#loc_765_17_765_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_17_765_22&#39;)"><span class="hl_varref"><span class="mpre">-&gt; St</span></span></a><span class="mpre">r</span><a href="#loc_775_17_775_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_775_17_775_18&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">am Char
dropWhile p</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre"> (St</span></span></a><span class="mpre">ream next0</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre"> s0 </span></span></a><span class="mpre">len) = Stream next </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">(S1 </span></span></a><span class="mpre">:*: </span><a name="loc_777_15_777_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_777_15_777_17&#39;)"><span class="hl_vardecl"><span class="mpre">s0</span></span></a><span class="mpre">) le</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">n --</span></span></a><span class="mpre"> HINT</span><a href="Data.Text.Internal.Fusion.Types.html#loc_40_12_40_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_40_12_40_13&#39;)"><span class="hl_conref"><span class="mpre"> </span></span></a><span class="mpre">m</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">ayb</span></span></a><span class="mpre">e </span></span></a><a href="#loc_777_15_777_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_777_15_777_17&#39;)"><span class="hl_varref"><span class="mpre">to</span></span></a><a name="loc_778_13_778_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_778_13_778_14&#39;)"><span class="hl_vardecl"><span class="mpre">o</span></span></a><span class="mpre"> </span><a name="loc_778_15_778_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_778_15_778_17&#39;)"><span class="hl_vardecl"><span class="mpre">hi</span></span></a><span class="mpre">gh
 </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">   wh</span></span></a><span class="mpre">e</span><a href="#loc_778_13_778_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_778_13_778_14&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">e
</span><a href="Data.Text.Internal.Fusion.Types.html#loc_40_12_40_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_40_12_40_13&#39;)"><span class="hl_conref"><span class="mpre"> </span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">  {</span></span></a><span class="mpre">-</span><a href="#loc_778_15_778_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_778_15_778_17&#39;)"><span class="hl_varref"><span class="mpre"># </span></span></a><span class="mpre">IN</span><span class="hl_pragma"><span class="mpre">LINE next #-}
 </span><a href="#loc_765_1_765_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_1_765_5&#39;)"><span class="mpre">   n</span></a><span class="mpre">ext </span></span><span class="mpre">(S1 :*: s)  = case next0 s of
      Done</span><span class="hl_comment"><span class="mpre"> </span><span class="hl_comment"><span class="mpre">                  -&gt; Done
      Skip    s&#39;             -&gt; Skip</span></span><span class="mpre">    (</span></span><span class="mpre">S1</span><a href="#loc_784_1_784_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_1_784_10&#39;)"><span class="mpre"> :*: s&#39;)
</span></a><span class="mpre">     </span><span class="hl_tyconref"><span class="mpre"> Yie</span></span><span class="mpre">ld x</span><span class="hl_tyconref"><span class="mpre"> s&#39; </span></span><span class="mpre">| p x</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">      </span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">-&gt; S</span></span><span class="mpre">kip </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">   (S1</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">:*: </span></span><span class="mpre">s&#39;)
  </span><a name="loc_784_1_784_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_1_784_10&#39;)"><span class="hl_fundecl"><span class="mpre">         </span></span></a><span class="mpre"> </span><a name="loc_784_11_784_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_11_784_12&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">  </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">  | ot</span></span></a><span class="mpre">h</span><a name="loc_784_21_784_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_21_784_26&#39;)"><span class="hl_vardecl"><span class="mpre">erwis</span></span></a><span class="mpre">e</span><a name="loc_784_27_784_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_27_784_29&#39;)"><span class="hl_vardecl"><span class="mpre"> -</span></span></a><span class="mpre">&gt;</span><a name="loc_784_30_784_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_30_784_33&#39;)"><span class="hl_vardecl"><span class="mpre"> Yi</span></span></a><span class="mpre">eld </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">x (S2 </span></span></a><span class="mpre">:</span><a href="#loc_787_7_787_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_787_7_787_11&#39;)"><span class="hl_varref"><span class="mpre">*: s</span></span></a><span class="mpre">&#39;</span><a href="#loc_784_27_784_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_27_784_29&#39;)"><span class="hl_varref"><span class="mpre">)
</span></span></a><span class="mpre"> </span><a href="#loc_784_30_784_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_30_784_33&#39;)"><span class="hl_varref"><span class="mpre">   </span></span></a><span class="mpre">n</span><span class="hl_comment"><span class="mpre">ext (S2 :*: s) = case </span></span><span class="mpre">next0 s of
      Done       -&gt; Done
      Skip    s&#39; -&gt; Skip    (</span><span class="hl_pragma"><span class="mpre">S2 :*: s&#39;)</span><a name="loc_787_7_787_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_787_7_787_11&#39;)"><span class="hl_fundecl"><span class="mpre">
   </span></span></a><a href="#loc_787_7_787_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_787_7_787_11&#39;)"><span class="mpre">   Y</span></a><span class="mpre">i</span><a name="loc_787_13_787_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_787_13_787_14&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre">ld</span></span><span class="mpre"> x s&#39; </span><a href="#loc_784_21_784_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_21_784_26&#39;)"><span class="hl_varref"><span class="mpre">-&gt; Yi</span></span></a><span class="mpre">e</span><a href="#loc_787_13_787_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_787_13_787_14&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">d x (S2 :*: s&#39;)
</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">{-# </span></span></a><span class="mpre">INLINE </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">[0] </span></span></a><span class="mpre">dropWhile #-}

--</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre"> | /</span></span></a><span class="mpre">O</span><a name="loc_789_24_789_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_789_24_789_26&#39;)"><span class="hl_vardecl"><span class="mpre">(n</span></span></a><span class="mpre">)/ T</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">he &#39;</span></span></a><span class="mpre">i</span><a href="#loc_789_24_789_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_789_24_789_26&#39;)"><span class="hl_varref"><span class="mpre">sP</span></span></a><span class="mpre">refixOf&#39; functio</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">n tak</span></span></a><span class="mpre">e</span><a name="loc_790_25_790_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_790_25_790_26&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> </span><a name="loc_790_27_790_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_790_27_790_29&#39;)"><span class="hl_vardecl"><span class="mpre">tw</span></span></a><span class="mpre">o &#39;</span><a href="#loc_784_11_784_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_11_784_12&#39;)"><span class="hl_varref"><span class="mpre">S</span></span></a><span class="mpre">t</span><a href="#loc_790_25_790_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_790_25_790_26&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">eam&#39;s and </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">retur</span></span></a><span class="mpre">n</span><a href="#loc_790_25_790_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_790_25_790_26&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
</span><a href="#loc_790_27_790_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_790_27_790_29&#39;)"><span class="hl_varref"><span class="mpre">--</span></span></a><span class="mpre"> &#39;True&#39; iff th</span><span class="hl_varref"><span class="mpre">e first i</span></span><span class="mpre">s a </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">pref</span></span></a><span class="mpre">ix of t</span><span class="hl_pragma"><span class="mpre">he second.
isPr</span><a href="#loc_784_1_784_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_1_784_10&#39;)"><span class="mpre">efixOf ::</span></a><span class="mpre"> (Eq</span></span><span class="mpre"> a) =&gt; Stream a -&gt; Stream a -&gt; Bool
isPrefixOf (St</span><span class="hl_comment"><span class="mpre">r</span><a href="#loc_796_1_796_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_796_1_796_10&#39;)"><span class="mpre">eam next1</span></a><span class="mpre"> s1 _</span><span class="hl_tyconref"><span class="mpre">) (S</span></span><span class="mpre">trea</span><span class="hl_tyconref"><span class="mpre">m ne</span></span><span class="mpre">xt2 s</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">2 _) =</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">loop</span></span><span class="mpre"> (ne</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">xt1 s1</span></span></a><span class="mpre">)</span><span class="hl_tyconref"><span class="mpre"> (ne</span></span><span class="mpre">xt2 s2)
    wher</span></span><span class="mpre">e
</span><a name="loc_796_1_796_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_796_1_796_10&#39;)"><span class="hl_fundecl"><span class="mpre">      loo</span></span></a><span class="mpre">p</span><a name="loc_796_11_796_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_796_11_796_12&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">Do</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">ne    </span></span></a><span class="mpre"> </span><a name="loc_796_21_796_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_796_21_796_26&#39;)"><span class="hl_vardecl"><span class="mpre"> _ = </span></span></a><span class="mpre">T</span><a name="loc_796_27_796_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_796_27_796_29&#39;)"><span class="hl_vardecl"><span class="mpre">ru</span></span></a><span class="mpre">e</span><a name="loc_796_30_796_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_796_30_796_33&#39;)"><span class="hl_vardecl"><span class="mpre">
  </span></span></a><span class="mpre">    </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">loop _</span></span></a><span class="mpre"> </span><a href="#loc_799_5_799_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_799_5_799_9&#39;)"><span class="hl_varref"><span class="mpre">   D</span></span></a><span class="mpre">on</span><a href="Data.Text.Internal.Fusion.Types.html#loc_57_15_57_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_15_57_17&#39;)"><span class="hl_conref"><span class="mpre">e </span></span></a><span class="mpre">=</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre"> Fa</span></span></a><span class="mpre">l</span><a href="#loc_796_27_796_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_796_27_796_29&#39;)"><span class="hl_varref"><span class="mpre">se</span></span></a><span class="mpre">
 </span><a href="#loc_796_30_796_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_796_30_796_33&#39;)"><span class="hl_varref"><span class="mpre">   </span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre"> loop (Skip s1&#39;)     (</span></span><span class="mpre">Skip s2&#39;)     = loop (next1 s1&#39;) (next2 s2&#39;)
      loop (Skip s</span><span class="hl_pragma"><span class="mpre">1&#39;)     x2</span><a name="loc_799_5_799_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_799_5_799_9&#39;)"><span class="hl_fundecl"><span class="mpre">    </span></span></a><a href="#loc_799_5_799_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_799_5_799_9&#39;)"><span class="mpre">    </span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_57_15_57_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_15_57_17&#39;)"><span class="hl_conref"><span class="mpre">  </span></span></a><span class="mpre"> </span></span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre"> = </span></span></a><span class="mpre">l</span><a name="loc_799_18_799_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_799_18_799_19&#39;)"><span class="hl_vardecl"><span class="mpre">o</span></span></a><span class="mpre">op (next1 </span><a href="#loc_796_21_796_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_796_21_796_26&#39;)"><span class="hl_varref"><span class="mpre">s1&#39;) </span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">x2
 </span></span></a><a href="#loc_799_18_799_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_799_18_799_19&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">    loop x1          </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">   (</span></span></a><span class="mpre">Skip s2&#39;)</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">    </span></span></a><span class="mpre"> = l</span><a name="loc_801_15_801_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_801_15_801_17&#39;)"><span class="hl_vardecl"><span class="mpre">oo</span></span></a><span class="mpre">p x1          (n</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">ext2</span></span></a><span class="mpre"> s2&#39;)</span><a href="Data.Text.Internal.Fusion.Types.html#loc_57_15_57_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_15_57_17&#39;)"><span class="hl_conref"><span class="mpre">
 </span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">   </span></span></a><span class="mpre"> </span></span></a><a href="#loc_801_15_801_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_801_15_801_17&#39;)"><span class="hl_varref"><span class="mpre">l</span><a name="loc_802_13_802_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_802_13_802_14&#39;)"><span class="hl_vardecl"><span class="mpre">o</span></span></a></span></a><span class="mpre">o</span><a name="loc_802_15_802_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_802_15_802_17&#39;)"><span class="hl_vardecl"><span class="mpre">p </span></span></a><span class="mpre">(Yi</span><a href="#loc_796_11_796_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_796_11_796_12&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">l</span><a href="#loc_802_13_802_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_802_13_802_14&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre"> x1 s1&#39;) (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Yiel</span></span></a><span class="mpre">d x2 </span><a href="Data.Text.Internal.Fusion.Types.html#loc_57_15_57_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_15_57_17&#39;)"><span class="hl_conref"><span class="mpre">s2</span></span></a><span class="mpre">&#39;</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">) =</span></span></a><span class="mpre"> </span><a href="#loc_802_15_802_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_802_15_802_17&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre"> == x2 &amp;&amp;
           </span><span class="hl_varref"><span class="mpre">         </span></span><span class="mpre">    </span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">     </span></span></a><span class="mpre"> </span><a href="#loc_802_13_802_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_802_13_802_14&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">  </span><a href="Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22&#39;)"><span class="hl_conref"><span class="mpre">  </span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">   </span></span></a><span class="mpre"> </span><a href="#loc_802_15_802_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_802_15_802_17&#39;)"><span class="hl_varref"><span class="mpre">  </span></span></a><span class="mpre"> loop </span><a href="#loc_799_5_799_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_799_5_799_9&#39;)"><span class="hl_fundecl"><span class="mpre">(nex</span></span></a><span class="mpre">t1</span><a href="Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22&#39;)"><span class="hl_conref"><span class="mpre"> s</span></span></a><span class="mpre">1</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">&#39;) </span></span></a><span class="mpre">(</span><a name="loc_804_18_804_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_804_18_804_19&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre">ext2 s2&#39;)</span><a href="#loc_796_21_796_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_796_21_796_26&#39;)"><span class="hl_varref"><span class="mpre">
{-# </span></span></a><span class="mpre">I</span><a href="#loc_804_18_804_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_804_18_804_19&#39;)"><span class="hl_varref"><span class="mpre">N</span></span></a><span class="mpre">LINE [0] isPrefixOf #-}
</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">
-- </span></span></a><span class="mpre">----------</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">----</span></span></a><span class="mpre">--------------------</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">----</span></span></a><span class="mpre">----</span><a name="loc_806_15_806_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_806_15_806_17&#39;)"><span class="hl_vardecl"><span class="mpre">--</span></span></a><span class="mpre">----</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">----</span></span></a><span class="mpre">-----</span><a href="Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22&#39;)"><span class="hl_conref"><span class="mpre">--</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">-</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">---</span></span></a><span class="mpre">-</span></span></a><a href="#loc_806_15_806_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_806_15_806_17&#39;)"><span class="hl_varref"><span class="mpre">-</span><a name="loc_807_13_807_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_807_13_807_14&#39;)"><span class="hl_vardecl"><span class="mpre">-</span></span></a></span></a><span class="mpre">-</span><a name="loc_807_15_807_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_807_15_807_17&#39;)"><span class="hl_vardecl"><span class="mpre">--</span></span></a><span class="mpre">----</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">---
-</span></span></a><span class="mpre">-</span><a href="#loc_807_13_807_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_807_13_807_14&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">* </span><a href="Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_57_20_57_22&#39;)"><span class="hl_conref"><span class="mpre">Se</span></span></a><span class="mpre">a</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">rch</span></span></a><span class="mpre">i</span><a href="#loc_807_15_807_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_807_15_807_17&#39;)"><span class="hl_varref"><span class="mpre">ng</span></span></a><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">---------------</span><a href="#loc_796_1_796_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_796_1_796_10&#39;)"><span class="mpre">---------</span></a><span class="mpre">----</span></span><span class="mpre">-----------------------------------------</span><span class="hl_comment"><span class="mpre">-</span><span class="hl_comment"><span class="mpre">---------
-- ** Searching by equality

-- | /O(n)/</span></span><span class="mpre"> elem is the strea</span></span><span class="mpre">m </span><a href="#loc_813_1_813_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_813_1_813_11&#39;)"><span class="mpre">membership</span></a><span class="mpre"> pre</span><span class="warning" data-warning="ContextCxParen (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 812, srcSpanStartColumn = 15, srcSpanEndLine = 812, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 812, srcSpanStartColumn = 15, srcSpanEndLine = 812, srcSpanEndColumn = 16},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/I"><span class="mpre">dicate.
e</span></span><span class="mpre">l</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">em :: </span></span></a><span class="mpre">C</span><span class="hl_tyvar"><span class="mpre">h</span></span><span class="mpre">ar -</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">&gt; Stre</span></span></a><span class="mpre">a</span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> Cha</span><span class="hl_tyconref"><span class="mpre">r -&gt;</span></span><a name="loc_813_1_813_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_813_1_813_11&#39;)"><span class="hl_fundecl"><span class="mpre"> Bool
elem</span></span></a><span class="mpre"> w</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre"> (Stre</span></span></a><span class="mpre">a</span><a name="loc_813_20_813_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_813_20_813_25&#39;)"><span class="hl_vardecl"><span class="mpre">m nex</span></span></a><span class="mpre">t</span><a name="loc_813_26_813_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_813_26_813_28&#39;)"><span class="hl_vardecl"><span class="mpre"> s</span></span></a><span class="mpre">0 _le</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">n) = l</span></span></a><span class="mpre">o</span><a name="loc_813_40_813_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_813_40_813_45&#39;)"><span class="hl_vardecl"><span class="mpre">op_el</span></span></a><span class="mpre">e</span><a name="loc_813_46_813_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_813_46_813_48&#39;)"><span class="hl_vardecl"><span class="mpre">m </span></span></a><span class="mpre">s0
   </span><a href="#loc_815_7_815_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_815_7_815_11&#39;)"><span class="hl_varref"><span class="mpre"> whe</span></span></a><span class="mpre">re</span><a href="#loc_813_20_813_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_813_20_813_25&#39;)"><span class="hl_varref"><span class="mpre">
    </span></span></a><span class="mpre"> </span><a href="#loc_813_26_813_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_813_26_813_28&#39;)"><span class="hl_varref"><span class="mpre"> l</span></span></a><span class="mpre">oop</span><a href="#loc_813_40_813_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_813_40_813_45&#39;)"><span class="hl_varref"><span class="mpre">_elem</span></span></a><span class="mpre"> </span><a href="#loc_813_46_813_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_813_46_813_48&#39;)"><span class="hl_varref"><span class="mpre">!s</span></span></a><span class="mpre"> = case next s of
                       Done -&gt; False
      </span><a name="loc_815_7_815_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_815_7_815_11&#39;)"><span class="hl_fundecl"><span class="mpre">    </span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">    </span></span></a><span class="mpre"> </span><a href="#loc_815_7_815_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_815_7_815_11&#39;)"><span class="hl_fundecl"><span class="mpre">    </span></span></a><span class="mpre">   Sk</span><span class="hl_conref"><span class="mpre">ip s</span></span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">&#39; -&gt;</span></span></a><span class="mpre"> lo</span><span class="hl_conref"><span class="mpre">op_el</span></span><span class="mpre">em s&#39;
  </span><a href="#loc_815_7_815_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_815_7_815_11&#39;)"><span class="hl_fundecl"><span class="mpre">    </span></span></a><span class="mpre">  </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">    </span></span></a><span class="mpre"> </span><a name="loc_817_18_817_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_817_18_817_21&#39;)"><span class="hl_vardecl"><span class="mpre">   </span></span></a><span class="mpre">       </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">Yiel</span></span></a><span class="mpre">d</span><a name="loc_817_33_817_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_817_33_817_36&#39;)"><span class="hl_vardecl"><span class="mpre"> x </span></span></a><a href="#loc_815_7_815_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_815_7_815_11&#39;)"><span class="hl_fundecl"><span class="mpre">s&#39; |</span></span></a><span class="mpre"> x</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre"> == </span></span></a><a href="#loc_815_7_815_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_815_7_815_11&#39;)"><span class="hl_varref"><span class="mpre">w -&gt;</span></span></a><a name="loc_818_18_818_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_818_18_818_21&#39;)"><span class="hl_vardecl"><span class="mpre"> Tr</span></span></a><a href="#loc_813_20_813_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_813_20_813_25&#39;)"><span class="hl_varref"><span class="mpre">ue
  </span></span></a><span class="mpre"> </span><a href="#loc_817_18_817_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_817_18_817_21&#39;)"><span class="hl_varref"><a name="loc_818_27_818_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_818_27_818_29&#39;)"><span class="hl_vardecl"><span class="mpre">  </span></span></a><span class="mpre"> </span></span></a><span class="mpre">   </span><a href="#loc_813_40_813_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_813_40_813_45&#39;)"><span class="hl_varref"><span class="mpre">     </span></span></a><span class="mpre"> </span><a href="#loc_817_33_817_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_817_33_817_36&#39;)"><span class="hl_varref"><span class="mpre">   </span></span></a><span class="mpre">  </span><a href="#loc_815_7_815_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_815_7_815_11&#39;)"><span class="hl_varref"><span class="mpre">    </span></span></a><span class="mpre">  </span><a href="#loc_813_20_813_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_813_20_813_25&#39;)"><span class="hl_varref"><span class="mpre">     </span></span></a><span class="mpre"> </span><a href="#loc_818_18_818_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_818_18_818_21&#39;)"><span class="hl_varref"><span class="mpre">  |</span></span></a><span class="mpre"> o</span><a href="#loc_818_27_818_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_818_27_818_29&#39;)"><span class="hl_varref"><span class="mpre">th</span></span></a><span class="mpre">erwise -&gt; loop_e</span><a href="#loc_815_7_815_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_815_7_815_11&#39;)"><span class="hl_fundecl"><span class="mpre">lem </span></span></a><span class="mpre">s</span><a name="loc_819_12_819_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_819_12_819_14&#39;)"><span class="hl_vardecl"><span class="mpre">&#39;
</span></span></a><span class="mpre">{-# INLINE [0]</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre"> ele</span></span></a><span class="mpre">m</span><a name="loc_819_33_819_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_819_33_819_36&#39;)"><span class="hl_vardecl"><span class="mpre"> #-</span></span></a><span class="mpre">}

-----</span><a href="#loc_815_7_815_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_815_7_815_11&#39;)"><span class="hl_varref"><span class="mpre">----</span></span></a><span class="mpre">-</span><a href="#loc_819_12_819_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_819_12_819_14&#39;)"><span class="hl_varref"><span class="mpre">--</span></span></a><span class="mpre">-----------</span><a href="#loc_813_40_813_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_813_40_813_45&#39;)"><span class="hl_varref"><span class="mpre">-----</span></span></a><span class="mpre">-</span><a href="#loc_819_33_819_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_819_33_819_36&#39;)"><span class="hl_varref"><span class="mpre">---</span></span></a><a href="#loc_815_7_815_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_815_7_815_11&#39;)"><span class="hl_fundecl"><span class="mpre">----</span></span></a><span class="mpre">--</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">-----</span></span></a><span class="mpre">-</span><a name="loc_820_19_820_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_19_820_21&#39;)"><span class="hl_vardecl"><span class="mpre">--</span></span></a><span class="mpre">-</span><a name="loc_820_22_820_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_22_820_25&#39;)"><span class="hl_vardecl"><span class="mpre">---</span></span></a><span class="mpre">---</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">-----</span></span></a><span class="mpre">-</span><a name="loc_820_34_820_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_34_820_36&#39;)"><span class="hl_vardecl"><span class="mpre">--</span></span></a><span class="mpre">-</span><a name="loc_820_37_820_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_37_820_40&#39;)"><span class="hl_vardecl"><span class="mpre">---</span></span></a><span class="mpre">----</span><a href="#loc_820_19_820_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_19_820_21&#39;)"><span class="hl_varref"><span class="mpre">--</span></span></a><span class="mpre">-</span><span class="hl_infix"><span class="mpre">--</span></span><span class="mpre">-</span><a href="#loc_820_34_820_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_34_820_36&#39;)"><span class="hl_varref"><span class="mpre">--</span></span></a><span class="mpre">-</span><span class="hl_infix"><span class="mpre">-
</span></span><span class="mpre">-- ** Searching with a predicate

-- | /O(n)/ The &#39;findBy&#39; fu</span><a href="#loc_815_7_815_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_815_7_815_11&#39;)"><span class="hl_varref"><span class="mpre">ncti</span></span></a><span class="mpre">on</span><a href="#loc_813_20_813_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_813_20_813_25&#39;)"><span class="hl_varref"><span class="mpre"> take</span></span></a><span class="mpre">s</span><span class="hl_pragma"><a href="#loc_820_22_820_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_22_820_25&#39;)"><span class="hl_varref"><span class="mpre"> a </span></span></a><span class="mpre">pre</span><a href="#loc_813_40_813_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_813_40_813_45&#39;)"><span class="hl_varref"><span class="mpre">dicat</span></span></a><span class="mpre">e</span><a href="#loc_820_37_820_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_37_820_40&#39;)"><span class="hl_varref"><span class="mpre"> an</span></span></a><a href="#loc_813_1_813_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_813_1_813_11&#39;)"><span class="mpre">d a stream</span></a><span class="mpre">,
--</span></span><span class="mpre"> and returns the first element in matching the predicate, or &#39;Nothing&#39;
--</span><span class="hl_comment"><span class="mpre"> </span><span class="hl_comment"><span class="mpre">if there is no</span></span><span class="mpre"> such element.

findBy :: (Char -&gt; Bool) -&gt; Stream Char -&gt; Maybe</span></span><span class="mpre"> Char
findBy p (S</span><span class="hl_comment"><span class="mpre">t</span><span class="hl_comment"><span class="mpre">ream next s0 _len) = loop_f</span></span><span class="mpre">ind s0
    where
      loop_find !s = case next s o</span></span><span class="mpre">f
                       Done </span><span class="hl_comment"><span class="mpre">-</span><a href="#loc_832_1_832_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_1_832_5&#39;)"><span class="mpre">&gt; No</span></a><span class="mpre">thin</span><span class="hl_tyconref"><span class="mpre">g
  </span></span><span class="mpre">    </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">      </span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">    </span></span><span class="mpre">    </span><span class="hl_tyconref"><span class="mpre">  Sk</span></span><span class="mpre">ip s&#39; -&gt; loop_fi</span></span><span class="mpre">nd</span><a name="loc_832_1_832_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_1_832_5&#39;)"><span class="hl_fundecl"><span class="mpre"> s&#39;
</span></span></a><span class="mpre"> </span><a name="loc_832_6_832_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_6_832_7&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre">  </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">      </span></span></a><span class="mpre"> </span><a name="loc_832_16_832_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_16_832_20&#39;)"><span class="hl_vardecl"><span class="mpre">    </span></span></a><span class="mpre"> </span><a name="loc_832_21_832_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_21_832_23&#39;)"><span class="hl_vardecl"><span class="mpre">  </span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">    </span></span><span class="mpre">Yiel</span><a href="#loc_834_7_834_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_834_7_834_16&#39;)"><span class="hl_varref"><span class="mpre">d x s&#39; | </span></span></a><span class="mpre">p</span><a href="#loc_832_21_832_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_21_832_23&#39;)"><span class="hl_varref"><span class="mpre"> x</span></span></a><span class="mpre"> -&gt; Just x
                                </span><a name="loc_834_7_834_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_834_7_834_16&#39;)"><span class="hl_fundecl"><span class="mpre">  | other</span></span></a><span class="mpre">wi</span><a name="loc_834_18_834_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_834_18_834_19&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">e -&gt; loo</span><a href="#loc_832_16_832_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_16_832_20&#39;)"><span class="hl_varref"><span class="mpre">p_fi</span></span></a><span class="mpre">n</span><a href="#loc_834_18_834_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_834_18_834_19&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">s&#39;
{</span></span></a><span class="mpre">-# I</span><span class="hl_conref"><span class="mpre">NLINE</span></span><span class="mpre"> [0] findBy #-}

-- | /</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">O(n)</span></span></a><span class="mpre">/</span><a name="loc_836_29_836_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_836_29_836_31&#39;)"><span class="hl_vardecl"><span class="mpre"> S</span></span></a><span class="mpre">trea</span><a href="#loc_834_7_834_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_834_7_834_16&#39;)"><span class="hl_varref"><span class="mpre">m index (</span></span></a><span class="mpre">s</span><a href="#loc_836_29_836_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_836_29_836_31&#39;)"><span class="hl_varref"><span class="mpre">ub</span></span></a><span class="mpre">script) operat</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">or, s</span></span></a><span class="mpre">t</span><a name="loc_837_30_837_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_837_30_837_31&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">r</span><a name="loc_837_32_837_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_837_32_837_34&#39;)"><span class="hl_vardecl"><span class="mpre">ti</span></span></a><span class="mpre">ng </span><a href="#loc_837_30_837_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_837_30_837_31&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">r</span><span class="hl_infix"><span class="mpre">om</span></span><span class="mpre"> </span><a href="#loc_832_6_832_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_6_832_7&#39;)"><span class="hl_varref"><span class="mpre">0</span></span></a><span class="mpre">.
in</span><span class="hl_conref"><span class="mpre">dexI</span></span><span class="mpre"> :: Integral a =&gt; Stream Char -&gt; </span><span class="hl_varref"><span class="mpre">a -&gt; Char</span></span><span class="mpre">
ind</span><a href="#loc_834_7_834_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_834_7_834_16&#39;)"><span class="hl_varref"><span class="mpre">exI (Stre</span></span></a><span class="hl_pragma"><span class="mpre">am next </span><a href="#loc_837_32_837_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_837_32_837_34&#39;)"><span class="hl_varref"><span class="mpre">s0</span></span></a><span class="mpre"> _len</span><a href="#loc_832_1_832_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_1_832_5&#39;)"><span class="mpre">) n0</span></a><span class="mpre">
  |</span></span><span class="mpre"> n0 &lt; 0    = streamError &quot;index&quot; &quot;Negative index&quot;
  | otherwise</span><span class="hl_comment"><span class="mpre"> </span><span class="hl_comment"><span class="mpre">= loop_index n0 s0
  where
    l</span></span><span class="mpre">oop_index !n !s = case next s of
      Done   </span></span><span class="mpre">                -&gt; streamError &quot;ind</span><span class="hl_comment"><span class="mpre">ex&quot; &quot;Index too large&quot;
      Skip    s&#39;             -&gt; loop_index </span></span><span class="hl_comment"><span class="mpre"> n    s&#39;
      Yield x s&#39; | n == 0    -&gt; x
                 | otherwise </span></span><span class="hl_comment"><span class="mpre">-&gt; loop_index (n-1) s&#39;
{-# INLI</span></span><span class="mpre">NE [0] indexI #-}

-- | /O(n)/ &#39;filter&#39;, applied to a predicate and a stre</span><a href="#loc_849_1_849_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_849_1_849_7&#39;)"><span class="mpre">am,
--</span></a><a name="loc_849_1_849_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_849_1_849_7&#39;)"><span class="hl_fundecl"><span class="mpre"> retur</span></span></a><span class="mpre">n</span><a name="loc_849_8_849_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_849_8_849_9&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> a</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="hl_tyconref"><span class="mpre"> str</span></span><span class="mpre">ea</span></span></a><span class="mpre">m</span><a name="loc_849_18_849_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_849_18_849_22&#39;)"><span class="hl_vardecl"><span class="mpre"> con</span></span></a><span class="hl_tyconref"><span class="mpre">tain</span></span><a name="loc_849_23_849_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_849_23_849_25&#39;)"><span class="hl_vardecl"><span class="mpre">in</span></span></a><span class="mpre">g</span><span class="hl_vardecl"><span class="mpre"> tho</span></span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">se cha</span></span></a><a href="#loc_851_7_851_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_851_7_851_16&#39;)"><span class="hl_varref"><span class="mpre">r</span><span class="hl_tyconref"><span class="mpre">acte</span></span><span class="mpre">rs t</span></span></a><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">h</span><a href="#loc_849_23_849_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_849_23_849_25&#39;)"><span class="hl_varref"><span class="mpre">at</span></span></a><span class="mpre"> s</span></span></a><span class="mpre">a</span><span class="hl_tyconref"><span class="mpre">tisf</span></span><span class="mpre">y the
-- predicate.
filter :: (Char -&gt; Bool) -&gt; Stream</span><a name="loc_851_7_851_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_851_7_851_16&#39;)"><span class="hl_fundecl"><span class="mpre"> Char -&gt; </span></span></a><span class="mpre">St</span><a name="loc_851_18_851_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_851_18_851_19&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">eam Char</span><a href="#loc_849_18_849_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_849_18_849_22&#39;)"><span class="hl_varref"><span class="mpre">
fil</span></span></a><span class="mpre">t</span><a href="#loc_851_18_851_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_851_18_851_19&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">r</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre"> p (</span></span></a><span class="mpre">Stre</span><span class="hl_conref"><span class="mpre">am next</span></span><span class="mpre">0 s0 len) = Stream ne</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">xt s</span></span></a><span class="mpre">0</span><a name="loc_853_29_853_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_853_29_853_31&#39;)"><span class="hl_vardecl"><span class="mpre"> l</span></span></a><span class="mpre">en -</span><a href="#loc_851_7_851_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_851_7_851_16&#39;)"><span class="hl_varref"><span class="mpre">- HINT ma</span></span></a><span class="mpre">y</span><a href="#loc_853_29_853_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_853_29_853_31&#39;)"><span class="hl_varref"><span class="mpre">be</span></span></a><span class="mpre"> too high
  wher</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">e
   </span></span></a><span class="mpre"> </span><a name="loc_854_30_854_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_854_30_854_31&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre">e</span><a name="loc_854_32_854_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_854_32_854_34&#39;)"><span class="hl_vardecl"><span class="mpre">xt</span></span></a><span class="mpre"> !s</span><a href="#loc_849_8_849_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_849_8_849_9&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">=</span><a href="#loc_854_30_854_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_854_30_854_31&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">case</span><span class="hl_conref"><span class="mpre"> nex</span></span><span class="mpre">t</span><a href="#loc_854_30_854_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_854_30_854_31&#39;)"><span class="hl_varref"><span class="mpre">0</span></span></a><span class="mpre"> s of
                Done        </span><span class="hl_varref"><span class="mpre">         </span></span><span class="mpre">  -&gt;</span><a href="#loc_851_7_851_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_851_7_851_16&#39;)"><span class="hl_varref"><span class="mpre"> Done
   </span></span></a><span class="hl_pragma"><span class="mpre">         </span><a href="#loc_854_32_854_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_854_32_854_34&#39;)"><span class="hl_varref"><span class="mpre">  </span></span></a><span class="mpre">  Sk</span><a href="#loc_849_1_849_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_849_1_849_7&#39;)"><span class="mpre">ip    </span></a><span class="mpre">s&#39;  </span></span><span class="mpre">           -&gt; Skip    s&#39;
                Yield x s&#39; | p x      </span><span class="hl_comment"><span class="mpre"> </span><a href="#loc_860_1_860_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_860_1_860_7&#39;)"><span class="mpre">-&gt; Yie</span></a><span class="mpre">ld x</span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 859, srcSpanStartColumn = 11, srcSpanEndLine = 859, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 859, srcSpanStartColumn = 22, srcSpanEndLine = 859, srcSpanEndColumn = 24}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre"> s&#39;
         </span></span><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">      </span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">    </span></span><span class="mpre">    </span><span class="hl_tyvar"><span class="mpre"> </span></span><span class="mpre"> | o</span><span class="hl_tyconref"><span class="mpre">ther</span></span><span class="mpre">wise -&gt; Skip  </span></span><span class="mpre">  </span><a name="loc_860_1_860_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_860_1_860_7&#39;)"><span class="hl_fundecl"><span class="mpre">s&#39;
{-#</span></span></a><span class="mpre"> I</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">NLINE </span></span></a><span class="mpre">[</span><a name="loc_860_16_860_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_860_16_860_20&#39;)"><span class="hl_vardecl"><span class="mpre">0] f</span></span></a><span class="mpre">i</span><a name="loc_860_21_860_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_860_21_860_23&#39;)"><span class="hl_vardecl"><span class="mpre">lt</span></span></a><span class="mpre">e</span><span class="hl_vardecl"><span class="mpre">r #-</span></span><span class="mpre">}
</span><a name="loc_860_30_860_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_860_30_860_32&#39;)"><span class="hl_vardecl"><span class="mpre">
{</span></span></a><span class="mpre">-# RULES
  &quot;STREAM fil</span><a href="#loc_860_30_860_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_860_30_860_32&#39;)"><span class="hl_varref"><span class="mpre">te</span></span></a><span class="mpre">r</span><span class="hl_infix"><span class="mpre">/</span></span><span class="mpre">f</span><span class="hl_num"><span class="mpre">i</span></span><span class="mpre">lter f</span><a href="#loc_944_1_944_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_944_1_944_12&#39;)"><span class="hl_varref"><span class="mpre">usion&quot; fora</span></span></a><span class="mpre">l</span><span class="hl_string"><span class="mpre">l p q s</span></span><span class="mpre">.</span><span class="hl_string"><span class="hl_varref"><span class="mpre">
  filter</span></span><span class="mpre"> p (fil</span></span><a href="#loc_864_5_864_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_864_5_864_15&#39;)"><span class="hl_varref"><span class="mpre">ter q s) =</span></span></a><span class="mpre"> </span><a href="#loc_860_30_860_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_860_30_860_32&#39;)"><span class="hl_varref"><span class="mpre">fi</span></span></a><span class="mpre">l</span><a href="#loc_860_21_860_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_860_21_860_23&#39;)"><span class="hl_varref"><span class="mpre">te</span></span></a><span class="mpre">r (\x -&gt; q x &amp;&amp; p x) s
  #-}

-- | The &#39;findIndexI&#39; functi</span><a name="loc_864_5_864_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_864_5_864_15&#39;)"><span class="hl_fundecl"><span class="mpre">on takes a</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre"> p</span><a name="loc_864_17_864_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_864_17_864_18&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">e</span></span></a><span class="mpre">d</span><a name="loc_864_20_864_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_864_20_864_21&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre">cate and</span><a href="#loc_860_16_860_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_860_16_860_20&#39;)"><span class="hl_varref"><span class="mpre"> a s</span></span></a><span class="mpre">t</span><a href="#loc_864_20_864_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_864_20_864_21&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">eam an</span><a href="#loc_944_1_944_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_944_1_944_12&#39;)"><span class="hl_varref"><span class="mpre">d
-- return</span></span></a><span class="mpre">s</span><span class="hl_string"><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre"> the</span></span></a><span class="mpre"> in</span></span><span class="mpre">d</span><span class="hl_string"><a name="loc_866_15_866_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_866_15_866_17&#39;)"><span class="hl_vardecl"><span class="mpre">ex</span></span></a><span class="mpre"> of the first e</span></span><span class="mpre">l</span><a href="#loc_864_5_864_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_864_5_864_15&#39;)"><span class="hl_varref"><span class="mpre">ement in t</span></span></a><span class="mpre">he</span><a href="#loc_864_17_864_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_864_17_864_18&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">stre</span><a href="#loc_866_15_866_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_866_15_866_17&#39;)"><span class="hl_varref"><span class="mpre">am</span></span></a><span class="mpre"> satisfying the
-- predic</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">ate.
</span></span></a><span class="mpre">f</span><a name="loc_867_13_867_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_867_13_867_14&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre">n</span><a name="loc_867_15_867_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_867_15_867_17&#39;)"><span class="hl_vardecl"><span class="mpre">dI</span></span></a><span class="mpre">nde</span><a href="#loc_864_17_864_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_864_17_864_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">I</span><span class="hl_infix"><span class="mpre"> :</span></span><span class="mpre">:</span><span class="hl_num"><span class="mpre"> </span></span><span class="mpre">Integra</span><a href="#loc_867_13_867_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_867_13_867_14&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> a =&gt; (Char -&gt; Bool) -&gt; Stream Char -&gt;</span><span class="hl_varref"><span class="mpre"> Maybe a
</span></span><span class="mpre">find</span><a href="#loc_864_5_864_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_864_5_864_15&#39;)"><span class="hl_varref"><span class="mpre">IndexI p s</span></span></a><span class="hl_pragma"><span class="mpre"> = case fi</span><a href="#loc_864_17_864_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_864_17_864_18&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="hl_infix"><span class="mpre">d</span></span><span class="hl_num"><span class="mpre">I</span></span><span class="mpre">nd</span><a href="#loc_860_1_860_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_860_1_860_7&#39;)"><a href="#loc_867_15_867_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_867_15_867_17&#39;)"><span class="hl_varref"><span class="mpre">ic</span></span></a><span class="mpre">esI </span></a><span class="mpre">p s </span></span><span class="mpre">of
                  (i:_) -&gt; Just i
                </span><span class="hl_comment"><span class="mpre">  _     -&gt; Nothing
{-# INLINE [0] findIndexI #-}

-- | The</span></span><span class="hl_comment"><span class="mpre"> &#39;findIndicesI&#39; function takes a predicate and a stream and
-- r</span></span><span class="hl_comment"><span class="mpre">eturns all in</span></span><span class="mpre">dices of the elements in the stream satisfying the
-</span><a href="#loc_875_1_875_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_875_1_875_7&#39;)"><span class="mpre">- pred</span></a><span class="mpre">icate</span><span class="hl_tyconref"><span class="mpre">.
fi</span></span><a name="loc_875_1_875_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_875_1_875_7&#39;)"><span class="hl_fundecl"><span class="mpre">ndIndi</span></span></a><span class="hl_tyconref"><span class="mpre">ce</span><a name="loc_875_8_875_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_875_8_875_9&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">I</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">:: Int</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">egral </span></span></a><a name="loc_875_18_875_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_875_18_875_23&#39;)"><span class="hl_vardecl"><span class="mpre">a =&gt; </span></span></a><span class="hl_tyconref"><span class="mpre">(C</span><a name="loc_875_24_875_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_875_24_875_26&#39;)"><span class="hl_vardecl"><span class="mpre">ha</span></span></a></span><span class="mpre">r</span><a name="loc_875_27_875_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_875_27_875_30&#39;)"><span class="hl_vardecl"><span class="mpre"> -&gt;</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre"> Bool)</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre"> -&gt; St</span></span></a><span class="hl_tyconref"><span class="mpre">ream</span></span><a href="#loc_877_5_877_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_877_5_877_9&#39;)"><span class="hl_varref"><span class="mpre"> Cha</span></span></a><span class="mpre">r</span><a href="#loc_875_24_875_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_875_24_875_26&#39;)"><span class="hl_varref"><span class="mpre"> -</span></span></a><span class="mpre">&gt;</span><a href="#loc_875_27_875_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_875_27_875_30&#39;)"><span class="hl_varref"><span class="mpre"> [a</span></span></a><span class="mpre">]</span><span class="hl_comment"><span class="mpre">
findIndicesI p (Strea</span></span><span class="mpre">m next s0 _len) = loop_findIndex 0 s0
  where
    loop_findI</span><a name="loc_877_5_877_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_877_5_877_9&#39;)"><span class="hl_fundecl"><span class="mpre">ndex</span></span></a><span class="mpre"> !</span><a name="loc_877_11_877_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_877_11_877_12&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> !s = ca</span><a href="#loc_875_18_875_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_875_18_875_23&#39;)"><span class="hl_varref"><span class="mpre">se ne</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">x</span><a href="#loc_877_11_877_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_877_11_877_12&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> s</span></span></a><span class="mpre"> of
      Done        </span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">    </span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">    </span></span></a><span class="mpre">   -</span><a name="loc_879_25_879_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_879_25_879_27&#39;)"><span class="hl_vardecl"><span class="mpre">&gt; </span></span></a><span class="mpre">[]
      Skip   </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre"> s&#39; </span></span></a><span class="mpre">    </span><a href="#loc_879_25_879_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_879_25_879_27&#39;)"><span class="hl_varref"><span class="mpre">  </span></span></a><span class="mpre">      -&gt; lo</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">op_fi</span></span></a><span class="mpre">n</span><a name="loc_880_23_880_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_880_23_880_24&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre">I</span><a name="loc_880_25_880_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_880_25_880_27&#39;)"><span class="hl_vardecl"><span class="mpre">nd</span></span></a><span class="mpre">ex </span><a href="#loc_875_8_875_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_875_8_875_9&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_880_23_880_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_880_23_880_24&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">   s&#39; -- h</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">mm. n</span></span></a><span class="mpre">o</span><a href="#loc_880_23_880_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_880_23_880_24&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_880_25_880_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_880_25_880_27&#39;)"><span class="hl_varref"><span class="mpre">ca</span></span></a><span class="mpre">ught by QC
      Yield x s&#39; | </span><span class="hl_varref"><span class="mpre">p x      </span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">i : </span></span></a><span class="mpre">loop</span><a href="#loc_880_25_880_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_880_25_880_27&#39;)"><span class="hl_varref"><span class="mpre">_f</span></span></a><span class="mpre">i</span><span class="hl_pragma"><span class="mpre">ndIndex (i+1) s</span><a href="#loc_875_1_875_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_875_1_875_7&#39;)"><span class="mpre">&#39;
    </span></a><span class="mpre">    </span></span><span class="mpre">         | otherwise -&gt; loop_findIndex (i+1) s&#39;
{-# IN</span><span class="hl_pragma"><span class="mpre">LINE [0] findIndicesI #-}

-----------------------------------</span></span><span class="mpre">--------------------------------------------
-- * Zippi</span><span class="hl_comment"><span class="mpre">ng

-- | zipWith generalises &#39;zip&#39; by zipping with the function g</span></span><span class="hl_comment"><span class="mpre">iven as
-- the first argument, instead of a tupling function.
zipWith </span></span><span class="hl_comment"><span class="mpre">:: (a -&gt; a -&gt;</span></span><span class="mpre"> b) -&gt; Stream a -&gt; Stream a -&gt; Stream b
zipWith f (Stream </span><a href="#loc_893_1_893_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_893_1_893_11&#39;)"><span class="mpre">next0 sa0 </span></a><span class="mpre">len1</span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 892, srcSpanStartColumn = 15, srcSpanEndLine = 892, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 892, srcSpanStartColumn = 26, srcSpanEndLine = 892, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><a name="loc_893_1_893_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_893_1_893_11&#39;)"><span class="hl_fundecl"><span class="mpre">) (Stream </span></span></a><span class="mpre">n</span><a name="loc_893_12_893_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_893_12_893_13&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre">x</span></span><a name="loc_893_14_893_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_893_14_893_15&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre">1</span><span class="hl_tyconref"><span class="mpre"> sb0</span></span><span class="mpre"> le</span><a href="#loc_902_1_902_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_902_1_902_13&#39;)"><span class="hl_varref"><span class="mpre">n</span><span class="hl_tyconref"><span class="mpre">2) =</span></span><span class="mpre">
    St</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">rea</span><a href="#loc_893_12_893_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_893_12_893_13&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><a href="#loc_893_14_893_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_893_14_893_15&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a></span></a><span class="mpre">e</span><span class="hl_tyconref"><span class="mpre">xt (</span></span><span class="mpre">sa0 </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">:*: s</span></span></a><span class="mpre">b</span><span class="hl_tyvar"><span class="mpre">0</span></span><span class="mpre"> :*: N) (smaller len1 len2)
    wh</span><a name="loc_894_20_894_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_894_20_894_21&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="hl_infix"><span class="mpre">r</span></span><span class="mpre">e
    </span><span class="hl_conref"><span class="mpre">  ne</span></span><span class="mpre">x</span><a href="#loc_894_20_894_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_894_20_894_21&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (sa :*: sb :*: N) = case next0 sa o</span><span class="hl_conref"><span class="mpre">f
     </span></span><span class="hl_pragma"><span class="mpre">               </span><a href="#loc_893_1_893_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_893_1_893_11&#39;)"><span class="mpre">          </span></a><span class="mpre">   D</span></span><span class="mpre">one -&gt; Done
                        </span><span class="hl_comment"><span class="mpre">         Skip sa&#39; -&gt; Skip (sa&#39; :*: sb :*: N)
                      </span></span><span class="hl_comment"><span class="mpre">           Yield a sa&#39; -&gt; Skip (sa&#39; :*: sb :*: J a)

      next (sa</span></span><span class="mpre">&#39;</span><span class="hl_comment"><span class="mpre"> :*: sb :*: J</span></span><span class="mpre"> a) = case next1 sb of
                                </span><a href="#loc_902_1_902_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_902_1_902_13&#39;)"><span class="mpre">    Done -&gt; </span></a><span class="mpre">Do</span><a name="loc_902_1_902_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_902_1_902_13&#39;)"><span class="hl_fundecl"><span class="mpre">ne
         </span></span></a><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 901, srcSpanStartColumn = 17, srcSpanEndLine = 901, srcSpanEndColumn = 30}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 901, srcSpanStartColumn = 28, srcSpanEndLine = 901, srcSpanEndColumn = 30}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">           </span><a name="loc_902_14_902_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_902_14_902_15&#39;)"><span class="hl_vardecl"><span class="mpre"> </span></span></a><span class="mpre"> </span></span><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">    </span></span><span class="mpre"> </span></span></a><span class="mpre"> </span><a name="loc_902_24_902_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_902_24_902_28&#39;)"><span class="hl_vardecl"><span class="mpre">    </span></span></a><span class="hl_tyconref"><span class="mpre">  Sk</span></span><a name="loc_902_29_902_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_902_29_902_31&#39;)"><span class="hl_vardecl"><span class="mpre">ip</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">sb&#39; </span></span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">-&gt; Ski</span></span></a><a href="#loc_904_5_904_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_904_5_904_19&#39;)"><span class="hl_varref"><span class="mpre">p </span><span class="hl_tyconref"><span class="mpre">(sa&#39;</span></span><span class="mpre"> :*: </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">b&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">:</span></span><span class="mpre">*</span><a href="#loc_902_29_902_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_902_29_902_31&#39;)"><span class="hl_varref"><span class="mpre">: </span></span></a><span class="mpre">J a)
                                    Yield b sb&#39; -&gt; Yield (f a b) (s</span><a name="loc_904_5_904_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_904_5_904_19&#39;)"><span class="hl_fundecl"><span class="mpre">a&#39; :*: sb&#39;</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre"> :*:</span></span></a></span></a><span class="mpre"> N</span><a name="loc_904_21_904_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_904_21_904_22&#39;)"><span class="hl_vardecl"><span class="mpre">)</span></span></a><span class="mpre">
{</span><a name="loc_904_24_904_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_904_24_904_25&#39;)"><span class="hl_vardecl"><span class="mpre">-</span></span></a><span class="mpre"># INLINE</span><a href="#loc_902_24_902_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_902_24_902_28&#39;)"><span class="hl_varref"><span class="mpre"> [0]</span></span></a><span class="mpre"> </span><a href="#loc_904_24_904_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_904_24_904_25&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre">ipWith #-}

-- | /</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"><span class="mpre">O(n)</span></span></a><span class="mpre">/ Th</span><a name="loc_906_15_906_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_906_15_906_17&#39;)"><span class="hl_vardecl"><span class="mpre">e </span></span></a><span class="mpre">&#39;countCharI&#39; fun</span><a href="#loc_904_5_904_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_904_5_904_19&#39;)"><span class="hl_varref"><span class="mpre">ction ret</span><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"><span class="mpre">urns </span></span></a></span></a><span class="mpre">t</span><a href="#loc_904_21_904_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_904_21_904_22&#39;)"><a name="loc_907_13_907_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_907_13_907_14&#39;)"><span class="hl_varref"><span class="hl_vardecl"><span class="mpre">h</span></span></span></a></a><span class="mpre">e</span><a name="loc_907_15_907_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_907_15_907_17&#39;)"><span class="hl_vardecl"><span class="mpre"> n</span></span></a><span class="mpre">um</span><a href="#loc_906_15_906_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_906_15_906_17&#39;)"><span class="hl_varref"><span class="mpre">b</span><a href="#loc_902_14_902_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_902_14_902_15&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a></span></a><span class="mpre">r</span><span class="hl_comment"><a href="#loc_907_13_907_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_907_13_907_14&#39;)"><span class="hl_varref"><span class="mpre"> </span></span></a><span class="mpre">of times t</span><a href="#loc_904_21_904_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_904_21_904_22&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">e</span><span class="hl_infix"><span class="mpre">
</span></span><span class="mpre">-- query e</span></span><a href="#loc_904_5_904_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_904_5_904_19&#39;)"><span class="hl_varref"><span class="mpre">lement appears</span></span></a><span class="mpre"> i</span><a href="#loc_904_21_904_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_904_21_904_22&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="hl_infix"><span class="mpre"> </span></span><span class="hl_num"><span class="mpre">t</span></span><span class="mpre">he</span><a href="#loc_907_15_907_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_907_15_907_17&#39;)"><span class="hl_varref"><span class="mpre"> g</span></span></a><span class="mpre">iven stream.
countCharI :: Integral a =&gt; </span><span class="hl_varref"><span class="mpre">Char -&gt; S</span></span><span class="mpre">trea</span><a href="#loc_904_5_904_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_904_5_904_19&#39;)"><span class="hl_varref"><span class="mpre">m Char -&gt; a
co</span></span></a><span class="mpre">un</span><a href="#loc_904_21_904_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_904_21_904_22&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="hl_infix"><span class="mpre">C</span></span><span class="hl_num"><span class="mpre">h</span></span><span class="mpre">ar</span><a href="#loc_907_15_907_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_907_15_907_17&#39;)"><span class="hl_varref"><span class="mpre">I </span></span></a><span class="mpre">a (St</span><span class="hl_pragma"><span class="mpre">ream next s0 _l</span><a href="#loc_902_1_902_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_902_1_902_13&#39;)"><span class="mpre">en) = loop 0</span></a><span class="mpre"> s0
</span></span><span class="mpre">  where
    loop !i !s = case next s of
      Done       </span><span class="hl_comment"><span class="mpre"> </span><span class="hl_comment"><span class="mpre">           -</span></span><span class="mpre">&gt; i
      Skip    s&#39;             -&gt; loop i s&#39;
      Yield x s&#39; | a</span></span><span class="mpre"> == x    -&gt; loo</span><span class="hl_comment"><span class="mpre">p</span><span class="hl_comment"><span class="mpre"> (i+1) s&#39;
                 | otherwise -&gt; loop i s&#39;
{</span></span><span class="mpre">-# INLINE [0] </span></span><span class="mpre">co</span><a href="#loc_917_1_917_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_917_1_917_8&#39;)"><span class="mpre">untChar</span></a><span class="mpre">I #-}</span><span class="hl_tyvar"><span class="mpre">
</span></span><span class="mpre">
str</span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre">amEr</span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">or ::</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre"> Strin</span></span></a><span class="mpre">g</span><span class="hl_tyvar"><span class="mpre"> </span></span><span class="mpre">-&gt; S</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">tring </span></span></a><span class="mpre">-</span><span class="hl_tyvar"><span class="mpre">&gt;</span></span><span class="mpre"> a
s</span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"><span class="mpre">treamE</span></span></a><a name="loc_917_1_917_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_917_1_917_8&#39;)"><span class="hl_fundecl"><span class="mpre">rror </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">u</span></span></a><span class="mpre">n</span><a name="loc_917_9_917_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_917_9_917_10&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> m</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">sg = P</span></span></a><span class="mpre">.</span><a name="loc_917_19_917_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_917_19_917_24&#39;)"><span class="hl_vardecl"><span class="mpre">error</span></span></a><span class="mpre"> </span><a name="loc_917_25_917_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_917_25_917_28&#39;)"><span class="hl_vardecl"><span class="mpre">$ &quot;</span></span></a><span class="mpre">D</span><a name="loc_917_29_917_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_917_29_917_33&#39;)"><span class="hl_vardecl"><span class="mpre">ata.</span></span></a><span class="mpre">Tex</span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">t.Inte</span></span></a><span class="mpre">r</span><a name="loc_917_43_917_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_917_43_917_48&#39;)"><span class="hl_vardecl"><span class="mpre">nal.F</span></span></a><span class="mpre">u</span><a name="loc_917_49_917_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_917_49_917_52&#39;)"><span class="hl_vardecl"><span class="mpre">sio</span></span></a><span class="mpre">n</span><a name="loc_917_53_917_57" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_917_53_917_57&#39;)"><span class="hl_vardecl"><span class="mpre">.Com</span></span></a><span class="mpre">mon.&quot; ++ </span><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"><span class="mpre">func +</span></span></a><span class="mpre">+</span><a href="#loc_920_7_920_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_920_7_920_11&#39;)"><span class="hl_varref"><span class="mpre"> &quot;: </span></span></a><span class="mpre">&quot; </span><a href="#loc_917_25_917_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_917_25_917_28&#39;)"><span class="hl_varref"><span class="mpre">++ </span></span></a><span class="mpre">m</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">sg
</span></span></a><span class="mpre">
</span><a href="#loc_917_49_917_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_917_49_917_52&#39;)"><span class="hl_varref"><span class="mpre">emp</span></span></a><span class="mpre">t</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">yEr</span></span></a><span class="mpre">r</span><a href="Data.Text.Internal.Fusion.Types.html#loc_40_12_40_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_40_12_40_13&#39;)"><span class="hl_conref"><span class="mpre">o</span></span></a><span class="mpre">r :</span><a href="Data.Text.Internal.Fusion.Size.html#loc_116_1_116_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Size.html#loc_116_1_116_8&#39;)"><span class="hl_varref"><span class="mpre">: Strin</span></span></a><span class="mpre">g</span><a href="#loc_917_29_917_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_917_29_917_33&#39;)"><span class="hl_varref"><span class="mpre"> -&gt; </span></span></a><span class="mpre">a</span><a href="#loc_917_53_917_57" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_917_53_917_57&#39;)"><span class="hl_varref"><span class="mpre">
emp</span></span></a><span class="mpre">tyError func = internalError func &quot;Empty input&quot;

internalError :: St</span><a name="loc_920_7_920_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_920_7_920_11&#39;)"><span class="hl_fundecl"><span class="mpre">ring</span></span></a><span class="mpre"> -</span><a name="loc_920_13_920_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_920_13_920_15&#39;)"><span class="hl_vardecl"><span class="mpre">&gt; </span></span></a><span class="mpre">a</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">
in</span></span></a><span class="mpre">t</span><a name="loc_920_20_920_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_920_20_920_22&#39;)"><span class="hl_vardecl"><span class="mpre">er</span></span></a><span class="mpre">n</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">alE</span></span></a><span class="mpre">r</span><a href="Data.Text.Internal.Fusion.Types.html#loc_40_12_40_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_40_12_40_13&#39;)"><span class="hl_conref"><span class="mpre">r</span></span></a><span class="mpre">or func =</span><a href="#loc_917_19_917_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_917_19_917_24&#39;)"><span class="hl_varref"><span class="mpre"> stre</span></span></a><span class="mpre">a</span><a href="#loc_920_13_920_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_920_13_920_15&#39;)"><span class="hl_varref"><span class="mpre">mE</span></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">rror</span></span></a><span class="mpre"> fun</span><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><span class="mpre">c &quot;I</span></span></a><span class="mpre">nternal error&quot;
</span><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"></span></a><a name="loc_922_39_922_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_922_39_922_42&#39;)"><span class="hl_vardecl"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"></span></a><a href="#loc_922_39_922_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_922_39_922_42&#39;)"><span class="hl_varref"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"></span></a><a href="#loc_920_20_920_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_920_20_920_22&#39;)"><span class="hl_varref"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_40_12_40_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_40_12_40_13&#39;)"><span class="hl_conref"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"></span></a><a name="loc_923_40_923_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_923_40_923_41&#39;)"><span class="hl_vardecl"></span></a><a name="loc_923_42_923_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_923_42_923_45&#39;)"><span class="hl_vardecl"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"></span></a><a href="#loc_923_42_923_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_923_42_923_45&#39;)"><span class="hl_varref"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"></span></a><a href="#loc_920_20_920_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_920_20_920_22&#39;)"><span class="hl_varref"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13&#39;)"><span class="hl_conref"></span></a><a href="#loc_923_40_923_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_923_40_923_41&#39;)"><span class="hl_varref"></span></a><a href="#loc_920_7_920_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_920_7_920_11&#39;)"><span class="hl_fundecl"></span></a><a name="loc_925_13_925_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_925_13_925_16&#39;)"><span class="hl_vardecl"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"></span></a><a name="loc_925_21_925_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_925_21_925_23&#39;)"><span class="hl_vardecl"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13&#39;)"><span class="hl_conref"></span></a><a name="loc_925_30_925_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_925_30_925_31&#39;)"><span class="hl_vardecl"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"></span></a><a href="#loc_917_43_917_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_917_43_917_48&#39;)"><span class="hl_varref"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"><a href="#loc_925_21_925_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_925_21_925_23&#39;)"><span class="hl_varref"></span></a></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"></span></a><a name="loc_927_42_927_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_927_42_927_45&#39;)"><span class="hl_vardecl"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"></span></a><a href="#loc_925_13_925_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_925_13_925_16&#39;)"><span class="hl_varref"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"></span></a><a href="#loc_927_42_927_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_927_42_927_45&#39;)"><span class="hl_varref"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_41_12_41_13&#39;)"><span class="hl_conref"></span></a><a href="#loc_925_30_925_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_925_30_925_31&#39;)"><span class="hl_varref"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"></span></a><a name="loc_928_43_928_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_928_43_928_44&#39;)"><span class="hl_vardecl"></span></a><a name="loc_928_45_928_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_928_45_928_48&#39;)"><span class="hl_vardecl"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"></span></a><a href="#loc_917_9_917_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_917_9_917_10&#39;)"><span class="hl_varref"></span></a><a href="#loc_925_30_925_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_925_30_925_31&#39;)"><span class="hl_varref"></span></a><a href="#loc_928_43_928_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_928_43_928_44&#39;)"><span class="hl_varref"></span></a><a href="#loc_925_13_925_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_925_13_925_16&#39;)"><span class="hl_varref"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"></span></a><a href="#loc_928_45_928_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_928_45_928_48&#39;)"><span class="hl_varref"></span></a><span class="hl_pragma"><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_40_12_40_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_40_12_40_13&#39;)"><span class="hl_conref"></span></a><a href="#loc_917_1_917_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_917_1_917_8&#39;)"></a></span><span class="hl_comment"><span class="hl_comment"></span></span><a href="#loc_934_1_934_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_934_1_934_11&#39;)"></a><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 933, srcSpanStartColumn = 15, srcSpanEndLine = 933, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Internal/Fusion/Common.hs&quot;, srcSpanStartLine = 933, srcSpanStartColumn = 26, srcSpanEndLine = 933, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"></span><span class="hl_tyconref"></span><a href="Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_88_6_88_12&#39;)"><span class="hl_tyconref"></span></a><span class="hl_tyconref"></span><a name="loc_934_1_934_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_934_1_934_11&#39;)"><span class="hl_fundecl"><span class="hl_tyvar"></span></span></a><a name="loc_934_12_934_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_934_12_934_13&#39;)"><span class="hl_vardecl"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_89_15_89_21&#39;)"><span class="hl_conref"></span></a><a name="loc_934_22_934_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_934_22_934_26&#39;)"><span class="hl_vardecl"></span></a><a name="loc_934_27_934_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_934_27_934_29&#39;)"><span class="hl_vardecl"></span></a><span class="hl_vardecl"></span><a href="#loc_936_5_936_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_5_936_9&#39;)"><span class="hl_varref"></span></a><span class="hl_num"></span><a href="#loc_934_27_934_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_934_27_934_29&#39;)"><span class="hl_varref"></span></a><a name="loc_936_5_936_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_5_936_9&#39;)"><span class="hl_fundecl"></span></a><a name="loc_936_11_936_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_11_936_12&#39;)"><span class="hl_vardecl"></span></a><a name="loc_936_14_936_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_14_936_15&#39;)"><span class="hl_vardecl"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_59_17_59_21&#39;)"><span class="hl_conref"></span></a><a href="#loc_934_22_934_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_934_22_934_26&#39;)"><span class="hl_varref"></span></a><a href="#loc_936_14_936_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_14_936_15&#39;)"><span class="hl_varref"></span></a><a href="#loc_936_11_936_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_11_936_12&#39;)"><span class="hl_varref"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_60_17_60_21&#39;)"><span class="hl_conref"></span></a><a name="loc_938_15_938_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_938_15_938_17&#39;)"><span class="hl_vardecl"></span></a><a href="#loc_936_5_936_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_5_936_9&#39;)"><span class="hl_varref"></span></a><a href="#loc_936_11_936_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_11_936_12&#39;)"><span class="hl_varref"></span></a><a href="#loc_938_15_938_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_938_15_938_17&#39;)"><span class="hl_varref"></span></a><a href="Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_61_17_61_22&#39;)"><span class="hl_conref"></span></a><a name="loc_939_13_939_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_939_13_939_14&#39;)"><span class="hl_vardecl"></span></a><a name="loc_939_15_939_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_939_15_939_17&#39;)"><span class="hl_vardecl"></span></a><a href="#loc_934_12_934_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_934_12_934_13&#39;)"><span class="hl_varref"></span></a><span class="hl_infix"></span><a href="#loc_939_13_939_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_939_13_939_14&#39;)"><span class="hl_varref"></span></a><a href="#loc_936_5_936_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_5_936_9&#39;)"><span class="hl_varref"></span></a><a href="#loc_936_11_936_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_11_936_12&#39;)"><span class="hl_varref"></span></a><span class="hl_infix"></span><span class="hl_num"></span><a href="#loc_939_15_939_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_939_15_939_17&#39;)"><span class="hl_varref"></span></a><span class="hl_varref"></span><a href="#loc_936_5_936_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_5_936_9&#39;)"><span class="hl_varref"></span></a><a href="#loc_936_11_936_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_11_936_12&#39;)"><span class="hl_varref"></span></a><a href="#loc_939_15_939_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_939_15_939_17&#39;)"><span class="hl_varref"></span></a><span class="hl_pragma"><a href="#loc_934_1_934_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_934_1_934_11&#39;)"></a></span><a href="#loc_944_1_944_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_944_1_944_12&#39;)"></a><a name="loc_944_1_944_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_944_1_944_12&#39;)"><span class="hl_fundecl"></span></a><a name="loc_944_13_944_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_944_13_944_17&#39;)"><span class="hl_vardecl"></span></a><span class="hl_tyconref"><a name="loc_944_18_944_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_944_18_944_21&#39;)"><span class="hl_vardecl"></span></a></span><span class="hl_varref"><span class="hl_tyconref"></span></span><span class="hl_infix"></span><span class="hl_string"><span class="hl_tyvar"></span></span><span class="hl_infix"></span><a href="#loc_944_13_944_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_944_13_944_17&#39;)"><span class="hl_varref"></span></a><span class="hl_infix"></span><span class="hl_string"></span><span class="hl_infix"></span><a href="#loc_944_18_944_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_944_18_944_21&#39;)"><span class="hl_varref"></span></a><a href="#loc_947_1_947_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_947_1_947_11&#39;)"></a><a name="loc_947_1_947_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_947_1_947_11&#39;)"><span class="hl_fundecl"></span></a><a name="loc_947_12_947_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_947_12_947_16&#39;)"><span class="hl_vardecl"></span></a><span class="hl_tyconref"></span><a href="#loc_950_1_950_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_950_1_950_14&#39;)"><span class="hl_varref"><span class="hl_tyvar"></span></span></a><a href="#loc_947_12_947_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_947_12_947_16&#39;)"><span class="hl_varref"></span></a><span class="hl_string"></span><a href="#loc_950_1_950_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_950_1_950_14&#39;)"></a><a name="loc_950_1_950_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_950_1_950_14&#39;)"><span class="hl_fundecl"></span></a><a name="loc_950_15_950_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_950_15_950_19&#39;)"><span class="hl_vardecl"></span></a><span class="hl_tyconref"></span><a href="#loc_944_1_944_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_944_1_944_12&#39;)"><span class="hl_varref"><span class="hl_tyvar"></span></span></a><a href="#loc_950_15_950_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_950_15_950_19&#39;)"><span class="hl_varref"></span></a><span class="hl_string"></span></div></body></html>