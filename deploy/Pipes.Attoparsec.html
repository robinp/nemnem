<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">-- | @pipes@ utilities for incrementally running @attoparsec@-based parsers.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This module assumes familiarity with @pipes-parse@, you can learn about it in</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &quot;Pipes.Parse.Tutorial&quot;.</span></span><span class="mpre">

{-# LANGUAGE BangPatterns       #-}
{-# LANGUAGE DeriveDataTypeable #-}
{-# LANGUAGE FlexibleInstances  #-}
{-# LANGUAGE RankNTypes         #-}

module Pipes.Attoparsec (
    </span><span class="hl_comment"><span class="mpre">-- * Parsing</span></span><span class="mpre">
      parse
    , parsed

    </span><span class="hl_comment"><span class="mpre">-- ** Including input length</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- $lengths</span></span><span class="mpre">
    , parseL
    , parsedL

    </span><span class="hl_comment"><span class="mpre">-- * Utils</span></span><span class="mpre">
    , isEndOfParserInput

    </span><span class="hl_comment"><span class="mpre">-- * Types</span></span><span class="mpre">
    , ParserInput
    , ParsingError(..)
    ) where

import           Control.Exception                (Exception)
import           Control.Monad.Trans.Error        (</span><a href="Control.Monad.Trans.Error.html#loc_83_7_83_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Error.html#loc_83_7_83_12&#39;)"><span class="mpre">Error</span></a><span class="mpre">)
import qualified Control.Monad.Trans.State.Strict as S
import qualified Data.Attoparsec.ByteString
import qualified Data.Attoparsec.Text
import           Data.Attoparsec.Types            (</span><a href="Data.Attoparsec.Internal.Types.html#loc_51_6_51_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_51_6_51_13&#39;)"><span class="mpre">IResult</span></a><span class="mpre"> (..))
import qualified Data.Attoparsec.Types            as Attoparsec
import           </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Attoparsec.hs&quot;, srcSpanStartLine = 37, srcSpanStartColumn = 18, srcSpanEndLine = 37, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre">                  (ByteString)
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Attoparsec.hs&quot;, srcSpanStartLine = 38, srcSpanStartColumn = 18, srcSpanEndLine = 38, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre">
import           </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Attoparsec.hs&quot;, srcSpanStartLine = 39, srcSpanStartColumn = 18, srcSpanEndLine = 39, srcSpanEndColumn = 27}, srcInfoPoints = []}) &quot;Data.Data&quot;"><span class="mpre">Data.Data</span></span><span class="mpre">                        (Data, Typeable)
import           Data.Monoid                      (</span><a href="Data.Monoid.html#loc_79_7_79_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_79_7_79_13&#39;)"><span class="mpre">Monoid</span></a><span class="mpre"> (</span><a href="Data.Monoid.html#loc_80_9_80_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_80_9_80_15&#39;)"><span class="mpre">mempty</span></a><span class="mpre">))
import           Data.Text                        (</span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="mpre">Text</span></a><span class="mpre">)
import qualified Data.Text
import           Pipes
import qualified Pipes.Parse                      as Pipes (Parser)

</span><span class="hl_comment"><span class="mpre">--------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Convert an @attoparsec@ &#39;Attoparsec.Parser&#39; to a @pipes-parse@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Pipes.Parser&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This &#39;Pipes.Parser&#39; is compatible with the tools from &quot;Pipes.Parse&quot;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- It returns &#39;Nothing&#39; if the underlying &#39;Producer&#39; is exhausted, otherwise</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- it attempts to run the given attoparsec &#39;Attoparsec.Parser&#39; on the underlying</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Producer&#39;, possibly failing with &#39;ParsingError&#39;.</span></span><span class="mpre">
</span><a href="#loc_60_1_60_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_1_60_6&#39;)"><span class="mpre">parse</span></a><span class="mpre">
  :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Attoparsec.hs&quot;, srcSpanStartLine = 57, srcSpanStartColumn = 6, srcSpanEndLine = 58, srcSpanEndColumn = 5}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Attoparsec.hs&quot;, srcSpanStartLine = 57, srcSpanStartColumn = 6, srcSpanEndLine = 57, srcSpanEndColumn = 7},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Att"><span class="mpre">(Monad m, ParserInput a)
  =&gt;</span></span><span class="mpre"> </span><a href="Data.Attoparsec.Internal.Types.html#loc_104_9_104_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_104_9_104_15&#39;)"><span class="hl_tyconref"><span class="mpre">Attoparsec.Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">                            </span><span class="hl_comment"><span class="mpre">-- ^ Attoparsec parser</span></span><span class="mpre">
  -&gt; </span><span class="hl_tyconref"><span class="mpre">Pipes.Parser</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><a href="#loc_195_6_195_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_6_195_18&#39;)"><span class="hl_tyconref"><span class="mpre">ParsingError</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">)) </span><span class="hl_comment"><span class="mpre">-- ^ Pipes parser</span></span><span class="mpre">
</span><a name="loc_60_1_60_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_1_60_6&#39;)"><span class="hl_fundecl"><span class="mpre">parse</span></span></a><span class="mpre"> </span><a name="loc_60_7_60_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_7_60_13&#39;)"><span class="hl_vardecl"><span class="mpre">parser</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">S.StateT</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_60_28_60_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_28_60_30&#39;)"><span class="hl_vardecl"><span class="mpre">p0</span></span></a><span class="mpre"> -&gt; do
    </span><a name="loc_61_5_61_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_5_61_6&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_214_1_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_14&#39;)"><span class="hl_varref"><span class="mpre">nextSkipEmpty</span></span></a><span class="mpre"> </span><a href="#loc_60_28_60_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_28_60_30&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">
    case </span><a href="#loc_61_5_61_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_5_61_6&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
      </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_63_12_63_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_12_63_13&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">       -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">, </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_63_12_63_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_12_63_13&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">)
      </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_64_14_64_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_14_64_15&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">,</span><a name="loc_64_16_64_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_16_64_18&#39;)"><span class="hl_vardecl"><span class="mpre">p1</span></span></a><span class="mpre">) -&gt; </span><a href="#loc_66_5_66_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_5_66_9&#39;)"><span class="hl_varref"><span class="mpre">step</span></span></a><span class="mpre"> (</span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_64_14_64_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_14_64_15&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre">) (</span><a href="#loc_175_5_175_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_5_175_11&#39;)"><span class="hl_varref"><span class="mpre">_parse</span></span></a><span class="mpre"> </span><a href="#loc_60_7_60_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_7_60_13&#39;)"><span class="hl_varref"><span class="mpre">parser</span></span></a><span class="mpre"> </span><a href="#loc_64_14_64_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_14_64_15&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">) </span><a href="#loc_64_16_64_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_16_64_18&#39;)"><span class="hl_varref"><span class="mpre">p1</span></span></a><span class="mpre">
  where
    </span><a name="loc_66_5_66_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_5_66_9&#39;)"><span class="hl_fundecl"><span class="mpre">step</span></span></a><span class="mpre"> </span><a name="loc_66_10_66_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_10_66_15&#39;)"><span class="hl_vardecl"><span class="mpre">diffP</span></span></a><span class="mpre"> </span><a name="loc_66_16_66_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_16_66_19&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> </span><a name="loc_66_20_66_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_20_66_22&#39;)"><span class="hl_vardecl"><span class="mpre">p0</span></span></a><span class="mpre"> = case </span><a href="#loc_66_16_66_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_16_66_19&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre"> of
      </span><span class="hl_conref"><span class="mpre">Fail</span></span><span class="mpre"> _ </span><a name="loc_67_14_67_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_14_67_15&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> </span><a name="loc_67_16_67_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_16_67_17&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> (</span><a href="#loc_195_21_195_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_21_195_33&#39;)"><span class="hl_conref"><span class="mpre">ParsingError</span></span></a><span class="mpre"> </span><a href="#loc_67_14_67_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_14_67_15&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_67_16_67_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_16_67_17&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">)), </span><a href="#loc_66_10_66_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_10_66_15&#39;)"><span class="hl_varref"><span class="mpre">diffP</span></span></a><span class="mpre"> </span><a href="#loc_66_20_66_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_20_66_22&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">)
      </span><span class="hl_conref"><span class="mpre">Done</span></span><span class="mpre"> </span><a name="loc_68_12_68_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_12_68_13&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_68_14_68_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_14_68_15&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">   -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a href="#loc_68_14_68_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_14_68_15&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">), </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_68_12_68_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_12_68_13&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_66_20_66_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_20_66_22&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">)
      </span><span class="hl_conref"><span class="mpre">Partial</span></span><span class="mpre"> </span><a name="loc_69_15_69_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_15_69_16&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre">  -&gt; do
        </span><a name="loc_70_9_70_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_9_70_10&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_214_1_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_14&#39;)"><span class="hl_varref"><span class="mpre">nextSkipEmpty</span></span></a><span class="mpre"> </span><a href="#loc_66_20_66_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_20_66_22&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">
        case </span><a href="#loc_70_9_70_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_9_70_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
          </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_72_16_72_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_16_72_17&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_66_5_66_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_5_66_9&#39;)"><span class="hl_varref"><span class="mpre">step</span></span></a><span class="mpre"> </span><a href="#loc_66_10_66_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_10_66_15&#39;)"><span class="hl_varref"><span class="mpre">diffP</span></span></a><span class="mpre"> (</span><a href="#loc_69_15_69_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_15_69_16&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="Data.Monoid.html#loc_80_9_80_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_80_9_80_15&#39;)"><span class="hl_varref"><span class="mpre">mempty</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_72_16_72_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_16_72_17&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">)
          </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_73_18_73_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_18_73_19&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">,</span><a name="loc_73_20_73_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_20_73_22&#39;)"><span class="hl_vardecl"><span class="mpre">p1</span></span></a><span class="mpre">) -&gt; </span><a href="#loc_66_5_66_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_5_66_9&#39;)"><span class="hl_varref"><span class="mpre">step</span></span></a><span class="mpre"> (</span><a href="#loc_66_10_66_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_10_66_15&#39;)"><span class="hl_varref"><span class="mpre">diffP</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (</span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_73_18_73_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_18_73_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre">)) (</span><a href="#loc_69_15_69_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_15_69_16&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_73_18_73_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_18_73_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">) </span><a href="#loc_73_20_73_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_20_73_22&#39;)"><span class="hl_varref"><span class="mpre">p1</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE parse #-}</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Convert a producer of &#39;ParserInput&#39; to a producer of parsed values.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This producer returns &#39;Right&#39; when end-of-input is reached sucessfully,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- otherwise it returns a &#39;ParsingError&#39; and the leftovers including</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the malformed input that couldn&#39;t be parsed. You can use &#39;Pipes.Lift.errorP&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- to promote the &#39;Either&#39; return value to an &#39;Control.Monad.Trans.Error.ErrorT&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- monad transformer.</span></span><span class="mpre">
</span><a href="#loc_89_1_89_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_1_89_7&#39;)"><span class="mpre">parsed</span></a><span class="mpre">
  :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Attoparsec.hs&quot;, srcSpanStartLine = 85, srcSpanStartColumn = 6, srcSpanEndLine = 86, srcSpanEndColumn = 5}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Attoparsec.hs&quot;, srcSpanStartLine = 85, srcSpanStartColumn = 6, srcSpanEndLine = 85, srcSpanEndColumn = 7},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Att"><span class="mpre">(Monad m, ParserInput a)
  =&gt;</span></span><span class="mpre"> </span><a href="Data.Attoparsec.Internal.Types.html#loc_104_9_104_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_104_9_104_15&#39;)"><span class="hl_tyconref"><span class="mpre">Attoparsec.Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^ Attoparsec parser</span></span><span class="mpre">
  -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">         </span><span class="hl_comment"><span class="mpre">-- ^ Raw input</span></span><span class="mpre">
  -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> (</span><a href="#loc_195_6_195_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_6_195_18&#39;)"><span class="hl_tyconref"><span class="mpre">ParsingError</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">)
</span><a name="loc_89_1_89_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_1_89_7&#39;)"><span class="hl_fundecl"><span class="mpre">parsed</span></span></a><span class="mpre"> </span><a name="loc_89_8_89_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_8_89_14&#39;)"><span class="hl_vardecl"><span class="mpre">parser</span></span></a><span class="mpre"> = </span><a href="#loc_91_5_91_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_5_91_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">
  where
    </span><a name="loc_91_5_91_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_5_91_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_91_8_91_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_8_91_10&#39;)"><span class="hl_vardecl"><span class="mpre">p0</span></span></a><span class="mpre"> = do
      </span><a name="loc_92_7_92_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_7_92_8&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> (</span><a href="#loc_214_1_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_14&#39;)"><span class="hl_varref"><span class="mpre">nextSkipEmpty</span></span></a><span class="mpre"> </span><a href="#loc_91_8_91_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_8_91_10&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">)
      case </span><a href="#loc_92_7_92_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_7_92_8&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
        </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_94_14_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_14_94_15&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">       -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a href="#loc_94_14_94_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_14_94_15&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">)
        </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_95_16_95_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_16_95_17&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">,</span><a name="loc_95_18_95_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_18_95_20&#39;)"><span class="hl_vardecl"><span class="mpre">p1</span></span></a><span class="mpre">) -&gt; </span><a href="#loc_96_5_96_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_5_96_9&#39;)"><span class="hl_varref"><span class="mpre">step</span></span></a><span class="mpre"> (</span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_95_16_95_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_16_95_17&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre">) (</span><a href="#loc_175_5_175_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_5_175_11&#39;)"><span class="hl_varref"><span class="mpre">_parse</span></span></a><span class="mpre"> </span><a href="#loc_89_8_89_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_8_89_14&#39;)"><span class="hl_varref"><span class="mpre">parser</span></span></a><span class="mpre"> </span><a href="#loc_95_16_95_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_16_95_17&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">) </span><a href="#loc_95_18_95_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_18_95_20&#39;)"><span class="hl_varref"><span class="mpre">p1</span></span></a><span class="mpre">
    </span><a name="loc_96_5_96_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_5_96_9&#39;)"><span class="hl_fundecl"><span class="mpre">step</span></span></a><span class="mpre"> </span><a name="loc_96_10_96_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_10_96_15&#39;)"><span class="hl_vardecl"><span class="mpre">diffP</span></span></a><span class="mpre"> </span><a name="loc_96_16_96_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_16_96_19&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> </span><a name="loc_96_20_96_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_20_96_22&#39;)"><span class="hl_vardecl"><span class="mpre">p0</span></span></a><span class="mpre"> = case </span><a href="#loc_96_16_96_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_16_96_19&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre"> of
      </span><span class="hl_conref"><span class="mpre">Fail</span></span><span class="mpre"> _ </span><a name="loc_97_14_97_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_14_97_15&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> </span><a name="loc_97_16_97_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_16_97_17&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> (</span><a href="#loc_195_21_195_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_21_195_33&#39;)"><span class="hl_conref"><span class="mpre">ParsingError</span></span></a><span class="mpre"> </span><a href="#loc_97_14_97_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_14_97_15&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_97_16_97_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_16_97_17&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">, </span><a href="#loc_96_10_96_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_10_96_15&#39;)"><span class="hl_varref"><span class="mpre">diffP</span></span></a><span class="mpre"> </span><a href="#loc_96_20_96_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_20_96_22&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">))
      </span><span class="hl_conref"><span class="mpre">Done</span></span><span class="mpre"> </span><a name="loc_98_12_98_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_12_98_13&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_98_14_98_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_14_98_15&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">   -&gt; </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_98_14_98_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_14_98_15&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_91_5_91_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_5_91_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_98_12_98_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_12_98_13&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_96_20_96_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_20_96_22&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">)
      </span><span class="hl_conref"><span class="mpre">Partial</span></span><span class="mpre"> </span><a name="loc_99_15_99_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_15_99_16&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre">  -&gt; do
        </span><a name="loc_100_9_100_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_9_100_10&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> (</span><a href="#loc_214_1_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_14&#39;)"><span class="hl_varref"><span class="mpre">nextSkipEmpty</span></span></a><span class="mpre"> </span><a href="#loc_96_20_96_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_20_96_22&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">)
        case </span><a href="#loc_100_9_100_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_9_100_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
          </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_102_16_102_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_16_102_17&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_96_5_96_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_5_96_9&#39;)"><span class="hl_varref"><span class="mpre">step</span></span></a><span class="mpre"> </span><a href="#loc_96_10_96_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_10_96_15&#39;)"><span class="hl_varref"><span class="mpre">diffP</span></span></a><span class="mpre"> (</span><a href="#loc_99_15_99_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_15_99_16&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="Data.Monoid.html#loc_80_9_80_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_80_9_80_15&#39;)"><span class="hl_varref"><span class="mpre">mempty</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_102_16_102_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_16_102_17&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">)
          </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_103_18_103_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_18_103_19&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">,</span><a name="loc_103_20_103_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_20_103_22&#39;)"><span class="hl_vardecl"><span class="mpre">p1</span></span></a><span class="mpre">) -&gt; </span><a href="#loc_96_5_96_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_5_96_9&#39;)"><span class="hl_varref"><span class="mpre">step</span></span></a><span class="mpre"> (</span><a href="#loc_96_10_96_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_10_96_15&#39;)"><span class="hl_varref"><span class="mpre">diffP</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (</span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_103_18_103_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_18_103_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre">)) (</span><a href="#loc_99_15_99_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_15_99_16&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_103_18_103_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_18_103_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">) </span><a href="#loc_103_20_103_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_20_103_22&#39;)"><span class="hl_varref"><span class="mpre">p1</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE parsed #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">--------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- $lengths</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Like the functions above, but these also provide information about</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the length of input consumed in order to fully parse each value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Like &#39;parse&#39;, but also returns the length of input consumed to parse the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- value.</span></span><span class="mpre">
</span><a href="#loc_118_1_118_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_1_118_7&#39;)"><span class="mpre">parseL</span></a><span class="mpre">
    :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Attoparsec.hs&quot;, srcSpanStartLine = 115, srcSpanStartColumn = 8, srcSpanEndLine = 116, srcSpanEndColumn = 7}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Attoparsec.hs&quot;, srcSpanStartLine = 115, srcSpanStartColumn = 8, srcSpanEndLine = 115, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes"><span class="mpre">(Monad m, ParserInput a)
    =&gt;</span></span><span class="mpre"> </span><a href="Data.Attoparsec.Internal.Types.html#loc_104_9_104_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_104_9_104_15&#39;)"><span class="hl_tyconref"><span class="mpre">Attoparsec.Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">                           </span><span class="hl_comment"><span class="mpre">-- ^ Attoparsec parser</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">Pipes.Parser</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><a href="#loc_195_6_195_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_6_195_18&#39;)"><span class="hl_tyconref"><span class="mpre">ParsingError</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">))) </span><span class="hl_comment"><span class="mpre">-- ^ Pipes parser</span></span><span class="mpre">
</span><a name="loc_118_1_118_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_1_118_7&#39;)"><span class="hl_fundecl"><span class="mpre">parseL</span></span></a><span class="mpre"> </span><a name="loc_118_8_118_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_8_118_14&#39;)"><span class="hl_vardecl"><span class="mpre">parser</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">S.StateT</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_118_29_118_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_29_118_31&#39;)"><span class="hl_vardecl"><span class="mpre">p0</span></span></a><span class="mpre"> -&gt; do
    </span><a name="loc_119_5_119_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_5_119_6&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_214_1_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_14&#39;)"><span class="hl_varref"><span class="mpre">nextSkipEmpty</span></span></a><span class="mpre"> </span><a href="#loc_118_29_118_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_29_118_31&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">
    case </span><a href="#loc_119_5_119_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_5_119_6&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
      </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_121_12_121_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_12_121_13&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">       -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">, </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_121_12_121_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_12_121_13&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">)
      </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_122_14_122_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_14_122_15&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">,</span><a name="loc_122_16_122_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_16_122_18&#39;)"><span class="hl_vardecl"><span class="mpre">p1</span></span></a><span class="mpre">) -&gt; </span><a href="#loc_124_5_124_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_5_124_9&#39;)"><span class="hl_varref"><span class="mpre">step</span></span></a><span class="mpre"> (</span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_122_14_122_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_14_122_15&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre">) (</span><a href="#loc_175_5_175_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_5_175_11&#39;)"><span class="hl_varref"><span class="mpre">_parse</span></span></a><span class="mpre"> </span><a href="#loc_118_8_118_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_8_118_14&#39;)"><span class="hl_varref"><span class="mpre">parser</span></span></a><span class="mpre"> </span><a href="#loc_122_14_122_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_14_122_15&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">) </span><a href="#loc_122_16_122_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_16_122_18&#39;)"><span class="hl_varref"><span class="mpre">p1</span></span></a><span class="mpre"> (</span><a href="#loc_176_5_176_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_5_176_12&#39;)"><span class="hl_varref"><span class="mpre">_length</span></span></a><span class="mpre"> </span><a href="#loc_122_14_122_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_14_122_15&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
  where
    </span><a name="loc_124_5_124_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_5_124_9&#39;)"><span class="hl_fundecl"><span class="mpre">step</span></span></a><span class="mpre"> </span><a name="loc_124_10_124_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_10_124_15&#39;)"><span class="hl_vardecl"><span class="mpre">diffP</span></span></a><span class="mpre"> </span><a name="loc_124_16_124_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_16_124_19&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> </span><a name="loc_124_20_124_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_20_124_22&#39;)"><span class="hl_vardecl"><span class="mpre">p0</span></span></a><span class="mpre"> !</span><a name="loc_124_24_124_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_24_124_27&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> = case </span><a href="#loc_124_16_124_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_16_124_19&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre"> of
      </span><span class="hl_conref"><span class="mpre">Fail</span></span><span class="mpre"> _ </span><a name="loc_125_14_125_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_14_125_15&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> </span><a name="loc_125_16_125_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_16_125_17&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> (</span><a href="#loc_195_21_195_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_21_195_33&#39;)"><span class="hl_conref"><span class="mpre">ParsingError</span></span></a><span class="mpre"> </span><a href="#loc_125_14_125_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_14_125_15&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_125_16_125_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_16_125_17&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">)), </span><a href="#loc_124_10_124_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_10_124_15&#39;)"><span class="hl_varref"><span class="mpre">diffP</span></span></a><span class="mpre"> </span><a href="#loc_124_20_124_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_20_124_22&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">)
      </span><span class="hl_conref"><span class="mpre">Done</span></span><span class="mpre"> </span><a name="loc_126_12_126_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_12_126_13&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_126_14_126_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_14_126_15&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">   -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a href="#loc_124_24_124_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_24_124_27&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="#loc_176_5_176_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_5_176_12&#39;)"><span class="hl_varref"><span class="mpre">_length</span></span></a><span class="mpre"> </span><a href="#loc_126_12_126_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_12_126_13&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_126_14_126_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_14_126_15&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)), </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_126_12_126_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_12_126_13&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_124_20_124_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_20_124_22&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">)
      </span><span class="hl_conref"><span class="mpre">Partial</span></span><span class="mpre"> </span><a name="loc_127_15_127_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_15_127_16&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre">  -&gt; do
        </span><a name="loc_128_9_128_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_9_128_10&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_214_1_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_14&#39;)"><span class="hl_varref"><span class="mpre">nextSkipEmpty</span></span></a><span class="mpre"> </span><a href="#loc_124_20_124_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_20_124_22&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">
        case </span><a href="#loc_128_9_128_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_9_128_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
          </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_130_16_130_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_16_130_17&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_124_5_124_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_5_124_9&#39;)"><span class="hl_varref"><span class="mpre">step</span></span></a><span class="mpre"> </span><a href="#loc_124_10_124_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_10_124_15&#39;)"><span class="hl_varref"><span class="mpre">diffP</span></span></a><span class="mpre"> (</span><a href="#loc_127_15_127_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_15_127_16&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="Data.Monoid.html#loc_80_9_80_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_80_9_80_15&#39;)"><span class="hl_varref"><span class="mpre">mempty</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_130_16_130_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_16_130_17&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">) </span><a href="#loc_124_24_124_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_24_124_27&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">
          </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_131_18_131_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_18_131_19&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">,</span><a name="loc_131_20_131_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_20_131_22&#39;)"><span class="hl_vardecl"><span class="mpre">p1</span></span></a><span class="mpre">) -&gt; </span><a href="#loc_124_5_124_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_5_124_9&#39;)"><span class="hl_varref"><span class="mpre">step</span></span></a><span class="mpre"> (</span><a href="#loc_124_10_124_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_10_124_15&#39;)"><span class="hl_varref"><span class="mpre">diffP</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (</span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_131_18_131_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_18_131_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre">)) (</span><a href="#loc_127_15_127_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_15_127_16&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_131_18_131_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_18_131_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">) </span><a href="#loc_131_20_131_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_20_131_22&#39;)"><span class="hl_varref"><span class="mpre">p1</span></span></a><span class="mpre"> (</span><a href="#loc_124_24_124_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_24_124_27&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_176_5_176_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_5_176_12&#39;)"><span class="hl_varref"><span class="mpre">_length</span></span></a><span class="mpre"> </span><a href="#loc_131_18_131_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_18_131_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE parseL #-}</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Like &#39;parsed&#39;, except this tags each parsed value with the length of input</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- consumed to parse the value.</span></span><span class="mpre">
</span><a href="#loc_142_1_142_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_1_142_8&#39;)"><span class="mpre">parsedL</span></a><span class="mpre">
    :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Attoparsec.hs&quot;, srcSpanStartLine = 138, srcSpanStartColumn = 8, srcSpanEndLine = 139, srcSpanEndColumn = 7}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Attoparsec.hs&quot;, srcSpanStartLine = 138, srcSpanStartColumn = 8, srcSpanEndLine = 138, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes"><span class="mpre">(Monad m, ParserInput a)
    =&gt;</span></span><span class="mpre"> </span><a href="Data.Attoparsec.Internal.Types.html#loc_104_9_104_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_104_9_104_15&#39;)"><span class="hl_tyconref"><span class="mpre">Attoparsec.Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">    </span><span class="hl_comment"><span class="mpre">-- ^ Attoparsec parser</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">           </span><span class="hl_comment"><span class="mpre">-- ^ Raw input</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> (</span><a href="#loc_195_6_195_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_6_195_18&#39;)"><span class="hl_tyconref"><span class="mpre">ParsingError</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">)
</span><a name="loc_142_1_142_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_1_142_8&#39;)"><span class="hl_fundecl"><span class="mpre">parsedL</span></span></a><span class="mpre"> </span><a name="loc_142_9_142_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_9_142_15&#39;)"><span class="hl_vardecl"><span class="mpre">parser</span></span></a><span class="mpre"> = </span><a href="#loc_144_5_144_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_5_144_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">
  where
    </span><a name="loc_144_5_144_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_5_144_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_144_8_144_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_8_144_10&#39;)"><span class="hl_vardecl"><span class="mpre">p0</span></span></a><span class="mpre"> = do
      </span><a name="loc_145_7_145_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_145_7_145_8&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> (</span><a href="#loc_214_1_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_14&#39;)"><span class="hl_varref"><span class="mpre">nextSkipEmpty</span></span></a><span class="mpre"> </span><a href="#loc_144_8_144_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_8_144_10&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">)
      case </span><a href="#loc_145_7_145_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_145_7_145_8&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
        </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_147_14_147_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_14_147_15&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">       -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a href="#loc_147_14_147_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_14_147_15&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">)
        </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_148_16_148_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_16_148_17&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">,</span><a name="loc_148_18_148_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_18_148_20&#39;)"><span class="hl_vardecl"><span class="mpre">p1</span></span></a><span class="mpre">) -&gt; </span><a href="#loc_149_5_149_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_5_149_9&#39;)"><span class="hl_varref"><span class="mpre">step</span></span></a><span class="mpre"> (</span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_148_16_148_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_16_148_17&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre">) (</span><a href="#loc_175_5_175_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_5_175_11&#39;)"><span class="hl_varref"><span class="mpre">_parse</span></span></a><span class="mpre"> </span><a href="#loc_142_9_142_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_9_142_15&#39;)"><span class="hl_varref"><span class="mpre">parser</span></span></a><span class="mpre"> </span><a href="#loc_148_16_148_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_16_148_17&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">) </span><a href="#loc_148_18_148_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_18_148_20&#39;)"><span class="hl_varref"><span class="mpre">p1</span></span></a><span class="mpre"> (</span><a href="#loc_176_5_176_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_5_176_12&#39;)"><span class="hl_varref"><span class="mpre">_length</span></span></a><span class="mpre"> </span><a href="#loc_148_16_148_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_16_148_17&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
    </span><a name="loc_149_5_149_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_5_149_9&#39;)"><span class="hl_fundecl"><span class="mpre">step</span></span></a><span class="mpre"> </span><a name="loc_149_10_149_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_10_149_15&#39;)"><span class="hl_vardecl"><span class="mpre">diffP</span></span></a><span class="mpre"> </span><a name="loc_149_16_149_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_16_149_19&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> </span><a name="loc_149_20_149_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_20_149_22&#39;)"><span class="hl_vardecl"><span class="mpre">p0</span></span></a><span class="mpre"> !</span><a name="loc_149_24_149_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_24_149_27&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> = case </span><a href="#loc_149_16_149_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_16_149_19&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre"> of
      </span><span class="hl_conref"><span class="mpre">Fail</span></span><span class="mpre"> _ </span><a name="loc_150_14_150_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_14_150_15&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> </span><a name="loc_150_16_150_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_16_150_17&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> (</span><a href="#loc_195_21_195_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_21_195_33&#39;)"><span class="hl_conref"><span class="mpre">ParsingError</span></span></a><span class="mpre"> </span><a href="#loc_150_14_150_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_14_150_15&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_150_16_150_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_16_150_17&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">, </span><a href="#loc_149_10_149_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_10_149_15&#39;)"><span class="hl_varref"><span class="mpre">diffP</span></span></a><span class="mpre"> </span><a href="#loc_149_20_149_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_20_149_22&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">))
      </span><span class="hl_conref"><span class="mpre">Done</span></span><span class="mpre"> </span><a name="loc_151_12_151_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_12_151_13&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_151_14_151_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_14_151_15&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">   -&gt; </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> (</span><a href="#loc_149_24_149_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_24_149_27&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="#loc_176_5_176_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_5_176_12&#39;)"><span class="hl_varref"><span class="mpre">_length</span></span></a><span class="mpre"> </span><a href="#loc_151_12_151_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_12_151_13&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_151_14_151_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_14_151_15&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_144_5_144_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_5_144_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_151_12_151_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_12_151_13&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_149_20_149_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_20_149_22&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">)
      </span><span class="hl_conref"><span class="mpre">Partial</span></span><span class="mpre"> </span><a name="loc_152_15_152_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_15_152_16&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre">  -&gt; do
        </span><a name="loc_153_9_153_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_9_153_10&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> (</span><a href="#loc_214_1_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_14&#39;)"><span class="hl_varref"><span class="mpre">nextSkipEmpty</span></span></a><span class="mpre"> </span><a href="#loc_149_20_149_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_20_149_22&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">)
        case </span><a href="#loc_153_9_153_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_9_153_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
          </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_155_16_155_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_16_155_17&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_149_5_149_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_5_149_9&#39;)"><span class="hl_varref"><span class="mpre">step</span></span></a><span class="mpre"> </span><a href="#loc_149_10_149_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_10_149_15&#39;)"><span class="hl_varref"><span class="mpre">diffP</span></span></a><span class="mpre"> (</span><a href="#loc_152_15_152_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_15_152_16&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="Data.Monoid.html#loc_80_9_80_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_80_9_80_15&#39;)"><span class="hl_varref"><span class="mpre">mempty</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_155_16_155_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_16_155_17&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">) </span><a href="#loc_149_24_149_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_24_149_27&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">
          </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_156_18_156_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_18_156_19&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">,</span><a name="loc_156_20_156_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_20_156_22&#39;)"><span class="hl_vardecl"><span class="mpre">p1</span></span></a><span class="mpre">) -&gt; </span><a href="#loc_149_5_149_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_5_149_9&#39;)"><span class="hl_varref"><span class="mpre">step</span></span></a><span class="mpre"> (</span><a href="#loc_149_10_149_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_10_149_15&#39;)"><span class="hl_varref"><span class="mpre">diffP</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (</span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_156_18_156_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_18_156_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre">)) (</span><a href="#loc_152_15_152_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_15_152_16&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_156_18_156_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_18_156_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">) </span><a href="#loc_156_20_156_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_20_156_22&#39;)"><span class="hl_varref"><span class="mpre">p1</span></span></a><span class="mpre"> (</span><a href="#loc_149_24_149_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_24_149_27&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_176_5_176_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_5_176_12&#39;)"><span class="hl_varref"><span class="mpre">_length</span></span></a><span class="mpre"> </span><a href="#loc_156_18_156_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_18_156_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE parsedL #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">--------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Like &#39;Pipes.Parse.isEndOfInput&#39;, except that it also consumes and discards</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- leading empty chunks.</span></span><span class="mpre">
</span><a href="#loc_164_1_164_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_1_164_19&#39;)"><span class="mpre">isEndOfParserInput</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Attoparsec.hs&quot;, srcSpanStartLine = 163, srcSpanStartColumn = 23, srcSpanEndLine = 163, srcSpanEndColumn = 50}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Attoparsec.hs&quot;, srcSpanStartLine = 163, srcSpanStartColumn = 23, srcSpanEndLine = 163, srcSpanEndColumn = 24},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/P"><span class="mpre">(Monad m, ParserInput a) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Pipes.Parser</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_164_1_164_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_1_164_19&#39;)"><span class="hl_vardecl"><span class="mpre">isEndOfParserInput</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">S.StateT</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_164_34_164_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_34_164_36&#39;)"><span class="hl_vardecl"><span class="mpre">p0</span></span></a><span class="mpre"> -&gt; do
    </span><a name="loc_165_5_165_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_5_165_6&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_214_1_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_14&#39;)"><span class="hl_varref"><span class="mpre">nextSkipEmpty</span></span></a><span class="mpre"> </span><a href="#loc_164_34_164_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_34_164_36&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">
    case </span><a href="#loc_165_5_165_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_5_165_6&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
       </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_167_13_167_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_13_167_14&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">        -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">,  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_167_13_167_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_13_167_14&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">)
       </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_168_15_168_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_15_168_16&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">, </span><a name="loc_168_18_168_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_18_168_20&#39;)"><span class="hl_vardecl"><span class="mpre">p1</span></span></a><span class="mpre">) -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">, </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_168_15_168_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_15_168_16&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_168_18_168_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_18_168_20&#39;)"><span class="hl_varref"><span class="mpre">p1</span></span></a><span class="mpre">)
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE isEndOfParserInput #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">--------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A class for valid @attoparsec@ input types</span></span><span class="mpre">
class </span><span class="warning" data-warning="ClassDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Attoparsec.hs&quot;, srcSpanStartLine = 174, srcSpanStartColumn = 7, srcSpanEndLine = 174, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Attoparsec.hs&quot;, srcSpanStartLine = 174, srcSpanStartColumn = 7, srcSpanEndLine = 174, srcSpanEndColumn = 8},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipe"><span class="mpre">(Eq a, Monoid a) =&gt;</span></span><span class="mpre"> </span><a name="loc_174_27_174_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_27_174_38&#39;)"><span class="hl_classdecl"><span class="mpre">ParserInput</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> where
    </span><a name="loc_175_5_175_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_5_175_11&#39;)"><span class="mpre">_parse</span></a><span class="mpre">  :: </span><a href="Data.Attoparsec.Internal.Types.html#loc_104_9_104_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_104_9_104_15&#39;)"><span class="hl_tyconref"><span class="mpre">Attoparsec.Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="Data.Attoparsec.Internal.Types.html#loc_51_6_51_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_51_6_51_13&#39;)"><span class="hl_tyconref"><span class="mpre">IResult</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
    </span><a name="loc_176_5_176_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_5_176_12&#39;)"><span class="mpre">_length</span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Strict &#39;ByteString&#39;.</span></span><span class="mpre">
instance </span><a href="#loc_174_27_174_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_27_174_38&#39;)"><span class="hl_classref"><span class="mpre">ParserInput</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> where
    </span><a href="#loc_175_5_175_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_5_175_11&#39;)"><span class="hl_vardecl"><span class="mpre">_parse</span></span></a><span class="mpre">  = </span><a href="Data.Attoparsec.ByteString.Internal.html#loc_405_1_405_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.ByteString.Internal.html#loc_405_1_405_6&#39;)"><span class="hl_varref"><span class="mpre">Data.Attoparsec.ByteString.parse</span></span></a><span class="mpre">
    </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_175_5_175_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_5_175_11&#39;)"><span class="mpre">_parse</span></a><span class="mpre"> #-}</span></span><span class="mpre">
    </span><a href="#loc_176_5_176_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_5_176_12&#39;)"><span class="hl_vardecl"><span class="mpre">_length</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">Data.ByteString.length</span></span><span class="mpre">
    </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_176_5_176_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_5_176_12&#39;)"><span class="mpre">_length</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Strict &#39;Text&#39;.</span></span><span class="mpre">
instance </span><a href="#loc_174_27_174_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_27_174_38&#39;)"><span class="hl_classref"><span class="mpre">ParserInput</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> where
    </span><a href="#loc_175_5_175_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_5_175_11&#39;)"><span class="hl_vardecl"><span class="mpre">_parse</span></span></a><span class="mpre">  = </span><a href="Data.Attoparsec.Text.Internal.html#loc_418_1_418_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Text.Internal.html#loc_418_1_418_6&#39;)"><span class="hl_varref"><span class="mpre">Data.Attoparsec.Text.parse</span></span></a><span class="mpre">
    </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_175_5_175_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_5_175_11&#39;)"><span class="mpre">_parse</span></a><span class="mpre"> #-}</span></span><span class="mpre">
    </span><a href="#loc_176_5_176_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_5_176_12&#39;)"><span class="hl_vardecl"><span class="mpre">_length</span></span></a><span class="mpre"> = </span><a href="Data.Text.html#loc_554_1_554_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_554_1_554_7&#39;)"><span class="hl_varref"><span class="mpre">Data.Text.length</span></span></a><span class="mpre">
    </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_176_5_176_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_5_176_12&#39;)"><span class="mpre">_length</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">--------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A parsing error report, as provided by Attoparsec&#39;s &#39;Fail&#39;.</span></span><span class="mpre">
data </span><a name="loc_195_6_195_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_6_195_18&#39;)"><span class="hl_tycondecl"><span class="mpre">ParsingError</span></span></a><span class="mpre"> = </span><a name="loc_195_21_195_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_21_195_33&#39;)"><span class="hl_condecl"><span class="mpre">ParsingError</span></span></a><span class="mpre">
    { </span><a name="loc_196_7_196_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_7_196_17&#39;)"><span class="hl_fielddecl"><span class="mpre">peContexts</span></span></a><span class="mpre"> :: [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]  </span><span class="hl_comment"><span class="mpre">-- ^ Contexts where the parsing error occurred.</span></span><span class="mpre">
    , </span><a name="loc_197_7_197_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_7_197_16&#39;)"><span class="hl_fielddecl"><span class="mpre">peMessage</span></span></a><span class="mpre">  ::  </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">   </span><span class="hl_comment"><span class="mpre">-- ^ Parsing error description message.</span></span><span class="mpre">
    } </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Attoparsec.hs&quot;, srcSpanStartLine = 198, srcSpanStartColumn = 7, srcSpanEndLine = 198, srcSpanEndColumn = 48}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Attoparsec.hs&quot;, srcSpanStartLine = 198, srcSpanStartColumn = 7, srcSpanEndLine = 198, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pi"><span class="mpre">deriving (Show, Read, Eq, Data, Typeable)</span></span><span class="mpre">

instance </span><span class="hl_classref"><span class="mpre">Exception</span></span><span class="mpre"> </span><a href="#loc_195_6_195_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_6_195_18&#39;)"><span class="hl_tyconref"><span class="mpre">ParsingError</span></span></a><span class="mpre">
instance </span><a href="Control.Monad.Trans.Error.html#loc_83_7_83_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Error.html#loc_83_7_83_12&#39;)"><span class="hl_classref"><span class="mpre">Error</span></span></a><span class="mpre">     </span><a href="#loc_195_6_195_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_6_195_18&#39;)"><span class="hl_tyconref"><span class="mpre">ParsingError</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This instance allows using &#39;Pipes.Lift.errorP&#39; with &#39;parsed&#39; and &#39;parsedL&#39;</span></span><span class="mpre">
instance </span><a href="Control.Monad.Trans.Error.html#loc_83_7_83_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Error.html#loc_83_7_83_12&#39;)"><span class="hl_classref"><span class="mpre">Error</span></span></a><span class="mpre"> (</span><a href="#loc_195_6_195_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_6_195_18&#39;)"><span class="hl_tyconref"><span class="mpre">ParsingError</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">--------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Internal stuff</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Like &#39;Pipes.next&#39;, except it skips leading &#39;mempty&#39; chunks.</span></span><span class="mpre">
</span><a href="#loc_214_1_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_14&#39;)"><span class="mpre">nextSkipEmpty</span></a><span class="mpre">
  :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Attoparsec.hs&quot;, srcSpanStartLine = 211, srcSpanStartColumn = 6, srcSpanEndLine = 212, srcSpanEndColumn = 5}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes/Attoparsec.hs&quot;, srcSpanStartLine = 211, srcSpanStartColumn = 6, srcSpanEndLine = 211, srcSpanEndColumn = 7},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-attoparsec-0.5.1/src/Pipes"><span class="mpre">(Monad m, Eq a, Monoid a)
  =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">
  -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">))
</span><a name="loc_214_1_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_14&#39;)"><span class="hl_vardecl"><span class="mpre">nextSkipEmpty</span></span></a><span class="mpre"> = </span><a href="#loc_215_5_215_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_5_215_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> where
    </span><a name="loc_215_5_215_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_5_215_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_215_8_215_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_8_215_10&#39;)"><span class="hl_vardecl"><span class="mpre">p0</span></span></a><span class="mpre"> = do
      </span><a name="loc_216_7_216_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_7_216_8&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Pipes.html#loc_454_1_454_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_454_1_454_5&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_215_8_215_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_8_215_10&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">
      case </span><a href="#loc_216_7_216_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_7_216_8&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
         </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre">  _        -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_216_7_216_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_7_216_8&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
         </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_219_17_219_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_219_17_219_18&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">,</span><a name="loc_219_19_219_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_219_19_219_21&#39;)"><span class="hl_vardecl"><span class="mpre">p1</span></span></a><span class="mpre">)
          | </span><a href="#loc_219_17_219_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_219_17_219_18&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="Data.Monoid.html#loc_80_9_80_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_80_9_80_15&#39;)"><span class="hl_varref"><span class="mpre">mempty</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_215_5_215_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_5_215_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_219_19_219_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_219_19_219_21&#39;)"><span class="hl_varref"><span class="mpre">p1</span></span></a><span class="mpre">
          | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">   -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_216_7_216_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_7_216_8&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE nextSkipEmpty #-}</span></span><span class="mpre">

</span></div></body></html>