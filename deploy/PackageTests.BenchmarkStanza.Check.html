<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">module PackageTests.BenchmarkStanza.Check where

import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/tests/PackageTests/BenchmarkStanza/Check.hs&quot;, srcSpanStartLine = 3, srcSpanStartColumn = 8, srcSpanEndLine = 3, srcSpanEndColumn = 18}, srcInfoPoints = []}) &quot;Test.HUnit&quot;"><span class="mpre">Test.HUnit</span></span><span class="mpre">
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/tests/PackageTests/BenchmarkStanza/Check.hs&quot;, srcSpanStartLine = 4, srcSpanStartColumn = 8, srcSpanEndLine = 4, srcSpanEndColumn = 23}, srcInfoPoints = []}) &quot;System.FilePath&quot;"><span class="mpre">System.FilePath</span></span><span class="mpre">
import PackageTests.PackageTester
import Distribution.Version
import Distribution.PackageDescription.Parse
        ( </span><a href="Distribution.PackageDescription.Parse.html#loc_540_1_540_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.Parse.html#loc_540_1_540_23&#39;)"><span class="mpre">readPackageDescription</span></a><span class="mpre"> )
import Distribution.PackageDescription.Configuration
        ( </span><a href="Distribution.PackageDescription.Configuration.html#loc_501_1_501_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.Configuration.html#loc_501_1_501_27&#39;)"><span class="mpre">finalizePackageDescription</span></a><span class="mpre"> )
import Distribution.Package
        ( </span><a href="Distribution.Package.html#loc_80_9_80_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_80_9_80_20&#39;)"><span class="mpre">PackageName</span></a><span class="mpre">(..), </span><a href="Distribution.Package.html#loc_145_6_145_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_145_6_145_16&#39;)"><span class="mpre">Dependency</span></a><span class="mpre">(..) )
import Distribution.PackageDescription
        ( </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="mpre">PackageDescription</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="mpre">BuildInfo</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_530_6_530_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_530_6_530_15&#39;)"><span class="mpre">Benchmark</span></a><span class="mpre">(..)
        , </span><a href="Distribution.PackageDescription.html#loc_545_6_545_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_545_6_545_24&#39;)"><span class="mpre">BenchmarkInterface</span></a><span class="mpre">(..)
        , </span><a href="Distribution.PackageDescription.html#loc_730_1_730_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_730_1_730_15&#39;)"><span class="mpre">emptyBuildInfo</span></a><span class="mpre">
        , </span><a href="Distribution.PackageDescription.html#loc_588_1_588_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_588_1_588_15&#39;)"><span class="mpre">emptyBenchmark</span></a><span class="mpre"> )
import Distribution.Verbosity (</span><a href="Distribution.Verbosity.html#loc_63_1_63_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_63_1_63_7&#39;)"><span class="mpre">silent</span></a><span class="mpre">)
import Distribution.System (</span><a href="Distribution.System.html#loc_179_1_179_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_179_1_179_14&#39;)"><span class="mpre">buildPlatform</span></a><span class="mpre">)
import Distribution.Compiler
        ( </span><a href="Distribution.Compiler.html#loc_154_6_154_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_154_6_154_16&#39;)"><span class="mpre">CompilerId</span></a><span class="mpre">(..), </span><a href="Distribution.Compiler.html#loc_81_6_81_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_6_81_20&#39;)"><span class="mpre">CompilerFlavor</span></a><span class="mpre">(..) )
import Distribution.Text

</span><a href="#loc_25_1_25_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_1_25_6&#39;)"><span class="mpre">suite</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Test</span></span><span class="mpre">
</span><a name="loc_25_1_25_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_1_25_6&#39;)"><span class="hl_fundecl"><span class="mpre">suite</span></span></a><span class="mpre"> </span><a name="loc_25_7_25_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_7_25_14&#39;)"><span class="hl_vardecl"><span class="mpre">ghcPath</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">TestCase</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
    let </span><a name="loc_26_9_26_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_9_26_12&#39;)"><span class="hl_vardecl"><span class="mpre">dir</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;PackageTests&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;BenchmarkStanza&quot;</span></span><span class="mpre">
        </span><a name="loc_27_9_27_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_9_27_15&#39;)"><span class="hl_vardecl"><span class="mpre">pdFile</span></span></a><span class="mpre"> = </span><a href="#loc_26_9_26_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_9_26_12&#39;)"><span class="hl_varref"><span class="mpre">dir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;my&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;cabal&quot;</span></span><span class="mpre">
        </span><a name="loc_28_9_28_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_9_28_13&#39;)"><span class="hl_vardecl"><span class="mpre">spec</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">PackageSpec</span></span><span class="mpre"> </span><a href="#loc_26_9_26_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_9_26_12&#39;)"><span class="hl_varref"><span class="mpre">dir</span></span></a><span class="mpre"> []
    </span><a name="loc_29_5_29_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_5_29_11&#39;)"><span class="hl_vardecl"><span class="mpre">result</span></span></a><span class="mpre"> &lt;- </span><a href="PackageTests.PackageTester.html#loc_85_1_85_16" onmouseover="nemnem.highlightLocalToRemote(&#39;PackageTests.PackageTester.html#loc_85_1_85_16&#39;)"><span class="hl_varref"><span class="mpre">cabal_configure</span></span></a><span class="mpre"> </span><a href="#loc_28_9_28_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_9_28_13&#39;)"><span class="hl_varref"><span class="mpre">spec</span></span></a><span class="mpre"> </span><a href="#loc_25_7_25_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_7_25_14&#39;)"><span class="hl_varref"><span class="mpre">ghcPath</span></span></a><span class="mpre">
    </span><a href="PackageTests.PackageTester.html#loc_257_1_257_27" onmouseover="nemnem.highlightLocalToRemote(&#39;PackageTests.PackageTester.html#loc_257_1_257_27&#39;)"><span class="hl_varref"><span class="mpre">assertOutputDoesNotContain</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;unknown section type&quot;</span></span><span class="mpre"> </span><a href="#loc_29_5_29_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_5_29_11&#39;)"><span class="hl_varref"><span class="mpre">result</span></span></a><span class="mpre">
    </span><a name="loc_31_5_31_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_31_5_31_10&#39;)"><span class="hl_vardecl"><span class="mpre">genPD</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.Parse.html#loc_540_1_540_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.Parse.html#loc_540_1_540_23&#39;)"><span class="hl_varref"><span class="mpre">readPackageDescription</span></span></a><span class="mpre"> </span><a href="Distribution.Verbosity.html#loc_63_1_63_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_63_1_63_7&#39;)"><span class="hl_varref"><span class="mpre">silent</span></span></a><span class="mpre"> </span><a href="#loc_27_9_27_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_9_27_15&#39;)"><span class="hl_varref"><span class="mpre">pdFile</span></span></a><span class="mpre">
    let </span><a name="loc_32_9_32_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_9_32_17&#39;)"><span class="hl_vardecl"><span class="mpre">compiler</span></span></a><span class="mpre"> = </span><a href="Distribution.Compiler.html#loc_154_19_154_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_154_19_154_29&#39;)"><span class="hl_conref"><span class="mpre">CompilerId</span></span></a><span class="mpre"> </span><a href="Distribution.Compiler.html#loc_81_23_81_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_23_81_26&#39;)"><span class="hl_conref"><span class="mpre">GHC</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Version</span></span><span class="mpre"> [</span><span class="hl_num"><span class="mpre">6</span></span><span class="mpre">, </span><span class="hl_num"><span class="mpre">12</span></span><span class="mpre">, </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">] []
        </span><a name="loc_33_9_33_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_9_33_29&#39;)"><span class="hl_vardecl"><span class="mpre">anticipatedBenchmark</span></span></a><span class="mpre"> = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/tests/PackageTests/BenchmarkStanza/Check.hs&quot;, srcSpanStartLine = 33, srcSpanStartColumn = 32, srcSpanEndLine = 42, srcSpanEndColumn = 14}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/tests/PackageTests/BenchmarkStanza/Check.hs&quot;, srcSpanStartLine = 34, srcSpanStartColumn = 13, srcSpanEndLine = 34, srcSpanEndColumn = 14},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-"><span class="mpre">emptyBenchmark
            { benchmarkName = &quot;dummy&quot;
            , benchmarkInterface = BenchmarkExeV10 (Version [1,0] []) &quot;dummy.hs&quot;
            , benchmarkBuildInfo = emptyBuildInfo
                    { targetBuildDepends =
                            [ Dependency (PackageName &quot;base&quot;) anyVersion ]
                    , hsSourceDirs = [&quot;.&quot;]
                    }
            , benchmarkEnabled = False
            }</span></span><span class="mpre">
    case </span><a href="Distribution.PackageDescription.Configuration.html#loc_501_1_501_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.Configuration.html#loc_501_1_501_27&#39;)"><span class="hl_varref"><span class="mpre">finalizePackageDescription</span></span></a><span class="mpre"> [] (</span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">) </span><a href="Distribution.System.html#loc_179_1_179_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_179_1_179_14&#39;)"><span class="hl_varref"><span class="mpre">buildPlatform</span></span></a><span class="mpre"> </span><a href="#loc_32_9_32_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_9_32_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> [] </span><a href="#loc_31_5_31_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_31_5_31_10&#39;)"><span class="hl_varref"><span class="mpre">genPD</span></span></a><span class="mpre"> of
        </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_44_14_44_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_14_44_16&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> -&gt; let </span><a name="loc_44_24_44_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_24_44_34&#39;)"><span class="hl_vardecl"><span class="mpre">depMessage</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;should not have missing dependencies:\n&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre">
                                    (</span><span class="hl_varref"><span class="mpre">unlines</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Distribution.Text.html#loc_27_3_27_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_27_3_27_7&#39;)"><span class="hl_varref"><span class="mpre">disp</span></span></a><span class="mpre">) </span><a href="#loc_44_14_44_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_14_44_16&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">)
                   in </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><a href="#loc_44_24_44_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_24_44_34&#39;)"><span class="hl_varref"><span class="mpre">depMessage</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
        </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_47_16_47_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_16_47_17&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre">, _) -&gt; let </span><a name="loc_47_29_47_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_29_47_41&#39;)"><span class="hl_vardecl"><span class="mpre">gotBenchmark</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">head</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_193_9_193_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_193_9_193_19&#39;)"><span class="hl_varref"><span class="mpre">benchmarks</span></span></a><span class="mpre"> </span><a href="#loc_47_16_47_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_16_47_17&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
                        in </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;parsed benchmark stanza does not match anticipated&quot;</span></span><span class="mpre">
                                </span><a href="#loc_47_29_47_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_29_47_41&#39;)"><span class="hl_varref"><span class="mpre">gotBenchmark</span></span></a><span class="mpre"> </span><a href="#loc_33_9_33_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_9_33_29&#39;)"><span class="hl_varref"><span class="mpre">anticipatedBenchmark</span></span></a><span class="mpre">
</span></div></body></html>