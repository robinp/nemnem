<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">{-| Element-agnostic grouping utilities for @pipes@

    See &quot;Pipes.Group.Tutorial&quot; for an extended tutorial
-}</span></span><span class="mpre">

{-# LANGUAGE RankNTypes #-}

module Pipes.Group (
    </span><span class="hl_comment"><span class="mpre">-- * Lenses</span></span><span class="mpre">
    groupsBy,
    groups,
    chunksOf,

    </span><span class="hl_comment"><span class="mpre">-- * Transformations</span></span><span class="mpre">
    takes,
    takes&#39;,
    drops,
    maps,
    individually,

    </span><span class="hl_comment"><span class="mpre">-- * Joiners</span></span><span class="mpre">
    concats,
    intercalates,

    </span><span class="hl_comment"><span class="mpre">-- * Folds</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- $folds</span></span><span class="mpre">
    folds,
    foldsM,

    </span><span class="hl_comment"><span class="mpre">-- * Re-exports</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- $reexports</span></span><span class="mpre">
    module Control.Monad.Trans.Class,
    module Control.Monad.Trans.Free,
    module Pipes
    ) where

import Control.Monad.Trans.Class (</span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="mpre">lift</span></a><span class="mpre">)
import Control.Monad.Trans.Free (</span><a href="Control.Monad.Trans.Free.html#loc_74_6_74_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_6_74_11&#39;)"><span class="mpre">FreeF</span></a><span class="mpre">(</span><a href="Control.Monad.Trans.Free.html#loc_74_20_74_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_20_74_24&#39;)"><span class="mpre">Pure</span></a><span class="mpre">, </span><a href="Control.Monad.Trans.Free.html#loc_74_29_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_29_74_33&#39;)"><span class="mpre">Free</span></a><span class="mpre">), </span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="mpre">FreeT</span></a><span class="mpre">(FreeT, </span><a href="Control.Monad.Trans.Free.html#loc_154_31_154_39" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_31_154_39&#39;)"><span class="mpre">runFreeT</span></a><span class="mpre">))
import qualified Control.Monad.Trans.Free as F
import Data.Functor.Constant (</span><a href="Data.Functor.Constant.html#loc_24_9_24_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Constant.html#loc_24_9_24_17&#39;)"><span class="mpre">Constant</span></a><span class="mpre">(Constant, </span><a href="Data.Functor.Constant.html#loc_24_35_24_46" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Constant.html#loc_24_35_24_46&#39;)"><span class="mpre">getConstant</span></a><span class="mpre">))
import Data.Functor.Identity (</span><a href="Data.Functor.Identity.html#loc_35_9_35_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_9_35_17&#39;)"><span class="mpre">Identity</span></a><span class="mpre">(Identity, </span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="mpre">runIdentity</span></a><span class="mpre">))
import Pipes (Producer, </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="mpre">yield</span></a><span class="mpre">, </span><a href="Pipes.html#loc_454_1_454_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_454_1_454_5&#39;)"><span class="mpre">next</span></a><span class="mpre">)
import Pipes.Parse (</span><a href="Pipes.Parse.html#loc_241_1_241_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.Parse.html#loc_241_1_241_5&#39;)"><span class="mpre">span</span></a><span class="mpre">, </span><a href="Pipes.Parse.html#loc_262_1_262_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.Parse.html#loc_262_1_262_8&#39;)"><span class="mpre">splitAt</span></a><span class="mpre">)
import qualified Pipes as P

import Prelude hiding (span, splitAt)

</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 48, srcSpanStartColumn = 1, srcSpanEndLine = 48, srcSpanEndColumn = 73}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 48, srcSpanStartColumn = 1, srcSpanEndLine = 48, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLin"><span class="mpre">type Lens a&#39; a b&#39; b = forall f . Functor f =&gt; (b&#39; -&gt; f b) -&gt; (a&#39; -&gt; f a)</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 49, srcSpanStartColumn = 1, srcSpanEndLine = 49, srcSpanEndColumn = 65}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 49, srcSpanStartColumn = 1, srcSpanEndLine = 49, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLin"><span class="mpre">type Setter a&#39; a b&#39; b = (b&#39; -&gt; Identity b) -&gt; (a&#39; -&gt; Identity a)</span></span><span class="mpre">

</span><a href="#loc_52_3_52_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_3_52_5&#39;)"><span class="mpre">(^.)</span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; ((</span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><a href="Data.Functor.Constant.html#loc_24_9_24_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Constant.html#loc_24_9_24_17&#39;)"><span class="hl_tyconref"><span class="mpre">Constant</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="Data.Functor.Constant.html#loc_24_9_24_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Constant.html#loc_24_9_24_17&#39;)"><span class="hl_tyconref"><span class="mpre">Constant</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)) -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_52_1_52_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_1_52_2&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_52_3_52_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_3_52_5&#39;)"><span class="hl_fundecl"><span class="mpre">^.</span></span></a><span class="mpre"> </span><a name="loc_52_6_52_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_6_52_10&#39;)"><span class="hl_vardecl"><span class="mpre">lens</span></span></a><span class="mpre"> = </span><a href="Data.Functor.Constant.html#loc_24_35_24_46" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Constant.html#loc_24_35_24_46&#39;)"><span class="hl_varref"><span class="mpre">getConstant</span></span></a><span class="mpre"> (</span><a href="#loc_52_6_52_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_6_52_10&#39;)"><span class="hl_varref"><span class="mpre">lens</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Constant</span></span><span class="mpre"> </span><a href="#loc_52_1_52_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_1_52_2&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">{-| &#39;groupsBy&#39; splits a &#39;Producer&#39; into a &#39;FreeT&#39; of &#39;Producer&#39;s grouped using
    the given equality predicate

    You can think of this as:

&gt; groupsBy
&gt;     :: Monad m
&gt;     =&gt; (a -&gt; a -&gt; Bool) -&gt; Lens&#39; (Producer a m x) (FreeT (Producer a m) m x)
-}</span></span><span class="mpre">
</span><a href="#loc_66_1_66_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_1_66_9&#39;)"><span class="mpre">groupsBy</span></a><span class="mpre">
    :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 64, srcSpanStartColumn = 8, srcSpanEndLine = 65, srcSpanEndColumn = 7}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 65, srcSpanStartColumn = 5, srcSpanEndLine = 65, srcSpanEndColumn = 7}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0."><span class="mpre">Monad m
    =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a&#39;</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a&#39;</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Lens</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">) (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">) (</span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">) (</span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">) 
</span><a name="loc_66_1_66_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_1_66_9&#39;)"><span class="hl_fundecl"><span class="mpre">groupsBy</span></span></a><span class="mpre"> </span><a name="loc_66_10_66_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_10_66_16&#39;)"><span class="hl_vardecl"><span class="mpre">equals</span></span></a><span class="mpre"> </span><a name="loc_66_17_66_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_17_66_18&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> </span><a name="loc_66_19_66_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_19_66_21&#39;)"><span class="hl_vardecl"><span class="mpre">p0</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_110_1_110_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_1_110_8&#39;)"><span class="hl_varref"><span class="mpre">concats</span></span></a><span class="mpre"> (</span><a href="#loc_66_17_66_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_17_66_18&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> (</span><a href="#loc_69_5_69_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_5_69_14&#39;)"><span class="hl_varref"><span class="mpre">_groupsBy</span></span></a><span class="mpre"> </span><a href="#loc_66_19_66_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_19_66_21&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">))
  where
</span><span class="hl_comment"><span class="mpre">--  _groupsBy :: Monad m =&gt; Producer a m r -&gt; FreeT (Producer a m) m r</span></span><span class="mpre">
    </span><a name="loc_69_5_69_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_5_69_14&#39;)"><span class="hl_fundecl"><span class="mpre">_groupsBy</span></span></a><span class="mpre"> </span><a name="loc_69_15_69_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_15_69_16&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">FreeT</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        </span><a name="loc_70_9_70_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_9_70_10&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Pipes.html#loc_454_1_454_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_454_1_454_5&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_69_15_69_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_15_69_16&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> case </span><a href="#loc_70_9_70_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_9_70_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
            </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre">   </span><a name="loc_72_20_72_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_20_72_21&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">      -&gt; </span><a href="Control.Monad.Trans.Free.html#loc_74_20_74_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_20_74_24&#39;)"><span class="hl_conref"><span class="mpre">Pure</span></span></a><span class="mpre"> </span><a href="#loc_72_20_72_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_20_72_21&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
            </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_73_20_73_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_20_73_21&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">, </span><a name="loc_73_23_73_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_23_73_25&#39;)"><span class="hl_vardecl"><span class="mpre">p&#39;</span></span></a><span class="mpre">) -&gt; </span><a href="Control.Monad.Trans.Free.html#loc_74_29_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_29_74_33&#39;)"><span class="hl_conref"><span class="mpre">Free</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
                </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_69_5_69_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_5_69_14&#39;)"><span class="hl_varref"><span class="mpre">_groupsBy</span></span></a><span class="mpre"> ((</span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_73_20_73_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_20_73_21&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_73_23_73_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_23_73_25&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre">)</span><a href="#loc_52_3_52_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_3_52_5&#39;)"><span class="hl_infix"><span class="mpre">^.</span></span></a><a href="Pipes.Parse.html#loc_241_1_241_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.Parse.html#loc_241_1_241_5&#39;)"><span class="hl_varref"><span class="mpre">span</span></span></a><span class="mpre"> (</span><a href="#loc_66_10_66_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_10_66_16&#39;)"><span class="hl_varref"><span class="mpre">equals</span></span></a><span class="mpre"> </span><a href="#loc_73_20_73_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_20_73_21&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">))
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE groupsBy #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{-| Like &#39;groupsBy&#39;, where the equality predicate is (&#39;==&#39;)

    You can think of this as:

&gt; groups
&gt;     :: (Monad m, Eq a) =&gt; Lens&#39; (Producer a m x) (FreeT (Producer a m) m x)
-}</span></span><span class="mpre">
</span><a href="#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_1_85_7&#39;)"><span class="mpre">groups</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 84, srcSpanStartColumn = 11, srcSpanEndLine = 84, srcSpanEndColumn = 30}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 84, srcSpanStartColumn = 11, srcSpanEndLine = 84, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartL"><span class="mpre">(Monad m, Eq a&#39;) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Lens</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">) (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">) (</span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">) (</span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">) 
</span><a name="loc_85_1_85_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_1_85_7&#39;)"><span class="hl_vardecl"><span class="mpre">groups</span></span></a><span class="mpre"> = </span><a href="#loc_66_1_66_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_1_66_9&#39;)"><span class="hl_varref"><span class="mpre">groupsBy</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">(==)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE groups #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{-| &#39;chunksOf&#39; is an splits a &#39;Producer&#39; into a &#39;FreeT&#39; of &#39;Producer&#39;s of fixed
    length

    You can think of this as:

&gt; chunksOf
&gt;     :: Monad m =&gt; Int -&gt; Lens&#39; (Producer a m x) (FreeT (Producer a m) m x)
-}</span></span><span class="mpre">
</span><a href="#loc_98_1_98_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_1_98_9&#39;)"><span class="mpre">chunksOf</span></a><span class="mpre">
    :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 97, srcSpanStartColumn = 8, srcSpanEndLine = 97, srcSpanEndColumn = 18}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 97, srcSpanStartColumn = 16, srcSpanEndLine = 97, srcSpanEndColumn = 18}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Lens</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">) (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">) (</span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">) (</span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">) 
</span><a name="loc_98_1_98_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_1_98_9&#39;)"><span class="hl_fundecl"><span class="mpre">chunksOf</span></span></a><span class="mpre"> </span><a name="loc_98_10_98_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_10_98_12&#39;)"><span class="hl_vardecl"><span class="mpre">n0</span></span></a><span class="mpre"> </span><a name="loc_98_13_98_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_13_98_14&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> </span><a name="loc_98_15_98_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_15_98_17&#39;)"><span class="hl_vardecl"><span class="mpre">p0</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_110_1_110_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_1_110_8&#39;)"><span class="hl_varref"><span class="mpre">concats</span></span></a><span class="mpre"> (</span><a href="#loc_98_13_98_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_13_98_14&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> (</span><a href="#loc_101_5_101_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_5_101_14&#39;)"><span class="hl_varref"><span class="mpre">_chunksOf</span></span></a><span class="mpre"> </span><a href="#loc_98_15_98_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_15_98_17&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">))
  where
</span><span class="hl_comment"><span class="mpre">--  _chunksOf :: Monad m =&gt; Producer a m x -&gt; FreeT (Producer a m) m x</span></span><span class="mpre">
    </span><a name="loc_101_5_101_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_5_101_14&#39;)"><span class="hl_fundecl"><span class="mpre">_chunksOf</span></span></a><span class="mpre"> </span><a name="loc_101_15_101_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_15_101_16&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">FreeT</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        </span><a name="loc_102_9_102_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_9_102_10&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Pipes.html#loc_454_1_454_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_454_1_454_5&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_101_15_101_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_15_101_16&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> case </span><a href="#loc_102_9_102_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_9_102_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
            </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre">   </span><a name="loc_104_20_104_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_20_104_21&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">      -&gt; </span><a href="Control.Monad.Trans.Free.html#loc_74_20_74_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_20_74_24&#39;)"><span class="hl_conref"><span class="mpre">Pure</span></span></a><span class="mpre"> </span><a href="#loc_104_20_104_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_20_104_21&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
            </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_105_20_105_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_20_105_21&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">, </span><a name="loc_105_23_105_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_23_105_25&#39;)"><span class="hl_vardecl"><span class="mpre">p&#39;</span></span></a><span class="mpre">) -&gt; </span><a href="Control.Monad.Trans.Free.html#loc_74_29_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_29_74_33&#39;)"><span class="hl_conref"><span class="mpre">Free</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_101_5_101_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_5_101_14&#39;)"><span class="hl_varref"><span class="mpre">_chunksOf</span></span></a><span class="mpre"> ((</span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_105_20_105_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_20_105_21&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_105_23_105_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_23_105_25&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre">)</span><a href="#loc_52_3_52_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_3_52_5&#39;)"><span class="hl_infix"><span class="mpre">^.</span></span></a><a href="Pipes.Parse.html#loc_262_1_262_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.Parse.html#loc_262_1_262_8&#39;)"><span class="hl_varref"><span class="mpre">splitAt</span></span></a><span class="mpre"> </span><a href="#loc_98_10_98_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_10_98_12&#39;)"><span class="hl_varref"><span class="mpre">n0</span></span></a><span class="mpre">)
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE chunksOf #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Join a &#39;FreeT&#39;-delimited stream of &#39;Producer&#39;s into a single &#39;Producer&#39;</span></span><span class="mpre">
</span><a href="#loc_110_1_110_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_1_110_8&#39;)"><span class="mpre">concats</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 109, srcSpanStartColumn = 12, srcSpanEndLine = 109, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 109, srcSpanStartColumn = 20, srcSpanEndLine = 109, srcSpanEndColumn = 22}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-gr"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">
</span><a name="loc_110_1_110_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_1_110_8&#39;)"><span class="hl_vardecl"><span class="mpre">concats</span></span></a><span class="mpre"> = </span><a href="#loc_112_5_112_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_5_112_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">
  where
    </span><a name="loc_112_5_112_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_5_112_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_112_8_112_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_8_112_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = do
        </span><a name="loc_113_9_113_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_9_113_10&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> (</span><a href="Control.Monad.Trans.Free.html#loc_154_31_154_39" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_31_154_39&#39;)"><span class="hl_varref"><span class="mpre">runFreeT</span></span></a><span class="mpre"> </span><a href="#loc_112_8_112_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_8_112_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
        case </span><a href="#loc_113_9_113_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_9_113_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
            </span><a href="Control.Monad.Trans.Free.html#loc_74_20_74_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_20_74_24&#39;)"><span class="hl_conref"><span class="mpre">Pure</span></span></a><span class="mpre"> </span><a name="loc_115_18_115_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_18_115_19&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_115_18_115_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_18_115_19&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
            </span><a href="Control.Monad.Trans.Free.html#loc_74_29_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_29_74_33&#39;)"><span class="hl_conref"><span class="mpre">Free</span></span></a><span class="mpre"> </span><a name="loc_116_18_116_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_18_116_19&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> -&gt; do
                </span><a name="loc_117_17_117_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_17_117_19&#39;)"><span class="hl_vardecl"><span class="mpre">f&#39;</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_116_18_116_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_18_116_19&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">
                </span><a href="#loc_112_5_112_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_5_112_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_117_17_117_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_17_117_19&#39;)"><span class="hl_varref"><span class="mpre">f&#39;</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE concats #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{-| Join a &#39;FreeT&#39;-delimited stream of &#39;Producer&#39;s into a single &#39;Producer&#39; by
    intercalating a &#39;Producer&#39; in between them
-}</span></span><span class="mpre">
</span><a href="#loc_126_1_126_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_1_126_13&#39;)"><span class="mpre">intercalates</span></a><span class="mpre">
    :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 125, srcSpanStartColumn = 8, srcSpanEndLine = 125, srcSpanEndColumn = 18}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 125, srcSpanStartColumn = 16, srcSpanEndLine = 125, srcSpanEndColumn = 18}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-gro"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre"> -&gt; </span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">
</span><a name="loc_126_1_126_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_1_126_13&#39;)"><span class="hl_fundecl"><span class="mpre">intercalates</span></span></a><span class="mpre"> </span><a name="loc_126_14_126_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_14_126_17&#39;)"><span class="hl_vardecl"><span class="mpre">sep</span></span></a><span class="mpre"> = </span><a href="#loc_128_5_128_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_5_128_8&#39;)"><span class="hl_varref"><span class="mpre">go0</span></span></a><span class="mpre">
  where
    </span><a name="loc_128_5_128_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_5_128_8&#39;)"><span class="hl_fundecl"><span class="mpre">go0</span></span></a><span class="mpre"> </span><a name="loc_128_9_128_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_9_128_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = do
        </span><a name="loc_129_9_129_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_9_129_10&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> (</span><a href="Control.Monad.Trans.Free.html#loc_154_31_154_39" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_31_154_39&#39;)"><span class="hl_varref"><span class="mpre">runFreeT</span></span></a><span class="mpre"> </span><a href="#loc_128_9_128_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_9_128_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
        case </span><a href="#loc_129_9_129_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_9_129_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
            </span><a href="Control.Monad.Trans.Free.html#loc_74_20_74_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_20_74_24&#39;)"><span class="hl_conref"><span class="mpre">Pure</span></span></a><span class="mpre"> </span><a name="loc_131_18_131_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_18_131_19&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_131_18_131_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_18_131_19&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
            </span><a href="Control.Monad.Trans.Free.html#loc_74_29_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_29_74_33&#39;)"><span class="hl_conref"><span class="mpre">Free</span></span></a><span class="mpre"> </span><a name="loc_132_18_132_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_18_132_19&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> -&gt; do
                </span><a name="loc_133_17_133_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_17_133_19&#39;)"><span class="hl_vardecl"><span class="mpre">f&#39;</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_132_18_132_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_18_132_19&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">
                </span><a href="#loc_135_5_135_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_5_135_8&#39;)"><span class="hl_varref"><span class="mpre">go1</span></span></a><span class="mpre"> </span><a href="#loc_133_17_133_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_17_133_19&#39;)"><span class="hl_varref"><span class="mpre">f&#39;</span></span></a><span class="mpre">
    </span><a name="loc_135_5_135_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_5_135_8&#39;)"><span class="hl_fundecl"><span class="mpre">go1</span></span></a><span class="mpre"> </span><a name="loc_135_9_135_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_9_135_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = do
        </span><a name="loc_136_9_136_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_9_136_10&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> (</span><a href="Control.Monad.Trans.Free.html#loc_154_31_154_39" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_31_154_39&#39;)"><span class="hl_varref"><span class="mpre">runFreeT</span></span></a><span class="mpre"> </span><a href="#loc_135_9_135_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_9_135_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
        case </span><a href="#loc_136_9_136_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_9_136_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
            </span><a href="Control.Monad.Trans.Free.html#loc_74_20_74_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_20_74_24&#39;)"><span class="hl_conref"><span class="mpre">Pure</span></span></a><span class="mpre"> </span><a name="loc_138_18_138_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_18_138_19&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_138_18_138_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_18_138_19&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
            </span><a href="Control.Monad.Trans.Free.html#loc_74_29_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_29_74_33&#39;)"><span class="hl_conref"><span class="mpre">Free</span></span></a><span class="mpre"> </span><a name="loc_139_18_139_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_18_139_19&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> -&gt; do
                </span><a href="#loc_126_14_126_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_14_126_17&#39;)"><span class="hl_varref"><span class="mpre">sep</span></span></a><span class="mpre">
                </span><a name="loc_141_17_141_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_141_17_141_19&#39;)"><span class="hl_vardecl"><span class="mpre">f&#39;</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_139_18_139_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_18_139_19&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">
                </span><a href="#loc_135_5_135_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_5_135_8&#39;)"><span class="hl_varref"><span class="mpre">go1</span></span></a><span class="mpre"> </span><a href="#loc_141_17_141_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_141_17_141_19&#39;)"><span class="hl_varref"><span class="mpre">f&#39;</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE intercalates #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{-| @(takes n)@ only keeps the first @n@ functor layers of a &#39;FreeT&#39;

    You can think of this as:

&gt; takes
&gt;     :: (Functor f, Monad m)
&gt;     =&gt; Int -&gt; FreeT (Producer a m) m () -&gt; FreeT (Producer a m) m ()
-}</span></span><span class="mpre">
</span><a href="#loc_154_1_154_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_1_154_6&#39;)"><span class="mpre">takes</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 153, srcSpanStartColumn = 10, srcSpanEndLine = 153, srcSpanEndColumn = 33}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 153, srcSpanStartColumn = 10, srcSpanEndLine = 153, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanSt"><span class="mpre">(Functor f, Monad m) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre"> -&gt; </span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_154_1_154_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_1_154_6&#39;)"><span class="hl_vardecl"><span class="mpre">takes</span></span></a><span class="mpre"> = </span><a href="#loc_156_5_156_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_5_156_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">
  where
    </span><a name="loc_156_5_156_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_5_156_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_156_8_156_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_8_156_9&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_156_10_156_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_10_156_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> =
        if (</span><a href="#loc_156_8_156_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_8_156_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">)
        then </span><span class="hl_conref"><span class="mpre">FreeT</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
            </span><a name="loc_159_13_159_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_13_159_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Free.html#loc_154_31_154_39" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_31_154_39&#39;)"><span class="hl_varref"><span class="mpre">runFreeT</span></span></a><span class="mpre"> </span><a href="#loc_156_10_156_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_10_156_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
            case </span><a href="#loc_159_13_159_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_13_159_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
                </span><a href="Control.Monad.Trans.Free.html#loc_74_20_74_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_20_74_24&#39;)"><span class="hl_conref"><span class="mpre">Pure</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="Control.Monad.Trans.Free.html#loc_74_20_74_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_20_74_24&#39;)"><span class="hl_conref"><span class="mpre">Pure</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">)
                </span><a href="Control.Monad.Trans.Free.html#loc_74_29_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_29_74_33&#39;)"><span class="hl_conref"><span class="mpre">Free</span></span></a><span class="mpre"> </span><a name="loc_162_22_162_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_22_162_23&#39;)"><span class="hl_vardecl"><span class="mpre">w</span></span></a><span class="mpre">  -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="Control.Monad.Trans.Free.html#loc_74_29_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_29_74_33&#39;)"><span class="hl_conref"><span class="mpre">Free</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><a href="#loc_156_5_156_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_5_156_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="Prelude.html#loc_160_3_160_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Prelude.html#loc_160_3_160_5&#39;)"><span class="hl_infix"><span class="mpre">$!</span></span></a><span class="mpre"> </span><a href="#loc_156_8_156_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_8_156_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><a href="#loc_162_22_162_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_22_162_23&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre">))
        else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE takes #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{-| @(takes&#39; n)@ only keeps the first @n@ &#39;Producer&#39;s of a &#39;FreeT&#39;

    &#39;takes&#39;&#39; differs from &#39;takes&#39; by draining unused &#39;Producer&#39;s in order
    to preserve the return value.  This makes it a suitable argument for &#39;maps&#39;.
-}</span></span><span class="mpre">
</span><a href="#loc_172_1_172_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_1_172_7&#39;)"><span class="mpre">takes&#39;</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 171, srcSpanStartColumn = 11, srcSpanEndLine = 171, srcSpanEndColumn = 21}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 171, srcSpanStartColumn = 19, srcSpanEndLine = 171, srcSpanEndColumn = 21}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-gr"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> -&gt; </span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">
</span><a name="loc_172_1_172_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_1_172_7&#39;)"><span class="hl_vardecl"><span class="mpre">takes&#39;</span></span></a><span class="mpre"> = </span><a href="#loc_174_5_174_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_5_174_8&#39;)"><span class="hl_varref"><span class="mpre">go0</span></span></a><span class="mpre">
  where
    </span><a name="loc_174_5_174_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_5_174_8&#39;)"><span class="hl_fundecl"><span class="mpre">go0</span></span></a><span class="mpre"> </span><a name="loc_174_9_174_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_9_174_10&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_174_11_174_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_11_174_12&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">FreeT</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
        if (</span><a href="#loc_174_9_174_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_9_174_10&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">)
        then do
            </span><a name="loc_177_13_177_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_13_177_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Free.html#loc_154_31_154_39" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_31_154_39&#39;)"><span class="hl_varref"><span class="mpre">runFreeT</span></span></a><span class="mpre"> </span><a href="#loc_174_11_174_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_11_174_12&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
            </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> case </span><a href="#loc_177_13_177_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_13_177_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
                </span><a href="Control.Monad.Trans.Free.html#loc_74_20_74_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_20_74_24&#39;)"><span class="hl_conref"><span class="mpre">Pure</span></span></a><span class="mpre"> </span><a name="loc_179_22_179_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_22_179_23&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> -&gt; </span><a href="Control.Monad.Trans.Free.html#loc_74_20_74_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_20_74_24&#39;)"><span class="hl_conref"><span class="mpre">Pure</span></span></a><span class="mpre"> </span><a href="#loc_179_22_179_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_22_179_23&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
                </span><a href="Control.Monad.Trans.Free.html#loc_74_29_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_29_74_33&#39;)"><span class="hl_conref"><span class="mpre">Free</span></span></a><span class="mpre"> </span><a name="loc_180_22_180_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_22_180_23&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> -&gt; </span><a href="Control.Monad.Trans.Free.html#loc_74_29_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_29_74_33&#39;)"><span class="hl_conref"><span class="mpre">Free</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><a href="#loc_174_5_174_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_5_174_8&#39;)"><span class="hl_varref"><span class="mpre">go0</span></span></a><span class="mpre"> </span><a href="Prelude.html#loc_160_3_160_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Prelude.html#loc_160_3_160_5&#39;)"><span class="hl_infix"><span class="mpre">$!</span></span></a><span class="mpre"> </span><a href="#loc_174_9_174_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_9_174_10&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><a href="#loc_180_22_180_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_22_180_23&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">
        else </span><a href="#loc_182_5_182_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_5_182_8&#39;)"><span class="hl_varref"><span class="mpre">go1</span></span></a><span class="mpre"> </span><a href="#loc_174_11_174_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_11_174_12&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
    </span><a name="loc_182_5_182_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_5_182_8&#39;)"><span class="hl_fundecl"><span class="mpre">go1</span></span></a><span class="mpre"> </span><a name="loc_182_9_182_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_9_182_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = do
        </span><a name="loc_183_9_183_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_9_183_10&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Free.html#loc_154_31_154_39" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_31_154_39&#39;)"><span class="hl_varref"><span class="mpre">runFreeT</span></span></a><span class="mpre"> </span><a href="#loc_182_9_182_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_9_182_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
        case </span><a href="#loc_183_9_183_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_9_183_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
            </span><a href="Control.Monad.Trans.Free.html#loc_74_20_74_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_20_74_24&#39;)"><span class="hl_conref"><span class="mpre">Pure</span></span></a><span class="mpre"> </span><a name="loc_185_18_185_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_18_185_19&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="Control.Monad.Trans.Free.html#loc_74_20_74_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_20_74_24&#39;)"><span class="hl_conref"><span class="mpre">Pure</span></span></a><span class="mpre"> </span><a href="#loc_185_18_185_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_18_185_19&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">)
            </span><a href="Control.Monad.Trans.Free.html#loc_74_29_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_29_74_33&#39;)"><span class="hl_conref"><span class="mpre">Free</span></span></a><span class="mpre"> </span><a name="loc_186_18_186_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_18_186_19&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> -&gt; do
                </span><a name="loc_187_17_187_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_17_187_19&#39;)"><span class="hl_vardecl"><span class="mpre">f&#39;</span></span></a><span class="mpre"> &lt;- </span><a href="Pipes.Core.html#loc_119_1_119_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.Core.html#loc_119_1_119_10&#39;)"><span class="hl_varref"><span class="mpre">P.runEffect</span></span></a><span class="mpre"> (</span><a href="Pipes.html#loc_150_1_150_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_150_1_150_4&#39;)"><span class="hl_varref"><span class="mpre">P.for</span></span></a><span class="mpre"> </span><a href="#loc_186_18_186_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_18_186_19&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="Pipes.html#loc_482_1_482_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_482_1_482_8&#39;)"><span class="hl_varref"><span class="mpre">P.discard</span></span></a><span class="mpre">)
                </span><a href="#loc_182_5_182_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_5_182_8&#39;)"><span class="hl_varref"><span class="mpre">go1</span></span></a><span class="mpre"> </span><a href="#loc_187_17_187_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_17_187_19&#39;)"><span class="hl_varref"><span class="mpre">f&#39;</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE takes&#39; #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{-| @(drops n)@ peels off the first @n@ &#39;Producer&#39; layers of a &#39;FreeT&#39;

    Use carefully: the peeling off is not free.   This runs the first @n@
    layers, just discarding everything they produce.
-}</span></span><span class="mpre">
</span><a href="#loc_197_1_197_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_1_197_6&#39;)"><span class="mpre">drops</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 196, srcSpanStartColumn = 10, srcSpanEndLine = 196, srcSpanEndColumn = 20}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 196, srcSpanStartColumn = 18, srcSpanEndLine = 196, srcSpanEndColumn = 20}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-gr"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> -&gt; </span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">
</span><a name="loc_197_1_197_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_1_197_6&#39;)"><span class="hl_vardecl"><span class="mpre">drops</span></span></a><span class="mpre"> = </span><a href="#loc_199_5_199_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_199_5_199_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">
  where
    </span><a name="loc_199_5_199_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_199_5_199_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_199_8_199_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_199_8_199_9&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_199_10_199_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_199_10_199_12&#39;)"><span class="hl_vardecl"><span class="mpre">ft</span></span></a><span class="mpre">
        | </span><a href="#loc_199_8_199_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_199_8_199_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> = </span><a href="#loc_199_10_199_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_199_10_199_12&#39;)"><span class="hl_varref"><span class="mpre">ft</span></span></a><span class="mpre">
        | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">FreeT</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
            </span><a name="loc_202_13_202_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_13_202_15&#39;)"><span class="hl_vardecl"><span class="mpre">ff</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Free.html#loc_154_31_154_39" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_31_154_39&#39;)"><span class="hl_varref"><span class="mpre">runFreeT</span></span></a><span class="mpre"> </span><a href="#loc_199_10_199_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_199_10_199_12&#39;)"><span class="hl_varref"><span class="mpre">ft</span></span></a><span class="mpre">
            case </span><a href="#loc_202_13_202_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_13_202_15&#39;)"><span class="hl_varref"><span class="mpre">ff</span></span></a><span class="mpre"> of
                </span><a href="Control.Monad.Trans.Free.html#loc_74_20_74_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_20_74_24&#39;)"><span class="hl_conref"><span class="mpre">Pure</span></span></a><span class="mpre"> _ -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_202_13_202_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_13_202_15&#39;)"><span class="hl_varref"><span class="mpre">ff</span></span></a><span class="mpre">
                </span><a href="Control.Monad.Trans.Free.html#loc_74_29_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_29_74_33&#39;)"><span class="hl_conref"><span class="mpre">Free</span></span></a><span class="mpre"> </span><a name="loc_205_22_205_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_205_22_205_23&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> -&gt; do
                    </span><a name="loc_206_21_206_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_21_206_24&#39;)"><span class="hl_vardecl"><span class="mpre">ft&#39;</span></span></a><span class="mpre"> &lt;- </span><a href="Pipes.Core.html#loc_119_1_119_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.Core.html#loc_119_1_119_10&#39;)"><span class="hl_varref"><span class="mpre">P.runEffect</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Pipes.html#loc_150_1_150_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_150_1_150_4&#39;)"><span class="hl_varref"><span class="mpre">P.for</span></span></a><span class="mpre"> </span><a href="#loc_205_22_205_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_205_22_205_23&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="Pipes.html#loc_482_1_482_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_482_1_482_8&#39;)"><span class="hl_varref"><span class="mpre">P.discard</span></span></a><span class="mpre">
                    </span><a href="Control.Monad.Trans.Free.html#loc_154_31_154_39" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_31_154_39&#39;)"><span class="hl_varref"><span class="mpre">runFreeT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_199_5_199_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_199_5_199_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="#loc_199_8_199_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_199_8_199_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><a href="#loc_206_21_206_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_21_206_24&#39;)"><span class="hl_varref"><span class="mpre">ft&#39;</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE drops #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{-| Transform each individual functor layer of a &#39;FreeT&#39;

    You can think of this as:

&gt; maps
&gt;     :: (forall r . Producer a m r -&gt; Producer b m r)
&gt;     -&gt; FreeT (Producer a m) m x -&gt; FreeT (Producer b m) m x

    This is just a synonym for &#39;F.transFreeT&#39;
-}</span></span><span class="mpre">
</span><a href="#loc_223_1_223_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_223_1_223_5&#39;)"><span class="mpre">maps</span></a><span class="mpre">
    :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 221, srcSpanStartColumn = 8, srcSpanEndLine = 222, srcSpanEndColumn = 7}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 221, srcSpanStartColumn = 8, srcSpanEndLine = 221, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartL"><span class="mpre">(Monad m, Functor g)
    =&gt;</span></span><span class="mpre"> (forall </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> . </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) -&gt; </span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> -&gt; </span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">
</span><a name="loc_223_1_223_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_223_1_223_5&#39;)"><span class="hl_vardecl"><span class="mpre">maps</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Trans.Free.html#loc_314_1_314_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_314_1_314_11&#39;)"><span class="hl_varref"><span class="mpre">F.transFreeT</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE maps #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{-| Lens to transform each individual functor layer of a &#39;FreeT&#39;

&gt; over individually = maps  -- ... with a less general type
-}</span></span><span class="mpre">
</span><a href="#loc_233_1_233_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_233_1_233_13&#39;)"><span class="mpre">individually</span></a><span class="mpre">
    :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 231, srcSpanStartColumn = 8, srcSpanEndLine = 232, srcSpanEndColumn = 7}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 231, srcSpanStartColumn = 8, srcSpanEndLine = 231, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartL"><span class="mpre">(Monad m, Functor g)
    =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Setter</span></span><span class="mpre"> (</span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">) (</span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">) (</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> (</span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">)) (</span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> (</span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">))
</span><a name="loc_233_1_233_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_233_1_233_13&#39;)"><span class="hl_fundecl"><span class="mpre">individually</span></span></a><span class="mpre"> </span><a name="loc_233_14_233_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_233_14_233_17&#39;)"><span class="hl_vardecl"><span class="mpre">nat</span></span></a><span class="mpre"> </span><a name="loc_233_18_233_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_233_18_233_20&#39;)"><span class="hl_vardecl"><span class="mpre">f0</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Identity</span></span><span class="mpre"> (</span><a href="#loc_236_5_236_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_5_236_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_233_18_233_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_233_18_233_20&#39;)"><span class="hl_varref"><span class="mpre">f0</span></span></a><span class="mpre">)
  where
    </span><a name="loc_235_5_235_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_5_235_9&#39;)"><span class="hl_vardecl"><span class="mpre">nat&#39;</span></span></a><span class="mpre"> = </span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_233_14_233_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_233_14_233_17&#39;)"><span class="hl_varref"><span class="mpre">nat</span></span></a><span class="mpre">
    </span><a name="loc_236_5_236_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_5_236_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_236_8_236_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_8_236_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">FreeT</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        </span><a name="loc_237_9_237_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_9_237_10&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Free.html#loc_154_31_154_39" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_31_154_39&#39;)"><span class="hl_varref"><span class="mpre">runFreeT</span></span></a><span class="mpre"> </span><a href="#loc_236_8_236_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_8_236_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> case </span><a href="#loc_237_9_237_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_9_237_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
            </span><a href="Control.Monad.Trans.Free.html#loc_74_20_74_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_20_74_24&#39;)"><span class="hl_conref"><span class="mpre">Pure</span></span></a><span class="mpre"> </span><a name="loc_239_18_239_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_18_239_19&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> -&gt; </span><a href="Control.Monad.Trans.Free.html#loc_74_20_74_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_20_74_24&#39;)"><span class="hl_conref"><span class="mpre">Pure</span></span></a><span class="mpre"> </span><a href="#loc_239_18_239_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_18_239_19&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
            </span><a href="Control.Monad.Trans.Free.html#loc_74_29_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_29_74_33&#39;)"><span class="hl_conref"><span class="mpre">Free</span></span></a><span class="mpre"> </span><a name="loc_240_18_240_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_18_240_19&#39;)"><span class="hl_vardecl"><span class="mpre">w</span></span></a><span class="mpre"> -&gt; </span><a href="Control.Monad.Trans.Free.html#loc_74_29_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_29_74_33&#39;)"><span class="hl_conref"><span class="mpre">Free</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_236_5_236_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_5_236_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="#loc_235_5_235_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_5_235_9&#39;)"><span class="hl_varref"><span class="mpre">nat&#39;</span></span></a><span class="mpre"> </span><a href="#loc_240_18_240_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_18_240_19&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre">))
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE individually #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{- $folds
    These folds are designed to be compatible with the @foldl@ library.  See
    the &#39;Control.Foldl.purely&#39; and &#39;Control.Foldl.impurely&#39; functions from that
    library for more details.

    For example, to count the number of &#39;Producer&#39; layers in a &#39;FreeT&#39;, you can
    write:

&gt; import Control.Applicative (pure)
&gt; import qualified Control.Foldl as L
&gt; import Pipes.Group
&gt; import qualified Pipes.Prelude as P
&gt;
&gt; count :: Monad m =&gt; FreeT (Producer a m) m () -&gt; m Int
&gt; count = P.sum . L.purely folds (pure 1)
-}</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-| Fold each &#39;Producer&#39; of a &#39;FreeT&#39;

&gt; purely folds
&gt;     :: Monad m =&gt; Fold a b -&gt; FreeT (Producer a m) m r -&gt; Producer b m r
-}</span></span><span class="mpre">
</span><a href="#loc_275_1_275_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_1_275_6&#39;)"><span class="mpre">folds</span></a><span class="mpre">
    :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 265, srcSpanStartColumn = 8, srcSpanEndLine = 266, srcSpanEndColumn = 7}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 266, srcSpanStartColumn = 5, srcSpanEndLine = 266, srcSpanEndColumn = 7}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-"><span class="mpre">Monad m
    =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">)
    </span><span class="hl_comment"><span class="mpre">-- ^ Step function</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- ^ Initial accumulator</span></span><span class="mpre">
    -&gt; (</span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">)
    </span><span class="hl_comment"><span class="mpre">-- ^ Extraction function</span></span><span class="mpre">
    -&gt; </span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- ^</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">
</span><a name="loc_275_1_275_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_1_275_6&#39;)"><span class="hl_fundecl"><span class="mpre">folds</span></span></a><span class="mpre"> </span><a name="loc_275_7_275_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_7_275_11&#39;)"><span class="hl_vardecl"><span class="mpre">step</span></span></a><span class="mpre"> </span><a name="loc_275_12_275_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_12_275_17&#39;)"><span class="hl_vardecl"><span class="mpre">begin</span></span></a><span class="mpre"> </span><a name="loc_275_18_275_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_18_275_22&#39;)"><span class="hl_vardecl"><span class="mpre">done</span></span></a><span class="mpre"> = </span><a href="#loc_277_5_277_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_5_277_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">
  where
    </span><a name="loc_277_5_277_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_5_277_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_277_8_277_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_8_277_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = do
        </span><a name="loc_278_9_278_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_9_278_10&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> (</span><a href="Control.Monad.Trans.Free.html#loc_154_31_154_39" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_31_154_39&#39;)"><span class="hl_varref"><span class="mpre">runFreeT</span></span></a><span class="mpre"> </span><a href="#loc_277_8_277_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_8_277_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
        case </span><a href="#loc_278_9_278_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_9_278_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
            </span><a href="Control.Monad.Trans.Free.html#loc_74_20_74_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_20_74_24&#39;)"><span class="hl_conref"><span class="mpre">Pure</span></span></a><span class="mpre"> </span><a name="loc_280_18_280_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_18_280_19&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_280_18_280_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_18_280_19&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
            </span><a href="Control.Monad.Trans.Free.html#loc_74_29_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_29_74_33&#39;)"><span class="hl_conref"><span class="mpre">Free</span></span></a><span class="mpre"> </span><a name="loc_281_18_281_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_18_281_19&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> -&gt; do
                (</span><a name="loc_282_18_282_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_18_282_20&#39;)"><span class="hl_vardecl"><span class="mpre">f&#39;</span></span></a><span class="mpre">, </span><a name="loc_282_22_282_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_22_282_23&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">) &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> (</span><a href="#loc_286_5_286_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_5_286_9&#39;)"><span class="hl_varref"><span class="mpre">fold</span></span></a><span class="mpre"> </span><a href="#loc_281_18_281_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_18_281_19&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_275_12_275_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_12_275_17&#39;)"><span class="hl_varref"><span class="mpre">begin</span></span></a><span class="mpre">)
                </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_282_22_282_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_22_282_23&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">
                </span><a href="#loc_277_5_277_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_5_277_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_282_18_282_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_18_282_20&#39;)"><span class="hl_varref"><span class="mpre">f&#39;</span></span></a><span class="mpre">

    </span><a name="loc_286_5_286_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_5_286_9&#39;)"><span class="hl_fundecl"><span class="mpre">fold</span></span></a><span class="mpre"> </span><a name="loc_286_10_286_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_10_286_11&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a name="loc_286_12_286_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_12_286_13&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = do
        </span><a name="loc_287_9_287_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_287_9_287_10&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre"> &lt;- </span><a href="Pipes.html#loc_454_1_454_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_454_1_454_5&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_286_10_286_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_10_286_11&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">
        case </span><a href="#loc_287_9_287_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_287_9_287_10&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> of
            </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre">   </span><a name="loc_289_20_289_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_20_289_21&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre">      -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_289_20_289_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_20_289_21&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">, </span><a href="#loc_275_18_275_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_18_275_22&#39;)"><span class="hl_varref"><span class="mpre">done</span></span></a><span class="mpre"> </span><a href="#loc_286_12_286_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_12_286_13&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)
            </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_290_20_290_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_20_290_21&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">, </span><a name="loc_290_23_290_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_23_290_25&#39;)"><span class="hl_vardecl"><span class="mpre">p&#39;</span></span></a><span class="mpre">) -&gt; </span><a href="#loc_286_5_286_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_5_286_9&#39;)"><span class="hl_varref"><span class="mpre">fold</span></span></a><span class="mpre"> </span><a href="#loc_290_23_290_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_23_290_25&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre"> </span><a href="Prelude.html#loc_160_3_160_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Prelude.html#loc_160_3_160_5&#39;)"><span class="hl_infix"><span class="mpre">$!</span></span></a><span class="mpre"> </span><a href="#loc_275_7_275_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_7_275_11&#39;)"><span class="hl_varref"><span class="mpre">step</span></span></a><span class="mpre"> </span><a href="#loc_286_12_286_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_12_286_13&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="#loc_290_20_290_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_20_290_21&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE folds #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{-| Fold each &#39;Producer&#39; of a &#39;FreeT&#39;, monadically

&gt; impurely foldsM
&gt;     :: Monad m =&gt; FoldM a b -&gt; FreeT (Producer a m) m r -&gt; Producer b m r
-}</span></span><span class="mpre">
</span><a href="#loc_309_1_309_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_1_309_7&#39;)"><span class="mpre">foldsM</span></a><span class="mpre">
    :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 299, srcSpanStartColumn = 8, srcSpanEndLine = 300, srcSpanEndColumn = 7}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-1.0.1/src/Pipes/Group.hs&quot;, srcSpanStartLine = 300, srcSpanStartColumn = 5, srcSpanEndLine = 300, srcSpanEndColumn = 7}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-group-"><span class="mpre">Monad m
    =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">)
    </span><span class="hl_comment"><span class="mpre">-- ^ Step function</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- ^ Initial accumulator</span></span><span class="mpre">
    -&gt; (</span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">)
    </span><span class="hl_comment"><span class="mpre">-- ^ Extraction function</span></span><span class="mpre">
    -&gt; </span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- ^</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">
</span><a name="loc_309_1_309_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_1_309_7&#39;)"><span class="hl_fundecl"><span class="mpre">foldsM</span></span></a><span class="mpre"> </span><a name="loc_309_8_309_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_8_309_12&#39;)"><span class="hl_vardecl"><span class="mpre">step</span></span></a><span class="mpre"> </span><a name="loc_309_13_309_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_13_309_18&#39;)"><span class="hl_vardecl"><span class="mpre">begin</span></span></a><span class="mpre"> </span><a name="loc_309_19_309_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_19_309_23&#39;)"><span class="hl_vardecl"><span class="mpre">done</span></span></a><span class="mpre"> = </span><a href="#loc_311_5_311_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_5_311_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">
  where
    </span><a name="loc_311_5_311_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_5_311_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_311_8_311_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_8_311_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = do
        </span><a name="loc_312_9_312_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_9_312_10&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> (</span><a href="Control.Monad.Trans.Free.html#loc_154_31_154_39" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_31_154_39&#39;)"><span class="hl_varref"><span class="mpre">runFreeT</span></span></a><span class="mpre"> </span><a href="#loc_311_8_311_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_8_311_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
        case </span><a href="#loc_312_9_312_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_9_312_10&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> of
            </span><a href="Control.Monad.Trans.Free.html#loc_74_20_74_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_20_74_24&#39;)"><span class="hl_conref"><span class="mpre">Pure</span></span></a><span class="mpre"> </span><a name="loc_314_18_314_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_314_18_314_19&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_314_18_314_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_314_18_314_19&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
            </span><a href="Control.Monad.Trans.Free.html#loc_74_29_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_29_74_33&#39;)"><span class="hl_conref"><span class="mpre">Free</span></span></a><span class="mpre"> </span><a name="loc_315_18_315_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_315_18_315_19&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> -&gt; do
                (</span><a name="loc_316_18_316_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_18_316_20&#39;)"><span class="hl_vardecl"><span class="mpre">f&#39;</span></span></a><span class="mpre">, </span><a name="loc_316_22_316_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_22_316_23&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">) &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
                    </span><a name="loc_317_21_317_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_317_21_317_22&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_309_13_309_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_13_309_18&#39;)"><span class="hl_varref"><span class="mpre">begin</span></span></a><span class="mpre">
                    </span><a href="#loc_322_5_322_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_5_322_10&#39;)"><span class="hl_varref"><span class="mpre">foldM</span></span></a><span class="mpre"> </span><a href="#loc_315_18_315_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_315_18_315_19&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_317_21_317_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_317_21_317_22&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
                </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_316_22_316_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_22_316_23&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">
                </span><a href="#loc_311_5_311_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_5_311_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_316_18_316_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_18_316_20&#39;)"><span class="hl_varref"><span class="mpre">f&#39;</span></span></a><span class="mpre">

    </span><a name="loc_322_5_322_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_5_322_10&#39;)"><span class="hl_fundecl"><span class="mpre">foldM</span></span></a><span class="mpre"> </span><a name="loc_322_11_322_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_11_322_12&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a name="loc_322_13_322_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_13_322_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = do
        </span><a name="loc_323_9_323_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_9_323_10&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre"> &lt;- </span><a href="Pipes.html#loc_454_1_454_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_454_1_454_5&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_322_11_322_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_11_322_12&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">
        case </span><a href="#loc_323_9_323_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_9_323_10&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> of
            </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre">   </span><a name="loc_325_20_325_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_20_325_21&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre">      -&gt; do
                </span><a name="loc_326_17_326_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_17_326_18&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_309_19_309_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_19_309_23&#39;)"><span class="hl_varref"><span class="mpre">done</span></span></a><span class="mpre"> </span><a href="#loc_322_13_322_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_13_322_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
                </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_325_20_325_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_20_325_21&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">, </span><a href="#loc_326_17_326_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_17_326_18&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
            </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_328_20_328_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_20_328_21&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">, </span><a name="loc_328_23_328_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_23_328_25&#39;)"><span class="hl_vardecl"><span class="mpre">p&#39;</span></span></a><span class="mpre">) -&gt; do
                </span><a name="loc_329_17_329_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_17_329_19&#39;)"><span class="hl_vardecl"><span class="mpre">x&#39;</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_309_8_309_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_8_309_12&#39;)"><span class="hl_varref"><span class="mpre">step</span></span></a><span class="mpre"> </span><a href="#loc_322_13_322_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_13_322_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="#loc_328_20_328_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_20_328_21&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
                </span><a href="#loc_322_5_322_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_5_322_10&#39;)"><span class="hl_varref"><span class="mpre">foldM</span></span></a><span class="mpre"> </span><a href="#loc_328_23_328_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_23_328_25&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre"> </span><a href="Prelude.html#loc_160_3_160_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Prelude.html#loc_160_3_160_5&#39;)"><span class="hl_infix"><span class="mpre">$!</span></span></a><span class="mpre"> </span><a href="#loc_329_17_329_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_17_329_19&#39;)"><span class="hl_varref"><span class="mpre">x&#39;</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{- $reexports
    &quot;Control.Monad.Trans.Class&quot; re-exports &#39;lift&#39;.

    &quot;Control.Monad.Trans.Free&quot; re-exports &#39;FreeF&#39; and &#39;FreeT&#39;

    &quot;Pipes&quot; re-exports &#39;Producer&#39;, &#39;yield&#39;, and &#39;next&#39;.
-}</span></span><span class="mpre">
</span></div></body></html>