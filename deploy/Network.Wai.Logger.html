<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">-- | Apache style logger for WAI applications.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- An example:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; {-# LANGUAGE OverloadedStrings #-}</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; module Main where</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Blaze.ByteString.Builder (fromByteString)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Control.Monad.IO.Class (liftIO)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import qualified Data.ByteString.Char8 as BS</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Network.HTTP.Types (status200)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Network.Wai (Application, responseBuilder)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Network.Wai.Handler.Warp (run)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Network.Wai.Logger (withStdoutLogger, ApacheLogger)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; main :: IO ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; main = withStdoutLogger $ \aplogger -&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;     run 3000 $ logApp aplogger</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; logApp :: ApacheLogger -&gt; Application</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; logApp aplogger req = do</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;     liftIO $ aplogger req status (Just len)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;     return $ responseBuilder status hdr msg</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;   where</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;     status = status200</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;     hdr = [(&quot;Content-Type&quot;, &quot;text/plain&quot;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;           ,(&quot;Content-Length&quot;, BS.pack (show len))]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;     pong = &quot;PONG&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;     len = fromIntegral $ BS.length pong</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;     msg = toLogStr pong</span></span><span class="mpre">

module Network.Wai.Logger (
  </span><span class="hl_comment"><span class="mpre">-- * High level functions</span></span><span class="mpre">
    ApacheLogger
  , withStdoutLogger
  </span><span class="hl_comment"><span class="mpre">-- * Creating a logger</span></span><span class="mpre">
  , ApacheLoggerActions(..)
  , initLogger
  </span><span class="hl_comment"><span class="mpre">-- * Types</span></span><span class="mpre">
  , IPAddrSource(..)
  , LogType(..)
  , FileLogSpec(..)
  </span><span class="hl_comment"><span class="mpre">-- * Date cacher</span></span><span class="mpre">
  , clockDateCacher
  , ZonedDate
  , DateCacheGetter
  , DateCacheUpdater
  </span><span class="hl_comment"><span class="mpre">-- * Utilities</span></span><span class="mpre">
  , logCheck
  , showSockAddr
  ) where

import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-logger-2.1.1/Network/Wai/Logger.hs&quot;, srcSpanStartLine = 53, srcSpanStartColumn = 8, srcSpanEndLine = 53, srcSpanEndColumn = 26}, srcInfoPoints = []}) &quot;Control.Concurrent&quot;"><span class="mpre">Control.Concurrent</span></span><span class="mpre"> (forkIO, threadDelay, killThread)
import Control.Exception (</span><a href="Control.Exception.Base.html#loc_181_1_181_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Base.html#loc_181_1_181_7&#39;)"><span class="mpre">handle</span></a><span class="mpre">, SomeException(..), </span><a href="Control.Exception.Base.html#loc_259_1_259_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Base.html#loc_259_1_259_8&#39;)"><span class="mpre">bracket</span></a><span class="mpre">)
import Control.Monad (</span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="mpre">when</span></a><span class="mpre">, </span><a href="Control.Monad.html#loc_195_1_195_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_195_1_195_5&#39;)"><span class="mpre">void</span></a><span class="mpre">)
import Network.HTTP.Types (</span><a href="Network.HTTP.Types.Status.html#loc_114_6_114_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Types.Status.html#loc_114_6_114_12&#39;)"><span class="mpre">Status</span></a><span class="mpre">)
import Network.Wai (</span><a href="Network.Wai.Internal.html#loc_20_6_20_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_20_6_20_13&#39;)"><span class="mpre">Request</span></a><span class="mpre">)
import System.IO (</span><a href="System.IO.html#loc_390_1_390_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.html#loc_390_1_390_9&#39;)"><span class="mpre">withFile</span></a><span class="mpre">, </span><a href="GHC.IO.Handle.html#loc_113_1_113_10" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_113_1_113_10&#39;)"><span class="mpre">hFileSize</span></a><span class="mpre">, </span><a href="GHC.IO.IOMode.html#loc_28_6_28_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.IOMode.html#loc_28_6_28_12&#39;)"><span class="mpre">IOMode</span></a><span class="mpre">(..))
import System.Log.FastLogger

import Network.Wai.Logger.Apache
import Network.Wai.Logger.Date
import Network.Wai.Logger.IP (</span><a href="Network.Wai.Logger.IP.html#loc_44_1_44_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Logger.IP.html#loc_44_1_44_13&#39;)"><span class="mpre">showSockAddr</span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Executing a function which takes &#39;ApacheLogger&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   This &#39;ApacheLogger&#39; writes log message to stdout.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   Each buffer (4K bytes) is flushed every second.</span></span><span class="mpre">
</span><a href="#loc_71_1_71_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_1_71_17&#39;)"><span class="mpre">withStdoutLogger</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">ApacheLogger</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_71_1_71_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_1_71_17&#39;)"><span class="hl_fundecl"><span class="mpre">withStdoutLogger</span></span></a><span class="mpre"> </span><a name="loc_71_18_71_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_18_71_21&#39;)"><span class="hl_vardecl"><span class="mpre">app</span></span></a><span class="mpre"> = </span><a href="Control.Exception.Base.html#loc_259_1_259_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Base.html#loc_259_1_259_8&#39;)"><span class="hl_varref"><span class="mpre">bracket</span></span></a><span class="mpre"> </span><a href="#loc_74_5_74_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_5_74_10&#39;)"><span class="hl_varref"><span class="mpre">setup</span></span></a><span class="mpre"> </span><a href="#loc_87_5_87_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_5_87_13&#39;)"><span class="hl_varref"><span class="mpre">teardown</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \(</span><a name="loc_71_51_71_59" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_51_71_59&#39;)"><span class="hl_vardecl"><span class="mpre">aplogger</span></span></a><span class="mpre">, _, _) -&gt;
    </span><a href="#loc_71_18_71_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_18_71_21&#39;)"><span class="hl_varref"><span class="mpre">app</span></span></a><span class="mpre"> </span><a href="#loc_71_51_71_59" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_51_71_59&#39;)"><span class="hl_varref"><span class="mpre">aplogger</span></span></a><span class="mpre">
  where
    </span><a name="loc_74_5_74_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_5_74_10&#39;)"><span class="hl_vardecl"><span class="mpre">setup</span></span></a><span class="mpre"> = do
        (</span><a name="loc_75_10_75_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_16&#39;)"><span class="hl_vardecl"><span class="mpre">getter</span></span></a><span class="mpre">, </span><a name="loc_75_18_75_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_18_75_25&#39;)"><span class="hl_vardecl"><span class="mpre">updater</span></span></a><span class="mpre">) &lt;- </span><a href="Network.Wai.Logger.Date.html#loc_86_1_86_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Logger.Date.html#loc_86_1_86_16&#39;)"><span class="hl_varref"><span class="mpre">clockDateCacher</span></span></a><span class="mpre">
        </span><a name="loc_76_9_76_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_9_76_12&#39;)"><span class="hl_vardecl"><span class="mpre">apf</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_128_1_128_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_1_128_11&#39;)"><span class="hl_varref"><span class="mpre">initLogger</span></span></a><span class="mpre"> </span><a href="Network.Wai.Logger.Apache.html#loc_39_5_39_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Logger.Apache.html#loc_39_5_39_17&#39;)"><span class="hl_conref"><span class="mpre">FromFallback</span></span></a><span class="mpre"> (</span><a href="#loc_114_16_114_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_16_114_25&#39;)"><span class="hl_conref"><span class="mpre">LogStdout</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">4096</span></span><span class="mpre">) </span><a href="#loc_75_10_75_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_16&#39;)"><span class="hl_varref"><span class="mpre">getter</span></span></a><span class="mpre">
        let </span><a name="loc_77_13_77_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_13_77_21&#39;)"><span class="hl_vardecl"><span class="mpre">aplogger</span></span></a><span class="mpre"> = </span><a href="#loc_97_5_97_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_5_97_17&#39;)"><span class="hl_varref"><span class="mpre">apacheLogger</span></span></a><span class="mpre"> </span><a href="#loc_76_9_76_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_9_76_12&#39;)"><span class="hl_varref"><span class="mpre">apf</span></span></a><span class="mpre">
            </span><a name="loc_78_13_78_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_13_78_20&#39;)"><span class="hl_vardecl"><span class="mpre">flusher</span></span></a><span class="mpre"> = </span><a href="#loc_103_5_103_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_5_103_15&#39;)"><span class="hl_varref"><span class="mpre">logFlusher</span></span></a><span class="mpre"> </span><a href="#loc_76_9_76_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_9_76_12&#39;)"><span class="hl_varref"><span class="mpre">apf</span></span></a><span class="mpre">
            </span><a name="loc_79_13_79_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_13_79_20&#39;)"><span class="hl_vardecl"><span class="mpre">remover</span></span></a><span class="mpre"> = </span><a href="#loc_109_5_109_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_109_5_109_15&#39;)"><span class="hl_varref"><span class="mpre">logRemover</span></span></a><span class="mpre"> </span><a href="#loc_76_9_76_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_9_76_12&#39;)"><span class="hl_varref"><span class="mpre">apf</span></span></a><span class="mpre">
            </span><a name="loc_80_13_80_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_13_80_17&#39;)"><span class="hl_vardecl"><span class="mpre">loop</span></span></a><span class="mpre"> = do
                </span><span class="hl_varref"><span class="mpre">threadDelay</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1000000</span></span><span class="mpre">
                </span><a href="#loc_75_18_75_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_18_75_25&#39;)"><span class="hl_varref"><span class="mpre">updater</span></span></a><span class="mpre">
                </span><a href="#loc_78_13_78_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_13_78_20&#39;)"><span class="hl_varref"><span class="mpre">flusher</span></span></a><span class="mpre">
                </span><a href="#loc_80_13_80_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_13_80_17&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">
        </span><a name="loc_85_9_85_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_9_85_10&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">forkIO</span></span><span class="mpre"> </span><a href="#loc_80_13_80_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_13_80_17&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_77_13_77_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_13_77_21&#39;)"><span class="hl_varref"><span class="mpre">aplogger</span></span></a><span class="mpre">, </span><a href="#loc_79_13_79_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_13_79_20&#39;)"><span class="hl_varref"><span class="mpre">remover</span></span></a><span class="mpre">, </span><a href="#loc_85_9_85_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_9_85_10&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
    </span><a name="loc_87_5_87_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_5_87_13&#39;)"><span class="hl_fundecl"><span class="mpre">teardown</span></span></a><span class="mpre"> (_, </span><a name="loc_87_18_87_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_18_87_25&#39;)"><span class="hl_vardecl"><span class="mpre">remover</span></span></a><span class="mpre">, </span><a name="loc_87_27_87_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_27_87_28&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre">) = do
        </span><a href="Control.Monad.html#loc_195_1_195_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_195_1_195_5&#39;)"><span class="hl_varref"><span class="mpre">void</span></span></a><span class="mpre"> </span><a href="#loc_87_18_87_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_18_87_25&#39;)"><span class="hl_varref"><span class="mpre">remover</span></span></a><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">killThread</span></span><span class="mpre"> </span><a href="#loc_87_27_87_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_27_87_28&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Apache style logger.</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-logger-2.1.1/Network/Wai/Logger.hs&quot;, srcSpanStartLine = 94, srcSpanStartColumn = 1, srcSpanEndLine = 94, srcSpanEndColumn = 64}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-logger-2.1.1/Network/Wai/Logger.hs&quot;, srcSpanStartLine = 94, srcSpanStartColumn = 1, srcSpanEndLine = 94, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-logger-2.1.1/Network/Wai/Logger.hs&quot;, srcSpanSt"><span class="mpre">type ApacheLogger = Request -&gt; Status -&gt; Maybe Integer -&gt; IO ()</span></span><span class="mpre">

data </span><a name="loc_96_6_96_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_6_96_25&#39;)"><span class="hl_tycondecl"><span class="mpre">ApacheLoggerActions</span></span></a><span class="mpre"> = </span><span class="hl_condecl"><span class="mpre">ApacheLoggerActions</span></span><span class="mpre"> {
    </span><a name="loc_97_5_97_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_5_97_17&#39;)"><span class="hl_fielddecl"><span class="mpre">apacheLogger</span></span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ApacheLogger</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- | Flushing log messages in the buffers.</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--   This is explicitly called from your program.</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--   Probably, one second and 10 seconds is proper to stdout and</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--   log files, respectively.</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--   See the source code of &#39;withStdoutLogger&#39;.</span></span><span class="mpre">
  , </span><a name="loc_103_5_103_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_5_103_15&#39;)"><span class="hl_fielddecl"><span class="mpre">logFlusher</span></span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- | Rotating log files.</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--   This is explicitly called from your program.</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--   Probably, 10 seconds is proper.</span></span><span class="mpre">
  , </span><a name="loc_107_5_107_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_5_107_15&#39;)"><span class="hl_fielddecl"><span class="mpre">logRotator</span></span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- | Removing resources relating Apache logger.</span></span><span class="mpre">
  , </span><a name="loc_109_5_109_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_109_5_109_15&#39;)"><span class="hl_fielddecl"><span class="mpre">logRemover</span></span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
  }

</span><span class="hl_comment"><span class="mpre">-- | Logger Type.</span></span><span class="mpre">
data </span><a name="loc_113_6_113_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_6_113_13&#39;)"><span class="hl_tycondecl"><span class="mpre">LogType</span></span></a><span class="mpre"> = </span><a name="loc_113_16_113_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_16_113_23&#39;)"><span class="hl_condecl"><span class="mpre">LogNone</span></span></a><span class="mpre">                     </span><span class="hl_comment"><span class="mpre">-- ^ No logging.</span></span><span class="mpre">
             | </span><a name="loc_114_16_114_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_16_114_25&#39;)"><span class="hl_condecl"><span class="mpre">LogStdout</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">BufSize</span></span><span class="mpre">           </span><span class="hl_comment"><span class="mpre">-- ^ Logging to stdout.</span></span><span class="mpre">
                                           </span><span class="hl_comment"><span class="mpre">--   &#39;BufSize&#39; is a buffer size</span></span><span class="mpre">
                                           </span><span class="hl_comment"><span class="mpre">--   for each capability.</span></span><span class="mpre">
             | </span><a name="loc_117_16_117_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_16_117_23&#39;)"><span class="hl_condecl"><span class="mpre">LogFile</span></span></a><span class="mpre"> </span><a href="System.Log.FastLogger.File.html#loc_8_6_8_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.File.html#loc_8_6_8_17&#39;)"><span class="hl_tyconref"><span class="mpre">FileLogSpec</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">BufSize</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ Logging to a file.</span></span><span class="mpre">
                                           </span><span class="hl_comment"><span class="mpre">--   &#39;BufSize&#39; is a buffer size</span></span><span class="mpre">
                                           </span><span class="hl_comment"><span class="mpre">--   for each capability.</span></span><span class="mpre">
             | </span><a name="loc_120_16_120_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_16_120_27&#39;)"><span class="hl_condecl"><span class="mpre">LogCallback</span></span></a><span class="mpre"> (</span><a href="System.Log.FastLogger.LogStr.html#loc_59_6_59_12" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.LogStr.html#loc_59_6_59_12&#39;)"><span class="hl_tyconref"><span class="mpre">LogStr</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">) (</span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Creating &#39;ApacheLogger&#39; according to &#39;LogType&#39;.</span></span><span class="mpre">
</span><a href="#loc_128_1_128_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_1_128_11&#39;)"><span class="mpre">initLogger</span></a><span class="mpre"> :: </span><a href="Network.Wai.Logger.Apache.html#loc_33_6_33_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Logger.Apache.html#loc_33_6_33_18&#39;)"><span class="hl_tyconref"><span class="mpre">IPAddrSource</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_113_6_113_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_6_113_13&#39;)"><span class="hl_tyconref"><span class="mpre">LogType</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">DateCacheGetter</span></span><span class="mpre">
           -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="#loc_96_6_96_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_6_96_25&#39;)"><span class="hl_tyconref"><span class="mpre">ApacheLoggerActions</span></span></a><span class="mpre">
</span><a name="loc_128_1_128_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_1_128_11&#39;)"><span class="hl_fundecl"><span class="mpre">initLogger</span></span></a><span class="mpre"> _     </span><a href="#loc_113_16_113_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_16_113_23&#39;)"><span class="hl_conref"><span class="mpre">LogNone</span></span></a><span class="mpre">             _       = </span><a href="#loc_136_1_136_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_1_136_13&#39;)"><span class="hl_varref"><span class="mpre">noLoggerInit</span></span></a><span class="mpre">
</span><a href="#loc_128_1_128_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_1_128_11&#39;)"><span class="hl_fundecl"><span class="mpre">initLogger</span></span></a><span class="mpre"> </span><a name="loc_129_12_129_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_12_129_17&#39;)"><span class="hl_vardecl"><span class="mpre">ipsrc</span></span></a><span class="mpre"> (</span><a href="#loc_114_16_114_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_16_114_25&#39;)"><span class="hl_conref"><span class="mpre">LogStdout</span></span></a><span class="mpre"> </span><a name="loc_129_29_129_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_29_129_33&#39;)"><span class="hl_vardecl"><span class="mpre">size</span></span></a><span class="mpre">)    </span><a name="loc_129_38_129_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_38_129_45&#39;)"><span class="hl_vardecl"><span class="mpre">dateget</span></span></a><span class="mpre"> = </span><a href="#loc_150_1_150_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_17&#39;)"><span class="hl_varref"><span class="mpre">stdoutLoggerInit</span></span></a><span class="mpre"> </span><a href="#loc_129_12_129_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_12_129_17&#39;)"><span class="hl_varref"><span class="mpre">ipsrc</span></span></a><span class="mpre"> </span><a href="#loc_129_29_129_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_29_129_33&#39;)"><span class="hl_varref"><span class="mpre">size</span></span></a><span class="mpre"> </span><a href="#loc_129_38_129_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_38_129_45&#39;)"><span class="hl_varref"><span class="mpre">dateget</span></span></a><span class="mpre">
</span><a href="#loc_128_1_128_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_1_128_11&#39;)"><span class="hl_fundecl"><span class="mpre">initLogger</span></span></a><span class="mpre"> </span><a name="loc_130_12_130_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_12_130_17&#39;)"><span class="hl_vardecl"><span class="mpre">ipsrc</span></span></a><span class="mpre"> (</span><a href="#loc_117_16_117_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_16_117_23&#39;)"><span class="hl_conref"><span class="mpre">LogFile</span></span></a><span class="mpre"> </span><a name="loc_130_27_130_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_27_130_31&#39;)"><span class="hl_vardecl"><span class="mpre">spec</span></span></a><span class="mpre"> </span><a name="loc_130_32_130_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_32_130_36&#39;)"><span class="hl_vardecl"><span class="mpre">size</span></span></a><span class="mpre">) </span><a name="loc_130_38_130_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_38_130_45&#39;)"><span class="hl_vardecl"><span class="mpre">dateget</span></span></a><span class="mpre"> = </span><a href="#loc_165_1_165_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_1_165_15&#39;)"><span class="hl_varref"><span class="mpre">fileLoggerInit</span></span></a><span class="mpre"> </span><a href="#loc_130_12_130_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_12_130_17&#39;)"><span class="hl_varref"><span class="mpre">ipsrc</span></span></a><span class="mpre"> </span><a href="#loc_130_27_130_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_27_130_31&#39;)"><span class="hl_varref"><span class="mpre">spec</span></span></a><span class="mpre"> </span><a href="#loc_130_32_130_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_32_130_36&#39;)"><span class="hl_varref"><span class="mpre">size</span></span></a><span class="mpre"> </span><a href="#loc_130_38_130_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_38_130_45&#39;)"><span class="hl_varref"><span class="mpre">dateget</span></span></a><span class="mpre">
</span><a href="#loc_128_1_128_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_1_128_11&#39;)"><span class="hl_fundecl"><span class="mpre">initLogger</span></span></a><span class="mpre"> </span><a name="loc_131_12_131_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_12_131_17&#39;)"><span class="hl_vardecl"><span class="mpre">ipsrc</span></span></a><span class="mpre"> (</span><a href="#loc_120_16_120_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_16_120_27&#39;)"><span class="hl_conref"><span class="mpre">LogCallback</span></span></a><span class="mpre"> </span><a name="loc_131_31_131_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_31_131_33&#39;)"><span class="hl_vardecl"><span class="mpre">cb</span></span></a><span class="mpre"> </span><a name="loc_131_34_131_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_34_131_39&#39;)"><span class="hl_vardecl"><span class="mpre">flush</span></span></a><span class="mpre">) </span><a name="loc_131_41_131_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_41_131_48&#39;)"><span class="hl_vardecl"><span class="mpre">dateget</span></span></a><span class="mpre"> = </span><a href="#loc_180_1_180_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_1_180_19&#39;)"><span class="hl_varref"><span class="mpre">callbackLoggerInit</span></span></a><span class="mpre"> </span><a href="#loc_131_12_131_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_12_131_17&#39;)"><span class="hl_varref"><span class="mpre">ipsrc</span></span></a><span class="mpre"> </span><a href="#loc_131_31_131_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_31_131_33&#39;)"><span class="hl_varref"><span class="mpre">cb</span></span></a><span class="mpre"> </span><a href="#loc_131_34_131_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_34_131_39&#39;)"><span class="hl_varref"><span class="mpre">flush</span></span></a><span class="mpre"> </span><a href="#loc_131_41_131_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_41_131_48&#39;)"><span class="hl_varref"><span class="mpre">dateget</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------</span></span><span class="mpre">

</span><a href="#loc_136_1_136_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_1_136_13&#39;)"><span class="mpre">noLoggerInit</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="#loc_96_6_96_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_6_96_25&#39;)"><span class="hl_tyconref"><span class="mpre">ApacheLoggerActions</span></span></a><span class="mpre">
</span><a name="loc_136_1_136_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_1_136_13&#39;)"><span class="hl_vardecl"><span class="mpre">noLoggerInit</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-logger-2.1.1/Network/Wai/Logger.hs&quot;, srcSpanStartLine = 136, srcSpanStartColumn = 23, srcSpanEndLine = 141, srcSpanEndColumn = 4}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-logger-2.1.1/Network/Wai/Logger.hs&quot;, srcSpanStartLine = 136, srcSpanStartColumn = 43, srcSpanEndLine = 136, srcSpanEndColumn = 44},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-logger-2.1.1/Network/Wai/Logger.hs&quot;, sr"><span class="mpre">ApacheLoggerActions {
    apacheLogger = noLogger
  , logFlusher = noFlusher
  , logRotator = noRotator
  , logRemover = noRemover
  }</span></span><span class="mpre">
  where
    </span><span class="hl_fundecl"><span class="mpre">noLogger</span></span><span class="mpre"> _ _ _ = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
    </span><span class="hl_vardecl"><span class="mpre">noFlusher</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
    </span><span class="hl_vardecl"><span class="mpre">noRotator</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
    </span><span class="hl_vardecl"><span class="mpre">noRemover</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">

</span><a href="#loc_150_1_150_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_17&#39;)"><span class="mpre">stdoutLoggerInit</span></a><span class="mpre"> :: </span><a href="Network.Wai.Logger.Apache.html#loc_33_6_33_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Logger.Apache.html#loc_33_6_33_18&#39;)"><span class="hl_tyconref"><span class="mpre">IPAddrSource</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">BufSize</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">DateCacheGetter</span></span><span class="mpre">
                 -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="#loc_96_6_96_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_6_96_25&#39;)"><span class="hl_tyconref"><span class="mpre">ApacheLoggerActions</span></span></a><span class="mpre">
</span><a name="loc_150_1_150_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_17&#39;)"><span class="hl_fundecl"><span class="mpre">stdoutLoggerInit</span></span></a><span class="mpre"> </span><a name="loc_150_18_150_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_18_150_23&#39;)"><span class="hl_vardecl"><span class="mpre">ipsrc</span></span></a><span class="mpre"> </span><a name="loc_150_24_150_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_24_150_28&#39;)"><span class="hl_vardecl"><span class="mpre">size</span></span></a><span class="mpre"> </span><a name="loc_150_29_150_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_29_150_36&#39;)"><span class="hl_vardecl"><span class="mpre">dateget</span></span></a><span class="mpre"> = do
    </span><a name="loc_151_5_151_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_5_151_11&#39;)"><span class="hl_vardecl"><span class="mpre">lgrset</span></span></a><span class="mpre"> &lt;- </span><a href="System.Log.FastLogger.html#loc_65_1_65_19" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.html#loc_65_1_65_19&#39;)"><span class="hl_varref"><span class="mpre">newStdoutLoggerSet</span></span></a><span class="mpre"> </span><a href="#loc_150_24_150_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_24_150_28&#39;)"><span class="hl_varref"><span class="mpre">size</span></span></a><span class="mpre">
    let </span><span class="hl_vardecl"><span class="mpre">logger</span></span><span class="mpre"> = </span><a href="#loc_195_1_195_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_1_195_7&#39;)"><span class="hl_varref"><span class="mpre">apache</span></span></a><span class="mpre"> (</span><a href="System.Log.FastLogger.html#loc_92_1_92_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.html#loc_92_1_92_11&#39;)"><span class="hl_varref"><span class="mpre">pushLogStr</span></span></a><span class="mpre"> </span><a href="#loc_151_5_151_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_5_151_11&#39;)"><span class="hl_varref"><span class="mpre">lgrset</span></span></a><span class="mpre">) </span><a href="#loc_150_18_150_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_18_150_23&#39;)"><span class="hl_varref"><span class="mpre">ipsrc</span></span></a><span class="mpre"> </span><a href="#loc_150_29_150_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_29_150_36&#39;)"><span class="hl_varref"><span class="mpre">dateget</span></span></a><span class="mpre">
        </span><span class="hl_vardecl"><span class="mpre">flusher</span></span><span class="mpre"> = </span><a href="System.Log.FastLogger.html#loc_108_1_108_12" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.html#loc_108_1_108_12&#39;)"><span class="hl_varref"><span class="mpre">flushLogStr</span></span></a><span class="mpre"> </span><a href="#loc_151_5_151_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_5_151_11&#39;)"><span class="hl_varref"><span class="mpre">lgrset</span></span></a><span class="mpre">
        </span><span class="hl_vardecl"><span class="mpre">noRotator</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
        </span><span class="hl_vardecl"><span class="mpre">remover</span></span><span class="mpre"> = </span><a href="System.Log.FastLogger.html#loc_127_1_127_12" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.html#loc_127_1_127_12&#39;)"><span class="hl_varref"><span class="mpre">rmLoggerSet</span></span></a><span class="mpre"> </span><a href="#loc_151_5_151_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_5_151_11&#39;)"><span class="hl_varref"><span class="mpre">lgrset</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-logger-2.1.1/Network/Wai/Logger.hs&quot;, srcSpanStartLine = 156, srcSpanStartColumn = 12, srcSpanEndLine = 161, srcSpanEndColumn = 8}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-logger-2.1.1/Network/Wai/Logger.hs&quot;, srcSpanStartLine = 156, srcSpanStartColumn = 32, srcSpanEndLine = 156, srcSpanEndColumn = 33},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-logger-2.1.1/Network/Wai/Logger.hs&quot;, sr"><span class="mpre">ApacheLoggerActions {
        apacheLogger = logger
      , logFlusher = flusher
      , logRotator = noRotator
      , logRemover = remover
      }</span></span><span class="mpre">

</span><a href="#loc_165_1_165_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_1_165_15&#39;)"><span class="mpre">fileLoggerInit</span></a><span class="mpre"> :: </span><a href="Network.Wai.Logger.Apache.html#loc_33_6_33_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Logger.Apache.html#loc_33_6_33_18&#39;)"><span class="hl_tyconref"><span class="mpre">IPAddrSource</span></span></a><span class="mpre"> -&gt; </span><a href="System.Log.FastLogger.File.html#loc_8_6_8_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.File.html#loc_8_6_8_17&#39;)"><span class="hl_tyconref"><span class="mpre">FileLogSpec</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">BufSize</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">DateCacheGetter</span></span><span class="mpre">
               -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="#loc_96_6_96_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_6_96_25&#39;)"><span class="hl_tyconref"><span class="mpre">ApacheLoggerActions</span></span></a><span class="mpre">
</span><a name="loc_165_1_165_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_1_165_15&#39;)"><span class="hl_fundecl"><span class="mpre">fileLoggerInit</span></span></a><span class="mpre"> </span><a name="loc_165_16_165_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_16_165_21&#39;)"><span class="hl_vardecl"><span class="mpre">ipsrc</span></span></a><span class="mpre"> </span><a name="loc_165_22_165_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_22_165_26&#39;)"><span class="hl_vardecl"><span class="mpre">spec</span></span></a><span class="mpre"> </span><a name="loc_165_27_165_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_27_165_31&#39;)"><span class="hl_vardecl"><span class="mpre">size</span></span></a><span class="mpre"> </span><a name="loc_165_32_165_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_32_165_39&#39;)"><span class="hl_vardecl"><span class="mpre">dateget</span></span></a><span class="mpre"> = do
    </span><a name="loc_166_5_166_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_5_166_11&#39;)"><span class="hl_vardecl"><span class="mpre">lgrset</span></span></a><span class="mpre"> &lt;- </span><a href="System.Log.FastLogger.html#loc_61_1_61_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.html#loc_61_1_61_17&#39;)"><span class="hl_varref"><span class="mpre">newFileLoggerSet</span></span></a><span class="mpre"> </span><a href="#loc_165_27_165_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_27_165_31&#39;)"><span class="hl_varref"><span class="mpre">size</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="System.Log.FastLogger.File.html#loc_9_5_9_13" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.File.html#loc_9_5_9_13&#39;)"><span class="hl_varref"><span class="mpre">log_file</span></span></a><span class="mpre"> </span><a href="#loc_165_22_165_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_22_165_26&#39;)"><span class="hl_varref"><span class="mpre">spec</span></span></a><span class="mpre">
    let </span><span class="hl_vardecl"><span class="mpre">logger</span></span><span class="mpre"> = </span><a href="#loc_195_1_195_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_1_195_7&#39;)"><span class="hl_varref"><span class="mpre">apache</span></span></a><span class="mpre"> (</span><a href="System.Log.FastLogger.html#loc_92_1_92_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.html#loc_92_1_92_11&#39;)"><span class="hl_varref"><span class="mpre">pushLogStr</span></span></a><span class="mpre"> </span><a href="#loc_166_5_166_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_5_166_11&#39;)"><span class="hl_varref"><span class="mpre">lgrset</span></span></a><span class="mpre">) </span><a href="#loc_165_16_165_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_16_165_21&#39;)"><span class="hl_varref"><span class="mpre">ipsrc</span></span></a><span class="mpre"> </span><a href="#loc_165_32_165_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_32_165_39&#39;)"><span class="hl_varref"><span class="mpre">dateget</span></span></a><span class="mpre">
        </span><span class="hl_vardecl"><span class="mpre">flusher</span></span><span class="mpre"> = </span><a href="System.Log.FastLogger.html#loc_108_1_108_12" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.html#loc_108_1_108_12&#39;)"><span class="hl_varref"><span class="mpre">flushLogStr</span></span></a><span class="mpre"> </span><a href="#loc_166_5_166_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_5_166_11&#39;)"><span class="hl_varref"><span class="mpre">lgrset</span></span></a><span class="mpre">
        </span><span class="hl_vardecl"><span class="mpre">rotator</span></span><span class="mpre"> = </span><a href="#loc_202_1_202_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_1_202_11&#39;)"><span class="hl_varref"><span class="mpre">logRotater</span></span></a><span class="mpre"> </span><a href="#loc_166_5_166_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_5_166_11&#39;)"><span class="hl_varref"><span class="mpre">lgrset</span></span></a><span class="mpre"> </span><a href="#loc_165_22_165_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_22_165_26&#39;)"><span class="hl_varref"><span class="mpre">spec</span></span></a><span class="mpre">
        </span><span class="hl_vardecl"><span class="mpre">remover</span></span><span class="mpre"> = </span><a href="System.Log.FastLogger.html#loc_127_1_127_12" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.html#loc_127_1_127_12&#39;)"><span class="hl_varref"><span class="mpre">rmLoggerSet</span></span></a><span class="mpre"> </span><a href="#loc_166_5_166_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_5_166_11&#39;)"><span class="hl_varref"><span class="mpre">lgrset</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-logger-2.1.1/Network/Wai/Logger.hs&quot;, srcSpanStartLine = 171, srcSpanStartColumn = 12, srcSpanEndLine = 176, srcSpanEndColumn = 8}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-logger-2.1.1/Network/Wai/Logger.hs&quot;, srcSpanStartLine = 171, srcSpanStartColumn = 32, srcSpanEndLine = 171, srcSpanEndColumn = 33},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-logger-2.1.1/Network/Wai/Logger.hs&quot;, sr"><span class="mpre">ApacheLoggerActions {
        apacheLogger = logger
      , logFlusher = flusher
      , logRotator = rotator
      , logRemover = remover
      }</span></span><span class="mpre">

</span><a href="#loc_180_1_180_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_1_180_19&#39;)"><span class="mpre">callbackLoggerInit</span></a><span class="mpre"> :: </span><a href="Network.Wai.Logger.Apache.html#loc_33_6_33_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Logger.Apache.html#loc_33_6_33_18&#39;)"><span class="hl_tyconref"><span class="mpre">IPAddrSource</span></span></a><span class="mpre"> -&gt; (</span><a href="System.Log.FastLogger.LogStr.html#loc_59_6_59_12" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.LogStr.html#loc_59_6_59_12&#39;)"><span class="hl_tyconref"><span class="mpre">LogStr</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">DateCacheGetter</span></span><span class="mpre">
                   -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="#loc_96_6_96_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_6_96_25&#39;)"><span class="hl_tyconref"><span class="mpre">ApacheLoggerActions</span></span></a><span class="mpre">
</span><a name="loc_180_1_180_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_1_180_19&#39;)"><span class="hl_fundecl"><span class="mpre">callbackLoggerInit</span></span></a><span class="mpre"> </span><a name="loc_180_20_180_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_20_180_25&#39;)"><span class="hl_vardecl"><span class="mpre">ipsrc</span></span></a><span class="mpre"> </span><a name="loc_180_26_180_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_26_180_28&#39;)"><span class="hl_vardecl"><span class="mpre">cb</span></span></a><span class="mpre"> </span><a name="loc_180_29_180_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_29_180_34&#39;)"><span class="hl_vardecl"><span class="mpre">flush</span></span></a><span class="mpre"> </span><a name="loc_180_35_180_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_35_180_42&#39;)"><span class="hl_vardecl"><span class="mpre">dateget</span></span></a><span class="mpre"> = do
    let </span><span class="hl_vardecl"><span class="mpre">logger</span></span><span class="mpre"> = </span><a href="#loc_195_1_195_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_1_195_7&#39;)"><span class="hl_varref"><span class="mpre">apache</span></span></a><span class="mpre"> </span><a href="#loc_180_26_180_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_26_180_28&#39;)"><span class="hl_varref"><span class="mpre">cb</span></span></a><span class="mpre"> </span><a href="#loc_180_20_180_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_20_180_25&#39;)"><span class="hl_varref"><span class="mpre">ipsrc</span></span></a><span class="mpre"> </span><a href="#loc_180_35_180_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_35_180_42&#39;)"><span class="hl_varref"><span class="mpre">dateget</span></span></a><span class="mpre">
        </span><span class="hl_vardecl"><span class="mpre">flusher</span></span><span class="mpre"> = </span><a href="#loc_180_29_180_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_29_180_34&#39;)"><span class="hl_varref"><span class="mpre">flush</span></span></a><span class="mpre">
        </span><span class="hl_vardecl"><span class="mpre">noRotator</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
        </span><span class="hl_vardecl"><span class="mpre">remover</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-logger-2.1.1/Network/Wai/Logger.hs&quot;, srcSpanStartLine = 185, srcSpanStartColumn = 12, srcSpanEndLine = 190, srcSpanEndColumn = 8}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-logger-2.1.1/Network/Wai/Logger.hs&quot;, srcSpanStartLine = 185, srcSpanStartColumn = 32, srcSpanEndLine = 185, srcSpanEndColumn = 33},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-logger-2.1.1/Network/Wai/Logger.hs&quot;, sr"><span class="mpre">ApacheLoggerActions {
        apacheLogger = logger
      , logFlusher = flusher
      , logRotator = noRotator
      , logRemover = remover
      }</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------</span></span><span class="mpre">

</span><a href="#loc_195_1_195_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_1_195_7&#39;)"><span class="mpre">apache</span></a><span class="mpre"> :: (</span><a href="System.Log.FastLogger.LogStr.html#loc_59_6_59_12" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.LogStr.html#loc_59_6_59_12&#39;)"><span class="hl_tyconref"><span class="mpre">LogStr</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">) -&gt; </span><a href="Network.Wai.Logger.Apache.html#loc_33_6_33_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Logger.Apache.html#loc_33_6_33_18&#39;)"><span class="hl_tyconref"><span class="mpre">IPAddrSource</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">DateCacheGetter</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ApacheLogger</span></span><span class="mpre">
</span><a name="loc_195_1_195_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_1_195_7&#39;)"><span class="hl_fundecl"><span class="mpre">apache</span></span></a><span class="mpre"> </span><a name="loc_195_8_195_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_8_195_10&#39;)"><span class="hl_vardecl"><span class="mpre">cb</span></span></a><span class="mpre"> </span><a name="loc_195_11_195_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_11_195_16&#39;)"><span class="hl_vardecl"><span class="mpre">ipsrc</span></span></a><span class="mpre"> </span><a name="loc_195_17_195_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_17_195_24&#39;)"><span class="hl_vardecl"><span class="mpre">dateget</span></span></a><span class="mpre"> </span><a name="loc_195_25_195_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_25_195_28&#39;)"><span class="hl_vardecl"><span class="mpre">req</span></span></a><span class="mpre"> </span><a name="loc_195_29_195_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_29_195_31&#39;)"><span class="hl_vardecl"><span class="mpre">st</span></span></a><span class="mpre"> </span><a name="loc_195_32_195_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_32_195_36&#39;)"><span class="hl_vardecl"><span class="mpre">mlen</span></span></a><span class="mpre"> = do
    </span><a name="loc_196_5_196_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_5_196_10&#39;)"><span class="hl_vardecl"><span class="mpre">zdata</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_195_17_195_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_17_195_24&#39;)"><span class="hl_varref"><span class="mpre">dateget</span></span></a><span class="mpre">
    </span><a href="#loc_195_8_195_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_8_195_10&#39;)"><span class="hl_varref"><span class="mpre">cb</span></span></a><span class="mpre"> (</span><a href="Network.Wai.Logger.Apache.html#loc_43_1_43_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Logger.Apache.html#loc_43_1_43_13&#39;)"><span class="hl_varref"><span class="mpre">apacheLogStr</span></span></a><span class="mpre"> </span><a href="#loc_195_11_195_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_11_195_16&#39;)"><span class="hl_varref"><span class="mpre">ipsrc</span></span></a><span class="mpre"> </span><a href="#loc_196_5_196_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_5_196_10&#39;)"><span class="hl_varref"><span class="mpre">zdata</span></span></a><span class="mpre"> </span><a href="#loc_195_25_195_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_25_195_28&#39;)"><span class="hl_varref"><span class="mpre">req</span></span></a><span class="mpre"> </span><a href="#loc_195_29_195_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_29_195_31&#39;)"><span class="hl_varref"><span class="mpre">st</span></span></a><span class="mpre"> </span><a href="#loc_195_32_195_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_32_195_36&#39;)"><span class="hl_varref"><span class="mpre">mlen</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------</span></span><span class="mpre">

</span><a href="#loc_202_1_202_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_1_202_11&#39;)"><span class="mpre">logRotater</span></a><span class="mpre"> :: </span><a href="System.Log.FastLogger.html#loc_57_6_57_15" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.html#loc_57_6_57_15&#39;)"><span class="hl_tyconref"><span class="mpre">LoggerSet</span></span></a><span class="mpre"> -&gt; </span><a href="System.Log.FastLogger.File.html#loc_8_6_8_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.File.html#loc_8_6_8_17&#39;)"><span class="hl_tyconref"><span class="mpre">FileLogSpec</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_202_1_202_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_1_202_11&#39;)"><span class="hl_fundecl"><span class="mpre">logRotater</span></span></a><span class="mpre"> </span><a name="loc_202_12_202_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_12_202_18&#39;)"><span class="hl_vardecl"><span class="mpre">lgrset</span></span></a><span class="mpre"> </span><a name="loc_202_19_202_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_19_202_23&#39;)"><span class="hl_vardecl"><span class="mpre">spec</span></span></a><span class="mpre"> = do
    </span><a name="loc_203_5_203_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_5_203_9&#39;)"><span class="hl_vardecl"><span class="mpre">over</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_209_5_209_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_5_209_11&#39;)"><span class="hl_varref"><span class="mpre">isOver</span></span></a><span class="mpre">
    </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> </span><a href="#loc_203_5_203_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_5_203_9&#39;)"><span class="hl_varref"><span class="mpre">over</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        </span><a href="System.Log.FastLogger.File.html#loc_31_1_31_7" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.File.html#loc_31_1_31_7&#39;)"><span class="hl_varref"><span class="mpre">rotate</span></span></a><span class="mpre"> </span><a href="#loc_202_19_202_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_19_202_23&#39;)"><span class="hl_varref"><span class="mpre">spec</span></span></a><span class="mpre">
        </span><a href="System.Log.FastLogger.html#loc_118_1_118_15" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.html#loc_118_1_118_15&#39;)"><span class="hl_varref"><span class="mpre">renewLoggerSet</span></span></a><span class="mpre"> </span><a href="#loc_202_12_202_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_12_202_18&#39;)"><span class="hl_varref"><span class="mpre">lgrset</span></span></a><span class="mpre">
  where
    </span><a name="loc_208_5_208_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_5_208_9&#39;)"><span class="hl_vardecl"><span class="mpre">file</span></span></a><span class="mpre"> = </span><a href="System.Log.FastLogger.File.html#loc_9_5_9_13" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.File.html#loc_9_5_9_13&#39;)"><span class="hl_varref"><span class="mpre">log_file</span></span></a><span class="mpre"> </span><a href="#loc_202_19_202_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_19_202_23&#39;)"><span class="hl_varref"><span class="mpre">spec</span></span></a><span class="mpre">
    </span><a name="loc_209_5_209_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_5_209_11&#39;)"><span class="hl_vardecl"><span class="mpre">isOver</span></span></a><span class="mpre"> = </span><a href="Control.Exception.Base.html#loc_181_1_181_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Base.html#loc_181_1_181_7&#39;)"><span class="hl_varref"><span class="mpre">handle</span></span></a><span class="mpre"> (\(</span><span class="hl_conref"><span class="mpre">SomeException</span></span><span class="mpre"> _) -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        </span><a name="loc_210_9_210_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_9_210_12&#39;)"><span class="hl_vardecl"><span class="mpre">siz</span></span></a><span class="mpre"> &lt;- </span><a href="System.IO.html#loc_390_1_390_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.html#loc_390_1_390_9&#39;)"><span class="hl_varref"><span class="mpre">withFile</span></span></a><span class="mpre"> </span><a href="#loc_208_5_208_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_5_208_9&#39;)"><span class="hl_varref"><span class="mpre">file</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">ReadMode</span></span><span class="mpre"> </span><a href="GHC.IO.Handle.html#loc_113_1_113_10" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_113_1_113_10&#39;)"><span class="hl_varref"><span class="mpre">hFileSize</span></span></a><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_210_9_210_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_9_210_12&#39;)"><span class="hl_varref"><span class="mpre">siz</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;</span></span><span class="mpre"> </span><a href="System.Log.FastLogger.File.html#loc_10_5_10_18" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.File.html#loc_10_5_10_18&#39;)"><span class="hl_varref"><span class="mpre">log_file_size</span></span></a><span class="mpre"> </span><a href="#loc_202_19_202_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_19_202_23&#39;)"><span class="hl_varref"><span class="mpre">spec</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Checking if a log file can be written if &#39;LogType&#39; is &#39;LogFile&#39;.</span></span><span class="mpre">
</span><a href="#loc_218_1_218_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_1_218_9&#39;)"><span class="mpre">logCheck</span></a><span class="mpre"> :: </span><a href="#loc_113_6_113_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_6_113_13&#39;)"><span class="hl_tyconref"><span class="mpre">LogType</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_218_1_218_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_1_218_9&#39;)"><span class="hl_fundecl"><span class="mpre">logCheck</span></span></a><span class="mpre"> </span><a href="#loc_113_16_113_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_16_113_23&#39;)"><span class="hl_conref"><span class="mpre">LogNone</span></span></a><span class="mpre">          = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
</span><a href="#loc_218_1_218_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_1_218_9&#39;)"><span class="hl_fundecl"><span class="mpre">logCheck</span></span></a><span class="mpre"> (</span><a href="#loc_114_16_114_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_16_114_25&#39;)"><span class="hl_conref"><span class="mpre">LogStdout</span></span></a><span class="mpre"> _)    = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
</span><a href="#loc_218_1_218_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_1_218_9&#39;)"><span class="hl_fundecl"><span class="mpre">logCheck</span></span></a><span class="mpre"> (</span><a href="#loc_117_16_117_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_16_117_23&#39;)"><span class="hl_conref"><span class="mpre">LogFile</span></span></a><span class="mpre"> </span><a name="loc_220_19_220_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_19_220_23&#39;)"><span class="hl_vardecl"><span class="mpre">spec</span></span></a><span class="mpre"> _) = </span><a href="System.Log.FastLogger.File.html#loc_16_1_16_6" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.File.html#loc_16_1_16_6&#39;)"><span class="hl_varref"><span class="mpre">check</span></span></a><span class="mpre"> </span><a href="#loc_220_19_220_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_19_220_23&#39;)"><span class="hl_varref"><span class="mpre">spec</span></span></a><span class="mpre">
</span><a href="#loc_218_1_218_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_1_218_9&#39;)"><span class="hl_fundecl"><span class="mpre">logCheck</span></span></a><span class="mpre"> (</span><a href="#loc_120_16_120_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_16_120_27&#39;)"><span class="hl_conref"><span class="mpre">LogCallback</span></span></a><span class="mpre"> _ _) = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
</span></div></body></html>