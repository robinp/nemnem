<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE OverloadedStrings #-}
module Network.Wai.TestSpec (main, spec) where

import           </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-extra-3.0.0.1/test/Network/Wai/TestSpec.hs&quot;, srcSpanStartLine = 4, srcSpanStartColumn = 18, srcSpanEndLine = 4, srcSpanEndColumn = 28}, srcInfoPoints = []}) &quot;Test.Hspec&quot;"><span class="mpre">Test.Hspec</span></span><span class="mpre">

import           Network.Wai
import           Network.Wai.Test

</span><a href="#loc_10_1_10_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_10_1_10_5&#39;)"><span class="mpre">main</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_10_1_10_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_10_1_10_5&#39;)"><span class="hl_vardecl"><span class="mpre">main</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">hspec</span></span><span class="mpre"> </span><a href="#loc_13_1_13_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_13_1_13_5&#39;)"><span class="hl_varref"><span class="mpre">spec</span></span></a><span class="mpre">

</span><a href="#loc_13_1_13_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_13_1_13_5&#39;)"><span class="mpre">spec</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Spec</span></span><span class="mpre">
</span><a name="loc_13_1_13_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_13_1_13_5&#39;)"><span class="hl_vardecl"><span class="mpre">spec</span></span></a><span class="mpre"> = do
  </span><span class="hl_varref"><span class="mpre">describe</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;setPath&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do

    let </span><a name="loc_16_9_16_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_16_9_16_12&#39;)"><span class="hl_vardecl"><span class="mpre">req</span></span></a><span class="mpre"> = </span><a href="Network.Wai.Test.html#loc_78_1_78_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Test.html#loc_78_1_78_8&#39;)"><span class="hl_varref"><span class="mpre">setPath</span></span></a><span class="mpre"> </span><a href="Network.Wai.html#loc_264_1_264_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.html#loc_264_1_264_15&#39;)"><span class="hl_varref"><span class="mpre">defaultRequest</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;/foo/bar/baz?foo=23&amp;bar=42&amp;baz&quot;</span></span><span class="mpre">

    </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;sets pathInfo&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
      </span><a href="Network.Wai.Internal.html#loc_50_6_50_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_50_6_50_14&#39;)"><span class="hl_varref"><span class="mpre">pathInfo</span></span></a><span class="mpre"> </span><a href="#loc_16_9_16_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_16_9_16_12&#39;)"><span class="hl_varref"><span class="mpre">req</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;foo&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;bar&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;baz&quot;</span></span><span class="mpre">]

    </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;utf8 path&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
      </span><a href="Network.Wai.Internal.html#loc_50_6_50_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_50_6_50_14&#39;)"><span class="hl_varref"><span class="mpre">pathInfo</span></span></a><span class="mpre"> (</span><a href="Network.Wai.Test.html#loc_78_1_78_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Test.html#loc_78_1_78_8&#39;)"><span class="hl_varref"><span class="mpre">setPath</span></span></a><span class="mpre"> </span><a href="Network.Wai.html#loc_264_1_264_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.html#loc_264_1_264_15&#39;)"><span class="hl_varref"><span class="mpre">defaultRequest</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;/foo/%D7%A9%D7%9C%D7%95%D7%9D/bar&quot;</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre">
        [</span><span class="hl_string"><span class="mpre">&quot;foo&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;שלום&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;bar&quot;</span></span><span class="mpre">]

    </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;sets rawPathInfo&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
      </span><a href="Network.Wai.Internal.html#loc_30_6_30_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_30_6_30_17&#39;)"><span class="hl_varref"><span class="mpre">rawPathInfo</span></span></a><span class="mpre"> </span><a href="#loc_16_9_16_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_16_9_16_12&#39;)"><span class="hl_varref"><span class="mpre">req</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;/foo/bar/baz&quot;</span></span><span class="mpre">

    </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;sets queryString&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
      </span><a href="Network.Wai.Internal.html#loc_52_6_52_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_52_6_52_17&#39;)"><span class="hl_varref"><span class="mpre">queryString</span></span></a><span class="mpre"> </span><a href="#loc_16_9_16_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_16_9_16_12&#39;)"><span class="hl_varref"><span class="mpre">req</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> [(</span><span class="hl_string"><span class="mpre">&quot;foo&quot;</span></span><span class="mpre">, </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;23&quot;</span></span><span class="mpre">), (</span><span class="hl_string"><span class="mpre">&quot;bar&quot;</span></span><span class="mpre">, </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;42&quot;</span></span><span class="mpre">), (</span><span class="hl_string"><span class="mpre">&quot;baz&quot;</span></span><span class="mpre">, </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">)]

    </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;sets rawQueryString&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
      </span><a href="Network.Wai.Internal.html#loc_34_6_34_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_34_6_34_20&#39;)"><span class="hl_varref"><span class="mpre">rawQueryString</span></span></a><span class="mpre"> </span><a href="#loc_16_9_16_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_16_9_16_12&#39;)"><span class="hl_varref"><span class="mpre">req</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;?foo=23&amp;bar=42&amp;baz&quot;</span></span><span class="mpre">

    </span><span class="hl_varref"><span class="mpre">context</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;when path has no query string&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
      </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;sets rawQueryString to empty string&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        </span><a href="Network.Wai.Internal.html#loc_34_6_34_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_34_6_34_20&#39;)"><span class="hl_varref"><span class="mpre">rawQueryString</span></span></a><span class="mpre"> (</span><a href="Network.Wai.Test.html#loc_78_1_78_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Test.html#loc_78_1_78_8&#39;)"><span class="hl_varref"><span class="mpre">setPath</span></span></a><span class="mpre"> </span><a href="Network.Wai.html#loc_264_1_264_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.html#loc_264_1_264_15&#39;)"><span class="hl_varref"><span class="mpre">defaultRequest</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;/foo/bar/baz&quot;</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">
</span></div></body></html>