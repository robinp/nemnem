<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE RecordWildCards, PatternGuards #-}
</span><span class="hl_comment"><span class="mpre">{-|
    This module provides simple command line argument processing.
    The main function of interest is &#39;cmdArgs&#39;.
    A simple example is:

    @data Sample = Sample {hello :: String} deriving (Show, Data, Typeable)@

@
sample = Sample{hello = &#39;def&#39; &#39;&amp;=&#39; &#39;help&#39; \&quot;World argument\&quot; &#39;&amp;=&#39; &#39;opt&#39; \&quot;world\&quot;}
         &#39;&amp;=&#39; &#39;summary&#39; \&quot;Sample v1\&quot;
@

    @main = print =&lt;&lt; &#39;cmdArgs&#39; sample@

    Attributes are used to control a number of behaviours:
    
    * The help message: &#39;help&#39;, &#39;typ&#39;, &#39;details&#39;, &#39;summary&#39;, &#39;program&#39;, &#39;groupname&#39;
    
    * Flag behaviour: &#39;opt&#39;, &#39;enum&#39;, &#39;verbosity&#39;, &#39;ignore&#39;
    
    * Flag name assignment: &#39;name&#39;, &#39;explicit&#39;
    
    * Controlling non-flag arguments: &#39;args&#39;, &#39;argPos&#39;

    * multi-mode programs: &#39;modes&#39;, &#39;auto&#39;

    /Supported Types/: Each field in the record must be one of the supported
    atomic types (@String@, @Int@, @Integer@, @Float@, @Double@, @Bool@, an
    enumeration, a tuple of atomic types) or a list (@[]@) or @Maybe@ wrapping
    at atomic type.

    /Missing Fields/: If a field is shared by multiple modes, it may be omitted
    in subsequent modes, and will default to the previous value.

    /Purity/: Values created with annotations are not pure - the first
    time they are computed they will include the annotations, but subsequently
    they will not. If you wish to run the above example in a more robust way:

    @sample = &#39;cmdArgsMode&#39; $ Sample{hello = ... -- as before@

    @main = print =&lt;&lt; &#39;cmdArgsRun&#39; sample@

    Even using this scheme, sometimes GHC&#39;s optimisations may share values who
    have the same annotation. To disable sharing you may need to specify
    @\{\-\# OPTIONS_GHC -fno-cse \#\-\}@ in the module you define the flags.

    /Pure annotations/: Alternatively, you may use pure annotations, which are
    referentially transparent, but less type safe and more verbose. The initial
    example may be written as:

    @sample = &#39;record&#39; Sample{} [hello := &#39;def&#39; &#39;+=&#39; &#39;help&#39; \&quot;World argument\&quot; &#39;+=&#39; &#39;opt&#39; \&quot;world\&quot;]@
    @         &#39;+=&#39; &#39;summary&#39; \&quot;Sample v1\&quot;@

    @main = print =&lt;&lt; (cmdArgs_ sample :: IO Sample)@

    All the examples are written using impure annotations. To convert to pure
    annotations follow the rules:
    
    &gt; Ctor {field1 = value1 &amp;= ann1, field2 = value2} &amp;= ann2 ==&gt; record Ctor{} [field1 := value1 += ann1, field2 := value2] += ann2
    &gt; Ctor (value1 &amp;= ann1) value2 &amp;= ann2 ==&gt; record Ctor{} [atom value1 += ann1, atom value2] += ann2
    &gt; modes [Ctor1{...}, Ctor2{...}] ==&gt; modes_ [record Ctor1{} [...], record Ctor2{} [...]]
    &gt; Ctor {field1 = enum [X &amp;= ann, Y]} ==&gt; record Ctor{} [enum_ field1 [atom X += ann, atom Y]]

    If you are willing to use TemplateHaskell, you can write in the impure syntax,
    but have your code automatically translated to the pure style. For more details see
    &quot;System.Console.CmdArgs.Quote&quot;.

-}</span></span><span class="mpre">
module System.Console.CmdArgs.Implicit(
    </span><span class="hl_comment"><span class="mpre">-- * Running command lines</span></span><span class="mpre">
    cmdArgs, cmdArgsMode, cmdArgsRun, cmdArgs_, cmdArgsMode_, cmdArgsApply, CmdArgs(..), </span><span class="hl_comment"><span class="mpre">-- cmdArgsReform,</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- * Constructing command lines</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- | Attributes can work on a flag (inside a field), on a mode (outside the record),</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--   or on all modes (outside the &#39;modes&#39; call).</span></span><span class="mpre">
    module System.Console.CmdArgs.Implicit.UI,
    </span><span class="hl_comment"><span class="mpre">-- ** Impure</span></span><span class="mpre">
    (&amp;=), modes, enum,
    </span><span class="hl_comment"><span class="mpre">-- ** Pure</span></span><span class="mpre">
    (+=), record, atom, Annotate((:=)), enum_, modes_,
    </span><span class="hl_comment"><span class="mpre">-- * Re-exported for convenience</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- | Provides a few opaque types (for writing type signatures),</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--   verbosity control, default values with &#39;def&#39; and the</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--   @Data@/@Typeable@ type classes.</span></span><span class="mpre">
    module System.Console.CmdArgs.Verbosity,
    module System.Console.CmdArgs.Default,
    Ann, Mode,
    Data, Typeable
    ) where

import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 91, srcSpanStartColumn = 8, srcSpanEndLine = 91, srcSpanEndColumn = 17}, srcInfoPoints = []}) &quot;Data.Data&quot;"><span class="mpre">Data.Data</span></span><span class="mpre">
import Data.Maybe
import Data.Generics.Any
import System.Exit
import System.Console.CmdArgs.Explicit(</span><a href="System.Console.CmdArgs.Explicit.Type.html#loc_77_6_77_10" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Explicit.Type.html#loc_77_6_77_10&#39;)"><a href="System.Console.CmdArgs.Explicit.Type.html#loc_77_15_77_19" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Explicit.Type.html#loc_77_15_77_19&#39;)"><span class="mpre">Mode</span></a></a><span class="mpre">,</span><a href="System.Console.CmdArgs.Explicit.html#loc_100_1_100_12" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Explicit.html#loc_100_1_100_12&#39;)"><span class="mpre">processArgs</span></a><span class="mpre">,</span><a href="System.Console.CmdArgs.Explicit.Type.html#loc_182_5_182_10" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Explicit.Type.html#loc_182_5_182_10&#39;)"><span class="mpre">remap</span></a><span class="mpre">,</span><a href="System.Console.CmdArgs.Explicit.Type.html#loc_82_6_82_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Explicit.Type.html#loc_82_6_82_16&#39;)"><span class="mpre">modeReform</span></a><span class="mpre">)
import System.Console.CmdArgs.Implicit.Ann
import System.Console.CmdArgs.Annotate hiding (</span><a href="System.Console.CmdArgs.Annotate.html#loc_190_1_190_5" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Annotate.html#loc_190_1_190_5&#39;)"><span class="mpre">(&amp;=)</span></a><span class="mpre">)
import qualified System.Console.CmdArgs.Annotate as A(</span><a href="System.Console.CmdArgs.Annotate.html#loc_190_1_190_5" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Annotate.html#loc_190_1_190_5&#39;)"><span class="mpre">(&amp;=)</span></a><span class="mpre">)
import System.Console.CmdArgs.Implicit.Type
import System.Console.CmdArgs.Implicit.Local
import System.Console.CmdArgs.Implicit.Global
import System.Console.CmdArgs.Implicit.UI
import System.Console.CmdArgs.Verbosity
import System.Console.CmdArgs.Default


</span><span class="hl_comment"><span class="mpre">-- | Take impurely annotated records and run the corresponding command line.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   Shortcut for @&#39;cmdArgsRun&#39; . &#39;cmdArgsMode&#39;@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   To use &#39;cmdArgs&#39; with custom command line arguments see</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   &#39;System.Environment.withArgs&#39;.</span></span><span class="mpre">
</span><a href="#loc_113_1_113_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_1_113_8&#39;)"><span class="mpre">cmdArgs</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 112, srcSpanStartColumn = 12, srcSpanEndLine = 112, srcSpanEndColumn = 21}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 112, srcSpanStartColumn = 19, srcSpanEndLine = 112, srcSpanEndColumn = 21}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/va"><span class="mpre">Data a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_113_1_113_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_1_113_8&#39;)"><span class="hl_vardecl"><span class="mpre">cmdArgs</span></span></a><span class="mpre"> = </span><a href="#loc_161_1_161_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_1_161_11&#39;)"><span class="hl_varref"><span class="mpre">cmdArgsRun</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_137_1_137_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_1_137_12&#39;)"><span class="hl_varref"><span class="mpre">cmdArgsMode</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Take purely annotated records and run the corresponding command line.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   Shortcut for @&#39;cmdArgsRun&#39; . &#39;cmdArgsMode_&#39;@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   To use &#39;cmdArgs_&#39; with custom command line arguments see</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   &#39;System.Environment.withArgs&#39;.</span></span><span class="mpre">
</span><a href="#loc_122_1_122_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_1_122_9&#39;)"><span class="mpre">cmdArgs_</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 121, srcSpanStartColumn = 13, srcSpanEndLine = 121, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 121, srcSpanStartColumn = 20, srcSpanEndLine = 121, srcSpanEndColumn = 22}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/va"><span class="mpre">Data a =&gt;</span></span><span class="mpre"> </span><a href="System.Console.CmdArgs.Annotate.html#loc_202_6_202_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Annotate.html#loc_202_6_202_14&#39;)"><span class="hl_tyconref"><span class="mpre">Annotate</span></span></a><span class="mpre"> </span><a href="System.Console.CmdArgs.Implicit.Ann.html#loc_8_6_8_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Ann.html#loc_8_6_8_9&#39;)"><span class="hl_tyconref"><span class="mpre">Ann</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_122_1_122_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_1_122_9&#39;)"><span class="hl_vardecl"><span class="mpre">cmdArgs_</span></span></a><span class="mpre"> = </span><a href="#loc_161_1_161_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_1_161_11&#39;)"><span class="hl_varref"><span class="mpre">cmdArgsRun</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_143_1_143_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_13&#39;)"><span class="hl_varref"><span class="mpre">cmdArgsMode_</span></span></a><span class="mpre">


</span><a href="#loc_126_1_126_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_1_126_15&#39;)"><span class="mpre">cmdArgsCapture</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 125, srcSpanStartColumn = 19, srcSpanEndLine = 125, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 125, srcSpanStartColumn = 26, srcSpanEndLine = 125, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/va"><span class="mpre">Data a =&gt;</span></span><span class="mpre"> </span><a href="System.Console.CmdArgs.Annotate.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Annotate.html#loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Capture</span></span></a><span class="mpre"> </span><a href="System.Console.CmdArgs.Implicit.Ann.html#loc_8_6_8_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Ann.html#loc_8_6_8_9&#39;)"><span class="hl_tyconref"><span class="mpre">Ann</span></span></a><span class="mpre"> -&gt; </span><a href="System.Console.CmdArgs.Explicit.Type.html#loc_77_6_77_10" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Explicit.Type.html#loc_77_6_77_10&#39;)"><span class="hl_tyconref"><span class="mpre">Mode</span></span></a><span class="mpre"> (</span><a href="System.Console.CmdArgs.Implicit.Type.html#loc_19_6_19_13" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Type.html#loc_19_6_19_13&#39;)"><span class="hl_tyconref"><span class="mpre">CmdArgs</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
</span><a name="loc_126_1_126_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_1_126_15&#39;)"><span class="hl_vardecl"><span class="mpre">cmdArgsCapture</span></span></a><span class="mpre"> = </span><a href="System.Console.CmdArgs.Explicit.Type.html#loc_182_5_182_10" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Explicit.Type.html#loc_182_5_182_10&#39;)"><span class="hl_varref"><span class="mpre">remap</span></span></a><span class="mpre"> </span><a href="#loc_127_11_127_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_11_127_16&#39;)"><span class="hl_varref"><span class="mpre">embed</span></span></a><span class="mpre"> </span><a href="#loc_128_11_128_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_11_128_15&#39;)"><span class="hl_varref"><span class="mpre">proj</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="System.Console.CmdArgs.Implicit.Global.html#loc_22_1_22_7" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Global.html#loc_22_1_22_7&#39;)"><span class="hl_varref"><span class="mpre">global</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="System.Console.CmdArgs.Implicit.Local.html#loc_102_1_102_6" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Local.html#loc_102_1_102_6&#39;)"><span class="hl_varref"><span class="mpre">local</span></span></a><span class="mpre">
    where </span><a name="loc_127_11_127_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_11_127_16&#39;)"><span class="hl_vardecl"><span class="mpre">embed</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_34_1_34_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_34_1_34_8&#39;)"><span class="hl_varref"><span class="mpre">fromAny</span></span></a><span class="mpre">
          </span><a name="loc_128_11_128_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_11_128_15&#39;)"><span class="hl_fundecl"><span class="mpre">proj</span></span></a><span class="mpre"> </span><a name="loc_128_16_128_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_16_128_17&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_26_33_26_36" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_33_26_36&#39;)"><span class="hl_conref"><span class="mpre">Any</span></span></a><span class="mpre"> </span><a href="#loc_128_16_128_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_16_128_17&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">, </span><a href="#loc_127_11_127_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_11_127_16&#39;)"><span class="hl_varref"><span class="mpre">embed</span></span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">-- | Take impurely annotated records and turn them in to a &#39;Mode&#39; value, that can</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   make use of the &quot;System.Console.CmdArgs.Explicit&quot; functions (i.e. &#39;process&#39;).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   Annotated records are impure, and will only contain annotations on</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   their first use. The result of this function is pure, and can be reused.</span></span><span class="mpre">
</span><a href="#loc_137_1_137_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_1_137_12&#39;)"><span class="mpre">cmdArgsMode</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 136, srcSpanStartColumn = 16, srcSpanEndLine = 136, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 136, srcSpanStartColumn = 23, srcSpanEndLine = 136, srcSpanEndColumn = 25}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/va"><span class="mpre">Data a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="System.Console.CmdArgs.Explicit.Type.html#loc_77_6_77_10" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Explicit.Type.html#loc_77_6_77_10&#39;)"><span class="hl_tyconref"><span class="mpre">Mode</span></span></a><span class="mpre"> (</span><a href="System.Console.CmdArgs.Implicit.Type.html#loc_19_6_19_13" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Type.html#loc_19_6_19_13&#39;)"><span class="hl_tyconref"><span class="mpre">CmdArgs</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
</span><a name="loc_137_1_137_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_1_137_12&#39;)"><span class="hl_vardecl"><span class="mpre">cmdArgsMode</span></span></a><span class="mpre"> = </span><a href="#loc_126_1_126_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_1_126_15&#39;)"><span class="hl_varref"><span class="mpre">cmdArgsCapture</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="System.Console.CmdArgs.Annotate.html#loc_164_1_164_8" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Annotate.html#loc_164_1_164_8&#39;)"><span class="hl_varref"><span class="mpre">capture</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Take purely annotated records and turn them in to a &#39;Mode&#39; value, that can</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   make use of the &quot;System.Console.CmdArgs.Explicit&quot; functions (i.e. &#39;process&#39;).</span></span><span class="mpre">
</span><a href="#loc_143_1_143_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_13&#39;)"><span class="mpre">cmdArgsMode_</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 142, srcSpanStartColumn = 17, srcSpanEndLine = 142, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 142, srcSpanStartColumn = 24, srcSpanEndLine = 142, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/va"><span class="mpre">Data a =&gt;</span></span><span class="mpre"> </span><a href="System.Console.CmdArgs.Annotate.html#loc_202_6_202_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Annotate.html#loc_202_6_202_14&#39;)"><span class="hl_tyconref"><span class="mpre">Annotate</span></span></a><span class="mpre"> </span><a href="System.Console.CmdArgs.Implicit.Ann.html#loc_8_6_8_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Ann.html#loc_8_6_8_9&#39;)"><span class="hl_tyconref"><span class="mpre">Ann</span></span></a><span class="mpre"> -&gt; </span><a href="System.Console.CmdArgs.Explicit.Type.html#loc_77_6_77_10" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Explicit.Type.html#loc_77_6_77_10&#39;)"><span class="hl_tyconref"><span class="mpre">Mode</span></span></a><span class="mpre"> (</span><a href="System.Console.CmdArgs.Implicit.Type.html#loc_19_6_19_13" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Type.html#loc_19_6_19_13&#39;)"><span class="hl_tyconref"><span class="mpre">CmdArgs</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
</span><a name="loc_143_1_143_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_13&#39;)"><span class="hl_vardecl"><span class="mpre">cmdArgsMode_</span></span></a><span class="mpre"> = </span><a href="#loc_126_1_126_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_1_126_15&#39;)"><span class="hl_varref"><span class="mpre">cmdArgsCapture</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="System.Console.CmdArgs.Annotate.html#loc_236_1_236_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Annotate.html#loc_236_1_236_9&#39;)"><span class="hl_varref"><span class="mpre">capture_</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Run a Mode structure. This function reads the command line arguments</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   and then performs as follows:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   * If invalid arguments are given, it will display the error message</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--     and exit.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   * If @--help@ is given, it will display the help message and exit.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   * If @--version@ is given, it will display the version and exit.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   * In all other circumstances the program will return a value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   * Additionally, if either @--quiet@ or @--verbose@ is given (see &#39;verbosity&#39;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--     it will set the verbosity (see &#39;setVerbosity&#39;).</span></span><span class="mpre">
</span><a href="#loc_161_1_161_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_1_161_11&#39;)"><span class="mpre">cmdArgsRun</span></a><span class="mpre"> :: </span><a href="System.Console.CmdArgs.Explicit.Type.html#loc_77_6_77_10" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Explicit.Type.html#loc_77_6_77_10&#39;)"><span class="hl_tyconref"><span class="mpre">Mode</span></span></a><span class="mpre"> (</span><a href="System.Console.CmdArgs.Implicit.Type.html#loc_19_6_19_13" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Type.html#loc_19_6_19_13&#39;)"><span class="hl_tyconref"><span class="mpre">CmdArgs</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_161_1_161_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_1_161_11&#39;)"><span class="hl_fundecl"><span class="mpre">cmdArgsRun</span></span></a><span class="mpre"> </span><a name="loc_161_12_161_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_12_161_13&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = </span><a href="#loc_175_1_175_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_1_175_13&#39;)"><span class="hl_varref"><span class="mpre">cmdArgsApply</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">=&lt;&lt;</span></span><span class="mpre"> </span><a href="System.Console.CmdArgs.Explicit.html#loc_100_1_100_12" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Explicit.html#loc_100_1_100_12&#39;)"><span class="hl_varref"><span class="mpre">processArgs</span></span></a><span class="mpre"> </span><a href="#loc_161_12_161_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_12_161_13&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Perform the necessary actions dictated by a &#39;CmdArgs&#39; structure.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   * If &#39;cmdArgsHelp&#39; is @Just@, it will display the help message and exit.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   * If &#39;cmdArgsVersion&#39; is @Just@, it will display the version and exit.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   * In all other circumstances it will return a value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   * Additionally, if &#39;cmdArgsVerbosity&#39; is @Just@ (see &#39;verbosity&#39;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--     it will set the verbosity (see &#39;setVerbosity&#39;).</span></span><span class="mpre">
</span><a href="#loc_175_1_175_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_1_175_13&#39;)"><span class="mpre">cmdArgsApply</span></a><span class="mpre"> :: </span><a href="System.Console.CmdArgs.Implicit.Type.html#loc_19_6_19_13" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Type.html#loc_19_6_19_13&#39;)"><span class="hl_tyconref"><span class="mpre">CmdArgs</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_175_1_175_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_1_175_13&#39;)"><span class="hl_fundecl"><span class="mpre">cmdArgsApply</span></span></a><span class="mpre"> </span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 175, srcSpanStartColumn = 14, srcSpanEndLine = 175, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 175, srcSpanStartColumn = 21, srcSpanEndLine = 175, srcSpanEndColumn = 22},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Con"><span class="mpre">CmdArgs{..}</span></span><span class="mpre">
    | </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">x</span></span><span class="mpre"> &lt;- </span><a href="System.Console.CmdArgs.Implicit.Type.html#loc_21_6_21_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Type.html#loc_21_6_21_17&#39;)"><span class="hl_varref"><span class="mpre">cmdArgsHelp</span></span></a><span class="mpre"> = do </span><span class="hl_varref"><span class="mpre">putStr</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">x</span></span><span class="mpre">; </span><a href="System.Exit.html#loc_75_1_75_12" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Exit.html#loc_75_1_75_12&#39;)"><span class="hl_varref"><span class="mpre">exitSuccess</span></span></a><span class="mpre">
    | </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">x</span></span><span class="mpre"> &lt;- </span><a href="System.Console.CmdArgs.Implicit.Type.html#loc_22_6_22_20" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Type.html#loc_22_6_22_20&#39;)"><span class="hl_varref"><span class="mpre">cmdArgsVersion</span></span></a><span class="mpre"> = do </span><span class="hl_varref"><span class="mpre">putStr</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">x</span></span><span class="mpre">; </span><a href="System.Exit.html#loc_75_1_75_12" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Exit.html#loc_75_1_75_12&#39;)"><span class="hl_varref"><span class="mpre">exitSuccess</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = do
        </span><a href="Data.Maybe.html#loc_74_1_74_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_74_1_74_6&#39;)"><span class="hl_varref"><span class="mpre">maybe</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">) </span><a href="System.Console.CmdArgs.Verbosity.html#loc_33_1_33_13" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Verbosity.html#loc_33_1_33_13&#39;)"><span class="hl_varref"><span class="mpre">setVerbosity</span></span></a><span class="mpre"> </span><a href="System.Console.CmdArgs.Implicit.Type.html#loc_23_6_23_22" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Type.html#loc_23_6_23_22&#39;)"><span class="hl_varref"><span class="mpre">cmdArgsVerbosity</span></span></a><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="System.Console.CmdArgs.Implicit.Type.html#loc_20_6_20_18" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Type.html#loc_20_6_20_18&#39;)"><span class="hl_varref"><span class="mpre">cmdArgsValue</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Produce command line arguments that would generate the given value. This</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   function is useful for taking a value resulting from a command line,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   modifying it (perhaps changing the value of a flag) and generating fresh</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   command line arguments.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; forall mode values constructed by cmdArgsMode/cmdArgsMode:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; forall args which successfully parse with mode</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; let x = processValue mode args</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; processValue mode (cmdArgsReform mode $ fromRight x) == x</span></span><span class="mpre">
</span><a href="#loc_193_1_193_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_1_193_15&#39;)"><span class="mpre">_cmdArgsReform</span></a><span class="mpre"> :: </span><a href="System.Console.CmdArgs.Explicit.Type.html#loc_77_6_77_10" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Explicit.Type.html#loc_77_6_77_10&#39;)"><span class="hl_tyconref"><span class="mpre">Mode</span></span></a><span class="mpre"> (</span><a href="System.Console.CmdArgs.Implicit.Type.html#loc_19_6_19_13" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Type.html#loc_19_6_19_13&#39;)"><span class="hl_tyconref"><span class="mpre">CmdArgs</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><a href="System.Console.CmdArgs.Implicit.Type.html#loc_19_6_19_13" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Type.html#loc_19_6_19_13&#39;)"><span class="hl_tyconref"><span class="mpre">CmdArgs</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_193_1_193_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_1_193_15&#39;)"><span class="hl_fundecl"><span class="mpre">_cmdArgsReform</span></span></a><span class="mpre"> </span><a name="loc_193_16_193_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_16_193_17&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> </span><a name="loc_193_18_193_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_18_193_19&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Data.Maybe.html#loc_98_1_98_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_98_1_98_10&#39;)"><span class="hl_varref"><span class="mpre">fromMaybe</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><a href="#loc_194_11_194_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_11_194_14&#39;)"><span class="hl_varref"><span class="mpre">err</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="System.Console.CmdArgs.Explicit.Type.html#loc_82_6_82_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Explicit.Type.html#loc_82_6_82_16&#39;)"><span class="hl_varref"><span class="mpre">modeReform</span></span></a><span class="mpre"> </span><a href="#loc_193_16_193_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_16_193_17&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><a href="#loc_193_18_193_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_18_193_19&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
    where </span><a name="loc_194_11_194_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_11_194_14&#39;)"><span class="hl_vardecl"><span class="mpre">err</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;System.Console.CmdArgs.Implicit.cmdArgsReform: cannot reform the arguments, perhaps the mode was not &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre">
                </span><span class="hl_string"><span class="mpre">&quot;generated by cmdArgsMode/cmdArgsMode_ ?&quot;</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Modes: \&quot;I want a program with multiple modes, like darcs or cabal.\&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   Takes a list of modes, and creates a mode which includes them all.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   If you want one of the modes to be chosen by default, see &#39;auto&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; data Modes = Mode1 | Mode2 | Mode3 deriving Data</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; cmdArgs $ modes [Mode1,Mode2,Mode3]</span></span><span class="mpre">
</span><a href="#loc_206_1_206_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_6&#39;)"><span class="mpre">modes</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 205, srcSpanStartColumn = 10, srcSpanEndLine = 205, srcSpanEndColumn = 21}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 205, srcSpanStartColumn = 19, srcSpanEndLine = 205, srcSpanEndColumn = 21}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/va"><span class="mpre">Data val =&gt;</span></span><span class="mpre"> [</span><span class="hl_tyvar"><span class="mpre">val</span></span><span class="mpre">] -&gt; </span><span class="hl_tyvar"><span class="mpre">val</span></span><span class="mpre">
</span><a name="loc_206_1_206_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_6&#39;)"><span class="hl_vardecl"><span class="mpre">modes</span></span></a><span class="mpre"> = </span><a href="System.Console.CmdArgs.Annotate.html#loc_144_1_144_5" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Annotate.html#loc_144_1_144_5&#39;)"><span class="hl_varref"><span class="mpre">many</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Flag: \&quot;I want several different flags to set this one field to different values.\&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   This annotation takes a type which is an enumeration, and provides multiple</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   separate flags to set the field to each value. The first element in the list</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   is used as the value of the field.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; data State = On | Off deriving Data</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; data Mode = Mode {state :: State}</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; cmdArgs $ Mode {state = enum [On &amp;= help &quot;Turn on&quot;,Off &amp;= help &quot;Turn off&quot;]}</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;   --on   Turn on</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;   --off  Turn off</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   This annotation can be used to allow multiple flags within a field:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; data Mode = Mode {state :: [State]}</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; cmdArgs $ Mode {state = enum [[] &amp;= ignore, [On] &amp;= help &quot;Turn on&quot;, [Off] &amp;= help &quot;Turn off&quot;]}</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   Now @--on --off@ would produce @Mode [On,Off]@.</span></span><span class="mpre">
</span><a href="#loc_227_1_227_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_1_227_5&#39;)"><span class="mpre">enum</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 226, srcSpanStartColumn = 9, srcSpanEndLine = 226, srcSpanEndColumn = 20}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 226, srcSpanStartColumn = 18, srcSpanEndLine = 226, srcSpanEndColumn = 20}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vag"><span class="mpre">Data val =&gt;</span></span><span class="mpre"> [</span><span class="hl_tyvar"><span class="mpre">val</span></span><span class="mpre">] -&gt; </span><span class="hl_tyvar"><span class="mpre">val</span></span><span class="mpre">
</span><a name="loc_227_1_227_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_1_227_5&#39;)"><span class="hl_vardecl"><span class="mpre">enum</span></span></a><span class="mpre"> = </span><a href="System.Console.CmdArgs.Annotate.html#loc_144_1_144_5" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Annotate.html#loc_144_1_144_5&#39;)"><span class="hl_varref"><span class="mpre">many</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Add an annotation to a value. Note that if the value is evaluated</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   more than once the annotation will only be available the first time.</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_234_1_234_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_1_234_5&#39;)"><span class="mpre">(&amp;=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a href="#loc_234_1_234_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_1_234_5&#39;)"><span class="mpre">(&amp;=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 233, srcSpanStartColumn = 9, srcSpanEndLine = 233, srcSpanEndColumn = 20}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 233, srcSpanStartColumn = 18, srcSpanEndLine = 233, srcSpanEndColumn = 20}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vag"><span class="mpre">Data val =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">val</span></span><span class="mpre"> -&gt; </span><a href="System.Console.CmdArgs.Implicit.Ann.html#loc_8_6_8_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Ann.html#loc_8_6_8_9&#39;)"><span class="hl_tyconref"><span class="mpre">Ann</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">val</span></span><span class="mpre">
</span><a name="loc_234_1_234_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_1_234_5&#39;)"><span class="hl_vardecl"><span class="mpre">(&amp;=)</span></span></a><span class="mpre"> = </span><a href="System.Console.CmdArgs.Annotate.html#loc_190_1_190_5" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Annotate.html#loc_190_1_190_5&#39;)"><span class="hl_varref"><span class="mpre">(A.&amp;=)</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Like &#39;enum&#39;, but using the pure annotations.</span></span><span class="mpre">
</span><a href="#loc_239_1_239_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_1_239_6&#39;)"><span class="mpre">enum_</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 238, srcSpanStartColumn = 10, srcSpanEndLine = 238, srcSpanEndColumn = 29}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Implicit.hs&quot;, srcSpanStartLine = 238, srcSpanStartColumn = 10, srcSpanEndLine = 238, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/"><span class="mpre">(Data c, Data f) =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">) -&gt; [</span><a href="System.Console.CmdArgs.Annotate.html#loc_202_6_202_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Annotate.html#loc_202_6_202_14&#39;)"><span class="hl_tyconref"><span class="mpre">Annotate</span></span></a><span class="mpre"> </span><a href="System.Console.CmdArgs.Implicit.Ann.html#loc_8_6_8_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Ann.html#loc_8_6_8_9&#39;)"><span class="hl_tyconref"><span class="mpre">Ann</span></span></a><span class="mpre">] -&gt; </span><a href="System.Console.CmdArgs.Annotate.html#loc_202_6_202_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Annotate.html#loc_202_6_202_14&#39;)"><span class="hl_tyconref"><span class="mpre">Annotate</span></span></a><span class="mpre"> </span><a href="System.Console.CmdArgs.Implicit.Ann.html#loc_8_6_8_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Ann.html#loc_8_6_8_9&#39;)"><span class="hl_tyconref"><span class="mpre">Ann</span></span></a><span class="mpre">
</span><a name="loc_239_1_239_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_1_239_6&#39;)"><span class="hl_vardecl"><span class="mpre">enum_</span></span></a><span class="mpre"> = </span><a href="System.Console.CmdArgs.Annotate.html#loc_204_49_204_52" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Annotate.html#loc_204_49_204_52&#39;)"><span class="hl_conref"><span class="mpre">(:=+)</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Like &#39;modes&#39;, but using the pure annotations.</span></span><span class="mpre">
</span><a href="#loc_243_1_243_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_243_1_243_7&#39;)"><span class="mpre">modes_</span></a><span class="mpre"> :: [</span><a href="System.Console.CmdArgs.Annotate.html#loc_202_6_202_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Annotate.html#loc_202_6_202_14&#39;)"><span class="hl_tyconref"><span class="mpre">Annotate</span></span></a><span class="mpre"> </span><a href="System.Console.CmdArgs.Implicit.Ann.html#loc_8_6_8_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Ann.html#loc_8_6_8_9&#39;)"><span class="hl_tyconref"><span class="mpre">Ann</span></span></a><span class="mpre">] -&gt; </span><a href="System.Console.CmdArgs.Annotate.html#loc_202_6_202_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Annotate.html#loc_202_6_202_14&#39;)"><span class="hl_tyconref"><span class="mpre">Annotate</span></span></a><span class="mpre"> </span><a href="System.Console.CmdArgs.Implicit.Ann.html#loc_8_6_8_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Implicit.Ann.html#loc_8_6_8_9&#39;)"><span class="hl_tyconref"><span class="mpre">Ann</span></span></a><span class="mpre">
</span><a name="loc_243_1_243_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_243_1_243_7&#39;)"><span class="hl_vardecl"><span class="mpre">modes_</span></span></a><span class="mpre"> = </span><a href="System.Console.CmdArgs.Annotate.html#loc_219_1_219_6" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.CmdArgs.Annotate.html#loc_219_1_219_6&#39;)"><span class="hl_varref"><span class="mpre">many_</span></span></a><span class="mpre">
</span></div></body></html>