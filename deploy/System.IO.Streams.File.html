<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">-- | Input and output streams for files.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The functions in this file use \&quot;with*\&quot; or \&quot;bracket\&quot; semantics, i.e. they</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- open the supplied &#39;FilePath&#39;, run a user computation, and then close the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- file handle. If you need more control over the lifecycle of the underlying</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- file descriptor resources, you are encouraged to use the functions from</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &quot;System.IO.Streams.Handle&quot; instead.</span></span><span class="mpre">
module System.IO.Streams.File
  ( </span><span class="hl_comment"><span class="mpre">-- * File conversions</span></span><span class="mpre">
    withFileAsInput
  , withFileAsInputStartingAt
  , unsafeWithFileAsInputStartingAt
  , withFileAsOutput
  , withFileAsOutputExt
  ) where

</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
import           Control.Monad              (</span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="mpre">unless</span></a><span class="mpre">)
import           </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/io-streams-1.1.4.6/src/System/IO/Streams/File.hs&quot;, srcSpanStartLine = 19, srcSpanStartColumn = 18, srcSpanEndLine = 19, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre">            (ByteString)
import           Data.Int                   (</span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="mpre">Int64</span></a><span class="mpre">)
import           System.IO                  (</span><a href="GHC.IO.Handle.Types.html#loc_246_6_246_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.Types.html#loc_246_6_246_16&#39;)"><span class="mpre">BufferMode</span></a><span class="mpre"> (NoBuffering), </span><a href="GHC.IO.IOMode.html#loc_28_6_28_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.IOMode.html#loc_28_6_28_12&#39;)"><span class="mpre">IOMode</span></a><span class="mpre"> (</span><a href="GHC.IO.IOMode.html#loc_28_21_28_29" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.IOMode.html#loc_28_21_28_29&#39;)"><span class="mpre">ReadMode</span></a><span class="mpre">, </span><a href="GHC.IO.IOMode.html#loc_28_32_28_41" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.IOMode.html#loc_28_32_28_41&#39;)"><span class="mpre">WriteMode</span></a><span class="mpre">), </span><a href="GHC.IO.Device.html#loc_164_6_164_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_164_6_164_14&#39;)"><span class="mpre">SeekMode</span></a><span class="mpre"> (AbsoluteSeek), </span><a href="GHC.IO.Handle.html#loc_386_1_386_6" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_386_1_386_6&#39;)"><span class="mpre">hSeek</span></a><span class="mpre">, </span><a href="GHC.IO.Handle.html#loc_204_1_204_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_204_1_204_14&#39;)"><span class="mpre">hSetBuffering</span></a><span class="mpre">, </span><a href="System.IO.html#loc_397_1_397_15" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.html#loc_397_1_397_15&#39;)"><span class="mpre">withBinaryFile</span></a><span class="mpre">)
</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
import           System.IO.Streams.Handle   (</span><a href="System.IO.Streams.Handle.html#loc_46_1_46_20" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Handle.html#loc_46_1_46_20&#39;)"><span class="mpre">handleToInputStream</span></a><span class="mpre">, </span><a href="System.IO.Streams.Handle.html#loc_60_1_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Handle.html#loc_60_1_60_21&#39;)"><span class="mpre">handleToOutputStream</span></a><span class="mpre">)
import           System.IO.Streams.Internal (</span><a href="System.IO.Streams.Internal.html#loc_107_6_107_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_107_6_107_17&#39;)"><span class="mpre">InputStream</span></a><span class="mpre">, </span><a href="System.IO.Streams.Internal.html#loc_126_6_126_18" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_126_6_126_18&#39;)"><span class="mpre">OutputStream</span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | @&#39;withFileAsInput&#39; name act@ opens the specified file in \&quot;read mode\&quot; and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- passes the resulting &#39;InputStream&#39; to the computation @act@. The file will</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- be closed on exit from @withFileAsInput@, whether by normal termination or</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- by raising an exception.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- If closing the file raises an exception, then /that/ exception will be</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- raised by &#39;withFileAsInput&#39; rather than any exception raised by @act@.</span></span><span class="mpre">
</span><a href="#loc_38_1_38_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_1_38_16&#39;)"><span class="mpre">withFileAsInput</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">                          </span><span class="hl_comment"><span class="mpre">-- ^ file to open</span></span><span class="mpre">
                -&gt; (</span><a href="System.IO.Streams.Internal.html#loc_107_6_107_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_107_6_107_17&#39;)"><span class="hl_tyconref"><span class="mpre">InputStream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)  </span><span class="hl_comment"><span class="mpre">-- ^ function to run</span></span><span class="mpre">
                -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_38_1_38_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_1_38_16&#39;)"><span class="hl_vardecl"><span class="mpre">withFileAsInput</span></span></a><span class="mpre"> = </span><a href="#loc_49_1_49_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_1_49_26&#39;)"><span class="hl_varref"><span class="mpre">withFileAsInputStartingAt</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Like &#39;withFileAsInput&#39;, but seeks to the specified byte offset before</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- attaching the given file descriptor to the &#39;InputStream&#39;.</span></span><span class="mpre">
</span><a href="#loc_49_1_49_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_1_49_26&#39;)"><span class="mpre">withFileAsInputStartingAt</span></a><span class="mpre">
    :: </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre">                             </span><span class="hl_comment"><span class="mpre">-- ^ starting index to seek to</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">                          </span><span class="hl_comment"><span class="mpre">-- ^ file to open</span></span><span class="mpre">
    -&gt; (</span><a href="System.IO.Streams.Internal.html#loc_107_6_107_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_107_6_107_17&#39;)"><span class="hl_tyconref"><span class="mpre">InputStream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)  </span><span class="hl_comment"><span class="mpre">-- ^ function to run</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_49_1_49_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_1_49_26&#39;)"><span class="hl_fundecl"><span class="mpre">withFileAsInputStartingAt</span></span></a><span class="mpre"> </span><a name="loc_49_27_49_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_27_49_30&#39;)"><span class="hl_vardecl"><span class="mpre">idx</span></span></a><span class="mpre"> </span><a name="loc_49_31_49_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_31_49_33&#39;)"><span class="hl_vardecl"><span class="mpre">fp</span></span></a><span class="mpre"> </span><a name="loc_49_34_49_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_34_49_35&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = </span><a href="System.IO.html#loc_397_1_397_15" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.html#loc_397_1_397_15&#39;)"><span class="hl_varref"><span class="mpre">withBinaryFile</span></span></a><span class="mpre"> </span><a href="#loc_49_31_49_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_31_49_33&#39;)"><span class="hl_varref"><span class="mpre">fp</span></span></a><span class="mpre"> </span><a href="GHC.IO.IOMode.html#loc_28_21_28_29" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.IOMode.html#loc_28_21_28_29&#39;)"><span class="hl_conref"><span class="mpre">ReadMode</span></span></a><span class="mpre"> </span><a href="#loc_51_5_51_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_5_51_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">
  where
    </span><a name="loc_51_5_51_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_5_51_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_51_8_51_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_8_51_9&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> = do
        </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><a href="#loc_49_27_49_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_27_49_30&#39;)"><span class="hl_varref"><span class="mpre">idx</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.Handle.html#loc_386_1_386_6" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_386_1_386_6&#39;)"><span class="hl_varref"><span class="mpre">hSeek</span></span></a><span class="mpre"> </span><a href="#loc_51_8_51_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_8_51_9&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">AbsoluteSeek</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">toInteger</span></span><span class="mpre"> </span><a href="#loc_49_27_49_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_27_49_30&#39;)"><span class="hl_varref"><span class="mpre">idx</span></span></a><span class="mpre">
        </span><a href="System.IO.Streams.Handle.html#loc_46_1_46_20" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Handle.html#loc_46_1_46_20&#39;)"><span class="hl_varref"><span class="mpre">handleToInputStream</span></span></a><span class="mpre"> </span><a href="#loc_51_8_51_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_8_51_9&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="#loc_49_34_49_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_34_49_35&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Like &#39;withFileAsInputStartingAt&#39;, except that the &#39;ByteString&#39; emitted by</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the created &#39;InputStream&#39; may reuse its buffer. You may only use this</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- function if you do not retain references to the generated bytestrings</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- emitted.</span></span><span class="mpre">
</span><a href="#loc_66_1_66_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_1_66_32&#39;)"><span class="mpre">unsafeWithFileAsInputStartingAt</span></a><span class="mpre">
    :: </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre">                             </span><span class="hl_comment"><span class="mpre">-- ^ starting index to seek to</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">                          </span><span class="hl_comment"><span class="mpre">-- ^ file to open</span></span><span class="mpre">
    -&gt; (</span><a href="System.IO.Streams.Internal.html#loc_107_6_107_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_107_6_107_17&#39;)"><span class="hl_tyconref"><span class="mpre">InputStream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)  </span><span class="hl_comment"><span class="mpre">-- ^ function to run</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_66_1_66_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_1_66_32&#39;)"><span class="hl_vardecl"><span class="mpre">unsafeWithFileAsInputStartingAt</span></span></a><span class="mpre"> = </span><a href="#loc_49_1_49_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_1_49_26&#39;)"><span class="hl_varref"><span class="mpre">withFileAsInputStartingAt</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Open a file for writing and  attaches an &#39;OutputStream&#39; for you to write</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- to. The file will be closed on error or completion of your action.</span></span><span class="mpre">
</span><a href="#loc_76_1_76_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_1_76_17&#39;)"><span class="mpre">withFileAsOutput</span></a><span class="mpre">
    :: </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">                           </span><span class="hl_comment"><span class="mpre">-- ^ file to open</span></span><span class="mpre">
    -&gt; (</span><a href="System.IO.Streams.Internal.html#loc_126_6_126_18" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_126_6_126_18&#39;)"><span class="hl_tyconref"><span class="mpre">OutputStream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)  </span><span class="hl_comment"><span class="mpre">-- ^ function to run</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_76_1_76_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_1_76_17&#39;)"><span class="hl_fundecl"><span class="mpre">withFileAsOutput</span></span></a><span class="mpre"> </span><a name="loc_76_18_76_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_18_76_19&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_88_1_88_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_1_88_20&#39;)"><span class="hl_varref"><span class="mpre">withFileAsOutputExt</span></span></a><span class="mpre"> </span><a href="#loc_76_18_76_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_18_76_19&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="GHC.IO.IOMode.html#loc_28_32_28_41" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.IOMode.html#loc_28_32_28_41&#39;)"><span class="hl_conref"><span class="mpre">WriteMode</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">NoBuffering</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Like &#39;withFileAsOutput&#39;, but allowing you control over the output file</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- mode and buffering behaviour.</span></span><span class="mpre">
</span><a href="#loc_88_1_88_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_1_88_20&#39;)"><span class="mpre">withFileAsOutputExt</span></a><span class="mpre">
    :: </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">                           </span><span class="hl_comment"><span class="mpre">-- ^ file to open</span></span><span class="mpre">
    -&gt; </span><a href="GHC.IO.IOMode.html#loc_28_6_28_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.IOMode.html#loc_28_6_28_12&#39;)"><span class="hl_tyconref"><span class="mpre">IOMode</span></span></a><span class="mpre">                             </span><span class="hl_comment"><span class="mpre">-- ^ mode to write in</span></span><span class="mpre">
    -&gt; </span><a href="GHC.IO.Handle.Types.html#loc_246_6_246_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.Types.html#loc_246_6_246_16&#39;)"><span class="hl_tyconref"><span class="mpre">BufferMode</span></span></a><span class="mpre">                         </span><span class="hl_comment"><span class="mpre">-- ^ should we buffer the output?</span></span><span class="mpre">
    -&gt; (</span><a href="System.IO.Streams.Internal.html#loc_126_6_126_18" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Internal.html#loc_126_6_126_18&#39;)"><span class="hl_tyconref"><span class="mpre">OutputStream</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)  </span><span class="hl_comment"><span class="mpre">-- ^ function to run</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_88_1_88_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_1_88_20&#39;)"><span class="hl_fundecl"><span class="mpre">withFileAsOutputExt</span></span></a><span class="mpre"> </span><a name="loc_88_21_88_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_21_88_23&#39;)"><span class="hl_vardecl"><span class="mpre">fp</span></span></a><span class="mpre"> </span><a name="loc_88_24_88_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_24_88_30&#39;)"><span class="hl_vardecl"><span class="mpre">iomode</span></span></a><span class="mpre"> </span><a name="loc_88_31_88_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_31_88_41&#39;)"><span class="hl_vardecl"><span class="mpre">buffermode</span></span></a><span class="mpre"> </span><a name="loc_88_42_88_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_42_88_43&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = </span><a href="System.IO.html#loc_397_1_397_15" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.html#loc_397_1_397_15&#39;)"><span class="hl_varref"><span class="mpre">withBinaryFile</span></span></a><span class="mpre"> </span><a href="#loc_88_21_88_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_21_88_23&#39;)"><span class="hl_varref"><span class="mpre">fp</span></span></a><span class="mpre"> </span><a href="#loc_88_24_88_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_24_88_30&#39;)"><span class="hl_varref"><span class="mpre">iomode</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_88_74_88_75" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_74_88_75&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> -&gt; do
    </span><a href="GHC.IO.Handle.html#loc_204_1_204_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_204_1_204_14&#39;)"><span class="hl_varref"><span class="mpre">hSetBuffering</span></span></a><span class="mpre"> </span><a href="#loc_88_74_88_75" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_74_88_75&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><a href="#loc_88_31_88_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_31_88_41&#39;)"><span class="hl_varref"><span class="mpre">buffermode</span></span></a><span class="mpre">
    </span><a href="System.IO.Streams.Handle.html#loc_60_1_60_21" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Streams.Handle.html#loc_60_1_60_21&#39;)"><span class="hl_varref"><span class="mpre">handleToOutputStream</span></span></a><span class="mpre"> </span><a href="#loc_88_74_88_75" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_74_88_75&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="#loc_88_42_88_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_42_88_43&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">
</span></div></body></html>