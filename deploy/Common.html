<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP #-}
{-# OPTIONS_GHC -fno-warn-orphans #-}

module Common (
      chunksOf
    , rechunkBS
    , rechunkT
    ) where

import Control.DeepSeq (</span><a href="Control.DeepSeq.html#loc_110_7_110_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.DeepSeq.html#loc_110_7_110_13&#39;)"><span class="mpre">NFData</span></a><span class="mpre">(</span><a href="Control.DeepSeq.html#loc_120_5_120_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.DeepSeq.html#loc_120_5_120_8&#39;)"><span class="mpre">rnf</span></a><span class="mpre">))
import Text.Parsec (</span><a href="Text.Parsec.Error.html#loc_96_6_96_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Parsec.Error.html#loc_96_6_96_16&#39;)"><span class="mpre">ParseError</span></a><span class="mpre">)
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/attoparsec-0.12.1.0/benchmarks/Common.hs&quot;, srcSpanStartLine = 12, srcSpanStartColumn = 18, srcSpanEndLine = 12, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> as B
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/attoparsec-0.12.1.0/benchmarks/Common.hs&quot;, srcSpanStartLine = 13, srcSpanStartColumn = 18, srcSpanEndLine = 13, srcSpanEndColumn = 38}, srcInfoPoints = []}) &quot;Data.ByteString.Lazy&quot;"><span class="mpre">Data.ByteString.Lazy</span></span><span class="mpre"> as BL
import qualified Data.Text as T
import qualified Data.Text.Lazy as TL

#if !MIN_VERSION_bytestring(0,10,0)
import Data.ByteString.Internal (</span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="mpre">ByteString</span></a><span class="mpre">(..))

instance </span><a href="Control.DeepSeq.html#loc_110_7_110_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.DeepSeq.html#loc_110_7_110_13&#39;)"><span class="hl_classref"><span class="mpre">NFData</span></span></a><span class="mpre"> </span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="hl_tyconref"><span class="mpre">ByteString</span></span></a><span class="mpre"> where
    </span><a href="Control.DeepSeq.html#loc_120_5_120_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.DeepSeq.html#loc_120_5_120_8&#39;)"><span class="hl_fundecl"><span class="mpre">rnf</span></span></a><span class="mpre"> (</span><a href="Data.ByteString.Internal.html#loc_193_19_193_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_19_193_21&#39;)"><span class="hl_conref"><span class="mpre">PS</span></span></a><span class="mpre"> _ _ _) = </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
#endif

instance </span><a href="Control.DeepSeq.html#loc_110_7_110_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.DeepSeq.html#loc_110_7_110_13&#39;)"><span class="hl_classref"><span class="mpre">NFData</span></span></a><span class="mpre"> </span><a href="Text.Parsec.Error.html#loc_96_6_96_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Parsec.Error.html#loc_96_6_96_16&#39;)"><span class="hl_tyconref"><span class="mpre">ParseError</span></span></a><span class="mpre"> where
    </span><a href="Control.DeepSeq.html#loc_120_5_120_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.DeepSeq.html#loc_120_5_120_8&#39;)"><span class="hl_vardecl"><span class="mpre">rnf</span></span></a><span class="mpre"> = </span><a href="Control.DeepSeq.html#loc_120_5_120_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.DeepSeq.html#loc_120_5_120_8&#39;)"><span class="hl_varref"><span class="mpre">rnf</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre">

</span><a href="#loc_28_1_28_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_9&#39;)"><span class="mpre">chunksOf</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">] -&gt; [[</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">]]
</span><a name="loc_28_1_28_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_9&#39;)"><span class="hl_fundecl"><span class="mpre">chunksOf</span></span></a><span class="mpre"> </span><a name="loc_28_10_28_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_10_28_11&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> = </span><a href="#loc_29_9_29_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_9_29_11&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">
  where </span><a name="loc_29_9_29_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_9_29_11&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_29_12_29_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_12_29_14&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> = case </span><span class="hl_varref"><span class="mpre">splitAt</span></span><span class="mpre"> </span><a href="#loc_28_10_28_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_10_28_11&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_29_12_29_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_12_29_14&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre"> of
                  ([],_)  -&gt; []
                  (</span><a name="loc_31_20_31_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_31_20_31_21&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">, </span><a name="loc_31_23_31_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_31_23_31_25&#39;)"><span class="hl_vardecl"><span class="mpre">ys</span></span></a><span class="mpre">) -&gt; </span><a href="#loc_31_20_31_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_31_20_31_21&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_29_9_29_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_9_29_11&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_31_23_31_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_31_23_31_25&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">

</span><a href="#loc_34_1_34_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_1_34_10&#39;)"><span class="mpre">rechunkBS</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">BL.ByteString</span></span><span class="mpre">
</span><a name="loc_34_1_34_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_1_34_10&#39;)"><span class="hl_fundecl"><span class="mpre">rechunkBS</span></span></a><span class="mpre"> </span><a name="loc_34_11_34_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_11_34_12&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">BL.fromChunks</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.pack</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_28_1_28_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_9&#39;)"><span class="hl_varref"><span class="mpre">chunksOf</span></span></a><span class="mpre"> </span><a href="#loc_34_11_34_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_11_34_12&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.unpack</span></span><span class="mpre">

</span><a href="#loc_37_1_37_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_1_37_9&#39;)"><span class="mpre">rechunkT</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">TL.Text</span></span></a><span class="mpre">
</span><a name="loc_37_1_37_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_1_37_9&#39;)"><span class="hl_fundecl"><span class="mpre">rechunkT</span></span></a><span class="mpre"> </span><a name="loc_37_10_37_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_10_37_11&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="Data.Text.Lazy.html#loc_385_1_385_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Lazy.html#loc_385_1_385_11&#39;)"><span class="hl_varref"><span class="mpre">TL.fromChunks</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="Data.Text.html#loc_387_1_387_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_387_1_387_5&#39;)"><span class="hl_varref"><span class="mpre">T.pack</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_28_1_28_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_9&#39;)"><span class="hl_varref"><span class="mpre">chunksOf</span></span></a><span class="mpre"> </span><a href="#loc_37_10_37_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_10_37_11&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Text.html#loc_392_1_392_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_392_1_392_7&#39;)"><span class="hl_varref"><span class="mpre">T.unpack</span></span></a><span class="mpre">
</span></div></body></html>