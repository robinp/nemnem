<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE Rank2Types #-}
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Data.Set.Lens</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (C) 2012-14 Edward Kmett</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  BSD-style (see the file LICENSE)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  provisional</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------------------</span></span><span class="mpre">
module Data.Set.Lens
  ( setmapped
  , setOf
  ) where

import Control.Lens.Getter ( Getting, </span><a href="Control.Lens.Getter.html#loc_243_1_243_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Getter.html#loc_243_1_243_6&#39;)"><span class="mpre">views</span></a><span class="mpre"> )
import Control.Lens.Setter ( </span><a href="Control.Lens.Setter.html#loc_280_1_280_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Setter.html#loc_280_1_280_8&#39;)"><span class="mpre">setting</span></a><span class="mpre"> )
import Control.Lens.Type
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/Set/Lens.hs&quot;, srcSpanStartLine = 20, srcSpanStartColumn = 8, srcSpanEndLine = 20, srcSpanEndColumn = 16}, srcInfoPoints = []}) &quot;Data.Set&quot;"><span class="mpre">Data.Set</span></span><span class="mpre"> as Set


</span><span class="hl_comment"><span class="mpre">-- $setup</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; :set -XNoOverloadedStrings</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; import Control.Lens</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This &#39;Setter&#39; can be used to change the type of a &#39;Set&#39; by mapping</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the elements to new values.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Sadly, you can&#39;t create a valid &#39;Traversal&#39; for a &#39;Set&#39;, but you can</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- manipulate it by reading using &#39;Control.Lens.Fold.folded&#39; and reindexing it via &#39;setmapped&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; over setmapped (+1) (fromList [1,2,3,4])</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [2,3,4,5]</span></span><span class="mpre">
</span><a href="#loc_36_1_36_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_1_36_10&#39;)"><span class="mpre">setmapped</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/Set/Lens.hs&quot;, srcSpanStartLine = 35, srcSpanStartColumn = 14, srcSpanEndLine = 35, srcSpanEndColumn = 31}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/Set/Lens.hs&quot;, srcSpanStartLine = 35, srcSpanStartColumn = 14, srcSpanEndLine = 35, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/Set/Lens.hs&quot;, srcSpanStartLine = 35, srcSpanStar"><span class="mpre">(Ord i, Ord j) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IndexPreservingSetter</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Set</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre">) (</span><span class="hl_tyconref"><span class="mpre">Set</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">j</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">j</span></span><span class="mpre">
</span><a name="loc_36_1_36_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_1_36_10&#39;)"><span class="hl_vardecl"><span class="mpre">setmapped</span></span></a><span class="mpre"> = </span><a href="Control.Lens.Setter.html#loc_280_1_280_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Setter.html#loc_280_1_280_8&#39;)"><span class="hl_varref"><span class="mpre">setting</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">Set.map</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_36_1_36_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_1_36_10&#39;)"><span class="mpre">setmapped</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Construct a set from a &#39;Getter&#39;, &#39;Control.Lens.Fold.Fold&#39;, &#39;Control.Lens.Traversal.Traversal&#39;, &#39;Control.Lens.Lens.Lens&#39; or &#39;Control.Lens.Iso.Iso&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; setOf folded [&quot;hello&quot;,&quot;world&quot;]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [&quot;hello&quot;,&quot;world&quot;]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; setOf (folded._2) [(&quot;hello&quot;,1),(&quot;world&quot;,2),(&quot;!!!&quot;,3)]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [1,2,3]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;setOf&#39; ::          &#39;Getter&#39; s a     -&gt; s -&gt; &#39;Set&#39; a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;setOf&#39; :: &#39;Ord&#39; a =&gt; &#39;Fold&#39; s a       -&gt; s -&gt; &#39;Set&#39; a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;setOf&#39; ::          &#39;Iso&#39;&#39; s a       -&gt; s -&gt; &#39;Set&#39; a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;setOf&#39; ::          &#39;Lens&#39;&#39; s a      -&gt; s -&gt; &#39;Set&#39; a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;setOf&#39; :: &#39;Ord&#39; a =&gt; &#39;Traversal&#39;&#39; s a -&gt; s -&gt; &#39;Set&#39; a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_55_1_55_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_1_55_6&#39;)"><span class="mpre">setOf</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Getting</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Set</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Set</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_55_1_55_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_1_55_6&#39;)"><span class="hl_fundecl"><span class="mpre">setOf</span></span></a><span class="mpre"> </span><a name="loc_55_7_55_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_7_55_8&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> = </span><a href="Control.Lens.Getter.html#loc_243_1_243_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Getter.html#loc_243_1_243_6&#39;)"><span class="hl_varref"><span class="mpre">views</span></span></a><span class="mpre"> </span><a href="#loc_55_7_55_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_7_55_8&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">Set.singleton</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_55_1_55_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_1_55_6&#39;)"><span class="mpre">setOf</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span></div></body></html>