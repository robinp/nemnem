<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP, ForeignFunctionInterface #-}
#if defined(__GLASGOW_HASKELL__) &amp;&amp; __GLASGOW_HASKELL__ &gt;= 702
{-# LANGUAGE Trustworthy #-}
#endif

module Data.Hashable.RandomSource
    (
      getRandomBytes
    , getRandomBytes_
    ) where

import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hashable-1.2.2.0/Data/Hashable/RandomSource.hs&quot;, srcSpanStartLine = 12, srcSpanStartColumn = 8, srcSpanEndLine = 12, srcSpanEndColumn = 23}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> as B
import Data.ByteString.Internal (</span><a href="Data.ByteString.Internal.html#loc_434_1_434_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_434_1_434_7&#39;)"><span class="mpre">create</span></a><span class="mpre">)
import Foreign.C.Error (</span><a href="Foreign.C.Error.html#loc_370_1_370_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.C.Error.html#loc_370_1_370_20&#39;)"><span class="mpre">throwErrnoIfMinus1_</span></a><span class="mpre">)
#if MIN_VERSION_base(4,5,0)
import Foreign.C.Types (CInt(CInt))
#else
import Foreign.C.Types (CInt)
#endif
import Foreign.Ptr (Ptr)

</span><a href="#loc_23_1_23_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_23_1_23_15&#39;)"><span class="mpre">getRandomBytes</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre">
</span><a name="loc_23_1_23_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_23_1_23_15&#39;)"><span class="hl_fundecl"><span class="mpre">getRandomBytes</span></span></a><span class="mpre"> </span><a name="loc_23_16_23_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_23_16_23_22&#39;)"><span class="hl_vardecl"><span class="mpre">nbytes</span></span></a><span class="mpre">
    | </span><a href="#loc_23_16_23_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_23_16_23_22&#39;)"><span class="hl_varref"><span class="mpre">nbytes</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.empty</span></span><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="Data.ByteString.Internal.html#loc_434_1_434_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_434_1_434_7&#39;)"><span class="hl_varref"><span class="mpre">create</span></span></a><span class="mpre"> </span><a href="#loc_23_16_23_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_23_16_23_22&#39;)"><span class="hl_varref"><span class="mpre">nbytes</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">flip</span></span><span class="mpre"> (</span><a href="#loc_28_1_28_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_16&#39;)"><span class="hl_varref"><span class="mpre">getRandomBytes_</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;getRandomBytes&quot;</span></span><span class="mpre">) </span><a href="#loc_23_16_23_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_23_16_23_22&#39;)"><span class="hl_varref"><span class="mpre">nbytes</span></span></a><span class="mpre">

</span><a href="#loc_28_1_28_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_16&#39;)"><span class="mpre">getRandomBytes_</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Ptr</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_28_1_28_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_16&#39;)"><span class="hl_fundecl"><span class="mpre">getRandomBytes_</span></span></a><span class="mpre"> </span><a name="loc_28_17_28_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_17_28_21&#39;)"><span class="hl_vardecl"><span class="mpre">what</span></span></a><span class="mpre"> </span><a name="loc_28_22_28_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_22_28_25&#39;)"><span class="hl_vardecl"><span class="mpre">ptr</span></span></a><span class="mpre"> </span><a name="loc_28_26_28_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_26_28_32&#39;)"><span class="hl_vardecl"><span class="mpre">nbytes</span></span></a><span class="mpre"> = do
  </span><a href="Foreign.C.Error.html#loc_370_1_370_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.C.Error.html#loc_370_1_370_20&#39;)"><span class="hl_varref"><span class="mpre">throwErrnoIfMinus1_</span></span></a><span class="mpre"> </span><a href="#loc_28_17_28_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_17_28_21&#39;)"><span class="hl_varref"><span class="mpre">what</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">c_getRandomBytes</span></span><span class="mpre"> </span><a href="#loc_28_22_28_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_22_28_25&#39;)"><span class="hl_varref"><span class="mpre">ptr</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_28_26_28_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_26_28_32&#39;)"><span class="hl_varref"><span class="mpre">nbytes</span></span></a><span class="mpre">)

</span><span class="warning" data-warning="DeclForImp (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hashable-1.2.2.0/Data/Hashable/RandomSource.hs&quot;, srcSpanStartLine = 31, srcSpanStartColumn = 1, srcSpanEndLine = 32, srcSpanEndColumn = 32}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hashable-1.2.2.0/Data/Hashable/RandomSource.hs&quot;, srcSpanStartLine = 31, srcSpanStartColumn = 1, srcSpanEndLine = 31, srcSpanEndColumn = 8},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hashable-1.2.2.0/Data/Hashable/Rando"><span class="mpre">foreign import ccall unsafe &quot;hashable_getRandomBytes&quot; c_getRandomBytes
    :: Ptr a -&gt; CInt -&gt; IO CInt</span></span><span class="mpre">
</span></div></body></html>