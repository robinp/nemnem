<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# OPTIONS -fno-warn-unused-imports #-}
#include &quot;HsConfigure.h&quot;
</span><span class="hl_comment"><span class="mpre">-- #hide</span></span><span class="mpre">
module Data.Time.LocalTime.TimeOfDay
(
        </span><span class="hl_comment"><span class="mpre">-- * Time of day</span></span><span class="mpre">
        TimeOfDay(..),midnight,midday,makeTimeOfDayValid,
        utcToLocalTimeOfDay,localToUTCTimeOfDay,
        timeToTimeOfDay,timeOfDayToTime,
        dayFractionToTimeOfDay,timeOfDayToDayFraction
) where

import Data.Time.LocalTime.TimeZone
import Data.Time.Calendar.Private
import Data.Time.Clock
import Control.DeepSeq
import Data.Typeable
import Data.Fixed
#if LANGUAGE_Rank2Types
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/time-1.4.2/Data/Time/LocalTime/TimeOfDay.hs&quot;, srcSpanStartLine = 20, srcSpanStartColumn = 8, srcSpanEndLine = 20, srcSpanEndColumn = 17}, srcInfoPoints = []}) &quot;Data.Data&quot;"><span class="mpre">Data.Data</span></span><span class="mpre">
#endif

</span><span class="hl_comment"><span class="mpre">-- | Time of day as represented in hour, minute and second (with picoseconds), typically used to express local time of day.</span></span><span class="mpre">
data </span><a name="loc_24_6_24_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_6_24_15&#39;)"><span class="hl_tycondecl"><span class="mpre">TimeOfDay</span></span></a><span class="mpre"> = </span><a name="loc_24_18_24_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_18_24_27&#39;)"><span class="hl_condecl"><span class="mpre">TimeOfDay</span></span></a><span class="mpre"> {
        </span><span class="hl_comment"><span class="mpre">-- | range 0 - 23</span></span><span class="mpre">
        </span><a name="loc_26_9_26_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_9_26_16&#39;)"><span class="hl_fielddecl"><span class="mpre">todHour</span></span></a><span class="mpre">    :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">,
        </span><span class="hl_comment"><span class="mpre">-- | range 0 - 59</span></span><span class="mpre">
        </span><a name="loc_28_9_28_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_9_28_15&#39;)"><span class="hl_fielddecl"><span class="mpre">todMin</span></span></a><span class="mpre">     :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">,
        </span><span class="hl_comment"><span class="mpre">-- | Note that 0 &lt;= todSec &lt; 61, accomodating leap seconds.</span></span><span class="mpre">
        </span><span class="hl_comment"><span class="mpre">-- Any local minute may have a leap second, since leap seconds happen in all zones simultaneously</span></span><span class="mpre">
        </span><a name="loc_31_9_31_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_31_9_31_15&#39;)"><span class="hl_fielddecl"><span class="mpre">todSec</span></span></a><span class="mpre">     :: </span><span class="hl_tyconref"><span class="mpre">Pico</span></span><span class="mpre">
} </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/time-1.4.2/Data/Time/LocalTime/TimeOfDay.hs&quot;, srcSpanStartLine = 32, srcSpanStartColumn = 3, srcSpanEndLine = 40, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/time-1.4.2/Data/Time/LocalTime/TimeOfDay.hs&quot;, srcSpanStartLine = 32, srcSpanStartColumn = 3, srcSpanEndLine = 32, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/time-1.4.2/Data/Time/LocalTime/TimeOfDay"><span class="mpre">deriving (Eq,Ord
#if LANGUAGE_DeriveDataTypeable
#if LANGUAGE_Rank2Types
#if HAS_DataPico
    ,Data, Typeable
#endif
#endif
#endif
    )</span></span><span class="mpre">

instance </span><a href="Control.DeepSeq.html#loc_110_7_110_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.DeepSeq.html#loc_110_7_110_13&#39;)"><span class="hl_classref"><span class="mpre">NFData</span></span></a><span class="mpre"> </span><a href="#loc_24_6_24_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_6_24_15&#39;)"><span class="hl_tyconref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre"> where
        </span><a href="Control.DeepSeq.html#loc_120_5_120_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.DeepSeq.html#loc_120_5_120_8&#39;)"><span class="hl_fundecl"><span class="mpre">rnf</span></span></a><span class="mpre"> (</span><a href="#loc_24_18_24_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_18_24_27&#39;)"><span class="hl_conref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre"> </span><a name="loc_43_24_43_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_24_43_25&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> </span><a name="loc_43_26_43_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_26_43_27&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> </span><a name="loc_43_28_43_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_28_43_29&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) = </span><a href="#loc_43_24_43_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_24_43_25&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><a href="Control.DeepSeq.html#loc_85_1_85_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.DeepSeq.html#loc_85_1_85_8&#39;)"><span class="hl_infix"><span class="mpre">`deepseq`</span></span></a><span class="mpre"> </span><a href="#loc_43_26_43_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_26_43_27&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><a href="Control.DeepSeq.html#loc_85_1_85_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.DeepSeq.html#loc_85_1_85_8&#39;)"><span class="hl_infix"><span class="mpre">`deepseq`</span></span></a><span class="mpre"> </span><a href="#loc_43_28_43_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_28_43_29&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`seq`</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- FIXME: Data.Fixed had no NFData instances yet at time of writing</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Hour zero</span></span><span class="mpre">
</span><a href="#loc_47_1_47_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_1_47_9&#39;)"><span class="mpre">midnight</span></a><span class="mpre"> :: </span><a href="#loc_24_6_24_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_6_24_15&#39;)"><span class="hl_tyconref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre">
</span><a name="loc_47_1_47_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_1_47_9&#39;)"><span class="hl_vardecl"><span class="mpre">midnight</span></span></a><span class="mpre"> = </span><a href="#loc_24_18_24_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_18_24_27&#39;)"><span class="hl_conref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Hour twelve</span></span><span class="mpre">
</span><a href="#loc_51_1_51_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_1_51_7&#39;)"><span class="mpre">midday</span></a><span class="mpre"> :: </span><a href="#loc_24_6_24_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_6_24_15&#39;)"><span class="hl_tyconref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre">
</span><a name="loc_51_1_51_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_1_51_7&#39;)"><span class="hl_vardecl"><span class="mpre">midday</span></span></a><span class="mpre"> = </span><a href="#loc_24_18_24_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_18_24_27&#39;)"><span class="hl_conref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">12</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">

instance </span><span class="hl_classref"><span class="mpre">Show</span></span><span class="mpre"> </span><a href="#loc_24_6_24_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_6_24_15&#39;)"><span class="hl_tyconref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre"> where
        </span><span class="hl_fundecl"><span class="mpre">show</span></span><span class="mpre"> (</span><a href="#loc_24_18_24_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_18_24_27&#39;)"><span class="hl_conref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre"> </span><a name="loc_54_25_54_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_25_54_26&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> </span><a name="loc_54_27_54_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_27_54_28&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> </span><a name="loc_54_29_54_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_29_54_30&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) = (</span><a href="Data.Time.Calendar.Private.html#loc_28_1_28_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Private.html#loc_28_1_28_6&#39;)"><span class="hl_varref"><span class="mpre">show2</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;0&#39;</span></span><span class="mpre">) </span><a href="#loc_54_25_54_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_25_54_26&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;:&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> (</span><a href="Data.Time.Calendar.Private.html#loc_28_1_28_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Private.html#loc_28_1_28_6&#39;)"><span class="hl_varref"><span class="mpre">show2</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;0&#39;</span></span><span class="mpre">) </span><a href="#loc_54_27_54_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_27_54_28&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;:&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> (</span><a href="Data.Time.Calendar.Private.html#loc_17_1_17_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Private.html#loc_17_1_17_11&#39;)"><span class="hl_varref"><span class="mpre">show2Fixed</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;0&#39;</span></span><span class="mpre">) </span><a href="#loc_54_29_54_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_29_54_30&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)

</span><a href="#loc_57_1_57_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_19&#39;)"><span class="mpre">makeTimeOfDayValid</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Pico</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="#loc_24_6_24_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_6_24_15&#39;)"><span class="hl_tyconref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre">
</span><a name="loc_57_1_57_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_19&#39;)"><span class="hl_fundecl"><span class="mpre">makeTimeOfDayValid</span></span></a><span class="mpre"> </span><a name="loc_57_20_57_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_20_57_21&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> </span><a name="loc_57_22_57_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_22_57_23&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> </span><a name="loc_57_24_57_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_24_57_25&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = do
        _ &lt;- </span><a href="Data.Time.Calendar.Private.html#loc_48_1_48_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Private.html#loc_48_1_48_10&#39;)"><span class="hl_varref"><span class="mpre">clipValid</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">23</span></span><span class="mpre"> </span><a href="#loc_57_20_57_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_20_57_21&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">
        _ &lt;- </span><a href="Data.Time.Calendar.Private.html#loc_48_1_48_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Private.html#loc_48_1_48_10&#39;)"><span class="hl_varref"><span class="mpre">clipValid</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">59</span></span><span class="mpre"> </span><a href="#loc_57_22_57_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_22_57_23&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">
        _ &lt;- </span><a href="Data.Time.Calendar.Private.html#loc_48_1_48_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Private.html#loc_48_1_48_10&#39;)"><span class="hl_varref"><span class="mpre">clipValid</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">60.999999999999</span></span><span class="mpre"> </span><a href="#loc_57_24_57_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_24_57_25&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_24_18_24_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_18_24_27&#39;)"><span class="hl_conref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre"> </span><a href="#loc_57_20_57_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_20_57_21&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><a href="#loc_57_22_57_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_22_57_23&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><a href="#loc_57_24_57_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_24_57_25&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Convert a ToD in UTC to a ToD in some timezone, together with a day adjustment.</span></span><span class="mpre">
</span><a href="#loc_65_1_65_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_1_65_20&#39;)"><span class="mpre">utcToLocalTimeOfDay</span></a><span class="mpre"> :: </span><a href="Data.Time.LocalTime.TimeZone.html#loc_29_6_29_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.LocalTime.TimeZone.html#loc_29_6_29_14&#39;)"><span class="hl_tyconref"><span class="mpre">TimeZone</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_24_6_24_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_6_24_15&#39;)"><span class="hl_tyconref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre"> -&gt; (</span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre">,</span><a href="#loc_24_6_24_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_6_24_15&#39;)"><span class="hl_tyconref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre">)
</span><a name="loc_65_1_65_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_1_65_20&#39;)"><span class="hl_fundecl"><span class="mpre">utcToLocalTimeOfDay</span></span></a><span class="mpre"> </span><a name="loc_65_21_65_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_21_65_25&#39;)"><span class="hl_vardecl"><span class="mpre">zone</span></span></a><span class="mpre"> (</span><a href="#loc_24_18_24_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_18_24_27&#39;)"><span class="hl_conref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre"> </span><a name="loc_65_37_65_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_37_65_38&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> </span><a name="loc_65_39_65_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_39_65_40&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> </span><a name="loc_65_41_65_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_41_65_42&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) = (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">div</span></span><span class="mpre"> </span><a href="#loc_67_9_67_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_9_67_11&#39;)"><span class="hl_varref"><span class="mpre">h&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">24</span></span><span class="mpre">),</span><a href="#loc_24_18_24_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_18_24_27&#39;)"><span class="hl_conref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">mod</span></span><span class="mpre"> </span><a href="#loc_67_9_67_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_9_67_11&#39;)"><span class="hl_varref"><span class="mpre">h&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">24</span></span><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">mod</span></span><span class="mpre"> </span><a href="#loc_66_9_66_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_9_66_11&#39;)"><span class="hl_varref"><span class="mpre">m&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">60</span></span><span class="mpre">) </span><a href="#loc_65_41_65_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_41_65_42&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">) where
        </span><a name="loc_66_9_66_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_9_66_11&#39;)"><span class="hl_vardecl"><span class="mpre">m&#39;</span></span></a><span class="mpre"> = </span><a href="#loc_65_39_65_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_39_65_40&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="Data.Time.LocalTime.TimeZone.html#loc_31_9_31_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.LocalTime.TimeZone.html#loc_31_9_31_24&#39;)"><span class="hl_varref"><span class="mpre">timeZoneMinutes</span></span></a><span class="mpre"> </span><a href="#loc_65_21_65_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_21_65_25&#39;)"><span class="hl_varref"><span class="mpre">zone</span></span></a><span class="mpre">
        </span><a name="loc_67_9_67_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_9_67_11&#39;)"><span class="hl_vardecl"><span class="mpre">h&#39;</span></span></a><span class="mpre"> = </span><a href="#loc_65_37_65_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_37_65_38&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">div</span></span><span class="mpre"> </span><a href="#loc_66_9_66_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_9_66_11&#39;)"><span class="hl_varref"><span class="mpre">m&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">60</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Convert a ToD in some timezone to a ToD in UTC, together with a day adjustment.</span></span><span class="mpre">
</span><a href="#loc_71_1_71_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_1_71_20&#39;)"><span class="mpre">localToUTCTimeOfDay</span></a><span class="mpre"> :: </span><a href="Data.Time.LocalTime.TimeZone.html#loc_29_6_29_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.LocalTime.TimeZone.html#loc_29_6_29_14&#39;)"><span class="hl_tyconref"><span class="mpre">TimeZone</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_24_6_24_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_6_24_15&#39;)"><span class="hl_tyconref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre"> -&gt; (</span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre">,</span><a href="#loc_24_6_24_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_6_24_15&#39;)"><span class="hl_tyconref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre">)
</span><a name="loc_71_1_71_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_1_71_20&#39;)"><span class="hl_fundecl"><span class="mpre">localToUTCTimeOfDay</span></span></a><span class="mpre"> </span><a name="loc_71_21_71_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_21_71_25&#39;)"><span class="hl_vardecl"><span class="mpre">zone</span></span></a><span class="mpre"> = </span><a href="#loc_65_1_65_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_1_65_20&#39;)"><span class="hl_varref"><span class="mpre">utcToLocalTimeOfDay</span></span></a><span class="mpre"> (</span><a href="Data.Time.LocalTime.TimeZone.html#loc_49_1_49_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.LocalTime.TimeZone.html#loc_49_1_49_18&#39;)"><span class="hl_varref"><span class="mpre">minutesToTimeZone</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">negate</span></span><span class="mpre"> (</span><a href="Data.Time.LocalTime.TimeZone.html#loc_31_9_31_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.LocalTime.TimeZone.html#loc_31_9_31_24&#39;)"><span class="hl_varref"><span class="mpre">timeZoneMinutes</span></span></a><span class="mpre"> </span><a href="#loc_71_21_71_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_21_71_25&#39;)"><span class="hl_varref"><span class="mpre">zone</span></span></a><span class="mpre">)))

</span><a href="#loc_74_1_74_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_1_74_15&#39;)"><span class="mpre">posixDayLength</span></a><span class="mpre"> :: </span><a href="Data.Time.Clock.Scale.html#loc_41_9_41_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Clock.Scale.html#loc_41_9_41_17&#39;)"><span class="hl_tyconref"><span class="mpre">DiffTime</span></span></a><span class="mpre">
</span><a name="loc_74_1_74_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_1_74_15&#39;)"><span class="hl_vardecl"><span class="mpre">posixDayLength</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">fromInteger</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">86400</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Get a TimeOfDay given a time since midnight.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Time more than 24h will be converted to leap-seconds.</span></span><span class="mpre">
</span><a href="#loc_79_1_79_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_1_79_16&#39;)"><span class="mpre">timeToTimeOfDay</span></a><span class="mpre"> :: </span><a href="Data.Time.Clock.Scale.html#loc_41_9_41_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Clock.Scale.html#loc_41_9_41_17&#39;)"><span class="hl_tyconref"><span class="mpre">DiffTime</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_24_6_24_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_6_24_15&#39;)"><span class="hl_tyconref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre">
</span><a name="loc_79_1_79_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_1_79_16&#39;)"><span class="hl_fundecl"><span class="mpre">timeToTimeOfDay</span></span></a><span class="mpre"> </span><a name="loc_79_17_79_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_17_79_19&#39;)"><span class="hl_vardecl"><span class="mpre">dt</span></span></a><span class="mpre"> | </span><a href="#loc_79_17_79_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_17_79_19&#39;)"><span class="hl_varref"><span class="mpre">dt</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_74_1_74_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_1_74_15&#39;)"><span class="hl_varref"><span class="mpre">posixDayLength</span></span></a><span class="mpre"> = </span><a href="#loc_24_18_24_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_18_24_27&#39;)"><span class="hl_conref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">23</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">59</span></span><span class="mpre"> (</span><span class="hl_num"><span class="mpre">60</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">realToFrac</span></span><span class="mpre"> (</span><a href="#loc_79_17_79_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_17_79_19&#39;)"><span class="hl_varref"><span class="mpre">dt</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="#loc_74_1_74_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_1_74_15&#39;)"><span class="hl_varref"><span class="mpre">posixDayLength</span></span></a><span class="mpre">)))
</span><a href="#loc_79_1_79_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_1_79_16&#39;)"><span class="hl_fundecl"><span class="mpre">timeToTimeOfDay</span></span></a><span class="mpre"> </span><a name="loc_80_17_80_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_17_80_19&#39;)"><span class="hl_vardecl"><span class="mpre">dt</span></span></a><span class="mpre"> = </span><a href="#loc_24_18_24_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_18_24_27&#39;)"><span class="hl_conref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromInteger</span></span><span class="mpre"> </span><a href="#loc_85_9_85_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_9_85_10&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">fromInteger</span></span><span class="mpre"> </span><a href="#loc_84_9_84_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_9_84_10&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">) </span><a href="#loc_82_9_82_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_9_82_10&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> where
        </span><a name="loc_81_9_81_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_11&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">realToFrac</span></span><span class="mpre"> </span><a href="#loc_80_17_80_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_17_80_19&#39;)"><span class="hl_varref"><span class="mpre">dt</span></span></a><span class="mpre">
        </span><a name="loc_82_9_82_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_9_82_10&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><a href="Data.Fixed.html#loc_60_1_60_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Fixed.html#loc_60_1_60_5&#39;)"><span class="hl_varref"><span class="mpre">mod&#39;</span></span></a><span class="mpre"> </span><a href="#loc_81_9_81_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_11&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">60</span></span><span class="mpre">
        </span><a name="loc_83_9_83_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_9_83_11&#39;)"><span class="hl_vardecl"><span class="mpre">m&#39;</span></span></a><span class="mpre"> = </span><a href="Data.Fixed.html#loc_51_1_51_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Fixed.html#loc_51_1_51_5&#39;)"><span class="hl_varref"><span class="mpre">div&#39;</span></span></a><span class="mpre"> </span><a href="#loc_81_9_81_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_11&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">60</span></span><span class="mpre">
        </span><a name="loc_84_9_84_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_9_84_10&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = </span><a href="Data.Fixed.html#loc_60_1_60_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Fixed.html#loc_60_1_60_5&#39;)"><span class="hl_varref"><span class="mpre">mod&#39;</span></span></a><span class="mpre"> </span><a href="#loc_83_9_83_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_9_83_11&#39;)"><span class="hl_varref"><span class="mpre">m&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">60</span></span><span class="mpre">
        </span><a name="loc_85_9_85_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_9_85_10&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> = </span><a href="Data.Fixed.html#loc_51_1_51_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Fixed.html#loc_51_1_51_5&#39;)"><span class="hl_varref"><span class="mpre">div&#39;</span></span></a><span class="mpre"> </span><a href="#loc_83_9_83_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_9_83_11&#39;)"><span class="hl_varref"><span class="mpre">m&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">60</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Find out how much time since midnight a given TimeOfDay is.</span></span><span class="mpre">
</span><a href="#loc_89_1_89_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_1_89_16&#39;)"><span class="mpre">timeOfDayToTime</span></a><span class="mpre"> :: </span><a href="#loc_24_6_24_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_6_24_15&#39;)"><span class="hl_tyconref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Time.Clock.Scale.html#loc_41_9_41_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Clock.Scale.html#loc_41_9_41_17&#39;)"><span class="hl_tyconref"><span class="mpre">DiffTime</span></span></a><span class="mpre">
</span><a name="loc_89_1_89_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_1_89_16&#39;)"><span class="hl_fundecl"><span class="mpre">timeOfDayToTime</span></span></a><span class="mpre"> (</span><a href="#loc_24_18_24_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_18_24_27&#39;)"><span class="hl_conref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre"> </span><a name="loc_89_28_89_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_28_89_29&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> </span><a name="loc_89_30_89_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_30_89_31&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> </span><a name="loc_89_32_89_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_32_89_33&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) = ((</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_89_28_89_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_28_89_29&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">*</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">60</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_89_30_89_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_30_89_31&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">)) </span><span class="hl_infix"><span class="mpre">*</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">60</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">realToFrac</span></span><span class="mpre"> </span><a href="#loc_89_32_89_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_32_89_33&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Get a TimeOfDay given the fraction of a day since midnight.</span></span><span class="mpre">
</span><a href="#loc_93_1_93_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_23&#39;)"><span class="mpre">dayFractionToTimeOfDay</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Rational</span></span><span class="mpre"> -&gt; </span><a href="#loc_24_6_24_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_6_24_15&#39;)"><span class="hl_tyconref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre">
</span><a name="loc_93_1_93_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_23&#39;)"><span class="hl_fundecl"><span class="mpre">dayFractionToTimeOfDay</span></span></a><span class="mpre"> </span><a name="loc_93_24_93_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_24_93_26&#39;)"><span class="hl_vardecl"><span class="mpre">df</span></span></a><span class="mpre"> = </span><a href="#loc_79_1_79_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_1_79_16&#39;)"><span class="hl_varref"><span class="mpre">timeToTimeOfDay</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">realToFrac</span></span><span class="mpre"> (</span><a href="#loc_93_24_93_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_24_93_26&#39;)"><span class="hl_varref"><span class="mpre">df</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">*</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">86400</span></span><span class="mpre">))

</span><span class="hl_comment"><span class="mpre">-- | Get the fraction of a day since midnight given a TimeOfDay.</span></span><span class="mpre">
</span><a href="#loc_97_1_97_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_23&#39;)"><span class="mpre">timeOfDayToDayFraction</span></a><span class="mpre"> :: </span><a href="#loc_24_6_24_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_6_24_15&#39;)"><span class="hl_tyconref"><span class="mpre">TimeOfDay</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Rational</span></span><span class="mpre">
</span><a name="loc_97_1_97_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_23&#39;)"><span class="hl_fundecl"><span class="mpre">timeOfDayToDayFraction</span></span></a><span class="mpre"> </span><a name="loc_97_24_97_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_24_97_27&#39;)"><span class="hl_vardecl"><span class="mpre">tod</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">realToFrac</span></span><span class="mpre"> (</span><a href="#loc_89_1_89_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_1_89_16&#39;)"><span class="hl_varref"><span class="mpre">timeOfDayToTime</span></span></a><span class="mpre"> </span><a href="#loc_97_24_97_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_24_97_27&#39;)"><span class="hl_varref"><span class="mpre">tod</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">/</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">realToFrac</span></span><span class="mpre"> </span><a href="#loc_74_1_74_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_1_74_15&#39;)"><span class="hl_varref"><span class="mpre">posixDayLength</span></span></a><span class="mpre">
</span></div></body></html>