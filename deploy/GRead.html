<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# OPTIONS -fglasgow-exts #-}

module GRead (tests) where

</span><span class="hl_comment"><span class="mpre">{-

The following examples achieve branch coverage for the various
productions in the definition of gread. Also, negative test cases are
provided; see str2 and str3. Also, the potential of heading or
trailing spaces as well incomplete parsing of the input is exercised;
see str5.

-}</span></span><span class="mpre">

import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/syb-0.4.2/tests/GRead.hs&quot;, srcSpanStartLine = 15, srcSpanStartColumn = 8, srcSpanEndLine = 15, srcSpanEndColumn = 18}, srcInfoPoints = []}) &quot;Test.HUnit&quot;"><span class="mpre">Test.HUnit</span></span><span class="mpre">

import Data.Generics

</span><a name="loc_19_1_19_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_1_19_5&#39;)"><span class="hl_vardecl"><span class="mpre">str1</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;(True)&quot;</span></span><span class="mpre">     </span><span class="hl_comment"><span class="mpre">-- reads fine as a Bool</span></span><span class="mpre">
</span><a name="loc_20_1_20_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_1_20_5&#39;)"><span class="hl_vardecl"><span class="mpre">str2</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;(Treu)&quot;</span></span><span class="mpre">     </span><span class="hl_comment"><span class="mpre">-- invalid constructor</span></span><span class="mpre">
</span><a name="loc_21_1_21_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_21_1_21_5&#39;)"><span class="hl_vardecl"><span class="mpre">str3</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;True&quot;</span></span><span class="mpre">       </span><span class="hl_comment"><span class="mpre">-- lacks parentheses</span></span><span class="mpre">
</span><a name="loc_22_1_22_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_22_1_22_5&#39;)"><span class="hl_vardecl"><span class="mpre">str4</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;(1)&quot;</span></span><span class="mpre">            </span><span class="hl_comment"><span class="mpre">-- could be an Int</span></span><span class="mpre">
</span><a name="loc_23_1_23_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_23_1_23_5&#39;)"><span class="hl_vardecl"><span class="mpre">str5</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;( 2 ) ...&quot;</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- could be an Int with some trailing left-over</span></span><span class="mpre">
</span><a name="loc_24_1_24_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_1_24_5&#39;)"><span class="hl_vardecl"><span class="mpre">str6</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;([])&quot;</span></span><span class="mpre">       </span><span class="hl_comment"><span class="mpre">-- test empty list</span></span><span class="mpre">
</span><a name="loc_25_1_25_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_1_25_5&#39;)"><span class="hl_vardecl"><span class="mpre">str7</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;((:)&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_22_1_22_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_22_1_22_5&#39;)"><span class="hl_varref"><span class="mpre">str4</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_24_1_24_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_1_24_5&#39;)"><span class="hl_varref"><span class="mpre">str6</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;)&quot;</span></span><span class="mpre"> 

</span><a name="loc_27_1_27_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_1_27_6&#39;)"><span class="hl_vardecl"><span class="mpre">tests</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> ( ( [ </span><a href="Data.Generics.Text.html#loc_71_1_71_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Text.html#loc_71_1_71_6&#39;)"><span class="hl_varref"><span class="mpre">gread</span></span></a><span class="mpre"> </span><a href="#loc_19_1_19_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_1_19_5&#39;)"><span class="hl_varref"><span class="mpre">str1</span></span></a><span class="mpre">,
                   </span><a href="Data.Generics.Text.html#loc_71_1_71_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Text.html#loc_71_1_71_6&#39;)"><span class="hl_varref"><span class="mpre">gread</span></span></a><span class="mpre"> </span><a href="#loc_20_1_20_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_1_20_5&#39;)"><span class="hl_varref"><span class="mpre">str2</span></span></a><span class="mpre">,
                   </span><a href="Data.Generics.Text.html#loc_71_1_71_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Text.html#loc_71_1_71_6&#39;)"><span class="hl_varref"><span class="mpre">gread</span></span></a><span class="mpre"> </span><a href="#loc_21_1_21_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_21_1_21_5&#39;)"><span class="hl_varref"><span class="mpre">str3</span></span></a><span class="mpre">
                 ]
               , [ </span><a href="Data.Generics.Text.html#loc_71_1_71_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Text.html#loc_71_1_71_6&#39;)"><span class="hl_varref"><span class="mpre">gread</span></span></a><span class="mpre"> </span><a href="#loc_22_1_22_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_22_1_22_5&#39;)"><span class="hl_varref"><span class="mpre">str4</span></span></a><span class="mpre">,
                   </span><a href="Data.Generics.Text.html#loc_71_1_71_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Text.html#loc_71_1_71_6&#39;)"><span class="hl_varref"><span class="mpre">gread</span></span></a><span class="mpre"> </span><a href="#loc_23_1_23_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_23_1_23_5&#39;)"><span class="hl_varref"><span class="mpre">str5</span></span></a><span class="mpre">
                 ]
               , [ </span><a href="Data.Generics.Text.html#loc_71_1_71_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Text.html#loc_71_1_71_6&#39;)"><span class="hl_varref"><span class="mpre">gread</span></span></a><span class="mpre"> </span><a href="#loc_24_1_24_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_1_24_5&#39;)"><span class="hl_varref"><span class="mpre">str6</span></span></a><span class="mpre">,
                   </span><a href="Data.Generics.Text.html#loc_71_1_71_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Text.html#loc_71_1_71_6&#39;)"><span class="hl_varref"><span class="mpre">gread</span></span></a><span class="mpre"> </span><a href="#loc_25_1_25_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_1_25_5&#39;)"><span class="hl_varref"><span class="mpre">str7</span></span></a><span class="mpre">
                 ]
               )
             :: ( [[(</span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">,  </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">)]]
                , [[(</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">,   </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">)]]
                , [[([</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">], </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">)]]
                ) 
             ) </span><span class="hl_infix"><span class="mpre">~=?</span></span><span class="mpre"> </span><a href="#loc_44_1_44_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_1_44_7&#39;)"><span class="hl_varref"><span class="mpre">output</span></span></a><span class="mpre">

</span><a name="loc_44_1_44_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_1_44_7&#39;)"><span class="hl_vardecl"><span class="mpre">output</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> 
           ([[(</span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">,</span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">)],[],[]],[[(</span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">,</span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">)],[(</span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">,</span><span class="hl_string"><span class="mpre">&quot;...&quot;</span></span><span class="mpre">)]],[[([],</span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">)],[([</span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">],</span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">)]])
</span></div></body></html>