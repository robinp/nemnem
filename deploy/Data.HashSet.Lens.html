<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP #-}
{-# LANGUAGE Rank2Types #-}
#ifdef TRUSTWORTHY
{-# LANGUAGE Trustworthy #-}
#endif
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Data.HashSet.Lens</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (C) 2012-14 Edward Kmett</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  BSD-style (see the file LICENSE)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  provisional</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------------------</span></span><span class="mpre">
module Data.HashSet.Lens
  ( setmapped
  , setOf
  ) where

import Control.Lens.Getter (Getting, </span><a href="Control.Lens.Getter.html#loc_243_1_243_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Getter.html#loc_243_1_243_6&#39;)"><span class="mpre">views</span></a><span class="mpre">)
import Control.Lens.Setter (</span><a href="Control.Lens.Setter.html#loc_280_1_280_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Setter.html#loc_280_1_280_8&#39;)"><span class="mpre">setting</span></a><span class="mpre">)
import Control.Lens.Type
import Data.HashSet as HashSet
import Data.Hashable

</span><span class="hl_comment"><span class="mpre">-- $setup</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; :set -XNoOverloadedStrings</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; import Control.Lens</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This &#39;Setter&#39; can be used to change the type of a &#39;HashSet&#39; by mapping</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the elements to new values.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Sadly, you can&#39;t create a valid &#39;Traversal&#39; for a &#39;Set&#39;, but you can</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- manipulate it by reading using &#39;Control.Lens.Fold.folded&#39; and reindexing it via &#39;setmapped&#39;.</span></span><span class="mpre">
</span><a href="#loc_37_1_37_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_1_37_10&#39;)"><span class="mpre">setmapped</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/HashSet/Lens.hs&quot;, srcSpanStartLine = 36, srcSpanStartColumn = 14, srcSpanEndLine = 36, srcSpanEndColumn = 53}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/HashSet/Lens.hs&quot;, srcSpanStartLine = 36, srcSpanStartColumn = 14, srcSpanEndLine = 36, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/HashSet/Lens.hs&quot;, srcSpanStartLine = 36,"><span class="mpre">(Eq i, Hashable i, Eq j, Hashable j) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IndexPreservingSetter</span></span><span class="mpre"> (</span><a href="Data.HashSet.html#loc_75_9_75_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.HashSet.html#loc_75_9_75_16&#39;)"><span class="hl_tyconref"><span class="mpre">HashSet</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre">) (</span><a href="Data.HashSet.html#loc_75_9_75_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.HashSet.html#loc_75_9_75_16&#39;)"><span class="hl_tyconref"><span class="mpre">HashSet</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">j</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">j</span></span><span class="mpre">
</span><a name="loc_37_1_37_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_1_37_10&#39;)"><span class="hl_vardecl"><span class="mpre">setmapped</span></span></a><span class="mpre"> = </span><a href="Control.Lens.Setter.html#loc_280_1_280_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Setter.html#loc_280_1_280_8&#39;)"><span class="hl_varref"><span class="mpre">setting</span></span></a><span class="mpre"> </span><a href="Data.HashSet.html#loc_174_1_174_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.HashSet.html#loc_174_1_174_4&#39;)"><span class="hl_varref"><span class="mpre">HashSet.map</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_37_1_37_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_1_37_10&#39;)"><span class="mpre">setmapped</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Construct a set from a &#39;Getter&#39;, &#39;Control.Lens.Fold.Fold&#39;, &#39;Control.Lens.Traversal.Traversal&#39;, &#39;Control.Lens.Lens.Lens&#39; or &#39;Control.Lens.Iso.Iso&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;setOf&#39; :: &#39;Hashable&#39; a         =&gt; &#39;Getter&#39; s a     -&gt; s -&gt; &#39;HashSet&#39; a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;setOf&#39; :: (&#39;Eq&#39; a, &#39;Hashable&#39; a) =&gt; &#39;Fold&#39; s a       -&gt; s -&gt; &#39;HashSet&#39; a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;setOf&#39; :: &#39;Hashable&#39; a         =&gt; &#39;Iso&#39;&#39; s a       -&gt; s -&gt; &#39;HashSet&#39; a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;setOf&#39; :: &#39;Hashable&#39; a         =&gt; &#39;Lens&#39;&#39; s a      -&gt; s -&gt; &#39;HashSet&#39; a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;setOf&#39; :: (&#39;Eq&#39; a, &#39;Hashable&#39; a) =&gt; &#39;Traversal&#39;&#39; s a -&gt; s -&gt; &#39;HashSet&#39; a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_50_1_50_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_1_50_6&#39;)"><span class="mpre">setOf</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/HashSet/Lens.hs&quot;, srcSpanStartLine = 49, srcSpanStartColumn = 10, srcSpanEndLine = 49, srcSpanEndColumn = 23}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/HashSet/Lens.hs&quot;, srcSpanStartLine = 49, srcSpanStartColumn = 21, srcSpanEndLine = 49, srcSpanEndColumn = 23}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/"><span class="mpre">Hashable a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Getting</span></span><span class="mpre"> (</span><a href="Data.HashSet.html#loc_75_9_75_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.HashSet.html#loc_75_9_75_16&#39;)"><span class="hl_tyconref"><span class="mpre">HashSet</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><a href="Data.HashSet.html#loc_75_9_75_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.HashSet.html#loc_75_9_75_16&#39;)"><span class="hl_tyconref"><span class="mpre">HashSet</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_50_1_50_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_1_50_6&#39;)"><span class="hl_fundecl"><span class="mpre">setOf</span></span></a><span class="mpre"> </span><a name="loc_50_7_50_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_7_50_8&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> = </span><a href="Control.Lens.Getter.html#loc_243_1_243_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Getter.html#loc_243_1_243_6&#39;)"><span class="hl_varref"><span class="mpre">views</span></span></a><span class="mpre"> </span><a href="#loc_50_7_50_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_7_50_8&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="Data.HashSet.html#loc_124_1_124_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.HashSet.html#loc_124_1_124_10&#39;)"><span class="hl_varref"><span class="mpre">HashSet.singleton</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_50_1_50_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_1_50_6&#39;)"><span class="mpre">setOf</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span></div></body></html>