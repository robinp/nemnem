<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE DeriveDataTypeable, RankNTypes #-}
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright: 2011 Michael Snoyman, 2010-2011 John Millikin</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License: MIT</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Handle streams of text.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Parts of this code were taken from enumerator and adapted for conduits.</span></span><span class="mpre">
module Data.Conduit.Text
    (

    </span><span class="hl_comment"><span class="mpre">-- * Text codecs</span></span><span class="mpre">
      Codec
    , encode
    , decode
    , utf8
    , utf16_le
    , utf16_be
    , utf32_le
    , utf32_be
    , ascii
    , iso8859_1
    , lines
    , linesBounded
    , TextException (..)
    , takeWhile
    , dropWhile
    , take
    , drop
    , foldLines
    , withLine
    , Data.Conduit.Text.decodeUtf8
    , decodeUtf8Lenient
    , encodeUtf8
    ) where

import qualified Prelude
import           Prelude hiding (head, drop, takeWhile, </span><a href="Data.List.html#loc_1044_1_1044_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_1044_1_1044_6&#39;)"><span class="mpre">lines</span></a><span class="mpre">, zip, zip3, zipWith, zipWith3, take, dropWhile)

import qualified Control.Exception as Exc
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 41, srcSpanStartColumn = 18, srcSpanEndLine = 41, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> as B
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 42, srcSpanStartColumn = 18, srcSpanEndLine = 42, srcSpanEndColumn = 39}, srcInfoPoints = []}) &quot;Data.ByteString.Char8&quot;"><span class="mpre">Data.ByteString.Char8</span></span><span class="mpre"> as B8
import           Data.Char (ord)
import qualified Data.Text as T
import qualified Data.Text.Encoding as TE
import           Data.Word (Word8)
import           Data.Typeable (</span><a href="Data.Typeable.Internal.html#loc_196_7_196_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Typeable.Internal.html#loc_196_7_196_15&#39;)"><span class="mpre">Typeable</span></a><span class="mpre">)

import Data.Conduit
import qualified Data.Conduit.List as CL
import Control.Monad.Trans.Class (</span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="mpre">lift</span></a><span class="mpre">)
import Control.Monad.Trans.Resource (</span><a href="Control.Monad.Catch.html#loc_116_18_116_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Catch.html#loc_116_18_116_28&#39;)"><span class="mpre">MonadThrow</span></a><span class="mpre">, </span><a href="Control.Monad.Trans.Resource.html#loc_366_1_366_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_366_1_366_11&#39;)"><span class="mpre">monadThrow</span></a><span class="mpre">)
import Control.Monad (</span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="mpre">unless</span></a><span class="mpre">)
import Data.Streaming.Text

</span><span class="hl_comment"><span class="mpre">-- | A specific character encoding.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
data </span><a name="loc_59_6_59_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_6_59_11&#39;)"><span class="hl_tycondecl"><span class="mpre">Codec</span></span></a><span class="mpre"> = </span><a name="loc_59_14_59_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_14_59_19&#39;)"><span class="hl_condecl"><span class="mpre">Codec</span></span></a><span class="mpre">
    { </span><a name="loc_60_7_60_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_7_60_16&#39;)"><span class="hl_fielddecl"><span class="mpre">codecName</span></span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre">
    , </span><a name="loc_61_7_61_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_7_61_18&#39;)"><span class="hl_fielddecl"><span class="mpre">codecEncode</span></span></a><span class="mpre">
        :: </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre">
        -&gt; (</span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre">, </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> (</span><a href="#loc_221_6_221_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_6_221_19&#39;)"><span class="hl_tyconref"><span class="mpre">TextException</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre">))
    , </span><a name="loc_64_7_64_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_7_64_18&#39;)"><span class="hl_fielddecl"><span class="mpre">codecDecode</span></span></a><span class="mpre">
        :: </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre">
        -&gt; (</span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre">
            (</span><a href="#loc_221_6_221_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_6_221_19&#39;)"><span class="hl_tyconref"><span class="mpre">TextException</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre">)
            </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre">)
    }
    | </span><a name="loc_70_7_70_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_7_70_15&#39;)"><span class="hl_condecl"><span class="mpre">NewCodec</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre">) (</span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><a href="Data.Streaming.Text.html#loc_81_6_81_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_81_6_81_18&#39;)"><span class="hl_tyconref"><span class="mpre">DecodeResult</span></span></a><span class="mpre">)

instance </span><span class="hl_classref"><span class="mpre">Show</span></span><span class="mpre"> </span><a href="#loc_59_6_59_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_6_59_11&#39;)"><span class="hl_tyconref"><span class="mpre">Codec</span></span></a><span class="mpre"> where
    </span><span class="hl_fundecl"><span class="mpre">showsPrec</span></span><span class="mpre"> </span><a name="loc_73_15_73_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_15_73_16&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre"> </span><a name="loc_73_17_73_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_17_73_18&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">showParen</span></span><span class="mpre"> (</span><a href="#loc_73_15_73_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_15_73_16&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">10</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">showString</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Codec &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">shows</span></span><span class="mpre"> (</span><a href="#loc_60_7_60_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_7_60_16&#39;)"><span class="hl_varref"><span class="mpre">codecName</span></span></a><span class="mpre"> </span><a href="#loc_73_17_73_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_17_73_18&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">)




</span><span class="hl_comment"><span class="mpre">-- | Emit each line separately</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.4.1</span></span><span class="mpre">
</span><a href="#loc_83_1_83_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_1_83_6&#39;)"><span class="mpre">lines</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 82, srcSpanStartColumn = 10, srcSpanEndLine = 82, srcSpanEndColumn = 20}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 82, srcSpanStartColumn = 18, srcSpanEndLine = 82, srcSpanEndColumn = 20}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cond"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre">
</span><a name="loc_83_1_83_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_1_83_6&#39;)"><span class="hl_vardecl"><span class="mpre">lines</span></span></a><span class="mpre"> =
    </span><a href="#loc_86_5_86_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_5_86_14&#39;)"><span class="hl_varref"><span class="mpre">awaitText</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre">
  where
    </span><a name="loc_86_5_86_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_5_86_14&#39;)"><span class="hl_fundecl"><span class="mpre">awaitText</span></span></a><span class="mpre"> </span><a name="loc_86_15_86_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_15_86_18&#39;)"><span class="hl_vardecl"><span class="mpre">buf</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_74_1_74_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_74_1_74_6&#39;)"><span class="hl_varref"><span class="mpre">maybe</span></span></a><span class="mpre"> (</span><a href="#loc_88_5_88_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_5_88_11&#39;)"><span class="hl_varref"><span class="mpre">finish</span></span></a><span class="mpre"> </span><a href="#loc_86_15_86_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_15_86_18&#39;)"><span class="hl_varref"><span class="mpre">buf</span></span></a><span class="mpre">) (</span><a href="#loc_90_5_90_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_5_90_12&#39;)"><span class="hl_varref"><span class="mpre">process</span></span></a><span class="mpre"> </span><a href="#loc_86_15_86_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_15_86_18&#39;)"><span class="hl_varref"><span class="mpre">buf</span></span></a><span class="mpre">)

    </span><a name="loc_88_5_88_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_5_88_11&#39;)"><span class="hl_fundecl"><span class="mpre">finish</span></span></a><span class="mpre"> </span><a name="loc_88_12_88_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_12_88_15&#39;)"><span class="hl_vardecl"><span class="mpre">buf</span></span></a><span class="mpre"> = </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_531_1_531_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_531_1_531_5&#39;)"><span class="hl_varref"><span class="mpre">T.null</span></span></a><span class="mpre"> </span><a href="#loc_88_12_88_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_12_88_15&#39;)"><span class="hl_varref"><span class="mpre">buf</span></span></a><span class="mpre">) (</span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_88_12_88_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_12_88_15&#39;)"><span class="hl_varref"><span class="mpre">buf</span></span></a><span class="mpre">)

    </span><a name="loc_90_5_90_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_5_90_12&#39;)"><span class="hl_fundecl"><span class="mpre">process</span></span></a><span class="mpre"> </span><a name="loc_90_13_90_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_13_90_16&#39;)"><span class="hl_vardecl"><span class="mpre">buf</span></span></a><span class="mpre"> </span><a name="loc_90_17_90_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_17_90_21&#39;)"><span class="hl_vardecl"><span class="mpre">text</span></span></a><span class="mpre"> = </span><a href="#loc_92_5_92_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_5_92_15&#39;)"><span class="hl_varref"><span class="mpre">yieldLines</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_90_13_90_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_13_90_16&#39;)"><span class="hl_varref"><span class="mpre">buf</span></span></a><span class="mpre"> </span><a href="Data.Text.html#loc_437_1_437_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_437_1_437_7&#39;)"><span class="hl_infix"><span class="mpre">`T.append`</span></span></a><span class="mpre"> </span><a href="#loc_90_17_90_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_17_90_21&#39;)"><span class="hl_varref"><span class="mpre">text</span></span></a><span class="mpre">

    </span><a name="loc_92_5_92_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_5_92_15&#39;)"><span class="hl_fundecl"><span class="mpre">yieldLines</span></span></a><span class="mpre"> </span><a name="loc_92_16_92_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_16_92_19&#39;)"><span class="hl_vardecl"><span class="mpre">buf</span></span></a><span class="mpre"> =
      let (</span><a name="loc_93_12_93_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_12_93_16&#39;)"><span class="hl_vardecl"><span class="mpre">line</span></span></a><span class="mpre">, </span><a name="loc_93_18_93_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_18_93_22&#39;)"><span class="hl_vardecl"><span class="mpre">rest</span></span></a><span class="mpre">) = </span><a href="Data.Text.html#loc_1195_1_1195_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1195_1_1195_6&#39;)"><span class="hl_varref"><span class="mpre">T.break</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;\n&#39;</span></span><span class="mpre">) </span><a href="#loc_92_16_92_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_16_92_19&#39;)"><span class="hl_varref"><span class="mpre">buf</span></span></a><span class="mpre">
      in  case </span><a href="Data.Text.html#loc_467_1_467_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_467_1_467_7&#39;)"><span class="hl_varref"><span class="mpre">T.uncons</span></span></a><span class="mpre"> </span><a href="#loc_93_18_93_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_18_93_22&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre"> of
            </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> (_, </span><a name="loc_95_22_95_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_22_95_27&#39;)"><span class="hl_vardecl"><span class="mpre">rest&#39;</span></span></a><span class="mpre">) -&gt; </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_93_12_93_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_12_93_16&#39;)"><span class="hl_varref"><span class="mpre">line</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_92_5_92_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_5_92_15&#39;)"><span class="hl_varref"><span class="mpre">yieldLines</span></span></a><span class="mpre"> </span><a href="#loc_95_22_95_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_22_95_27&#39;)"><span class="hl_varref"><span class="mpre">rest&#39;</span></span></a><span class="mpre">
            _ -&gt; </span><a href="#loc_86_5_86_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_5_86_14&#39;)"><span class="hl_varref"><span class="mpre">awaitText</span></span></a><span class="mpre"> </span><a href="#loc_93_12_93_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_12_93_16&#39;)"><span class="hl_varref"><span class="mpre">line</span></span></a><span class="mpre">



</span><span class="hl_comment"><span class="mpre">-- | Variant of the lines function with an integer parameter.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The text length of any emitted line</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- never exceeds the value of the paramater. Whenever</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- this is about to happen a LengthExceeded exception</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- is thrown. This function should be used instead</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- of the lines function whenever we are dealing with</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- user input (e.g. a file upload) because we can&#39;t be sure that</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- user input won&#39;t have extraordinarily large lines which would</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- require large amounts of memory if consumed.</span></span><span class="mpre">
</span><a href="#loc_110_1_110_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_1_110_13&#39;)"><span class="mpre">linesBounded</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 109, srcSpanStartColumn = 17, srcSpanEndLine = 109, srcSpanEndColumn = 32}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 109, srcSpanStartColumn = 30, srcSpanEndLine = 109, srcSpanEndColumn = 32}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/"><span class="mpre">MonadThrow m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre">
</span><a name="loc_110_1_110_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_1_110_13&#39;)"><span class="hl_fundecl"><span class="mpre">linesBounded</span></span></a><span class="mpre"> </span><a name="loc_110_14_110_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_14_110_24&#39;)"><span class="hl_vardecl"><span class="mpre">maxLineLen</span></span></a><span class="mpre"> =
    </span><a href="#loc_113_5_113_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_5_113_14&#39;)"><span class="hl_varref"><span class="mpre">awaitText</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre">
  where
    </span><a name="loc_113_5_113_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_5_113_14&#39;)"><span class="hl_fundecl"><span class="mpre">awaitText</span></span></a><span class="mpre"> </span><a name="loc_113_15_113_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_15_113_18&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> </span><a name="loc_113_19_113_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_19_113_22&#39;)"><span class="hl_vardecl"><span class="mpre">buf</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_74_1_74_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_74_1_74_6&#39;)"><span class="hl_varref"><span class="mpre">maybe</span></span></a><span class="mpre"> (</span><a href="#loc_115_5_115_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_5_115_11&#39;)"><span class="hl_varref"><span class="mpre">finish</span></span></a><span class="mpre"> </span><a href="#loc_113_19_113_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_19_113_22&#39;)"><span class="hl_varref"><span class="mpre">buf</span></span></a><span class="mpre">) (</span><a href="#loc_117_5_117_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_5_117_12&#39;)"><span class="hl_varref"><span class="mpre">process</span></span></a><span class="mpre"> </span><a href="#loc_113_15_113_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_15_113_18&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><a href="#loc_113_19_113_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_19_113_22&#39;)"><span class="hl_varref"><span class="mpre">buf</span></span></a><span class="mpre">)

    </span><a name="loc_115_5_115_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_5_115_11&#39;)"><span class="hl_fundecl"><span class="mpre">finish</span></span></a><span class="mpre"> </span><a name="loc_115_12_115_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_12_115_15&#39;)"><span class="hl_vardecl"><span class="mpre">buf</span></span></a><span class="mpre"> = </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_531_1_531_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_531_1_531_5&#39;)"><span class="hl_varref"><span class="mpre">T.null</span></span></a><span class="mpre"> </span><a href="#loc_115_12_115_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_12_115_15&#39;)"><span class="hl_varref"><span class="mpre">buf</span></span></a><span class="mpre">) (</span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_115_12_115_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_12_115_15&#39;)"><span class="hl_varref"><span class="mpre">buf</span></span></a><span class="mpre">)

    </span><a name="loc_117_5_117_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_5_117_12&#39;)"><span class="hl_fundecl"><span class="mpre">process</span></span></a><span class="mpre"> </span><a name="loc_117_13_117_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_13_117_16&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> </span><a name="loc_117_17_117_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_17_117_20&#39;)"><span class="hl_vardecl"><span class="mpre">buf</span></span></a><span class="mpre"> </span><a name="loc_117_21_117_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_21_117_25&#39;)"><span class="hl_vardecl"><span class="mpre">text</span></span></a><span class="mpre"> =
      let (</span><a name="loc_118_12_118_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_12_118_16&#39;)"><span class="hl_vardecl"><span class="mpre">line</span></span></a><span class="mpre">, </span><a name="loc_118_18_118_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_18_118_22&#39;)"><span class="hl_vardecl"><span class="mpre">rest</span></span></a><span class="mpre">) = </span><a href="Data.Text.html#loc_1195_1_1195_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1195_1_1195_6&#39;)"><span class="hl_varref"><span class="mpre">T.break</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;\n&#39;</span></span><span class="mpre">) </span><a href="#loc_117_21_117_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_21_117_25&#39;)"><span class="hl_varref"><span class="mpre">text</span></span></a><span class="mpre">
          </span><a name="loc_119_11_119_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_11_119_15&#39;)"><span class="hl_vardecl"><span class="mpre">len&#39;</span></span></a><span class="mpre"> = </span><a href="#loc_117_13_117_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_13_117_16&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="Data.Text.html#loc_554_1_554_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_554_1_554_7&#39;)"><span class="hl_varref"><span class="mpre">T.length</span></span></a><span class="mpre"> </span><a href="#loc_118_12_118_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_12_118_16&#39;)"><span class="hl_varref"><span class="mpre">line</span></span></a><span class="mpre">
      in  if </span><a href="#loc_119_11_119_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_11_119_15&#39;)"><span class="hl_varref"><span class="mpre">len&#39;</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;</span></span><span class="mpre"> </span><a href="#loc_110_14_110_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_14_110_24&#39;)"><span class="hl_varref"><span class="mpre">maxLineLen</span></span></a><span class="mpre">
            then </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.Resource.html#loc_366_1_366_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_366_1_366_11&#39;)"><span class="hl_varref"><span class="mpre">monadThrow</span></span></a><span class="mpre"> (</span><a href="#loc_223_22_223_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_223_22_223_36&#39;)"><span class="hl_conref"><span class="mpre">LengthExceeded</span></span></a><span class="mpre"> </span><a href="#loc_110_14_110_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_14_110_24&#39;)"><span class="hl_varref"><span class="mpre">maxLineLen</span></span></a><span class="mpre">)
            else case </span><a href="Data.Text.html#loc_467_1_467_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_467_1_467_7&#39;)"><span class="hl_varref"><span class="mpre">T.uncons</span></span></a><span class="mpre"> </span><a href="#loc_118_18_118_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_18_118_22&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre"> of
                   </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> (_, </span><a name="loc_123_29_123_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_29_123_34&#39;)"><span class="hl_vardecl"><span class="mpre">rest&#39;</span></span></a><span class="mpre">) -&gt;
                     </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> (</span><a href="#loc_117_17_117_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_17_117_20&#39;)"><span class="hl_varref"><span class="mpre">buf</span></span></a><span class="mpre"> </span><a href="Data.Text.html#loc_437_1_437_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_437_1_437_7&#39;)"><span class="hl_infix"><span class="mpre">`T.append`</span></span></a><span class="mpre"> </span><a href="#loc_118_12_118_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_12_118_16&#39;)"><span class="hl_varref"><span class="mpre">line</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_117_5_117_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_5_117_12&#39;)"><span class="hl_varref"><span class="mpre">process</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre"> </span><a href="#loc_123_29_123_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_29_123_34&#39;)"><span class="hl_varref"><span class="mpre">rest&#39;</span></span></a><span class="mpre">
                   _ -&gt;
                     </span><a href="#loc_113_5_113_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_5_113_14&#39;)"><span class="hl_varref"><span class="mpre">awaitText</span></span></a><span class="mpre"> </span><a href="#loc_119_11_119_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_11_119_15&#39;)"><span class="hl_varref"><span class="mpre">len&#39;</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_117_17_117_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_17_117_20&#39;)"><span class="hl_varref"><span class="mpre">buf</span></span></a><span class="mpre"> </span><a href="Data.Text.html#loc_437_1_437_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_437_1_437_7&#39;)"><span class="hl_infix"><span class="mpre">`T.append`</span></span></a><span class="mpre"> </span><a href="#loc_117_21_117_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_21_117_25&#39;)"><span class="hl_varref"><span class="mpre">text</span></span></a><span class="mpre">



</span><span class="hl_comment"><span class="mpre">-- | Convert text into bytes, using the provided codec. If the codec is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- not capable of representing an input character, an exception will be thrown.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_135_1_135_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_7&#39;)"><span class="mpre">encode</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 134, srcSpanStartColumn = 11, srcSpanEndLine = 134, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 134, srcSpanStartColumn = 24, srcSpanEndLine = 134, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/"><span class="mpre">MonadThrow m =&gt;</span></span><span class="mpre"> </span><a href="#loc_59_6_59_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_6_59_11&#39;)"><span class="hl_tyconref"><span class="mpre">Codec</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre">
</span><a name="loc_135_1_135_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_7&#39;)"><span class="hl_fundecl"><span class="mpre">encode</span></span></a><span class="mpre"> (</span><a href="#loc_70_7_70_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_7_70_15&#39;)"><span class="hl_conref"><span class="mpre">NewCodec</span></span></a><span class="mpre"> _ </span><a name="loc_135_20_135_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_20_135_23&#39;)"><span class="hl_vardecl"><span class="mpre">enc</span></span></a><span class="mpre"> _) = </span><a href="Data.Conduit.List.html#loc_268_1_268_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_268_1_268_4&#39;)"><span class="hl_varref"><span class="mpre">CL.map</span></span></a><span class="mpre"> </span><a href="#loc_135_20_135_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_20_135_23&#39;)"><span class="hl_varref"><span class="mpre">enc</span></span></a><span class="mpre">
</span><a href="#loc_135_1_135_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_7&#39;)"><span class="hl_fundecl"><span class="mpre">encode</span></span></a><span class="mpre"> </span><a name="loc_136_8_136_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_8_136_13&#39;)"><span class="hl_vardecl"><span class="mpre">codec</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.List.html#loc_308_1_308_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_308_1_308_5&#39;)"><span class="hl_varref"><span class="mpre">CL.mapM</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_136_27_136_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_27_136_28&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> -&gt; do
    let (</span><a name="loc_137_10_137_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_10_137_12&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre">, </span><a name="loc_137_14_137_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_14_137_18&#39;)"><span class="hl_vardecl"><span class="mpre">mexc</span></span></a><span class="mpre">) = </span><a href="#loc_61_7_61_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_7_61_18&#39;)"><span class="hl_varref"><span class="mpre">codecEncode</span></span></a><span class="mpre"> </span><a href="#loc_136_8_136_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_8_136_13&#39;)"><span class="hl_varref"><span class="mpre">codec</span></span></a><span class="mpre"> </span><a href="#loc_136_27_136_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_27_136_28&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
    </span><a href="Data.Maybe.html#loc_74_1_74_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_74_1_74_6&#39;)"><span class="hl_varref"><span class="mpre">maybe</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_137_10_137_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_10_137_12&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">) (</span><a href="Control.Monad.Trans.Resource.html#loc_366_1_366_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_366_1_366_11&#39;)"><span class="hl_varref"><span class="mpre">monadThrow</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Tuple.html#loc_48_1_48_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Tuple.html#loc_48_1_48_4&#39;)"><span class="hl_varref"><span class="mpre">fst</span></span></a><span class="mpre">) </span><a href="#loc_137_14_137_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_14_137_18&#39;)"><span class="hl_varref"><span class="mpre">mexc</span></span></a><span class="mpre">

</span><a href="#loc_147_1_147_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_1_147_10&#39;)"><span class="mpre">decodeNew</span></a><span class="mpre">
    :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 141, srcSpanStartColumn = 8, srcSpanEndLine = 142, srcSpanEndColumn = 7}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 142, srcSpanStartColumn = 5, srcSpanEndLine = 142, srcSpanEndColumn = 7}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cond"><span class="mpre">Monad m
    =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre">)
    -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
    -&gt; (</span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><a href="Data.Streaming.Text.html#loc_81_6_81_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_81_6_81_18&#39;)"><span class="hl_tyconref"><span class="mpre">DecodeResult</span></span></a><span class="mpre">)
    -&gt; </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre">
</span><a name="loc_147_1_147_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_1_147_10&#39;)"><span class="hl_fundecl"><span class="mpre">decodeNew</span></span></a><span class="mpre"> </span><a name="loc_147_11_147_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_11_147_20&#39;)"><span class="hl_vardecl"><span class="mpre">onFailure</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">name</span></span><span class="mpre"> =
    </span><a href="#loc_150_5_150_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_5_150_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">
  where
    </span><a name="loc_150_5_150_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_5_150_9&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a name="loc_150_10_150_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_10_150_18&#39;)"><span class="hl_vardecl"><span class="mpre">consumed</span></span></a><span class="mpre"> </span><a name="loc_150_19_150_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_19_150_22&#39;)"><span class="hl_vardecl"><span class="mpre">dec</span></span></a><span class="mpre"> =
        </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_74_1_74_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_74_1_74_6&#39;)"><span class="hl_varref"><span class="mpre">maybe</span></span></a><span class="mpre"> </span><a href="#loc_153_9_153_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_9_153_15&#39;)"><span class="hl_varref"><span class="mpre">finish</span></span></a><span class="mpre"> </span><a href="#loc_159_9_159_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_9_159_11&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">
      where
        </span><a name="loc_153_9_153_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_9_153_15&#39;)"><span class="hl_vardecl"><span class="mpre">finish</span></span></a><span class="mpre"> =
            case </span><a href="#loc_150_19_150_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_19_150_22&#39;)"><span class="hl_varref"><span class="mpre">dec</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.empty</span></span><span class="mpre"> of
                </span><a href="Data.Streaming.Text.html#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> _ _ -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
                </span><a href="Data.Streaming.Text.html#loc_83_7_83_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_83_7_83_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> </span><a name="loc_156_37_156_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_37_156_38&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_156_39_156_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_39_156_43&#39;)"><span class="hl_vardecl"><span class="mpre">rest</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_147_11_147_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_11_147_20&#39;)"><span class="hl_varref"><span class="mpre">onFailure</span></span></a><span class="mpre"> </span><a href="#loc_150_10_150_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_10_150_18&#39;)"><span class="hl_varref"><span class="mpre">consumed</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.empty</span></span><span class="mpre"> </span><a href="#loc_156_37_156_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_37_156_38&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_156_39_156_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_39_156_43&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre">
        </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_153_9_153_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_9_153_15&#39;)"><span class="mpre">finish</span></a><span class="mpre"> #-}</span></span><span class="mpre">

        </span><a name="loc_159_9_159_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_9_159_11&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_159_12_159_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_12_159_14&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> | </span><span class="hl_varref"><span class="mpre">B.null</span></span><span class="mpre"> </span><a href="#loc_159_12_159_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_12_159_14&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> = </span><a href="#loc_150_5_150_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_5_150_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a href="#loc_150_10_150_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_10_150_18&#39;)"><span class="hl_varref"><span class="mpre">consumed</span></span></a><span class="mpre"> </span><a href="#loc_150_19_150_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_19_150_22&#39;)"><span class="hl_varref"><span class="mpre">dec</span></span></a><span class="mpre">
        </span><a href="#loc_159_9_159_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_9_159_11&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_160_12_160_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_12_160_14&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> =
            case </span><a href="#loc_150_19_150_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_19_150_22&#39;)"><span class="hl_varref"><span class="mpre">dec</span></span></a><span class="mpre"> </span><a href="#loc_160_12_160_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_12_160_14&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> of
                </span><a href="Data.Streaming.Text.html#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a name="loc_162_37_162_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_37_162_38&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_162_39_162_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_39_162_43&#39;)"><span class="hl_vardecl"><span class="mpre">dec&#39;</span></span></a><span class="mpre"> -&gt; do
                    let </span><a name="loc_163_25_163_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_25_163_34&#39;)"><span class="hl_vardecl"><span class="mpre">consumed&#39;</span></span></a><span class="mpre"> = </span><a href="#loc_150_10_150_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_10_150_18&#39;)"><span class="hl_varref"><span class="mpre">consumed</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.length</span></span><span class="mpre"> </span><a href="#loc_160_12_160_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_12_160_14&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
                        </span><a name="loc_164_25_164_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_25_164_29&#39;)"><span class="hl_vardecl"><span class="mpre">next</span></span></a><span class="mpre"> = do
                            </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_531_1_531_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_531_1_531_5&#39;)"><span class="hl_varref"><span class="mpre">T.null</span></span></a><span class="mpre"> </span><a href="#loc_162_37_162_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_37_162_38&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) (</span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_162_37_162_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_37_162_38&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
                            </span><a href="#loc_150_5_150_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_5_150_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a href="#loc_163_25_163_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_25_163_34&#39;)"><span class="hl_varref"><span class="mpre">consumed&#39;</span></span></a><span class="mpre"> </span><a href="#loc_162_39_162_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_39_162_43&#39;)"><span class="hl_varref"><span class="mpre">dec&#39;</span></span></a><span class="mpre">
                     in </span><a href="#loc_163_25_163_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_25_163_34&#39;)"><span class="hl_varref"><span class="mpre">consumed&#39;</span></span></a><span class="mpre"> </span><a href="Prelude.html#loc_167_1_167_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Prelude.html#loc_167_1_167_4&#39;)"><span class="hl_infix"><span class="mpre">`seq`</span></span></a><span class="mpre"> </span><a href="#loc_164_25_164_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_25_164_29&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre">
                </span><a href="Data.Streaming.Text.html#loc_83_7_83_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_83_7_83_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> </span><a name="loc_168_37_168_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_37_168_38&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_168_39_168_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_39_168_43&#39;)"><span class="hl_vardecl"><span class="mpre">rest</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_147_11_147_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_11_147_20&#39;)"><span class="hl_varref"><span class="mpre">onFailure</span></span></a><span class="mpre"> </span><a href="#loc_150_10_150_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_10_150_18&#39;)"><span class="hl_varref"><span class="mpre">consumed</span></span></a><span class="mpre"> </span><a href="#loc_160_12_160_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_12_160_14&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> </span><a href="#loc_168_37_168_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_37_168_38&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_168_39_168_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_39_168_43&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Decode a stream of UTF8 data, and replace invalid bytes with the Unicode</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- replacement character.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 1.1.1</span></span><span class="mpre">
</span><a href="#loc_175_1_175_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_1_175_18&#39;)"><span class="mpre">decodeUtf8Lenient</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 174, srcSpanStartColumn = 22, srcSpanEndLine = 174, srcSpanEndColumn = 32}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 174, srcSpanStartColumn = 30, srcSpanEndLine = 174, srcSpanEndColumn = 32}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre">
</span><a name="loc_175_1_175_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_1_175_18&#39;)"><span class="hl_vardecl"><span class="mpre">decodeUtf8Lenient</span></span></a><span class="mpre"> =
    </span><a href="#loc_147_1_147_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_1_147_10&#39;)"><span class="hl_varref"><span class="mpre">decodeNew</span></span></a><span class="mpre"> </span><a href="#loc_178_5_178_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_5_178_14&#39;)"><span class="hl_varref"><span class="mpre">onFailure</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;UTF8-lenient&quot;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="Data.Streaming.Text.html#loc_111_1_111_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_111_1_111_11&#39;)"><span class="hl_varref"><span class="mpre">Data.Streaming.Text.decodeUtf8</span></span></a><span class="mpre">
  where
    </span><a name="loc_178_5_178_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_5_178_14&#39;)"><span class="hl_fundecl"><span class="mpre">onFailure</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_consumed</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_bs</span></span><span class="mpre"> </span><a name="loc_178_29_178_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_29_178_30&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_178_31_178_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_31_178_35&#39;)"><span class="hl_vardecl"><span class="mpre">rest</span></span></a><span class="mpre"> = do
        </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_531_1_531_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_531_1_531_5&#39;)"><span class="hl_varref"><span class="mpre">T.null</span></span></a><span class="mpre"> </span><a href="#loc_178_29_178_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_29_178_30&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) (</span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_178_29_178_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_29_178_30&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
        case </span><span class="hl_varref"><span class="mpre">B.uncons</span></span><span class="mpre"> </span><a href="#loc_178_31_178_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_31_178_35&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre"> of
            </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
            </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> (_, </span><a name="loc_182_22_182_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_22_182_27&#39;)"><span class="hl_vardecl"><span class="mpre">rest&#39;</span></span></a><span class="mpre">) -&gt; do
                </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">B.null</span></span><span class="mpre"> </span><a href="#loc_182_22_182_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_22_182_27&#39;)"><span class="hl_varref"><span class="mpre">rest&#39;</span></span></a><span class="mpre">) (</span><a href="Data.Conduit.html#loc_207_1_207_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_207_1_207_9&#39;)"><span class="hl_varref"><span class="mpre">leftover</span></span></a><span class="mpre"> </span><a href="#loc_182_22_182_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_22_182_27&#39;)"><span class="hl_varref"><span class="mpre">rest&#39;</span></span></a><span class="mpre">)
                </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Text.html#loc_411_1_411_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_411_1_411_10&#39;)"><span class="hl_varref"><span class="mpre">T.singleton</span></span></a><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;\xFFFD&#39;</span></span><span class="mpre">
        </span><a href="#loc_175_1_175_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_1_175_18&#39;)"><span class="hl_varref"><span class="mpre">decodeUtf8Lenient</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Convert bytes into text, using the provided codec. If the codec is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- not capable of decoding an input byte sequence, an exception will be thrown.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_192_1_192_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_1_192_7&#39;)"><span class="mpre">decode</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 191, srcSpanStartColumn = 11, srcSpanEndLine = 191, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 191, srcSpanStartColumn = 24, srcSpanEndLine = 191, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/"><span class="mpre">MonadThrow m =&gt;</span></span><span class="mpre"> </span><a href="#loc_59_6_59_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_6_59_11&#39;)"><span class="hl_tyconref"><span class="mpre">Codec</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre">
</span><a name="loc_192_1_192_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_1_192_7&#39;)"><span class="hl_fundecl"><span class="mpre">decode</span></span></a><span class="mpre"> (</span><a href="#loc_70_7_70_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_7_70_15&#39;)"><span class="hl_conref"><span class="mpre">NewCodec</span></span></a><span class="mpre"> </span><a name="loc_192_18_192_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_18_192_22&#39;)"><span class="hl_vardecl"><span class="mpre">name</span></span></a><span class="mpre"> _ </span><a name="loc_192_25_192_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_25_192_30&#39;)"><span class="hl_vardecl"><span class="mpre">start</span></span></a><span class="mpre">) =
    </span><a href="#loc_147_1_147_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_1_147_10&#39;)"><span class="hl_varref"><span class="mpre">decodeNew</span></span></a><span class="mpre"> </span><a href="#loc_195_5_195_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_5_195_14&#39;)"><span class="hl_varref"><span class="mpre">onFailure</span></span></a><span class="mpre"> </span><a href="#loc_192_18_192_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_18_192_22&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="#loc_192_25_192_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_25_192_30&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre">
  where
    </span><a name="loc_195_5_195_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_5_195_14&#39;)"><span class="hl_fundecl"><span class="mpre">onFailure</span></span></a><span class="mpre"> </span><a name="loc_195_15_195_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_15_195_23&#39;)"><span class="hl_vardecl"><span class="mpre">consumed</span></span></a><span class="mpre"> </span><a name="loc_195_24_195_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_24_195_26&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> </span><a name="loc_195_27_195_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_27_195_28&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_195_29_195_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_29_195_33&#39;)"><span class="hl_vardecl"><span class="mpre">rest</span></span></a><span class="mpre"> = do
        </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_531_1_531_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_531_1_531_5&#39;)"><span class="hl_varref"><span class="mpre">T.null</span></span></a><span class="mpre"> </span><a href="#loc_195_27_195_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_27_195_28&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) (</span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_195_27_195_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_27_195_28&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
        </span><a href="Data.Conduit.html#loc_207_1_207_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_207_1_207_9&#39;)"><span class="hl_varref"><span class="mpre">leftover</span></span></a><span class="mpre"> </span><a href="#loc_195_29_195_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_29_195_33&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- rest will never be null, no need to check</span></span><span class="mpre">
        let </span><a name="loc_198_13_198_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_13_198_22&#39;)"><span class="hl_vardecl"><span class="mpre">consumed&#39;</span></span></a><span class="mpre"> = </span><a href="#loc_195_15_195_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_15_195_23&#39;)"><span class="hl_varref"><span class="mpre">consumed</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.length</span></span><span class="mpre"> </span><a href="#loc_195_24_195_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_24_195_26&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.length</span></span><span class="mpre"> </span><a href="#loc_195_29_195_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_29_195_33&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre">
        </span><a href="Control.Monad.Trans.Resource.html#loc_366_1_366_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_366_1_366_11&#39;)"><span class="hl_varref"><span class="mpre">monadThrow</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_225_22_225_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_22_225_40&#39;)"><span class="hl_conref"><span class="mpre">NewDecodeException</span></span></a><span class="mpre"> </span><a href="#loc_192_18_192_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_18_192_22&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><a href="#loc_198_13_198_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_13_198_22&#39;)"><span class="hl_varref"><span class="mpre">consumed&#39;</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">B.take</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre"> </span><a href="#loc_195_29_195_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_29_195_33&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre">)
    </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_195_5_195_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_5_195_14&#39;)"><span class="mpre">onFailure</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a href="#loc_192_1_192_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_1_192_7&#39;)"><span class="hl_fundecl"><span class="mpre">decode</span></span></a><span class="mpre"> </span><a name="loc_201_8_201_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_201_8_201_13&#39;)"><span class="hl_vardecl"><span class="mpre">codec</span></span></a><span class="mpre"> =
    </span><a href="#loc_204_5_204_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_5_204_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">
  where
    </span><a name="loc_204_5_204_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_5_204_9&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a name="loc_204_10_204_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_10_204_15&#39;)"><span class="hl_vardecl"><span class="mpre">front</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_74_1_74_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_74_1_74_6&#39;)"><span class="hl_varref"><span class="mpre">maybe</span></span></a><span class="mpre"> (</span><a href="#loc_206_5_206_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_5_206_11&#39;)"><span class="hl_varref"><span class="mpre">finish</span></span></a><span class="mpre"> </span><a href="#loc_204_10_204_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_10_204_15&#39;)"><span class="hl_varref"><span class="mpre">front</span></span></a><span class="mpre">) (</span><a href="#loc_211_5_211_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_5_211_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_204_10_204_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_10_204_15&#39;)"><span class="hl_varref"><span class="mpre">front</span></span></a><span class="mpre">)

    </span><a name="loc_206_5_206_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_5_206_11&#39;)"><span class="hl_fundecl"><span class="mpre">finish</span></span></a><span class="mpre"> </span><a name="loc_206_12_206_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_12_206_17&#39;)"><span class="hl_vardecl"><span class="mpre">front</span></span></a><span class="mpre"> =
        case </span><span class="hl_varref"><span class="mpre">B.uncons</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_206_12_206_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_12_206_17&#39;)"><span class="hl_varref"><span class="mpre">front</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.empty</span></span><span class="mpre"> of
            </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
            </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> (</span><a name="loc_209_19_209_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_19_209_20&#39;)"><span class="hl_vardecl"><span class="mpre">w</span></span></a><span class="mpre">, _) -&gt; </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.Resource.html#loc_366_1_366_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_366_1_366_11&#39;)"><span class="hl_varref"><span class="mpre">monadThrow</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_221_22_221_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_22_221_37&#39;)"><span class="hl_conref"><span class="mpre">DecodeException</span></span></a><span class="mpre"> </span><a href="#loc_201_8_201_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_201_8_201_13&#39;)"><span class="hl_varref"><span class="mpre">codec</span></span></a><span class="mpre"> </span><a href="#loc_209_19_209_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_19_209_20&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre">

    </span><a name="loc_211_5_211_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_5_211_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_211_8_211_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_8_211_13&#39;)"><span class="hl_vardecl"><span class="mpre">front</span></span></a><span class="mpre"> </span><a name="loc_211_14_211_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_14_211_17&#39;)"><span class="hl_vardecl"><span class="mpre">bs&#39;</span></span></a><span class="mpre"> =
        case </span><a href="#loc_216_16_216_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_16_216_21&#39;)"><span class="hl_varref"><span class="mpre">extra</span></span></a><span class="mpre"> of
            </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> (</span><a name="loc_213_19_213_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_19_213_22&#39;)"><span class="hl_vardecl"><span class="mpre">exc</span></span></a><span class="mpre">, _) -&gt; </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.Resource.html#loc_366_1_366_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_366_1_366_11&#39;)"><span class="hl_varref"><span class="mpre">monadThrow</span></span></a><span class="mpre"> </span><a href="#loc_213_19_213_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_19_213_22&#39;)"><span class="hl_varref"><span class="mpre">exc</span></span></a><span class="mpre">
            </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a name="loc_214_19_214_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_19_214_23&#39;)"><span class="hl_vardecl"><span class="mpre">bs&#39;&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_216_10_216_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_10_216_14&#39;)"><span class="hl_varref"><span class="mpre">text</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_204_5_204_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_5_204_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">B.append</span></span><span class="mpre"> </span><a href="#loc_214_19_214_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_19_214_23&#39;)"><span class="hl_varref"><span class="mpre">bs&#39;&#39;</span></span></a><span class="mpre">)
      where
        (</span><a name="loc_216_10_216_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_10_216_14&#39;)"><span class="hl_vardecl"><span class="mpre">text</span></span></a><span class="mpre">, </span><a name="loc_216_16_216_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_16_216_21&#39;)"><span class="hl_vardecl"><span class="mpre">extra</span></span></a><span class="mpre">) = </span><a href="#loc_64_7_64_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_7_64_18&#39;)"><span class="hl_varref"><span class="mpre">codecDecode</span></span></a><span class="mpre"> </span><a href="#loc_201_8_201_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_201_8_201_13&#39;)"><span class="hl_varref"><span class="mpre">codec</span></span></a><span class="mpre"> </span><a href="#loc_217_9_217_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_9_217_11&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
        </span><a name="loc_217_9_217_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_9_217_11&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> = </span><a href="#loc_211_8_211_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_8_211_13&#39;)"><span class="hl_varref"><span class="mpre">front</span></span></a><span class="mpre"> </span><a href="#loc_211_14_211_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_14_211_17&#39;)"><span class="hl_varref"><span class="mpre">bs&#39;</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
data </span><a name="loc_221_6_221_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_6_221_19&#39;)"><span class="hl_tycondecl"><span class="mpre">TextException</span></span></a><span class="mpre"> = </span><a name="loc_221_22_221_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_22_221_37&#39;)"><span class="hl_condecl"><span class="mpre">DecodeException</span></span></a><span class="mpre"> </span><a href="#loc_59_6_59_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_6_59_11&#39;)"><span class="hl_tyconref"><span class="mpre">Codec</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">
                   | </span><a name="loc_222_22_222_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_22_222_37&#39;)"><span class="hl_condecl"><span class="mpre">EncodeException</span></span></a><span class="mpre"> </span><a href="#loc_59_6_59_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_6_59_11&#39;)"><span class="hl_tyconref"><span class="mpre">Codec</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
                   | </span><a name="loc_223_22_223_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_223_22_223_36&#39;)"><span class="hl_condecl"><span class="mpre">LengthExceeded</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
                   | </span><a name="loc_224_22_224_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_224_22_224_35&#39;)"><span class="hl_condecl"><span class="mpre">TextException</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Exc.SomeException</span></span><span class="mpre">
                   | </span><a name="loc_225_22_225_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_22_225_40&#39;)"><span class="hl_condecl"><span class="mpre">NewDecodeException</span></span></a><span class="mpre"> !</span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> !</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> !</span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre">
    </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 226, srcSpanStartColumn = 5, srcSpanEndLine = 226, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 226, srcSpanStartColumn = 5, srcSpanEndLine = 226, srcSpanEndColumn = 13}]}) [IHead (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/con"><span class="mpre">deriving Typeable</span></span><span class="mpre">
instance </span><span class="hl_classref"><span class="mpre">Show</span></span><span class="mpre"> </span><a href="#loc_221_6_221_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_6_221_19&#39;)"><span class="hl_tyconref"><span class="mpre">TextException</span></span></a><span class="mpre"> where
    </span><a name="loc_228_5_228_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_5_228_9&#39;)"><span class="hl_fundecl"><span class="mpre">show</span></span></a><span class="mpre"> (</span><a href="#loc_221_22_221_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_22_221_37&#39;)"><span class="hl_conref"><span class="mpre">DecodeException</span></span></a><span class="mpre"> </span><a name="loc_228_27_228_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_27_228_32&#39;)"><span class="hl_vardecl"><span class="mpre">codec</span></span></a><span class="mpre"> </span><a name="loc_228_33_228_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_33_228_34&#39;)"><span class="hl_vardecl"><span class="mpre">w</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre">
        [ </span><span class="hl_string"><span class="mpre">&quot;Error decoding legacy Data.Conduit.Text codec &quot;</span></span><span class="mpre">
        , </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_228_27_228_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_27_228_32&#39;)"><span class="hl_varref"><span class="mpre">codec</span></span></a><span class="mpre">
        , </span><span class="hl_string"><span class="mpre">&quot; when parsing byte: &quot;</span></span><span class="mpre">
        , </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_228_33_228_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_33_228_34&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre">
        ]
    </span><a href="#loc_228_5_228_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_5_228_9&#39;)"><span class="hl_fundecl"><span class="mpre">show</span></span></a><span class="mpre"> (</span><a href="#loc_222_22_222_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_22_222_37&#39;)"><span class="hl_conref"><span class="mpre">EncodeException</span></span></a><span class="mpre"> </span><a name="loc_234_27_234_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_27_234_32&#39;)"><span class="hl_vardecl"><span class="mpre">codec</span></span></a><span class="mpre"> </span><a name="loc_234_33_234_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_33_234_34&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre">
        [ </span><span class="hl_string"><span class="mpre">&quot;Error encoding legacy Data.Conduit.Text codec &quot;</span></span><span class="mpre">
        , </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_234_27_234_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_27_234_32&#39;)"><span class="hl_varref"><span class="mpre">codec</span></span></a><span class="mpre">
        , </span><span class="hl_string"><span class="mpre">&quot; when parsing char: &quot;</span></span><span class="mpre">
        , </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_234_33_234_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_33_234_34&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
        ]
    </span><a href="#loc_228_5_228_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_5_228_9&#39;)"><span class="hl_fundecl"><span class="mpre">show</span></span></a><span class="mpre"> (</span><a href="#loc_223_22_223_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_223_22_223_36&#39;)"><span class="hl_conref"><span class="mpre">LengthExceeded</span></span></a><span class="mpre"> </span><a name="loc_240_26_240_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_26_240_27&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre">) = </span><span class="hl_string"><span class="mpre">&quot;Data.Conduit.Text.linesBounded: line too long: &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_240_26_240_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_26_240_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">
    </span><a href="#loc_228_5_228_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_5_228_9&#39;)"><span class="hl_fundecl"><span class="mpre">show</span></span></a><span class="mpre"> (</span><a href="#loc_224_22_224_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_224_22_224_35&#39;)"><span class="hl_conref"><span class="mpre">TextException</span></span></a><span class="mpre"> </span><a name="loc_241_25_241_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_25_241_27&#39;)"><span class="hl_vardecl"><span class="mpre">se</span></span></a><span class="mpre">) = </span><span class="hl_string"><span class="mpre">&quot;Data.Conduit.Text.TextException: &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_241_25_241_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_25_241_27&#39;)"><span class="hl_varref"><span class="mpre">se</span></span></a><span class="mpre">
    </span><a href="#loc_228_5_228_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_5_228_9&#39;)"><span class="hl_fundecl"><span class="mpre">show</span></span></a><span class="mpre"> (</span><a href="#loc_225_22_225_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_22_225_40&#39;)"><span class="hl_conref"><span class="mpre">NewDecodeException</span></span></a><span class="mpre"> </span><a name="loc_242_30_242_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_30_242_35&#39;)"><span class="hl_vardecl"><span class="mpre">codec</span></span></a><span class="mpre"> </span><a name="loc_242_36_242_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_36_242_44&#39;)"><span class="hl_vardecl"><span class="mpre">consumed</span></span></a><span class="mpre"> </span><a name="loc_242_45_242_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_45_242_49&#39;)"><span class="hl_vardecl"><span class="mpre">next</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre">
        [ </span><span class="hl_string"><span class="mpre">&quot;Data.Conduit.Text.decode: Error decoding stream of &quot;</span></span><span class="mpre">
        , </span><a href="Data.Text.html#loc_392_1_392_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_392_1_392_7&#39;)"><span class="hl_varref"><span class="mpre">T.unpack</span></span></a><span class="mpre"> </span><a href="#loc_242_30_242_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_30_242_35&#39;)"><span class="hl_varref"><span class="mpre">codec</span></span></a><span class="mpre">
        , </span><span class="hl_string"><span class="mpre">&quot; bytes. Error encountered in stream at offset &quot;</span></span><span class="mpre">
        , </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_242_36_242_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_36_242_44&#39;)"><span class="hl_varref"><span class="mpre">consumed</span></span></a><span class="mpre">
        , </span><span class="hl_string"><span class="mpre">&quot;. Encountered at byte sequence &quot;</span></span><span class="mpre">
        , </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_242_45_242_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_45_242_49&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre">
        ]
instance </span><span class="hl_classref"><span class="mpre">Exc.Exception</span></span><span class="mpre"> </span><a href="#loc_221_6_221_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_6_221_19&#39;)"><span class="hl_tyconref"><span class="mpre">TextException</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_255_1_255_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_1_255_5&#39;)"><span class="mpre">utf8</span></a><span class="mpre"> :: </span><a href="#loc_59_6_59_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_6_59_11&#39;)"><span class="hl_tyconref"><span class="mpre">Codec</span></span></a><span class="mpre">
</span><a name="loc_255_1_255_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_1_255_5&#39;)"><span class="hl_vardecl"><span class="mpre">utf8</span></span></a><span class="mpre"> = </span><a href="#loc_70_7_70_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_7_70_15&#39;)"><span class="hl_conref"><span class="mpre">NewCodec</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_387_1_387_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_387_1_387_5&#39;)"><span class="hl_varref"><span class="mpre">T.pack</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;UTF-8&quot;</span></span><span class="mpre">) </span><a href="Data.Text.Encoding.html#loc_386_1_386_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_386_1_386_11&#39;)"><span class="hl_varref"><span class="mpre">TE.encodeUtf8</span></span></a><span class="mpre"> </span><a href="Data.Streaming.Text.html#loc_111_1_111_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_111_1_111_11&#39;)"><span class="hl_varref"><span class="mpre">Data.Streaming.Text.decodeUtf8</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_260_1_260_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_1_260_9&#39;)"><span class="mpre">utf16_le</span></a><span class="mpre"> :: </span><a href="#loc_59_6_59_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_6_59_11&#39;)"><span class="hl_tyconref"><span class="mpre">Codec</span></span></a><span class="mpre">
</span><a name="loc_260_1_260_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_1_260_9&#39;)"><span class="hl_vardecl"><span class="mpre">utf16_le</span></span></a><span class="mpre"> = </span><a href="#loc_70_7_70_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_7_70_15&#39;)"><span class="hl_conref"><span class="mpre">NewCodec</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_387_1_387_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_387_1_387_5&#39;)"><span class="hl_varref"><span class="mpre">T.pack</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;UTF-16-LE&quot;</span></span><span class="mpre">) </span><a href="Data.Text.Encoding.html#loc_433_1_433_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_433_1_433_14&#39;)"><span class="hl_varref"><span class="mpre">TE.encodeUtf16LE</span></span></a><span class="mpre"> </span><a href="Data.Streaming.Text.html#loc_230_1_230_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_230_1_230_14&#39;)"><span class="hl_varref"><span class="mpre">decodeUtf16LE</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_265_1_265_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_265_1_265_9&#39;)"><span class="mpre">utf16_be</span></a><span class="mpre"> :: </span><a href="#loc_59_6_59_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_6_59_11&#39;)"><span class="hl_tyconref"><span class="mpre">Codec</span></span></a><span class="mpre">
</span><a name="loc_265_1_265_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_265_1_265_9&#39;)"><span class="hl_vardecl"><span class="mpre">utf16_be</span></span></a><span class="mpre"> = </span><a href="#loc_70_7_70_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_7_70_15&#39;)"><span class="hl_conref"><span class="mpre">NewCodec</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_387_1_387_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_387_1_387_5&#39;)"><span class="hl_varref"><span class="mpre">T.pack</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;UTF-16-BE&quot;</span></span><span class="mpre">) </span><a href="Data.Text.Encoding.html#loc_438_1_438_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_438_1_438_14&#39;)"><span class="hl_varref"><span class="mpre">TE.encodeUtf16BE</span></span></a><span class="mpre"> </span><a href="Data.Streaming.Text.html#loc_299_1_299_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_299_1_299_14&#39;)"><span class="hl_varref"><span class="mpre">decodeUtf16BE</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_270_1_270_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_1_270_9&#39;)"><span class="mpre">utf32_le</span></a><span class="mpre"> :: </span><a href="#loc_59_6_59_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_6_59_11&#39;)"><span class="hl_tyconref"><span class="mpre">Codec</span></span></a><span class="mpre">
</span><a name="loc_270_1_270_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_1_270_9&#39;)"><span class="hl_vardecl"><span class="mpre">utf32_le</span></span></a><span class="mpre"> = </span><a href="#loc_70_7_70_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_7_70_15&#39;)"><span class="hl_conref"><span class="mpre">NewCodec</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_387_1_387_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_387_1_387_5&#39;)"><span class="hl_varref"><span class="mpre">T.pack</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;UTF-32-LE&quot;</span></span><span class="mpre">) </span><a href="Data.Text.Encoding.html#loc_471_1_471_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_471_1_471_14&#39;)"><span class="hl_varref"><span class="mpre">TE.encodeUtf32LE</span></span></a><span class="mpre"> </span><a href="Data.Streaming.Text.html#loc_368_1_368_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_368_1_368_14&#39;)"><span class="hl_varref"><span class="mpre">decodeUtf32LE</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_275_1_275_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_1_275_9&#39;)"><span class="mpre">utf32_be</span></a><span class="mpre"> :: </span><a href="#loc_59_6_59_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_6_59_11&#39;)"><span class="hl_tyconref"><span class="mpre">Codec</span></span></a><span class="mpre">
</span><a name="loc_275_1_275_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_1_275_9&#39;)"><span class="hl_vardecl"><span class="mpre">utf32_be</span></span></a><span class="mpre"> = </span><a href="#loc_70_7_70_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_7_70_15&#39;)"><span class="hl_conref"><span class="mpre">NewCodec</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_387_1_387_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_387_1_387_5&#39;)"><span class="hl_varref"><span class="mpre">T.pack</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;UTF-32-BE&quot;</span></span><span class="mpre">) </span><a href="Data.Text.Encoding.html#loc_476_1_476_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_476_1_476_14&#39;)"><span class="hl_varref"><span class="mpre">TE.encodeUtf32BE</span></span></a><span class="mpre"> </span><a href="Data.Streaming.Text.html#loc_434_1_434_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_434_1_434_14&#39;)"><span class="hl_varref"><span class="mpre">decodeUtf32BE</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_280_1_280_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_1_280_6&#39;)"><span class="mpre">ascii</span></a><span class="mpre"> :: </span><a href="#loc_59_6_59_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_6_59_11&#39;)"><span class="hl_tyconref"><span class="mpre">Codec</span></span></a><span class="mpre">
</span><a name="loc_280_1_280_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_1_280_6&#39;)"><span class="hl_vardecl"><span class="mpre">ascii</span></span></a><span class="mpre"> = </span><a href="#loc_59_14_59_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_14_59_19&#39;)"><span class="hl_conref"><span class="mpre">Codec</span></span></a><span class="mpre"> </span><a href="#loc_281_5_281_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_5_281_9&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><a href="#loc_282_5_282_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_5_282_8&#39;)"><span class="hl_varref"><span class="mpre">enc</span></span></a><span class="mpre"> </span><a href="#loc_289_5_289_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_5_289_8&#39;)"><span class="hl_varref"><span class="mpre">dec</span></span></a><span class="mpre"> where
    </span><a name="loc_281_5_281_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_5_281_9&#39;)"><span class="hl_vardecl"><span class="mpre">name</span></span></a><span class="mpre"> = </span><a href="Data.Text.html#loc_387_1_387_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_387_1_387_5&#39;)"><span class="hl_varref"><span class="mpre">T.pack</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;ASCII&quot;</span></span><span class="mpre">
    </span><a name="loc_282_5_282_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_5_282_8&#39;)"><span class="hl_fundecl"><span class="mpre">enc</span></span></a><span class="mpre"> </span><a name="loc_282_9_282_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_9_282_13&#39;)"><span class="hl_vardecl"><span class="mpre">text</span></span></a><span class="mpre"> = (</span><a href="#loc_284_9_284_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_9_284_14&#39;)"><span class="hl_varref"><span class="mpre">bytes</span></span></a><span class="mpre">, </span><a href="#loc_285_9_285_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_9_285_14&#39;)"><span class="hl_varref"><span class="mpre">extra</span></span></a><span class="mpre">) where
        (</span><a name="loc_283_10_283_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_10_283_14&#39;)"><span class="hl_vardecl"><span class="mpre">safe</span></span></a><span class="mpre">, </span><a name="loc_283_16_283_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_16_283_22&#39;)"><span class="hl_vardecl"><span class="mpre">unsafe</span></span></a><span class="mpre">) = </span><a href="Data.Text.html#loc_1188_1_1188_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1188_1_1188_5&#39;)"><span class="hl_varref"><span class="mpre">T.span</span></span></a><span class="mpre"> (\</span><a name="loc_283_35_283_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_35_283_36&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">ord</span></span><span class="mpre"> </span><a href="#loc_283_35_283_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_35_283_36&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0x7F</span></span><span class="mpre">) </span><a href="#loc_282_9_282_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_9_282_13&#39;)"><span class="hl_varref"><span class="mpre">text</span></span></a><span class="mpre">
        </span><a name="loc_284_9_284_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_9_284_14&#39;)"><span class="hl_vardecl"><span class="mpre">bytes</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">B8.pack</span></span><span class="mpre"> (</span><a href="Data.Text.html#loc_392_1_392_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_392_1_392_7&#39;)"><span class="hl_varref"><span class="mpre">T.unpack</span></span></a><span class="mpre"> </span><a href="#loc_283_10_283_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_10_283_14&#39;)"><span class="hl_varref"><span class="mpre">safe</span></span></a><span class="mpre">)
        </span><a name="loc_285_9_285_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_9_285_14&#39;)"><span class="hl_vardecl"><span class="mpre">extra</span></span></a><span class="mpre"> = if </span><a href="Data.Text.html#loc_531_1_531_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_531_1_531_5&#39;)"><span class="hl_varref"><span class="mpre">T.null</span></span></a><span class="mpre"> </span><a href="#loc_283_16_283_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_16_283_22&#39;)"><span class="hl_varref"><span class="mpre">unsafe</span></span></a><span class="mpre">
            then </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">
            else </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> (</span><a href="#loc_222_22_222_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_22_222_37&#39;)"><span class="hl_conref"><span class="mpre">EncodeException</span></span></a><span class="mpre"> </span><a href="#loc_280_1_280_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_1_280_6&#39;)"><span class="hl_varref"><span class="mpre">ascii</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_461_1_461_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_461_1_461_5&#39;)"><span class="hl_varref"><span class="mpre">T.head</span></span></a><span class="mpre"> </span><a href="#loc_283_16_283_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_16_283_22&#39;)"><span class="hl_varref"><span class="mpre">unsafe</span></span></a><span class="mpre">), </span><a href="#loc_283_16_283_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_16_283_22&#39;)"><span class="hl_varref"><span class="mpre">unsafe</span></span></a><span class="mpre">)

    </span><a name="loc_289_5_289_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_5_289_8&#39;)"><span class="hl_fundecl"><span class="mpre">dec</span></span></a><span class="mpre"> </span><a name="loc_289_9_289_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_9_289_14&#39;)"><span class="hl_vardecl"><span class="mpre">bytes</span></span></a><span class="mpre"> = (</span><a href="#loc_291_9_291_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_9_291_13&#39;)"><span class="hl_varref"><span class="mpre">text</span></span></a><span class="mpre">, </span><a href="#loc_292_9_292_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_9_292_14&#39;)"><span class="hl_varref"><span class="mpre">extra</span></span></a><span class="mpre">) where
        (</span><a name="loc_290_10_290_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_10_290_14&#39;)"><span class="hl_vardecl"><span class="mpre">safe</span></span></a><span class="mpre">, </span><a name="loc_290_16_290_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_16_290_22&#39;)"><span class="hl_vardecl"><span class="mpre">unsafe</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">B.span</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0x7F</span></span><span class="mpre">) </span><a href="#loc_289_9_289_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_9_289_14&#39;)"><span class="hl_varref"><span class="mpre">bytes</span></span></a><span class="mpre">
        </span><a name="loc_291_9_291_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_9_291_13&#39;)"><span class="hl_vardecl"><span class="mpre">text</span></span></a><span class="mpre"> = </span><a href="Data.Text.html#loc_387_1_387_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_387_1_387_5&#39;)"><span class="hl_varref"><span class="mpre">T.pack</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">B8.unpack</span></span><span class="mpre"> </span><a href="#loc_290_10_290_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_10_290_14&#39;)"><span class="hl_varref"><span class="mpre">safe</span></span></a><span class="mpre">)
        </span><a name="loc_292_9_292_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_9_292_14&#39;)"><span class="hl_vardecl"><span class="mpre">extra</span></span></a><span class="mpre"> = if </span><span class="hl_varref"><span class="mpre">B.null</span></span><span class="mpre"> </span><a href="#loc_290_16_290_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_16_290_22&#39;)"><span class="hl_varref"><span class="mpre">unsafe</span></span></a><span class="mpre">
            then </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.empty</span></span><span class="mpre">
            else </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> (</span><a href="#loc_221_22_221_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_22_221_37&#39;)"><span class="hl_conref"><span class="mpre">DecodeException</span></span></a><span class="mpre"> </span><a href="#loc_280_1_280_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_1_280_6&#39;)"><span class="hl_varref"><span class="mpre">ascii</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">B.head</span></span><span class="mpre"> </span><a href="#loc_290_16_290_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_16_290_22&#39;)"><span class="hl_varref"><span class="mpre">unsafe</span></span></a><span class="mpre">), </span><a href="#loc_290_16_290_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_16_290_22&#39;)"><span class="hl_varref"><span class="mpre">unsafe</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.3.0</span></span><span class="mpre">
</span><a href="#loc_299_1_299_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_1_299_10&#39;)"><span class="mpre">iso8859_1</span></a><span class="mpre"> :: </span><a href="#loc_59_6_59_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_6_59_11&#39;)"><span class="hl_tyconref"><span class="mpre">Codec</span></span></a><span class="mpre">
</span><a name="loc_299_1_299_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_1_299_10&#39;)"><span class="hl_vardecl"><span class="mpre">iso8859_1</span></span></a><span class="mpre"> = </span><a href="#loc_59_14_59_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_14_59_19&#39;)"><span class="hl_conref"><span class="mpre">Codec</span></span></a><span class="mpre"> </span><a href="#loc_300_5_300_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_5_300_9&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><a href="#loc_301_5_301_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_5_301_8&#39;)"><span class="hl_varref"><span class="mpre">enc</span></span></a><span class="mpre"> </span><a href="#loc_308_5_308_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_5_308_8&#39;)"><span class="hl_varref"><span class="mpre">dec</span></span></a><span class="mpre"> where
    </span><a name="loc_300_5_300_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_5_300_9&#39;)"><span class="hl_vardecl"><span class="mpre">name</span></span></a><span class="mpre"> = </span><a href="Data.Text.html#loc_387_1_387_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_387_1_387_5&#39;)"><span class="hl_varref"><span class="mpre">T.pack</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;ISO-8859-1&quot;</span></span><span class="mpre">
    </span><a name="loc_301_5_301_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_5_301_8&#39;)"><span class="hl_fundecl"><span class="mpre">enc</span></span></a><span class="mpre"> </span><a name="loc_301_9_301_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_9_301_13&#39;)"><span class="hl_vardecl"><span class="mpre">text</span></span></a><span class="mpre"> = (</span><a href="#loc_303_9_303_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_9_303_14&#39;)"><span class="hl_varref"><span class="mpre">bytes</span></span></a><span class="mpre">, </span><a href="#loc_304_9_304_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_9_304_14&#39;)"><span class="hl_varref"><span class="mpre">extra</span></span></a><span class="mpre">) where
        (</span><a name="loc_302_10_302_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_10_302_14&#39;)"><span class="hl_vardecl"><span class="mpre">safe</span></span></a><span class="mpre">, </span><a name="loc_302_16_302_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_16_302_22&#39;)"><span class="hl_vardecl"><span class="mpre">unsafe</span></span></a><span class="mpre">) = </span><a href="Data.Text.html#loc_1188_1_1188_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1188_1_1188_5&#39;)"><span class="hl_varref"><span class="mpre">T.span</span></span></a><span class="mpre"> (\</span><a name="loc_302_35_302_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_35_302_36&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">ord</span></span><span class="mpre"> </span><a href="#loc_302_35_302_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_35_302_36&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0xFF</span></span><span class="mpre">) </span><a href="#loc_301_9_301_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_9_301_13&#39;)"><span class="hl_varref"><span class="mpre">text</span></span></a><span class="mpre">
        </span><a name="loc_303_9_303_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_9_303_14&#39;)"><span class="hl_vardecl"><span class="mpre">bytes</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">B8.pack</span></span><span class="mpre"> (</span><a href="Data.Text.html#loc_392_1_392_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_392_1_392_7&#39;)"><span class="hl_varref"><span class="mpre">T.unpack</span></span></a><span class="mpre"> </span><a href="#loc_302_10_302_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_10_302_14&#39;)"><span class="hl_varref"><span class="mpre">safe</span></span></a><span class="mpre">)
        </span><a name="loc_304_9_304_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_9_304_14&#39;)"><span class="hl_vardecl"><span class="mpre">extra</span></span></a><span class="mpre"> = if </span><a href="Data.Text.html#loc_531_1_531_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_531_1_531_5&#39;)"><span class="hl_varref"><span class="mpre">T.null</span></span></a><span class="mpre"> </span><a href="#loc_302_16_302_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_16_302_22&#39;)"><span class="hl_varref"><span class="mpre">unsafe</span></span></a><span class="mpre">
            then </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">
            else </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> (</span><a href="#loc_222_22_222_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_22_222_37&#39;)"><span class="hl_conref"><span class="mpre">EncodeException</span></span></a><span class="mpre"> </span><a href="#loc_299_1_299_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_1_299_10&#39;)"><span class="hl_varref"><span class="mpre">iso8859_1</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_461_1_461_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_461_1_461_5&#39;)"><span class="hl_varref"><span class="mpre">T.head</span></span></a><span class="mpre"> </span><a href="#loc_302_16_302_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_16_302_22&#39;)"><span class="hl_varref"><span class="mpre">unsafe</span></span></a><span class="mpre">), </span><a href="#loc_302_16_302_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_16_302_22&#39;)"><span class="hl_varref"><span class="mpre">unsafe</span></span></a><span class="mpre">)

    </span><a name="loc_308_5_308_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_5_308_8&#39;)"><span class="hl_fundecl"><span class="mpre">dec</span></span></a><span class="mpre"> </span><a name="loc_308_9_308_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_9_308_14&#39;)"><span class="hl_vardecl"><span class="mpre">bytes</span></span></a><span class="mpre"> = (</span><a href="Data.Text.html#loc_387_1_387_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_387_1_387_5&#39;)"><span class="hl_varref"><span class="mpre">T.pack</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">B8.unpack</span></span><span class="mpre"> </span><a href="#loc_308_9_308_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_9_308_14&#39;)"><span class="hl_varref"><span class="mpre">bytes</span></span></a><span class="mpre">), </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.empty</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 1.0.8</span></span><span class="mpre">
</span><a href="#loc_316_1_316_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_1_316_10&#39;)"><span class="mpre">takeWhile</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 313, srcSpanStartColumn = 14, srcSpanEndLine = 314, srcSpanEndColumn = 13}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 314, srcSpanStartColumn = 11, srcSpanEndLine = 314, srcSpanEndColumn = 13}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/"><span class="mpre">Monad m
          =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">)
          -&gt; </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre">
</span><a name="loc_316_1_316_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_1_316_10&#39;)"><span class="hl_fundecl"><span class="mpre">takeWhile</span></span></a><span class="mpre"> </span><a name="loc_316_11_316_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_11_316_12&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> =
    </span><a href="#loc_319_5_319_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_5_319_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">
  where
    </span><a name="loc_319_5_319_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_5_319_9&#39;)"><span class="hl_vardecl"><span class="mpre">loop</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_74_1_74_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_74_1_74_6&#39;)"><span class="hl_varref"><span class="mpre">maybe</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">) </span><a href="#loc_320_5_320_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_320_5_320_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">
    </span><a name="loc_320_5_320_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_320_5_320_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_320_8_320_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_320_8_320_9&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> =
        case </span><a href="Data.Text.html#loc_1188_1_1188_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1188_1_1188_5&#39;)"><span class="hl_varref"><span class="mpre">T.span</span></span></a><span class="mpre"> </span><a href="#loc_316_11_316_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_11_316_12&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_320_8_320_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_320_8_320_9&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> of
            (</span><a name="loc_322_14_322_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_14_322_15&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">, </span><a name="loc_322_17_322_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_17_322_18&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">)
                | </span><a href="Data.Text.html#loc_531_1_531_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_531_1_531_5&#39;)"><span class="hl_varref"><span class="mpre">T.null</span></span></a><span class="mpre"> </span><a href="#loc_322_17_322_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_17_322_18&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_322_14_322_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_14_322_15&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_319_5_319_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_5_319_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">
                | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> -&gt; </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_322_14_322_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_14_322_15&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_207_1_207_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_207_1_207_9&#39;)"><span class="hl_varref"><span class="mpre">leftover</span></span></a><span class="mpre"> </span><a href="#loc_322_17_322_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_17_322_18&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 1.0.8</span></span><span class="mpre">
</span><a href="#loc_332_1_332_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_332_1_332_10&#39;)"><span class="mpre">dropWhile</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 329, srcSpanStartColumn = 14, srcSpanEndLine = 330, srcSpanEndColumn = 13}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 330, srcSpanStartColumn = 11, srcSpanEndLine = 330, srcSpanEndColumn = 13}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/"><span class="mpre">Monad m
          =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">)
          -&gt; </span><span class="hl_tyconref"><span class="mpre">Consumer</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_332_1_332_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_332_1_332_10&#39;)"><span class="hl_fundecl"><span class="mpre">dropWhile</span></span></a><span class="mpre"> </span><a name="loc_332_11_332_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_332_11_332_12&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> =
    </span><a href="#loc_335_5_335_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_5_335_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">
  where
    </span><a name="loc_335_5_335_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_5_335_9&#39;)"><span class="hl_vardecl"><span class="mpre">loop</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_74_1_74_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_74_1_74_6&#39;)"><span class="hl_varref"><span class="mpre">maybe</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">) </span><a href="#loc_336_5_336_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_5_336_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">
    </span><a name="loc_336_5_336_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_5_336_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_336_8_336_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_8_336_9&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre">
        | </span><a href="Data.Text.html#loc_531_1_531_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_531_1_531_5&#39;)"><span class="hl_varref"><span class="mpre">T.null</span></span></a><span class="mpre"> </span><a href="#loc_340_9_340_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_340_9_340_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_335_5_335_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_5_335_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">
        | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="Data.Conduit.html#loc_207_1_207_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_207_1_207_9&#39;)"><span class="hl_varref"><span class="mpre">leftover</span></span></a><span class="mpre"> </span><a href="#loc_340_9_340_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_340_9_340_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
      where
        </span><a name="loc_340_9_340_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_340_9_340_10&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Data.Text.html#loc_1109_1_1109_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1109_1_1109_10&#39;)"><span class="hl_varref"><span class="mpre">T.dropWhile</span></span></a><span class="mpre"> </span><a href="#loc_332_11_332_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_332_11_332_12&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_336_8_336_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_8_336_9&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 1.0.8</span></span><span class="mpre">
</span><a href="#loc_346_1_346_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_346_1_346_5&#39;)"><span class="mpre">take</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 345, srcSpanStartColumn = 9, srcSpanEndLine = 345, srcSpanEndColumn = 19}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 345, srcSpanStartColumn = 17, srcSpanEndLine = 345, srcSpanEndColumn = 19}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/c"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre">
</span><a name="loc_346_1_346_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_346_1_346_5&#39;)"><span class="hl_vardecl"><span class="mpre">take</span></span></a><span class="mpre"> =
    </span><a href="#loc_349_5_349_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_349_5_349_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">
  where
    </span><a name="loc_349_5_349_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_349_5_349_9&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a name="loc_349_10_349_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_349_10_349_11&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_74_1_74_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_74_1_74_6&#39;)"><span class="hl_varref"><span class="mpre">maybe</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">) (</span><a href="#loc_350_5_350_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_5_350_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_349_10_349_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_349_10_349_11&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">)
    </span><a name="loc_350_5_350_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_5_350_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_350_8_350_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_8_350_9&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> </span><a name="loc_350_10_350_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_10_350_11&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre">
        | </span><a href="#loc_357_9_357_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_357_9_357_13&#39;)"><span class="hl_varref"><span class="mpre">diff</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> = </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_350_10_350_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_10_350_11&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
        | </span><a href="#loc_357_9_357_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_357_9_357_13&#39;)"><span class="hl_varref"><span class="mpre">diff</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> =
            let (</span><a name="loc_353_18_353_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_18_353_19&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">, </span><a name="loc_353_21_353_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_21_353_22&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) = </span><a href="Data.Text.html#loc_1177_1_1177_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1177_1_1177_8&#39;)"><span class="hl_varref"><span class="mpre">T.splitAt</span></span></a><span class="mpre"> </span><a href="#loc_350_8_350_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_8_350_9&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_350_10_350_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_10_350_11&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
             in </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_353_18_353_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_18_353_19&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_207_1_207_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_207_1_207_9&#39;)"><span class="hl_varref"><span class="mpre">leftover</span></span></a><span class="mpre"> </span><a href="#loc_353_21_353_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_21_353_22&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">
        | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_350_10_350_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_10_350_11&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_349_5_349_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_349_5_349_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a href="#loc_357_9_357_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_357_9_357_13&#39;)"><span class="hl_varref"><span class="mpre">diff</span></span></a><span class="mpre">
      where
        </span><a name="loc_357_9_357_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_357_9_357_13&#39;)"><span class="hl_vardecl"><span class="mpre">diff</span></span></a><span class="mpre"> = </span><a href="#loc_350_8_350_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_8_350_9&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="Data.Text.html#loc_554_1_554_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_554_1_554_7&#39;)"><span class="hl_varref"><span class="mpre">T.length</span></span></a><span class="mpre"> </span><a href="#loc_350_10_350_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_10_350_11&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 1.0.8</span></span><span class="mpre">
</span><a href="#loc_363_1_363_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_363_1_363_5&#39;)"><span class="mpre">drop</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 362, srcSpanStartColumn = 9, srcSpanEndLine = 362, srcSpanEndColumn = 19}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 362, srcSpanStartColumn = 17, srcSpanEndLine = 362, srcSpanEndColumn = 19}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/c"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Consumer</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_363_1_363_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_363_1_363_5&#39;)"><span class="hl_vardecl"><span class="mpre">drop</span></span></a><span class="mpre"> =
    </span><a href="#loc_366_5_366_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_366_5_366_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">
  where
    </span><a name="loc_366_5_366_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_366_5_366_9&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a name="loc_366_10_366_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_366_10_366_11&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_74_1_74_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_74_1_74_6&#39;)"><span class="hl_varref"><span class="mpre">maybe</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">) (</span><a href="#loc_367_5_367_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_367_5_367_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_366_10_366_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_366_10_366_11&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">)
    </span><a name="loc_367_5_367_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_367_5_367_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_367_8_367_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_367_8_367_9&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> </span><a name="loc_367_10_367_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_367_10_367_11&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre">
        | </span><a href="#loc_372_9_372_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_9_372_13&#39;)"><span class="hl_varref"><span class="mpre">diff</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
        | </span><a href="#loc_372_9_372_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_9_372_13&#39;)"><span class="hl_varref"><span class="mpre">diff</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> = </span><a href="Data.Conduit.html#loc_207_1_207_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_207_1_207_9&#39;)"><span class="hl_varref"><span class="mpre">leftover</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Text.html#loc_1062_1_1062_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1062_1_1062_5&#39;)"><span class="hl_varref"><span class="mpre">T.drop</span></span></a><span class="mpre"> </span><a href="#loc_367_8_367_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_367_8_367_9&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_367_10_367_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_367_10_367_11&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
        | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_366_5_366_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_366_5_366_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a href="#loc_372_9_372_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_9_372_13&#39;)"><span class="hl_varref"><span class="mpre">diff</span></span></a><span class="mpre">
      where
        </span><a name="loc_372_9_372_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_9_372_13&#39;)"><span class="hl_vardecl"><span class="mpre">diff</span></span></a><span class="mpre"> = </span><a href="#loc_367_8_367_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_367_8_367_9&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="Data.Text.html#loc_554_1_554_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_554_1_554_7&#39;)"><span class="hl_varref"><span class="mpre">T.length</span></span></a><span class="mpre"> </span><a href="#loc_367_10_367_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_367_10_367_11&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 1.0.8</span></span><span class="mpre">
</span><a href="#loc_381_1_381_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_381_1_381_10&#39;)"><span class="mpre">foldLines</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 377, srcSpanStartColumn = 14, srcSpanEndLine = 378, srcSpanEndColumn = 13}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 378, srcSpanStartColumn = 11, srcSpanEndLine = 378, srcSpanEndColumn = 13}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/"><span class="mpre">Monad m
          =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="Data.Conduit.Internal.html#loc_248_9_248_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Internal.html#loc_248_9_248_17&#39;)"><span class="hl_tyconref"><span class="mpre">ConduitM</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">o</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
          -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
          -&gt; </span><a href="Data.Conduit.Internal.html#loc_248_9_248_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Internal.html#loc_248_9_248_17&#39;)"><span class="hl_tyconref"><span class="mpre">ConduitM</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">o</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_381_1_381_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_381_1_381_10&#39;)"><span class="hl_fundecl"><span class="mpre">foldLines</span></span></a><span class="mpre"> </span><a name="loc_381_11_381_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_381_11_381_12&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> =
    </span><a href="#loc_384_5_384_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_384_5_384_10&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre">
  where
    </span><a name="loc_384_5_384_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_384_5_384_10&#39;)"><span class="hl_fundecl"><span class="mpre">start</span></span></a><span class="mpre"> </span><a name="loc_384_11_384_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_384_11_384_12&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.List.html#loc_262_1_262_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_262_1_262_5&#39;)"><span class="hl_varref"><span class="mpre">CL.peek</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_74_1_74_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_74_1_74_6&#39;)"><span class="hl_varref"><span class="mpre">maybe</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_384_11_384_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_384_11_384_12&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_386_5_386_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_386_5_386_9&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_381_11_381_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_381_11_381_12&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_384_11_384_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_384_11_384_12&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)

    </span><a name="loc_386_5_386_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_386_5_386_9&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a name="loc_386_10_386_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_386_10_386_18&#39;)"><span class="hl_vardecl"><span class="mpre">consumer</span></span></a><span class="mpre"> = do
        </span><a name="loc_387_9_387_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_387_9_387_10&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_316_1_316_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_1_316_10&#39;)"><span class="hl_varref"><span class="mpre">takeWhile</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">/=</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;\n&#39;</span></span><span class="mpre">) </span><a href="Data.Conduit.html#loc_160_15_160_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_160_15_160_18&#39;)"><span class="hl_infix"><span class="mpre">=$=</span></span></a><span class="mpre"> do
            </span><a name="loc_388_13_388_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_388_13_388_14&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.List.html#loc_268_1_268_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_268_1_268_4&#39;)"><span class="hl_varref"><span class="mpre">CL.map</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_1327_1_1327_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1327_1_1327_7&#39;)"><span class="hl_varref"><span class="mpre">T.filter</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">/=</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;\r&#39;</span></span><span class="mpre">)) </span><a href="Data.Conduit.html#loc_160_15_160_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_160_15_160_18&#39;)"><span class="hl_infix"><span class="mpre">=$=</span></span></a><span class="mpre"> </span><a href="#loc_386_10_386_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_386_10_386_18&#39;)"><span class="hl_varref"><span class="mpre">consumer</span></span></a><span class="mpre">
            </span><a href="Data.Conduit.List.html#loc_520_1_520_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_520_1_520_9&#39;)"><span class="hl_varref"><span class="mpre">CL.sinkNull</span></span></a><span class="mpre">
            </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_388_13_388_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_388_13_388_14&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
        </span><a href="#loc_363_1_363_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_363_1_363_5&#39;)"><span class="hl_varref"><span class="mpre">drop</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">
        </span><a href="#loc_384_5_384_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_384_5_384_10&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre"> </span><a href="#loc_387_9_387_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_387_9_387_10&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 1.0.8</span></span><span class="mpre">
</span><a href="#loc_400_1_400_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_400_1_400_9&#39;)"><span class="mpre">withLine</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 397, srcSpanStartColumn = 13, srcSpanEndLine = 398, srcSpanEndColumn = 12}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 398, srcSpanStartColumn = 10, srcSpanEndLine = 398, srcSpanEndColumn = 12}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/"><span class="mpre">Monad m
         =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Sink</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
         -&gt; </span><span class="hl_tyconref"><span class="mpre">Consumer</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
</span><a name="loc_400_1_400_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_400_1_400_9&#39;)"><span class="hl_fundecl"><span class="mpre">withLine</span></span></a><span class="mpre"> </span><a name="loc_400_10_400_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_400_10_400_18&#39;)"><span class="hl_vardecl"><span class="mpre">consumer</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.Internal.html#loc_796_1_796_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Internal.html#loc_796_1_796_11&#39;)"><span class="hl_varref"><span class="mpre">toConsumer</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
    </span><a name="loc_401_5_401_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_401_5_401_7&#39;)"><span class="hl_vardecl"><span class="mpre">mx</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.List.html#loc_262_1_262_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_262_1_262_5&#39;)"><span class="hl_varref"><span class="mpre">CL.peek</span></span></a><span class="mpre">
    case </span><a href="#loc_401_5_401_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_401_5_401_7&#39;)"><span class="hl_varref"><span class="mpre">mx</span></span></a><span class="mpre"> of
        </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">
        </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> _ -&gt; do
            </span><a name="loc_405_13_405_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_405_13_405_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_316_1_316_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_1_316_10&#39;)"><span class="hl_varref"><span class="mpre">takeWhile</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">/=</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;\n&#39;</span></span><span class="mpre">) </span><a href="Data.Conduit.html#loc_149_14_149_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_149_14_149_16&#39;)"><span class="hl_infix"><span class="mpre">=$</span></span></a><span class="mpre"> do
                </span><a name="loc_406_17_406_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_17_406_18&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.List.html#loc_268_1_268_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_268_1_268_4&#39;)"><span class="hl_varref"><span class="mpre">CL.map</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_1327_1_1327_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1327_1_1327_7&#39;)"><span class="hl_varref"><span class="mpre">T.filter</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">/=</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;\r&#39;</span></span><span class="mpre">)) </span><a href="Data.Conduit.html#loc_149_14_149_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_149_14_149_16&#39;)"><span class="hl_infix"><span class="mpre">=$</span></span></a><span class="mpre"> </span><a href="#loc_400_10_400_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_400_10_400_18&#39;)"><span class="hl_varref"><span class="mpre">consumer</span></span></a><span class="mpre">
                </span><a href="Data.Conduit.List.html#loc_520_1_520_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_520_1_520_9&#39;)"><span class="hl_varref"><span class="mpre">CL.sinkNull</span></span></a><span class="mpre">
                </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_406_17_406_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_17_406_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
            </span><a href="#loc_363_1_363_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_363_1_363_5&#39;)"><span class="hl_varref"><span class="mpre">drop</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">
            </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a href="#loc_405_13_405_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_405_13_405_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Decode a stream of UTF8-encoded bytes into a stream of text, throwing an</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- exception on invalid input.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 1.0.15</span></span><span class="mpre">
</span><a href="#loc_417_1_417_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_417_1_417_11&#39;)"><span class="mpre">decodeUtf8</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 416, srcSpanStartColumn = 15, srcSpanEndLine = 416, srcSpanEndColumn = 30}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 416, srcSpanStartColumn = 28, srcSpanEndLine = 416, srcSpanEndColumn = 30}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/"><span class="mpre">MonadThrow m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre">
</span><a name="loc_417_1_417_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_417_1_417_11&#39;)"><span class="hl_vardecl"><span class="mpre">decodeUtf8</span></span></a><span class="mpre"> = </span><a href="#loc_192_1_192_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_1_192_7&#39;)"><span class="hl_varref"><span class="mpre">decode</span></span></a><span class="mpre"> </span><a href="#loc_255_1_255_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_1_255_5&#39;)"><span class="hl_varref"><span class="mpre">utf8</span></span></a><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">{- no meaningful performance advantage
    CI.ConduitM (loop 0 decodeUtf8)
  where
    loop consumed dec =
        CI.NeedInput go finish
      where
        finish () =
            case dec B.empty of
                DecodeResultSuccess _ _ -&gt; return ()
                DecodeResultFailure t rest -&gt; onFailure B.empty t rest
        {-# INLINE finish #-}

        go bs | B.null bs = CI.NeedInput go finish
        go bs =
            case dec bs of
                DecodeResultSuccess t dec&#39; -&gt; do
                    let consumed&#39; = consumed + B.length bs
                        next&#39; = loop consumed&#39; dec&#39;
                        next
                            | T.null t = next&#39;
                            | otherwise = CI.HaveOutput next&#39; (return ()) t
                     in consumed&#39; `seq` next
                DecodeResultFailure t rest -&gt; onFailure bs t rest

        onFailure bs t rest = do
            unless (T.null t) (CI.yield t)
            unless (B.null rest) (CI.leftover rest)
            let consumed&#39; = consumed + B.length bs - B.length rest
            monadThrow $ NewDecodeException (T.pack &quot;UTF-8&quot;) consumed&#39; (B.take 4 rest)
        {-# INLINE onFailure #-}
    -}</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_417_1_417_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_417_1_417_11&#39;)"><span class="mpre">decodeUtf8</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Encode a stream of text into a stream of bytes.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 1.0.15</span></span><span class="mpre">
</span><a href="#loc_455_1_455_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_455_1_455_11&#39;)"><span class="mpre">encodeUtf8</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 454, srcSpanStartColumn = 15, srcSpanEndLine = 454, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Text.hs&quot;, srcSpanStartLine = 454, srcSpanStartColumn = 23, srcSpanEndLine = 454, srcSpanEndColumn = 25}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre">
</span><a name="loc_455_1_455_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_455_1_455_11&#39;)"><span class="hl_vardecl"><span class="mpre">encodeUtf8</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.List.html#loc_268_1_268_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_268_1_268_4&#39;)"><span class="hl_varref"><span class="mpre">CL.map</span></span></a><span class="mpre"> </span><a href="Data.Text.Encoding.html#loc_386_1_386_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_386_1_386_11&#39;)"><span class="hl_varref"><span class="mpre">TE.encodeUtf8</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_455_1_455_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_455_1_455_11&#39;)"><span class="mpre">encodeUtf8</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span></div></body></html>