<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP, MagicHash, UnboxedTuples, DeriveDataTypeable, BangPatterns #-}

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      : Data.Primitive.Array</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   : (c) Roman Leshchinskiy 2009-2012</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     : BSD-style</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  : Roman Leshchinskiy &lt;rl@cse.unsw.edu.au&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability : non-portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Primitive boxed arrays</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">

module Data.Primitive.Array (
  Array(..), MutableArray(..),

  newArray, readArray, writeArray, indexArray, indexArrayM,
  unsafeFreezeArray, unsafeThawArray, sameMutableArray,
  copyArray, copyMutableArray,
  cloneArray, cloneMutableArray
) where

import Control.Monad.Primitive

import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 25, srcSpanStartColumn = 8, srcSpanEndLine = 25, srcSpanEndColumn = 16}, srcInfoPoints = []}) &quot;GHC.Base&quot;"><span class="mpre">GHC.Base</span></span><span class="mpre">  ( Int(..) )
import GHC.Prim

import Data.Typeable ( </span><a href="Data.Typeable.Internal.html#loc_196_7_196_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Typeable.Internal.html#loc_196_7_196_15&#39;)"><span class="mpre">Typeable</span></a><span class="mpre"> )
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 29, srcSpanStartColumn = 8, srcSpanEndLine = 29, srcSpanEndColumn = 17}, srcInfoPoints = []}) &quot;Data.Data&quot;"><span class="mpre">Data.Data</span></span><span class="mpre"> ( Data(..) )
import Data.Primitive.Internal.Compat ( </span><a href="Data.Primitive.Internal.Compat.html#loc_37_1_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Primitive.Internal.Compat.html#loc_37_1_37_8&#39;)"><span class="mpre">isTrue#</span></a><span class="mpre">, </span><a href="Data.Primitive.Internal.Compat.html#loc_32_1_32_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Primitive.Internal.Compat.html#loc_32_1_32_12&#39;)"><span class="mpre">mkNoRepType</span></a><span class="mpre"> )

import Control.Monad.ST(runST)

</span><span class="hl_comment"><span class="mpre">-- | Boxed arrays</span></span><span class="mpre">
data </span><a name="loc_35_6_35_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_6_35_11&#39;)"><span class="hl_tycondecl"><span class="mpre">Array</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> = </span><a name="loc_35_16_35_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_16_35_21&#39;)"><span class="hl_condecl"><span class="mpre">Array</span></span></a><span class="mpre"> (</span><a href="GHC.Prim.html#loc_1857_6_1857_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_1857_6_1857_12&#39;)"><span class="hl_tyconref"><span class="mpre">Array#</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 35, srcSpanStartColumn = 33, srcSpanEndLine = 35, srcSpanEndColumn = 54}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 35, srcSpanStartColumn = 33, srcSpanEndLine = 35, srcSpanEndColumn = 41},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs"><span class="mpre">deriving ( Typeable )</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Mutable boxed arrays associated with a primitive state token.</span></span><span class="mpre">
data </span><a name="loc_38_6_38_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_18&#39;)"><span class="hl_tycondecl"><span class="mpre">MutableArray</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> = </span><a name="loc_38_25_38_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_25_38_37&#39;)"><span class="hl_condecl"><span class="mpre">MutableArray</span></span></a><span class="mpre"> (</span><a href="GHC.Prim.html#loc_1859_6_1859_19" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_1859_6_1859_19&#39;)"><span class="hl_tyconref"><span class="mpre">MutableArray#</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
                                </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 39, srcSpanStartColumn = 33, srcSpanEndLine = 39, srcSpanEndColumn = 54}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 39, srcSpanStartColumn = 33, srcSpanEndLine = 39, srcSpanEndColumn = 41},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs"><span class="mpre">deriving ( Typeable )</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Create a new mutable array of the specified size and initialise all</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- elements with the given value.</span></span><span class="mpre">
</span><a href="#loc_45_1_45_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_1_45_9&#39;)"><span class="mpre">newArray</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 43, srcSpanStartColumn = 13, srcSpanEndLine = 43, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 43, srcSpanStartColumn = 25, srcSpanEndLine = 43, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pr"><span class="mpre">PrimMonad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><a href="#loc_38_6_38_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_18&#39;)"><span class="hl_tyconref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">PrimState</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_45_1_45_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_1_45_9&#39;)"><span class="mpre">newArray</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a name="loc_45_1_45_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_1_45_9&#39;)"><span class="hl_fundecl"><span class="mpre">newArray</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_45_14_45_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_14_45_16&#39;)"><span class="hl_vardecl"><span class="mpre">n#</span></span></a><span class="mpre">) </span><a name="loc_45_18_45_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_18_45_19&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Primitive.html#loc_37_3_37_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Primitive.html#loc_37_3_37_12&#39;)"><span class="hl_varref"><span class="mpre">primitive</span></span></a><span class="mpre">
   (\</span><a name="loc_46_6_46_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_8&#39;)"><span class="hl_vardecl"><span class="mpre">s#</span></span></a><span class="mpre"> -&gt; case </span><a href="GHC.Prim.html#loc_1866_1_1866_10" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_1866_1_1866_10&#39;)"><span class="hl_varref"><span class="mpre">newArray#</span></span></a><span class="mpre"> </span><a href="#loc_45_14_45_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_14_45_16&#39;)"><span class="hl_varref"><span class="mpre">n#</span></span></a><span class="mpre"> </span><a href="#loc_45_18_45_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_18_45_19&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="#loc_46_6_46_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_8&#39;)"><span class="hl_varref"><span class="mpre">s#</span></span></a><span class="mpre"> of
             (# </span><a name="loc_47_17_47_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_17_47_20&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;#</span></span></a><span class="mpre">, </span><a name="loc_47_22_47_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_22_47_26&#39;)"><span class="hl_vardecl"><span class="mpre">arr#</span></span></a><span class="mpre"> #) -&gt; (# </span><a href="#loc_47_17_47_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_17_47_20&#39;)"><span class="hl_varref"><span class="mpre">s&#39;#</span></span></a><span class="mpre">, </span><a href="#loc_38_25_38_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_25_38_37&#39;)"><span class="hl_conref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> </span><a href="#loc_47_22_47_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_22_47_26&#39;)"><span class="hl_varref"><span class="mpre">arr#</span></span></a><span class="mpre"> #))

</span><span class="hl_comment"><span class="mpre">-- | Read a value from the array at the given index.</span></span><span class="mpre">
</span><a href="#loc_52_1_52_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_1_52_10&#39;)"><span class="mpre">readArray</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 50, srcSpanStartColumn = 14, srcSpanEndLine = 50, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 50, srcSpanStartColumn = 26, srcSpanEndLine = 50, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pr"><span class="mpre">PrimMonad m =&gt;</span></span><span class="mpre"> </span><a href="#loc_38_6_38_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_18&#39;)"><span class="hl_tyconref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">PrimState</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_52_1_52_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_1_52_10&#39;)"><span class="mpre">readArray</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a name="loc_52_1_52_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_1_52_10&#39;)"><span class="hl_fundecl"><span class="mpre">readArray</span></span></a><span class="mpre"> (</span><a href="#loc_38_25_38_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_25_38_37&#39;)"><span class="hl_conref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> </span><a name="loc_52_25_52_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_25_52_29&#39;)"><span class="hl_vardecl"><span class="mpre">arr#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_52_35_52_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_35_52_37&#39;)"><span class="hl_vardecl"><span class="mpre">i#</span></span></a><span class="mpre">) = </span><a href="Control.Monad.Primitive.html#loc_37_3_37_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Primitive.html#loc_37_3_37_12&#39;)"><span class="hl_varref"><span class="mpre">primitive</span></span></a><span class="mpre"> (</span><a href="GHC.Prim.html#loc_1874_1_1874_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_1874_1_1874_11&#39;)"><span class="hl_varref"><span class="mpre">readArray#</span></span></a><span class="mpre"> </span><a href="#loc_52_25_52_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_25_52_29&#39;)"><span class="hl_varref"><span class="mpre">arr#</span></span></a><span class="mpre"> </span><a href="#loc_52_35_52_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_35_52_37&#39;)"><span class="hl_varref"><span class="mpre">i#</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Write a value to the array at the given index.</span></span><span class="mpre">
</span><a href="#loc_57_1_57_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_11&#39;)"><span class="mpre">writeArray</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 55, srcSpanStartColumn = 15, srcSpanEndLine = 55, srcSpanEndColumn = 29}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 55, srcSpanStartColumn = 27, srcSpanEndLine = 55, srcSpanEndColumn = 29}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pr"><span class="mpre">PrimMonad m =&gt;</span></span><span class="mpre"> </span><a href="#loc_38_6_38_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_18&#39;)"><span class="hl_tyconref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">PrimState</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_57_1_57_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_11&#39;)"><span class="mpre">writeArray</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a name="loc_57_1_57_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_11&#39;)"><span class="hl_fundecl"><span class="mpre">writeArray</span></span></a><span class="mpre"> (</span><a href="#loc_38_25_38_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_25_38_37&#39;)"><span class="hl_conref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> </span><a name="loc_57_26_57_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_26_57_30&#39;)"><span class="hl_vardecl"><span class="mpre">arr#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_57_36_57_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_36_57_38&#39;)"><span class="hl_vardecl"><span class="mpre">i#</span></span></a><span class="mpre">) </span><a name="loc_57_40_57_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_40_57_41&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Primitive.html#loc_47_1_47_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Primitive.html#loc_47_1_47_11&#39;)"><span class="hl_varref"><span class="mpre">primitive_</span></span></a><span class="mpre"> (</span><a href="GHC.Prim.html#loc_1879_1_1879_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_1879_1_1879_12&#39;)"><span class="hl_varref"><span class="mpre">writeArray#</span></span></a><span class="mpre"> </span><a href="#loc_57_26_57_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_26_57_30&#39;)"><span class="hl_varref"><span class="mpre">arr#</span></span></a><span class="mpre"> </span><a href="#loc_57_36_57_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_36_57_38&#39;)"><span class="hl_varref"><span class="mpre">i#</span></span></a><span class="mpre"> </span><a href="#loc_57_40_57_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_40_57_41&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Read a value from the immutable array at the given index.</span></span><span class="mpre">
</span><a href="#loc_62_1_62_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_1_62_11&#39;)"><span class="mpre">indexArray</span></a><span class="mpre"> :: </span><a href="#loc_35_6_35_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_6_35_11&#39;)"><span class="hl_tyconref"><span class="mpre">Array</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_62_1_62_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_1_62_11&#39;)"><span class="mpre">indexArray</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a name="loc_62_1_62_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_1_62_11&#39;)"><span class="hl_fundecl"><span class="mpre">indexArray</span></span></a><span class="mpre"> (</span><a href="#loc_35_16_35_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_16_35_21&#39;)"><span class="hl_conref"><span class="mpre">Array</span></span></a><span class="mpre"> </span><a name="loc_62_19_62_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_19_62_23&#39;)"><span class="hl_vardecl"><span class="mpre">arr#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_62_29_62_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_29_62_31&#39;)"><span class="hl_vardecl"><span class="mpre">i#</span></span></a><span class="mpre">) = case </span><a href="GHC.Prim.html#loc_1895_1_1895_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_1895_1_1895_12&#39;)"><span class="hl_varref"><span class="mpre">indexArray#</span></span></a><span class="mpre"> </span><a href="#loc_62_19_62_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_19_62_23&#39;)"><span class="hl_varref"><span class="mpre">arr#</span></span></a><span class="mpre"> </span><a href="#loc_62_29_62_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_29_62_31&#39;)"><span class="hl_varref"><span class="mpre">i#</span></span></a><span class="mpre"> of (# </span><a name="loc_62_66_62_67" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_66_62_67&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> #) -&gt; </span><a href="#loc_62_66_62_67" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_66_62_67&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Monadically read a value from the immutable array at the given index.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This allows us to be strict in the array while remaining lazy in the read</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- element which is very useful for collective operations. Suppose we want to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- copy an array. We could do something like this:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; copy marr arr ... = do ...</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;                        writeArray marr i (indexArray arr i) ...</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;                        ...</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- But since primitive arrays are lazy, the calls to &#39;indexArray&#39; will not be</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- evaluated. Rather, @marr@ will be filled with thunks each of which would</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- retain a reference to @arr@. This is definitely not what we want!</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- With &#39;indexArrayM&#39;, we can instead write</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; copy marr arr ... = do ...</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;                        x &lt;- indexArrayM arr i</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;                        writeArray marr i x</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;                        ...</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Now, indexing is executed immediately although the returned element is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- still not evaluated.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_89_1_89_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_1_89_12&#39;)"><span class="mpre">indexArrayM</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 87, srcSpanStartColumn = 16, srcSpanEndLine = 87, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 87, srcSpanStartColumn = 24, srcSpanEndLine = 87, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pr"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><a href="#loc_35_6_35_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_6_35_11&#39;)"><span class="hl_tyconref"><span class="mpre">Array</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_89_1_89_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_1_89_12&#39;)"><span class="mpre">indexArrayM</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a name="loc_89_1_89_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_1_89_12&#39;)"><span class="hl_fundecl"><span class="mpre">indexArrayM</span></span></a><span class="mpre"> (</span><a href="#loc_35_16_35_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_16_35_21&#39;)"><span class="hl_conref"><span class="mpre">Array</span></span></a><span class="mpre"> </span><a name="loc_89_20_89_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_20_89_24&#39;)"><span class="hl_vardecl"><span class="mpre">arr#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_89_30_89_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_30_89_32&#39;)"><span class="hl_vardecl"><span class="mpre">i#</span></span></a><span class="mpre">)
  = case </span><a href="GHC.Prim.html#loc_1895_1_1895_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_1895_1_1895_12&#39;)"><span class="hl_varref"><span class="mpre">indexArray#</span></span></a><span class="mpre"> </span><a href="#loc_89_20_89_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_20_89_24&#39;)"><span class="hl_varref"><span class="mpre">arr#</span></span></a><span class="mpre"> </span><a href="#loc_89_30_89_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_30_89_32&#39;)"><span class="hl_varref"><span class="mpre">i#</span></span></a><span class="mpre"> of (# </span><a name="loc_90_36_90_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_36_90_37&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> #) -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_90_36_90_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_36_90_37&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Convert a mutable array to an immutable one without copying. The</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- array should not be modified after the conversion.</span></span><span class="mpre">
</span><a href="#loc_96_1_96_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_1_96_18&#39;)"><span class="mpre">unsafeFreezeArray</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 94, srcSpanStartColumn = 22, srcSpanEndLine = 94, srcSpanEndColumn = 36}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 94, srcSpanStartColumn = 34, srcSpanEndLine = 94, srcSpanEndColumn = 36}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pr"><span class="mpre">PrimMonad m =&gt;</span></span><span class="mpre"> </span><a href="#loc_38_6_38_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_18&#39;)"><span class="hl_tyconref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">PrimState</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><a href="#loc_35_6_35_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_6_35_11&#39;)"><span class="hl_tyconref"><span class="mpre">Array</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_96_1_96_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_1_96_18&#39;)"><span class="mpre">unsafeFreezeArray</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a name="loc_96_1_96_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_1_96_18&#39;)"><span class="hl_fundecl"><span class="mpre">unsafeFreezeArray</span></span></a><span class="mpre"> (</span><a href="#loc_38_25_38_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_25_38_37&#39;)"><span class="hl_conref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> </span><a name="loc_96_33_96_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_33_96_37&#39;)"><span class="hl_vardecl"><span class="mpre">arr#</span></span></a><span class="mpre">)
  = </span><a href="Control.Monad.Primitive.html#loc_37_3_37_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Primitive.html#loc_37_3_37_12&#39;)"><span class="hl_varref"><span class="mpre">primitive</span></span></a><span class="mpre"> (\</span><a name="loc_97_17_97_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_17_97_19&#39;)"><span class="hl_vardecl"><span class="mpre">s#</span></span></a><span class="mpre"> -&gt; case </span><a href="GHC.Prim.html#loc_1900_1_1900_19" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_1900_1_1900_19&#39;)"><span class="hl_varref"><span class="mpre">unsafeFreezeArray#</span></span></a><span class="mpre"> </span><a href="#loc_96_33_96_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_33_96_37&#39;)"><span class="hl_varref"><span class="mpre">arr#</span></span></a><span class="mpre"> </span><a href="#loc_97_17_97_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_17_97_19&#39;)"><span class="hl_varref"><span class="mpre">s#</span></span></a><span class="mpre"> of
                        (# </span><a name="loc_98_28_98_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_28_98_31&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;#</span></span></a><span class="mpre">, </span><a name="loc_98_33_98_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_33_98_38&#39;)"><span class="hl_vardecl"><span class="mpre">arr&#39;#</span></span></a><span class="mpre"> #) -&gt; (# </span><a href="#loc_98_28_98_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_28_98_31&#39;)"><span class="hl_varref"><span class="mpre">s&#39;#</span></span></a><span class="mpre">, </span><a href="#loc_35_16_35_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_16_35_21&#39;)"><span class="hl_conref"><span class="mpre">Array</span></span></a><span class="mpre"> </span><a href="#loc_98_33_98_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_33_98_38&#39;)"><span class="hl_varref"><span class="mpre">arr&#39;#</span></span></a><span class="mpre"> #))

</span><span class="hl_comment"><span class="mpre">-- | Convert an immutable array to an mutable one without copying. The</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- immutable array should not be used after the conversion.</span></span><span class="mpre">
</span><a href="#loc_104_1_104_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_1_104_16&#39;)"><span class="mpre">unsafeThawArray</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 102, srcSpanStartColumn = 20, srcSpanEndLine = 102, srcSpanEndColumn = 34}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 102, srcSpanStartColumn = 32, srcSpanEndLine = 102, srcSpanEndColumn = 34}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pul"><span class="mpre">PrimMonad m =&gt;</span></span><span class="mpre"> </span><a href="#loc_35_6_35_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_6_35_11&#39;)"><span class="hl_tyconref"><span class="mpre">Array</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><a href="#loc_38_6_38_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_18&#39;)"><span class="hl_tyconref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">PrimState</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_104_1_104_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_1_104_16&#39;)"><span class="mpre">unsafeThawArray</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a name="loc_104_1_104_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_1_104_16&#39;)"><span class="hl_fundecl"><span class="mpre">unsafeThawArray</span></span></a><span class="mpre"> (</span><a href="#loc_35_16_35_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_16_35_21&#39;)"><span class="hl_conref"><span class="mpre">Array</span></span></a><span class="mpre"> </span><a name="loc_104_24_104_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_24_104_28&#39;)"><span class="hl_vardecl"><span class="mpre">arr#</span></span></a><span class="mpre">)
  = </span><a href="Control.Monad.Primitive.html#loc_37_3_37_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Primitive.html#loc_37_3_37_12&#39;)"><span class="hl_varref"><span class="mpre">primitive</span></span></a><span class="mpre"> (\</span><a name="loc_105_17_105_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_17_105_19&#39;)"><span class="hl_vardecl"><span class="mpre">s#</span></span></a><span class="mpre"> -&gt; case </span><a href="GHC.Prim.html#loc_1905_1_1905_17" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_1905_1_1905_17&#39;)"><span class="hl_varref"><span class="mpre">unsafeThawArray#</span></span></a><span class="mpre"> </span><a href="#loc_104_24_104_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_24_104_28&#39;)"><span class="hl_varref"><span class="mpre">arr#</span></span></a><span class="mpre"> </span><a href="#loc_105_17_105_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_17_105_19&#39;)"><span class="hl_varref"><span class="mpre">s#</span></span></a><span class="mpre"> of
                        (# </span><a name="loc_106_28_106_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_28_106_31&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;#</span></span></a><span class="mpre">, </span><a name="loc_106_33_106_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_33_106_38&#39;)"><span class="hl_vardecl"><span class="mpre">arr&#39;#</span></span></a><span class="mpre"> #) -&gt; (# </span><a href="#loc_106_28_106_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_28_106_31&#39;)"><span class="hl_varref"><span class="mpre">s&#39;#</span></span></a><span class="mpre">, </span><a href="#loc_38_25_38_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_25_38_37&#39;)"><span class="hl_conref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> </span><a href="#loc_106_33_106_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_33_106_38&#39;)"><span class="hl_varref"><span class="mpre">arr&#39;#</span></span></a><span class="mpre"> #))

</span><span class="hl_comment"><span class="mpre">-- | Check whether the two arrays refer to the same memory block.</span></span><span class="mpre">
</span><a href="#loc_111_1_111_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_1_111_17&#39;)"><span class="mpre">sameMutableArray</span></a><span class="mpre"> :: </span><a href="#loc_38_6_38_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_18&#39;)"><span class="hl_tyconref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_38_6_38_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_18&#39;)"><span class="hl_tyconref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_111_1_111_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_1_111_17&#39;)"><span class="mpre">sameMutableArray</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a name="loc_111_1_111_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_1_111_17&#39;)"><span class="hl_fundecl"><span class="mpre">sameMutableArray</span></span></a><span class="mpre"> (</span><a href="#loc_38_25_38_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_25_38_37&#39;)"><span class="hl_conref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> </span><a name="loc_111_32_111_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_32_111_36&#39;)"><span class="hl_vardecl"><span class="mpre">arr#</span></span></a><span class="mpre">) (</span><a href="#loc_38_25_38_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_25_38_37&#39;)"><span class="hl_conref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> </span><a name="loc_111_52_111_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_52_111_56&#39;)"><span class="hl_vardecl"><span class="mpre">brr#</span></span></a><span class="mpre">)
  = </span><a href="Data.Primitive.Internal.Compat.html#loc_37_1_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Primitive.Internal.Compat.html#loc_37_1_37_8&#39;)"><span class="hl_varref"><span class="mpre">isTrue#</span></span></a><span class="mpre"> (</span><a href="GHC.Prim.html#loc_1869_1_1869_18" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_1869_1_1869_18&#39;)"><span class="hl_varref"><span class="mpre">sameMutableArray#</span></span></a><span class="mpre"> </span><a href="#loc_111_32_111_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_32_111_36&#39;)"><span class="hl_varref"><span class="mpre">arr#</span></span></a><span class="mpre"> </span><a href="#loc_111_52_111_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_52_111_56&#39;)"><span class="hl_varref"><span class="mpre">brr#</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Copy a slice of an immutable array to a mutable array.</span></span><span class="mpre">
</span><a href="#loc_125_1_125_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_1_125_10&#39;)"><span class="mpre">copyArray</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 115, srcSpanStartColumn = 14, srcSpanEndLine = 116, srcSpanEndColumn = 13}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 116, srcSpanStartColumn = 11, srcSpanEndLine = 116, srcSpanEndColumn = 13}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pul"><span class="mpre">PrimMonad m
          =&gt;</span></span><span class="mpre"> </span><a href="#loc_38_6_38_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_18&#39;)"><span class="hl_tyconref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">PrimState</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">    </span><span class="hl_comment"><span class="mpre">-- ^ destination array</span></span><span class="mpre">
          -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">                             </span><span class="hl_comment"><span class="mpre">-- ^ offset into destination array</span></span><span class="mpre">
          -&gt; </span><a href="#loc_35_6_35_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_6_35_11&#39;)"><span class="hl_tyconref"><span class="mpre">Array</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">                         </span><span class="hl_comment"><span class="mpre">-- ^ source array</span></span><span class="mpre">
          -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">                             </span><span class="hl_comment"><span class="mpre">-- ^ offset into source array</span></span><span class="mpre">
          -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">                             </span><span class="hl_comment"><span class="mpre">-- ^ number of elements to copy</span></span><span class="mpre">
          -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_125_1_125_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_1_125_10&#39;)"><span class="mpre">copyArray</span></a><span class="mpre"> #-}</span></span><span class="mpre">
#if __GLASGOW_HASKELL__ &gt; 706
</span><span class="hl_comment"><span class="mpre">-- NOTE: copyArray# and copyMutableArray# are slightly broken in GHC 7.6.* and earlier</span></span><span class="mpre">
</span><a name="loc_125_1_125_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_1_125_10&#39;)"><span class="hl_fundecl"><span class="mpre">copyArray</span></span></a><span class="mpre"> (</span><a href="#loc_38_25_38_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_25_38_37&#39;)"><span class="hl_conref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> </span><a name="loc_125_25_125_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_25_125_29&#39;)"><span class="hl_vardecl"><span class="mpre">dst#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_125_35_125_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_35_125_40&#39;)"><span class="hl_vardecl"><span class="mpre">doff#</span></span></a><span class="mpre">) (</span><a href="#loc_35_16_35_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_16_35_21&#39;)"><span class="hl_conref"><span class="mpre">Array</span></span></a><span class="mpre"> </span><a name="loc_125_49_125_53" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_49_125_53&#39;)"><span class="hl_vardecl"><span class="mpre">src#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_125_59_125_64" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_59_125_64&#39;)"><span class="hl_vardecl"><span class="mpre">soff#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_125_70_125_74" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_70_125_74&#39;)"><span class="hl_vardecl"><span class="mpre">len#</span></span></a><span class="mpre">)
  = </span><a href="Control.Monad.Primitive.html#loc_47_1_47_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Primitive.html#loc_47_1_47_11&#39;)"><span class="hl_varref"><span class="mpre">primitive_</span></span></a><span class="mpre"> (</span><a href="GHC.Prim.html#loc_1912_1_1912_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_1912_1_1912_11&#39;)"><span class="hl_varref"><span class="mpre">copyArray#</span></span></a><span class="mpre"> </span><a href="#loc_125_49_125_53" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_49_125_53&#39;)"><span class="hl_varref"><span class="mpre">src#</span></span></a><span class="mpre"> </span><a href="#loc_125_59_125_64" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_59_125_64&#39;)"><span class="hl_varref"><span class="mpre">soff#</span></span></a><span class="mpre"> </span><a href="#loc_125_25_125_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_25_125_29&#39;)"><span class="hl_varref"><span class="mpre">dst#</span></span></a><span class="mpre"> </span><a href="#loc_125_35_125_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_35_125_40&#39;)"><span class="hl_varref"><span class="mpre">doff#</span></span></a><span class="mpre"> </span><a href="#loc_125_70_125_74" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_70_125_74&#39;)"><span class="hl_varref"><span class="mpre">len#</span></span></a><span class="mpre">)
#else
</span><a href="#loc_125_1_125_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_1_125_10&#39;)"><span class="hl_fundecl"><span class="mpre">copyArray</span></span></a><span class="mpre"> !</span><a name="loc_128_12_128_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_12_128_15&#39;)"><span class="hl_vardecl"><span class="mpre">dst</span></span></a><span class="mpre"> !</span><a name="loc_128_17_128_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_17_128_21&#39;)"><span class="hl_vardecl"><span class="mpre">doff</span></span></a><span class="mpre"> !</span><a name="loc_128_23_128_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_23_128_26&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre"> !</span><a name="loc_128_28_128_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_28_128_32&#39;)"><span class="hl_vardecl"><span class="mpre">soff</span></span></a><span class="mpre"> !</span><a name="loc_128_34_128_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_34_128_37&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> = </span><a href="#loc_130_5_130_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_5_130_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
  where
    </span><a name="loc_130_5_130_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_5_130_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_130_8_130_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_8_130_9&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> | </span><a href="#loc_130_8_130_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_8_130_9&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_128_34_128_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_34_128_37&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = do
                       </span><a name="loc_131_24_131_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_24_131_25&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_89_1_89_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_1_89_12&#39;)"><span class="hl_varref"><span class="mpre">indexArrayM</span></span></a><span class="mpre"> </span><a href="#loc_128_23_128_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_23_128_26&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre"> (</span><a href="#loc_128_28_128_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_28_128_32&#39;)"><span class="hl_varref"><span class="mpre">soff</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><a href="#loc_130_8_130_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_8_130_9&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">)
                       </span><a href="#loc_57_1_57_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_11&#39;)"><span class="hl_varref"><span class="mpre">writeArray</span></span></a><span class="mpre"> </span><a href="#loc_128_12_128_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_12_128_15&#39;)"><span class="hl_varref"><span class="mpre">dst</span></span></a><span class="mpre"> (</span><a href="#loc_128_17_128_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_17_128_21&#39;)"><span class="hl_varref"><span class="mpre">doff</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><a href="#loc_130_8_130_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_8_130_9&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">) </span><a href="#loc_131_24_131_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_24_131_25&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
                       </span><a href="#loc_130_5_130_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_5_130_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="#loc_130_8_130_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_8_130_9&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
         | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
#endif

</span><span class="hl_comment"><span class="mpre">-- | Copy a slice of a mutable array to another array. The two arrays may</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- not be the same.</span></span><span class="mpre">
</span><a href="#loc_149_1_149_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_1_149_17&#39;)"><span class="mpre">copyMutableArray</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 139, srcSpanStartColumn = 21, srcSpanEndLine = 140, srcSpanEndColumn = 13}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 140, srcSpanStartColumn = 11, srcSpanEndLine = 140, srcSpanEndColumn = 13}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pul"><span class="mpre">PrimMonad m
          =&gt;</span></span><span class="mpre"> </span><a href="#loc_38_6_38_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_18&#39;)"><span class="hl_tyconref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">PrimState</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">    </span><span class="hl_comment"><span class="mpre">-- ^ destination array</span></span><span class="mpre">
          -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">                             </span><span class="hl_comment"><span class="mpre">-- ^ offset into destination array</span></span><span class="mpre">
          -&gt; </span><a href="#loc_38_6_38_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_18&#39;)"><span class="hl_tyconref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">PrimState</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">    </span><span class="hl_comment"><span class="mpre">-- ^ source array</span></span><span class="mpre">
          -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">                             </span><span class="hl_comment"><span class="mpre">-- ^ offset into source array</span></span><span class="mpre">
          -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">                             </span><span class="hl_comment"><span class="mpre">-- ^ number of elements to copy</span></span><span class="mpre">
          -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_149_1_149_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_1_149_17&#39;)"><span class="mpre">copyMutableArray</span></a><span class="mpre"> #-}</span></span><span class="mpre">
#if __GLASGOW_HASKELL__ &gt;= 706
</span><span class="hl_comment"><span class="mpre">-- NOTE: copyArray# and copyMutableArray# are slightly broken in GHC 7.6.* and earlier</span></span><span class="mpre">
</span><a name="loc_149_1_149_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_1_149_17&#39;)"><span class="hl_fundecl"><span class="mpre">copyMutableArray</span></span></a><span class="mpre"> (</span><a href="#loc_38_25_38_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_25_38_37&#39;)"><span class="hl_conref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> </span><a name="loc_149_32_149_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_32_149_36&#39;)"><span class="hl_vardecl"><span class="mpre">dst#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_149_42_149_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_42_149_47&#39;)"><span class="hl_vardecl"><span class="mpre">doff#</span></span></a><span class="mpre">)
                 (</span><a href="#loc_38_25_38_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_25_38_37&#39;)"><span class="hl_conref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> </span><a name="loc_150_32_150_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_32_150_36&#39;)"><span class="hl_vardecl"><span class="mpre">src#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_150_42_150_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_42_150_47&#39;)"><span class="hl_vardecl"><span class="mpre">soff#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_150_53_150_57" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_53_150_57&#39;)"><span class="hl_vardecl"><span class="mpre">len#</span></span></a><span class="mpre">)
  = </span><a href="Control.Monad.Primitive.html#loc_47_1_47_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Primitive.html#loc_47_1_47_11&#39;)"><span class="hl_varref"><span class="mpre">primitive_</span></span></a><span class="mpre"> (</span><a href="GHC.Prim.html#loc_1918_1_1918_18" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_1918_1_1918_18&#39;)"><span class="hl_varref"><span class="mpre">copyMutableArray#</span></span></a><span class="mpre"> </span><a href="#loc_150_32_150_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_32_150_36&#39;)"><span class="hl_varref"><span class="mpre">src#</span></span></a><span class="mpre"> </span><a href="#loc_150_42_150_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_42_150_47&#39;)"><span class="hl_varref"><span class="mpre">soff#</span></span></a><span class="mpre"> </span><a href="#loc_149_32_149_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_32_149_36&#39;)"><span class="hl_varref"><span class="mpre">dst#</span></span></a><span class="mpre"> </span><a href="#loc_149_42_149_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_42_149_47&#39;)"><span class="hl_varref"><span class="mpre">doff#</span></span></a><span class="mpre"> </span><a href="#loc_150_53_150_57" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_53_150_57&#39;)"><span class="hl_varref"><span class="mpre">len#</span></span></a><span class="mpre">)
#else
</span><a href="#loc_149_1_149_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_1_149_17&#39;)"><span class="hl_fundecl"><span class="mpre">copyMutableArray</span></span></a><span class="mpre"> !</span><a name="loc_153_19_153_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_19_153_22&#39;)"><span class="hl_vardecl"><span class="mpre">dst</span></span></a><span class="mpre"> !</span><a name="loc_153_24_153_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_24_153_28&#39;)"><span class="hl_vardecl"><span class="mpre">doff</span></span></a><span class="mpre"> !</span><a name="loc_153_30_153_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_30_153_33&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre"> !</span><a name="loc_153_35_153_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_35_153_39&#39;)"><span class="hl_vardecl"><span class="mpre">soff</span></span></a><span class="mpre"> !</span><a name="loc_153_41_153_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_41_153_44&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> = </span><a href="#loc_155_5_155_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_5_155_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
  where
    </span><a name="loc_155_5_155_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_5_155_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_155_8_155_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_8_155_9&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> | </span><a href="#loc_155_8_155_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_8_155_9&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_153_41_153_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_41_153_44&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = do
                       </span><a name="loc_156_24_156_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_24_156_25&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_52_1_52_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_1_52_10&#39;)"><span class="hl_varref"><span class="mpre">readArray</span></span></a><span class="mpre"> </span><a href="#loc_153_30_153_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_30_153_33&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre"> (</span><a href="#loc_153_35_153_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_35_153_39&#39;)"><span class="hl_varref"><span class="mpre">soff</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><a href="#loc_155_8_155_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_8_155_9&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">)
                       </span><a href="#loc_57_1_57_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_11&#39;)"><span class="hl_varref"><span class="mpre">writeArray</span></span></a><span class="mpre"> </span><a href="#loc_153_19_153_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_19_153_22&#39;)"><span class="hl_varref"><span class="mpre">dst</span></span></a><span class="mpre"> (</span><a href="#loc_153_24_153_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_24_153_28&#39;)"><span class="hl_varref"><span class="mpre">doff</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><a href="#loc_155_8_155_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_8_155_9&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">) </span><a href="#loc_156_24_156_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_24_156_25&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
                       </span><a href="#loc_155_5_155_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_5_155_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="#loc_155_8_155_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_8_155_9&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
         | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
#endif

</span><span class="hl_comment"><span class="mpre">-- | Return a newly allocated Array with the specified subrange of the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- provided Array. The provided Array should contain the full subrange</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- specified by the two Ints, but this is not checked.</span></span><span class="mpre">
</span><a href="#loc_171_1_171_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_1_171_11&#39;)"><span class="mpre">cloneArray</span></a><span class="mpre"> :: </span><a href="#loc_35_6_35_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_6_35_11&#39;)"><span class="hl_tyconref"><span class="mpre">Array</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ source array</span></span><span class="mpre">
           -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">     </span><span class="hl_comment"><span class="mpre">-- ^ offset into destination array</span></span><span class="mpre">
           -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">     </span><span class="hl_comment"><span class="mpre">-- ^ number of elements to copy</span></span><span class="mpre">
           -&gt; </span><a href="#loc_35_6_35_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_6_35_11&#39;)"><span class="hl_tyconref"><span class="mpre">Array</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_171_1_171_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_1_171_11&#39;)"><span class="mpre">cloneArray</span></a><span class="mpre"> #-}</span></span><span class="mpre">
#if __GLASGOW_HASKELL__ &gt;= 702
</span><a name="loc_171_1_171_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_1_171_11&#39;)"><span class="hl_fundecl"><span class="mpre">cloneArray</span></span></a><span class="mpre"> (</span><a href="#loc_35_16_35_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_16_35_21&#39;)"><span class="hl_conref"><span class="mpre">Array</span></span></a><span class="mpre"> </span><a name="loc_171_19_171_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_19_171_23&#39;)"><span class="hl_vardecl"><span class="mpre">arr#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_171_29_171_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_29_171_33&#39;)"><span class="hl_vardecl"><span class="mpre">off#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_171_39_171_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_39_171_43&#39;)"><span class="hl_vardecl"><span class="mpre">len#</span></span></a><span class="mpre">) 
  = case </span><a href="GHC.Prim.html#loc_1924_1_1924_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_1924_1_1924_12&#39;)"><span class="hl_varref"><span class="mpre">cloneArray#</span></span></a><span class="mpre"> </span><a href="#loc_171_19_171_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_19_171_23&#39;)"><span class="hl_varref"><span class="mpre">arr#</span></span></a><span class="mpre"> </span><a href="#loc_171_29_171_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_29_171_33&#39;)"><span class="hl_varref"><span class="mpre">off#</span></span></a><span class="mpre"> </span><a href="#loc_171_39_171_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_39_171_43&#39;)"><span class="hl_varref"><span class="mpre">len#</span></span></a><span class="mpre"> of </span><a name="loc_172_40_172_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_40_172_45&#39;)"><span class="hl_vardecl"><span class="mpre">arr&#39;#</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_35_16_35_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_16_35_21&#39;)"><span class="hl_conref"><span class="mpre">Array</span></span></a><span class="mpre"> </span><a href="#loc_172_40_172_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_40_172_45&#39;)"><span class="hl_varref"><span class="mpre">arr&#39;#</span></span></a><span class="mpre">
#else
</span><a href="#loc_171_1_171_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_1_171_11&#39;)"><span class="hl_fundecl"><span class="mpre">cloneArray</span></span></a><span class="mpre"> </span><a name="loc_174_12_174_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_12_174_15&#39;)"><span class="hl_vardecl"><span class="mpre">arr</span></span></a><span class="mpre"> </span><a name="loc_174_16_174_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_16_174_19&#39;)"><span class="hl_vardecl"><span class="mpre">off</span></span></a><span class="mpre"> </span><a name="loc_174_20_174_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_20_174_23&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">runST</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
    </span><a name="loc_175_5_175_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_5_175_10&#39;)"><span class="hl_vardecl"><span class="mpre">marr2</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_45_1_45_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_1_45_9&#39;)"><span class="hl_varref"><span class="mpre">newArray</span></span></a><span class="mpre"> </span><a href="#loc_174_20_174_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_20_174_23&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Undefined element&quot;</span></span><span class="mpre">)
    </span><a href="#loc_125_1_125_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_1_125_10&#39;)"><span class="hl_varref"><span class="mpre">copyArray</span></span></a><span class="mpre"> </span><a href="#loc_175_5_175_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_5_175_10&#39;)"><span class="hl_varref"><span class="mpre">marr2</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="#loc_174_12_174_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_12_174_15&#39;)"><span class="hl_varref"><span class="mpre">arr</span></span></a><span class="mpre"> </span><a href="#loc_174_16_174_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_16_174_19&#39;)"><span class="hl_varref"><span class="mpre">off</span></span></a><span class="mpre"> </span><a href="#loc_174_20_174_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_20_174_23&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">
    </span><a href="#loc_96_1_96_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_1_96_18&#39;)"><span class="hl_varref"><span class="mpre">unsafeFreezeArray</span></span></a><span class="mpre"> </span><a href="#loc_175_5_175_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_5_175_10&#39;)"><span class="hl_varref"><span class="mpre">marr2</span></span></a><span class="mpre">
#endif

</span><span class="hl_comment"><span class="mpre">-- | Return a newly allocated MutableArray. with the specified subrange of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the provided MutableArray. The provided MutableArray should contain the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- full subrange specified by the two Ints, but this is not checked.</span></span><span class="mpre">
</span><a href="#loc_190_1_190_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_1_190_18&#39;)"><span class="mpre">cloneMutableArray</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 183, srcSpanStartColumn = 22, srcSpanEndLine = 184, srcSpanEndColumn = 11}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 184, srcSpanStartColumn = 9, srcSpanEndLine = 184, srcSpanEndColumn = 11}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull"><span class="mpre">PrimMonad m
        =&gt;</span></span><span class="mpre"> </span><a href="#loc_38_6_38_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_18&#39;)"><span class="hl_tyconref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">PrimState</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ source array</span></span><span class="mpre">
        -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">                          </span><span class="hl_comment"><span class="mpre">-- ^ offset into destination array</span></span><span class="mpre">
        -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">                          </span><span class="hl_comment"><span class="mpre">-- ^ number of elements to copy</span></span><span class="mpre">
        -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><a href="#loc_38_6_38_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_18&#39;)"><span class="hl_tyconref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">PrimState</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_190_1_190_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_1_190_18&#39;)"><span class="mpre">cloneMutableArray</span></a><span class="mpre"> #-}</span></span><span class="mpre">
#if __GLASGOW_HASKELL__ &gt;= 702
</span><a name="loc_190_1_190_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_1_190_18&#39;)"><span class="hl_fundecl"><span class="mpre">cloneMutableArray</span></span></a><span class="mpre"> (</span><a href="#loc_38_25_38_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_25_38_37&#39;)"><span class="hl_conref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> </span><a name="loc_190_33_190_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_33_190_37&#39;)"><span class="hl_vardecl"><span class="mpre">arr#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_190_43_190_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_43_190_47&#39;)"><span class="hl_vardecl"><span class="mpre">off#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_190_53_190_57" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_53_190_57&#39;)"><span class="hl_vardecl"><span class="mpre">len#</span></span></a><span class="mpre">) = </span><a href="Control.Monad.Primitive.html#loc_37_3_37_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Primitive.html#loc_37_3_37_12&#39;)"><span class="hl_varref"><span class="mpre">primitive</span></span></a><span class="mpre">
   (\</span><a name="loc_191_6_191_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_6_191_8&#39;)"><span class="hl_vardecl"><span class="mpre">s#</span></span></a><span class="mpre"> -&gt; case </span><a href="GHC.Prim.html#loc_1930_1_1930_19" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_1930_1_1930_19&#39;)"><span class="hl_varref"><span class="mpre">cloneMutableArray#</span></span></a><span class="mpre"> </span><a href="#loc_190_33_190_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_33_190_37&#39;)"><span class="hl_varref"><span class="mpre">arr#</span></span></a><span class="mpre"> </span><a href="#loc_190_43_190_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_43_190_47&#39;)"><span class="hl_varref"><span class="mpre">off#</span></span></a><span class="mpre"> </span><a href="#loc_190_53_190_57" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_53_190_57&#39;)"><span class="hl_varref"><span class="mpre">len#</span></span></a><span class="mpre"> </span><a href="#loc_191_6_191_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_6_191_8&#39;)"><span class="hl_varref"><span class="mpre">s#</span></span></a><span class="mpre"> of
             (# </span><a name="loc_192_17_192_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_17_192_20&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;#</span></span></a><span class="mpre">, </span><a name="loc_192_22_192_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_22_192_27&#39;)"><span class="hl_vardecl"><span class="mpre">arr&#39;#</span></span></a><span class="mpre"> #) -&gt; (# </span><a href="#loc_192_17_192_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_17_192_20&#39;)"><span class="hl_varref"><span class="mpre">s&#39;#</span></span></a><span class="mpre">, </span><a href="#loc_38_25_38_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_25_38_37&#39;)"><span class="hl_conref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> </span><a href="#loc_192_22_192_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_22_192_27&#39;)"><span class="hl_varref"><span class="mpre">arr&#39;#</span></span></a><span class="mpre"> #))
#else
</span><a href="#loc_190_1_190_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_1_190_18&#39;)"><span class="hl_fundecl"><span class="mpre">cloneMutableArray</span></span></a><span class="mpre"> </span><a name="loc_194_19_194_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_19_194_23&#39;)"><span class="hl_vardecl"><span class="mpre">marr</span></span></a><span class="mpre"> </span><a name="loc_194_24_194_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_24_194_27&#39;)"><span class="hl_vardecl"><span class="mpre">off</span></span></a><span class="mpre"> </span><a name="loc_194_28_194_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_28_194_31&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> = do
        </span><a name="loc_195_9_195_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_9_195_14&#39;)"><span class="hl_vardecl"><span class="mpre">marr2</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_45_1_45_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_1_45_9&#39;)"><span class="hl_varref"><span class="mpre">newArray</span></span></a><span class="mpre"> </span><a href="#loc_194_28_194_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_28_194_31&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Undefined element&quot;</span></span><span class="mpre">)
        let </span><a name="loc_196_13_196_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_13_196_15&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> !</span><a name="loc_196_17_196_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_17_196_18&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> !</span><a name="loc_196_20_196_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_20_196_21&#39;)"><span class="hl_vardecl"><span class="mpre">j</span></span></a><span class="mpre"> </span><a name="loc_196_22_196_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_22_196_23&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">
                | </span><a href="#loc_196_22_196_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_22_196_23&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_194_28_194_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_28_194_31&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_195_9_195_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_9_195_14&#39;)"><span class="hl_varref"><span class="mpre">marr2</span></span></a><span class="mpre">
                | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = do
                    </span><a name="loc_199_21_199_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_199_21_199_22&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_52_1_52_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_1_52_10&#39;)"><span class="hl_varref"><span class="mpre">readArray</span></span></a><span class="mpre"> </span><a href="#loc_194_19_194_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_19_194_23&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre"> </span><a href="#loc_196_17_196_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_17_196_18&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">
                    </span><a href="#loc_57_1_57_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_11&#39;)"><span class="hl_varref"><span class="mpre">writeArray</span></span></a><span class="mpre"> </span><a href="#loc_195_9_195_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_9_195_14&#39;)"><span class="hl_varref"><span class="mpre">marr2</span></span></a><span class="mpre"> </span><a href="#loc_196_20_196_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_20_196_21&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_199_21_199_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_199_21_199_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">
                    </span><a href="#loc_196_13_196_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_13_196_15&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="#loc_196_17_196_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_17_196_18&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) (</span><a href="#loc_196_20_196_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_20_196_21&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) (</span><a href="#loc_196_22_196_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_22_196_23&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
        </span><a href="#loc_196_13_196_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_13_196_15&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_194_24_194_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_24_194_27&#39;)"><span class="hl_varref"><span class="mpre">off</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
#endif

instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 205, srcSpanStartColumn = 10, srcSpanEndLine = 205, srcSpanEndColumn = 23}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 205, srcSpanStartColumn = 21, srcSpanEndLine = 205, srcSpanEndColumn = 23}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pul"><span class="mpre">Typeable a =&gt;</span></span><span class="mpre"> </span><span class="hl_classref"><span class="mpre">Data</span></span><span class="mpre"> (</span><a href="#loc_35_6_35_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_6_35_11&#39;)"><span class="hl_tyconref"><span class="mpre">Array</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) where
  </span><span class="hl_fundecl"><span class="mpre">toConstr</span></span><span class="mpre"> _ = </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;toConstr&quot;</span></span><span class="mpre">
  </span><span class="hl_fundecl"><span class="mpre">gunfold</span></span><span class="mpre"> _ _ = </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;gunfold&quot;</span></span><span class="mpre">
  </span><span class="hl_fundecl"><span class="mpre">dataTypeOf</span></span><span class="mpre"> _ = </span><a href="Data.Primitive.Internal.Compat.html#loc_32_1_32_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Primitive.Internal.Compat.html#loc_32_1_32_12&#39;)"><span class="hl_varref"><span class="mpre">mkNoRepType</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Data.Primitive.Array.Array&quot;</span></span><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 210, srcSpanStartColumn = 10, srcSpanEndLine = 210, srcSpanEndColumn = 37}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array.hs&quot;, srcSpanStartLine = 210, srcSpanStartColumn = 10, srcSpanEndLine = 210, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Array"><span class="mpre">(Typeable s, Typeable a) =&gt;</span></span><span class="mpre"> </span><span class="hl_classref"><span class="mpre">Data</span></span><span class="mpre"> (</span><a href="#loc_38_6_38_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_18&#39;)"><span class="hl_tyconref"><span class="mpre">MutableArray</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) where
  </span><span class="hl_fundecl"><span class="mpre">toConstr</span></span><span class="mpre"> _ = </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;toConstr&quot;</span></span><span class="mpre">
  </span><span class="hl_fundecl"><span class="mpre">gunfold</span></span><span class="mpre"> _ _ = </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;gunfold&quot;</span></span><span class="mpre">
  </span><span class="hl_fundecl"><span class="mpre">dataTypeOf</span></span><span class="mpre"> _ = </span><a href="Data.Primitive.Internal.Compat.html#loc_32_1_32_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Primitive.Internal.Compat.html#loc_32_1_32_12&#39;)"><span class="hl_varref"><span class="mpre">mkNoRepType</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Data.Primitive.Array.MutableArray&quot;</span></span><span class="mpre">
</span></div></body></html>