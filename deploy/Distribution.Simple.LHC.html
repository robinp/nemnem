<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Distribution.Simple.LHC</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  Isaac Jones 2003-2007</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  cabal-devel@haskell.org</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is a fairly large module. It contains most of the GHC-specific code for</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- configuring, building and installing packages. It also exports a function</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- for finding out what packages are already installed. Configuring involves</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- finding the @ghc@ and @ghc-pkg@ programs, finding what language extensions</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- this version of ghc supports and returning a &#39;Compiler&#39; value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;getInstalledPackages&#39; involves calling the @ghc-pkg@ program to find out</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- what packages are installed.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Building is somewhat complex as there is quite a bit of information to take</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- into account. We have to build libs and programs, possibly for profiling and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- shared libs. We have to support building libraries that will be usable by</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- GHCi and also ghc&#39;s @-split-objs@ feature. We have to compile any C files</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- using ghc. Linking, especially for @split-objs@ is remarkably complex,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- partly because there tend to be 1,000&#39;s of @.o@ files and this can often be</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- more than we can pass to the @ld@ or @ar@ programs in one go.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Installing for libs and exes involves finding the right files and copying</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- them to the right places. One of the more tricky things about this module is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- remembering the layout of files in the build directory (which is not</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- explicitly documented) and thus what search dirs are used for various kinds</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- of files.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{- Copyright (c) 2003-2005, Isaac Jones
All rights reserved.

Redistribution and use in source and binary forms, with or without
modiication, are permitted provided that the following conditions are
met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.

    * Redistributions in binary form must reproduce the above
      copyright notice, this list of conditions and the following
      disclaimer in the documentation and/or other materials provided
      with the distribution.

    * Neither the name of Isaac Jones nor the names of other
      contributors may be used to endorse or promote products derived
      from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
&quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -}</span></span><span class="mpre">

module Distribution.Simple.LHC (
        configure, getInstalledPackages,
        buildLib, buildExe,
        installLib, installExe,
        registerPackage,
        ghcOptions,
        ghcVerbosityOptions
 ) where

import Distribution.PackageDescription as PD
         ( </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="mpre">PackageDescription</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="mpre">BuildInfo</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_347_6_347_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_347_6_347_16&#39;)"><span class="mpre">Executable</span></a><span class="mpre">(..)
         , </span><a href="Distribution.PackageDescription.html#loc_299_6_299_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_299_6_299_13&#39;)"><span class="mpre">Library</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_341_1_341_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_341_1_341_11&#39;)"><span class="mpre">libModules</span></a><span class="mpre">, </span><a href="Distribution.PackageDescription.html#loc_778_1_778_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_778_1_778_10&#39;)"><span class="mpre">hcOptions</span></a><span class="mpre">, </span><a href="Distribution.PackageDescription.html#loc_768_1_768_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_768_1_768_15&#39;)"><span class="mpre">usedExtensions</span></a><span class="mpre">, </span><a href="Distribution.PackageDescription.html#loc_762_1_762_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_762_1_762_14&#39;)"><span class="mpre">allExtensions</span></a><span class="mpre"> )
import Distribution.InstalledPackageInfo
                                ( InstalledPackageInfo
                                , </span><a href="Distribution.InstalledPackageInfo.html#loc_178_1_178_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_178_1_178_26&#39;)"><span class="mpre">parseInstalledPackageInfo</span></a><span class="mpre"> )
import qualified Distribution.InstalledPackageInfo as InstalledPackageInfo
                                ( </span><a href="Distribution.InstalledPackageInfo.html#loc_92_6_92_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_92_6_92_27&#39;)"><span class="mpre">InstalledPackageInfo_</span></a><span class="mpre">(..) )
import Distribution.Simple.PackageIndex
import qualified Distribution.Simple.PackageIndex as PackageIndex
import Distribution.ParseUtils  ( </span><a href="Distribution.ParseUtils.html#loc_116_6_116_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ParseUtils.html#loc_116_6_116_17&#39;)"><span class="mpre">ParseResult</span></a><span class="mpre">(..) )
import Distribution.Simple.LocalBuildInfo
         ( </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="mpre">LocalBuildInfo</span></a><span class="mpre">(..), </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29&#39;)"><span class="mpre">ComponentLocalBuildInfo</span></a><span class="mpre">(..),
           </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_234_6_234_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_234_6_234_17&#39;)"><span class="mpre">LibraryName</span></a><span class="mpre">(..) )
import Distribution.Simple.InstallDirs
import Distribution.Simple.BuildPaths
import Distribution.Simple.Utils
import Distribution.Package
         ( </span><a href="Distribution.Package.html#loc_183_7_183_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_183_7_183_14&#39;)"><span class="mpre">Package</span></a><span class="mpre">(..) )
import qualified Distribution.ModuleName as ModuleName
import Distribution.Simple.Program
         ( </span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="mpre">Program</span></a><span class="mpre">(..), </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="mpre">ConfiguredProgram</span></a><span class="mpre">(..), ProgramConfiguration
         , ProgramSearchPath, </span><a href="Distribution.Simple.Program.Types.html#loc_105_6_105_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_105_6_105_21&#39;)"><span class="mpre">ProgramLocation</span></a><span class="mpre">(..)
         , </span><a href="Distribution.Simple.Program.html#loc_197_1_197_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_197_1_197_17&#39;)"><span class="mpre">rawSystemProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.html#loc_205_1_205_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_205_1_205_21&#39;)"><span class="mpre">rawSystemProgramConf</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Program.html#loc_201_1_201_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_201_1_201_23&#39;)"><span class="mpre">rawSystemProgramStdout</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.html#loc_209_1_209_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_209_1_209_27&#39;)"><span class="mpre">rawSystemProgramStdoutConf</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Program.Db.html#loc_399_1_399_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_399_1_399_22&#39;)"><span class="mpre">requireProgramVersion</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Program.Db.html#loc_203_1_203_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_203_1_203_21&#39;)"><span class="mpre">userMaybeSpecifyPath</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Types.html#loc_115_1_115_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_115_1_115_12&#39;)"><span class="mpre">programPath</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Db.html#loc_261_1_261_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_261_1_261_14&#39;)"><span class="mpre">lookupProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Db.html#loc_155_1_155_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_155_1_155_16&#39;)"><span class="mpre">addKnownProgram</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Program.Builtin.html#loc_207_1_207_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_207_1_207_10&#39;)"><span class="mpre">arProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Builtin.html#loc_204_1_204_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_204_1_204_14&#39;)"><span class="mpre">ranlibProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Builtin.html#loc_260_1_260_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_260_1_260_10&#39;)"><span class="mpre">ldProgram</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Program.Builtin.html#loc_199_1_199_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_199_1_199_11&#39;)"><span class="mpre">gccProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Builtin.html#loc_210_1_210_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_210_1_210_13&#39;)"><span class="mpre">stripProgram</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Program.Builtin.html#loc_112_1_112_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_112_1_112_11&#39;)"><span class="mpre">lhcProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Builtin.html#loc_117_1_117_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_117_1_117_14&#39;)"><span class="mpre">lhcPkgProgram</span></a><span class="mpre"> )
import qualified Distribution.Simple.Program.HcPkg as HcPkg
import Distribution.Simple.Compiler
         ( </span><a href="Distribution.Compiler.html#loc_81_6_81_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_6_81_20&#39;)"><span class="mpre">CompilerFlavor</span></a><span class="mpre">(..), </span><a href="Distribution.Compiler.html#loc_154_6_154_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_154_6_154_16&#39;)"><span class="mpre">CompilerId</span></a><span class="mpre">(..), </span><a href="Distribution.Simple.Compiler.html#loc_85_6_85_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_85_6_85_14&#39;)"><span class="mpre">Compiler</span></a><span class="mpre">(..), </span><a href="Distribution.Simple.Compiler.html#loc_99_1_99_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_99_1_99_16&#39;)"><span class="mpre">compilerVersion</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Compiler.html#loc_162_6_162_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_162_6_162_23&#39;)"><span class="mpre">OptimisationLevel</span></a><span class="mpre">(..), </span><a href="Distribution.Simple.Compiler.html#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_6_112_15&#39;)"><span class="mpre">PackageDB</span></a><span class="mpre">(..), PackageDBStack
         , Flag, </span><a href="Distribution.Simple.Compiler.html#loc_188_1_188_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_188_1_188_16&#39;)"><span class="mpre">languageToFlags</span></a><span class="mpre">, </span><a href="Distribution.Simple.Compiler.html#loc_206_1_206_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_206_1_206_18&#39;)"><span class="mpre">extensionsToFlags</span></a><span class="mpre"> )
import Distribution.Version
         ( </span><a href="Data.Version.html#loc_68_6_68_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Version.html#loc_68_6_68_13&#39;)"><span class="mpre">Version</span></a><span class="mpre">(..), </span><a href="Distribution.Version.html#loc_182_1_182_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Version.html#loc_182_1_182_15&#39;)"><span class="mpre">orLaterVersion</span></a><span class="mpre"> )
import Distribution.System
         ( </span><a href="Distribution.System.html#loc_66_6_66_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_66_6_66_8&#39;)"><span class="mpre">OS</span></a><span class="mpre">(..), </span><a href="Distribution.System.html#loc_112_1_112_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_112_1_112_8&#39;)"><span class="mpre">buildOS</span></a><span class="mpre"> )
import Distribution.Verbosity
import Distribution.Text
         ( </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="mpre">display</span></a><span class="mpre">, </span><a href="Distribution.Text.html#loc_39_1_39_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_39_1_39_12&#39;)"><span class="mpre">simpleParse</span></a><span class="mpre"> )
import Language.Haskell.Extension
         ( </span><a href="Language.Haskell.Extension.html#loc_69_6_69_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_69_6_69_14&#39;)"><span class="mpre">Language</span></a><span class="mpre">(</span><a href="Language.Haskell.Extension.html#loc_73_6_73_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_73_6_73_15&#39;)"><span class="mpre">Haskell98</span></a><span class="mpre">), </span><a href="Language.Haskell.Extension.html#loc_118_6_118_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_118_6_118_15&#39;)"><span class="mpre">Extension</span></a><span class="mpre">(..), </span><a href="Language.Haskell.Extension.html#loc_131_6_131_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_131_6_131_20&#39;)"><span class="mpre">KnownExtension</span></a><span class="mpre">(..) )

import Control.Monad            ( </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="mpre">unless</span></a><span class="mpre">, </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="mpre">when</span></a><span class="mpre"> )
import Data.List
import Data.Maybe               ( </span><a href="Data.Maybe.html#loc_115_1_115_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_115_1_115_10&#39;)"><span class="mpre">catMaybes</span></a><span class="mpre"> )
import Data.Monoid              ( </span><a href="Data.Monoid.html#loc_79_7_79_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_79_7_79_13&#39;)"><span class="mpre">Monoid</span></a><span class="mpre">(..) )
import System.Directory         ( </span><a href="System.Directory.html#loc_400_1_400_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_400_1_400_11&#39;)"><span class="mpre">removeFile</span></a><span class="mpre">, </span><a href="System.Directory.html#loc_510_1_510_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_510_1_510_11&#39;)"><span class="mpre">renameFile</span></a><span class="mpre">,
                                  </span><a href="System.Directory.html#loc_628_1_628_21" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_628_1_628_21&#39;)"><span class="mpre">getDirectoryContents</span></a><span class="mpre">, </span><a href="System.Directory.html#loc_726_1_726_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_726_1_726_14&#39;)"><span class="mpre">doesFileExist</span></a><span class="mpre">,
                                  </span><a href="System.Directory.html#loc_906_1_906_22" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_906_1_906_22&#39;)"><span class="mpre">getTemporaryDirectory</span></a><span class="mpre"> )
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 124, srcSpanStartColumn = 8, srcSpanEndLine = 124, srcSpanEndColumn = 23}, srcInfoPoints = []}) &quot;System.FilePath&quot;"><span class="mpre">System.FilePath</span></span><span class="mpre">          ( (&lt;/&gt;), (&lt;.&gt;), takeExtension,
                                  takeDirectory, replaceExtension )
import System.IO (</span><a href="GHC.IO.Handle.html#loc_86_1_86_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_86_1_86_7&#39;)"><span class="mpre">hClose</span></a><span class="mpre">, </span><a href="GHC.IO.Handle.Text.html#loc_533_1_533_10" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.Text.html#loc_533_1_533_10&#39;)"><span class="mpre">hPutStrLn</span></a><span class="mpre">)
import Distribution.Compat.Exception (</span><a href="Distribution.Compat.Exception.html#loc_17_1_17_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compat.Exception.html#loc_17_1_17_10&#39;)"><span class="mpre">catchExit</span></a><span class="mpre">, </span><a href="Distribution.Compat.Exception.html#loc_14_1_14_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compat.Exception.html#loc_14_1_14_8&#39;)"><span class="mpre">catchIO</span></a><span class="mpre">)
import Distribution.System ( </span><a href="Distribution.System.html#loc_164_6_164_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_164_6_164_14&#39;)"><a href="Distribution.System.html#loc_164_17_164_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_164_17_164_25&#39;)"><span class="mpre">Platform</span></a></a><span class="mpre"> )

</span><span class="hl_comment"><span class="mpre">-- -----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Configuring</span></span><span class="mpre">

</span><a href="#loc_135_1_135_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_10&#39;)"><span class="mpre">configure</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
          -&gt; </span><span class="hl_tyconref"><span class="mpre">ProgramConfiguration</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><a href="Distribution.Simple.Compiler.html#loc_85_6_85_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_85_6_85_14&#39;)"><span class="hl_tyconref"><span class="mpre">Compiler</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Distribution.System.html#loc_164_6_164_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_164_6_164_14&#39;)"><span class="hl_tyconref"><span class="mpre">Platform</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">ProgramConfiguration</span></span><span class="mpre">)
</span><a name="loc_135_1_135_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_10&#39;)"><span class="hl_fundecl"><span class="mpre">configure</span></span></a><span class="mpre"> </span><a name="loc_135_11_135_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_11_135_20&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_135_21_135_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_21_135_27&#39;)"><span class="hl_vardecl"><span class="mpre">hcPath</span></span></a><span class="mpre"> </span><a name="loc_135_28_135_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_28_135_37&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkgPath</span></span></a><span class="mpre"> </span><a name="loc_135_38_135_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_38_135_42&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre"> = do

  (</span><a name="loc_137_4_137_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_4_137_11&#39;)"><span class="hl_vardecl"><span class="mpre">lhcProg</span></span></a><span class="mpre">, </span><a name="loc_137_13_137_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_13_137_23&#39;)"><span class="hl_vardecl"><span class="mpre">lhcVersion</span></span></a><span class="mpre">, </span><a name="loc_137_25_137_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_25_137_30&#39;)"><span class="hl_vardecl"><span class="mpre">conf&#39;</span></span></a><span class="mpre">) &lt;-
    </span><a href="Distribution.Simple.Program.Db.html#loc_399_1_399_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_399_1_399_22&#39;)"><span class="hl_varref"><span class="mpre">requireProgramVersion</span></span></a><span class="mpre"> </span><a href="#loc_135_11_135_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_11_135_20&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_112_1_112_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_112_1_112_11&#39;)"><span class="hl_varref"><span class="mpre">lhcProgram</span></span></a><span class="mpre">
      (</span><a href="Distribution.Version.html#loc_182_1_182_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Version.html#loc_182_1_182_15&#39;)"><span class="hl_varref"><span class="mpre">orLaterVersion</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Version</span></span><span class="mpre"> [</span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">,</span><span class="hl_num"><span class="mpre">7</span></span><span class="mpre">] []))
      (</span><a href="Distribution.Simple.Program.Db.html#loc_203_1_203_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_203_1_203_21&#39;)"><span class="hl_varref"><span class="mpre">userMaybeSpecifyPath</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;lhc&quot;</span></span><span class="mpre"> </span><a href="#loc_135_21_135_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_21_135_27&#39;)"><span class="hl_varref"><span class="mpre">hcPath</span></span></a><span class="mpre"> </span><a href="#loc_135_38_135_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_38_135_42&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">)

  (</span><a name="loc_142_4_142_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_4_142_14&#39;)"><span class="hl_vardecl"><span class="mpre">lhcPkgProg</span></span></a><span class="mpre">, </span><a name="loc_142_16_142_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_16_142_29&#39;)"><span class="hl_vardecl"><span class="mpre">lhcPkgVersion</span></span></a><span class="mpre">, </span><a name="loc_142_31_142_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_31_142_37&#39;)"><span class="hl_vardecl"><span class="mpre">conf&#39;&#39;</span></span></a><span class="mpre">) &lt;-
    </span><a href="Distribution.Simple.Program.Db.html#loc_399_1_399_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_399_1_399_22&#39;)"><span class="hl_varref"><span class="mpre">requireProgramVersion</span></span></a><span class="mpre"> </span><a href="#loc_135_11_135_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_11_135_20&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_117_1_117_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_117_1_117_14&#39;)"><span class="hl_varref"><span class="mpre">lhcPkgProgram</span></span></a><span class="mpre">
      (</span><a href="Distribution.Version.html#loc_182_1_182_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Version.html#loc_182_1_182_15&#39;)"><span class="hl_varref"><span class="mpre">orLaterVersion</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Version</span></span><span class="mpre"> [</span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">,</span><span class="hl_num"><span class="mpre">7</span></span><span class="mpre">] []))
      (</span><a href="Distribution.Simple.Program.Db.html#loc_203_1_203_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_203_1_203_21&#39;)"><span class="hl_varref"><span class="mpre">userMaybeSpecifyPath</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;lhc-pkg&quot;</span></span><span class="mpre"> </span><a href="#loc_135_28_135_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_28_135_37&#39;)"><span class="hl_varref"><span class="mpre">hcPkgPath</span></span></a><span class="mpre"> </span><a href="#loc_137_25_137_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_25_137_30&#39;)"><span class="hl_varref"><span class="mpre">conf&#39;</span></span></a><span class="mpre">)

  </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> (</span><a href="#loc_137_13_137_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_13_137_23&#39;)"><span class="hl_varref"><span class="mpre">lhcVersion</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">/=</span></span><span class="mpre"> </span><a href="#loc_142_16_142_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_16_142_29&#39;)"><span class="hl_varref"><span class="mpre">lhcPkgVersion</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
       </span><span class="hl_string"><span class="mpre">&quot;Version mismatch between lhc and lhc-pkg: &quot;</span></span><span class="mpre">
    </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_115_1_115_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_115_1_115_12&#39;)"><span class="hl_varref"><span class="mpre">programPath</span></span></a><span class="mpre"> </span><a href="#loc_137_4_137_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_4_137_11&#39;)"><span class="hl_varref"><span class="mpre">lhcProg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; is version &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><a href="#loc_137_13_137_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_13_137_23&#39;)"><span class="hl_varref"><span class="mpre">lhcVersion</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; &quot;</span></span><span class="mpre">
    </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_115_1_115_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_115_1_115_12&#39;)"><span class="hl_varref"><span class="mpre">programPath</span></span></a><span class="mpre"> </span><a href="#loc_142_4_142_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_4_142_14&#39;)"><span class="hl_varref"><span class="mpre">lhcPkgProg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; is version &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><a href="#loc_142_16_142_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_16_142_29&#39;)"><span class="hl_varref"><span class="mpre">lhcPkgVersion</span></span></a><span class="mpre">

  </span><span class="hl_vardecl"><span class="mpre">languages</span></span><span class="mpre">  &lt;- </span><a href="#loc_231_1_231_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_1_231_13&#39;)"><span class="hl_varref"><span class="mpre">getLanguages</span></span></a><span class="mpre">  </span><a href="#loc_135_11_135_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_11_135_20&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_137_4_137_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_4_137_11&#39;)"><span class="hl_varref"><span class="mpre">lhcProg</span></span></a><span class="mpre">
  </span><span class="hl_vardecl"><span class="mpre">extensions</span></span><span class="mpre"> &lt;- </span><a href="#loc_235_1_235_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_1_235_14&#39;)"><span class="hl_varref"><span class="mpre">getExtensions</span></span></a><span class="mpre"> </span><a href="#loc_135_11_135_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_11_135_20&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_137_4_137_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_4_137_11&#39;)"><span class="hl_varref"><span class="mpre">lhcProg</span></span></a><span class="mpre">

  let </span><a name="loc_155_7_155_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_7_155_11&#39;)"><span class="hl_vardecl"><span class="mpre">comp</span></span></a><span class="mpre"> = </span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 155, srcSpanStartColumn = 14, srcSpanEndLine = 159, srcSpanEndColumn = 8}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 155, srcSpanStartColumn = 23, srcSpanEndLine = 155, srcSpanEndColumn = 24},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LH"><span class="mpre">Compiler {
        compilerId             = CompilerId LHC lhcVersion,
        compilerLanguages      = languages,
        compilerExtensions     = extensions
      }</span></span><span class="mpre">
      </span><a name="loc_160_7_160_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_7_160_14&#39;)"><span class="hl_vardecl"><span class="mpre">conf&#39;&#39;&#39;</span></span></a><span class="mpre"> = </span><a href="#loc_168_1_168_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_1_168_19&#39;)"><span class="hl_varref"><span class="mpre">configureToolchain</span></span></a><span class="mpre"> </span><a href="#loc_137_4_137_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_4_137_11&#39;)"><span class="hl_varref"><span class="mpre">lhcProg</span></span></a><span class="mpre"> </span><a href="#loc_142_31_142_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_31_142_37&#39;)"><span class="hl_varref"><span class="mpre">conf&#39;&#39;</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- configure gcc and ld</span></span><span class="mpre">
      </span><a name="loc_161_7_161_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_7_161_19&#39;)"><span class="hl_vardecl"><span class="mpre">compPlatform</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_155_7_155_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_7_155_11&#39;)"><span class="hl_varref"><span class="mpre">comp</span></span></a><span class="mpre">, </span><a href="#loc_161_7_161_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_7_161_19&#39;)"><span class="hl_varref"><span class="mpre">compPlatform</span></span></a><span class="mpre">, </span><a href="#loc_160_7_160_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_7_160_14&#39;)"><span class="hl_varref"><span class="mpre">conf&#39;&#39;&#39;</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Adjust the way we find and configure gcc and ld</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_168_1_168_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_1_168_19&#39;)"><span class="mpre">configureToolchain</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ProgramConfiguration</span></span><span class="mpre">
                                        -&gt; </span><span class="hl_tyconref"><span class="mpre">ProgramConfiguration</span></span><span class="mpre">
</span><a name="loc_168_1_168_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_1_168_19&#39;)"><span class="hl_fundecl"><span class="mpre">configureToolchain</span></span></a><span class="mpre"> </span><a name="loc_168_20_168_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_20_168_27&#39;)"><span class="hl_vardecl"><span class="mpre">lhcProg</span></span></a><span class="mpre"> =
    </span><a href="Distribution.Simple.Program.Db.html#loc_155_1_155_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_155_1_155_16&#39;)"><span class="hl_varref"><span class="mpre">addKnownProgram</span></span></a><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 169, srcSpanStartColumn = 21, srcSpanEndLine = 172, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 169, srcSpanStartColumn = 32, srcSpanEndLine = 169, srcSpanEndColumn = 33},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LH"><span class="mpre">gccProgram {
      programFindLocation = findProg gccProgram (baseDir &lt;/&gt; &quot;gcc.exe&quot;),
      programPostConf     = configureGcc
    }</span></span><span class="mpre">
  </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Db.html#loc_155_1_155_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_155_1_155_16&#39;)"><span class="hl_varref"><span class="mpre">addKnownProgram</span></span></a><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 173, srcSpanStartColumn = 21, srcSpanEndLine = 176, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 173, srcSpanStartColumn = 31, srcSpanEndLine = 173, srcSpanEndColumn = 32},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LH"><span class="mpre">ldProgram {
      programFindLocation = findProg ldProgram (libDir &lt;/&gt; &quot;ld.exe&quot;),
      programPostConf     = configureLd
    }</span></span><span class="mpre">
  where
    </span><a name="loc_178_5_178_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_5_178_16&#39;)"><span class="hl_vardecl"><span class="mpre">compilerDir</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">takeDirectory</span></span><span class="mpre"> (</span><a href="Distribution.Simple.Program.Types.html#loc_115_1_115_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_115_1_115_12&#39;)"><span class="hl_varref"><span class="mpre">programPath</span></span></a><span class="mpre"> </span><a href="#loc_168_20_168_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_20_168_27&#39;)"><span class="hl_varref"><span class="mpre">lhcProg</span></span></a><span class="mpre">)
    </span><a name="loc_179_5_179_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_5_179_12&#39;)"><span class="hl_vardecl"><span class="mpre">baseDir</span></span></a><span class="mpre">     = </span><span class="hl_varref"><span class="mpre">takeDirectory</span></span><span class="mpre"> </span><a href="#loc_178_5_178_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_5_178_16&#39;)"><span class="hl_varref"><span class="mpre">compilerDir</span></span></a><span class="mpre">
    </span><span class="hl_vardecl"><span class="mpre">libDir</span></span><span class="mpre">      = </span><a href="#loc_179_5_179_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_5_179_12&#39;)"><span class="hl_varref"><span class="mpre">baseDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;gcc-lib&quot;</span></span><span class="mpre">
    </span><span class="hl_vardecl"><span class="mpre">includeDir</span></span><span class="mpre">  = </span><a href="#loc_179_5_179_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_5_179_12&#39;)"><span class="hl_varref"><span class="mpre">baseDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;include&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;mingw&quot;</span></span><span class="mpre">
    </span><a name="loc_182_5_182_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_5_182_14&#39;)"><span class="hl_vardecl"><span class="mpre">isWindows</span></span></a><span class="mpre">   = case </span><a href="Distribution.System.html#loc_112_1_112_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_112_1_112_8&#39;)"><span class="hl_varref"><span class="mpre">buildOS</span></span></a><span class="mpre"> of </span><a href="Distribution.System.html#loc_66_19_66_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_66_19_66_26&#39;)"><span class="hl_conref"><span class="mpre">Windows</span></span></a><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">; _ -&gt; </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- on Windows finding and configuring ghc&#39;s gcc and ld is a bit special</span></span><span class="mpre">
    </span><a href="#loc_187_5_187_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_5_187_13&#39;)"><span class="mpre">findProg</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Program</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
             -&gt; </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ProgramSearchPath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">)
    </span><a name="loc_187_5_187_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_5_187_13&#39;)"><span class="hl_fundecl"><span class="mpre">findProg</span></span></a><span class="mpre"> </span><a name="loc_187_14_187_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_14_187_18&#39;)"><span class="hl_vardecl"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a name="loc_187_19_187_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_19_187_27&#39;)"><span class="hl_vardecl"><span class="mpre">location</span></span></a><span class="mpre"> | </span><a href="#loc_182_5_182_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_5_182_14&#39;)"><span class="hl_varref"><span class="mpre">isWindows</span></span></a><span class="mpre"> = \</span><a name="loc_187_43_187_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_43_187_52&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_187_53_187_63" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_53_187_63&#39;)"><span class="hl_vardecl"><span class="mpre">searchpath</span></span></a><span class="mpre"> -&gt; do
        </span><a name="loc_188_9_188_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_9_188_15&#39;)"><span class="hl_vardecl"><span class="mpre">exists</span></span></a><span class="mpre"> &lt;- </span><a href="System.Directory.html#loc_726_1_726_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_726_1_726_14&#39;)"><span class="hl_varref"><span class="mpre">doesFileExist</span></span></a><span class="mpre"> </span><a href="#loc_187_19_187_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_19_187_27&#39;)"><span class="hl_varref"><span class="mpre">location</span></span></a><span class="mpre">
        if </span><a href="#loc_188_9_188_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_9_188_15&#39;)"><span class="hl_varref"><span class="mpre">exists</span></span></a><span class="mpre"> then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_187_19_187_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_19_187_27&#39;)"><span class="hl_varref"><span class="mpre">location</span></span></a><span class="mpre">)
                  else do </span><a href="Distribution.Simple.Utils.html#loc_279_1_279_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_279_1_279_5&#39;)"><span class="hl_varref"><span class="mpre">warn</span></span></a><span class="mpre"> </span><a href="#loc_187_43_187_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_43_187_52&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;Couldn&#39;t find &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">programName</span></span><span class="mpre"> </span><a href="#loc_187_14_187_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_14_187_18&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; where I expected it. Trying the search path.&quot;</span></span><span class="mpre">)
                          </span><span class="hl_varref"><span class="mpre">programFindLocation</span></span><span class="mpre"> </span><a href="#loc_187_14_187_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_14_187_18&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a href="#loc_187_43_187_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_43_187_52&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_187_53_187_63" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_53_187_63&#39;)"><span class="hl_varref"><span class="mpre">searchpath</span></span></a><span class="mpre">
      | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">programFindLocation</span></span><span class="mpre"> </span><a href="#loc_187_14_187_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_14_187_18&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre">

    </span><a href="#loc_195_5_195_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_5_195_17&#39;)"><span class="mpre">configureGcc</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre">
    </span><a name="loc_195_5_195_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_5_195_17&#39;)"><span class="hl_vardecl"><span class="mpre">configureGcc</span></span></a><span class="mpre">
      | </span><a href="#loc_182_5_182_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_5_182_14&#39;)"><span class="hl_varref"><span class="mpre">isWindows</span></span></a><span class="mpre"> = \_ </span><a name="loc_196_24_196_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_24_196_31&#39;)"><span class="hl_vardecl"><span class="mpre">gccProg</span></span></a><span class="mpre"> -&gt; case </span><span class="hl_varref"><span class="mpre">programLocation</span></span><span class="mpre"> </span><a href="#loc_196_24_196_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_24_196_31&#39;)"><span class="hl_varref"><span class="mpre">gccProg</span></span></a><span class="mpre"> of
          </span><span class="hl_comment"><span class="mpre">-- if it&#39;s found on system then it means we&#39;re using the result</span></span><span class="mpre">
          </span><span class="hl_comment"><span class="mpre">-- of programFindLocation above rather than a user-supplied path</span></span><span class="mpre">
          </span><span class="hl_comment"><span class="mpre">-- that means we should add this extra flag to tell ghc&#39;s gcc</span></span><span class="mpre">
          </span><span class="hl_comment"><span class="mpre">-- where it lives and thus where gcc can find its various files:</span></span><span class="mpre">
          </span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 201, srcSpanStartColumn = 11, srcSpanEndLine = 201, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 201, srcSpanStartColumn = 25, srcSpanEndLine = 201, srcSpanEndColumn = 26},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs"><span class="mpre">FoundOnSystem {}</span></span><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 201, srcSpanStartColumn = 38, srcSpanEndLine = 204, srcSpanEndColumn = 32}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 201, srcSpanStartColumn = 46, srcSpanEndLine = 201, srcSpanEndColumn = 47},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/L"><span class="mpre">gccProg {
                                programDefaultArgs = [&quot;-B&quot; ++ libDir,
                                                      &quot;-I&quot; ++ includeDir]
                              }</span></span><span class="mpre">
          </span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 205, srcSpanStartColumn = 11, srcSpanEndLine = 205, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 205, srcSpanStartColumn = 25, srcSpanEndLine = 205, srcSpanEndColumn = 26},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs"><span class="mpre">UserSpecified {}</span></span><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_196_24_196_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_24_196_31&#39;)"><span class="hl_varref"><span class="mpre">gccProg</span></span></a><span class="mpre">
      | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = \_ </span><a name="loc_206_24_206_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_24_206_31&#39;)"><span class="hl_vardecl"><span class="mpre">gccProg</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_206_24_206_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_24_206_31&#39;)"><span class="hl_varref"><span class="mpre">gccProg</span></span></a><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- we need to find out if ld supports the -x flag</span></span><span class="mpre">
    </span><a href="#loc_210_5_210_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_5_210_16&#39;)"><span class="mpre">configureLd</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre">
    </span><a name="loc_210_5_210_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_5_210_16&#39;)"><span class="hl_fundecl"><span class="mpre">configureLd</span></span></a><span class="mpre"> </span><a name="loc_210_17_210_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_17_210_26&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_210_27_210_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_27_210_33&#39;)"><span class="hl_vardecl"><span class="mpre">ldProg</span></span></a><span class="mpre"> = do
      </span><a name="loc_211_7_211_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_7_211_14&#39;)"><span class="hl_vardecl"><span class="mpre">tempDir</span></span></a><span class="mpre"> &lt;- </span><a href="System.Directory.html#loc_906_1_906_22" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_906_1_906_22&#39;)"><span class="hl_varref"><span class="mpre">getTemporaryDirectory</span></span></a><span class="mpre">
      </span><a name="loc_212_7_212_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_7_212_10&#39;)"><span class="hl_vardecl"><span class="mpre">ldx</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.Simple.Utils.html#loc_1008_1_1008_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1008_1_1008_13&#39;)"><span class="hl_varref"><span class="mpre">withTempFile</span></span></a><span class="mpre"> </span><a href="#loc_211_7_211_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_7_211_14&#39;)"><span class="hl_varref"><span class="mpre">tempDir</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;.c&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_212_43_212_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_43_212_52&#39;)"><span class="hl_vardecl"><span class="mpre">testcfile</span></span></a><span class="mpre"> </span><a name="loc_212_53_212_61" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_53_212_61&#39;)"><span class="hl_vardecl"><span class="mpre">testchnd</span></span></a><span class="mpre"> -&gt;
             </span><a href="Distribution.Simple.Utils.html#loc_1008_1_1008_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1008_1_1008_13&#39;)"><span class="hl_varref"><span class="mpre">withTempFile</span></span></a><span class="mpre"> </span><a href="#loc_211_7_211_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_7_211_14&#39;)"><span class="hl_varref"><span class="mpre">tempDir</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;.o&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_213_43_213_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_43_213_52&#39;)"><span class="hl_vardecl"><span class="mpre">testofile</span></span></a><span class="mpre"> </span><a name="loc_213_53_213_61" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_53_213_61&#39;)"><span class="hl_vardecl"><span class="mpre">testohnd</span></span></a><span class="mpre"> -&gt; do
               </span><a href="GHC.IO.Handle.Text.html#loc_533_1_533_10" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.Text.html#loc_533_1_533_10&#39;)"><span class="hl_varref"><span class="mpre">hPutStrLn</span></span></a><span class="mpre"> </span><a href="#loc_212_53_212_61" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_53_212_61&#39;)"><span class="hl_varref"><span class="mpre">testchnd</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;int foo() { return 0; }&quot;</span></span><span class="mpre">
               </span><a href="GHC.IO.Handle.html#loc_86_1_86_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_86_1_86_7&#39;)"><span class="hl_varref"><span class="mpre">hClose</span></span></a><span class="mpre"> </span><a href="#loc_212_53_212_61" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_53_212_61&#39;)"><span class="hl_varref"><span class="mpre">testchnd</span></span></a><span class="mpre">; </span><a href="GHC.IO.Handle.html#loc_86_1_86_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_86_1_86_7&#39;)"><span class="hl_varref"><span class="mpre">hClose</span></span></a><span class="mpre"> </span><a href="#loc_213_53_213_61" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_53_213_61&#39;)"><span class="hl_varref"><span class="mpre">testohnd</span></span></a><span class="mpre">
               </span><a href="Distribution.Simple.Program.html#loc_197_1_197_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_197_1_197_17&#39;)"><span class="hl_varref"><span class="mpre">rawSystemProgram</span></span></a><span class="mpre"> </span><a href="#loc_210_17_210_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_17_210_26&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_168_20_168_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_20_168_27&#39;)"><span class="hl_varref"><span class="mpre">lhcProg</span></span></a><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-c&quot;</span></span><span class="mpre">, </span><a href="#loc_212_43_212_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_43_212_52&#39;)"><span class="hl_varref"><span class="mpre">testcfile</span></span></a><span class="mpre">,
                                                   </span><span class="hl_string"><span class="mpre">&quot;-o&quot;</span></span><span class="mpre">, </span><a href="#loc_213_43_213_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_43_213_52&#39;)"><span class="hl_varref"><span class="mpre">testofile</span></span></a><span class="mpre">]
               </span><a href="Distribution.Simple.Utils.html#loc_1008_1_1008_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1008_1_1008_13&#39;)"><span class="hl_varref"><span class="mpre">withTempFile</span></span></a><span class="mpre"> </span><a href="#loc_211_7_211_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_7_211_14&#39;)"><span class="hl_varref"><span class="mpre">tempDir</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;.o&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_218_45_218_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_45_218_55&#39;)"><span class="hl_vardecl"><span class="mpre">testofile&#39;</span></span></a><span class="mpre"> </span><a name="loc_218_56_218_65" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_56_218_65&#39;)"><span class="hl_vardecl"><span class="mpre">testohnd&#39;</span></span></a><span class="mpre"> -&gt;
                 do
                   </span><a href="GHC.IO.Handle.html#loc_86_1_86_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.html#loc_86_1_86_7&#39;)"><span class="hl_varref"><span class="mpre">hClose</span></span></a><span class="mpre"> </span><a href="#loc_218_56_218_65" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_56_218_65&#39;)"><span class="hl_varref"><span class="mpre">testohnd&#39;</span></span></a><span class="mpre">
                   _ &lt;- </span><a href="Distribution.Simple.Program.html#loc_201_1_201_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_201_1_201_23&#39;)"><span class="hl_varref"><span class="mpre">rawSystemProgramStdout</span></span></a><span class="mpre"> </span><a href="#loc_210_17_210_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_17_210_26&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_210_27_210_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_27_210_33&#39;)"><span class="hl_varref"><span class="mpre">ldProg</span></span></a><span class="mpre">
                     [</span><span class="hl_string"><span class="mpre">&quot;-x&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;-r&quot;</span></span><span class="mpre">, </span><a href="#loc_213_43_213_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_43_213_52&#39;)"><span class="hl_varref"><span class="mpre">testofile</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;-o&quot;</span></span><span class="mpre">, </span><a href="#loc_218_45_218_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_45_218_55&#39;)"><span class="hl_varref"><span class="mpre">testofile&#39;</span></span></a><span class="mpre">]
                   </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">
                 </span><a href="Distribution.Compat.Exception.html#loc_14_1_14_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compat.Exception.html#loc_14_1_14_8&#39;)"><span class="hl_infix"><span class="mpre">`catchIO`</span></span></a><span class="mpre">   (\_ -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">)
                 </span><a href="Distribution.Compat.Exception.html#loc_17_1_17_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compat.Exception.html#loc_17_1_17_10&#39;)"><span class="hl_infix"><span class="mpre">`catchExit`</span></span></a><span class="mpre"> (\_ -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">)
      if </span><a href="#loc_212_7_212_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_7_212_10&#39;)"><span class="hl_varref"><span class="mpre">ldx</span></span></a><span class="mpre">
        then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 227, srcSpanStartColumn = 21, srcSpanEndLine = 227, srcSpanEndColumn = 59}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 227, srcSpanStartColumn = 28, srcSpanEndLine = 227, srcSpanEndColumn = 29},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/L"><span class="mpre">ldProg { programDefaultArgs = [&quot;-x&quot;] }</span></span><span class="mpre">
        else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_210_27_210_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_27_210_33&#39;)"><span class="hl_varref"><span class="mpre">ldProg</span></span></a><span class="mpre">

</span><a href="#loc_231_1_231_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_1_231_13&#39;)"><span class="mpre">getLanguages</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> [(</span><a href="Language.Haskell.Extension.html#loc_69_6_69_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_69_6_69_14&#39;)"><span class="hl_tyconref"><span class="mpre">Language</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Flag</span></span><span class="mpre">)]
</span><a name="loc_231_1_231_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_1_231_13&#39;)"><span class="hl_fundecl"><span class="mpre">getLanguages</span></span></a><span class="mpre"> _ _ = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> [(</span><a href="Language.Haskell.Extension.html#loc_73_6_73_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_73_6_73_15&#39;)"><span class="hl_conref"><span class="mpre">Haskell98</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">)]
</span><span class="hl_comment"><span class="mpre">--FIXME: does lhc support -XHaskell98 flag? from what version?</span></span><span class="mpre">

</span><a href="#loc_235_1_235_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_1_235_14&#39;)"><span class="mpre">getExtensions</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> [(</span><a href="Language.Haskell.Extension.html#loc_118_6_118_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_118_6_118_15&#39;)"><span class="hl_tyconref"><span class="mpre">Extension</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Flag</span></span><span class="mpre">)]
</span><a name="loc_235_1_235_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_1_235_14&#39;)"><span class="hl_fundecl"><span class="mpre">getExtensions</span></span></a><span class="mpre"> </span><a name="loc_235_15_235_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_15_235_24&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_235_25_235_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_25_235_32&#39;)"><span class="hl_vardecl"><span class="mpre">lhcProg</span></span></a><span class="mpre"> = do
    </span><a name="loc_236_5_236_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_5_236_9&#39;)"><span class="hl_vardecl"><span class="mpre">exts</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.Simple.Utils.html#loc_500_1_500_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_500_1_500_16&#39;)"><span class="hl_varref"><span class="mpre">rawSystemStdout</span></span></a><span class="mpre"> </span><a href="#loc_235_15_235_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_15_235_24&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.Program.Types.html#loc_115_1_115_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_115_1_115_12&#39;)"><span class="hl_varref"><span class="mpre">programPath</span></span></a><span class="mpre"> </span><a href="#loc_235_25_235_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_25_235_32&#39;)"><span class="hl_varref"><span class="mpre">lhcProg</span></span></a><span class="mpre">)
              [</span><span class="hl_string"><span class="mpre">&quot;--supported-languages&quot;</span></span><span class="mpre">]
    </span><span class="hl_comment"><span class="mpre">-- GHC has the annoying habit of inverting some of the extensions</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- so we have to try parsing (&quot;No&quot; ++ ghcExtensionName) first</span></span><span class="mpre">
    let </span><a name="loc_240_9_240_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_9_240_22&#39;)"><span class="hl_fundecl"><span class="mpre">readExtension</span></span></a><span class="mpre"> </span><a name="loc_240_23_240_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_23_240_26&#39;)"><span class="hl_vardecl"><span class="mpre">str</span></span></a><span class="mpre"> = do
          </span><a name="loc_241_11_241_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_11_241_14&#39;)"><span class="hl_vardecl"><span class="mpre">ext</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.Text.html#loc_39_1_39_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_39_1_39_12&#39;)"><span class="hl_varref"><span class="mpre">simpleParse</span></span></a><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;No&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_240_23_240_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_23_240_26&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">)
          case </span><a href="#loc_241_11_241_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_11_241_14&#39;)"><span class="hl_varref"><span class="mpre">ext</span></span></a><span class="mpre"> of
            </span><a href="Language.Haskell.Extension.html#loc_127_5_127_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_127_5_127_21&#39;)"><span class="hl_conref"><span class="mpre">UnknownExtension</span></span></a><span class="mpre"> _ -&gt; </span><a href="Distribution.Text.html#loc_39_1_39_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_39_1_39_12&#39;)"><span class="hl_varref"><span class="mpre">simpleParse</span></span></a><span class="mpre"> </span><a href="#loc_240_23_240_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_23_240_26&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">
            _                  -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_241_11_241_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_11_241_14&#39;)"><span class="hl_varref"><span class="mpre">ext</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> [ (</span><a href="#loc_246_21_246_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_21_246_24&#39;)"><span class="hl_varref"><span class="mpre">ext</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;-X&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><a href="#loc_246_21_246_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_21_246_24&#39;)"><span class="hl_varref"><span class="mpre">ext</span></span></a><span class="mpre">)
             | </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_246_21_246_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_21_246_24&#39;)"><span class="hl_vardecl"><span class="mpre">ext</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_240_9_240_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_9_240_22&#39;)"><span class="hl_varref"><span class="mpre">readExtension</span></span></a><span class="mpre"> (</span><a href="Data.List.html#loc_1044_1_1044_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_1044_1_1044_6&#39;)"><span class="hl_varref"><span class="mpre">lines</span></span></a><span class="mpre"> </span><a href="#loc_236_5_236_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_5_236_9&#39;)"><span class="hl_varref"><span class="mpre">exts</span></span></a><span class="mpre">) ]

</span><a href="#loc_250_1_250_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_1_250_21&#39;)"><span class="mpre">getInstalledPackages</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">PackageDBStack</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ProgramConfiguration</span></span><span class="mpre">
                     -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="Distribution.Simple.PackageIndex.html#loc_94_6_94_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PackageIndex.html#loc_94_6_94_18&#39;)"><span class="hl_tyconref"><span class="mpre">PackageIndex</span></span></a><span class="mpre">
</span><a name="loc_250_1_250_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_1_250_21&#39;)"><span class="hl_fundecl"><span class="mpre">getInstalledPackages</span></span></a><span class="mpre"> </span><a name="loc_250_22_250_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_22_250_31&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_250_32_250_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_32_250_42&#39;)"><span class="hl_vardecl"><span class="mpre">packagedbs</span></span></a><span class="mpre"> </span><a name="loc_250_43_250_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_43_250_47&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre"> = do
  </span><a href="#loc_267_1_267_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_1_267_20&#39;)"><span class="hl_varref"><span class="mpre">checkPackageDbStack</span></span></a><span class="mpre"> </span><a href="#loc_250_32_250_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_32_250_42&#39;)"><span class="hl_varref"><span class="mpre">packagedbs</span></span></a><span class="mpre">
  </span><a name="loc_252_3_252_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_3_252_8&#39;)"><span class="hl_vardecl"><span class="mpre">pkgss</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_278_1_278_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_1_278_22&#39;)"><span class="hl_varref"><span class="mpre">getInstalledPackages&#39;</span></span></a><span class="mpre"> </span><a href="#loc_262_10_262_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_10_262_16&#39;)"><span class="hl_varref"><span class="mpre">lhcPkg</span></span></a><span class="mpre"> </span><a href="#loc_250_22_250_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_22_250_31&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_250_32_250_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_32_250_42&#39;)"><span class="hl_varref"><span class="mpre">packagedbs</span></span></a><span class="mpre"> </span><a href="#loc_250_43_250_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_43_250_47&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">
  let </span><a name="loc_253_7_253_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_7_253_14&#39;)"><span class="hl_vardecl"><span class="mpre">indexes</span></span></a><span class="mpre"> = [ </span><a href="Distribution.Simple.PackageIndex.html#loc_160_1_160_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PackageIndex.html#loc_160_1_160_9&#39;)"><span class="hl_varref"><span class="mpre">PackageIndex.fromList</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><a href="#loc_317_1_317_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_317_1_317_12&#39;)"><span class="hl_varref"><span class="mpre">substTopDir</span></span></a><span class="mpre"> </span><a href="#loc_264_5_264_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_5_264_11&#39;)"><span class="hl_varref"><span class="mpre">topDir</span></span></a><span class="mpre">) </span><a href="#loc_254_23_254_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_23_254_27&#39;)"><span class="hl_varref"><span class="mpre">pkgs</span></span></a><span class="mpre">)
                | (_, </span><a name="loc_254_23_254_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_23_254_27&#39;)"><span class="hl_vardecl"><span class="mpre">pkgs</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_252_3_252_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_3_252_8&#39;)"><span class="hl_varref"><span class="mpre">pkgss</span></span></a><span class="mpre"> ]
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> (</span><a href="Data.Monoid.html#loc_84_9_84_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_84_9_84_16&#39;)"><span class="hl_varref"><span class="mpre">mconcat</span></span></a><span class="mpre"> </span><a href="#loc_253_7_253_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_7_253_14&#39;)"><span class="hl_varref"><span class="mpre">indexes</span></span></a><span class="mpre">)

  where
    </span><span class="hl_comment"><span class="mpre">-- On Windows, various fields have $topdir/foo rather than full</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- paths. We need to substitute the right value in so that when</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- we, for example, call gcc, we have proper paths to give it</span></span><span class="mpre">
    </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_261_10_261_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_10_261_17&#39;)"><span class="hl_vardecl"><span class="mpre">ghcProg</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Program.Db.html#loc_261_1_261_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_261_1_261_14&#39;)"><span class="hl_varref"><span class="mpre">lookupProgram</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_112_1_112_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_112_1_112_11&#39;)"><span class="hl_varref"><span class="mpre">lhcProgram</span></span></a><span class="mpre"> </span><a href="#loc_250_43_250_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_43_250_47&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">
    </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_262_10_262_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_10_262_16&#39;)"><span class="hl_vardecl"><span class="mpre">lhcPkg</span></span></a><span class="mpre">  = </span><a href="Distribution.Simple.Program.Db.html#loc_261_1_261_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_261_1_261_14&#39;)"><span class="hl_varref"><span class="mpre">lookupProgram</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_117_1_117_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_117_1_117_14&#39;)"><span class="hl_varref"><span class="mpre">lhcPkgProgram</span></span></a><span class="mpre"> </span><a href="#loc_250_43_250_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_43_250_47&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">
    </span><a name="loc_263_5_263_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_263_5_263_16&#39;)"><span class="hl_vardecl"><span class="mpre">compilerDir</span></span></a><span class="mpre">  = </span><span class="hl_varref"><span class="mpre">takeDirectory</span></span><span class="mpre"> (</span><a href="Distribution.Simple.Program.Types.html#loc_115_1_115_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_115_1_115_12&#39;)"><span class="hl_varref"><span class="mpre">programPath</span></span></a><span class="mpre"> </span><a href="#loc_261_10_261_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_10_261_17&#39;)"><span class="hl_varref"><span class="mpre">ghcProg</span></span></a><span class="mpre">)
    </span><a name="loc_264_5_264_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_5_264_11&#39;)"><span class="hl_vardecl"><span class="mpre">topDir</span></span></a><span class="mpre">       = </span><span class="hl_varref"><span class="mpre">takeDirectory</span></span><span class="mpre"> </span><a href="#loc_263_5_263_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_263_5_263_16&#39;)"><span class="hl_varref"><span class="mpre">compilerDir</span></span></a><span class="mpre">

</span><a href="#loc_267_1_267_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_1_267_20&#39;)"><span class="mpre">checkPackageDbStack</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">PackageDBStack</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_267_1_267_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_1_267_20&#39;)"><span class="hl_fundecl"><span class="mpre">checkPackageDbStack</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.Compiler.html#loc_112_18_112_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_18_112_33&#39;)"><span class="hl_conref"><span class="mpre">GlobalPackageDB</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_267_38_267_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_38_267_42&#39;)"><span class="hl_vardecl"><span class="mpre">rest</span></span></a><span class="mpre">)
  | </span><a href="Distribution.Simple.Compiler.html#loc_112_18_112_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_18_112_33&#39;)"><span class="hl_conref"><span class="mpre">GlobalPackageDB</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`notElem`</span></span><span class="mpre"> </span><a href="#loc_267_38_267_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_38_267_42&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
</span><a href="#loc_267_1_267_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_1_267_20&#39;)"><span class="hl_fundecl"><span class="mpre">checkPackageDbStack</span></span></a><span class="mpre"> _ =
  </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;GHC.getInstalledPackages: the global package db must be &quot;</span></span><span class="mpre">
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;specified first and cannot be specified multiple times&quot;</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Get the packages from specific PackageDBs, not cumulative.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_278_1_278_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_1_278_22&#39;)"><span class="mpre">getInstalledPackages&#39;</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">
                      -&gt; [</span><a href="Distribution.Simple.Compiler.html#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_6_112_15&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDB</span></span></a><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">ProgramConfiguration</span></span><span class="mpre">
                      -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> [(</span><a href="Distribution.Simple.Compiler.html#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_6_112_15&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDB</span></span></a><span class="mpre">, [</span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre">])]
</span><a name="loc_278_1_278_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_1_278_22&#39;)"><span class="hl_fundecl"><span class="mpre">getInstalledPackages&#39;</span></span></a><span class="mpre"> </span><a name="loc_278_23_278_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_23_278_29&#39;)"><span class="hl_vardecl"><span class="mpre">lhcPkg</span></span></a><span class="mpre"> </span><a name="loc_278_30_278_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_30_278_39&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_278_40_278_50" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_40_278_50&#39;)"><span class="hl_vardecl"><span class="mpre">packagedbs</span></span></a><span class="mpre"> </span><a name="loc_278_51_278_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_51_278_55&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre">
  =
  </span><span class="hl_varref"><span class="mpre">sequence</span></span><span class="mpre">
    [ do </span><a name="loc_281_10_281_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_10_281_13&#39;)"><span class="hl_vardecl"><span class="mpre">str</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.Simple.Program.html#loc_209_1_209_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_209_1_209_27&#39;)"><span class="hl_varref"><span class="mpre">rawSystemProgramStdoutConf</span></span></a><span class="mpre"> </span><a href="#loc_278_30_278_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_30_278_39&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_117_1_117_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_117_1_117_14&#39;)"><span class="hl_varref"><span class="mpre">lhcPkgProgram</span></span></a><span class="mpre"> </span><a href="#loc_278_51_278_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_51_278_55&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">
                  [</span><span class="hl_string"><span class="mpre">&quot;dump&quot;</span></span><span class="mpre">, </span><a href="#loc_305_5_305_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_5_305_24&#39;)"><span class="hl_varref"><span class="mpre">packageDbGhcPkgFlag</span></span></a><span class="mpre"> </span><a href="#loc_287_7_287_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_287_7_287_16&#39;)"><span class="hl_varref"><span class="mpre">packagedb</span></span></a><span class="mpre">]
           </span><a href="Distribution.Compat.Exception.html#loc_17_1_17_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compat.Exception.html#loc_17_1_17_10&#39;)"><span class="hl_infix"><span class="mpre">`catchExit`</span></span></a><span class="mpre"> \_ -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;ghc-pkg dump failed&quot;</span></span><span class="mpre">
         case </span><a href="#loc_290_5_290_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_5_290_18&#39;)"><span class="hl_varref"><span class="mpre">parsePackages</span></span></a><span class="mpre"> </span><a href="#loc_281_10_281_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_10_281_13&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre"> of
           </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_285_17_285_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_17_285_19&#39;)"><span class="hl_vardecl"><span class="mpre">ok</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_287_7_287_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_287_7_287_16&#39;)"><span class="hl_varref"><span class="mpre">packagedb</span></span></a><span class="mpre">, </span><a href="#loc_285_17_285_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_17_285_19&#39;)"><span class="hl_varref"><span class="mpre">ok</span></span></a><span class="mpre">)
           _       -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;failed to parse output of &#39;ghc-pkg dump&#39;&quot;</span></span><span class="mpre">
    | </span><a name="loc_287_7_287_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_287_7_287_16&#39;)"><span class="hl_vardecl"><span class="mpre">packagedb</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_278_40_278_50" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_40_278_50&#39;)"><span class="hl_varref"><span class="mpre">packagedbs</span></span></a><span class="mpre"> ]

  where
    </span><a name="loc_290_5_290_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_5_290_18&#39;)"><span class="hl_fundecl"><span class="mpre">parsePackages</span></span></a><span class="mpre"> </span><a name="loc_290_19_290_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_19_290_22&#39;)"><span class="hl_vardecl"><span class="mpre">str</span></span></a><span class="mpre"> =
      let </span><a name="loc_291_11_291_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_11_291_17&#39;)"><span class="hl_vardecl"><span class="mpre">parsed</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="Distribution.InstalledPackageInfo.html#loc_178_1_178_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_178_1_178_26&#39;)"><span class="hl_varref"><span class="mpre">parseInstalledPackageInfo</span></span></a><span class="mpre"> (</span><a href="#loc_297_5_297_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_5_297_14&#39;)"><span class="hl_varref"><span class="mpre">splitPkgs</span></span></a><span class="mpre"> </span><a href="#loc_290_19_290_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_19_290_22&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">)
       in case [ </span><a href="#loc_292_36_292_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_36_292_39&#39;)"><span class="hl_varref"><span class="mpre">msg</span></span></a><span class="mpre"> | </span><a href="Distribution.ParseUtils.html#loc_116_22_116_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ParseUtils.html#loc_116_22_116_33&#39;)"><span class="hl_conref"><span class="mpre">ParseFailed</span></span></a><span class="mpre"> </span><a name="loc_292_36_292_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_36_292_39&#39;)"><span class="hl_vardecl"><span class="mpre">msg</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_291_11_291_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_11_291_17&#39;)"><span class="hl_varref"><span class="mpre">parsed</span></span></a><span class="mpre"> ] of
            []   -&gt; </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> [ </span><a href="#loc_293_44_293_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_293_44_293_47&#39;)"><span class="hl_varref"><span class="mpre">pkg</span></span></a><span class="mpre"> | </span><a href="Distribution.ParseUtils.html#loc_116_43_116_50" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ParseUtils.html#loc_116_43_116_50&#39;)"><span class="hl_conref"><span class="mpre">ParseOk</span></span></a><span class="mpre"> _ </span><a name="loc_293_44_293_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_293_44_293_47&#39;)"><span class="hl_vardecl"><span class="mpre">pkg</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_291_11_291_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_11_291_17&#39;)"><span class="hl_varref"><span class="mpre">parsed</span></span></a><span class="mpre"> ]
            </span><a name="loc_294_13_294_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_13_294_17&#39;)"><span class="hl_vardecl"><span class="mpre">msgs</span></span></a><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a href="#loc_294_13_294_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_13_294_17&#39;)"><span class="hl_varref"><span class="mpre">msgs</span></span></a><span class="mpre">

    </span><a href="#loc_297_5_297_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_5_297_14&#39;)"><span class="mpre">splitPkgs</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
    </span><a name="loc_297_5_297_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_5_297_14&#39;)"><span class="hl_vardecl"><span class="mpre">splitPkgs</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="Data.List.html#loc_1060_1_1060_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_1060_1_1060_8&#39;)"><span class="hl_varref"><span class="mpre">unlines</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_300_9_300_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_9_300_18&#39;)"><span class="hl_varref"><span class="mpre">splitWith</span></span></a><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;---&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.List.html#loc_1044_1_1044_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_1044_1_1044_6&#39;)"><span class="hl_varref"><span class="mpre">lines</span></span></a><span class="mpre">
      where
        </span><a href="#loc_300_9_300_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_9_300_18&#39;)"><span class="mpre">splitWith</span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">] -&gt; [[</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">]]
        </span><a name="loc_300_9_300_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_9_300_18&#39;)"><span class="hl_fundecl"><span class="mpre">splitWith</span></span></a><span class="mpre"> </span><a name="loc_300_19_300_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_19_300_20&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a name="loc_300_21_300_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_21_300_23&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> = </span><a href="#loc_303_18_303_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_18_303_20&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> case </span><a href="#loc_303_21_303_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_21_303_23&#39;)"><span class="hl_varref"><span class="mpre">zs</span></span></a><span class="mpre"> of
                           []   -&gt; []
                           _</span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_302_30_302_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_30_302_32&#39;)"><span class="hl_vardecl"><span class="mpre">ws</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_300_9_300_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_9_300_18&#39;)"><span class="hl_varref"><span class="mpre">splitWith</span></span></a><span class="mpre"> </span><a href="#loc_300_19_300_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_19_300_20&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_302_30_302_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_30_302_32&#39;)"><span class="hl_varref"><span class="mpre">ws</span></span></a><span class="mpre">
          where (</span><a name="loc_303_18_303_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_18_303_20&#39;)"><span class="hl_vardecl"><span class="mpre">ys</span></span></a><span class="mpre">,</span><a name="loc_303_21_303_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_21_303_23&#39;)"><span class="hl_vardecl"><span class="mpre">zs</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">break</span></span><span class="mpre"> </span><a href="#loc_300_19_300_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_19_300_20&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_300_21_300_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_21_300_23&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">

    </span><a name="loc_305_5_305_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_5_305_24&#39;)"><span class="hl_fundecl"><span class="mpre">packageDbGhcPkgFlag</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Compiler.html#loc_112_18_112_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_18_112_33&#39;)"><span class="hl_conref"><span class="mpre">GlobalPackageDB</span></span></a><span class="mpre">          = </span><span class="hl_string"><span class="mpre">&quot;--global&quot;</span></span><span class="mpre">
    </span><a href="#loc_305_5_305_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_5_305_24&#39;)"><span class="hl_fundecl"><span class="mpre">packageDbGhcPkgFlag</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Compiler.html#loc_113_18_113_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_113_18_113_31&#39;)"><span class="hl_conref"><span class="mpre">UserPackageDB</span></span></a><span class="mpre">            = </span><span class="hl_string"><span class="mpre">&quot;--user&quot;</span></span><span class="mpre">
    </span><a href="#loc_305_5_305_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_5_305_24&#39;)"><span class="hl_fundecl"><span class="mpre">packageDbGhcPkgFlag</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.Compiler.html#loc_114_18_114_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_114_18_114_35&#39;)"><span class="hl_conref"><span class="mpre">SpecificPackageDB</span></span></a><span class="mpre"> </span><a name="loc_307_44_307_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_44_307_48&#39;)"><span class="hl_vardecl"><span class="mpre">path</span></span></a><span class="mpre">) = </span><span class="hl_string"><span class="mpre">&quot;--&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_309_5_309_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_5_309_18&#39;)"><span class="hl_varref"><span class="mpre">packageDbFlag</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;=&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_307_44_307_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_44_307_48&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre">

    </span><a name="loc_309_5_309_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_5_309_18&#39;)"><span class="hl_vardecl"><span class="mpre">packageDbFlag</span></span></a><span class="mpre">
      | </span><span class="hl_varref"><span class="mpre">programVersion</span></span><span class="mpre"> </span><a href="#loc_278_23_278_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_23_278_29&#39;)"><span class="hl_varref"><span class="mpre">lhcPkg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Version</span></span><span class="mpre"> [</span><span class="hl_num"><span class="mpre">7</span></span><span class="mpre">,</span><span class="hl_num"><span class="mpre">5</span></span><span class="mpre">] [])
      = </span><span class="hl_string"><span class="mpre">&quot;package-conf&quot;</span></span><span class="mpre">
      | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">
      = </span><span class="hl_string"><span class="mpre">&quot;package-db&quot;</span></span><span class="mpre">


</span><a href="#loc_317_1_317_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_317_1_317_12&#39;)"><span class="mpre">substTopDir</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre">
</span><a name="loc_317_1_317_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_317_1_317_12&#39;)"><span class="hl_fundecl"><span class="mpre">substTopDir</span></span></a><span class="mpre"> </span><a name="loc_317_13_317_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_317_13_317_19&#39;)"><span class="hl_vardecl"><span class="mpre">topDir</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">ipo</span></span><span class="mpre">
 = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 318, srcSpanStartColumn = 4, srcSpanEndLine = 331, srcSpanEndColumn = 5}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 318, srcSpanStartColumn = 8, srcSpanEndLine = 318, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.h"><span class="mpre">ipo {
       InstalledPackageInfo.importDirs
           = map f (InstalledPackageInfo.importDirs ipo),
       InstalledPackageInfo.libraryDirs
           = map f (InstalledPackageInfo.libraryDirs ipo),
       InstalledPackageInfo.includeDirs
           = map f (InstalledPackageInfo.includeDirs ipo),
       InstalledPackageInfo.frameworkDirs
           = map f (InstalledPackageInfo.frameworkDirs ipo),
       InstalledPackageInfo.haddockInterfaces
           = map f (InstalledPackageInfo.haddockInterfaces ipo),
       InstalledPackageInfo.haddockHTMLs
           = map f (InstalledPackageInfo.haddockHTMLs ipo)
   }</span></span><span class="mpre">
    where </span><a name="loc_332_11_332_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_332_11_332_12&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><span class="hl_char"><span class="mpre">&#39;$&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><span class="hl_char"><span class="mpre">&#39;t&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><span class="hl_char"><span class="mpre">&#39;o&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><span class="hl_char"><span class="mpre">&#39;p&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><span class="hl_char"><span class="mpre">&#39;d&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><span class="hl_char"><span class="mpre">&#39;i&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><span class="hl_char"><span class="mpre">&#39;r&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_332_42_332_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_332_42_332_46&#39;)"><span class="hl_vardecl"><span class="mpre">rest</span></span></a><span class="mpre">) = </span><a href="#loc_317_13_317_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_317_13_317_19&#39;)"><span class="hl_varref"><span class="mpre">topDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_332_42_332_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_332_42_332_46&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre">
          </span><a href="#loc_332_11_332_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_332_11_332_12&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_333_13_333_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_333_13_333_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_333_13_333_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_333_13_333_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- -----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Building</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Build a library with LHC.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_342_1_342_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_1_342_9&#39;)"><span class="mpre">buildLib</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre">
                      -&gt; </span><a href="Distribution.PackageDescription.html#loc_299_6_299_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_299_6_299_13&#39;)"><span class="hl_tyconref"><span class="mpre">Library</span></span></a><span class="mpre">            -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29&#39;)"><span class="hl_tyconref"><span class="mpre">ComponentLocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_342_1_342_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_1_342_9&#39;)"><span class="hl_fundecl"><span class="mpre">buildLib</span></span></a><span class="mpre"> </span><a name="loc_342_10_342_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_10_342_19&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_342_20_342_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_20_342_29&#39;)"><span class="hl_vardecl"><span class="mpre">pkg_descr</span></span></a><span class="mpre"> </span><a name="loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_342_34_342_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_34_342_37&#39;)"><span class="hl_vardecl"><span class="mpre">lib</span></span></a><span class="mpre"> </span><a name="loc_342_38_342_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_38_342_42&#39;)"><span class="hl_vardecl"><span class="mpre">clbi</span></span></a><span class="mpre"> = do
  </span><a name="loc_343_3_343_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_3_343_10&#39;)"><span class="hl_vardecl"><span class="mpre">libName</span></span></a><span class="mpre"> &lt;- case </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_210_5_210_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_210_5_210_23&#39;)"><span class="hl_varref"><span class="mpre">componentLibraries</span></span></a><span class="mpre"> </span><a href="#loc_342_38_342_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_38_342_42&#39;)"><span class="hl_varref"><span class="mpre">clbi</span></span></a><span class="mpre"> of
             [</span><a name="loc_344_15_344_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_344_15_344_22&#39;)"><span class="hl_vardecl"><span class="mpre">libName</span></span></a><span class="mpre">] -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_344_15_344_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_344_15_344_22&#39;)"><span class="hl_varref"><span class="mpre">libName</span></span></a><span class="mpre">
             [] -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;No library name found when building library&quot;</span></span><span class="mpre">
             _  -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Multiple library names found when building library&quot;</span></span><span class="mpre">

  let </span><a name="loc_348_7_348_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_7_348_11&#39;)"><span class="hl_vardecl"><span class="mpre">pref</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17&#39;)"><span class="hl_varref"><span class="mpre">buildDir</span></span></a><span class="mpre"> </span><a href="#loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
      </span><a name="loc_349_7_349_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_349_7_349_12&#39;)"><span class="hl_vardecl"><span class="mpre">pkgid</span></span></a><span class="mpre"> = </span><a href="Distribution.Package.html#loc_184_3_184_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_184_3_184_12&#39;)"><span class="hl_varref"><span class="mpre">packageId</span></span></a><span class="mpre"> </span><a href="#loc_342_20_342_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_20_342_29&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre">
      </span><a name="loc_350_7_350_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_7_350_17&#39;)"><span class="hl_vardecl"><span class="mpre">runGhcProg</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Program.html#loc_205_1_205_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_205_1_205_21&#39;)"><span class="hl_varref"><span class="mpre">rawSystemProgramConf</span></span></a><span class="mpre"> </span><a href="#loc_342_10_342_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_10_342_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_112_1_112_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_112_1_112_11&#39;)"><span class="hl_varref"><span class="mpre">lhcProgram</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21&#39;)"><span class="hl_varref"><span class="mpre">withPrograms</span></span></a><span class="mpre"> </span><a href="#loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)
      </span><a name="loc_351_7_351_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_7_351_19&#39;)"><span class="hl_fundecl"><span class="mpre">ifVanillaLib</span></span></a><span class="mpre"> </span><a name="loc_351_20_351_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_20_351_32&#39;)"><span class="hl_vardecl"><span class="mpre">forceVanilla</span></span></a><span class="mpre"> = </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> (</span><a href="#loc_351_20_351_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_20_351_32&#39;)"><span class="hl_varref"><span class="mpre">forceVanilla</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">||</span></span><span class="mpre"> </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_149_9_149_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_149_9_149_23&#39;)"><span class="hl_varref"><span class="mpre">withVanillaLib</span></span></a><span class="mpre"> </span><a href="#loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)
      </span><a name="loc_352_7_352_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_352_7_352_16&#39;)"><span class="hl_vardecl"><span class="mpre">ifProfLib</span></span></a><span class="mpre"> = </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_150_9_150_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_150_9_150_20&#39;)"><span class="hl_varref"><span class="mpre">withProfLib</span></span></a><span class="mpre"> </span><a href="#loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)
      </span><a name="loc_353_7_353_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_7_353_18&#39;)"><span class="hl_vardecl"><span class="mpre">ifSharedLib</span></span></a><span class="mpre"> = </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_151_9_151_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_151_9_151_22&#39;)"><span class="hl_varref"><span class="mpre">withSharedLib</span></span></a><span class="mpre"> </span><a href="#loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)
      </span><a name="loc_354_7_354_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_7_354_16&#39;)"><span class="hl_vardecl"><span class="mpre">ifGHCiLib</span></span></a><span class="mpre"> = </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_155_9_155_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_155_9_155_20&#39;)"><span class="hl_varref"><span class="mpre">withGHCiLib</span></span></a><span class="mpre"> </span><a href="#loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_149_9_149_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_149_9_149_23&#39;)"><span class="hl_varref"><span class="mpre">withVanillaLib</span></span></a><span class="mpre"> </span><a href="#loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)

  </span><a name="loc_356_3_356_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_3_356_8&#39;)"><span class="hl_vardecl"><span class="mpre">libBi</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_576_1_576_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_1_576_17&#39;)"><span class="hl_varref"><span class="mpre">hackThreadedFlag</span></span></a><span class="mpre"> </span><a href="#loc_342_10_342_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_10_342_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
             (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> </span><a href="#loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_150_9_150_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_150_9_150_20&#39;)"><span class="hl_varref"><span class="mpre">withProfLib</span></span></a><span class="mpre"> </span><a href="#loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) (</span><a href="Distribution.PackageDescription.html#loc_302_9_302_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_302_9_302_21&#39;)"><span class="hl_varref"><span class="mpre">libBuildInfo</span></span></a><span class="mpre"> </span><a href="#loc_342_34_342_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_34_342_37&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre">)

  let </span><a name="loc_359_7_359_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_359_7_359_19&#39;)"><span class="hl_vardecl"><span class="mpre">libTargetDir</span></span></a><span class="mpre"> = </span><a href="#loc_348_7_348_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_7_348_11&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre">
      </span><a name="loc_360_7_360_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_360_7_360_22&#39;)"><span class="hl_vardecl"><span class="mpre">forceVanillaLib</span></span></a><span class="mpre"> = </span><a href="Language.Haskell.Extension.html#loc_120_5_120_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_120_5_120_20&#39;)"><span class="hl_conref"><span class="mpre">EnableExtension</span></span></a><span class="mpre"> </span><a href="Language.Haskell.Extension.html#loc_272_5_272_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_272_5_272_20&#39;)"><span class="hl_conref"><span class="mpre">TemplateHaskell</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`elem`</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_762_1_762_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_762_1_762_14&#39;)"><span class="hl_varref"><span class="mpre">allExtensions</span></span></a><span class="mpre"> </span><a href="#loc_356_3_356_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_3_356_8&#39;)"><span class="hl_varref"><span class="mpre">libBi</span></span></a><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- TH always needs vanilla libs, even when building for profiling</span></span><span class="mpre">

  </span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="hl_varref"><span class="mpre">createDirectoryIfMissingVerbose</span></span></a><span class="mpre"> </span><a href="#loc_342_10_342_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_10_342_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> </span><a href="#loc_359_7_359_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_359_7_359_19&#39;)"><span class="hl_varref"><span class="mpre">libTargetDir</span></span></a><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- TODO: do we need to put hs-boot files into place for mutually recurive modules?</span></span><span class="mpre">
  let </span><a name="loc_365_7_365_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_7_365_14&#39;)"><span class="hl_vardecl"><span class="mpre">ghcArgs</span></span></a><span class="mpre"> =
             [</span><span class="hl_string"><span class="mpre">&quot;-package-name&quot;</span></span><span class="mpre">, </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><a href="#loc_349_7_349_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_349_7_349_12&#39;)"><span class="hl_varref"><span class="mpre">pkgid</span></span></a><span class="mpre"> ]
          </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_615_1_615_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_615_1_615_20&#39;)"><span class="hl_varref"><span class="mpre">constructGHCCmdLine</span></span></a><span class="mpre"> </span><a href="#loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a href="#loc_356_3_356_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_3_356_8&#39;)"><span class="hl_varref"><span class="mpre">libBi</span></span></a><span class="mpre"> </span><a href="#loc_342_38_342_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_38_342_42&#39;)"><span class="hl_varref"><span class="mpre">clbi</span></span></a><span class="mpre"> </span><a href="#loc_359_7_359_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_359_7_359_19&#39;)"><span class="hl_varref"><span class="mpre">libTargetDir</span></span></a><span class="mpre"> </span><a href="#loc_342_10_342_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_10_342_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
          </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_341_1_341_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_341_1_341_11&#39;)"><span class="hl_varref"><span class="mpre">libModules</span></span></a><span class="mpre"> </span><a href="#loc_342_34_342_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_34_342_37&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre">)
      </span><a name="loc_369_7_369_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_7_369_14&#39;)"><span class="hl_fundecl"><span class="mpre">lhcWrap</span></span></a><span class="mpre"> </span><a name="loc_369_15_369_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_15_369_16&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = [</span><span class="hl_string"><span class="mpre">&quot;--build-library&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;--ghc-opts=&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Data.List.html#loc_1081_1_1081_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_1081_1_1081_8&#39;)"><span class="hl_varref"><span class="mpre">unwords</span></span></a><span class="mpre"> </span><a href="#loc_369_15_369_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_15_369_16&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">]
      </span><a name="loc_370_7_370_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_7_370_18&#39;)"><span class="hl_vardecl"><span class="mpre">ghcArgsProf</span></span></a><span class="mpre"> = </span><a href="#loc_365_7_365_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_7_365_14&#39;)"><span class="hl_varref"><span class="mpre">ghcArgs</span></span></a><span class="mpre">
          </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-prof&quot;</span></span><span class="mpre">,
              </span><span class="hl_string"><span class="mpre">&quot;-hisuf&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;p_hi&quot;</span></span><span class="mpre">,
              </span><span class="hl_string"><span class="mpre">&quot;-osuf&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;p_o&quot;</span></span><span class="mpre">
             ]
          </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_660_9_660_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_660_9_660_23&#39;)"><span class="hl_varref"><span class="mpre">ghcProfOptions</span></span></a><span class="mpre"> </span><a href="#loc_356_3_356_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_3_356_8&#39;)"><span class="hl_varref"><span class="mpre">libBi</span></span></a><span class="mpre">
      </span><a name="loc_376_7_376_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_7_376_20&#39;)"><span class="hl_vardecl"><span class="mpre">ghcArgsShared</span></span></a><span class="mpre"> = </span><a href="#loc_365_7_365_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_7_365_14&#39;)"><span class="hl_varref"><span class="mpre">ghcArgs</span></span></a><span class="mpre">
          </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-dynamic&quot;</span></span><span class="mpre">,
              </span><span class="hl_string"><span class="mpre">&quot;-hisuf&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;dyn_hi&quot;</span></span><span class="mpre">,
              </span><span class="hl_string"><span class="mpre">&quot;-osuf&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;dyn_o&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;-fPIC&quot;</span></span><span class="mpre">
             ]
          </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_661_9_661_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_661_9_661_25&#39;)"><span class="hl_varref"><span class="mpre">ghcSharedOptions</span></span></a><span class="mpre"> </span><a href="#loc_356_3_356_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_3_356_8&#39;)"><span class="hl_varref"><span class="mpre">libBi</span></span></a><span class="mpre">
  </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_341_1_341_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_341_1_341_11&#39;)"><span class="hl_varref"><span class="mpre">libModules</span></span></a><span class="mpre"> </span><a href="#loc_342_34_342_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_34_342_37&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre">)) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
    do </span><a href="#loc_351_7_351_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_7_351_19&#39;)"><span class="hl_varref"><span class="mpre">ifVanillaLib</span></span></a><span class="mpre"> </span><a href="#loc_360_7_360_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_360_7_360_22&#39;)"><span class="hl_varref"><span class="mpre">forceVanillaLib</span></span></a><span class="mpre"> (</span><a href="#loc_350_7_350_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_7_350_17&#39;)"><span class="hl_varref"><span class="mpre">runGhcProg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_369_7_369_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_7_369_14&#39;)"><span class="hl_varref"><span class="mpre">lhcWrap</span></span></a><span class="mpre"> </span><a href="#loc_365_7_365_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_365_7_365_14&#39;)"><span class="hl_varref"><span class="mpre">ghcArgs</span></span></a><span class="mpre">)
       </span><a href="#loc_352_7_352_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_352_7_352_16&#39;)"><span class="hl_varref"><span class="mpre">ifProfLib</span></span></a><span class="mpre"> (</span><a href="#loc_350_7_350_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_7_350_17&#39;)"><span class="hl_varref"><span class="mpre">runGhcProg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_369_7_369_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_7_369_14&#39;)"><span class="hl_varref"><span class="mpre">lhcWrap</span></span></a><span class="mpre"> </span><a href="#loc_370_7_370_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_7_370_18&#39;)"><span class="hl_varref"><span class="mpre">ghcArgsProf</span></span></a><span class="mpre">)
       </span><a href="#loc_353_7_353_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_7_353_18&#39;)"><span class="hl_varref"><span class="mpre">ifSharedLib</span></span></a><span class="mpre"> (</span><a href="#loc_350_7_350_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_7_350_17&#39;)"><span class="hl_varref"><span class="mpre">runGhcProg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_369_7_369_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_7_369_14&#39;)"><span class="hl_varref"><span class="mpre">lhcWrap</span></span></a><span class="mpre"> </span><a href="#loc_376_7_376_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_7_376_20&#39;)"><span class="hl_varref"><span class="mpre">ghcArgsShared</span></span></a><span class="mpre">)

  </span><span class="hl_comment"><span class="mpre">-- build any C sources</span></span><span class="mpre">
  </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_644_9_644_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_644_9_644_17&#39;)"><span class="hl_varref"><span class="mpre">cSources</span></span></a><span class="mpre"> </span><a href="#loc_356_3_356_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_3_356_8&#39;)"><span class="hl_varref"><span class="mpre">libBi</span></span></a><span class="mpre">)) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
     </span><a href="Distribution.Simple.Utils.html#loc_305_1_305_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_305_1_305_5&#39;)"><span class="hl_varref"><span class="mpre">info</span></span></a><span class="mpre"> </span><a href="#loc_342_10_342_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_10_342_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Building C Sources...&quot;</span></span><span class="mpre">
     </span><span class="hl_varref"><span class="mpre">sequence_</span></span><span class="mpre"> [do let (</span><a name="loc_390_25_390_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_390_25_390_29&#39;)"><span class="hl_vardecl"><span class="mpre">odir</span></span></a><span class="mpre">,</span><a name="loc_390_30_390_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_390_30_390_34&#39;)"><span class="hl_vardecl"><span class="mpre">args</span></span></a><span class="mpre">) = </span><a href="#loc_687_1_687_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_687_1_687_19&#39;)"><span class="hl_varref"><span class="mpre">constructCcCmdLine</span></span></a><span class="mpre"> </span><a href="#loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a href="#loc_356_3_356_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_3_356_8&#39;)"><span class="hl_varref"><span class="mpre">libBi</span></span></a><span class="mpre"> </span><a href="#loc_342_38_342_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_38_342_42&#39;)"><span class="hl_varref"><span class="mpre">clbi</span></span></a><span class="mpre"> </span><a href="#loc_348_7_348_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_7_348_11&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre">
                                                        </span><a href="#loc_395_18_395_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_18_395_26&#39;)"><span class="hl_varref"><span class="mpre">filename</span></span></a><span class="mpre"> </span><a href="#loc_342_10_342_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_10_342_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
                   </span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="hl_varref"><span class="mpre">createDirectoryIfMissingVerbose</span></span></a><span class="mpre"> </span><a href="#loc_342_10_342_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_10_342_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> </span><a href="#loc_390_25_390_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_390_25_390_29&#39;)"><span class="hl_varref"><span class="mpre">odir</span></span></a><span class="mpre">
                   </span><a href="#loc_350_7_350_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_7_350_17&#39;)"><span class="hl_varref"><span class="mpre">runGhcProg</span></span></a><span class="mpre"> </span><a href="#loc_390_30_390_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_390_30_390_34&#39;)"><span class="hl_varref"><span class="mpre">args</span></span></a><span class="mpre">
                   </span><a href="#loc_353_7_353_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_7_353_18&#39;)"><span class="hl_varref"><span class="mpre">ifSharedLib</span></span></a><span class="mpre"> (</span><a href="#loc_350_7_350_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_7_350_17&#39;)"><span class="hl_varref"><span class="mpre">runGhcProg</span></span></a><span class="mpre"> (</span><a href="#loc_390_30_390_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_390_30_390_34&#39;)"><span class="hl_varref"><span class="mpre">args</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-fPIC&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;-osuf dyn_o&quot;</span></span><span class="mpre">]))
               | </span><a name="loc_395_18_395_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_18_395_26&#39;)"><span class="hl_vardecl"><span class="mpre">filename</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_644_9_644_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_644_9_644_17&#39;)"><span class="hl_varref"><span class="mpre">cSources</span></span></a><span class="mpre"> </span><a href="#loc_356_3_356_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_3_356_8&#39;)"><span class="hl_varref"><span class="mpre">libBi</span></span></a><span class="mpre">]

  </span><span class="hl_comment"><span class="mpre">-- link:</span></span><span class="mpre">
  </span><a href="Distribution.Simple.Utils.html#loc_305_1_305_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_305_1_305_5&#39;)"><span class="hl_varref"><span class="mpre">info</span></span></a><span class="mpre"> </span><a href="#loc_342_10_342_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_10_342_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Linking...&quot;</span></span><span class="mpre">
  let </span><a name="loc_399_7_399_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_7_399_12&#39;)"><span class="hl_vardecl"><span class="mpre">cObjs</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">`replaceExtension`</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_143_1_143_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_143_1_143_13&#39;)"><span class="hl_varref"><span class="mpre">objExtension</span></span></a><span class="mpre">) (</span><a href="Distribution.PackageDescription.html#loc_644_9_644_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_644_9_644_17&#39;)"><span class="hl_varref"><span class="mpre">cSources</span></span></a><span class="mpre"> </span><a href="#loc_356_3_356_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_3_356_8&#39;)"><span class="hl_varref"><span class="mpre">libBi</span></span></a><span class="mpre">)
      </span><a name="loc_400_7_400_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_400_7_400_18&#39;)"><span class="hl_vardecl"><span class="mpre">cSharedObjs</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">`replaceExtension`</span></span><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;dyn_&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_143_1_143_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_143_1_143_13&#39;)"><span class="hl_varref"><span class="mpre">objExtension</span></span></a><span class="mpre">)) (</span><a href="Distribution.PackageDescription.html#loc_644_9_644_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_644_9_644_17&#39;)"><span class="hl_varref"><span class="mpre">cSources</span></span></a><span class="mpre"> </span><a href="#loc_356_3_356_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_3_356_8&#39;)"><span class="hl_varref"><span class="mpre">libBi</span></span></a><span class="mpre">)
      </span><a name="loc_401_7_401_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_401_7_401_10&#39;)"><span class="hl_vardecl"><span class="mpre">cid</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Compiler.html#loc_86_9_86_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_86_9_86_19&#39;)"><span class="hl_varref"><span class="mpre">compilerId</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> </span><a href="#loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)
      </span><a name="loc_402_7_402_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_402_7_402_25&#39;)"><span class="hl_vardecl"><span class="mpre">vanillaLibFilePath</span></span></a><span class="mpre"> = </span><a href="#loc_359_7_359_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_359_7_359_19&#39;)"><span class="hl_varref"><span class="mpre">libTargetDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_114_1_114_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_114_1_114_10&#39;)"><span class="hl_varref"><span class="mpre">mkLibName</span></span></a><span class="mpre">           </span><a href="#loc_343_3_343_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_3_343_10&#39;)"><span class="hl_varref"><span class="mpre">libName</span></span></a><span class="mpre">
      </span><a name="loc_403_7_403_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_7_403_25&#39;)"><span class="hl_vardecl"><span class="mpre">profileLibFilePath</span></span></a><span class="mpre"> = </span><a href="#loc_359_7_359_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_359_7_359_19&#39;)"><span class="hl_varref"><span class="mpre">libTargetDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_117_1_117_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_117_1_117_14&#39;)"><span class="hl_varref"><span class="mpre">mkProfLibName</span></span></a><span class="mpre">       </span><a href="#loc_343_3_343_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_3_343_10&#39;)"><span class="hl_varref"><span class="mpre">libName</span></span></a><span class="mpre">
      </span><a name="loc_404_7_404_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_7_404_24&#39;)"><span class="hl_vardecl"><span class="mpre">sharedLibFilePath</span></span></a><span class="mpre">  = </span><a href="#loc_359_7_359_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_359_7_359_19&#39;)"><span class="hl_varref"><span class="mpre">libTargetDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_123_1_123_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_123_1_123_16&#39;)"><span class="hl_varref"><span class="mpre">mkSharedLibName</span></span></a><span class="mpre"> </span><a href="#loc_401_7_401_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_401_7_401_10&#39;)"><span class="hl_varref"><span class="mpre">cid</span></span></a><span class="mpre"> </span><a href="#loc_343_3_343_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_3_343_10&#39;)"><span class="hl_varref"><span class="mpre">libName</span></span></a><span class="mpre">
      </span><a name="loc_405_7_405_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_405_7_405_22&#39;)"><span class="hl_vardecl"><span class="mpre">ghciLibFilePath</span></span></a><span class="mpre">    = </span><a href="#loc_359_7_359_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_359_7_359_19&#39;)"><span class="hl_varref"><span class="mpre">libTargetDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_712_1_712_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_712_1_712_14&#39;)"><span class="hl_varref"><span class="mpre">mkGHCiLibName</span></span></a><span class="mpre">       </span><a href="#loc_343_3_343_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_3_343_10&#39;)"><span class="hl_varref"><span class="mpre">libName</span></span></a><span class="mpre">

  </span><a name="loc_407_3_407_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_407_3_407_11&#39;)"><span class="hl_vardecl"><span class="mpre">stubObjs</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_115_1_115_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_115_1_115_10&#39;)"><span class="hl_varref"><span class="mpre">catMaybes</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">sequence</span></span><span class="mpre">
    [ </span><a href="Distribution.Simple.Utils.html#loc_660_1_660_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_660_1_660_22&#39;)"><span class="hl_varref"><span class="mpre">findFileWithExtension</span></span></a><span class="mpre"> [</span><a href="Distribution.Simple.BuildPaths.html#loc_143_1_143_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_143_1_143_13&#39;)"><span class="hl_varref"><span class="mpre">objExtension</span></span></a><span class="mpre">] [</span><a href="#loc_359_7_359_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_359_7_359_19&#39;)"><span class="hl_varref"><span class="mpre">libTargetDir</span></span></a><span class="mpre">]
        (</span><a href="Distribution.ModuleName.html#loc_133_1_133_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_133_1_133_11&#39;)"><span class="hl_varref"><span class="mpre">ModuleName.toFilePath</span></span></a><span class="mpre"> </span><a href="#loc_410_7_410_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_410_7_410_8&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="hl_string"><span class="mpre">&quot;_stub&quot;</span></span><span class="mpre">)
    | </span><a name="loc_410_7_410_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_410_7_410_8&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_341_1_341_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_341_1_341_11&#39;)"><span class="hl_varref"><span class="mpre">libModules</span></span></a><span class="mpre"> </span><a href="#loc_342_34_342_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_34_342_37&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre"> ]
  </span><a name="loc_411_3_411_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_411_3_411_15&#39;)"><span class="hl_vardecl"><span class="mpre">stubProfObjs</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_115_1_115_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_115_1_115_10&#39;)"><span class="hl_varref"><span class="mpre">catMaybes</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">sequence</span></span><span class="mpre">
    [ </span><a href="Distribution.Simple.Utils.html#loc_660_1_660_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_660_1_660_22&#39;)"><span class="hl_varref"><span class="mpre">findFileWithExtension</span></span></a><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;p_&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_143_1_143_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_143_1_143_13&#39;)"><span class="hl_varref"><span class="mpre">objExtension</span></span></a><span class="mpre">] [</span><a href="#loc_359_7_359_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_359_7_359_19&#39;)"><span class="hl_varref"><span class="mpre">libTargetDir</span></span></a><span class="mpre">]
        (</span><a href="Distribution.ModuleName.html#loc_133_1_133_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_133_1_133_11&#39;)"><span class="hl_varref"><span class="mpre">ModuleName.toFilePath</span></span></a><span class="mpre"> </span><a href="#loc_414_7_414_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_414_7_414_8&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="hl_string"><span class="mpre">&quot;_stub&quot;</span></span><span class="mpre">)
    | </span><a name="loc_414_7_414_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_414_7_414_8&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_341_1_341_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_341_1_341_11&#39;)"><span class="hl_varref"><span class="mpre">libModules</span></span></a><span class="mpre"> </span><a href="#loc_342_34_342_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_34_342_37&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre"> ]
  </span><a name="loc_415_3_415_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_415_3_415_17&#39;)"><span class="hl_vardecl"><span class="mpre">stubSharedObjs</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_115_1_115_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_115_1_115_10&#39;)"><span class="hl_varref"><span class="mpre">catMaybes</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">sequence</span></span><span class="mpre">
    [ </span><a href="Distribution.Simple.Utils.html#loc_660_1_660_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_660_1_660_22&#39;)"><span class="hl_varref"><span class="mpre">findFileWithExtension</span></span></a><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;dyn_&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_143_1_143_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_143_1_143_13&#39;)"><span class="hl_varref"><span class="mpre">objExtension</span></span></a><span class="mpre">] [</span><a href="#loc_359_7_359_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_359_7_359_19&#39;)"><span class="hl_varref"><span class="mpre">libTargetDir</span></span></a><span class="mpre">]
        (</span><a href="Distribution.ModuleName.html#loc_133_1_133_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_133_1_133_11&#39;)"><span class="hl_varref"><span class="mpre">ModuleName.toFilePath</span></span></a><span class="mpre"> </span><a href="#loc_418_7_418_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_7_418_8&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="hl_string"><span class="mpre">&quot;_stub&quot;</span></span><span class="mpre">)
    | </span><a name="loc_418_7_418_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_7_418_8&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_341_1_341_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_341_1_341_11&#39;)"><span class="hl_varref"><span class="mpre">libModules</span></span></a><span class="mpre"> </span><a href="#loc_342_34_342_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_34_342_37&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre"> ]

  </span><a name="loc_420_3_420_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_420_3_420_8&#39;)"><span class="hl_vardecl"><span class="mpre">hObjs</span></span></a><span class="mpre">     &lt;- </span><a href="#loc_593_1_593_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_1_593_18&#39;)"><span class="hl_varref"><span class="mpre">getHaskellObjects</span></span></a><span class="mpre"> </span><a href="#loc_342_34_342_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_34_342_37&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre"> </span><a href="#loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
                    </span><a href="#loc_348_7_348_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_7_348_11&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_143_1_143_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_143_1_143_13&#39;)"><span class="hl_varref"><span class="mpre">objExtension</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">
  </span><a name="loc_422_3_422_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_422_3_422_12&#39;)"><span class="hl_vardecl"><span class="mpre">hProfObjs</span></span></a><span class="mpre"> &lt;-
    if (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_150_9_150_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_150_9_150_20&#39;)"><span class="hl_varref"><span class="mpre">withProfLib</span></span></a><span class="mpre"> </span><a href="#loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)
            then </span><a href="#loc_593_1_593_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_1_593_18&#39;)"><span class="hl_varref"><span class="mpre">getHaskellObjects</span></span></a><span class="mpre"> </span><a href="#loc_342_34_342_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_34_342_37&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre"> </span><a href="#loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
                    </span><a href="#loc_348_7_348_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_7_348_11&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;p_&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_143_1_143_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_143_1_143_13&#39;)"><span class="hl_varref"><span class="mpre">objExtension</span></span></a><span class="mpre">) </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">
            else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> []
  </span><a name="loc_427_3_427_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_427_3_427_14&#39;)"><span class="hl_vardecl"><span class="mpre">hSharedObjs</span></span></a><span class="mpre"> &lt;-
    if (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_151_9_151_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_151_9_151_22&#39;)"><span class="hl_varref"><span class="mpre">withSharedLib</span></span></a><span class="mpre"> </span><a href="#loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)
            then </span><a href="#loc_593_1_593_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_1_593_18&#39;)"><span class="hl_varref"><span class="mpre">getHaskellObjects</span></span></a><span class="mpre"> </span><a href="#loc_342_34_342_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_34_342_37&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre"> </span><a href="#loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
                    </span><a href="#loc_348_7_348_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_7_348_11&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;dyn_&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_143_1_143_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_143_1_143_13&#39;)"><span class="hl_varref"><span class="mpre">objExtension</span></span></a><span class="mpre">) </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
            else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> []

  </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> </span><a href="#loc_420_3_420_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_420_3_420_8&#39;)"><span class="hl_varref"><span class="mpre">hObjs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> </span><a href="#loc_399_7_399_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_7_399_12&#39;)"><span class="hl_varref"><span class="mpre">cObjs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> </span><a href="#loc_407_3_407_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_407_3_407_11&#39;)"><span class="hl_varref"><span class="mpre">stubObjs</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
    </span><span class="hl_comment"><span class="mpre">-- first remove library files if they exists</span></span><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">sequence_</span></span><span class="mpre">
      [ </span><a href="System.Directory.html#loc_400_1_400_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_400_1_400_11&#39;)"><span class="hl_varref"><span class="mpre">removeFile</span></span></a><span class="mpre"> </span><a href="#loc_437_9_437_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_437_9_437_20&#39;)"><span class="hl_varref"><span class="mpre">libFilePath</span></span></a><span class="mpre"> </span><a href="Distribution.Compat.Exception.html#loc_14_1_14_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compat.Exception.html#loc_14_1_14_8&#39;)"><span class="hl_infix"><span class="mpre">`catchIO`</span></span></a><span class="mpre"> \_ -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
      | </span><a name="loc_437_9_437_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_437_9_437_20&#39;)"><span class="hl_vardecl"><span class="mpre">libFilePath</span></span></a><span class="mpre"> &lt;- [</span><a href="#loc_402_7_402_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_402_7_402_25&#39;)"><span class="hl_varref"><span class="mpre">vanillaLibFilePath</span></span></a><span class="mpre">, </span><a href="#loc_403_7_403_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_7_403_25&#39;)"><span class="hl_varref"><span class="mpre">profileLibFilePath</span></span></a><span class="mpre">
                       ,</span><a href="#loc_404_7_404_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_7_404_24&#39;)"><span class="hl_varref"><span class="mpre">sharedLibFilePath</span></span></a><span class="mpre">,  </span><a href="#loc_405_7_405_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_405_7_405_22&#39;)"><span class="hl_varref"><span class="mpre">ghciLibFilePath</span></span></a><span class="mpre">] ]

    let </span><a name="loc_440_9_440_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_440_9_440_20&#39;)"><span class="hl_vardecl"><span class="mpre">arVerbosity</span></span></a><span class="mpre"> | </span><a href="#loc_342_10_342_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_10_342_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="Distribution.Verbosity.html#loc_76_1_76_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_76_1_76_10&#39;)"><span class="hl_varref"><span class="mpre">deafening</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;v&quot;</span></span><span class="mpre">
                    | </span><a href="#loc_342_10_342_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_10_342_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="Distribution.Verbosity.html#loc_67_1_67_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_67_1_67_7&#39;)"><span class="hl_varref"><span class="mpre">normal</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">
                    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;c&quot;</span></span><span class="mpre">
        </span><a name="loc_443_9_443_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_443_9_443_15&#39;)"><span class="hl_vardecl"><span class="mpre">arArgs</span></span></a><span class="mpre"> = [</span><span class="hl_string"><span class="mpre">&quot;q&quot;</span></span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_440_9_440_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_440_9_440_20&#39;)"><span class="hl_varref"><span class="mpre">arVerbosity</span></span></a><span class="mpre">]
            </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><a href="#loc_402_7_402_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_402_7_402_25&#39;)"><span class="hl_varref"><span class="mpre">vanillaLibFilePath</span></span></a><span class="mpre">]
        </span><a name="loc_445_9_445_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_9_445_18&#39;)"><span class="hl_vardecl"><span class="mpre">arObjArgs</span></span></a><span class="mpre"> =
               </span><a href="#loc_420_3_420_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_420_3_420_8&#39;)"><span class="hl_varref"><span class="mpre">hObjs</span></span></a><span class="mpre">
            </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><a href="#loc_348_7_348_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_7_348_11&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre">) </span><a href="#loc_399_7_399_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_7_399_12&#39;)"><span class="hl_varref"><span class="mpre">cObjs</span></span></a><span class="mpre">
            </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_407_3_407_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_407_3_407_11&#39;)"><span class="hl_varref"><span class="mpre">stubObjs</span></span></a><span class="mpre">
        </span><a name="loc_449_9_449_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_449_9_449_19&#39;)"><span class="hl_vardecl"><span class="mpre">arProfArgs</span></span></a><span class="mpre"> = [</span><span class="hl_string"><span class="mpre">&quot;q&quot;</span></span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_440_9_440_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_440_9_440_20&#39;)"><span class="hl_varref"><span class="mpre">arVerbosity</span></span></a><span class="mpre">]
            </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><a href="#loc_403_7_403_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_7_403_25&#39;)"><span class="hl_varref"><span class="mpre">profileLibFilePath</span></span></a><span class="mpre">]
        </span><a name="loc_451_9_451_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_451_9_451_22&#39;)"><span class="hl_vardecl"><span class="mpre">arProfObjArgs</span></span></a><span class="mpre"> =
               </span><a href="#loc_422_3_422_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_422_3_422_12&#39;)"><span class="hl_varref"><span class="mpre">hProfObjs</span></span></a><span class="mpre">
            </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><a href="#loc_348_7_348_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_7_348_11&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre">) </span><a href="#loc_399_7_399_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_7_399_12&#39;)"><span class="hl_varref"><span class="mpre">cObjs</span></span></a><span class="mpre">
            </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_411_3_411_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_411_3_411_15&#39;)"><span class="hl_varref"><span class="mpre">stubProfObjs</span></span></a><span class="mpre">
        </span><a name="loc_455_9_455_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_455_9_455_15&#39;)"><span class="hl_vardecl"><span class="mpre">ldArgs</span></span></a><span class="mpre"> = [</span><span class="hl_string"><span class="mpre">&quot;-r&quot;</span></span><span class="mpre">]
            </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-o&quot;</span></span><span class="mpre">, </span><a href="#loc_405_7_405_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_405_7_405_22&#39;)"><span class="hl_varref"><span class="mpre">ghciLibFilePath</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;tmp&quot;</span></span><span class="mpre">]
        </span><a name="loc_457_9_457_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_457_9_457_18&#39;)"><span class="hl_vardecl"><span class="mpre">ldObjArgs</span></span></a><span class="mpre"> =
               </span><a href="#loc_420_3_420_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_420_3_420_8&#39;)"><span class="hl_varref"><span class="mpre">hObjs</span></span></a><span class="mpre">
            </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><a href="#loc_348_7_348_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_7_348_11&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre">) </span><a href="#loc_399_7_399_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_7_399_12&#39;)"><span class="hl_varref"><span class="mpre">cObjs</span></span></a><span class="mpre">
            </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_407_3_407_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_407_3_407_11&#39;)"><span class="hl_varref"><span class="mpre">stubObjs</span></span></a><span class="mpre">
        </span><a name="loc_461_9_461_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_461_9_461_25&#39;)"><span class="hl_vardecl"><span class="mpre">ghcSharedObjArgs</span></span></a><span class="mpre"> =
               </span><a href="#loc_427_3_427_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_427_3_427_14&#39;)"><span class="hl_varref"><span class="mpre">hSharedObjs</span></span></a><span class="mpre">
            </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><a href="#loc_348_7_348_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_7_348_11&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre">) </span><a href="#loc_400_7_400_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_400_7_400_18&#39;)"><span class="hl_varref"><span class="mpre">cSharedObjs</span></span></a><span class="mpre">
            </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_415_3_415_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_415_3_415_17&#39;)"><span class="hl_varref"><span class="mpre">stubSharedObjs</span></span></a><span class="mpre">
        </span><span class="hl_comment"><span class="mpre">-- After the relocation lib is created we invoke ghc -shared</span></span><span class="mpre">
        </span><span class="hl_comment"><span class="mpre">-- with the dependencies spelled out as -package arguments</span></span><span class="mpre">
        </span><span class="hl_comment"><span class="mpre">-- and ghc invokes the linker with the proper library paths</span></span><span class="mpre">
        </span><a name="loc_468_9_468_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_468_9_468_26&#39;)"><span class="hl_vardecl"><span class="mpre">ghcSharedLinkArgs</span></span></a><span class="mpre"> =
            [ </span><span class="hl_string"><span class="mpre">&quot;-no-auto-link-packages&quot;</span></span><span class="mpre">,
              </span><span class="hl_string"><span class="mpre">&quot;-shared&quot;</span></span><span class="mpre">,
              </span><span class="hl_string"><span class="mpre">&quot;-dynamic&quot;</span></span><span class="mpre">,
              </span><span class="hl_string"><span class="mpre">&quot;-o&quot;</span></span><span class="mpre">, </span><a href="#loc_404_7_404_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_7_404_24&#39;)"><span class="hl_varref"><span class="mpre">sharedLibFilePath</span></span></a><span class="mpre"> ]
            </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_461_9_461_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_461_9_461_25&#39;)"><span class="hl_varref"><span class="mpre">ghcSharedObjArgs</span></span></a><span class="mpre">
            </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-package-name&quot;</span></span><span class="mpre">, </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><a href="#loc_349_7_349_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_349_7_349_12&#39;)"><span class="hl_varref"><span class="mpre">pkgid</span></span></a><span class="mpre"> ]
            </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_657_1_657_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_657_1_657_16&#39;)"><span class="hl_varref"><span class="mpre">ghcPackageFlags</span></span></a><span class="mpre"> </span><a href="#loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a href="#loc_342_38_342_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_38_342_42&#39;)"><span class="hl_varref"><span class="mpre">clbi</span></span></a><span class="mpre">
            </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-l&quot;</span></span><span class="hl_infix"><span class="mpre">++</span></span><a href="#loc_476_34_476_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_34_476_42&#39;)"><span class="hl_varref"><span class="mpre">extraLib</span></span></a><span class="mpre"> | </span><a name="loc_476_34_476_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_34_476_42&#39;)"><span class="hl_vardecl"><span class="mpre">extraLib</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_654_9_654_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_654_9_654_18&#39;)"><span class="hl_varref"><span class="mpre">extraLibs</span></span></a><span class="mpre"> </span><a href="#loc_356_3_356_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_3_356_8&#39;)"><span class="hl_varref"><span class="mpre">libBi</span></span></a><span class="mpre">]
            </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-L&quot;</span></span><span class="hl_infix"><span class="mpre">++</span></span><a href="#loc_477_37_477_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_477_37_477_48&#39;)"><span class="hl_varref"><span class="mpre">extraLibDir</span></span></a><span class="mpre"> | </span><a name="loc_477_37_477_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_477_37_477_48&#39;)"><span class="hl_vardecl"><span class="mpre">extraLibDir</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_655_9_655_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_655_9_655_21&#39;)"><span class="hl_varref"><span class="mpre">extraLibDirs</span></span></a><span class="mpre"> </span><a href="#loc_356_3_356_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_3_356_8&#39;)"><span class="hl_varref"><span class="mpre">libBi</span></span></a><span class="mpre">]

        </span><a name="loc_479_9_479_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_9_479_14&#39;)"><span class="hl_fundecl"><span class="mpre">runLd</span></span></a><span class="mpre"> </span><a name="loc_479_15_479_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_15_479_24&#39;)"><span class="hl_vardecl"><span class="mpre">ldLibName</span></span></a><span class="mpre"> </span><a name="loc_479_25_479_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_25_479_29&#39;)"><span class="hl_vardecl"><span class="mpre">args</span></span></a><span class="mpre"> = do
          </span><a name="loc_480_11_480_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_480_11_480_17&#39;)"><span class="hl_vardecl"><span class="mpre">exists</span></span></a><span class="mpre"> &lt;- </span><a href="System.Directory.html#loc_726_1_726_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_726_1_726_14&#39;)"><span class="hl_varref"><span class="mpre">doesFileExist</span></span></a><span class="mpre"> </span><a href="#loc_479_15_479_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_15_479_24&#39;)"><span class="hl_varref"><span class="mpre">ldLibName</span></span></a><span class="mpre">
            </span><span class="hl_comment"><span class="mpre">-- This method is called iteratively by xargs. The</span></span><span class="mpre">
            </span><span class="hl_comment"><span class="mpre">-- output goes to &lt;ldLibName&gt;.tmp, and any existing file</span></span><span class="mpre">
            </span><span class="hl_comment"><span class="mpre">-- named &lt;ldLibName&gt; is included when linking. The</span></span><span class="mpre">
            </span><span class="hl_comment"><span class="mpre">-- output is renamed to &lt;libName&gt;.</span></span><span class="mpre">
          </span><a href="Distribution.Simple.Program.html#loc_205_1_205_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_205_1_205_21&#39;)"><span class="hl_varref"><span class="mpre">rawSystemProgramConf</span></span></a><span class="mpre"> </span><a href="#loc_342_10_342_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_10_342_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_260_1_260_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_260_1_260_10&#39;)"><span class="hl_varref"><span class="mpre">ldProgram</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21&#39;)"><span class="hl_varref"><span class="mpre">withPrograms</span></span></a><span class="mpre"> </span><a href="#loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)
            (</span><a href="#loc_479_25_479_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_25_479_29&#39;)"><span class="hl_varref"><span class="mpre">args</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> if </span><a href="#loc_480_11_480_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_480_11_480_17&#39;)"><span class="hl_varref"><span class="mpre">exists</span></span></a><span class="mpre"> then [</span><a href="#loc_479_15_479_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_15_479_24&#39;)"><span class="hl_varref"><span class="mpre">ldLibName</span></span></a><span class="mpre">] else [])
          </span><a href="System.Directory.html#loc_510_1_510_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_510_1_510_11&#39;)"><span class="hl_varref"><span class="mpre">renameFile</span></span></a><span class="mpre"> (</span><a href="#loc_479_15_479_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_15_479_24&#39;)"><span class="hl_varref"><span class="mpre">ldLibName</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;tmp&quot;</span></span><span class="mpre">) </span><a href="#loc_479_15_479_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_15_479_24&#39;)"><span class="hl_varref"><span class="mpre">ldLibName</span></span></a><span class="mpre">

        </span><a name="loc_489_9_489_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_489_9_489_14&#39;)"><span class="hl_vardecl"><span class="mpre">runAr</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Program.html#loc_205_1_205_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_205_1_205_21&#39;)"><span class="hl_varref"><span class="mpre">rawSystemProgramConf</span></span></a><span class="mpre"> </span><a href="#loc_342_10_342_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_10_342_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_207_1_207_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_207_1_207_10&#39;)"><span class="hl_varref"><span class="mpre">arProgram</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21&#39;)"><span class="hl_varref"><span class="mpre">withPrograms</span></span></a><span class="mpre"> </span><a href="#loc_342_30_342_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_30_342_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)

         </span><span class="hl_comment"><span class="mpre">--TODO: discover this at configure time or runtime on unix</span></span><span class="mpre">
         </span><span class="hl_comment"><span class="mpre">-- The value is 32k on Windows and posix specifies a minimum of 4k</span></span><span class="mpre">
         </span><span class="hl_comment"><span class="mpre">-- but all sensible unixes use more than 4k.</span></span><span class="mpre">
         </span><span class="hl_comment"><span class="mpre">-- we could use getSysVar ArgumentLimit but that&#39;s in the unix lib</span></span><span class="mpre">
        </span><a name="loc_495_9_495_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_495_9_495_27&#39;)"><span class="hl_vardecl"><span class="mpre">maxCommandLineSize</span></span></a><span class="mpre"> = </span><span class="hl_num"><span class="mpre">30</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">*</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1024</span></span><span class="mpre">

    </span><a href="#loc_351_7_351_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_351_7_351_19&#39;)"><span class="hl_varref"><span class="mpre">ifVanillaLib</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Distribution.Simple.Utils.html#loc_619_1_619_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_619_1_619_6&#39;)"><span class="hl_varref"><span class="mpre">xargs</span></span></a><span class="mpre"> </span><a href="#loc_495_9_495_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_495_9_495_27&#39;)"><span class="hl_varref"><span class="mpre">maxCommandLineSize</span></span></a><span class="mpre">
      </span><a href="#loc_489_9_489_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_489_9_489_14&#39;)"><span class="hl_varref"><span class="mpre">runAr</span></span></a><span class="mpre"> </span><a href="#loc_443_9_443_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_443_9_443_15&#39;)"><span class="hl_varref"><span class="mpre">arArgs</span></span></a><span class="mpre"> </span><a href="#loc_445_9_445_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_9_445_18&#39;)"><span class="hl_varref"><span class="mpre">arObjArgs</span></span></a><span class="mpre">

    </span><a href="#loc_352_7_352_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_352_7_352_16&#39;)"><span class="hl_varref"><span class="mpre">ifProfLib</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Distribution.Simple.Utils.html#loc_619_1_619_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_619_1_619_6&#39;)"><span class="hl_varref"><span class="mpre">xargs</span></span></a><span class="mpre"> </span><a href="#loc_495_9_495_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_495_9_495_27&#39;)"><span class="hl_varref"><span class="mpre">maxCommandLineSize</span></span></a><span class="mpre">
      </span><a href="#loc_489_9_489_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_489_9_489_14&#39;)"><span class="hl_varref"><span class="mpre">runAr</span></span></a><span class="mpre"> </span><a href="#loc_449_9_449_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_449_9_449_19&#39;)"><span class="hl_varref"><span class="mpre">arProfArgs</span></span></a><span class="mpre"> </span><a href="#loc_451_9_451_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_451_9_451_22&#39;)"><span class="hl_varref"><span class="mpre">arProfObjArgs</span></span></a><span class="mpre">

    </span><a href="#loc_354_7_354_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_7_354_16&#39;)"><span class="hl_varref"><span class="mpre">ifGHCiLib</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Distribution.Simple.Utils.html#loc_619_1_619_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_619_1_619_6&#39;)"><span class="hl_varref"><span class="mpre">xargs</span></span></a><span class="mpre"> </span><a href="#loc_495_9_495_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_495_9_495_27&#39;)"><span class="hl_varref"><span class="mpre">maxCommandLineSize</span></span></a><span class="mpre">
      (</span><a href="#loc_479_9_479_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_9_479_14&#39;)"><span class="hl_varref"><span class="mpre">runLd</span></span></a><span class="mpre"> </span><a href="#loc_405_7_405_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_405_7_405_22&#39;)"><span class="hl_varref"><span class="mpre">ghciLibFilePath</span></span></a><span class="mpre">) </span><a href="#loc_455_9_455_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_455_9_455_15&#39;)"><span class="hl_varref"><span class="mpre">ldArgs</span></span></a><span class="mpre"> </span><a href="#loc_457_9_457_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_457_9_457_18&#39;)"><span class="hl_varref"><span class="mpre">ldObjArgs</span></span></a><span class="mpre">

    </span><a href="#loc_353_7_353_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_7_353_18&#39;)"><span class="hl_varref"><span class="mpre">ifSharedLib</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_350_7_350_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_7_350_17&#39;)"><span class="hl_varref"><span class="mpre">runGhcProg</span></span></a><span class="mpre"> </span><a href="#loc_468_9_468_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_468_9_468_26&#39;)"><span class="hl_varref"><span class="mpre">ghcSharedLinkArgs</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Build an executable with LHC.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_513_1_513_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_1_513_9&#39;)"><span class="mpre">buildExe</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre">
                      -&gt; </span><a href="Distribution.PackageDescription.html#loc_347_6_347_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_347_6_347_16&#39;)"><span class="hl_tyconref"><span class="mpre">Executable</span></span></a><span class="mpre">         -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29&#39;)"><span class="hl_tyconref"><span class="mpre">ComponentLocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_513_1_513_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_1_513_9&#39;)"><span class="hl_fundecl"><span class="mpre">buildExe</span></span></a><span class="mpre"> </span><a name="loc_513_10_513_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_10_513_19&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_pkg_descr</span></span><span class="mpre"> </span><a name="loc_513_31_513_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_31_513_34&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre">
  </span><a name="loc_514_3_514_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_3_514_6&#39;)"><span class="hl_specname"><span class="mpre">exe</span></span></a><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 514, srcSpanStartColumn = 7, srcSpanEndLine = 514, srcSpanEndColumn = 62}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 514, srcSpanStartColumn = 18, srcSpanEndLine = 514, srcSpanEndColumn = 19},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;"><span class="mpre">Executable { exeName = exeName&#39;, modulePath = modPath }</span></span><span class="mpre"> </span><a name="loc_514_63_514_67" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_63_514_67&#39;)"><span class="hl_vardecl"><span class="mpre">clbi</span></span></a><span class="mpre"> = do
  let </span><a name="loc_515_7_515_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_515_7_515_11&#39;)"><span class="hl_vardecl"><span class="mpre">pref</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17&#39;)"><span class="hl_varref"><span class="mpre">buildDir</span></span></a><span class="mpre"> </span><a href="#loc_513_31_513_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_31_513_34&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
      </span><a name="loc_516_7_516_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_516_7_516_17&#39;)"><span class="hl_vardecl"><span class="mpre">runGhcProg</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Program.html#loc_205_1_205_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_205_1_205_21&#39;)"><span class="hl_varref"><span class="mpre">rawSystemProgramConf</span></span></a><span class="mpre"> </span><a href="#loc_513_10_513_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_10_513_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_112_1_112_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_112_1_112_11&#39;)"><span class="hl_varref"><span class="mpre">lhcProgram</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21&#39;)"><span class="hl_varref"><span class="mpre">withPrograms</span></span></a><span class="mpre"> </span><a href="#loc_513_31_513_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_31_513_34&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)

  </span><a name="loc_518_3_518_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_3_518_8&#39;)"><span class="hl_vardecl"><span class="mpre">exeBi</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_576_1_576_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_1_576_17&#39;)"><span class="hl_varref"><span class="mpre">hackThreadedFlag</span></span></a><span class="mpre"> </span><a href="#loc_513_10_513_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_10_513_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
             (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> </span><a href="#loc_513_31_513_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_31_513_34&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_153_9_153_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_153_9_153_20&#39;)"><span class="hl_varref"><span class="mpre">withProfExe</span></span></a><span class="mpre"> </span><a href="#loc_513_31_513_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_31_513_34&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) (</span><a href="Distribution.PackageDescription.html#loc_350_9_350_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_350_9_350_18&#39;)"><span class="hl_varref"><span class="mpre">buildInfo</span></span></a><span class="mpre"> </span><a href="#loc_514_3_514_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_3_514_6&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre">)

  </span><span class="hl_comment"><span class="mpre">-- exeNameReal, the name that GHC really uses (with .exe on Windows)</span></span><span class="mpre">
  let </span><a name="loc_522_7_522_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_522_7_522_18&#39;)"><span class="hl_vardecl"><span class="mpre">exeNameReal</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">exeName&#39;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre">
                    (if </span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">takeExtension</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">exeName&#39;</span></span><span class="mpre"> then </span><a href="Distribution.Simple.BuildPaths.html#loc_135_1_135_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_135_1_135_13&#39;)"><span class="hl_varref"><span class="mpre">exeExtension</span></span></a><span class="mpre"> else </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">)

  let </span><a name="loc_525_7_525_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_525_7_525_16&#39;)"><span class="hl_vardecl"><span class="mpre">targetDir</span></span></a><span class="mpre"> = </span><a href="#loc_515_7_515_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_515_7_515_11&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">exeName&#39;</span></span><span class="mpre">
  let </span><a name="loc_526_7_526_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_526_7_526_13&#39;)"><span class="hl_vardecl"><span class="mpre">exeDir</span></span></a><span class="mpre">    = </span><a href="#loc_525_7_525_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_525_7_525_16&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">exeName&#39;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;-tmp&quot;</span></span><span class="mpre">)
  </span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="hl_varref"><span class="mpre">createDirectoryIfMissingVerbose</span></span></a><span class="mpre"> </span><a href="#loc_513_10_513_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_10_513_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> </span><a href="#loc_525_7_525_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_525_7_525_16&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre">
  </span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="hl_varref"><span class="mpre">createDirectoryIfMissingVerbose</span></span></a><span class="mpre"> </span><a href="#loc_513_10_513_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_10_513_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> </span><a href="#loc_526_7_526_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_526_7_526_13&#39;)"><span class="hl_varref"><span class="mpre">exeDir</span></span></a><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- TODO: do we need to put hs-boot files into place for mutually recursive modules?</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- FIX: what about exeName.hi-boot?</span></span><span class="mpre">

  </span><span class="hl_comment"><span class="mpre">-- build executables</span></span><span class="mpre">
  </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_644_9_644_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_644_9_644_17&#39;)"><span class="hl_varref"><span class="mpre">cSources</span></span></a><span class="mpre"> </span><a href="#loc_518_3_518_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_3_518_8&#39;)"><span class="hl_varref"><span class="mpre">exeBi</span></span></a><span class="mpre">)) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
   </span><a href="Distribution.Simple.Utils.html#loc_305_1_305_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_305_1_305_5&#39;)"><span class="hl_varref"><span class="mpre">info</span></span></a><span class="mpre"> </span><a href="#loc_513_10_513_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_10_513_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Building C Sources.&quot;</span></span><span class="mpre">
   </span><span class="hl_varref"><span class="mpre">sequence_</span></span><span class="mpre"> [do let (</span><a name="loc_535_23_535_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_535_23_535_27&#39;)"><span class="hl_vardecl"><span class="mpre">odir</span></span></a><span class="mpre">,</span><a name="loc_535_28_535_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_535_28_535_32&#39;)"><span class="hl_vardecl"><span class="mpre">args</span></span></a><span class="mpre">) = </span><a href="#loc_687_1_687_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_687_1_687_19&#39;)"><span class="hl_varref"><span class="mpre">constructCcCmdLine</span></span></a><span class="mpre"> </span><a href="#loc_513_31_513_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_31_513_34&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a href="#loc_518_3_518_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_3_518_8&#39;)"><span class="hl_varref"><span class="mpre">exeBi</span></span></a><span class="mpre"> </span><a href="#loc_514_63_514_67" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_63_514_67&#39;)"><span class="hl_varref"><span class="mpre">clbi</span></span></a><span class="mpre">
                                          </span><a href="#loc_526_7_526_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_526_7_526_13&#39;)"><span class="hl_varref"><span class="mpre">exeDir</span></span></a><span class="mpre"> </span><a href="#loc_539_16_539_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_539_16_539_24&#39;)"><span class="hl_varref"><span class="mpre">filename</span></span></a><span class="mpre"> </span><a href="#loc_513_10_513_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_10_513_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
                 </span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="hl_varref"><span class="mpre">createDirectoryIfMissingVerbose</span></span></a><span class="mpre"> </span><a href="#loc_513_10_513_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_10_513_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> </span><a href="#loc_535_23_535_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_535_23_535_27&#39;)"><span class="hl_varref"><span class="mpre">odir</span></span></a><span class="mpre">
                 </span><a href="#loc_516_7_516_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_516_7_516_17&#39;)"><span class="hl_varref"><span class="mpre">runGhcProg</span></span></a><span class="mpre"> </span><a href="#loc_535_28_535_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_535_28_535_32&#39;)"><span class="hl_varref"><span class="mpre">args</span></span></a><span class="mpre">
             | </span><a name="loc_539_16_539_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_539_16_539_24&#39;)"><span class="hl_vardecl"><span class="mpre">filename</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_644_9_644_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_644_9_644_17&#39;)"><span class="hl_varref"><span class="mpre">cSources</span></span></a><span class="mpre"> </span><a href="#loc_518_3_518_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_3_518_8&#39;)"><span class="hl_varref"><span class="mpre">exeBi</span></span></a><span class="mpre">]

  </span><a name="loc_541_3_541_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_541_3_541_14&#39;)"><span class="hl_vardecl"><span class="mpre">srcMainFile</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.Simple.Utils.html#loc_646_1_646_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_646_1_646_9&#39;)"><span class="hl_varref"><span class="mpre">findFile</span></span></a><span class="mpre"> (</span><a href="#loc_526_7_526_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_526_7_526_13&#39;)"><span class="hl_varref"><span class="mpre">exeDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_645_9_645_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_645_9_645_21&#39;)"><span class="hl_varref"><span class="mpre">hsSourceDirs</span></span></a><span class="mpre"> </span><a href="#loc_518_3_518_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_3_518_8&#39;)"><span class="hl_varref"><span class="mpre">exeBi</span></span></a><span class="mpre">) </span><span class="hl_varref"><span class="mpre">modPath</span></span><span class="mpre">

  let </span><a name="loc_543_7_543_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_543_7_543_12&#39;)"><span class="hl_vardecl"><span class="mpre">cObjs</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">`replaceExtension`</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_143_1_143_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_143_1_143_13&#39;)"><span class="hl_varref"><span class="mpre">objExtension</span></span></a><span class="mpre">) (</span><a href="Distribution.PackageDescription.html#loc_644_9_644_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_644_9_644_17&#39;)"><span class="hl_varref"><span class="mpre">cSources</span></span></a><span class="mpre"> </span><a href="#loc_518_3_518_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_3_518_8&#39;)"><span class="hl_varref"><span class="mpre">exeBi</span></span></a><span class="mpre">)
  let </span><a name="loc_544_7_544_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_544_7_544_14&#39;)"><span class="hl_fundecl"><span class="mpre">lhcWrap</span></span></a><span class="mpre"> </span><a name="loc_544_15_544_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_544_15_544_16&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = (</span><span class="hl_string"><span class="mpre">&quot;--ghc-opts\&quot;&quot;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_544_15_544_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_544_15_544_16&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;\&quot;&quot;</span></span><span class="mpre">]
  let </span><a name="loc_545_7_545_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_545_7_545_14&#39;)"><span class="hl_fundecl"><span class="mpre">binArgs</span></span></a><span class="mpre"> </span><a name="loc_545_15_545_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_545_15_545_22&#39;)"><span class="hl_vardecl"><span class="mpre">linkExe</span></span></a><span class="mpre"> </span><a name="loc_545_23_545_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_545_23_545_30&#39;)"><span class="hl_vardecl"><span class="mpre">profExe</span></span></a><span class="mpre"> =
             (if </span><a href="#loc_545_15_545_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_545_15_545_22&#39;)"><span class="hl_varref"><span class="mpre">linkExe</span></span></a><span class="mpre">
                 then [</span><span class="hl_string"><span class="mpre">&quot;-o&quot;</span></span><span class="mpre">, </span><a href="#loc_525_7_525_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_525_7_525_16&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_522_7_522_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_522_7_522_18&#39;)"><span class="hl_varref"><span class="mpre">exeNameReal</span></span></a><span class="mpre">]
                 else [</span><span class="hl_string"><span class="mpre">&quot;-c&quot;</span></span><span class="mpre">])
          </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_615_1_615_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_615_1_615_20&#39;)"><span class="hl_varref"><span class="mpre">constructGHCCmdLine</span></span></a><span class="mpre"> </span><a href="#loc_513_31_513_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_31_513_34&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a href="#loc_518_3_518_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_3_518_8&#39;)"><span class="hl_varref"><span class="mpre">exeBi</span></span></a><span class="mpre"> </span><a href="#loc_514_63_514_67" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_63_514_67&#39;)"><span class="hl_varref"><span class="mpre">clbi</span></span></a><span class="mpre"> </span><a href="#loc_526_7_526_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_526_7_526_13&#39;)"><span class="hl_varref"><span class="mpre">exeDir</span></span></a><span class="mpre"> </span><a href="#loc_513_10_513_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_10_513_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
          </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><a href="#loc_526_7_526_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_526_7_526_13&#39;)"><span class="hl_varref"><span class="mpre">exeDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_550_30_550_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_550_30_550_31&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> | </span><a name="loc_550_30_550_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_550_30_550_31&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_543_7_543_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_543_7_543_12&#39;)"><span class="hl_varref"><span class="mpre">cObjs</span></span></a><span class="mpre">]
          </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><a href="#loc_541_3_541_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_541_3_541_14&#39;)"><span class="hl_varref"><span class="mpre">srcMainFile</span></span></a><span class="mpre">]
          </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-optl&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_552_32_552_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_552_32_552_35&#39;)"><span class="hl_varref"><span class="mpre">opt</span></span></a><span class="mpre"> | </span><a name="loc_552_32_552_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_552_32_552_35&#39;)"><span class="hl_vardecl"><span class="mpre">opt</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_641_9_641_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_641_9_641_18&#39;)"><span class="hl_varref"><span class="mpre">PD.ldOptions</span></span></a><span class="mpre"> </span><a href="#loc_518_3_518_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_3_518_8&#39;)"><span class="hl_varref"><span class="mpre">exeBi</span></span></a><span class="mpre">]
          </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-l&quot;</span></span><span class="hl_infix"><span class="mpre">++</span></span><a href="#loc_553_27_553_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_553_27_553_30&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre"> | </span><a name="loc_553_27_553_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_553_27_553_30&#39;)"><span class="hl_vardecl"><span class="mpre">lib</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_654_9_654_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_654_9_654_18&#39;)"><span class="hl_varref"><span class="mpre">extraLibs</span></span></a><span class="mpre"> </span><a href="#loc_518_3_518_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_3_518_8&#39;)"><span class="hl_varref"><span class="mpre">exeBi</span></span></a><span class="mpre">]
          </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-L&quot;</span></span><span class="hl_infix"><span class="mpre">++</span></span><a href="#loc_554_30_554_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_554_30_554_36&#39;)"><span class="hl_varref"><span class="mpre">libDir</span></span></a><span class="mpre"> | </span><a name="loc_554_30_554_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_554_30_554_36&#39;)"><span class="hl_vardecl"><span class="mpre">libDir</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_655_9_655_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_655_9_655_21&#39;)"><span class="hl_varref"><span class="mpre">extraLibDirs</span></span></a><span class="mpre"> </span><a href="#loc_518_3_518_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_3_518_8&#39;)"><span class="hl_varref"><span class="mpre">exeBi</span></span></a><span class="mpre">]
          </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre"> [[</span><span class="hl_string"><span class="mpre">&quot;-framework&quot;</span></span><span class="mpre">, </span><a href="#loc_555_42_555_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_555_42_555_43&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">] | </span><a name="loc_555_42_555_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_555_42_555_43&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_643_9_643_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_643_9_643_19&#39;)"><span class="hl_varref"><span class="mpre">PD.frameworks</span></span></a><span class="mpre"> </span><a href="#loc_518_3_518_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_3_518_8&#39;)"><span class="hl_varref"><span class="mpre">exeBi</span></span></a><span class="mpre">]
          </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> if </span><a href="#loc_545_23_545_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_545_23_545_30&#39;)"><span class="hl_varref"><span class="mpre">profExe</span></span></a><span class="mpre">
                then [</span><span class="hl_string"><span class="mpre">&quot;-prof&quot;</span></span><span class="mpre">,
                      </span><span class="hl_string"><span class="mpre">&quot;-hisuf&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;p_hi&quot;</span></span><span class="mpre">,
                      </span><span class="hl_string"><span class="mpre">&quot;-osuf&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;p_o&quot;</span></span><span class="mpre">
                     ] </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_660_9_660_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_660_9_660_23&#39;)"><span class="hl_varref"><span class="mpre">ghcProfOptions</span></span></a><span class="mpre"> </span><a href="#loc_518_3_518_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_3_518_8&#39;)"><span class="hl_varref"><span class="mpre">exeBi</span></span></a><span class="mpre">
                else []

  </span><span class="hl_comment"><span class="mpre">-- For building exe&#39;s for profiling that use TH we actually</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- have to build twice, once without profiling and the again</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- with profiling. This is because the code that TH needs to</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- run at compile time needs to be the vanilla ABI so it can</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- be loaded up and run by the compiler.</span></span><span class="mpre">
  </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_153_9_153_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_153_9_153_20&#39;)"><span class="hl_varref"><span class="mpre">withProfExe</span></span></a><span class="mpre"> </span><a href="#loc_513_31_513_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_31_513_34&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Language.Haskell.Extension.html#loc_120_5_120_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_120_5_120_20&#39;)"><span class="hl_conref"><span class="mpre">EnableExtension</span></span></a><span class="mpre"> </span><a href="Language.Haskell.Extension.html#loc_272_5_272_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_272_5_272_20&#39;)"><span class="hl_conref"><span class="mpre">TemplateHaskell</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`elem`</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_762_1_762_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_762_1_762_14&#39;)"><span class="hl_varref"><span class="mpre">allExtensions</span></span></a><span class="mpre"> </span><a href="#loc_518_3_518_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_518_3_518_8&#39;)"><span class="hl_varref"><span class="mpre">exeBi</span></span></a><span class="mpre">)
     (</span><a href="#loc_516_7_516_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_516_7_516_17&#39;)"><span class="hl_varref"><span class="mpre">runGhcProg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_544_7_544_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_544_7_544_14&#39;)"><span class="hl_varref"><span class="mpre">lhcWrap</span></span></a><span class="mpre"> (</span><a href="#loc_545_7_545_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_545_7_545_14&#39;)"><span class="hl_varref"><span class="mpre">binArgs</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">))

  </span><a href="#loc_516_7_516_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_516_7_516_17&#39;)"><span class="hl_varref"><span class="mpre">runGhcProg</span></span></a><span class="mpre"> (</span><a href="#loc_545_7_545_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_545_7_545_14&#39;)"><span class="hl_varref"><span class="mpre">binArgs</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_153_9_153_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_153_9_153_20&#39;)"><span class="hl_varref"><span class="mpre">withProfExe</span></span></a><span class="mpre"> </span><a href="#loc_513_31_513_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_31_513_34&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">))

</span><span class="hl_comment"><span class="mpre">-- | Filter the &quot;-threaded&quot; flag when profiling as it does not</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   work with ghc-6.8 and older.</span></span><span class="mpre">
</span><a href="#loc_576_1_576_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_1_576_17&#39;)"><span class="mpre">hackThreadedFlag</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Compiler.html#loc_85_6_85_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_85_6_85_14&#39;)"><span class="hl_tyconref"><span class="mpre">Compiler</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre">
</span><a name="loc_576_1_576_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_1_576_17&#39;)"><span class="hl_fundecl"><span class="mpre">hackThreadedFlag</span></span></a><span class="mpre"> </span><a name="loc_576_18_576_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_18_576_27&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_576_28_576_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_28_576_32&#39;)"><span class="hl_vardecl"><span class="mpre">comp</span></span></a><span class="mpre"> </span><a name="loc_576_33_576_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_33_576_37&#39;)"><span class="hl_vardecl"><span class="mpre">prof</span></span></a><span class="mpre"> </span><a name="loc_576_38_576_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_38_576_40&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre">
  | </span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><a href="#loc_583_5_583_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_583_5_583_23&#39;)"><span class="hl_varref"><span class="mpre">mustFilterThreaded</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_576_38_576_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_38_576_40&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">
  | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">              = do
    </span><a href="Distribution.Simple.Utils.html#loc_279_1_279_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_279_1_279_5&#39;)"><span class="hl_varref"><span class="mpre">warn</span></span></a><span class="mpre"> </span><a href="#loc_576_18_576_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_18_576_27&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;The ghc flag &#39;-threaded&#39; is not compatible with &quot;</span></span><span class="mpre">
                  </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;profiling in ghc-6.8 and older. It will be disabled.&quot;</span></span><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 581, srcSpanStartColumn = 12, srcSpanEndLine = 581, srcSpanEndColumn = 74}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/LHC.hs&quot;, srcSpanStartLine = 581, srcSpanStartColumn = 15, srcSpanEndLine = 581, srcSpanEndColumn = 16},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/L"><span class="mpre">bi { options = filterHcOptions (/= &quot;-threaded&quot;) (options bi) }</span></span><span class="mpre">
  where
    </span><a name="loc_583_5_583_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_583_5_583_23&#39;)"><span class="hl_vardecl"><span class="mpre">mustFilterThreaded</span></span></a><span class="mpre"> = </span><a href="#loc_576_33_576_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_33_576_37&#39;)"><span class="hl_varref"><span class="mpre">prof</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Distribution.Simple.Compiler.html#loc_99_1_99_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_99_1_99_16&#39;)"><span class="hl_varref"><span class="mpre">compilerVersion</span></span></a><span class="mpre"> </span><a href="#loc_576_28_576_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_28_576_32&#39;)"><span class="hl_varref"><span class="mpre">comp</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Version</span></span><span class="mpre"> [</span><span class="hl_num"><span class="mpre">6</span></span><span class="mpre">, </span><span class="hl_num"><span class="mpre">10</span></span><span class="mpre">] []
                      </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;-threaded&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`elem`</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_778_1_778_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_778_1_778_10&#39;)"><span class="hl_varref"><span class="mpre">hcOptions</span></span></a><span class="mpre"> </span><a href="Distribution.Compiler.html#loc_81_23_81_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_23_81_26&#39;)"><span class="hl_conref"><span class="mpre">GHC</span></span></a><span class="mpre"> </span><a href="#loc_576_38_576_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_38_576_40&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">
    </span><span class="hl_fundecl"><span class="mpre">filterHcOptions</span></span><span class="mpre"> </span><a name="loc_585_21_585_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_585_21_585_22&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a name="loc_585_23_585_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_585_23_585_30&#39;)"><span class="hl_vardecl"><span class="mpre">hcoptss</span></span></a><span class="mpre"> =
      [ (</span><a href="#loc_587_10_587_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_587_10_587_12&#39;)"><span class="hl_varref"><span class="mpre">hc</span></span></a><span class="mpre">, if </span><a href="#loc_587_10_587_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_587_10_587_12&#39;)"><span class="hl_varref"><span class="mpre">hc</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="Distribution.Compiler.html#loc_81_23_81_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_23_81_26&#39;)"><span class="hl_conref"><span class="mpre">GHC</span></span></a><span class="mpre"> then </span><span class="hl_varref"><span class="mpre">filter</span></span><span class="mpre"> </span><a href="#loc_585_21_585_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_585_21_585_22&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_587_14_587_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_587_14_587_18&#39;)"><span class="hl_varref"><span class="mpre">opts</span></span></a><span class="mpre"> else </span><a href="#loc_587_14_587_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_587_14_587_18&#39;)"><span class="hl_varref"><span class="mpre">opts</span></span></a><span class="mpre">)
      | (</span><a name="loc_587_10_587_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_587_10_587_12&#39;)"><span class="hl_vardecl"><span class="mpre">hc</span></span></a><span class="mpre">, </span><a name="loc_587_14_587_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_587_14_587_18&#39;)"><span class="hl_vardecl"><span class="mpre">opts</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_585_23_585_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_585_23_585_30&#39;)"><span class="hl_varref"><span class="mpre">hcoptss</span></span></a><span class="mpre"> ]

</span><span class="hl_comment"><span class="mpre">-- when using -split-objs, we need to search for object files in the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module_split directory for each module.</span></span><span class="mpre">
</span><a href="#loc_593_1_593_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_1_593_18&#39;)"><span class="mpre">getHaskellObjects</span></a><span class="mpre"> :: </span><a href="Distribution.PackageDescription.html#loc_299_6_299_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_299_6_299_13&#39;)"><span class="hl_tyconref"><span class="mpre">Library</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre">
                  -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> [</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">]
</span><a name="loc_593_1_593_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_1_593_18&#39;)"><span class="hl_fundecl"><span class="mpre">getHaskellObjects</span></span></a><span class="mpre"> </span><a name="loc_593_19_593_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_19_593_22&#39;)"><span class="hl_vardecl"><span class="mpre">lib</span></span></a><span class="mpre"> </span><a name="loc_593_23_593_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_23_593_26&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_593_27_593_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_27_593_31&#39;)"><span class="hl_vardecl"><span class="mpre">pref</span></span></a><span class="mpre"> </span><a name="loc_593_32_593_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_32_593_46&#39;)"><span class="hl_vardecl"><span class="mpre">wanted_obj_ext</span></span></a><span class="mpre"> </span><a name="loc_593_47_593_63" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_47_593_63&#39;)"><span class="hl_vardecl"><span class="mpre">allow_split_objs</span></span></a><span class="mpre">
  | </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_156_9_156_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_156_9_156_18&#39;)"><span class="hl_varref"><span class="mpre">splitObjs</span></span></a><span class="mpre"> </span><a href="#loc_593_23_593_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_23_593_26&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_593_47_593_63" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_47_593_63&#39;)"><span class="hl_varref"><span class="mpre">allow_split_objs</span></span></a><span class="mpre"> = do
        let </span><a name="loc_595_13_595_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_595_13_595_17&#39;)"><span class="hl_vardecl"><span class="mpre">dirs</span></span></a><span class="mpre"> = [ </span><a href="#loc_593_27_593_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_27_593_31&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> (</span><a href="Distribution.ModuleName.html#loc_133_1_133_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_133_1_133_11&#39;)"><span class="hl_varref"><span class="mpre">ModuleName.toFilePath</span></span></a><span class="mpre"> </span><a href="#loc_596_22_596_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_596_22_596_23&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;_split&quot;</span></span><span class="mpre">)
                   | </span><a name="loc_596_22_596_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_596_22_596_23&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_341_1_341_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_341_1_341_11&#39;)"><span class="hl_varref"><span class="mpre">libModules</span></span></a><span class="mpre"> </span><a href="#loc_593_19_593_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_19_593_22&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre"> ]
        </span><a name="loc_597_9_597_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_597_9_597_14&#39;)"><span class="hl_vardecl"><span class="mpre">objss</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">mapM</span></span><span class="mpre"> </span><a href="System.Directory.html#loc_628_1_628_21" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_628_1_628_21&#39;)"><span class="hl_varref"><span class="mpre">getDirectoryContents</span></span></a><span class="mpre"> </span><a href="#loc_595_13_595_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_595_13_595_17&#39;)"><span class="hl_varref"><span class="mpre">dirs</span></span></a><span class="mpre">
        let </span><a name="loc_598_13_598_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_598_13_598_17&#39;)"><span class="hl_vardecl"><span class="mpre">objs</span></span></a><span class="mpre"> = [ </span><a href="#loc_599_29_599_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_599_29_599_32&#39;)"><span class="hl_varref"><span class="mpre">dir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_599_53_599_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_599_53_599_56&#39;)"><span class="hl_varref"><span class="mpre">obj</span></span></a><span class="mpre">
                   | (</span><a name="loc_599_23_599_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_599_23_599_28&#39;)"><span class="hl_vardecl"><span class="mpre">objs&#39;</span></span></a><span class="mpre">,</span><a name="loc_599_29_599_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_599_29_599_32&#39;)"><span class="hl_vardecl"><span class="mpre">dir</span></span></a><span class="mpre">) &lt;- </span><span class="hl_varref"><span class="mpre">zip</span></span><span class="mpre"> </span><a href="#loc_597_9_597_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_597_9_597_14&#39;)"><span class="hl_varref"><span class="mpre">objss</span></span></a><span class="mpre"> </span><a href="#loc_595_13_595_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_595_13_595_17&#39;)"><span class="hl_varref"><span class="mpre">dirs</span></span></a><span class="mpre">, </span><a name="loc_599_53_599_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_599_53_599_56&#39;)"><span class="hl_vardecl"><span class="mpre">obj</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_599_23_599_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_599_23_599_28&#39;)"><span class="hl_varref"><span class="mpre">objs&#39;</span></span></a><span class="mpre">,
                     let </span><a name="loc_600_26_600_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_600_26_600_33&#39;)"><span class="hl_vardecl"><span class="mpre">obj_ext</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">takeExtension</span></span><span class="mpre"> </span><a href="#loc_599_53_599_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_599_53_599_56&#39;)"><span class="hl_varref"><span class="mpre">obj</span></span></a><span class="mpre">,
                     </span><span class="hl_char"><span class="mpre">&#39;.&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_593_32_593_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_32_593_46&#39;)"><span class="hl_varref"><span class="mpre">wanted_obj_ext</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_600_26_600_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_600_26_600_33&#39;)"><span class="hl_varref"><span class="mpre">obj_ext</span></span></a><span class="mpre"> ]
        </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_598_13_598_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_598_13_598_17&#39;)"><span class="hl_varref"><span class="mpre">objs</span></span></a><span class="mpre">
  | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">  =
        </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> [ </span><a href="#loc_593_27_593_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_27_593_31&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="Distribution.ModuleName.html#loc_133_1_133_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_133_1_133_11&#39;)"><span class="hl_varref"><span class="mpre">ModuleName.toFilePath</span></span></a><span class="mpre"> </span><a href="#loc_605_18_605_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_605_18_605_19&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre"> </span><a href="#loc_593_32_593_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_32_593_46&#39;)"><span class="hl_varref"><span class="mpre">wanted_obj_ext</span></span></a><span class="mpre">
               | </span><a name="loc_605_18_605_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_605_18_605_19&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_341_1_341_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_341_1_341_11&#39;)"><span class="hl_varref"><span class="mpre">libModules</span></span></a><span class="mpre"> </span><a href="#loc_593_19_593_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_19_593_22&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre"> ]


</span><a href="#loc_615_1_615_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_615_1_615_20&#39;)"><span class="mpre">constructGHCCmdLine</span></a><span class="mpre">
        :: </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre">
        -&gt; </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre">
        -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29&#39;)"><span class="hl_tyconref"><span class="mpre">ComponentLocalBuildInfo</span></span></a><span class="mpre">
        -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
        -&gt; </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">
        -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_615_1_615_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_615_1_615_20&#39;)"><span class="hl_fundecl"><span class="mpre">constructGHCCmdLine</span></span></a><span class="mpre"> </span><a name="loc_615_21_615_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_615_21_615_24&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_615_25_615_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_615_25_615_27&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a name="loc_615_28_615_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_615_28_615_32&#39;)"><span class="hl_vardecl"><span class="mpre">clbi</span></span></a><span class="mpre"> </span><a name="loc_615_33_615_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_615_33_615_37&#39;)"><span class="hl_vardecl"><span class="mpre">odir</span></span></a><span class="mpre"> </span><a name="loc_615_38_615_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_615_38_615_47&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> =
        [</span><span class="hl_string"><span class="mpre">&quot;--make&quot;</span></span><span class="mpre">]
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_622_1_622_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_622_1_622_20&#39;)"><span class="hl_varref"><span class="mpre">ghcVerbosityOptions</span></span></a><span class="mpre"> </span><a href="#loc_615_38_615_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_615_38_615_47&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
        </span><span class="hl_comment"><span class="mpre">-- Unsupported extensions have already been checked by configure</span></span><span class="mpre">
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_629_1_629_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_1_629_11&#39;)"><span class="hl_varref"><span class="mpre">ghcOptions</span></span></a><span class="mpre"> </span><a href="#loc_615_21_615_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_615_21_615_24&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a href="#loc_615_25_615_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_615_25_615_27&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a href="#loc_615_28_615_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_615_28_615_32&#39;)"><span class="hl_varref"><span class="mpre">clbi</span></span></a><span class="mpre"> </span><a href="#loc_615_33_615_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_615_33_615_37&#39;)"><span class="hl_varref"><span class="mpre">odir</span></span></a><span class="mpre">

</span><a href="#loc_622_1_622_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_622_1_622_20&#39;)"><span class="mpre">ghcVerbosityOptions</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_622_1_622_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_622_1_622_20&#39;)"><span class="hl_fundecl"><span class="mpre">ghcVerbosityOptions</span></span></a><span class="mpre"> </span><a name="loc_622_21_622_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_622_21_622_30&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre">
     | </span><a href="#loc_622_21_622_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_622_21_622_30&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="Distribution.Verbosity.html#loc_76_1_76_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_76_1_76_10&#39;)"><span class="hl_varref"><span class="mpre">deafening</span></span></a><span class="mpre"> = [</span><span class="hl_string"><span class="mpre">&quot;-v&quot;</span></span><span class="mpre">]
     | </span><a href="#loc_622_21_622_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_622_21_622_30&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="Distribution.Verbosity.html#loc_67_1_67_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_67_1_67_7&#39;)"><span class="hl_varref"><span class="mpre">normal</span></span></a><span class="mpre">    = []
     | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">              = [</span><span class="hl_string"><span class="mpre">&quot;-w&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;-v0&quot;</span></span><span class="mpre">]

</span><a href="#loc_629_1_629_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_1_629_11&#39;)"><span class="mpre">ghcOptions</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29&#39;)"><span class="hl_tyconref"><span class="mpre">ComponentLocalBuildInfo</span></span></a><span class="mpre">
           -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_629_1_629_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_1_629_11&#39;)"><span class="hl_fundecl"><span class="mpre">ghcOptions</span></span></a><span class="mpre"> </span><a name="loc_629_12_629_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_12_629_15&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_629_16_629_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_16_629_18&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a name="loc_629_19_629_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_19_629_23&#39;)"><span class="hl_vardecl"><span class="mpre">clbi</span></span></a><span class="mpre"> </span><a name="loc_629_24_629_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_24_629_28&#39;)"><span class="hl_vardecl"><span class="mpre">odir</span></span></a><span class="mpre">
     =  [</span><span class="hl_string"><span class="mpre">&quot;-hide-all-packages&quot;</span></span><span class="mpre">]
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_668_1_668_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_668_1_668_20&#39;)"><span class="hl_varref"><span class="mpre">ghcPackageDbOptions</span></span></a><span class="mpre"> </span><a href="#loc_629_12_629_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_12_629_15&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> (if </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_156_9_156_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_156_9_156_18&#39;)"><span class="hl_varref"><span class="mpre">splitObjs</span></span></a><span class="mpre"> </span><a href="#loc_629_12_629_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_12_629_15&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> then [</span><span class="hl_string"><span class="mpre">&quot;-split-objs&quot;</span></span><span class="mpre">] else [])
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-i&quot;</span></span><span class="mpre">]
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-i&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_629_24_629_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_24_629_28&#39;)"><span class="hl_varref"><span class="mpre">odir</span></span></a><span class="mpre">]
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-i&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_635_22_635_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_635_22_635_23&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> | </span><a name="loc_635_22_635_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_635_22_635_23&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> &lt;- </span><a href="Data.List.html#loc_314_1_314_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_314_1_314_4&#39;)"><span class="hl_varref"><span class="mpre">nub</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_645_9_645_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_645_9_645_21&#39;)"><span class="hl_varref"><span class="mpre">hsSourceDirs</span></span></a><span class="mpre"> </span><a href="#loc_629_16_629_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_16_629_18&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">)]
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-i&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_94_1_94_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_94_1_94_18&#39;)"><span class="hl_varref"><span class="mpre">autogenModulesDir</span></span></a><span class="mpre"> </span><a href="#loc_629_12_629_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_12_629_15&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">]
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-I&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_94_1_94_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_94_1_94_18&#39;)"><span class="hl_varref"><span class="mpre">autogenModulesDir</span></span></a><span class="mpre"> </span><a href="#loc_629_12_629_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_12_629_15&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">]
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-I&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_629_24_629_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_24_629_28&#39;)"><span class="hl_varref"><span class="mpre">odir</span></span></a><span class="mpre">]
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-I&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_639_24_639_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_639_24_639_27&#39;)"><span class="hl_varref"><span class="mpre">dir</span></span></a><span class="mpre"> | </span><a name="loc_639_24_639_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_639_24_639_27&#39;)"><span class="hl_vardecl"><span class="mpre">dir</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_656_9_656_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_656_9_656_20&#39;)"><span class="hl_varref"><span class="mpre">PD.includeDirs</span></span></a><span class="mpre"> </span><a href="#loc_629_16_629_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_16_629_18&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">]
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-optP&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_640_27_640_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_640_27_640_30&#39;)"><span class="hl_varref"><span class="mpre">opt</span></span></a><span class="mpre"> | </span><a name="loc_640_27_640_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_640_27_640_30&#39;)"><span class="hl_vardecl"><span class="mpre">opt</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_639_9_639_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_639_9_639_19&#39;)"><span class="hl_varref"><span class="mpre">cppOptions</span></span></a><span class="mpre"> </span><a href="#loc_629_16_629_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_16_629_18&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">]
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [ </span><span class="hl_string"><span class="mpre">&quot;-optP-include&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;-optP&quot;</span></span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> (</span><a href="Distribution.Simple.BuildPaths.html#loc_94_1_94_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_94_1_94_18&#39;)"><span class="hl_varref"><span class="mpre">autogenModulesDir</span></span></a><span class="mpre"> </span><a href="#loc_629_12_629_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_12_629_15&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_97_1_97_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_97_1_97_14&#39;)"><span class="hl_varref"><span class="mpre">cppHeaderName</span></span></a><span class="mpre">) ]
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [ </span><span class="hl_string"><span class="mpre">&quot;-#include \&quot;&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_642_43_642_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_642_43_642_46&#39;)"><span class="hl_varref"><span class="mpre">inc</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;\&quot;&quot;</span></span><span class="mpre"> | </span><a name="loc_642_43_642_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_642_43_642_46&#39;)"><span class="hl_vardecl"><span class="mpre">inc</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_657_9_657_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_657_9_657_17&#39;)"><span class="hl_varref"><span class="mpre">PD.includes</span></span></a><span class="mpre"> </span><a href="#loc_629_16_629_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_16_629_18&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> ]
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [ </span><span class="hl_string"><span class="mpre">&quot;-odir&quot;</span></span><span class="mpre">,  </span><a href="#loc_629_24_629_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_24_629_28&#39;)"><span class="hl_varref"><span class="mpre">odir</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;-hidir&quot;</span></span><span class="mpre">, </span><a href="#loc_629_24_629_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_24_629_28&#39;)"><span class="hl_varref"><span class="mpre">odir</span></span></a><span class="mpre"> ]
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> (if </span><a href="Distribution.Simple.Compiler.html#loc_99_1_99_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_99_1_99_16&#39;)"><span class="hl_varref"><span class="mpre">compilerVersion</span></span></a><span class="mpre"> </span><a href="#loc_654_11_654_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_654_11_654_12&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Version</span></span><span class="mpre"> [</span><span class="hl_num"><span class="mpre">6</span></span><span class="mpre">,</span><span class="hl_num"><span class="mpre">8</span></span><span class="mpre">] []
           then [</span><span class="hl_string"><span class="mpre">&quot;-stubdir&quot;</span></span><span class="mpre">, </span><a href="#loc_629_24_629_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_24_629_28&#39;)"><span class="hl_varref"><span class="mpre">odir</span></span></a><span class="mpre">] else [])
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_657_1_657_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_657_1_657_16&#39;)"><span class="hl_varref"><span class="mpre">ghcPackageFlags</span></span></a><span class="mpre"> </span><a href="#loc_629_12_629_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_12_629_15&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a href="#loc_629_19_629_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_19_629_23&#39;)"><span class="hl_varref"><span class="mpre">clbi</span></span></a><span class="mpre">
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> (case </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_154_9_154_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_154_9_154_25&#39;)"><span class="hl_varref"><span class="mpre">withOptimization</span></span></a><span class="mpre"> </span><a href="#loc_629_12_629_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_12_629_15&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> of
           </span><a href="Distribution.Simple.Compiler.html#loc_162_26_162_40" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_162_26_162_40&#39;)"><span class="hl_conref"><span class="mpre">NoOptimisation</span></span></a><span class="mpre">      -&gt; []
           </span><a href="Distribution.Simple.Compiler.html#loc_163_26_163_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_163_26_163_44&#39;)"><span class="hl_conref"><span class="mpre">NormalOptimisation</span></span></a><span class="mpre">  -&gt; [</span><span class="hl_string"><span class="mpre">&quot;-O&quot;</span></span><span class="mpre">]
           </span><a href="Distribution.Simple.Compiler.html#loc_164_26_164_45" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_164_26_164_45&#39;)"><span class="hl_conref"><span class="mpre">MaximumOptimisation</span></span></a><span class="mpre"> -&gt; [</span><span class="hl_string"><span class="mpre">&quot;-O2&quot;</span></span><span class="mpre">])
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_778_1_778_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_778_1_778_10&#39;)"><span class="hl_varref"><span class="mpre">hcOptions</span></span></a><span class="mpre"> </span><a href="Distribution.Compiler.html#loc_81_23_81_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_23_81_26&#39;)"><span class="hl_conref"><span class="mpre">GHC</span></span></a><span class="mpre"> </span><a href="#loc_629_16_629_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_16_629_18&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.Compiler.html#loc_188_1_188_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_188_1_188_16&#39;)"><span class="hl_varref"><span class="mpre">languageToFlags</span></span></a><span class="mpre"> </span><a href="#loc_654_11_654_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_654_11_654_12&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_648_9_648_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_648_9_648_24&#39;)"><span class="hl_varref"><span class="mpre">defaultLanguage</span></span></a><span class="mpre"> </span><a href="#loc_629_16_629_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_16_629_18&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">)
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.Compiler.html#loc_206_1_206_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_206_1_206_18&#39;)"><span class="hl_varref"><span class="mpre">extensionsToFlags</span></span></a><span class="mpre"> </span><a href="#loc_654_11_654_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_654_11_654_12&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_768_1_768_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_768_1_768_15&#39;)"><span class="hl_varref"><span class="mpre">usedExtensions</span></span></a><span class="mpre"> </span><a href="#loc_629_16_629_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_16_629_18&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">)
    where </span><a name="loc_654_11_654_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_654_11_654_12&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> </span><a href="#loc_629_12_629_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_12_629_15&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">

</span><a href="#loc_657_1_657_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_657_1_657_16&#39;)"><span class="mpre">ghcPackageFlags</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29&#39;)"><span class="hl_tyconref"><span class="mpre">ComponentLocalBuildInfo</span></span></a><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_657_1_657_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_657_1_657_16&#39;)"><span class="hl_fundecl"><span class="mpre">ghcPackageFlags</span></span></a><span class="mpre"> </span><a name="loc_657_17_657_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_657_17_657_20&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_657_21_657_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_657_21_657_25&#39;)"><span class="hl_vardecl"><span class="mpre">clbi</span></span></a><span class="mpre">
  | </span><a href="#loc_665_7_665_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_665_7_665_13&#39;)"><span class="hl_varref"><span class="mpre">ghcVer</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Version</span></span><span class="mpre"> [</span><span class="hl_num"><span class="mpre">6</span></span><span class="mpre">,</span><span class="hl_num"><span class="mpre">11</span></span><span class="mpre">] []
              = </span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre"> [ [</span><span class="hl_string"><span class="mpre">&quot;-package-id&quot;</span></span><span class="mpre">, </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><a href="#loc_660_27_660_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_660_27_660_33&#39;)"><span class="hl_varref"><span class="mpre">ipkgid</span></span></a><span class="mpre">]
                       | (</span><a name="loc_660_27_660_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_660_27_660_33&#39;)"><span class="hl_vardecl"><span class="mpre">ipkgid</span></span></a><span class="mpre">, _) &lt;- </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_209_5_209_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_209_5_209_25&#39;)"><span class="hl_varref"><span class="mpre">componentPackageDeps</span></span></a><span class="mpre"> </span><a href="#loc_657_21_657_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_657_21_657_25&#39;)"><span class="hl_varref"><span class="mpre">clbi</span></span></a><span class="mpre"> ]

  | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre"> [ [</span><span class="hl_string"><span class="mpre">&quot;-package&quot;</span></span><span class="mpre">, </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><a href="#loc_663_30_663_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_663_30_663_35&#39;)"><span class="hl_varref"><span class="mpre">pkgid</span></span></a><span class="mpre">]
                       | (_, </span><a name="loc_663_30_663_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_663_30_663_35&#39;)"><span class="hl_vardecl"><span class="mpre">pkgid</span></span></a><span class="mpre">)  &lt;- </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_209_5_209_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_209_5_209_25&#39;)"><span class="hl_varref"><span class="mpre">componentPackageDeps</span></span></a><span class="mpre"> </span><a href="#loc_657_21_657_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_657_21_657_25&#39;)"><span class="hl_varref"><span class="mpre">clbi</span></span></a><span class="mpre"> ]
    where
      </span><a name="loc_665_7_665_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_665_7_665_13&#39;)"><span class="hl_vardecl"><span class="mpre">ghcVer</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Compiler.html#loc_99_1_99_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_99_1_99_16&#39;)"><span class="hl_varref"><span class="mpre">compilerVersion</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> </span><a href="#loc_657_17_657_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_657_17_657_20&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)

</span><a href="#loc_668_1_668_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_668_1_668_20&#39;)"><span class="mpre">ghcPackageDbOptions</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_668_1_668_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_668_1_668_20&#39;)"><span class="hl_fundecl"><span class="mpre">ghcPackageDbOptions</span></span></a><span class="mpre"> </span><a name="loc_668_21_668_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_668_21_668_24&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> = case </span><a href="#loc_678_5_678_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_678_5_678_12&#39;)"><span class="hl_varref"><span class="mpre">dbstack</span></span></a><span class="mpre"> of
  (</span><a href="Distribution.Simple.Compiler.html#loc_112_18_112_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_18_112_33&#39;)"><span class="hl_conref"><span class="mpre">GlobalPackageDB</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a href="Distribution.Simple.Compiler.html#loc_113_18_113_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_113_18_113_31&#39;)"><span class="hl_conref"><span class="mpre">UserPackageDB</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_669_34_669_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_669_34_669_37&#39;)"><span class="hl_vardecl"><span class="mpre">dbs</span></span></a><span class="mpre">) -&gt; </span><span class="hl_varref"><span class="mpre">concatMap</span></span><span class="mpre"> </span><a href="#loc_674_5_674_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_674_5_674_13&#39;)"><span class="hl_varref"><span class="mpre">specific</span></span></a><span class="mpre"> </span><a href="#loc_669_34_669_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_669_34_669_37&#39;)"><span class="hl_varref"><span class="mpre">dbs</span></span></a><span class="mpre">
  (</span><a href="Distribution.Simple.Compiler.html#loc_112_18_112_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_18_112_33&#39;)"><span class="hl_conref"><span class="mpre">GlobalPackageDB</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_670_20_670_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_670_20_670_23&#39;)"><span class="hl_vardecl"><span class="mpre">dbs</span></span></a><span class="mpre">)               -&gt; (</span><span class="hl_string"><span class="mpre">&quot;-no-user-&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_679_5_679_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_679_5_679_18&#39;)"><span class="hl_varref"><span class="mpre">packageDbFlag</span></span></a><span class="mpre">)
                                       </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">concatMap</span></span><span class="mpre"> </span><a href="#loc_674_5_674_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_674_5_674_13&#39;)"><span class="hl_varref"><span class="mpre">specific</span></span></a><span class="mpre"> </span><a href="#loc_670_20_670_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_670_20_670_23&#39;)"><span class="hl_varref"><span class="mpre">dbs</span></span></a><span class="mpre">
  _                                   -&gt; </span><a href="#loc_676_5_676_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_676_5_676_11&#39;)"><span class="hl_varref"><span class="mpre">ierror</span></span></a><span class="mpre">
 where
    </span><a name="loc_674_5_674_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_674_5_674_13&#39;)"><span class="hl_fundecl"><span class="mpre">specific</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.Compiler.html#loc_114_18_114_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_114_18_114_35&#39;)"><span class="hl_conref"><span class="mpre">SpecificPackageDB</span></span></a><span class="mpre"> </span><a name="loc_674_33_674_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_674_33_674_35&#39;)"><span class="hl_vardecl"><span class="mpre">db</span></span></a><span class="mpre">) = [ </span><span class="hl_char"><span class="mpre">&#39;-&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_679_5_679_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_679_5_679_18&#39;)"><span class="hl_varref"><span class="mpre">packageDbFlag</span></span></a><span class="mpre">, </span><a href="#loc_674_33_674_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_674_33_674_35&#39;)"><span class="hl_varref"><span class="mpre">db</span></span></a><span class="mpre"> ]
    </span><a href="#loc_674_5_674_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_674_5_674_13&#39;)"><span class="hl_fundecl"><span class="mpre">specific</span></span></a><span class="mpre"> _ = </span><a href="#loc_676_5_676_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_676_5_676_11&#39;)"><span class="hl_varref"><span class="mpre">ierror</span></span></a><span class="mpre">
    </span><a name="loc_676_5_676_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_676_5_676_11&#39;)"><span class="hl_vardecl"><span class="mpre">ierror</span></span></a><span class="mpre">     = </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;internal error: unexpected package db stack: &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_678_5_678_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_678_5_678_12&#39;)"><span class="hl_varref"><span class="mpre">dbstack</span></span></a><span class="mpre">)

    </span><a name="loc_678_5_678_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_678_5_678_12&#39;)"><span class="hl_vardecl"><span class="mpre">dbstack</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_148_9_148_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_148_9_148_22&#39;)"><span class="hl_varref"><span class="mpre">withPackageDB</span></span></a><span class="mpre"> </span><a href="#loc_668_21_668_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_668_21_668_24&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
    </span><a name="loc_679_5_679_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_679_5_679_18&#39;)"><span class="hl_vardecl"><span class="mpre">packageDbFlag</span></span></a><span class="mpre">
      | </span><a href="Distribution.Simple.Compiler.html#loc_99_1_99_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_99_1_99_16&#39;)"><span class="hl_varref"><span class="mpre">compilerVersion</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> </span><a href="#loc_668_21_668_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_668_21_668_24&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Version</span></span><span class="mpre"> [</span><span class="hl_num"><span class="mpre">7</span></span><span class="mpre">,</span><span class="hl_num"><span class="mpre">5</span></span><span class="mpre">] []
      = </span><span class="hl_string"><span class="mpre">&quot;package-conf&quot;</span></span><span class="mpre">
      | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">
      = </span><span class="hl_string"><span class="mpre">&quot;package-db&quot;</span></span><span class="mpre">

</span><a href="#loc_687_1_687_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_687_1_687_19&#39;)"><span class="mpre">constructCcCmdLine</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29&#39;)"><span class="hl_tyconref"><span class="mpre">ComponentLocalBuildInfo</span></span></a><span class="mpre">
                   -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; (</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">,[</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">])
</span><a name="loc_687_1_687_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_687_1_687_19&#39;)"><span class="hl_fundecl"><span class="mpre">constructCcCmdLine</span></span></a><span class="mpre"> </span><a name="loc_687_20_687_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_687_20_687_23&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_687_24_687_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_687_24_687_26&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a name="loc_687_27_687_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_687_27_687_31&#39;)"><span class="hl_vardecl"><span class="mpre">clbi</span></span></a><span class="mpre"> </span><a name="loc_687_32_687_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_687_32_687_36&#39;)"><span class="hl_vardecl"><span class="mpre">pref</span></span></a><span class="mpre"> </span><a name="loc_687_37_687_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_687_37_687_45&#39;)"><span class="hl_vardecl"><span class="mpre">filename</span></span></a><span class="mpre"> </span><a name="loc_687_46_687_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_687_46_687_55&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre">
  =  let </span><a name="loc_688_10_688_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_688_10_688_14&#39;)"><span class="hl_vardecl"><span class="mpre">odir</span></span></a><span class="mpre"> | </span><a href="Distribution.Simple.Compiler.html#loc_99_1_99_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_99_1_99_16&#39;)"><span class="hl_varref"><span class="mpre">compilerVersion</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> </span><a href="#loc_687_20_687_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_687_20_687_23&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Version</span></span><span class="mpre"> [</span><span class="hl_num"><span class="mpre">6</span></span><span class="mpre">,</span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre">,</span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">] []  = </span><a href="#loc_687_32_687_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_687_32_687_36&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre">
              | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_687_32_687_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_687_32_687_36&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">takeDirectory</span></span><span class="mpre"> </span><a href="#loc_687_37_687_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_687_37_687_45&#39;)"><span class="hl_varref"><span class="mpre">filename</span></span></a><span class="mpre">
                        </span><span class="hl_comment"><span class="mpre">-- ghc 6.4.1 fixed a bug in -odir handling</span></span><span class="mpre">
                        </span><span class="hl_comment"><span class="mpre">-- for C compilations.</span></span><span class="mpre">
     in
        (</span><a href="#loc_688_10_688_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_688_10_688_14&#39;)"><span class="hl_varref"><span class="mpre">odir</span></span></a><span class="mpre">,
         </span><a href="#loc_701_1_701_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_701_1_701_13&#39;)"><span class="hl_varref"><span class="mpre">ghcCcOptions</span></span></a><span class="mpre"> </span><a href="#loc_687_20_687_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_687_20_687_23&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a href="#loc_687_24_687_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_687_24_687_26&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a href="#loc_687_27_687_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_687_27_687_31&#39;)"><span class="hl_varref"><span class="mpre">clbi</span></span></a><span class="mpre"> </span><a href="#loc_688_10_688_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_688_10_688_14&#39;)"><span class="hl_varref"><span class="mpre">odir</span></span></a><span class="mpre">
         </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> (if </span><a href="#loc_687_46_687_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_687_46_687_55&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="Distribution.Verbosity.html#loc_76_1_76_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_76_1_76_10&#39;)"><span class="hl_varref"><span class="mpre">deafening</span></span></a><span class="mpre"> then [</span><span class="hl_string"><span class="mpre">&quot;-v&quot;</span></span><span class="mpre">] else [])
         </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-c&quot;</span></span><span class="mpre">,</span><a href="#loc_687_37_687_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_687_37_687_45&#39;)"><span class="hl_varref"><span class="mpre">filename</span></span></a><span class="mpre">])


</span><a href="#loc_701_1_701_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_701_1_701_13&#39;)"><span class="mpre">ghcCcOptions</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29&#39;)"><span class="hl_tyconref"><span class="mpre">ComponentLocalBuildInfo</span></span></a><span class="mpre">
             -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_701_1_701_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_701_1_701_13&#39;)"><span class="hl_fundecl"><span class="mpre">ghcCcOptions</span></span></a><span class="mpre"> </span><a name="loc_701_14_701_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_701_14_701_17&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_701_18_701_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_701_18_701_20&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a name="loc_701_21_701_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_701_21_701_25&#39;)"><span class="hl_vardecl"><span class="mpre">clbi</span></span></a><span class="mpre"> </span><a name="loc_701_26_701_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_701_26_701_30&#39;)"><span class="hl_vardecl"><span class="mpre">odir</span></span></a><span class="mpre">
     =  [</span><span class="hl_string"><span class="mpre">&quot;-I&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_702_24_702_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_24_702_27&#39;)"><span class="hl_varref"><span class="mpre">dir</span></span></a><span class="mpre"> | </span><a name="loc_702_24_702_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_24_702_27&#39;)"><span class="hl_vardecl"><span class="mpre">dir</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_656_9_656_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_656_9_656_20&#39;)"><span class="hl_varref"><span class="mpre">PD.includeDirs</span></span></a><span class="mpre"> </span><a href="#loc_701_18_701_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_701_18_701_20&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">]
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_668_1_668_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_668_1_668_20&#39;)"><span class="hl_varref"><span class="mpre">ghcPackageDbOptions</span></span></a><span class="mpre"> </span><a href="#loc_701_14_701_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_701_14_701_17&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_657_1_657_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_657_1_657_16&#39;)"><span class="hl_varref"><span class="mpre">ghcPackageFlags</span></span></a><span class="mpre"> </span><a href="#loc_701_14_701_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_701_14_701_17&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a href="#loc_701_21_701_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_701_21_701_25&#39;)"><span class="hl_varref"><span class="mpre">clbi</span></span></a><span class="mpre">
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-optc&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_705_27_705_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_705_27_705_30&#39;)"><span class="hl_varref"><span class="mpre">opt</span></span></a><span class="mpre"> | </span><a name="loc_705_27_705_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_705_27_705_30&#39;)"><span class="hl_vardecl"><span class="mpre">opt</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_640_9_640_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_640_9_640_18&#39;)"><span class="hl_varref"><span class="mpre">PD.ccOptions</span></span></a><span class="mpre"> </span><a href="#loc_701_18_701_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_701_18_701_20&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">]
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> (case </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_154_9_154_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_154_9_154_25&#39;)"><span class="hl_varref"><span class="mpre">withOptimization</span></span></a><span class="mpre"> </span><a href="#loc_701_14_701_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_701_14_701_17&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> of
           </span><a href="Distribution.Simple.Compiler.html#loc_162_26_162_40" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_162_26_162_40&#39;)"><span class="hl_conref"><span class="mpre">NoOptimisation</span></span></a><span class="mpre"> -&gt; []
           _              -&gt; [</span><span class="hl_string"><span class="mpre">&quot;-optc-O2&quot;</span></span><span class="mpre">])
     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-odir&quot;</span></span><span class="mpre">, </span><a href="#loc_701_26_701_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_701_26_701_30&#39;)"><span class="hl_varref"><span class="mpre">odir</span></span></a><span class="mpre">]

</span><a href="#loc_712_1_712_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_712_1_712_14&#39;)"><span class="mpre">mkGHCiLibName</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_234_6_234_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_234_6_234_17&#39;)"><span class="hl_tyconref"><span class="mpre">LibraryName</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
</span><a name="loc_712_1_712_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_712_1_712_14&#39;)"><span class="hl_fundecl"><span class="mpre">mkGHCiLibName</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_234_20_234_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_234_20_234_31&#39;)"><span class="hl_conref"><span class="mpre">LibraryName</span></span></a><span class="mpre"> </span><a name="loc_712_28_712_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_712_28_712_31&#39;)"><span class="hl_vardecl"><span class="mpre">lib</span></span></a><span class="mpre">) = </span><a href="#loc_712_28_712_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_712_28_712_31&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;o&quot;</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- -----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Installing</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |Install executables for GHC.</span></span><span class="mpre">
</span><a href="#loc_726_1_726_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_726_1_726_11&#39;)"><span class="mpre">installExe</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">
           -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre">
           -&gt; </span><a href="Distribution.Simple.InstallDirs.html#loc_105_6_105_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.InstallDirs.html#loc_105_6_105_17&#39;)"><span class="hl_tyconref"><span class="mpre">InstallDirs</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^Where to copy the files to</span></span><span class="mpre">
           -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^Build location</span></span><span class="mpre">
           -&gt; (</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">)  </span><span class="hl_comment"><span class="mpre">-- ^Executable (prefix,suffix)</span></span><span class="mpre">
           -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre">
           -&gt; </span><a href="Distribution.PackageDescription.html#loc_347_6_347_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_347_6_347_16&#39;)"><span class="hl_tyconref"><span class="mpre">Executable</span></span></a><span class="mpre">
           -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_726_1_726_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_726_1_726_11&#39;)"><span class="hl_fundecl"><span class="mpre">installExe</span></span></a><span class="mpre"> </span><a name="loc_726_12_726_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_726_12_726_21&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_726_22_726_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_726_22_726_25&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_726_26_726_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_726_26_726_37&#39;)"><span class="hl_vardecl"><span class="mpre">installDirs</span></span></a><span class="mpre"> </span><a name="loc_726_38_726_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_726_38_726_47&#39;)"><span class="hl_vardecl"><span class="mpre">buildPref</span></span></a><span class="mpre"> (</span><a name="loc_726_49_726_59" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_726_49_726_59&#39;)"><span class="hl_vardecl"><span class="mpre">progprefix</span></span></a><span class="mpre">, </span><a name="loc_726_61_726_71" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_726_61_726_71&#39;)"><span class="hl_vardecl"><span class="mpre">progsuffix</span></span></a><span class="mpre">) </span><span class="hl_vardecl"><span class="mpre">_pkg</span></span><span class="mpre"> </span><a name="loc_726_78_726_81" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_726_78_726_81&#39;)"><span class="hl_vardecl"><span class="mpre">exe</span></span></a><span class="mpre"> = do
  let </span><a name="loc_727_7_727_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_727_7_727_13&#39;)"><span class="hl_vardecl"><span class="mpre">binDir</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.InstallDirs.html#loc_107_9_107_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.InstallDirs.html#loc_107_9_107_15&#39;)"><span class="hl_varref"><span class="mpre">bindir</span></span></a><span class="mpre"> </span><a href="#loc_726_26_726_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_726_26_726_37&#39;)"><span class="hl_varref"><span class="mpre">installDirs</span></span></a><span class="mpre">
  </span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="hl_varref"><span class="mpre">createDirectoryIfMissingVerbose</span></span></a><span class="mpre"> </span><a href="#loc_726_12_726_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_726_12_726_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> </span><a href="#loc_727_7_727_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_727_7_727_13&#39;)"><span class="hl_varref"><span class="mpre">binDir</span></span></a><span class="mpre">
  let </span><a name="loc_729_7_729_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_729_7_729_18&#39;)"><span class="hl_vardecl"><span class="mpre">exeFileName</span></span></a><span class="mpre"> = </span><a href="Distribution.PackageDescription.html#loc_348_9_348_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_348_9_348_16&#39;)"><span class="hl_varref"><span class="mpre">exeName</span></span></a><span class="mpre"> </span><a href="#loc_726_78_726_81" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_726_78_726_81&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_135_1_135_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_135_1_135_13&#39;)"><span class="hl_varref"><span class="mpre">exeExtension</span></span></a><span class="mpre">
      </span><a name="loc_730_7_730_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_730_7_730_23&#39;)"><span class="hl_vardecl"><span class="mpre">fixedExeBaseName</span></span></a><span class="mpre"> = </span><a href="#loc_726_49_726_59" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_726_49_726_59&#39;)"><span class="hl_varref"><span class="mpre">progprefix</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_348_9_348_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_348_9_348_16&#39;)"><span class="hl_varref"><span class="mpre">exeName</span></span></a><span class="mpre"> </span><a href="#loc_726_78_726_81" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_726_78_726_81&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_726_61_726_71" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_726_61_726_71&#39;)"><span class="hl_varref"><span class="mpre">progsuffix</span></span></a><span class="mpre">
      </span><a name="loc_731_7_731_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_731_7_731_20&#39;)"><span class="hl_fundecl"><span class="mpre">installBinary</span></span></a><span class="mpre"> </span><a name="loc_731_21_731_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_731_21_731_25&#39;)"><span class="hl_vardecl"><span class="mpre">dest</span></span></a><span class="mpre"> = do
          </span><a href="Distribution.Simple.Utils.html#loc_886_1_886_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_886_1_886_22&#39;)"><span class="hl_varref"><span class="mpre">installExecutableFile</span></span></a><span class="mpre"> </span><a href="#loc_726_12_726_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_726_12_726_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
            (</span><a href="#loc_726_38_726_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_726_38_726_47&#39;)"><span class="hl_varref"><span class="mpre">buildPref</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_348_9_348_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_348_9_348_16&#39;)"><span class="hl_varref"><span class="mpre">exeName</span></span></a><span class="mpre"> </span><a href="#loc_726_78_726_81" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_726_78_726_81&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_729_7_729_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_729_7_729_18&#39;)"><span class="hl_varref"><span class="mpre">exeFileName</span></span></a><span class="mpre">)
            (</span><a href="#loc_731_21_731_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_731_21_731_25&#39;)"><span class="hl_varref"><span class="mpre">dest</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_135_1_135_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_135_1_135_13&#39;)"><span class="hl_varref"><span class="mpre">exeExtension</span></span></a><span class="mpre">)
          </span><a href="#loc_739_1_739_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_739_1_739_9&#39;)"><span class="hl_varref"><span class="mpre">stripExe</span></span></a><span class="mpre"> </span><a href="#loc_726_12_726_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_726_12_726_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_726_22_726_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_726_22_726_25&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a href="#loc_729_7_729_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_729_7_729_18&#39;)"><span class="hl_varref"><span class="mpre">exeFileName</span></span></a><span class="mpre"> (</span><a href="#loc_731_21_731_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_731_21_731_25&#39;)"><span class="hl_varref"><span class="mpre">dest</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_135_1_135_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_135_1_135_13&#39;)"><span class="hl_varref"><span class="mpre">exeExtension</span></span></a><span class="mpre">)
  </span><a href="#loc_731_7_731_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_731_7_731_20&#39;)"><span class="hl_varref"><span class="mpre">installBinary</span></span></a><span class="mpre"> (</span><a href="#loc_727_7_727_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_727_7_727_13&#39;)"><span class="hl_varref"><span class="mpre">binDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_730_7_730_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_730_7_730_23&#39;)"><span class="hl_varref"><span class="mpre">fixedExeBaseName</span></span></a><span class="mpre">)

</span><a href="#loc_739_1_739_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_739_1_739_9&#39;)"><span class="mpre">stripExe</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_739_1_739_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_739_1_739_9&#39;)"><span class="hl_fundecl"><span class="mpre">stripExe</span></span></a><span class="mpre"> </span><a name="loc_739_10_739_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_739_10_739_19&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_739_20_739_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_739_20_739_23&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_739_24_739_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_739_24_739_28&#39;)"><span class="hl_vardecl"><span class="mpre">name</span></span></a><span class="mpre"> </span><a name="loc_739_29_739_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_739_29_739_33&#39;)"><span class="hl_vardecl"><span class="mpre">path</span></span></a><span class="mpre"> = </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_157_9_157_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_157_9_157_18&#39;)"><span class="hl_varref"><span class="mpre">stripExes</span></span></a><span class="mpre"> </span><a href="#loc_739_20_739_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_739_20_739_23&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
  case </span><a href="Distribution.Simple.Program.Db.html#loc_261_1_261_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_261_1_261_14&#39;)"><span class="hl_varref"><span class="mpre">lookupProgram</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_210_1_210_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_210_1_210_13&#39;)"><span class="hl_varref"><span class="mpre">stripProgram</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21&#39;)"><span class="hl_varref"><span class="mpre">withPrograms</span></span></a><span class="mpre"> </span><a href="#loc_739_20_739_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_739_20_739_23&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) of
    </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_741_10_741_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_741_10_741_15&#39;)"><span class="hl_vardecl"><span class="mpre">strip</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.html#loc_197_1_197_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_197_1_197_17&#39;)"><span class="hl_varref"><span class="mpre">rawSystemProgram</span></span></a><span class="mpre"> </span><a href="#loc_739_10_739_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_739_10_739_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_741_10_741_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_741_10_741_15&#39;)"><span class="hl_varref"><span class="mpre">strip</span></span></a><span class="mpre"> </span><a href="#loc_748_5_748_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_748_5_748_9&#39;)"><span class="hl_varref"><span class="mpre">args</span></span></a><span class="mpre">
    </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">    -&gt; </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><a href="Distribution.System.html#loc_112_1_112_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_112_1_112_8&#39;)"><span class="hl_varref"><span class="mpre">buildOS</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="Distribution.System.html#loc_66_19_66_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_66_19_66_26&#39;)"><span class="hl_conref"><span class="mpre">Windows</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
                  </span><span class="hl_comment"><span class="mpre">-- Don&#39;t bother warning on windows, we don&#39;t expect them to</span></span><span class="mpre">
                  </span><span class="hl_comment"><span class="mpre">-- have the strip program anyway.</span></span><span class="mpre">
                  </span><a href="Distribution.Simple.Utils.html#loc_279_1_279_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_279_1_279_5&#39;)"><span class="hl_varref"><span class="mpre">warn</span></span></a><span class="mpre"> </span><a href="#loc_739_10_739_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_739_10_739_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Unable to strip executable &#39;&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_739_24_739_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_739_24_739_28&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre">
                                </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;&#39; (missing the &#39;strip&#39; program)&quot;</span></span><span class="mpre">
  where
    </span><a name="loc_748_5_748_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_748_5_748_9&#39;)"><span class="hl_vardecl"><span class="mpre">args</span></span></a><span class="mpre"> = </span><a href="#loc_739_29_739_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_739_29_739_33&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> case </span><a href="Distribution.System.html#loc_112_1_112_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_112_1_112_8&#39;)"><span class="hl_varref"><span class="mpre">buildOS</span></span></a><span class="mpre"> of
       </span><a href="Distribution.System.html#loc_66_29_66_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_66_29_66_32&#39;)"><span class="hl_conref"><span class="mpre">OSX</span></span></a><span class="mpre"> -&gt; [</span><span class="hl_string"><span class="mpre">&quot;-x&quot;</span></span><span class="mpre">] </span><span class="hl_comment"><span class="mpre">-- By default, stripping the ghc binary on at least</span></span><span class="mpre">
                     </span><span class="hl_comment"><span class="mpre">-- some OS X installations causes:</span></span><span class="mpre">
                     </span><span class="hl_comment"><span class="mpre">--     HSbase-3.0.o: unknown symbol `_environ&#39;&quot;</span></span><span class="mpre">
                     </span><span class="hl_comment"><span class="mpre">-- The -x flag fixes that.</span></span><span class="mpre">
       _   -&gt; []

</span><span class="hl_comment"><span class="mpre">-- |Install for ghc, .hi, .a and, if --with-ghci given, .o</span></span><span class="mpre">
</span><a href="#loc_765_1_765_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_1_765_11&#39;)"><span class="mpre">installLib</span></a><span class="mpre">    :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">
              -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre">
              -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^install location</span></span><span class="mpre">
              -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^install location for dynamic librarys</span></span><span class="mpre">
              -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^Build location</span></span><span class="mpre">
              -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre">
              -&gt; </span><a href="Distribution.PackageDescription.html#loc_299_6_299_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_299_6_299_13&#39;)"><span class="hl_tyconref"><span class="mpre">Library</span></span></a><span class="mpre">
              -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29&#39;)"><span class="hl_tyconref"><span class="mpre">ComponentLocalBuildInfo</span></span></a><span class="mpre">
              -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_765_1_765_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_1_765_11&#39;)"><span class="hl_fundecl"><span class="mpre">installLib</span></span></a><span class="mpre"> </span><a name="loc_765_12_765_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_12_765_21&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_765_22_765_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_22_765_25&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_765_26_765_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_26_765_35&#39;)"><span class="hl_vardecl"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><a name="loc_765_36_765_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_36_765_51&#39;)"><span class="hl_vardecl"><span class="mpre">dynlibTargetDir</span></span></a><span class="mpre"> </span><a name="loc_765_52_765_60" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_52_765_60&#39;)"><span class="hl_vardecl"><span class="mpre">builtDir</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_pkg</span></span><span class="mpre"> </span><a name="loc_765_66_765_69" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_66_765_69&#39;)"><span class="hl_vardecl"><span class="mpre">lib</span></span></a><span class="mpre"> </span><a name="loc_765_70_765_74" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_70_765_74&#39;)"><span class="hl_vardecl"><span class="mpre">clbi</span></span></a><span class="mpre"> = do
  </span><span class="hl_comment"><span class="mpre">-- copy .hi files over:</span></span><span class="mpre">
  let </span><a name="loc_767_7_767_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_767_7_767_11&#39;)"><span class="hl_fundecl"><span class="mpre">copy</span></span></a><span class="mpre"> </span><a name="loc_767_12_767_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_767_12_767_15&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre"> </span><a name="loc_767_16_767_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_767_16_767_19&#39;)"><span class="hl_vardecl"><span class="mpre">dst</span></span></a><span class="mpre"> </span><a name="loc_767_20_767_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_767_20_767_21&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = do
        </span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="hl_varref"><span class="mpre">createDirectoryIfMissingVerbose</span></span></a><span class="mpre"> </span><a href="#loc_765_12_765_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_12_765_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> </span><a href="#loc_767_16_767_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_767_16_767_19&#39;)"><span class="hl_varref"><span class="mpre">dst</span></span></a><span class="mpre">
        </span><a href="Distribution.Simple.Utils.html#loc_877_1_877_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_877_1_877_20&#39;)"><span class="hl_varref"><span class="mpre">installOrdinaryFile</span></span></a><span class="mpre"> </span><a href="#loc_765_12_765_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_12_765_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> (</span><a href="#loc_767_12_767_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_767_12_767_15&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_767_20_767_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_767_20_767_21&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">) (</span><a href="#loc_767_16_767_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_767_16_767_19&#39;)"><span class="hl_varref"><span class="mpre">dst</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_767_20_767_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_767_20_767_21&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
      </span><a name="loc_770_7_770_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_770_7_770_22&#39;)"><span class="hl_fundecl"><span class="mpre">copyModuleFiles</span></span></a><span class="mpre"> </span><a name="loc_770_23_770_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_770_23_770_26&#39;)"><span class="hl_vardecl"><span class="mpre">ext</span></span></a><span class="mpre"> =
        </span><a href="Distribution.Simple.Utils.html#loc_695_1_695_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_695_1_695_16&#39;)"><span class="hl_varref"><span class="mpre">findModuleFiles</span></span></a><span class="mpre"> [</span><a href="#loc_765_52_765_60" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_52_765_60&#39;)"><span class="hl_varref"><span class="mpre">builtDir</span></span></a><span class="mpre">] [</span><a href="#loc_770_23_770_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_770_23_770_26&#39;)"><span class="hl_varref"><span class="mpre">ext</span></span></a><span class="mpre">] (</span><a href="Distribution.PackageDescription.html#loc_341_1_341_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_341_1_341_11&#39;)"><span class="hl_varref"><span class="mpre">libModules</span></span></a><span class="mpre"> </span><a href="#loc_765_66_765_69" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_66_765_69&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre">)
          </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Distribution.Simple.Utils.html#loc_949_1_949_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_949_1_949_21&#39;)"><span class="hl_varref"><span class="mpre">installOrdinaryFiles</span></span></a><span class="mpre"> </span><a href="#loc_765_12_765_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_12_765_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_765_26_765_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_26_765_35&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre">
  </span><a href="#loc_800_5_800_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_800_5_800_14&#39;)"><span class="hl_varref"><span class="mpre">ifVanilla</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_770_7_770_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_770_7_770_22&#39;)"><span class="hl_varref"><span class="mpre">copyModuleFiles</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;hi&quot;</span></span><span class="mpre">
  </span><a href="#loc_801_5_801_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_801_5_801_11&#39;)"><span class="hl_varref"><span class="mpre">ifProf</span></span></a><span class="mpre">    </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_770_7_770_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_770_7_770_22&#39;)"><span class="hl_varref"><span class="mpre">copyModuleFiles</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;p_hi&quot;</span></span><span class="mpre">
  </span><a name="loc_775_3_775_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_775_3_775_11&#39;)"><span class="hl_vardecl"><span class="mpre">hcrFiles</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.Simple.Utils.html#loc_695_1_695_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_695_1_695_16&#39;)"><span class="hl_varref"><span class="mpre">findModuleFiles</span></span></a><span class="mpre"> (</span><a href="#loc_765_52_765_60" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_52_765_60&#39;)"><span class="hl_varref"><span class="mpre">builtDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_645_9_645_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_645_9_645_21&#39;)"><span class="hl_varref"><span class="mpre">hsSourceDirs</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_302_9_302_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_302_9_302_21&#39;)"><span class="hl_varref"><span class="mpre">libBuildInfo</span></span></a><span class="mpre"> </span><a href="#loc_765_66_765_69" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_66_765_69&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre">)) [</span><span class="hl_string"><span class="mpre">&quot;hcr&quot;</span></span><span class="mpre">] (</span><a href="Distribution.PackageDescription.html#loc_341_1_341_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_341_1_341_11&#39;)"><span class="hl_varref"><span class="mpre">libModules</span></span></a><span class="mpre"> </span><a href="#loc_765_66_765_69" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_66_765_69&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre">)
  </span><span class="hl_varref"><span class="mpre">flip</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">mapM_</span></span><span class="mpre"> </span><a href="#loc_775_3_775_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_775_3_775_11&#39;)"><span class="hl_varref"><span class="mpre">hcrFiles</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \(</span><a name="loc_776_27_776_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_776_27_776_34&#39;)"><span class="hl_vardecl"><span class="mpre">srcBase</span></span></a><span class="mpre">, </span><a name="loc_776_36_776_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_776_36_776_43&#39;)"><span class="hl_vardecl"><span class="mpre">srcFile</span></span></a><span class="mpre">) -&gt; </span><a href="#loc_805_5_805_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_805_5_805_11&#39;)"><span class="hl_varref"><span class="mpre">runLhc</span></span></a><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;--install-library&quot;</span></span><span class="mpre">, </span><a href="#loc_776_27_776_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_776_27_776_34&#39;)"><span class="hl_varref"><span class="mpre">srcBase</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_776_36_776_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_776_36_776_43&#39;)"><span class="hl_varref"><span class="mpre">srcFile</span></span></a><span class="mpre">]

  </span><span class="hl_comment"><span class="mpre">-- copy the built library files over:</span></span><span class="mpre">
  </span><a href="#loc_800_5_800_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_800_5_800_14&#39;)"><span class="hl_varref"><span class="mpre">ifVanilla</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">mapM_</span></span><span class="mpre"> (</span><a href="#loc_767_7_767_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_767_7_767_11&#39;)"><span class="hl_varref"><span class="mpre">copy</span></span></a><span class="mpre"> </span><a href="#loc_765_52_765_60" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_52_765_60&#39;)"><span class="hl_varref"><span class="mpre">builtDir</span></span></a><span class="mpre"> </span><a href="#loc_765_26_765_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_26_765_35&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre">)       </span><a href="#loc_793_5_793_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_793_5_793_20&#39;)"><span class="hl_varref"><span class="mpre">vanillaLibNames</span></span></a><span class="mpre">
  </span><a href="#loc_801_5_801_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_801_5_801_11&#39;)"><span class="hl_varref"><span class="mpre">ifProf</span></span></a><span class="mpre">    </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">mapM_</span></span><span class="mpre"> (</span><a href="#loc_767_7_767_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_767_7_767_11&#39;)"><span class="hl_varref"><span class="mpre">copy</span></span></a><span class="mpre"> </span><a href="#loc_765_52_765_60" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_52_765_60&#39;)"><span class="hl_varref"><span class="mpre">builtDir</span></span></a><span class="mpre"> </span><a href="#loc_765_26_765_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_26_765_35&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre">)       </span><a href="#loc_794_5_794_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_794_5_794_20&#39;)"><span class="hl_varref"><span class="mpre">profileLibNames</span></span></a><span class="mpre">
  </span><a href="#loc_802_5_802_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_802_5_802_11&#39;)"><span class="hl_varref"><span class="mpre">ifGHCi</span></span></a><span class="mpre">    </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">mapM_</span></span><span class="mpre"> (</span><a href="#loc_767_7_767_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_767_7_767_11&#39;)"><span class="hl_varref"><span class="mpre">copy</span></span></a><span class="mpre"> </span><a href="#loc_765_52_765_60" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_52_765_60&#39;)"><span class="hl_varref"><span class="mpre">builtDir</span></span></a><span class="mpre"> </span><a href="#loc_765_26_765_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_26_765_35&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre">)       </span><a href="#loc_795_5_795_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_795_5_795_17&#39;)"><span class="hl_varref"><span class="mpre">ghciLibNames</span></span></a><span class="mpre">
  </span><a href="#loc_803_5_803_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_803_5_803_13&#39;)"><span class="hl_varref"><span class="mpre">ifShared</span></span></a><span class="mpre">  </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">mapM_</span></span><span class="mpre"> (</span><a href="#loc_767_7_767_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_767_7_767_11&#39;)"><span class="hl_varref"><span class="mpre">copy</span></span></a><span class="mpre"> </span><a href="#loc_765_52_765_60" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_52_765_60&#39;)"><span class="hl_varref"><span class="mpre">builtDir</span></span></a><span class="mpre"> </span><a href="#loc_765_36_765_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_36_765_51&#39;)"><span class="hl_varref"><span class="mpre">dynlibTargetDir</span></span></a><span class="mpre">) </span><a href="#loc_796_5_796_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_796_5_796_19&#39;)"><span class="hl_varref"><span class="mpre">sharedLibNames</span></span></a><span class="mpre">

  </span><span class="hl_comment"><span class="mpre">-- run ranlib if necessary:</span></span><span class="mpre">
  </span><a href="#loc_800_5_800_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_800_5_800_14&#39;)"><span class="hl_varref"><span class="mpre">ifVanilla</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">mapM_</span></span><span class="mpre"> (</span><a href="#loc_811_1_811_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_811_1_811_17&#39;)"><span class="hl_varref"><span class="mpre">updateLibArchive</span></span></a><span class="mpre"> </span><a href="#loc_765_12_765_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_12_765_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_765_22_765_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_22_765_25&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (</span><a href="#loc_765_26_765_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_26_765_35&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre">))
                    </span><a href="#loc_793_5_793_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_793_5_793_20&#39;)"><span class="hl_varref"><span class="mpre">vanillaLibNames</span></span></a><span class="mpre">
  </span><a href="#loc_801_5_801_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_801_5_801_11&#39;)"><span class="hl_varref"><span class="mpre">ifProf</span></span></a><span class="mpre">    </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">mapM_</span></span><span class="mpre"> (</span><a href="#loc_811_1_811_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_811_1_811_17&#39;)"><span class="hl_varref"><span class="mpre">updateLibArchive</span></span></a><span class="mpre"> </span><a href="#loc_765_12_765_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_12_765_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_765_22_765_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_22_765_25&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (</span><a href="#loc_765_26_765_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_26_765_35&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre">))
                    </span><a href="#loc_794_5_794_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_794_5_794_20&#39;)"><span class="hl_varref"><span class="mpre">profileLibNames</span></span></a><span class="mpre">

  where
    </span><a name="loc_791_5_791_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_791_5_791_8&#39;)"><span class="hl_vardecl"><span class="mpre">cid</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Compiler.html#loc_86_9_86_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_86_9_86_19&#39;)"><span class="hl_varref"><span class="mpre">compilerId</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> </span><a href="#loc_765_22_765_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_22_765_25&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)
    </span><a name="loc_792_5_792_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_792_5_792_13&#39;)"><span class="hl_vardecl"><span class="mpre">libNames</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_210_5_210_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_210_5_210_23&#39;)"><span class="hl_varref"><span class="mpre">componentLibraries</span></span></a><span class="mpre"> </span><a href="#loc_765_70_765_74" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_70_765_74&#39;)"><span class="hl_varref"><span class="mpre">clbi</span></span></a><span class="mpre">
    </span><a name="loc_793_5_793_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_793_5_793_20&#39;)"><span class="hl_vardecl"><span class="mpre">vanillaLibNames</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_114_1_114_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_114_1_114_10&#39;)"><span class="hl_varref"><span class="mpre">mkLibName</span></span></a><span class="mpre">             </span><a href="#loc_792_5_792_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_792_5_792_13&#39;)"><span class="hl_varref"><span class="mpre">libNames</span></span></a><span class="mpre">
    </span><a name="loc_794_5_794_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_794_5_794_20&#39;)"><span class="hl_vardecl"><span class="mpre">profileLibNames</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_117_1_117_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_117_1_117_14&#39;)"><span class="hl_varref"><span class="mpre">mkProfLibName</span></span></a><span class="mpre">         </span><a href="#loc_792_5_792_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_792_5_792_13&#39;)"><span class="hl_varref"><span class="mpre">libNames</span></span></a><span class="mpre">
    </span><a name="loc_795_5_795_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_795_5_795_17&#39;)"><span class="hl_vardecl"><span class="mpre">ghciLibNames</span></span></a><span class="mpre">    = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_712_1_712_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_712_1_712_14&#39;)"><span class="hl_varref"><span class="mpre">mkGHCiLibName</span></span></a><span class="mpre">         </span><a href="#loc_792_5_792_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_792_5_792_13&#39;)"><span class="hl_varref"><span class="mpre">libNames</span></span></a><span class="mpre">
    </span><a name="loc_796_5_796_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_796_5_796_19&#39;)"><span class="hl_vardecl"><span class="mpre">sharedLibNames</span></span></a><span class="mpre">  = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><a href="Distribution.Simple.BuildPaths.html#loc_123_1_123_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_123_1_123_16&#39;)"><span class="hl_varref"><span class="mpre">mkSharedLibName</span></span></a><span class="mpre"> </span><a href="#loc_791_5_791_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_791_5_791_8&#39;)"><span class="hl_varref"><span class="mpre">cid</span></span></a><span class="mpre">) </span><a href="#loc_792_5_792_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_792_5_792_13&#39;)"><span class="hl_varref"><span class="mpre">libNames</span></span></a><span class="mpre">

    </span><a name="loc_798_5_798_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_798_5_798_11&#39;)"><span class="hl_vardecl"><span class="mpre">hasLib</span></span></a><span class="mpre">    = </span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_341_1_341_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_341_1_341_11&#39;)"><span class="hl_varref"><span class="mpre">libModules</span></span></a><span class="mpre"> </span><a href="#loc_765_66_765_69" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_66_765_69&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre">)
                   </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_644_9_644_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_644_9_644_17&#39;)"><span class="hl_varref"><span class="mpre">cSources</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_302_9_302_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_302_9_302_21&#39;)"><span class="hl_varref"><span class="mpre">libBuildInfo</span></span></a><span class="mpre"> </span><a href="#loc_765_66_765_69" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_66_765_69&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre">))
    </span><a name="loc_800_5_800_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_800_5_800_14&#39;)"><span class="hl_vardecl"><span class="mpre">ifVanilla</span></span></a><span class="mpre"> = </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> (</span><a href="#loc_798_5_798_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_798_5_798_11&#39;)"><span class="hl_varref"><span class="mpre">hasLib</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_149_9_149_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_149_9_149_23&#39;)"><span class="hl_varref"><span class="mpre">withVanillaLib</span></span></a><span class="mpre"> </span><a href="#loc_765_22_765_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_22_765_25&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)
    </span><a name="loc_801_5_801_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_801_5_801_11&#39;)"><span class="hl_vardecl"><span class="mpre">ifProf</span></span></a><span class="mpre">    = </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> (</span><a href="#loc_798_5_798_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_798_5_798_11&#39;)"><span class="hl_varref"><span class="mpre">hasLib</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_150_9_150_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_150_9_150_20&#39;)"><span class="hl_varref"><span class="mpre">withProfLib</span></span></a><span class="mpre">    </span><a href="#loc_765_22_765_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_22_765_25&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)
    </span><a name="loc_802_5_802_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_802_5_802_11&#39;)"><span class="hl_vardecl"><span class="mpre">ifGHCi</span></span></a><span class="mpre">    = </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> (</span><a href="#loc_798_5_798_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_798_5_798_11&#39;)"><span class="hl_varref"><span class="mpre">hasLib</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_155_9_155_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_155_9_155_20&#39;)"><span class="hl_varref"><span class="mpre">withGHCiLib</span></span></a><span class="mpre">    </span><a href="#loc_765_22_765_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_22_765_25&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)
    </span><a name="loc_803_5_803_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_803_5_803_13&#39;)"><span class="hl_vardecl"><span class="mpre">ifShared</span></span></a><span class="mpre">  = </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> (</span><a href="#loc_798_5_798_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_798_5_798_11&#39;)"><span class="hl_varref"><span class="mpre">hasLib</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_151_9_151_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_151_9_151_22&#39;)"><span class="hl_varref"><span class="mpre">withSharedLib</span></span></a><span class="mpre">  </span><a href="#loc_765_22_765_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_22_765_25&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)

    </span><a name="loc_805_5_805_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_805_5_805_11&#39;)"><span class="hl_vardecl"><span class="mpre">runLhc</span></span></a><span class="mpre">    = </span><a href="Distribution.Simple.Program.html#loc_205_1_205_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_205_1_205_21&#39;)"><span class="hl_varref"><span class="mpre">rawSystemProgramConf</span></span></a><span class="mpre"> </span><a href="#loc_765_12_765_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_12_765_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_112_1_112_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_112_1_112_11&#39;)"><span class="hl_varref"><span class="mpre">lhcProgram</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21&#39;)"><span class="hl_varref"><span class="mpre">withPrograms</span></span></a><span class="mpre"> </span><a href="#loc_765_22_765_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_765_22_765_25&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | use @ranlib@ or @ar -s@ to build an index. This is necessary on systems</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- like MacOS X. If we can&#39;t find those, don&#39;t worry too much about it.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_811_1_811_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_811_1_811_17&#39;)"><span class="mpre">updateLibArchive</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_811_1_811_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_811_1_811_17&#39;)"><span class="hl_fundecl"><span class="mpre">updateLibArchive</span></span></a><span class="mpre"> </span><a name="loc_811_18_811_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_811_18_811_27&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_811_28_811_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_811_28_811_31&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_811_32_811_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_811_32_811_36&#39;)"><span class="hl_vardecl"><span class="mpre">path</span></span></a><span class="mpre"> =
  case </span><a href="Distribution.Simple.Program.Db.html#loc_261_1_261_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_261_1_261_14&#39;)"><span class="hl_varref"><span class="mpre">lookupProgram</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_204_1_204_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_204_1_204_14&#39;)"><span class="hl_varref"><span class="mpre">ranlibProgram</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21&#39;)"><span class="hl_varref"><span class="mpre">withPrograms</span></span></a><span class="mpre"> </span><a href="#loc_811_28_811_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_811_28_811_31&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) of
    </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_813_10_813_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_813_10_813_16&#39;)"><span class="hl_vardecl"><span class="mpre">ranlib</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.html#loc_197_1_197_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_197_1_197_17&#39;)"><span class="hl_varref"><span class="mpre">rawSystemProgram</span></span></a><span class="mpre"> </span><a href="#loc_811_18_811_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_811_18_811_27&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_813_10_813_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_813_10_813_16&#39;)"><span class="hl_varref"><span class="mpre">ranlib</span></span></a><span class="mpre"> [</span><a href="#loc_811_32_811_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_811_32_811_36&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre">]
    </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">     -&gt; case </span><a href="Distribution.Simple.Program.Db.html#loc_261_1_261_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_261_1_261_14&#39;)"><span class="hl_varref"><span class="mpre">lookupProgram</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_207_1_207_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_207_1_207_10&#39;)"><span class="hl_varref"><span class="mpre">arProgram</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21&#39;)"><span class="hl_varref"><span class="mpre">withPrograms</span></span></a><span class="mpre"> </span><a href="#loc_811_28_811_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_811_28_811_31&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) of
      </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_815_12_815_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_815_12_815_14&#39;)"><span class="hl_vardecl"><span class="mpre">ar</span></span></a><span class="mpre">   -&gt; </span><a href="Distribution.Simple.Program.html#loc_197_1_197_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_197_1_197_17&#39;)"><span class="hl_varref"><span class="mpre">rawSystemProgram</span></span></a><span class="mpre"> </span><a href="#loc_811_18_811_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_811_18_811_27&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_815_12_815_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_815_12_815_14&#39;)"><span class="hl_varref"><span class="mpre">ar</span></span></a><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-s&quot;</span></span><span class="mpre">, </span><a href="#loc_811_32_811_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_811_32_811_36&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre">]
      </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">   -&gt; </span><a href="Distribution.Simple.Utils.html#loc_279_1_279_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_279_1_279_5&#39;)"><span class="hl_varref"><span class="mpre">warn</span></span></a><span class="mpre"> </span><a href="#loc_811_18_811_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_811_18_811_27&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
                        </span><span class="hl_string"><span class="mpre">&quot;Unable to generate a symbol index for the static &quot;</span></span><span class="mpre">
                     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;library &#39;&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_811_32_811_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_811_32_811_36&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre">
                     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;&#39; (missing the &#39;ranlib&#39; and &#39;ar&#39; programs)&quot;</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- -----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Registering</span></span><span class="mpre">

</span><a href="#loc_832_1_832_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_1_832_16&#39;)"><span class="mpre">registerPackage</span></a><span class="mpre">
  :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">
  -&gt; </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre">
  -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre">
  -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre">
  -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
  -&gt; </span><span class="hl_tyconref"><span class="mpre">PackageDBStack</span></span><span class="mpre">
  -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_832_1_832_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_1_832_16&#39;)"><span class="hl_fundecl"><span class="mpre">registerPackage</span></span></a><span class="mpre"> </span><a name="loc_832_17_832_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_17_832_26&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_832_27_832_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_27_832_43&#39;)"><span class="hl_vardecl"><span class="mpre">installedPkgInfo</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_pkg</span></span><span class="mpre"> </span><a name="loc_832_49_832_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_49_832_52&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_inplace</span></span><span class="mpre"> </span><a name="loc_832_62_832_72" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_62_832_72&#39;)"><span class="hl_vardecl"><span class="mpre">packageDbs</span></span></a><span class="mpre"> = do
  let </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_833_12_833_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_833_12_833_18&#39;)"><span class="hl_vardecl"><span class="mpre">lhcPkg</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Program.Db.html#loc_261_1_261_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_261_1_261_14&#39;)"><span class="hl_varref"><span class="mpre">lookupProgram</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_117_1_117_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_117_1_117_14&#39;)"><span class="hl_varref"><span class="mpre">lhcPkgProgram</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21&#39;)"><span class="hl_varref"><span class="mpre">withPrograms</span></span></a><span class="mpre"> </span><a href="#loc_832_49_832_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_49_832_52&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)
  </span><a href="Distribution.Simple.Program.HcPkg.html#loc_110_1_110_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.HcPkg.html#loc_110_1_110_11&#39;)"><span class="hl_varref"><span class="mpre">HcPkg.reregister</span></span></a><span class="mpre"> </span><a href="#loc_832_17_832_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_17_832_26&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_833_12_833_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_833_12_833_18&#39;)"><span class="hl_varref"><span class="mpre">lhcPkg</span></span></a><span class="mpre"> </span><a href="#loc_832_62_832_72" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_62_832_72&#39;)"><span class="hl_varref"><span class="mpre">packageDbs</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a href="#loc_832_27_832_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_27_832_43&#39;)"><span class="hl_varref"><span class="mpre">installedPkgInfo</span></span></a><span class="mpre">)
</span></div></body></html>