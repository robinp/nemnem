<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP #-}
{-# LANGUAGE FlexibleInstances #-}
{-# LANGUAGE MultiParamTypeClasses #-}
{-# LANGUAGE Rank2Types #-}
{-# LANGUAGE UndecidableInstances #-}

#ifndef MIN_VERSION_mtl
#define MIN_VERSION_mtl(x,y,z) 1
#endif

</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Control.Monad.Trans.Free.Church</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (C) 2008-2014 Edward Kmett</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  BSD-style (see the file LICENSE)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  provisional</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  non-portable (rank-2 polymorphism, MTPCs)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- </span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Church-encoded free monad transformer.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
module Control.Monad.Trans.Free.Church
  (
  </span><span class="hl_comment"><span class="mpre">-- * The free monad transformer</span></span><span class="mpre">
    FT(..)
  </span><span class="hl_comment"><span class="mpre">-- * The free monad</span></span><span class="mpre">
  , F, free, runF
  </span><span class="hl_comment"><span class="mpre">-- * Operations</span></span><span class="mpre">
  , toFT, fromFT
  , iterT
  , iterTM
  , hoistFT
  , transFT
  , cutoff
  </span><span class="hl_comment"><span class="mpre">-- * Operations of free monad</span></span><span class="mpre">
  , improve
  , fromF, toF
  , retract
  , iter
  , iterM
  </span><span class="hl_comment"><span class="mpre">-- * Free Monads With Class</span></span><span class="mpre">
  , MonadFree(..)
  ) where

import Control.Applicative
import Control.Monad
import Control.Monad.Identity
import Control.Monad.Trans.Class
import Control.Monad.IO.Class
import Control.Monad.Reader.Class
import Control.Monad.Writer.Class
import Control.Monad.State.Class
import Control.Monad.Error.Class
import Control.Monad.Cont.Class
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 57, srcSpanStartColumn = 8, srcSpanEndLine = 57, srcSpanEndColumn = 32}, srcInfoPoints = []}) &quot;Control.Monad.Free.Class&quot;"><span class="mpre">Control.Monad.Free.Class</span></span><span class="mpre">
import Control.Monad.Trans.Free (</span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="mpre">FreeT</span></a><span class="mpre">(..), </span><a href="Control.Monad.Trans.Free.html#loc_74_6_74_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_6_74_11&#39;)"><span class="mpre">FreeF</span></a><span class="mpre">(..), </span><a href="Control.Monad.Trans.Free.html#loc_74_29_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_29_74_33&#39;)"><span class="mpre">Free</span></a><span class="mpre">)
import qualified Control.Monad.Trans.Free as FreeT
import Data.Foldable (</span><a href="Data.Foldable.html#loc_97_7_97_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Foldable.html#loc_97_7_97_15&#39;)"><span class="mpre">Foldable</span></a><span class="mpre">)
import qualified Data.Foldable as F
import Data.Traversable (</span><a href="Data.Traversable.html#loc_147_34_147_45" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Traversable.html#loc_147_34_147_45&#39;)"><span class="mpre">Traversable</span></a><span class="mpre">)
import qualified Data.Traversable as T
import Data.Monoid
import Data.Functor.Bind hiding (</span><a href="Data.Functor.Bind.html#loc_359_3_359_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Bind.html#loc_359_3_359_7&#39;)"><span class="mpre">join</span></a><span class="mpre">)
import Data.Function

</span><span class="hl_comment"><span class="mpre">-- | The \&quot;free monad transformer\&quot; for a functor @f@</span></span><span class="mpre">
newtype </span><a name="loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tycondecl"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> = </span><a name="loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_condecl"><span class="mpre">FT</span></span></a><span class="mpre"> {</span><a name="loc_69_24_69_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_24_69_29&#39;)"><span class="hl_fielddecl"><span class="mpre">runFT</span></span></a><span class="mpre"> :: forall </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">. (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) -&gt; (</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">}

instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 71, srcSpanStartColumn = 10, srcSpanEndLine = 71, srcSpanEndColumn = 51}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 71, srcSpanStartColumn = 10, srcSpanEndLine = 71, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Tra"><span class="mpre">(Functor f, Monad m, Eq (FreeT f m a)) =&gt;</span></span><span class="mpre"> </span><span class="hl_classref"><span class="mpre">Eq</span></span><span class="mpre"> (</span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) where
  </span><span class="hl_vardecl"><span class="mpre">(==)</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">(==)</span></span><span class="mpre"> </span><a href="Data.Function.html#loc_87_7_87_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Function.html#loc_87_7_87_11&#39;)"><span class="hl_infix"><span class="mpre">`on`</span></span></a><span class="mpre"> </span><a href="#loc_166_1_166_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_1_166_7&#39;)"><span class="hl_varref"><span class="mpre">fromFT</span></span></a><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 74, srcSpanStartColumn = 10, srcSpanEndLine = 74, srcSpanEndColumn = 52}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 74, srcSpanStartColumn = 10, srcSpanEndLine = 74, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Tra"><span class="mpre">(Functor f, Monad m, Ord (FreeT f m a)) =&gt;</span></span><span class="mpre"> </span><span class="hl_classref"><span class="mpre">Ord</span></span><span class="mpre"> (</span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) where
  </span><span class="hl_vardecl"><span class="mpre">compare</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">compare</span></span><span class="mpre"> </span><a href="Data.Function.html#loc_87_7_87_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Function.html#loc_87_7_87_11&#39;)"><span class="hl_infix"><span class="mpre">`on`</span></span></a><span class="mpre"> </span><a href="#loc_166_1_166_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_1_166_7&#39;)"><span class="hl_varref"><span class="mpre">fromFT</span></span></a><span class="mpre">

instance </span><span class="hl_classref"><span class="mpre">Functor</span></span><span class="mpre"> (</span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
  </span><span class="hl_fundecl"><span class="mpre">fmap</span></span><span class="mpre"> </span><a name="loc_78_8_78_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_8_78_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><a name="loc_78_14_78_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_14_78_15&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre">) = </span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_78_25_78_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_25_78_26&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_78_27_78_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_27_78_29&#39;)"><span class="hl_vardecl"><span class="mpre">fr</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_78_14_78_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_14_78_15&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> (</span><a href="#loc_78_25_78_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_25_78_26&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_78_8_78_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_8_78_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) </span><a href="#loc_78_27_78_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_27_78_29&#39;)"><span class="hl_varref"><span class="mpre">fr</span></span></a><span class="mpre">

instance </span><a href="Data.Functor.Bind.html#loc_98_20_98_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Bind.html#loc_98_20_98_25&#39;)"><span class="hl_classref"><span class="mpre">Apply</span></span></a><span class="mpre"> (</span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
  </span><span class="hl_vardecl"><span class="mpre">(&lt;.&gt;)</span></span><span class="mpre"> = </span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="hl_varref"><span class="mpre">(&lt;*&gt;)</span></span></a><span class="mpre">

instance </span><a href="Control.Applicative.html#loc_113_20_113_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_113_20_113_31&#39;)"><span class="hl_classref"><span class="mpre">Applicative</span></span></a><span class="mpre"> (</span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
  </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_fundecl"><span class="mpre">pure</span></span></a><span class="mpre"> </span><a name="loc_84_8_84_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_8_84_9&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_84_18_84_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_18_84_19&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> _ -&gt; </span><a href="#loc_84_18_84_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_18_84_19&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_84_8_84_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_8_84_9&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
  </span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><a name="loc_85_6_85_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_6_85_8&#39;)"><span class="hl_vardecl"><span class="mpre">fk</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;*&gt;</span></span></a><span class="mpre"> </span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><a name="loc_85_16_85_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_16_85_18&#39;)"><span class="hl_vardecl"><span class="mpre">ak</span></span></a><span class="mpre"> = </span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_85_27_85_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_27_85_28&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> </span><a name="loc_85_29_85_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_29_85_31&#39;)"><span class="hl_vardecl"><span class="mpre">fr</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_85_16_85_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_16_85_18&#39;)"><span class="hl_varref"><span class="mpre">ak</span></span></a><span class="mpre"> (\</span><a name="loc_85_40_85_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_40_85_41&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_85_6_85_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_6_85_8&#39;)"><span class="hl_varref"><span class="mpre">fk</span></span></a><span class="mpre"> (\</span><a name="loc_85_50_85_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_50_85_51&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_85_27_85_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_27_85_28&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> (</span><a href="#loc_85_50_85_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_50_85_51&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> </span><a href="#loc_85_40_85_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_40_85_41&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre">)) </span><a href="#loc_85_29_85_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_29_85_31&#39;)"><span class="hl_varref"><span class="mpre">fr</span></span></a><span class="mpre">) </span><a href="#loc_85_29_85_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_29_85_31&#39;)"><span class="hl_varref"><span class="mpre">fr</span></span></a><span class="mpre">

instance </span><a href="Data.Functor.Bind.html#loc_355_18_355_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Bind.html#loc_355_18_355_22&#39;)"><span class="hl_classref"><span class="mpre">Bind</span></span></a><span class="mpre"> (</span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
  </span><a href="Data.Functor.Bind.html#loc_356_3_356_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Bind.html#loc_356_3_356_8&#39;)"><span class="hl_vardecl"><span class="mpre">(&gt;&gt;-)</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">(&gt;&gt;=)</span></span><span class="mpre">

instance </span><span class="hl_classref"><span class="mpre">Monad</span></span><span class="mpre"> (</span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
  </span><span class="hl_vardecl"><span class="mpre">return</span></span><span class="mpre"> = </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_varref"><span class="mpre">pure</span></span></a><span class="mpre">
  </span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><a name="loc_92_6_92_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_6_92_8&#39;)"><span class="hl_vardecl"><span class="mpre">fk</span></span></a><span class="mpre"> </span><span class="hl_fundecl"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a name="loc_92_13_92_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_13_92_14&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_92_23_92_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_23_92_24&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> </span><a name="loc_92_25_92_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_25_92_27&#39;)"><span class="hl_vardecl"><span class="mpre">fr</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_92_6_92_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_6_92_8&#39;)"><span class="hl_varref"><span class="mpre">fk</span></span></a><span class="mpre"> (\</span><a name="loc_92_36_92_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_36_92_37&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_69_24_69_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_24_69_29&#39;)"><span class="hl_varref"><span class="mpre">runFT</span></span></a><span class="mpre"> (</span><a href="#loc_92_13_92_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_13_92_14&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_92_36_92_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_36_92_37&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre">) </span><a href="#loc_92_23_92_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_23_92_24&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_92_25_92_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_25_92_27&#39;)"><span class="hl_varref"><span class="mpre">fr</span></span></a><span class="mpre">) </span><a href="#loc_92_25_92_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_25_92_27&#39;)"><span class="hl_varref"><span class="mpre">fr</span></span></a><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxParen (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 94, srcSpanStartColumn = 10, srcSpanEndLine = 94, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 94, srcSpanStartColumn = 10, srcSpanEndLine = 94, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Tra"><span class="mpre">(Functor f) =&gt;</span></span><span class="mpre"> </span><span class="hl_classref"><span class="mpre">MonadFree</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> (</span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
  </span><span class="hl_fundecl"><span class="mpre">wrap</span></span><span class="mpre"> </span><a name="loc_95_8_95_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_8_95_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> (\</span><a name="loc_95_17_95_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_17_95_19&#39;)"><span class="hl_vardecl"><span class="mpre">kp</span></span></a><span class="mpre"> </span><a name="loc_95_20_95_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_20_95_22&#39;)"><span class="hl_vardecl"><span class="mpre">kf</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_95_20_95_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_20_95_22&#39;)"><span class="hl_varref"><span class="mpre">kf</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (\(</span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><a name="loc_95_41_95_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_41_95_42&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre">) -&gt; </span><a href="#loc_95_41_95_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_41_95_42&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><a href="#loc_95_17_95_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_17_95_19&#39;)"><span class="hl_varref"><span class="mpre">kp</span></span></a><span class="mpre"> </span><a href="#loc_95_20_95_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_20_95_22&#39;)"><span class="hl_varref"><span class="mpre">kf</span></span></a><span class="mpre">) </span><a href="#loc_95_8_95_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_8_95_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">))

instance </span><a href="Control.Monad.Trans.Class.html#loc_49_7_49_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_49_7_49_17&#39;)"><span class="hl_classref"><span class="mpre">MonadTrans</span></span></a><span class="mpre"> (</span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">) where
  </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_fundecl"><span class="mpre">lift</span></span></a><span class="mpre"> </span><a name="loc_98_8_98_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_8_98_9&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = </span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> (\</span><a name="loc_98_17_98_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_17_98_18&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> _ -&gt; </span><a href="#loc_98_8_98_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_8_98_9&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="#loc_98_17_98_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_17_98_18&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)

instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 100, srcSpanStartColumn = 10, srcSpanEndLine = 100, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 100, srcSpanStartColumn = 24, srcSpanEndLine = 100, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagran"><span class="mpre">Alternative m =&gt;</span></span><span class="mpre"> </span><a href="Control.Applicative.html#loc_138_24_138_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_138_24_138_35&#39;)"><span class="hl_classref"><span class="mpre">Alternative</span></span></a><span class="mpre"> (</span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
  </span><a href="Control.Applicative.html#loc_140_5_140_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_140_5_140_10&#39;)"><span class="hl_vardecl"><span class="mpre">empty</span></span></a><span class="mpre"> = </span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> (\_ _ -&gt; </span><a href="Control.Applicative.html#loc_140_5_140_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_140_5_140_10&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre">)
  </span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><a name="loc_102_6_102_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_6_102_8&#39;)"><span class="hl_vardecl"><span class="mpre">k1</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_142_5_142_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_142_5_142_10&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;|&gt;</span></span></a><span class="mpre"> </span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><a name="loc_102_16_102_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_16_102_18&#39;)"><span class="hl_vardecl"><span class="mpre">k2</span></span></a><span class="mpre"> = </span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_102_27_102_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_27_102_28&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_102_29_102_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_29_102_31&#39;)"><span class="hl_vardecl"><span class="mpre">fr</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_102_6_102_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_6_102_8&#39;)"><span class="hl_varref"><span class="mpre">k1</span></span></a><span class="mpre"> </span><a href="#loc_102_27_102_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_27_102_28&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_102_29_102_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_29_102_31&#39;)"><span class="hl_varref"><span class="mpre">fr</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_142_5_142_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_142_5_142_10&#39;)"><span class="hl_infix"><span class="mpre">&lt;|&gt;</span></span></a><span class="mpre"> </span><a href="#loc_102_16_102_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_16_102_18&#39;)"><span class="hl_varref"><span class="mpre">k2</span></span></a><span class="mpre"> </span><a href="#loc_102_27_102_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_27_102_28&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_102_29_102_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_29_102_31&#39;)"><span class="hl_varref"><span class="mpre">fr</span></span></a><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 104, srcSpanStartColumn = 10, srcSpanEndLine = 104, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 104, srcSpanStartColumn = 22, srcSpanEndLine = 104, srcSpanEndColumn = 24}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagran"><span class="mpre">MonadPlus m =&gt;</span></span><span class="mpre"> </span><a href="Control.Monad.html#loc_122_18_122_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_122_18_122_27&#39;)"><span class="hl_classref"><span class="mpre">MonadPlus</span></span></a><span class="mpre"> (</span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
  </span><a href="Control.Monad.html#loc_128_4_128_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_128_4_128_9&#39;)"><span class="hl_vardecl"><span class="mpre">mzero</span></span></a><span class="mpre"> = </span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> (\_ _ -&gt; </span><a href="Control.Monad.html#loc_128_4_128_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_128_4_128_9&#39;)"><span class="hl_varref"><span class="mpre">mzero</span></span></a><span class="mpre">)
  </span><a href="Control.Monad.html#loc_130_4_130_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_130_4_130_9&#39;)"><span class="hl_fundecl"><span class="mpre">mplus</span></span></a><span class="mpre"> (</span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><a name="loc_106_13_106_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_13_106_15&#39;)"><span class="hl_vardecl"><span class="mpre">k1</span></span></a><span class="mpre">) (</span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><a name="loc_106_21_106_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_21_106_23&#39;)"><span class="hl_vardecl"><span class="mpre">k2</span></span></a><span class="mpre">) = </span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_106_33_106_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_33_106_34&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_106_35_106_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_35_106_37&#39;)"><span class="hl_vardecl"><span class="mpre">fr</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_106_13_106_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_13_106_15&#39;)"><span class="hl_varref"><span class="mpre">k1</span></span></a><span class="mpre"> </span><a href="#loc_106_33_106_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_33_106_34&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_106_35_106_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_35_106_37&#39;)"><span class="hl_varref"><span class="mpre">fr</span></span></a><span class="mpre"> </span><a href="Control.Monad.html#loc_130_4_130_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_130_4_130_9&#39;)"><span class="hl_infix"><span class="mpre">`mplus`</span></span></a><span class="mpre"> </span><a href="#loc_106_21_106_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_21_106_23&#39;)"><span class="hl_varref"><span class="mpre">k2</span></span></a><span class="mpre"> </span><a href="#loc_106_33_106_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_33_106_34&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_106_35_106_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_35_106_37&#39;)"><span class="hl_varref"><span class="mpre">fr</span></span></a><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 108, srcSpanStartColumn = 10, srcSpanEndLine = 108, srcSpanEndColumn = 46}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 108, srcSpanStartColumn = 10, srcSpanEndLine = 108, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad"><span class="mpre">(Foldable f, Foldable m, Monad m) =&gt;</span></span><span class="mpre"> </span><a href="Data.Foldable.html#loc_97_7_97_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Foldable.html#loc_97_7_97_15&#39;)"><span class="hl_classref"><span class="mpre">Foldable</span></span></a><span class="mpre"> (</span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
  </span><span class="hl_fundecl"><span class="mpre">foldMap</span></span><span class="mpre"> </span><a name="loc_109_11_109_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_109_11_109_12&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><a name="loc_109_17_109_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_109_17_109_18&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre">) = </span><a href="Data.Foldable.html#loc_99_5_99_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Foldable.html#loc_99_5_99_9&#39;)"><span class="hl_varref"><span class="mpre">F.fold</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_109_17_109_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_109_17_109_18&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_109_11_109_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_109_11_109_12&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) (</span><a href="Data.Foldable.html#loc_110_5_110_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Foldable.html#loc_110_5_110_10&#39;)"><span class="hl_varref"><span class="mpre">F.foldr</span></span></a><span class="mpre"> (</span><a href="Control.Monad.html#loc_283_1_283_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_283_1_283_7&#39;)"><span class="hl_varref"><span class="mpre">liftM2</span></span></a><span class="mpre"> </span><a href="Data.Monoid.html#loc_82_9_82_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_82_9_82_16&#39;)"><span class="hl_varref"><span class="mpre">mappend</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="Data.Monoid.html#loc_80_9_80_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_80_9_80_15&#39;)"><span class="hl_varref"><span class="mpre">mempty</span></span></a><span class="mpre">))

instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 111, srcSpanStartColumn = 10, srcSpanEndLine = 111, srcSpanEndColumn = 52}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 111, srcSpanStartColumn = 10, srcSpanEndLine = 111, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad"><span class="mpre">(Monad m, Traversable m, Traversable f) =&gt;</span></span><span class="mpre"> </span><a href="Data.Traversable.html#loc_147_34_147_45" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Traversable.html#loc_147_34_147_45&#39;)"><span class="hl_classref"><span class="mpre">Traversable</span></span></a><span class="mpre"> (</span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
  </span><span class="hl_fundecl"><span class="mpre">traverse</span></span><span class="mpre"> </span><a name="loc_112_12_112_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_12_112_13&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><a name="loc_112_18_112_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_18_112_19&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><a href="Control.Monad.html#loc_204_1_204_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_204_1_204_5&#39;)"><span class="hl_varref"><span class="mpre">join</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Traversable.html#loc_155_5_155_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Traversable.html#loc_155_5_155_14&#39;)"><span class="hl_varref"><span class="mpre">T.sequenceA</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_112_18_112_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_18_112_19&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_114_7_114_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_7_114_19&#39;)"><span class="hl_varref"><span class="mpre">traversePure</span></span></a><span class="mpre"> </span><a href="#loc_115_7_115_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_7_115_19&#39;)"><span class="hl_varref"><span class="mpre">traverseFree</span></span></a><span class="mpre">
    where
      </span><a name="loc_114_7_114_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_7_114_19&#39;)"><span class="hl_vardecl"><span class="mpre">traversePure</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_112_12_112_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_12_112_13&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
      </span><a name="loc_115_7_115_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_7_115_19&#39;)"><span class="hl_vardecl"><span class="mpre">traverseFree</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">wrap</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><a href="Control.Monad.html#loc_204_1_204_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_204_1_204_5&#39;)"><span class="hl_varref"><span class="mpre">join</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre">)) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Traversable.html#loc_155_5_155_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Traversable.html#loc_155_5_155_14&#39;)"><span class="hl_varref"><span class="mpre">T.sequenceA</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="Data.Traversable.html#loc_155_5_155_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Traversable.html#loc_155_5_155_14&#39;)"><span class="hl_varref"><span class="mpre">T.sequenceA</span></span></a><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxParen (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 117, srcSpanStartColumn = 10, srcSpanEndLine = 117, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 117, srcSpanStartColumn = 10, srcSpanEndLine = 117, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad"><span class="mpre">(MonadIO m) =&gt;</span></span><span class="mpre"> </span><a href="Control.Monad.IO.Class.html#loc_30_20_30_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_30_20_30_27&#39;)"><span class="hl_classref"><span class="mpre">MonadIO</span></span></a><span class="mpre"> (</span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
  </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_vardecl"><span class="mpre">liftIO</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="mpre">liftIO</span></a><span class="mpre"> #-}</span></span><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 121, srcSpanStartColumn = 10, srcSpanEndLine = 121, srcSpanEndColumn = 40}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 121, srcSpanStartColumn = 10, srcSpanEndLine = 121, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad"><span class="mpre">(Functor f, MonadError e m) =&gt;</span></span><span class="mpre"> </span><a href="Control.Monad.Error.Class.html#loc_85_20_85_30" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Error.Class.html#loc_85_20_85_30&#39;)"><span class="hl_classref"><span class="mpre">MonadError</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> (</span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
  </span><a href="Control.Monad.Error.Class.html#loc_87_5_87_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Error.Class.html#loc_87_5_87_15&#39;)"><span class="hl_vardecl"><span class="mpre">throwError</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.Error.Class.html#loc_87_5_87_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Error.Class.html#loc_87_5_87_15&#39;)"><span class="hl_varref"><span class="mpre">throwError</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Control.Monad.Error.Class.html#loc_87_5_87_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Error.Class.html#loc_87_5_87_15&#39;)"><span class="mpre">throwError</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><a name="loc_124_3_124_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_3_124_4&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> </span><a href="Control.Monad.Error.Class.html#loc_98_5_98_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Error.Class.html#loc_98_5_98_15&#39;)"><span class="hl_fundecl"><span class="mpre">`catchError`</span></span></a><span class="mpre"> </span><a name="loc_124_18_124_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_18_124_19&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_158_1_158_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_1_158_5&#39;)"><span class="hl_varref"><span class="mpre">toFT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_166_1_166_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_1_166_7&#39;)"><span class="hl_varref"><span class="mpre">fromFT</span></span></a><span class="mpre"> </span><a href="#loc_124_3_124_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_3_124_4&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><a href="Control.Monad.Error.Class.html#loc_98_5_98_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Error.Class.html#loc_98_5_98_15&#39;)"><span class="hl_infix"><span class="mpre">`catchError`</span></span></a><span class="mpre"> (</span><a href="#loc_166_1_166_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_1_166_7&#39;)"><span class="hl_varref"><span class="mpre">fromFT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_124_18_124_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_18_124_19&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)

instance </span><span class="warning" data-warning="InstDecl ContextCxParen (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 126, srcSpanStartColumn = 10, srcSpanEndLine = 126, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 126, srcSpanStartColumn = 10, srcSpanEndLine = 126, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad"><span class="mpre">(MonadCont m) =&gt;</span></span><span class="mpre"> </span><a href="Control.Monad.Cont.Class.html#loc_73_18_73_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Cont.Class.html#loc_73_18_73_27&#39;)"><span class="hl_classref"><span class="mpre">MonadCont</span></span></a><span class="mpre"> (</span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
  </span><a href="Control.Monad.Cont.Class.html#loc_92_5_92_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Cont.Class.html#loc_92_5_92_11&#39;)"><span class="hl_fundecl"><span class="mpre">callCC</span></span></a><span class="mpre"> </span><a name="loc_127_10_127_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_10_127_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="Control.Monad.html#loc_204_1_204_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_204_1_204_5&#39;)"><span class="hl_varref"><span class="mpre">join</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.Cont.Class.html#loc_92_5_92_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Cont.Class.html#loc_92_5_92_11&#39;)"><span class="hl_varref"><span class="mpre">callCC</span></span></a><span class="mpre"> (\</span><a name="loc_127_37_127_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_37_127_38&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_127_10_127_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_10_127_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_127_37_127_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_37_127_38&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre">))

instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 129, srcSpanStartColumn = 10, srcSpanEndLine = 129, srcSpanEndColumn = 41}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 129, srcSpanStartColumn = 10, srcSpanEndLine = 129, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad"><span class="mpre">(Functor f, MonadReader r m) =&gt;</span></span><span class="mpre"> </span><a href="Control.Monad.Reader.Class.html#loc_72_18_72_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Reader.Class.html#loc_72_18_72_29&#39;)"><span class="hl_classref"><span class="mpre">MonadReader</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> (</span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
  </span><a href="Control.Monad.Reader.Class.html#loc_77_5_77_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Reader.Class.html#loc_77_5_77_8&#39;)"><span class="hl_vardecl"><span class="mpre">ask</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><a href="Control.Monad.Reader.Class.html#loc_77_5_77_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Reader.Class.html#loc_77_5_77_8&#39;)"><span class="hl_varref"><span class="mpre">ask</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Control.Monad.Reader.Class.html#loc_77_5_77_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Reader.Class.html#loc_77_5_77_8&#39;)"><span class="mpre">ask</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><a href="Control.Monad.Reader.Class.html#loc_81_5_81_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Reader.Class.html#loc_81_5_81_10&#39;)"><span class="hl_fundecl"><span class="mpre">local</span></span></a><span class="mpre"> </span><a name="loc_132_9_132_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_9_132_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_192_1_192_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_1_192_8&#39;)"><span class="hl_varref"><span class="mpre">hoistFT</span></span></a><span class="mpre"> (</span><a href="Control.Monad.Reader.Class.html#loc_81_5_81_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Reader.Class.html#loc_81_5_81_10&#39;)"><span class="hl_varref"><span class="mpre">local</span></span></a><span class="mpre"> </span><a href="#loc_132_9_132_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_9_132_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Control.Monad.Reader.Class.html#loc_81_5_81_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Reader.Class.html#loc_81_5_81_10&#39;)"><span class="mpre">local</span></a><span class="mpre"> #-}</span></span><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 135, srcSpanStartColumn = 10, srcSpanEndLine = 135, srcSpanEndColumn = 41}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 135, srcSpanStartColumn = 10, srcSpanEndLine = 135, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad"><span class="mpre">(Functor f, MonadWriter w m) =&gt;</span></span><span class="mpre"> </span><a href="Control.Monad.Writer.Class.html#loc_62_30_62_41" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Writer.Class.html#loc_62_30_62_41&#39;)"><span class="hl_classref"><span class="mpre">MonadWriter</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> (</span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
  </span><a href="Control.Monad.Writer.Class.html#loc_73_5_73_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Writer.Class.html#loc_73_5_73_9&#39;)"><span class="hl_vardecl"><span class="mpre">tell</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.Writer.Class.html#loc_73_5_73_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Writer.Class.html#loc_73_5_73_9&#39;)"><span class="hl_varref"><span class="mpre">tell</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Control.Monad.Writer.Class.html#loc_73_5_73_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Writer.Class.html#loc_73_5_73_9&#39;)"><span class="mpre">tell</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><a href="Control.Monad.Writer.Class.html#loc_78_5_78_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Writer.Class.html#loc_78_5_78_11&#39;)"><span class="hl_vardecl"><span class="mpre">listen</span></span></a><span class="mpre"> = </span><a href="#loc_158_1_158_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_1_158_5&#39;)"><span class="hl_varref"><span class="mpre">toFT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.Writer.Class.html#loc_78_5_78_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Writer.Class.html#loc_78_5_78_11&#39;)"><span class="hl_varref"><span class="mpre">listen</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_166_1_166_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_1_166_7&#39;)"><span class="hl_varref"><span class="mpre">fromFT</span></span></a><span class="mpre">
  </span><a href="Control.Monad.Writer.Class.html#loc_82_5_82_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Writer.Class.html#loc_82_5_82_9&#39;)"><span class="hl_vardecl"><span class="mpre">pass</span></span></a><span class="mpre"> = </span><a href="#loc_158_1_158_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_1_158_5&#39;)"><span class="hl_varref"><span class="mpre">toFT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.Writer.Class.html#loc_82_5_82_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Writer.Class.html#loc_82_5_82_9&#39;)"><span class="hl_varref"><span class="mpre">pass</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_166_1_166_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_1_166_7&#39;)"><span class="hl_varref"><span class="mpre">fromFT</span></span></a><span class="mpre">
#if MIN_VERSION_mtl(2,1,1)
  </span><a href="Control.Monad.Writer.Class.html#loc_67_5_67_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Writer.Class.html#loc_67_5_67_11&#39;)"><span class="hl_fundecl"><span class="mpre">writer</span></span></a><span class="mpre"> </span><a name="loc_141_10_141_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_141_10_141_11&#39;)"><span class="hl_vardecl"><span class="mpre">w</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> (</span><a href="Control.Monad.Writer.Class.html#loc_67_5_67_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Writer.Class.html#loc_67_5_67_11&#39;)"><span class="hl_varref"><span class="mpre">writer</span></span></a><span class="mpre"> </span><a href="#loc_141_10_141_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_141_10_141_11&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Control.Monad.Writer.Class.html#loc_67_5_67_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Writer.Class.html#loc_67_5_67_11&#39;)"><span class="mpre">writer</span></a><span class="mpre"> #-}</span></span><span class="mpre">
#endif

instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 145, srcSpanStartColumn = 10, srcSpanEndLine = 145, srcSpanEndColumn = 40}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 145, srcSpanStartColumn = 10, srcSpanEndLine = 145, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad"><span class="mpre">(Functor f, MonadState s m) =&gt;</span></span><span class="mpre"> </span><a href="Control.Monad.State.Class.html#loc_53_18_53_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_53_18_53_28&#39;)"><span class="hl_classref"><span class="mpre">MonadState</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
  </span><a href="Control.Monad.State.Class.html#loc_55_5_55_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_55_5_55_8&#39;)"><span class="hl_vardecl"><span class="mpre">get</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><a href="Control.Monad.State.Class.html#loc_55_5_55_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_55_5_55_8&#39;)"><span class="hl_varref"><span class="mpre">get</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Control.Monad.State.Class.html#loc_55_5_55_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_55_5_55_8&#39;)"><span class="mpre">get</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><a href="Control.Monad.State.Class.html#loc_59_5_59_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_59_5_59_8&#39;)"><span class="hl_vardecl"><span class="mpre">put</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.State.Class.html#loc_59_5_59_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_59_5_59_8&#39;)"><span class="hl_varref"><span class="mpre">put</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Control.Monad.State.Class.html#loc_59_5_59_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_59_5_59_8&#39;)"><span class="mpre">put</span></a><span class="mpre"> #-}</span></span><span class="mpre">
#if MIN_VERSION_mtl(2,1,1)
  </span><a href="Control.Monad.State.Class.html#loc_63_5_63_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_63_5_63_10&#39;)"><span class="hl_fundecl"><span class="mpre">state</span></span></a><span class="mpre"> </span><a name="loc_151_9_151_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_9_151_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> (</span><a href="Control.Monad.State.Class.html#loc_63_5_63_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_63_5_63_10&#39;)"><span class="hl_varref"><span class="mpre">state</span></span></a><span class="mpre"> </span><a href="#loc_151_9_151_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_9_151_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Control.Monad.State.Class.html#loc_63_5_63_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_63_5_63_10&#39;)"><span class="mpre">state</span></a><span class="mpre"> #-}</span></span><span class="mpre">
#endif

</span><span class="hl_comment"><span class="mpre">-- | Generate a Church-encoded free monad transformer from a &#39;FreeT&#39; monad</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- transformer.</span></span><span class="mpre">
</span><a href="#loc_158_1_158_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_1_158_5&#39;)"><span class="mpre">toFT</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 157, srcSpanStartColumn = 9, srcSpanEndLine = 157, srcSpanEndColumn = 32}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 157, srcSpanStartColumn = 9, srcSpanEndLine = 157, srcSpanEndColumn = 10},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/T"><span class="mpre">(Monad m, Functor f) =&gt;</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_158_1_158_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_1_158_5&#39;)"><span class="hl_fundecl"><span class="mpre">toFT</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">FreeT</span></span><span class="mpre"> </span><a name="loc_158_13_158_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_13_158_14&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre">) = </span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_158_24_158_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_24_158_26&#39;)"><span class="hl_vardecl"><span class="mpre">ka</span></span></a><span class="mpre"> </span><a name="loc_158_27_158_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_27_158_30&#39;)"><span class="hl_vardecl"><span class="mpre">kfr</span></span></a><span class="mpre"> -&gt; do
  </span><a name="loc_159_3_159_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_3_159_8&#39;)"><span class="hl_vardecl"><span class="mpre">freef</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_158_13_158_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_13_158_14&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
  case </span><a href="#loc_159_3_159_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_3_159_8&#39;)"><span class="hl_varref"><span class="mpre">freef</span></span></a><span class="mpre"> of
    </span><a href="Control.Monad.Trans.Free.html#loc_74_20_74_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_20_74_24&#39;)"><span class="hl_conref"><span class="mpre">Pure</span></span></a><span class="mpre"> </span><a name="loc_161_10_161_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_10_161_11&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_158_24_158_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_24_158_26&#39;)"><span class="hl_varref"><span class="mpre">ka</span></span></a><span class="mpre"> </span><a href="#loc_161_10_161_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_10_161_11&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
    </span><a href="Control.Monad.Trans.Free.html#loc_74_29_74_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_29_74_33&#39;)"><span class="hl_conref"><span class="mpre">Free</span></span></a><span class="mpre"> </span><a name="loc_162_10_162_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_10_162_12&#39;)"><span class="hl_vardecl"><span class="mpre">fb</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_158_27_158_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_27_158_30&#39;)"><span class="hl_varref"><span class="mpre">kfr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> ((</span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_158_27_158_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_27_158_30&#39;)"><span class="hl_varref"><span class="mpre">kfr</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_158_24_158_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_24_158_26&#39;)"><span class="hl_varref"><span class="mpre">ka</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_69_24_69_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_24_69_29&#39;)"><span class="hl_varref"><span class="mpre">runFT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_158_1_158_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_1_158_5&#39;)"><span class="hl_varref"><span class="mpre">toFT</span></span></a><span class="mpre">) </span><a href="#loc_162_10_162_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_10_162_12&#39;)"><span class="hl_varref"><span class="mpre">fb</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Convert to a &#39;FreeT&#39; free monad representation.</span></span><span class="mpre">
</span><a href="#loc_166_1_166_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_1_166_7&#39;)"><span class="mpre">fromFT</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 165, srcSpanStartColumn = 11, srcSpanEndLine = 165, srcSpanEndColumn = 34}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 165, srcSpanStartColumn = 11, srcSpanEndLine = 165, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad"><span class="mpre">(Monad m, Functor f) =&gt;</span></span><span class="mpre"> </span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="Control.Monad.Trans.Free.html#loc_154_9_154_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_9_154_14&#39;)"><span class="hl_tyconref"><span class="mpre">FreeT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_166_1_166_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_1_166_7&#39;)"><span class="hl_fundecl"><span class="mpre">fromFT</span></span></a><span class="mpre"> (</span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><a name="loc_166_12_166_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_12_166_13&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">FreeT</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_166_12_166_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_12_166_13&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.Free.html#loc_74_20_74_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_74_20_74_24&#39;)"><span class="hl_conref"><span class="mpre">Pure</span></span></a><span class="mpre">) (</span><a href="Control.Monad.Trans.Free.html#loc_154_31_154_39" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_154_31_154_39&#39;)"><span class="hl_varref"><span class="mpre">runFreeT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">wrap</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">FreeT</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | The \&quot;free monad\&quot; for a functor @f@.</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 169, srcSpanStartColumn = 1, srcSpanEndLine = 169, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 169, srcSpanStartColumn = 1, srcSpanEndLine = 169, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/T"><span class="mpre">type F f = FT f Identity</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Unwrap the &#39;Free&#39; monad to obtain it&#39;s Church-encoded representation.</span></span><span class="mpre">
</span><a href="#loc_173_1_173_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_1_173_5&#39;)"><span class="mpre">runF</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 172, srcSpanStartColumn = 9, srcSpanEndLine = 172, srcSpanEndColumn = 21}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 172, srcSpanStartColumn = 19, srcSpanEndLine = 172, srcSpanEndColumn = 21}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant"><span class="mpre">Functor f =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">F</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; (forall </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">. (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) -&gt; (</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">)
</span><a name="loc_173_1_173_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_1_173_5&#39;)"><span class="hl_fundecl"><span class="mpre">runF</span></span></a><span class="mpre"> (</span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><a name="loc_173_10_173_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_10_173_11&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre">) = \</span><a name="loc_173_16_173_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_16_173_18&#39;)"><span class="hl_vardecl"><span class="mpre">kp</span></span></a><span class="mpre"> </span><a name="loc_173_19_173_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_19_173_21&#39;)"><span class="hl_vardecl"><span class="mpre">kf</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_173_10_173_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_10_173_11&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_173_16_173_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_16_173_18&#39;)"><span class="hl_varref"><span class="mpre">kp</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_173_19_173_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_19_173_21&#39;)"><span class="hl_varref"><span class="mpre">kf</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Wrap a Church-encoding of a \&quot;free monad\&quot; as the free monad for a functor.</span></span><span class="mpre">
</span><a href="#loc_177_1_177_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_1_177_5&#39;)"><span class="mpre">free</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 176, srcSpanStartColumn = 9, srcSpanEndLine = 176, srcSpanEndColumn = 21}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 176, srcSpanStartColumn = 19, srcSpanEndLine = 176, srcSpanEndColumn = 21}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant"><span class="mpre">Functor f =&gt;</span></span><span class="mpre"> (forall </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">. (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) -&gt; (</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">F</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_177_1_177_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_1_177_5&#39;)"><span class="hl_fundecl"><span class="mpre">free</span></span></a><span class="mpre"> </span><a name="loc_177_6_177_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_6_177_7&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> (\</span><a name="loc_177_15_177_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_15_177_17&#39;)"><span class="hl_vardecl"><span class="mpre">kp</span></span></a><span class="mpre"> </span><a name="loc_177_18_177_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_18_177_20&#39;)"><span class="hl_vardecl"><span class="mpre">kf</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_177_6_177_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_6_177_7&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_177_15_177_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_15_177_17&#39;)"><span class="hl_varref"><span class="mpre">kp</span></span></a><span class="mpre">) (</span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_177_18_177_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_18_177_20&#39;)"><span class="hl_varref"><span class="mpre">kf</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre">))

</span><span class="hl_comment"><span class="mpre">-- | Tear down a free monad transformer using iteration.</span></span><span class="mpre">
</span><a href="#loc_181_1_181_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_1_181_6&#39;)"><span class="mpre">iterT</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 180, srcSpanStartColumn = 10, srcSpanEndLine = 180, srcSpanEndColumn = 33}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 180, srcSpanStartColumn = 10, srcSpanEndLine = 180, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad"><span class="mpre">(Functor f, Monad m) =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_181_1_181_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_1_181_6&#39;)"><span class="hl_fundecl"><span class="mpre">iterT</span></span></a><span class="mpre"> </span><a name="loc_181_7_181_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_7_181_10&#39;)"><span class="hl_vardecl"><span class="mpre">phi</span></span></a><span class="mpre"> (</span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><a name="loc_181_15_181_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_15_181_16&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre">) = </span><a href="#loc_181_15_181_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_15_181_16&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_181_7_181_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_7_181_10&#39;)"><span class="hl_varref"><span class="mpre">phi</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_181_1_181_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_1_181_6&#39;)"><span class="mpre">iterT</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Tear down a free monad transformer using iteration over a transformer.</span></span><span class="mpre">
</span><a href="#loc_186_1_186_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_1_186_7&#39;)"><span class="mpre">iterTM</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 185, srcSpanStartColumn = 11, srcSpanEndLine = 185, srcSpanEndColumn = 61}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 185, srcSpanStartColumn = 11, srcSpanEndLine = 185, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad"><span class="mpre">(Functor f, Monad m, MonadTrans t, Monad (t m)) =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_186_1_186_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_1_186_7&#39;)"><span class="hl_fundecl"><span class="mpre">iterTM</span></span></a><span class="mpre"> </span><a name="loc_186_8_186_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_8_186_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><a name="loc_186_14_186_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_14_186_15&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre">) = </span><a href="Control.Monad.html#loc_204_1_204_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_204_1_204_5&#39;)"><span class="hl_varref"><span class="mpre">join</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_186_14_186_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_14_186_15&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_186_8_186_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_8_186_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><a href="Control.Monad.html#loc_204_1_204_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_204_1_204_5&#39;)"><span class="hl_varref"><span class="mpre">join</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre">))

</span><span class="hl_comment"><span class="mpre">-- | Lift a monad homomorphism from @m@ to @n@ into a monad homomorphism from @&#39;FT&#39; f m@ to @&#39;FT&#39; f n@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @&#39;hoistFT&#39; :: (&#39;Monad&#39; m, &#39;Monad&#39; n, &#39;Functor&#39; f) =&gt; (m ~&gt; n) -&gt; &#39;FT&#39; f m ~&gt; &#39;FT&#39; f n@</span></span><span class="mpre">
</span><a href="#loc_192_1_192_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_1_192_8&#39;)"><span class="mpre">hoistFT</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 191, srcSpanStartColumn = 12, srcSpanEndLine = 191, srcSpanEndColumn = 44}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 191, srcSpanStartColumn = 12, srcSpanEndLine = 191, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad"><span class="mpre">(Monad m, Monad n, Functor f) =&gt;</span></span><span class="mpre"> (forall </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">. </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_192_1_192_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_1_192_8&#39;)"><span class="hl_fundecl"><span class="mpre">hoistFT</span></span></a><span class="mpre"> </span><a name="loc_192_9_192_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_9_192_12&#39;)"><span class="hl_vardecl"><span class="mpre">phi</span></span></a><span class="mpre"> (</span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><a name="loc_192_17_192_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_17_192_18&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre">) = </span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> (\</span><a name="loc_192_27_192_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_27_192_29&#39;)"><span class="hl_vardecl"><span class="mpre">kp</span></span></a><span class="mpre"> </span><a name="loc_192_30_192_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_30_192_32&#39;)"><span class="hl_vardecl"><span class="mpre">kf</span></span></a><span class="mpre"> -&gt; </span><a href="Control.Monad.html#loc_204_1_204_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_204_1_204_5&#39;)"><span class="hl_varref"><span class="mpre">join</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_192_9_192_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_9_192_12&#39;)"><span class="hl_varref"><span class="mpre">phi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_192_17_192_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_17_192_18&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_192_27_192_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_27_192_29&#39;)"><span class="hl_varref"><span class="mpre">kp</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_192_30_192_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_30_192_32&#39;)"><span class="hl_varref"><span class="mpre">kf</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><a href="Control.Monad.html#loc_204_1_204_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_204_1_204_5&#39;)"><span class="hl_varref"><span class="mpre">join</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_192_9_192_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_9_192_12&#39;)"><span class="hl_varref"><span class="mpre">phi</span></span></a><span class="mpre">)))

</span><span class="hl_comment"><span class="mpre">-- | Lift a natural transformation from @f@ to @g@ into a monad homomorphism from @&#39;FT&#39; f m@ to @&#39;FT&#39; g n@</span></span><span class="mpre">
</span><a href="#loc_196_1_196_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_1_196_8&#39;)"><span class="mpre">transFT</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 195, srcSpanStartColumn = 12, srcSpanEndLine = 195, srcSpanEndColumn = 35}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 195, srcSpanStartColumn = 12, srcSpanEndLine = 195, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad"><span class="mpre">(Monad m, Functor g) =&gt;</span></span><span class="mpre"> (forall </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">. </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_196_1_196_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_1_196_8&#39;)"><span class="hl_fundecl"><span class="mpre">transFT</span></span></a><span class="mpre"> </span><a name="loc_196_9_196_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_9_196_12&#39;)"><span class="hl_vardecl"><span class="mpre">phi</span></span></a><span class="mpre"> (</span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><a name="loc_196_17_196_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_17_196_18&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre">) = </span><a href="#loc_69_20_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_20_69_22&#39;)"><span class="hl_conref"><span class="mpre">FT</span></span></a><span class="mpre"> (\</span><a name="loc_196_27_196_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_27_196_29&#39;)"><span class="hl_vardecl"><span class="mpre">kp</span></span></a><span class="mpre"> </span><a name="loc_196_30_196_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_30_196_32&#39;)"><span class="hl_vardecl"><span class="mpre">kf</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_196_17_196_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_17_196_18&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><a href="#loc_196_27_196_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_27_196_29&#39;)"><span class="hl_varref"><span class="mpre">kp</span></span></a><span class="mpre"> (</span><a href="#loc_196_30_196_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_30_196_32&#39;)"><span class="hl_varref"><span class="mpre">kf</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_196_9_196_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_9_196_12&#39;)"><span class="hl_varref"><span class="mpre">phi</span></span></a><span class="mpre">))

</span><span class="hl_comment"><span class="mpre">-- | Cuts off a tree of computations at a given depth.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- If the depth is 0 or less, no computation nor</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- monadic effects will take place.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Some examples (n  0):</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- prop&gt; cutoff 0     _        == return Nothing</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- prop&gt; cutoff (n+1) . return == return . Just</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- prop&gt; cutoff (n+1) . lift   ==   lift . liftM Just</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- prop&gt; cutoff (n+1) . wrap   ==  wrap . fmap (cutoff n)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Calling &#39;retract . cutoff n&#39; is always terminating, provided each of the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- steps in the iteration is terminating.</span></span><span class="mpre">
</span><a href="#loc_212_1_212_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_1_212_7&#39;)"><span class="mpre">cutoff</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 211, srcSpanStartColumn = 11, srcSpanEndLine = 211, srcSpanEndColumn = 34}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 211, srcSpanStartColumn = 11, srcSpanEndLine = 211, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad"><span class="mpre">(Functor f, Monad m) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre"> -&gt; </span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_69_9_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_9_69_11&#39;)"><span class="hl_tyconref"><span class="mpre">FT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
</span><a name="loc_212_1_212_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_1_212_7&#39;)"><span class="hl_fundecl"><span class="mpre">cutoff</span></span></a><span class="mpre"> </span><a name="loc_212_8_212_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_8_212_9&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_158_1_158_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_1_158_5&#39;)"><span class="hl_varref"><span class="mpre">toFT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.Free.html#loc_352_1_352_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Free.html#loc_352_1_352_7&#39;)"><span class="hl_varref"><span class="mpre">FreeT.cutoff</span></span></a><span class="mpre"> </span><a href="#loc_212_8_212_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_8_212_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_166_1_166_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_1_166_7&#39;)"><span class="hl_varref"><span class="mpre">fromFT</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;retract&#39; is the left inverse of &#39;liftF&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;retract&#39; . &#39;liftF&#39; = &#39;id&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_221_1_221_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_1_221_8&#39;)"><span class="mpre">retract</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 220, srcSpanStartColumn = 12, srcSpanEndLine = 220, srcSpanEndColumn = 35}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 220, srcSpanStartColumn = 12, srcSpanEndLine = 220, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad"><span class="mpre">(Functor f, Monad f) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">F</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_221_1_221_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_1_221_8&#39;)"><span class="hl_fundecl"><span class="mpre">retract</span></span></a><span class="mpre"> </span><a name="loc_221_9_221_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_9_221_10&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = </span><a href="#loc_173_1_173_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_1_173_5&#39;)"><span class="hl_varref"><span class="mpre">runF</span></span></a><span class="mpre"> </span><a href="#loc_221_9_221_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_9_221_10&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="Control.Monad.html#loc_204_1_204_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_204_1_204_5&#39;)"><span class="hl_varref"><span class="mpre">join</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_221_1_221_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_1_221_8&#39;)"><span class="mpre">retract</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Tear down an &#39;F&#39; &#39;Monad&#39; using iteration.</span></span><span class="mpre">
</span><a href="#loc_226_1_226_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_1_226_5&#39;)"><span class="mpre">iter</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 225, srcSpanStartColumn = 9, srcSpanEndLine = 225, srcSpanEndColumn = 21}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 225, srcSpanStartColumn = 19, srcSpanEndLine = 225, srcSpanEndColumn = 21}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant"><span class="mpre">Functor f =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">F</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_226_1_226_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_1_226_5&#39;)"><span class="hl_fundecl"><span class="mpre">iter</span></span></a><span class="mpre"> </span><a name="loc_226_6_226_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_6_226_9&#39;)"><span class="hl_vardecl"><span class="mpre">phi</span></span></a><span class="mpre"> = </span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_181_1_181_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_1_181_6&#39;)"><span class="hl_varref"><span class="mpre">iterT</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Identity</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_226_6_226_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_6_226_9&#39;)"><span class="hl_varref"><span class="mpre">phi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_226_1_226_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_1_226_5&#39;)"><span class="mpre">iter</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Like &#39;iter&#39; for monadic values.</span></span><span class="mpre">
</span><a href="#loc_231_1_231_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_1_231_6&#39;)"><span class="mpre">iterM</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 230, srcSpanStartColumn = 10, srcSpanEndLine = 230, srcSpanEndColumn = 33}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 230, srcSpanStartColumn = 10, srcSpanEndLine = 230, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad"><span class="mpre">(Functor f, Monad m) =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">F</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_231_1_231_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_1_231_6&#39;)"><span class="hl_fundecl"><span class="mpre">iterM</span></span></a><span class="mpre"> </span><a name="loc_231_7_231_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_7_231_10&#39;)"><span class="hl_vardecl"><span class="mpre">phi</span></span></a><span class="mpre"> = </span><a href="#loc_181_1_181_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_1_181_6&#39;)"><span class="hl_varref"><span class="mpre">iterT</span></span></a><span class="mpre"> </span><a href="#loc_231_7_231_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_7_231_10&#39;)"><span class="hl_varref"><span class="mpre">phi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_192_1_192_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_1_192_8&#39;)"><span class="hl_varref"><span class="mpre">hoistFT</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Convert to another free monad representation.</span></span><span class="mpre">
</span><a href="#loc_235_1_235_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_1_235_6&#39;)"><span class="mpre">fromF</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 234, srcSpanStartColumn = 10, srcSpanEndLine = 234, srcSpanEndColumn = 39}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 234, srcSpanStartColumn = 10, srcSpanEndLine = 234, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad"><span class="mpre">(Functor f, MonadFree f m) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">F</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_235_1_235_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_1_235_6&#39;)"><span class="hl_fundecl"><span class="mpre">fromF</span></span></a><span class="mpre"> </span><a name="loc_235_7_235_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_7_235_8&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = </span><a href="#loc_173_1_173_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_1_173_5&#39;)"><span class="hl_varref"><span class="mpre">runF</span></span></a><span class="mpre"> </span><a href="#loc_235_7_235_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_7_235_8&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">wrap</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_235_1_235_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_1_235_6&#39;)"><span class="mpre">fromF</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Generate a Church-encoded free monad from a &#39;Free&#39; monad.</span></span><span class="mpre">
</span><a href="#loc_240_1_240_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_1_240_4&#39;)"><span class="mpre">toF</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxParen (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 239, srcSpanStartColumn = 8, srcSpanEndLine = 239, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 239, srcSpanStartColumn = 8, srcSpanEndLine = 239, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Tr"><span class="mpre">(Functor f) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Free</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">F</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_240_1_240_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_1_240_4&#39;)"><span class="hl_vardecl"><span class="mpre">toF</span></span></a><span class="mpre"> = </span><a href="#loc_158_1_158_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_1_158_5&#39;)"><span class="hl_varref"><span class="mpre">toFT</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_240_1_240_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_1_240_4&#39;)"><span class="mpre">toF</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Improve the asymptotic performance of code that builds a free monad with only binds and returns by using &#39;F&#39; behind the scenes.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is based on the \&quot;Free Monads for Less\&quot; series of articles by Edward Kmett:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &lt;http://comonad.com/reader/2011/free-monads-for-less/&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &lt;http://comonad.com/reader/2011/free-monads-for-less-2/&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and \&quot;Asymptotic Improvement of Computations over Free Monads\&quot; by Janis Voightlnder:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &lt;http://www.iai.uni-bonn.de/~jv/mpc08.pdf&gt;</span></span><span class="mpre">
</span><a href="#loc_254_1_254_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_1_254_8&#39;)"><span class="mpre">improve</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 253, srcSpanStartColumn = 12, srcSpanEndLine = 253, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 253, srcSpanStartColumn = 22, srcSpanEndLine = 253, srcSpanEndColumn = 24}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagran"><span class="mpre">Functor f =&gt;</span></span><span class="mpre"> (forall </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">. </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 253, srcSpanStartColumn = 36, srcSpanEndLine = 253, srcSpanEndColumn = 52}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Monad/Trans/Free/Church.hs&quot;, srcSpanStartLine = 253, srcSpanStartColumn = 50, srcSpanEndLine = 253, srcSpanEndColumn = 52}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagran"><span class="mpre">MonadFree f m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Free</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_254_1_254_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_1_254_8&#39;)"><span class="hl_fundecl"><span class="mpre">improve</span></span></a><span class="mpre"> </span><a name="loc_254_9_254_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_9_254_10&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = </span><a href="#loc_235_1_235_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_1_235_6&#39;)"><span class="hl_varref"><span class="mpre">fromF</span></span></a><span class="mpre"> </span><a href="#loc_254_9_254_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_9_254_10&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_254_1_254_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_1_254_8&#39;)"><span class="mpre">improve</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span></div></body></html>