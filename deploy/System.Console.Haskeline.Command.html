<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">module System.Console.Haskeline.Command(
                        </span><span class="hl_comment"><span class="mpre">-- * Commands</span></span><span class="mpre">
                        Effect(..),
                        KeyMap(..), 
                        CmdM(..),
                        Command,
                        KeyCommand,
                        KeyConsumed(..),
                        withoutConsuming,
                        keyCommand,
                        (&gt;|&gt;),
                        (&gt;+&gt;),
                        try,
                        effect,
                        clearScreenCmd,
                        finish,
                        failCmd,
                        simpleCommand,
                        charCommand,
                        setState,
                        change,
                        changeFromChar,
                        (+&gt;),
                        useChar,
                        choiceCmd,
                        keyChoiceCmd,
                        keyChoiceCmdM,
                        doBefore
                        ) where

import Data.Char(</span><a href="GHC.Unicode.html#loc_139_1_139_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Unicode.html#loc_139_1_139_8&#39;)"><span class="mpre">isPrint</span></a><span class="mpre">)
import Control.Applicative(</span><a href="Control.Applicative.html#loc_113_20_113_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_113_20_113_31&#39;)"><span class="mpre">Applicative</span></a><span class="mpre">(..))
import Control.Monad(</span><a href="Control.Monad.html#loc_312_1_312_3" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_312_1_312_3&#39;)"><span class="mpre">ap</span></a><span class="mpre">, </span><a href="Control.Monad.html#loc_130_4_130_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_130_4_130_9&#39;)"><span class="mpre">mplus</span></a><span class="mpre">, </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="mpre">liftM</span></a><span class="mpre">)
import Control.Monad.Trans.Class
import System.Console.Haskeline.LineState
import System.Console.Haskeline.Key

data </span><a name="loc_38_6_38_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_12&#39;)"><span class="hl_tycondecl"><span class="mpre">Effect</span></span></a><span class="mpre"> = </span><a name="loc_38_15_38_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_15_38_25&#39;)"><span class="hl_condecl"><span class="mpre">LineChange</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Prefix</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">LineChars</span></span><span class="mpre">)
              | </span><a name="loc_39_17_39_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_17_39_27&#39;)"><span class="hl_condecl"><span class="mpre">PrintLines</span></span></a><span class="mpre"> [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
              | </span><a name="loc_40_17_40_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_17_40_28&#39;)"><span class="hl_condecl"><span class="mpre">ClearScreen</span></span></a><span class="mpre">
              | </span><a name="loc_41_17_41_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_17_41_25&#39;)"><span class="hl_condecl"><span class="mpre">RingBell</span></span></a><span class="mpre">

</span><a href="#loc_44_1_44_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_1_44_11&#39;)"><span class="mpre">lineChange</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 43, srcSpanStartColumn = 15, srcSpanEndLine = 43, srcSpanEndColumn = 29}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 43, srcSpanStartColumn = 27, srcSpanEndLine = 43, srcSpanEndColumn = 29}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/hom"><span class="mpre">LineState s =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><a href="#loc_38_6_38_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_12&#39;)"><span class="hl_tyconref"><span class="mpre">Effect</span></span></a><span class="mpre">
</span><a name="loc_44_1_44_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_1_44_11&#39;)"><span class="hl_vardecl"><span class="mpre">lineChange</span></span></a><span class="mpre"> = </span><a href="#loc_38_15_38_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_15_38_25&#39;)"><span class="hl_conref"><span class="mpre">LineChange</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">flip</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.LineState.html#loc_145_1_145_10" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_145_1_145_10&#39;)"><span class="hl_varref"><span class="mpre">lineChars</span></span></a><span class="mpre">

data </span><a name="loc_46_6_46_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_12&#39;)"><span class="hl_tycondecl"><span class="mpre">KeyMap</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> = </span><a name="loc_46_17_46_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_17_46_23&#39;)"><span class="hl_condecl"><span class="mpre">KeyMap</span></span></a><span class="mpre"> {</span><a name="loc_46_25_46_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_25_46_33&#39;)"><span class="hl_fielddecl"><span class="mpre">lookupKM</span></span></a><span class="mpre"> :: </span><a href="System.Console.Haskeline.Key.html#loc_19_6_19_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Key.html#loc_19_6_19_9&#39;)"><span class="hl_tyconref"><span class="mpre">Key</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> (</span><a href="#loc_48_6_48_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_6_48_17&#39;)"><span class="hl_tyconref"><span class="mpre">KeyConsumed</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)}

data </span><a name="loc_48_6_48_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_6_48_17&#39;)"><span class="hl_tycondecl"><span class="mpre">KeyConsumed</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> = </span><a name="loc_48_22_48_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_22_48_33&#39;)"><span class="hl_condecl"><span class="mpre">NotConsumed</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> | </span><a name="loc_48_38_48_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_38_48_46&#39;)"><span class="hl_condecl"><span class="mpre">Consumed</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">

instance </span><span class="hl_classref"><span class="mpre">Functor</span></span><span class="mpre"> </span><a href="#loc_46_6_46_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_12&#39;)"><span class="hl_tyconref"><span class="mpre">KeyMap</span></span></a><span class="mpre"> where
    </span><span class="hl_fundecl"><span class="mpre">fmap</span></span><span class="mpre"> </span><a name="loc_51_10_51_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_10_51_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_51_12_51_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_12_51_14&#39;)"><span class="hl_vardecl"><span class="mpre">km</span></span></a><span class="mpre"> = </span><a href="#loc_46_17_46_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_17_46_23&#39;)"><span class="hl_conref"><span class="mpre">KeyMap</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_51_10_51_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_10_51_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_46_25_46_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_25_46_33&#39;)"><span class="hl_varref"><span class="mpre">lookupKM</span></span></a><span class="mpre"> </span><a href="#loc_51_12_51_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_12_51_14&#39;)"><span class="hl_varref"><span class="mpre">km</span></span></a><span class="mpre">

instance </span><span class="hl_classref"><span class="mpre">Functor</span></span><span class="mpre"> </span><a href="#loc_48_6_48_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_6_48_17&#39;)"><span class="hl_tyconref"><span class="mpre">KeyConsumed</span></span></a><span class="mpre"> where
    </span><a name="loc_54_5_54_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_5_54_9&#39;)"><span class="hl_fundecl"><span class="mpre">fmap</span></span></a><span class="mpre"> </span><a name="loc_54_10_54_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_10_54_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_48_22_48_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_22_48_33&#39;)"><span class="hl_conref"><span class="mpre">NotConsumed</span></span></a><span class="mpre"> </span><a name="loc_54_25_54_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_25_54_26&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><a href="#loc_48_22_48_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_22_48_33&#39;)"><span class="hl_conref"><span class="mpre">NotConsumed</span></span></a><span class="mpre"> (</span><a href="#loc_54_10_54_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_10_54_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_54_25_54_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_25_54_26&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)
    </span><a href="#loc_54_5_54_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_5_54_9&#39;)"><span class="hl_fundecl"><span class="mpre">fmap</span></span></a><span class="mpre"> </span><a name="loc_55_10_55_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_10_55_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_48_38_48_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_38_48_46&#39;)"><span class="hl_conref"><span class="mpre">Consumed</span></span></a><span class="mpre"> </span><a name="loc_55_22_55_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_22_55_23&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><a href="#loc_48_38_48_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_38_48_46&#39;)"><span class="hl_conref"><span class="mpre">Consumed</span></span></a><span class="mpre"> (</span><a href="#loc_55_10_55_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_10_55_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_55_22_55_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_22_55_23&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)


data </span><a name="loc_58_6_58_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_6_58_10&#39;)"><span class="hl_tycondecl"><span class="mpre">CmdM</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">   = </span><a name="loc_58_19_58_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_19_58_25&#39;)"><span class="hl_condecl"><span class="mpre">GetKey</span></span></a><span class="mpre"> (</span><a href="#loc_46_6_46_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_12&#39;)"><span class="hl_tyconref"><span class="mpre">KeyMap</span></span></a><span class="mpre"> (</span><a href="#loc_58_6_58_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_6_58_10&#39;)"><span class="hl_tyconref"><span class="mpre">CmdM</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">))
                | </span><a name="loc_59_19_59_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_19_59_27&#39;)"><span class="hl_condecl"><span class="mpre">DoEffect</span></span></a><span class="mpre"> </span><a href="#loc_38_6_38_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_12&#39;)"><span class="hl_tyconref"><span class="mpre">Effect</span></span></a><span class="mpre"> (</span><a href="#loc_58_6_58_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_6_58_10&#39;)"><span class="hl_tyconref"><span class="mpre">CmdM</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
                | </span><a name="loc_60_19_60_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_19_60_23&#39;)"><span class="hl_condecl"><span class="mpre">CmdM</span></span></a><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><a href="#loc_58_6_58_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_6_58_10&#39;)"><span class="hl_tyconref"><span class="mpre">CmdM</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">))
                | </span><a name="loc_61_19_61_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_19_61_25&#39;)"><span class="hl_condecl"><span class="mpre">Result</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">

</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 63, srcSpanStartColumn = 1, srcSpanEndLine = 63, srcSpanEndColumn = 35}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 63, srcSpanStartColumn = 1, srcSpanEndLine = 63, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/Sy"><span class="mpre">type Command m s t = s -&gt; CmdM m t</span></span><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 65, srcSpanStartColumn = 10, srcSpanEndLine = 65, srcSpanEndColumn = 20}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 65, srcSpanStartColumn = 18, srcSpanEndLine = 65, srcSpanEndColumn = 20}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/hom"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_classref"><span class="mpre">Functor</span></span><span class="mpre"> (</span><a href="#loc_58_6_58_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_6_58_10&#39;)"><span class="hl_tyconref"><span class="mpre">CmdM</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
    </span><span class="hl_vardecl"><span class="mpre">fmap</span></span><span class="mpre"> = </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 68, srcSpanStartColumn = 10, srcSpanEndLine = 68, srcSpanEndColumn = 20}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 68, srcSpanStartColumn = 18, srcSpanEndLine = 68, srcSpanEndColumn = 20}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/hom"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><a href="Control.Applicative.html#loc_113_20_113_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_113_20_113_31&#39;)"><span class="hl_classref"><span class="mpre">Applicative</span></span></a><span class="mpre"> (</span><a href="#loc_58_6_58_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_6_58_10&#39;)"><span class="hl_tyconref"><span class="mpre">CmdM</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
    </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_vardecl"><span class="mpre">pure</span></span></a><span class="mpre">  = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre">
    </span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="hl_vardecl"><span class="mpre">(&lt;*&gt;)</span></span></a><span class="mpre"> = </span><a href="Control.Monad.html#loc_312_1_312_3" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_312_1_312_3&#39;)"><span class="hl_varref"><span class="mpre">ap</span></span></a><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 72, srcSpanStartColumn = 10, srcSpanEndLine = 72, srcSpanEndColumn = 20}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 72, srcSpanStartColumn = 18, srcSpanEndLine = 72, srcSpanEndColumn = 20}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/hom"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_classref"><span class="mpre">Monad</span></span><span class="mpre"> (</span><a href="#loc_58_6_58_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_6_58_10&#39;)"><span class="hl_tyconref"><span class="mpre">CmdM</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
    </span><span class="hl_vardecl"><span class="mpre">return</span></span><span class="mpre"> = </span><a href="#loc_61_19_61_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_19_61_25&#39;)"><span class="hl_conref"><span class="mpre">Result</span></span></a><span class="mpre">

    </span><a href="#loc_58_19_58_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_19_58_25&#39;)"><span class="hl_conref"><span class="mpre">GetKey</span></span></a><span class="mpre"> </span><a name="loc_75_12_75_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_12_75_14&#39;)"><span class="hl_vardecl"><span class="mpre">km</span></span></a><span class="mpre"> </span><a name="loc_75_15_75_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_15_75_18&#39;)"><span class="hl_fundecl"><span class="mpre">&gt;&gt;=</span></span></a><span class="mpre"> </span><a name="loc_75_19_75_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_19_75_20&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> = </span><a href="#loc_58_19_58_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_19_58_25&#39;)"><span class="hl_conref"><span class="mpre">GetKey</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="#loc_75_19_75_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_19_75_20&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">) </span><a href="#loc_75_12_75_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_12_75_14&#39;)"><span class="hl_varref"><span class="mpre">km</span></span></a><span class="mpre">
    </span><a href="#loc_59_19_59_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_19_59_27&#39;)"><span class="hl_conref"><span class="mpre">DoEffect</span></span></a><span class="mpre"> </span><a name="loc_76_14_76_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_14_76_15&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> </span><a name="loc_76_16_76_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_16_76_17&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_75_15_75_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_15_75_18&#39;)"><span class="hl_fundecl"><span class="mpre">&gt;&gt;=</span></span></a><span class="mpre"> </span><a name="loc_76_22_76_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_22_76_23&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> = </span><a href="#loc_59_19_59_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_19_59_27&#39;)"><span class="hl_conref"><span class="mpre">DoEffect</span></span></a><span class="mpre"> </span><a href="#loc_76_14_76_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_14_76_15&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> (</span><a href="#loc_76_16_76_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_16_76_17&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="#loc_76_22_76_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_22_76_23&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">)
    </span><a href="#loc_60_19_60_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_19_60_23&#39;)"><span class="hl_conref"><span class="mpre">CmdM</span></span></a><span class="mpre"> </span><a name="loc_77_10_77_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_75_15_75_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_15_75_18&#39;)"><span class="hl_fundecl"><span class="mpre">&gt;&gt;=</span></span></a><span class="mpre"> </span><a name="loc_77_16_77_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_16_77_17&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> = </span><a href="#loc_60_19_60_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_19_60_23&#39;)"><span class="hl_conref"><span class="mpre">CmdM</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="#loc_77_16_77_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_16_77_17&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">) </span><a href="#loc_77_10_77_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
    </span><a href="#loc_61_19_61_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_19_61_25&#39;)"><span class="hl_conref"><span class="mpre">Result</span></span></a><span class="mpre"> </span><a name="loc_78_12_78_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_12_78_13&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="#loc_75_15_75_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_15_75_18&#39;)"><span class="hl_fundecl"><span class="mpre">&gt;&gt;=</span></span></a><span class="mpre"> </span><a name="loc_78_18_78_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_18_78_19&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> = </span><a href="#loc_78_18_78_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_18_78_19&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_78_12_78_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_12_78_13&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">

</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 80, srcSpanStartColumn = 1, srcSpanEndLine = 80, srcSpanEndColumn = 47}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 80, srcSpanStartColumn = 1, srcSpanEndLine = 80, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/Sy"><span class="mpre">type KeyCommand m s t = KeyMap (Command m s t)</span></span><span class="mpre">

instance </span><a href="Control.Monad.Trans.Class.html#loc_49_7_49_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_49_7_49_17&#39;)"><span class="hl_classref"><span class="mpre">MonadTrans</span></span></a><span class="mpre"> </span><a href="#loc_58_6_58_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_6_58_10&#39;)"><span class="hl_tyconref"><span class="mpre">CmdM</span></span></a><span class="mpre"> where
    </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_fundecl"><span class="mpre">lift</span></span></a><span class="mpre"> </span><a name="loc_83_10_83_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_10_83_11&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = </span><a href="#loc_60_19_60_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_19_60_23&#39;)"><span class="hl_conref"><span class="mpre">CmdM</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        </span><a name="loc_84_9_84_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_9_84_10&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_83_10_83_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_10_83_11&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_61_19_61_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_19_61_25&#39;)"><span class="hl_conref"><span class="mpre">Result</span></span></a><span class="mpre"> </span><a href="#loc_84_9_84_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_9_84_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">

</span><a href="#loc_88_1_88_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_1_88_11&#39;)"><span class="mpre">keyCommand</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">KeyCommand</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_88_1_88_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_1_88_11&#39;)"><span class="hl_fundecl"><span class="mpre">keyCommand</span></span></a><span class="mpre"> </span><a name="loc_88_12_88_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_12_88_14&#39;)"><span class="hl_vardecl"><span class="mpre">km</span></span></a><span class="mpre"> = \</span><a name="loc_88_18_88_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_18_88_19&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_58_19_58_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_19_58_25&#39;)"><span class="hl_conref"><span class="mpre">GetKey</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_88_18_88_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_18_88_19&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">) </span><a href="#loc_88_12_88_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_12_88_14&#39;)"><span class="hl_varref"><span class="mpre">km</span></span></a><span class="mpre">

</span><a href="#loc_91_1_91_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_1_91_7&#39;)"><span class="mpre">useKey</span></a><span class="mpre"> :: </span><a href="System.Console.Haskeline.Key.html#loc_19_6_19_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Key.html#loc_19_6_19_9&#39;)"><span class="hl_tyconref"><span class="mpre">Key</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_46_6_46_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_12&#39;)"><span class="hl_tyconref"><span class="mpre">KeyMap</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_91_1_91_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_1_91_7&#39;)"><span class="hl_fundecl"><span class="mpre">useKey</span></span></a><span class="mpre"> </span><a name="loc_91_8_91_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_8_91_9&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> </span><a name="loc_91_10_91_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_10_91_11&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_46_17_46_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_17_46_23&#39;)"><span class="hl_conref"><span class="mpre">KeyMap</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_91_24_91_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_24_91_26&#39;)"><span class="hl_vardecl"><span class="mpre">k&#39;</span></span></a><span class="mpre"> -&gt; if </span><a href="#loc_91_8_91_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_8_91_9&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="hl_infix"><span class="mpre">==</span></span><a href="#loc_91_24_91_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_24_91_26&#39;)"><span class="hl_varref"><span class="mpre">k&#39;</span></span></a><span class="mpre"> then </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><a href="#loc_48_38_48_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_38_48_46&#39;)"><span class="hl_conref"><span class="mpre">Consumed</span></span></a><span class="mpre"> </span><a href="#loc_91_10_91_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_10_91_11&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) else </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- TODO: could just be a monadic action that returns a Char.</span></span><span class="mpre">
</span><a href="#loc_95_1_95_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_1_95_8&#39;)"><span class="mpre">useChar</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">KeyCommand</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_95_1_95_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_1_95_8&#39;)"><span class="hl_fundecl"><span class="mpre">useChar</span></span></a><span class="mpre"> </span><a name="loc_95_9_95_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_9_95_12&#39;)"><span class="hl_vardecl"><span class="mpre">act</span></span></a><span class="mpre"> = </span><a href="#loc_46_17_46_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_17_46_23&#39;)"><span class="hl_conref"><span class="mpre">KeyMap</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_95_25_95_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_25_95_26&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> -&gt; case </span><a href="#loc_95_25_95_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_25_95_26&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> of
                    </span><a href="System.Console.Haskeline.Key.html#loc_19_12_19_15" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Key.html#loc_19_12_19_15&#39;)"><span class="hl_conref"><span class="mpre">Key</span></span></a><span class="mpre"> </span><a name="loc_96_25_96_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_25_96_26&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> (</span><a href="System.Console.Haskeline.Key.html#loc_36_16_36_23" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Key.html#loc_36_16_36_23&#39;)"><span class="hl_conref"><span class="mpre">KeyChar</span></span></a><span class="mpre"> </span><a name="loc_96_36_96_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_36_96_37&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">) | </span><a href="GHC.Unicode.html#loc_139_1_139_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Unicode.html#loc_139_1_139_8&#39;)"><span class="hl_varref"><span class="mpre">isPrint</span></span></a><span class="mpre"> </span><a href="#loc_96_36_96_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_36_96_37&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_96_25_96_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_25_96_26&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="hl_infix"><span class="mpre">==</span></span><a href="System.Console.Haskeline.Key.html#loc_34_1_34_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Key.html#loc_34_1_34_11&#39;)"><span class="hl_varref"><span class="mpre">noModifier</span></span></a><span class="mpre">
                        -&gt; </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_48_38_48_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_38_48_46&#39;)"><span class="hl_conref"><span class="mpre">Consumed</span></span></a><span class="mpre"> (</span><a href="#loc_95_9_95_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_9_95_12&#39;)"><span class="hl_varref"><span class="mpre">act</span></span></a><span class="mpre"> </span><a href="#loc_96_36_96_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_36_96_37&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">)
                    _ -&gt; </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">

</span><a href="#loc_101_1_101_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_1_101_17&#39;)"><span class="mpre">withoutConsuming</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">KeyCommand</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_101_1_101_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_1_101_17&#39;)"><span class="hl_vardecl"><span class="mpre">withoutConsuming</span></span></a><span class="mpre"> = </span><a href="#loc_46_17_46_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_17_46_23&#39;)"><span class="hl_conref"><span class="mpre">KeyMap</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_48_22_48_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_22_48_33&#39;)"><span class="hl_conref"><span class="mpre">NotConsumed</span></span></a><span class="mpre">

</span><a href="#loc_104_1_104_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_1_104_10&#39;)"><span class="mpre">choiceCmd</span></a><span class="mpre"> :: [</span><a href="#loc_46_6_46_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_12&#39;)"><span class="hl_tyconref"><span class="mpre">KeyMap</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">] -&gt; </span><a href="#loc_46_6_46_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_12&#39;)"><span class="hl_tyconref"><span class="mpre">KeyMap</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_104_1_104_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_1_104_10&#39;)"><span class="hl_vardecl"><span class="mpre">choiceCmd</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">foldl</span></span><span class="mpre"> </span><a href="#loc_107_9_107_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_9_107_13&#39;)"><span class="hl_varref"><span class="mpre">orKM</span></span></a><span class="mpre"> </span><a href="#loc_106_9_106_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_9_106_15&#39;)"><span class="hl_varref"><span class="mpre">nullKM</span></span></a><span class="mpre">
    where
        </span><a name="loc_106_9_106_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_9_106_15&#39;)"><span class="hl_vardecl"><span class="mpre">nullKM</span></span></a><span class="mpre"> = </span><a href="#loc_46_17_46_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_17_46_23&#39;)"><span class="hl_conref"><span class="mpre">KeyMap</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
        </span><a name="loc_107_9_107_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_9_107_13&#39;)"><span class="hl_fundecl"><span class="mpre">orKM</span></span></a><span class="mpre"> (</span><a href="#loc_46_17_46_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_17_46_23&#39;)"><span class="hl_conref"><span class="mpre">KeyMap</span></span></a><span class="mpre"> </span><a name="loc_107_22_107_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_22_107_23&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre">) (</span><a href="#loc_46_17_46_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_17_46_23&#39;)"><span class="hl_conref"><span class="mpre">KeyMap</span></span></a><span class="mpre"> </span><a name="loc_107_33_107_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_33_107_34&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre">) = </span><a href="#loc_46_17_46_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_17_46_23&#39;)"><span class="hl_conref"><span class="mpre">KeyMap</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_107_48_107_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_48_107_49&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_107_22_107_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_22_107_23&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_107_48_107_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_48_107_49&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="Control.Monad.html#loc_130_4_130_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_130_4_130_9&#39;)"><span class="hl_infix"><span class="mpre">`mplus`</span></span></a><span class="mpre"> </span><a href="#loc_107_33_107_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_33_107_34&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_107_48_107_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_48_107_49&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">

</span><a href="#loc_110_1_110_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_1_110_13&#39;)"><span class="mpre">keyChoiceCmd</span></a><span class="mpre"> :: [</span><span class="hl_tyconref"><span class="mpre">KeyCommand</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_110_1_110_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_1_110_13&#39;)"><span class="hl_vardecl"><span class="mpre">keyChoiceCmd</span></span></a><span class="mpre"> = </span><a href="#loc_88_1_88_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_1_88_11&#39;)"><span class="hl_varref"><span class="mpre">keyCommand</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_104_1_104_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_1_104_10&#39;)"><span class="hl_varref"><span class="mpre">choiceCmd</span></span></a><span class="mpre">

</span><a href="#loc_113_1_113_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_1_113_14&#39;)"><span class="mpre">keyChoiceCmdM</span></a><span class="mpre"> :: [</span><a href="#loc_46_6_46_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_12&#39;)"><span class="hl_tyconref"><span class="mpre">KeyMap</span></span></a><span class="mpre"> (</span><a href="#loc_58_6_58_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_6_58_10&#39;)"><span class="hl_tyconref"><span class="mpre">CmdM</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)] -&gt; </span><a href="#loc_58_6_58_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_6_58_10&#39;)"><span class="hl_tyconref"><span class="mpre">CmdM</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_113_1_113_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_1_113_14&#39;)"><span class="hl_vardecl"><span class="mpre">keyChoiceCmdM</span></span></a><span class="mpre"> = </span><a href="#loc_58_19_58_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_19_58_25&#39;)"><span class="hl_conref"><span class="mpre">GetKey</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_104_1_104_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_1_104_10&#39;)"><span class="hl_varref"><span class="mpre">choiceCmd</span></span></a><span class="mpre">

</span><span class="warning" data-warning="DeclInfixDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 115, srcSpanStartColumn = 1, srcSpanEndLine = 115, srcSpanEndColumn = 13}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 115, srcSpanStartColumn = 8, srcSpanEndLine = 115, srcSpanEndColumn = 9}]}) (AssocRight (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename ="><span class="mpre">infixr 6 &gt;|&gt;</span></span><span class="mpre">
</span><a href="#loc_117_3_117_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_3_117_6&#39;)"><span class="mpre">(&gt;|&gt;)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 116, srcSpanStartColumn = 10, srcSpanEndLine = 116, srcSpanEndColumn = 20}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 116, srcSpanStartColumn = 18, srcSpanEndLine = 116, srcSpanEndColumn = 20}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">u</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">u</span></span><span class="mpre">
</span><a name="loc_117_1_117_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_2&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_117_3_117_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_3_117_6&#39;)"><span class="hl_fundecl"><span class="mpre">&gt;|&gt;</span></span></a><span class="mpre"> </span><a name="loc_117_7_117_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_7_117_8&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> = \</span><a name="loc_117_12_117_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_12_117_13&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_117_1_117_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_2&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_117_12_117_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_12_117_13&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="#loc_117_7_117_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_7_117_8&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">

</span><span class="warning" data-warning="DeclInfixDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 119, srcSpanStartColumn = 1, srcSpanEndLine = 119, srcSpanEndColumn = 13}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 119, srcSpanStartColumn = 8, srcSpanEndLine = 119, srcSpanEndColumn = 9}]}) (AssocRight (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename ="><span class="mpre">infixr 6 &gt;+&gt;</span></span><span class="mpre">
</span><a href="#loc_121_4_121_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_4_121_7&#39;)"><span class="mpre">(&gt;+&gt;)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 120, srcSpanStartColumn = 10, srcSpanEndLine = 120, srcSpanEndColumn = 20}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 120, srcSpanStartColumn = 18, srcSpanEndLine = 120, srcSpanEndColumn = 20}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">KeyCommand</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">u</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">KeyCommand</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">u</span></span><span class="mpre">
</span><a name="loc_121_1_121_3" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_1_121_3&#39;)"><span class="hl_vardecl"><span class="mpre">km</span></span></a><span class="mpre"> </span><a name="loc_121_4_121_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_4_121_7&#39;)"><span class="hl_fundecl"><span class="mpre">&gt;+&gt;</span></span></a><span class="mpre"> </span><a name="loc_121_8_121_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_8_121_9&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><a href="#loc_117_3_117_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_3_117_6&#39;)"><span class="hl_infix"><span class="mpre">&gt;|&gt;</span></span></a><span class="mpre"> </span><a href="#loc_121_8_121_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_8_121_9&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">) </span><a href="#loc_121_1_121_3" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_1_121_3&#39;)"><span class="hl_varref"><span class="mpre">km</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- attempt to run the command (predicated on getting a valid key); but if it fails, just keep</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- going.</span></span><span class="mpre">
</span><a href="#loc_126_1_126_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_1_126_4&#39;)"><span class="mpre">try</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 125, srcSpanStartColumn = 8, srcSpanEndLine = 125, srcSpanEndColumn = 18}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 125, srcSpanStartColumn = 16, srcSpanEndLine = 125, srcSpanEndColumn = 18}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">KeyCommand</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">
</span><a name="loc_126_1_126_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_1_126_4&#39;)"><span class="hl_fundecl"><span class="mpre">try</span></span></a><span class="mpre"> </span><a name="loc_126_5_126_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_5_126_6&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_110_1_110_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_1_110_13&#39;)"><span class="hl_varref"><span class="mpre">keyChoiceCmd</span></span></a><span class="mpre"> [</span><a href="#loc_126_5_126_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_5_126_6&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">,</span><a href="#loc_101_1_101_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_1_101_17&#39;)"><span class="hl_varref"><span class="mpre">withoutConsuming</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre">]

</span><span class="warning" data-warning="DeclInfixDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 128, srcSpanStartColumn = 1, srcSpanEndLine = 128, srcSpanEndColumn = 12}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 128, srcSpanStartColumn = 8, srcSpanEndLine = 128, srcSpanEndColumn = 9}]}) (AssocRight (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename ="><span class="mpre">infixr 6 +&gt;</span></span><span class="mpre">
</span><a href="#loc_130_1_130_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_1_130_5&#39;)"><span class="mpre">(+&gt;)</span></a><span class="mpre"> :: </span><a href="System.Console.Haskeline.Key.html#loc_19_6_19_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Key.html#loc_19_6_19_9&#39;)"><span class="hl_tyconref"><span class="mpre">Key</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_46_6_46_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_12&#39;)"><span class="hl_tyconref"><span class="mpre">KeyMap</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_130_1_130_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_1_130_5&#39;)"><span class="hl_vardecl"><span class="mpre">(+&gt;)</span></span></a><span class="mpre"> = </span><a href="#loc_91_1_91_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_1_91_7&#39;)"><span class="hl_varref"><span class="mpre">useKey</span></span></a><span class="mpre">

</span><a href="#loc_133_1_133_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_1_133_7&#39;)"><span class="mpre">finish</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 132, srcSpanStartColumn = 11, srcSpanEndLine = 132, srcSpanEndColumn = 33}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 132, srcSpanStartColumn = 11, srcSpanEndLine = 132, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7."><span class="mpre">(Monad m, Result s) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">)
</span><a name="loc_133_1_133_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_1_133_7&#39;)"><span class="hl_vardecl"><span class="mpre">finish</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.LineState.html#loc_152_5_152_13" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_152_5_152_13&#39;)"><span class="hl_varref"><span class="mpre">toResult</span></span></a><span class="mpre">

</span><a href="#loc_136_1_136_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_1_136_8&#39;)"><span class="mpre">failCmd</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 135, srcSpanStartColumn = 12, srcSpanEndLine = 135, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 135, srcSpanStartColumn = 20, srcSpanEndLine = 135, srcSpanEndColumn = 22}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
</span><a name="loc_136_1_136_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_1_136_8&#39;)"><span class="hl_fundecl"><span class="mpre">failCmd</span></span></a><span class="mpre"> _ = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">

</span><a href="#loc_139_1_139_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_1_139_7&#39;)"><span class="mpre">effect</span></a><span class="mpre"> :: </span><a href="#loc_38_6_38_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_12&#39;)"><span class="hl_tyconref"><span class="mpre">Effect</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_58_6_58_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_6_58_10&#39;)"><span class="hl_tyconref"><span class="mpre">CmdM</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_139_1_139_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_1_139_7&#39;)"><span class="hl_fundecl"><span class="mpre">effect</span></span></a><span class="mpre"> </span><a name="loc_139_8_139_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_8_139_9&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> = </span><a href="#loc_59_19_59_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_19_59_27&#39;)"><span class="hl_conref"><span class="mpre">DoEffect</span></span></a><span class="mpre"> </span><a href="#loc_139_8_139_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_8_139_9&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_61_19_61_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_19_61_25&#39;)"><span class="hl_conref"><span class="mpre">Result</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">

</span><a href="#loc_142_1_142_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_1_142_15&#39;)"><span class="mpre">clearScreenCmd</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">
</span><a name="loc_142_1_142_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_1_142_15&#39;)"><span class="hl_vardecl"><span class="mpre">clearScreenCmd</span></span></a><span class="mpre"> = </span><a href="#loc_59_19_59_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_19_59_27&#39;)"><span class="hl_conref"><span class="mpre">DoEffect</span></span></a><span class="mpre"> </span><a href="#loc_40_17_40_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_17_40_28&#39;)"><span class="hl_conref"><span class="mpre">ClearScreen</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_61_19_61_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_19_61_25&#39;)"><span class="hl_conref"><span class="mpre">Result</span></span></a><span class="mpre">

</span><a href="#loc_146_1_146_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_14&#39;)"><span class="mpre">simpleCommand</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 144, srcSpanStartColumn = 18, srcSpanEndLine = 144, srcSpanEndColumn = 43}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 144, srcSpanStartColumn = 18, srcSpanEndLine = 144, srcSpanEndColumn = 19},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7."><span class="mpre">(LineState s, Monad m) =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><a href="#loc_38_6_38_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_12&#39;)"><span class="hl_tyconref"><span class="mpre">Effect</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">))
        -&gt; </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">
</span><a name="loc_146_1_146_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_14&#39;)"><span class="hl_fundecl"><span class="mpre">simpleCommand</span></span></a><span class="mpre"> </span><a name="loc_146_15_146_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_15_146_16&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = \</span><a name="loc_146_20_146_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_20_146_21&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> -&gt; do
    </span><a name="loc_147_5_147_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_5_147_7&#39;)"><span class="hl_vardecl"><span class="mpre">et</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> (</span><a href="#loc_146_15_146_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_15_146_16&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_146_20_146_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_20_146_21&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
    case </span><a href="#loc_147_5_147_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_5_147_7&#39;)"><span class="hl_varref"><span class="mpre">et</span></span></a><span class="mpre"> of
        </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_149_14_149_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_14_149_15&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_139_1_139_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_1_139_7&#39;)"><span class="hl_varref"><span class="mpre">effect</span></span></a><span class="mpre"> </span><a href="#loc_149_14_149_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_14_149_15&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_146_20_146_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_20_146_21&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
        </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a name="loc_150_15_150_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_15_150_16&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_157_1_157_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_1_157_9&#39;)"><span class="hl_varref"><span class="mpre">setState</span></span></a><span class="mpre"> </span><a href="#loc_150_15_150_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_15_150_16&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">

</span><a href="#loc_154_1_154_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_1_154_12&#39;)"><span class="mpre">charCommand</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 152, srcSpanStartColumn = 16, srcSpanEndLine = 152, srcSpanEndColumn = 41}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 152, srcSpanStartColumn = 16, srcSpanEndLine = 152, srcSpanEndColumn = 17},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7."><span class="mpre">(LineState s, Monad m) =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><a href="#loc_38_6_38_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_12&#39;)"><span class="hl_tyconref"><span class="mpre">Effect</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">))
                    -&gt; </span><span class="hl_tyconref"><span class="mpre">KeyCommand</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">
</span><a name="loc_154_1_154_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_1_154_12&#39;)"><span class="hl_fundecl"><span class="mpre">charCommand</span></span></a><span class="mpre"> </span><a name="loc_154_13_154_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_13_154_14&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_95_1_95_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_1_95_8&#39;)"><span class="hl_varref"><span class="mpre">useChar</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_146_1_146_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_14&#39;)"><span class="hl_varref"><span class="mpre">simpleCommand</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_154_13_154_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_13_154_14&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">

</span><a href="#loc_157_1_157_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_1_157_9&#39;)"><span class="mpre">setState</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 156, srcSpanStartColumn = 13, srcSpanEndLine = 156, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 156, srcSpanStartColumn = 13, srcSpanEndLine = 156, srcSpanEndColumn = 14},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7."><span class="mpre">(Monad m, LineState s) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">
</span><a name="loc_157_1_157_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_1_157_9&#39;)"><span class="hl_fundecl"><span class="mpre">setState</span></span></a><span class="mpre"> </span><a name="loc_157_10_157_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_10_157_11&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><a href="#loc_139_1_139_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_1_139_7&#39;)"><span class="hl_varref"><span class="mpre">effect</span></span></a><span class="mpre"> (</span><a href="#loc_44_1_44_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_1_44_11&#39;)"><span class="hl_varref"><span class="mpre">lineChange</span></span></a><span class="mpre"> </span><a href="#loc_157_10_157_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_10_157_11&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_157_10_157_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_10_157_11&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">

</span><a href="#loc_160_1_160_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_1_160_7&#39;)"><span class="mpre">change</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 159, srcSpanStartColumn = 11, srcSpanEndLine = 159, srcSpanEndColumn = 36}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 159, srcSpanStartColumn = 11, srcSpanEndLine = 159, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7."><span class="mpre">(LineState t, Monad m) =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_160_1_160_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_1_160_7&#39;)"><span class="hl_vardecl"><span class="mpre">change</span></span></a><span class="mpre"> = (</span><a href="#loc_157_1_157_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_1_157_9&#39;)"><span class="hl_varref"><span class="mpre">setState</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre">)

</span><a href="#loc_163_1_163_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_1_163_15&#39;)"><span class="mpre">changeFromChar</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 162, srcSpanStartColumn = 19, srcSpanEndLine = 162, srcSpanEndColumn = 44}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 162, srcSpanStartColumn = 19, srcSpanEndLine = 162, srcSpanEndColumn = 20},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7."><span class="mpre">(LineState t, Monad m) =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">KeyCommand</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_163_1_163_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_1_163_15&#39;)"><span class="hl_fundecl"><span class="mpre">changeFromChar</span></span></a><span class="mpre"> </span><a name="loc_163_16_163_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_16_163_17&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_95_1_95_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_1_95_8&#39;)"><span class="hl_varref"><span class="mpre">useChar</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_160_1_160_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_1_160_7&#39;)"><span class="hl_varref"><span class="mpre">change</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_163_16_163_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_16_163_17&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">

</span><a href="#loc_166_1_166_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_1_166_9&#39;)"><span class="mpre">doBefore</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 165, srcSpanStartColumn = 13, srcSpanEndLine = 165, srcSpanEndColumn = 23}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command.hs&quot;, srcSpanStartLine = 165, srcSpanStartColumn = 21, srcSpanEndLine = 165, srcSpanEndColumn = 23}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">KeyCommand</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">u</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">KeyCommand</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">u</span></span><span class="mpre">
</span><a name="loc_166_1_166_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_1_166_9&#39;)"><span class="hl_fundecl"><span class="mpre">doBefore</span></span></a><span class="mpre"> </span><a name="loc_166_10_166_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_10_166_13&#39;)"><span class="hl_vardecl"><span class="mpre">cmd</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><a href="#loc_166_10_166_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_10_166_13&#39;)"><span class="hl_varref"><span class="mpre">cmd</span></span></a><span class="mpre"> </span><a href="#loc_117_3_117_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_3_117_6&#39;)"><span class="hl_infix"><span class="mpre">&gt;|&gt;</span></span></a><span class="mpre">)
</span></div></body></html>