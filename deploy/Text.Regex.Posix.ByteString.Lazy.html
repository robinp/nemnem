<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# OPTIONS_GHC -fno-warn-orphans #-}
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Text.Regex.Posix.ByteString.Lazy</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (c) Chris Kuklewicz 2007</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  BSD-style (see the file LICENSE)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- </span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  libraries@haskell.org, textregexlazy@personal.mightyreason.com</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  experimental</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  non-portable (regex-base needs MPTC+FD)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This provides &#39;ByteString.Lazy&#39; instances for RegexMaker and RegexLike</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- based on &quot;Text.Regex.Posix.Wrap&quot;, and a (RegexContext Regex</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- ByteString ByteString) instance.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- To use these instance, you would normally import</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &quot;Text.Regex.Posix&quot;.  You only need to import this module to use</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the medium level API of the compile, regexec, and execute</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- functions.  All of these report error by returning Left values</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- instead of undefined or error or fail.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- A Lazy ByteString with more than one chunk cannot be be passed to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the library efficiently (as a pointer).  It will have to converted</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- via a full copy to a temporary normal bytestring (with a null byte</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- appended if necessary).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">

module Text.Regex.Posix.ByteString.Lazy(
  </span><span class="hl_comment"><span class="mpre">-- ** Types</span></span><span class="mpre">
  Regex,
  MatchOffset,
  MatchLength,
  ReturnCode,
  WrapError,
  </span><span class="hl_comment"><span class="mpre">-- ** Miscellaneous</span></span><span class="mpre">
  unusedOffset,
  </span><span class="hl_comment"><span class="mpre">-- ** Medium level API functions</span></span><span class="mpre">
  compile,
  execute,
  regexec,
  </span><span class="hl_comment"><span class="mpre">-- ** Compilation options</span></span><span class="mpre">
  CompOption(CompOption),
  compBlank,
  compExtended,   </span><span class="hl_comment"><span class="mpre">-- use extended regex syntax</span></span><span class="mpre">
  compIgnoreCase, </span><span class="hl_comment"><span class="mpre">-- ignore case when matching</span></span><span class="mpre">
  compNoSub,      </span><span class="hl_comment"><span class="mpre">-- no substring matching needed</span></span><span class="mpre">
  compNewline,    </span><span class="hl_comment"><span class="mpre">-- &#39;.&#39; doesn&#39;t match newline</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- ** Execution options</span></span><span class="mpre">
  ExecOption(ExecOption),
  execBlank,
  execNotBOL,      </span><span class="hl_comment"><span class="mpre">-- not at begining of line</span></span><span class="mpre">
  execNotEOL       </span><span class="hl_comment"><span class="mpre">-- not at end of line</span></span><span class="mpre">
  ) where

import Data.Array(Array)
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/regex-posix-0.95.2/Text/Regex/Posix/ByteString/Lazy.hs&quot;, srcSpanStartLine = 56, srcSpanStartColumn = 18, srcSpanEndLine = 56, srcSpanEndColumn = 38}, srcInfoPoints = []}) &quot;Data.ByteString.Lazy&quot;"><span class="mpre">Data.ByteString.Lazy</span></span><span class="mpre"> as L (ByteString,null,toChunks,fromChunks,last,snoc)
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/regex-posix-0.95.2/Text/Regex/Posix/ByteString/Lazy.hs&quot;, srcSpanStartLine = 57, srcSpanStartColumn = 18, srcSpanEndLine = 57, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> as B(ByteString,concat)
#ifdef SPLIT_BASE
import qualified Data.ByteString.Unsafe as B(</span><a href="Data.ByteString.Unsafe.html#loc_293_1_293_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_293_1_293_19&#39;)"><span class="mpre">unsafeUseAsCString</span></a><span class="mpre">)
#else
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/regex-posix-0.95.2/Text/Regex/Posix/ByteString/Lazy.hs&quot;, srcSpanStartLine = 61, srcSpanStartColumn = 18, srcSpanEndLine = 61, srcSpanEndColumn = 38}, srcInfoPoints = []}) &quot;Data.ByteString.Base&quot;"><span class="mpre">Data.ByteString.Base</span></span><span class="mpre"> as B(unsafeUseAsCString)
#endif
import System.IO.Unsafe(</span><a href="GHC.IO.html#loc_165_1_165_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_165_1_165_16&#39;)"><span class="mpre">unsafePerformIO</span></a><span class="mpre">)
import Text.Regex.Base.RegexLike(</span><a href="Text.Regex.Base.RegexLike.html#loc_98_47_98_57" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Base.RegexLike.html#loc_98_47_98_57&#39;)"><span class="mpre">RegexMaker</span></a><span class="mpre">(..),</span><a href="Text.Regex.Base.RegexLike.html#loc_190_35_190_47" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Base.RegexLike.html#loc_190_35_190_47&#39;)"><span class="mpre">RegexContext</span></a><span class="mpre">(..),</span><a href="Text.Regex.Base.RegexLike.html#loc_130_26_130_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Base.RegexLike.html#loc_130_26_130_35&#39;)"><span class="mpre">RegexLike</span></a><span class="mpre">(..),MatchOffset,MatchLength)
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/regex-posix-0.95.2/Text/Regex/Posix/ByteString/Lazy.hs&quot;, srcSpanStartLine = 65, srcSpanStartColumn = 8, srcSpanEndLine = 65, srcSpanEndColumn = 29}, srcInfoPoints = []}) &quot;Text.Regex.Posix.Wrap&quot;"><span class="mpre">Text.Regex.Posix.Wrap</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- all</span></span><span class="mpre">
import qualified Text.Regex.Posix.ByteString as BS(</span><a href="Text.Regex.Posix.ByteString.html#loc_114_1_114_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Posix.ByteString.html#loc_114_1_114_8&#39;)"><span class="mpre">execute</span></a><span class="mpre">,</span><a href="Text.Regex.Posix.ByteString.html#loc_127_1_127_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Posix.ByteString.html#loc_127_1_127_8&#39;)"><span class="mpre">regexec</span></a><span class="mpre">)
import Text.Regex.Base.Impl(</span><a href="Text.Regex.Base.Impl.html#loc_52_1_52_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Base.Impl.html#loc_52_1_52_10&#39;)"><span class="mpre">polymatch</span></a><span class="mpre">,</span><a href="Text.Regex.Base.Impl.html#loc_58_1_58_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Base.Impl.html#loc_58_1_58_11&#39;)"><span class="mpre">polymatchM</span></a><span class="mpre">)
import Foreign.C.String(CString)

instance </span><a href="Text.Regex.Base.RegexLike.html#loc_190_35_190_47" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Base.RegexLike.html#loc_190_35_190_47&#39;)"><span class="hl_classref"><span class="mpre">RegexContext</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Regex</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre"> where
  </span><a href="Text.Regex.Base.RegexLike.html#loc_191_3_191_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Base.RegexLike.html#loc_191_3_191_8&#39;)"><span class="hl_vardecl"><span class="mpre">match</span></span></a><span class="mpre"> = </span><a href="Text.Regex.Base.Impl.html#loc_52_1_52_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Base.Impl.html#loc_52_1_52_10&#39;)"><span class="hl_varref"><span class="mpre">polymatch</span></span></a><span class="mpre">
  </span><a href="Text.Regex.Base.RegexLike.html#loc_192_3_192_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Base.RegexLike.html#loc_192_3_192_9&#39;)"><span class="hl_vardecl"><span class="mpre">matchM</span></span></a><span class="mpre"> = </span><a href="Text.Regex.Base.Impl.html#loc_58_1_58_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Base.Impl.html#loc_58_1_58_11&#39;)"><span class="hl_varref"><span class="mpre">polymatchM</span></span></a><span class="mpre">

</span><a href="#loc_75_1_75_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_1_75_9&#39;)"><span class="mpre">fromLazy</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre">
</span><a name="loc_75_1_75_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_1_75_9&#39;)"><span class="hl_vardecl"><span class="mpre">fromLazy</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">B.concat</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.toChunks</span></span><span class="mpre">

</span><a href="#loc_78_1_78_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_1_78_7&#39;)"><span class="mpre">toLazy</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre">
</span><a name="loc_78_1_78_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_1_78_7&#39;)"><span class="hl_vardecl"><span class="mpre">toLazy</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">L.fromChunks</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre">

</span><a href="#loc_81_1_81_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_1_81_7&#39;)"><span class="mpre">unwrap</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxParen (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/regex-posix-0.95.2/Text/Regex/Posix/ByteString/Lazy.hs&quot;, srcSpanStartLine = 80, srcSpanStartColumn = 11, srcSpanEndLine = 80, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/regex-posix-0.95.2/Text/Regex/Posix/ByteString/Lazy.hs&quot;, srcSpanStartLine = 80, srcSpanStartColumn = 11, srcSpanEndLine = 80, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/regex-posix-0.95"><span class="mpre">(Show e) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">v</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">v</span></span><span class="mpre">
</span><a name="loc_81_1_81_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_1_81_7&#39;)"><span class="hl_fundecl"><span class="mpre">unwrap</span></span></a><span class="mpre"> </span><a name="loc_81_8_81_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_8_81_9&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = case </span><a href="#loc_81_8_81_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_8_81_9&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_81_27_81_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_27_81_30&#39;)"><span class="hl_vardecl"><span class="mpre">err</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">fail</span></span><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;Text.Regex.Posix.ByteString.Lazy died: &quot;</span></span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_81_27_81_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_27_81_30&#39;)"><span class="hl_varref"><span class="mpre">err</span></span></a><span class="mpre">)
                     </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a name="loc_82_28_82_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_28_82_29&#39;)"><span class="hl_vardecl"><span class="mpre">v</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_82_28_82_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_28_82_29&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_86_1_86_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_10&#39;)"><span class="mpre">asCString</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a href="#loc_86_1_86_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_10&#39;)"><span class="mpre">asCString</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyconref"><span class="mpre">CString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_86_1_86_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_10&#39;)"><span class="hl_fundecl"><span class="mpre">asCString</span></span></a><span class="mpre"> </span><a name="loc_86_11_86_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_11_86_12&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = if (</span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">L.null</span></span><span class="mpre"> </span><a href="#loc_86_11_86_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_11_86_12&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)) </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> (</span><span class="hl_num"><span class="mpre">0</span></span><span class="hl_infix"><span class="mpre">==</span></span><span class="hl_varref"><span class="mpre">L.last</span></span><span class="mpre"> </span><a href="#loc_86_11_86_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_11_86_12&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
                then </span><a href="Data.ByteString.Unsafe.html#loc_293_1_293_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_293_1_293_19&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeUseAsCString</span></span></a><span class="mpre"> (</span><a href="#loc_75_1_75_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_1_75_9&#39;)"><span class="hl_varref"><span class="mpre">fromLazy</span></span></a><span class="mpre"> </span><a href="#loc_86_11_86_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_11_86_12&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
                else </span><a href="Data.ByteString.Unsafe.html#loc_293_1_293_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_293_1_293_19&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeUseAsCString</span></span></a><span class="mpre"> (</span><a href="#loc_75_1_75_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_1_75_9&#39;)"><span class="hl_varref"><span class="mpre">fromLazy</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">L.snoc</span></span><span class="mpre"> </span><a href="#loc_86_11_86_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_11_86_12&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">))

instance </span><a href="Text.Regex.Base.RegexLike.html#loc_98_47_98_57" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Base.RegexLike.html#loc_98_47_98_57&#39;)"><span class="hl_classref"><span class="mpre">RegexMaker</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Regex</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">CompOption</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ExecOption</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre"> where
  </span><a href="Text.Regex.Base.RegexLike.html#loc_103_3_103_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Base.RegexLike.html#loc_103_3_103_16&#39;)"><span class="hl_fundecl"><span class="mpre">makeRegexOpts</span></span></a><span class="mpre"> </span><a name="loc_91_17_91_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_17_91_18&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> </span><a name="loc_91_19_91_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_19_91_20&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> </span><a name="loc_91_21_91_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_21_91_28&#39;)"><span class="hl_vardecl"><span class="mpre">pattern</span></span></a><span class="mpre"> = </span><a href="GHC.IO.html#loc_165_1_165_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_165_1_165_16&#39;)"><span class="hl_varref"><span class="mpre">unsafePerformIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_111_1_111_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_1_111_8&#39;)"><span class="hl_varref"><span class="mpre">compile</span></span></a><span class="mpre"> </span><a href="#loc_91_17_91_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_17_91_18&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_91_19_91_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_19_91_20&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> </span><a href="#loc_91_21_91_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_21_91_28&#39;)"><span class="hl_varref"><span class="mpre">pattern</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="#loc_81_1_81_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_1_81_7&#39;)"><span class="hl_varref"><span class="mpre">unwrap</span></span></a><span class="mpre">
  </span><a href="Text.Regex.Base.RegexLike.html#loc_107_3_107_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Base.RegexLike.html#loc_107_3_107_17&#39;)"><span class="hl_fundecl"><span class="mpre">makeRegexOptsM</span></span></a><span class="mpre"> </span><a name="loc_92_18_92_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_18_92_19&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> </span><a name="loc_92_20_92_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_20_92_21&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> </span><a name="loc_92_22_92_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_22_92_29&#39;)"><span class="hl_vardecl"><span class="mpre">pattern</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">either</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fail</span></span><span class="hl_infix"><span class="mpre">.</span></span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre">) </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.html#loc_165_1_165_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_165_1_165_16&#39;)"><span class="hl_varref"><span class="mpre">unsafePerformIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_111_1_111_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_1_111_8&#39;)"><span class="hl_varref"><span class="mpre">compile</span></span></a><span class="mpre"> </span><a href="#loc_92_18_92_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_18_92_19&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_92_20_92_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_20_92_21&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> </span><a href="#loc_92_22_92_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_22_92_29&#39;)"><span class="hl_varref"><span class="mpre">pattern</span></span></a><span class="mpre">

instance </span><a href="Text.Regex.Base.RegexLike.html#loc_130_26_130_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Base.RegexLike.html#loc_130_26_130_35&#39;)"><span class="hl_classref"><span class="mpre">RegexLike</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Regex</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre"> where
  </span><a href="Text.Regex.Base.RegexLike.html#loc_147_3_147_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Base.RegexLike.html#loc_147_3_147_12&#39;)"><span class="hl_fundecl"><span class="mpre">matchTest</span></span></a><span class="mpre"> </span><a name="loc_95_13_95_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_13_95_18&#39;)"><span class="hl_vardecl"><span class="mpre">regex</span></span></a><span class="mpre"> </span><a name="loc_95_19_95_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_19_95_21&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> = </span><a href="GHC.IO.html#loc_165_1_165_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_165_1_165_16&#39;)"><span class="hl_varref"><span class="mpre">unsafePerformIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
    </span><a href="#loc_86_1_86_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_10&#39;)"><span class="hl_varref"><span class="mpre">asCString</span></span></a><span class="mpre"> </span><a href="#loc_95_19_95_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_19_95_21&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">wrapTest</span></span><span class="mpre"> </span><a href="#loc_95_13_95_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_13_95_18&#39;)"><span class="hl_varref"><span class="mpre">regex</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre">  </span><a href="#loc_81_1_81_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_1_81_7&#39;)"><span class="hl_varref"><span class="mpre">unwrap</span></span></a><span class="mpre">
  </span><a href="Text.Regex.Base.RegexLike.html#loc_137_3_137_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Base.RegexLike.html#loc_137_3_137_12&#39;)"><span class="hl_fundecl"><span class="mpre">matchOnce</span></span></a><span class="mpre"> </span><a name="loc_97_13_97_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_13_97_18&#39;)"><span class="hl_vardecl"><span class="mpre">regex</span></span></a><span class="mpre"> </span><a name="loc_97_19_97_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_19_97_21&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> = </span><a href="GHC.IO.html#loc_165_1_165_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_165_1_165_16&#39;)"><span class="hl_varref"><span class="mpre">unsafePerformIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> 
    </span><a href="#loc_124_1_124_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_1_124_8&#39;)"><span class="hl_varref"><span class="mpre">execute</span></span></a><span class="mpre"> </span><a href="#loc_97_13_97_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_13_97_18&#39;)"><span class="hl_varref"><span class="mpre">regex</span></span></a><span class="mpre"> </span><a href="#loc_97_19_97_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_19_97_21&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="#loc_81_1_81_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_1_81_7&#39;)"><span class="hl_varref"><span class="mpre">unwrap</span></span></a><span class="mpre">
  </span><a href="Text.Regex.Base.RegexLike.html#loc_141_3_141_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Base.RegexLike.html#loc_141_3_141_11&#39;)"><span class="hl_fundecl"><span class="mpre">matchAll</span></span></a><span class="mpre"> </span><a name="loc_99_12_99_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_12_99_17&#39;)"><span class="hl_vardecl"><span class="mpre">regex</span></span></a><span class="mpre"> </span><a name="loc_99_18_99_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_18_99_20&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> = </span><a href="GHC.IO.html#loc_165_1_165_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_165_1_165_16&#39;)"><span class="hl_varref"><span class="mpre">unsafePerformIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
    </span><a href="#loc_86_1_86_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_10&#39;)"><span class="hl_varref"><span class="mpre">asCString</span></span></a><span class="mpre"> </span><a href="#loc_99_18_99_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_18_99_20&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">wrapMatchAll</span></span><span class="mpre"> </span><a href="#loc_99_12_99_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_12_99_17&#39;)"><span class="hl_varref"><span class="mpre">regex</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="#loc_81_1_81_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_1_81_7&#39;)"><span class="hl_varref"><span class="mpre">unwrap</span></span></a><span class="mpre">
  </span><a href="Text.Regex.Base.RegexLike.html#loc_144_3_144_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Base.RegexLike.html#loc_144_3_144_13&#39;)"><span class="hl_fundecl"><span class="mpre">matchCount</span></span></a><span class="mpre"> </span><a name="loc_101_14_101_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_14_101_19&#39;)"><span class="hl_vardecl"><span class="mpre">regex</span></span></a><span class="mpre"> </span><a name="loc_101_20_101_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_20_101_22&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> = </span><a href="GHC.IO.html#loc_165_1_165_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_165_1_165_16&#39;)"><span class="hl_varref"><span class="mpre">unsafePerformIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
    </span><a href="#loc_86_1_86_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_10&#39;)"><span class="hl_varref"><span class="mpre">asCString</span></span></a><span class="mpre"> </span><a href="#loc_101_20_101_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_20_101_22&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">wrapCount</span></span><span class="mpre"> </span><a href="#loc_101_14_101_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_14_101_19&#39;)"><span class="hl_varref"><span class="mpre">regex</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="#loc_81_1_81_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_1_81_7&#39;)"><span class="hl_varref"><span class="mpre">unwrap</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- ---------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Compiles a regular expression</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_111_1_111_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_1_111_8&#39;)"><span class="mpre">compile</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">CompOption</span></span><span class="mpre">    </span><span class="hl_comment"><span class="mpre">-- ^ Flags (summed together)</span></span><span class="mpre">
        -&gt; </span><span class="hl_tyconref"><span class="mpre">ExecOption</span></span><span class="mpre">    </span><span class="hl_comment"><span class="mpre">-- ^ Flags (summed together)</span></span><span class="mpre">
        -&gt; </span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^ The regular expression to compile</span></span><span class="mpre">
        -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">WrapError</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Regex</span></span><span class="mpre">)      </span><span class="hl_comment"><span class="mpre">-- ^ Returns: the compiled regular expression</span></span><span class="mpre">
</span><a name="loc_111_1_111_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_1_111_8&#39;)"><span class="hl_fundecl"><span class="mpre">compile</span></span></a><span class="mpre"> </span><a name="loc_111_9_111_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_9_111_10&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> </span><a name="loc_111_11_111_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_11_111_12&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> </span><a name="loc_111_13_111_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_13_111_20&#39;)"><span class="hl_vardecl"><span class="mpre">pattern</span></span></a><span class="mpre"> = </span><a href="#loc_86_1_86_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_10&#39;)"><span class="hl_varref"><span class="mpre">asCString</span></span></a><span class="mpre"> </span><a href="#loc_111_13_111_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_13_111_20&#39;)"><span class="hl_varref"><span class="mpre">pattern</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">wrapCompile</span></span><span class="mpre"> </span><a href="#loc_111_9_111_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_9_111_10&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_111_11_111_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_11_111_12&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- ---------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Matches a regular expression against a buffer, returning the buffer</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- indicies of the match, and any submatches</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Matches a regular expression against a string</span></span><span class="mpre">
</span><a href="#loc_124_1_124_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_1_124_8&#39;)"><span class="mpre">execute</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Regex</span></span><span class="mpre">      </span><span class="hl_comment"><span class="mpre">-- ^ Compiled regular expression</span></span><span class="mpre">
        -&gt; </span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ String to match against</span></span><span class="mpre">
        -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">WrapError</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Array</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">MatchOffset</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">MatchLength</span></span><span class="mpre">))))
                </span><span class="hl_comment"><span class="mpre">-- ^ Returns: &#39;Nothing&#39; if the regex did not match the</span></span><span class="mpre">
                </span><span class="hl_comment"><span class="mpre">-- string, or:</span></span><span class="mpre">
                </span><span class="hl_comment"><span class="mpre">--   &#39;Just&#39; an array of (offset,length) pairs where index 0 is whole match, and the rest are the captured subexpressions.</span></span><span class="mpre">
</span><a name="loc_124_1_124_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_1_124_8&#39;)"><span class="hl_fundecl"><span class="mpre">execute</span></span></a><span class="mpre"> </span><a name="loc_124_9_124_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_9_124_14&#39;)"><span class="hl_vardecl"><span class="mpre">regex</span></span></a><span class="mpre"> </span><a name="loc_124_15_124_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_15_124_17&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> = if (</span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">L.null</span></span><span class="mpre"> </span><a href="#loc_124_15_124_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_15_124_17&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">)) </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> (</span><span class="hl_num"><span class="mpre">0</span></span><span class="hl_infix"><span class="mpre">==</span></span><span class="hl_varref"><span class="mpre">L.last</span></span><span class="mpre"> </span><a href="#loc_124_15_124_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_15_124_17&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">)
                     then </span><a href="Text.Regex.Posix.ByteString.html#loc_114_1_114_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Posix.ByteString.html#loc_114_1_114_8&#39;)"><span class="hl_varref"><span class="mpre">BS.execute</span></span></a><span class="mpre"> </span><a href="#loc_124_9_124_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_9_124_14&#39;)"><span class="hl_varref"><span class="mpre">regex</span></span></a><span class="mpre"> (</span><a href="#loc_75_1_75_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_1_75_9&#39;)"><span class="hl_varref"><span class="mpre">fromLazy</span></span></a><span class="mpre"> </span><a href="#loc_124_15_124_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_15_124_17&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">)
                     else </span><a href="Text.Regex.Posix.ByteString.html#loc_114_1_114_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Posix.ByteString.html#loc_114_1_114_8&#39;)"><span class="hl_varref"><span class="mpre">BS.execute</span></span></a><span class="mpre"> </span><a href="#loc_124_9_124_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_9_124_14&#39;)"><span class="hl_varref"><span class="mpre">regex</span></span></a><span class="mpre"> (</span><a href="#loc_75_1_75_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_1_75_9&#39;)"><span class="hl_varref"><span class="mpre">fromLazy</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">L.snoc</span></span><span class="mpre"> </span><a href="#loc_124_15_124_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_15_124_17&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">))

</span><a href="#loc_131_1_131_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_1_131_8&#39;)"><span class="mpre">regexec</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Regex</span></span><span class="mpre">      </span><span class="hl_comment"><span class="mpre">-- ^ Compiled regular expression</span></span><span class="mpre">
        -&gt; </span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ String to match against</span></span><span class="mpre">
        -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">WrapError</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre">, [</span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre">])))
</span><a name="loc_131_1_131_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_1_131_8&#39;)"><span class="hl_fundecl"><span class="mpre">regexec</span></span></a><span class="mpre"> </span><a name="loc_131_9_131_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_9_131_14&#39;)"><span class="hl_vardecl"><span class="mpre">regex</span></span></a><span class="mpre"> </span><a name="loc_131_15_131_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_15_131_17&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> = do
  </span><a name="loc_132_3_132_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_3_132_4&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- if (</span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">L.null</span></span><span class="mpre"> </span><a href="#loc_131_15_131_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_15_131_17&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">)) </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> (</span><span class="hl_num"><span class="mpre">0</span></span><span class="hl_infix"><span class="mpre">==</span></span><span class="hl_varref"><span class="mpre">L.last</span></span><span class="mpre"> </span><a href="#loc_131_15_131_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_15_131_17&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">)
         then </span><a href="Text.Regex.Posix.ByteString.html#loc_127_1_127_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Posix.ByteString.html#loc_127_1_127_8&#39;)"><span class="hl_varref"><span class="mpre">BS.regexec</span></span></a><span class="mpre"> </span><a href="#loc_131_9_131_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_9_131_14&#39;)"><span class="hl_varref"><span class="mpre">regex</span></span></a><span class="mpre"> (</span><a href="#loc_75_1_75_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_1_75_9&#39;)"><span class="hl_varref"><span class="mpre">fromLazy</span></span></a><span class="mpre"> </span><a href="#loc_131_15_131_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_15_131_17&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">)
         else </span><a href="Text.Regex.Posix.ByteString.html#loc_127_1_127_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Regex.Posix.ByteString.html#loc_127_1_127_8&#39;)"><span class="hl_varref"><span class="mpre">BS.regexec</span></span></a><span class="mpre"> </span><a href="#loc_131_9_131_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_9_131_14&#39;)"><span class="hl_varref"><span class="mpre">regex</span></span></a><span class="mpre"> (</span><a href="#loc_75_1_75_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_1_75_9&#39;)"><span class="hl_varref"><span class="mpre">fromLazy</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">L.snoc</span></span><span class="mpre"> </span><a href="#loc_131_15_131_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_15_131_17&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">))
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> case </span><a href="#loc_132_3_132_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_3_132_4&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
             </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_136_19_136_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_19_136_20&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a href="#loc_136_19_136_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_19_136_20&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">
             </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
             </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><a name="loc_138_27_138_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_27_138_28&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">,</span><a name="loc_138_29_138_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_29_138_30&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">,</span><a name="loc_138_31_138_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_31_138_32&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">,</span><a name="loc_138_33_138_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_33_138_35&#39;)"><span class="hl_vardecl"><span class="mpre">ds</span></span></a><span class="mpre">)) -&gt; </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><a href="#loc_78_1_78_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_1_78_7&#39;)"><span class="hl_varref"><span class="mpre">toLazy</span></span></a><span class="mpre"> </span><a href="#loc_138_27_138_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_27_138_28&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">,</span><a href="#loc_78_1_78_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_1_78_7&#39;)"><span class="hl_varref"><span class="mpre">toLazy</span></span></a><span class="mpre"> </span><a href="#loc_138_29_138_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_29_138_30&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">,</span><a href="#loc_78_1_78_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_1_78_7&#39;)"><span class="hl_varref"><span class="mpre">toLazy</span></span></a><span class="mpre"> </span><a href="#loc_138_31_138_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_31_138_32&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">,</span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_78_1_78_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_1_78_7&#39;)"><span class="hl_varref"><span class="mpre">toLazy</span></span></a><span class="mpre"> </span><a href="#loc_138_33_138_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_33_138_35&#39;)"><span class="hl_varref"><span class="mpre">ds</span></span></a><span class="mpre">))

</span><a href="#loc_141_1_141_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_141_1_141_13&#39;)"><span class="mpre">unusedOffset</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
</span><a name="loc_141_1_141_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_141_1_141_13&#39;)"><span class="hl_vardecl"><span class="mpre">unusedOffset</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">unusedRegOffset</span></span><span class="mpre">
</span></div></body></html>