<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE OverloadedStrings #-}
module Data.Conduit.BinarySpec (spec) where

import qualified Data.Conduit.Binary as CB
import qualified Data.Conduit as C
import qualified Data.Conduit.List as CL
import Control.Monad.Trans.Resource
import Control.Monad.IO.Class
import Control.Exception (</span><a href="GHC.IO.Exception.html#loc_238_6_238_17" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Exception.html#loc_238_6_238_17&#39;)"><span class="mpre">IOException</span></a><span class="mpre">)
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/BinarySpec.hs&quot;, srcSpanStartLine = 10, srcSpanStartColumn = 18, srcSpanEndLine = 10, srcSpanEndColumn = 38}, srcInfoPoints = []}) &quot;Data.ByteString.Lazy&quot;"><span class="mpre">Data.ByteString.Lazy</span></span><span class="mpre"> as L
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/BinarySpec.hs&quot;, srcSpanStartLine = 11, srcSpanStartColumn = 8, srcSpanEndLine = 11, srcSpanEndColumn = 18}, srcInfoPoints = []}) &quot;Test.Hspec&quot;"><span class="mpre">Test.Hspec</span></span><span class="mpre">
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/BinarySpec.hs&quot;, srcSpanStartLine = 12, srcSpanStartColumn = 8, srcSpanEndLine = 12, srcSpanEndColumn = 29}, srcInfoPoints = []}) &quot;Test.Hspec.QuickCheck&quot;"><span class="mpre">Test.Hspec.QuickCheck</span></span><span class="mpre">
import qualified Data.IORef as I
import Control.Monad.Trans.Writer.Strict
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/BinarySpec.hs&quot;, srcSpanStartLine = 15, srcSpanStartColumn = 18, srcSpanEndLine = 15, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> as S
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/BinarySpec.hs&quot;, srcSpanStartLine = 16, srcSpanStartColumn = 18, srcSpanEndLine = 16, srcSpanEndColumn = 39}, srcInfoPoints = []}) &quot;Data.ByteString.Char8&quot;"><span class="mpre">Data.ByteString.Char8</span></span><span class="mpre"> as S8
import Data.Functor.Identity

</span><a href="#loc_20_1_20_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_1_20_5&#39;)"><span class="mpre">spec</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Spec</span></span><span class="mpre">
</span><a name="loc_20_1_20_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_1_20_5&#39;)"><span class="hl_vardecl"><span class="mpre">spec</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">describe</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Data.Conduit.Binary&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do

    </span><span class="hl_varref"><span class="mpre">describe</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;file access&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;read&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
            </span><a name="loc_24_13_24_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_13_24_15&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">S.readFile</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;conduit-extra.cabal&quot;</span></span><span class="mpre">
            </span><a name="loc_25_13_25_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_13_25_16&#39;)"><span class="hl_vardecl"><span class="mpre">bss</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Resource.html#loc_200_1_200_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_200_1_200_13&#39;)"><span class="hl_varref"><span class="mpre">runResourceT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Conduit.Binary.html#loc_71_1_71_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_71_1_71_11&#39;)"><span class="hl_varref"><span class="mpre">CB.sourceFile</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;conduit-extra.cabal&quot;</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">C.$$</span></span></a><span class="mpre"> </span><a href="Data.Conduit.List.html#loc_450_1_450_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_450_1_450_8&#39;)"><span class="hl_varref"><span class="mpre">CL.consume</span></span></a><span class="mpre">
            </span><span class="hl_varref"><span class="mpre">S.concat</span></span><span class="mpre"> </span><a href="#loc_25_13_25_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_13_25_16&#39;)"><span class="hl_varref"><span class="mpre">bss</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><a href="#loc_24_13_24_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_13_24_15&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">

        </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;read range&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
            </span><span class="hl_varref"><span class="mpre">S.writeFile</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;tmp&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;0123456789&quot;</span></span><span class="mpre">
            </span><a name="loc_30_13_30_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_13_30_16&#39;)"><span class="hl_vardecl"><span class="mpre">bss</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Resource.html#loc_200_1_200_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_200_1_200_13&#39;)"><span class="hl_varref"><span class="mpre">runResourceT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Conduit.Binary.html#loc_165_1_165_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_165_1_165_16&#39;)"><span class="hl_varref"><span class="mpre">CB.sourceFileRange</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;tmp&quot;</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">) </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">C.$$</span></span></a><span class="mpre"> </span><a href="Data.Conduit.List.html#loc_450_1_450_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_450_1_450_8&#39;)"><span class="hl_varref"><span class="mpre">CL.consume</span></span></a><span class="mpre">
            </span><span class="hl_varref"><span class="mpre">S.concat</span></span><span class="mpre"> </span><a href="#loc_30_13_30_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_13_30_16&#39;)"><span class="hl_varref"><span class="mpre">bss</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;234&quot;</span></span><span class="mpre">

        </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;write&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
            </span><a href="Control.Monad.Trans.Resource.html#loc_200_1_200_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_200_1_200_13&#39;)"><span class="hl_varref"><span class="mpre">runResourceT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Conduit.Binary.html#loc_71_1_71_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_71_1_71_11&#39;)"><span class="hl_varref"><span class="mpre">CB.sourceFile</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;conduit-extra.cabal&quot;</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">C.$$</span></span></a><span class="mpre"> </span><a href="Data.Conduit.Binary.html#loc_211_1_211_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_211_1_211_9&#39;)"><span class="hl_varref"><span class="mpre">CB.sinkFile</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;tmp&quot;</span></span><span class="mpre">
            </span><a name="loc_35_13_35_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_13_35_16&#39;)"><span class="hl_vardecl"><span class="mpre">bs1</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">S.readFile</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;conduit-extra.cabal&quot;</span></span><span class="mpre">
            </span><a name="loc_36_13_36_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_13_36_16&#39;)"><span class="hl_vardecl"><span class="mpre">bs2</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">S.readFile</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;tmp&quot;</span></span><span class="mpre">
            </span><a href="#loc_36_13_36_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_13_36_16&#39;)"><span class="hl_varref"><span class="mpre">bs2</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><a href="#loc_35_13_35_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_13_35_16&#39;)"><span class="hl_varref"><span class="mpre">bs1</span></span></a><span class="mpre">

        </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;conduit&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
            </span><a href="Control.Monad.Trans.Resource.html#loc_200_1_200_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_200_1_200_13&#39;)"><span class="hl_varref"><span class="mpre">runResourceT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Conduit.Binary.html#loc_71_1_71_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_71_1_71_11&#39;)"><span class="hl_varref"><span class="mpre">CB.sourceFile</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;conduit-extra.cabal&quot;</span></span><span class="mpre">
                </span><a href="Data.Conduit.html#loc_134_14_134_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_134_14_134_16&#39;)"><span class="hl_infix"><span class="mpre">C.$=</span></span></a><span class="mpre"> </span><a href="Data.Conduit.Binary.html#loc_220_1_220_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_220_1_220_12&#39;)"><span class="hl_varref"><span class="mpre">CB.conduitFile</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;tmp&quot;</span></span><span class="mpre">
                </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">C.$$</span></span></a><span class="mpre"> </span><a href="Data.Conduit.Binary.html#loc_211_1_211_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_211_1_211_9&#39;)"><span class="hl_varref"><span class="mpre">CB.sinkFile</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;tmp2&quot;</span></span><span class="mpre">
            </span><a name="loc_43_13_43_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_13_43_16&#39;)"><span class="hl_vardecl"><span class="mpre">bs1</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">S.readFile</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;conduit-extra.cabal&quot;</span></span><span class="mpre">
            </span><a name="loc_44_13_44_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_13_44_16&#39;)"><span class="hl_vardecl"><span class="mpre">bs2</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">S.readFile</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;tmp&quot;</span></span><span class="mpre">
            </span><a name="loc_45_13_45_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_13_45_16&#39;)"><span class="hl_vardecl"><span class="mpre">bs3</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">S.readFile</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;tmp2&quot;</span></span><span class="mpre">
            </span><a href="#loc_44_13_44_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_13_44_16&#39;)"><span class="hl_varref"><span class="mpre">bs2</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><a href="#loc_43_13_43_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_13_43_16&#39;)"><span class="hl_varref"><span class="mpre">bs1</span></span></a><span class="mpre">
            </span><a href="#loc_45_13_45_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_13_45_16&#39;)"><span class="hl_varref"><span class="mpre">bs3</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><a href="#loc_43_13_43_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_13_43_16&#39;)"><span class="hl_varref"><span class="mpre">bs1</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">describe</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;binary isolate&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;works&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
            </span><a name="loc_50_13_50_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_13_50_16&#39;)"><span class="hl_vardecl"><span class="mpre">bss</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Resource.html#loc_200_1_200_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_200_1_200_13&#39;)"><span class="hl_varref"><span class="mpre">runResourceT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Conduit.List.html#loc_115_1_115_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_115_1_115_11&#39;)"><span class="hl_varref"><span class="mpre">CL.sourceList</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">replicate</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1000</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;X&quot;</span></span><span class="mpre">)
                           </span><a href="Data.Conduit.html#loc_134_14_134_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_134_14_134_16&#39;)"><span class="hl_infix"><span class="mpre">C.$=</span></span></a><span class="mpre"> </span><a href="Data.Conduit.Binary.html#loc_241_1_241_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_241_1_241_8&#39;)"><span class="hl_varref"><span class="mpre">CB.isolate</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">6</span></span><span class="mpre">
                           </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">C.$$</span></span></a><span class="mpre"> </span><a href="Data.Conduit.List.html#loc_450_1_450_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_450_1_450_8&#39;)"><span class="hl_varref"><span class="mpre">CL.consume</span></span></a><span class="mpre">
            </span><span class="hl_varref"><span class="mpre">S.concat</span></span><span class="mpre"> </span><a href="#loc_50_13_50_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_13_50_16&#39;)"><span class="hl_varref"><span class="mpre">bss</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;XXXXXX&quot;</span></span><span class="mpre">

    </span><span class="hl_varref"><span class="mpre">describe</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;properly using binary file reading&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;sourceFile&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
            </span><a name="loc_57_13_57_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_13_57_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Resource.html#loc_200_1_200_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_200_1_200_13&#39;)"><span class="hl_varref"><span class="mpre">runResourceT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Conduit.Binary.html#loc_71_1_71_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_71_1_71_11&#39;)"><span class="hl_varref"><span class="mpre">CB.sourceFile</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;test/random&quot;</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">C.$$</span></span></a><span class="mpre"> </span><a href="Data.Conduit.List.html#loc_450_1_450_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_450_1_450_8&#39;)"><span class="hl_varref"><span class="mpre">CL.consume</span></span></a><span class="mpre">
            </span><a name="loc_58_13_58_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_13_58_16&#39;)"><span class="hl_vardecl"><span class="mpre">lbs</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">L.readFile</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;test/random&quot;</span></span><span class="mpre">
            </span><span class="hl_varref"><span class="mpre">L.fromChunks</span></span><span class="mpre"> </span><a href="#loc_57_13_57_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_13_57_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><a href="#loc_58_13_58_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_13_58_16&#39;)"><span class="hl_varref"><span class="mpre">lbs</span></span></a><span class="mpre">

    </span><span class="hl_varref"><span class="mpre">describe</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;binary head&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        let </span><a name="loc_62_13_62_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_13_62_15&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_62_16_62_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_16_62_19&#39;)"><span class="hl_vardecl"><span class="mpre">lbs</span></span></a><span class="mpre"> = do
                </span><a name="loc_63_17_63_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_17_63_18&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.Binary.html#loc_261_1_261_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_261_1_261_5&#39;)"><span class="hl_varref"><span class="mpre">CB.head</span></span></a><span class="mpre">
                case (</span><a href="#loc_63_17_63_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_17_63_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">, </span><span class="hl_varref"><span class="mpre">L.uncons</span></span><span class="mpre"> </span><a href="#loc_62_16_62_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_16_62_19&#39;)"><span class="hl_varref"><span class="mpre">lbs</span></span></a><span class="mpre">) of
                    (</span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">, </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">) -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">
                    (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_66_27_66_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_27_66_28&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">, </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><a name="loc_66_36_66_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_36_66_37&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre">, </span><a name="loc_66_39_66_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_39_66_43&#39;)"><span class="hl_vardecl"><span class="mpre">lbs&#39;</span></span></a><span class="mpre">))
                        | </span><a href="#loc_66_27_66_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_27_66_28&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_66_36_66_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_36_66_37&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_62_13_62_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_13_62_15&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_66_39_66_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_39_66_43&#39;)"><span class="hl_varref"><span class="mpre">lbs&#39;</span></span></a><span class="mpre">
                    _ -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">

        </span><span class="hl_varref"><span class="mpre">prop</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;works&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_70_25_70_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_25_70_29&#39;)"><span class="hl_vardecl"><span class="mpre">bss&#39;</span></span></a><span class="mpre"> -&gt;
            let </span><a name="loc_71_17_71_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_17_71_20&#39;)"><span class="hl_vardecl"><span class="mpre">bss</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.pack</span></span><span class="mpre"> </span><a href="#loc_70_25_70_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_25_70_29&#39;)"><span class="hl_varref"><span class="mpre">bss&#39;</span></span></a><span class="mpre">
             in </span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
                </span><a href="Data.Conduit.List.html#loc_115_1_115_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_115_1_115_11&#39;)"><span class="hl_varref"><span class="mpre">CL.sourceList</span></span></a><span class="mpre"> </span><a href="#loc_71_17_71_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_17_71_20&#39;)"><span class="hl_varref"><span class="mpre">bss</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">C.$$</span></span></a><span class="mpre"> </span><a href="#loc_62_13_62_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_13_62_15&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">L.fromChunks</span></span><span class="mpre"> </span><a href="#loc_71_17_71_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_17_71_20&#39;)"><span class="hl_varref"><span class="mpre">bss</span></span></a><span class="mpre">)
    </span><span class="hl_varref"><span class="mpre">describe</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;binary takeWhile&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        </span><span class="hl_varref"><span class="mpre">prop</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;works&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_75_25_75_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_25_75_29&#39;)"><span class="hl_vardecl"><span class="mpre">bss&#39;</span></span></a><span class="mpre"> -&gt;
            let </span><a name="loc_76_17_76_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_17_76_20&#39;)"><span class="hl_vardecl"><span class="mpre">bss</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.pack</span></span><span class="mpre"> </span><a href="#loc_75_25_75_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_25_75_29&#39;)"><span class="hl_varref"><span class="mpre">bss&#39;</span></span></a><span class="mpre">
             in </span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
                </span><a name="loc_78_17_78_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_17_78_21&#39;)"><span class="hl_vardecl"><span class="mpre">bss2</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.List.html#loc_115_1_115_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_115_1_115_11&#39;)"><span class="hl_varref"><span class="mpre">CL.sourceList</span></span></a><span class="mpre"> </span><a href="#loc_76_17_76_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_17_76_20&#39;)"><span class="hl_varref"><span class="mpre">bss</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">C.$$</span></span></a><span class="mpre"> </span><a href="Data.Conduit.Binary.html#loc_274_1_274_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_274_1_274_10&#39;)"><span class="hl_varref"><span class="mpre">CB.takeWhile</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">5</span></span><span class="mpre">) </span><a href="Data.Conduit.html#loc_149_14_149_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_149_14_149_16&#39;)"><span class="hl_infix"><span class="mpre">C.=$</span></span></a><span class="mpre"> </span><a href="Data.Conduit.List.html#loc_450_1_450_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_450_1_450_8&#39;)"><span class="hl_varref"><span class="mpre">CL.consume</span></span></a><span class="mpre">
                </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.fromChunks</span></span><span class="mpre"> </span><a href="#loc_78_17_78_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_17_78_21&#39;)"><span class="hl_varref"><span class="mpre">bss2</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.takeWhile</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">5</span></span><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">L.fromChunks</span></span><span class="mpre"> </span><a href="#loc_76_17_76_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_17_76_20&#39;)"><span class="hl_varref"><span class="mpre">bss</span></span></a><span class="mpre">)
        </span><span class="hl_varref"><span class="mpre">prop</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;leftovers present&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_80_37_80_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_37_80_41&#39;)"><span class="hl_vardecl"><span class="mpre">bss&#39;</span></span></a><span class="mpre"> -&gt;
            let </span><a name="loc_81_17_81_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_20&#39;)"><span class="hl_vardecl"><span class="mpre">bss</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.pack</span></span><span class="mpre"> </span><a href="#loc_80_37_80_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_37_80_41&#39;)"><span class="hl_varref"><span class="mpre">bss&#39;</span></span></a><span class="mpre">
             in </span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
                </span><a name="loc_83_17_83_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_17_83_23&#39;)"><span class="hl_vardecl"><span class="mpre">result</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.List.html#loc_115_1_115_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_115_1_115_11&#39;)"><span class="hl_varref"><span class="mpre">CL.sourceList</span></span></a><span class="mpre"> </span><a href="#loc_81_17_81_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_20&#39;)"><span class="hl_varref"><span class="mpre">bss</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">C.$$</span></span></a><span class="mpre"> do
                    </span><a name="loc_84_21_84_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_21_84_22&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.Binary.html#loc_274_1_274_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_274_1_274_10&#39;)"><span class="hl_varref"><span class="mpre">CB.takeWhile</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">5</span></span><span class="mpre">) </span><a href="Data.Conduit.html#loc_149_14_149_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_149_14_149_16&#39;)"><span class="hl_infix"><span class="mpre">C.=$</span></span></a><span class="mpre"> </span><a href="Data.Conduit.List.html#loc_450_1_450_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_450_1_450_8&#39;)"><span class="hl_varref"><span class="mpre">CL.consume</span></span></a><span class="mpre">
                    </span><a name="loc_85_21_85_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_21_85_22&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.List.html#loc_450_1_450_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_450_1_450_8&#39;)"><span class="hl_varref"><span class="mpre">CL.consume</span></span></a><span class="mpre">
                    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">S.concat</span></span><span class="mpre"> </span><a href="#loc_84_21_84_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_21_84_22&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">, </span><span class="hl_varref"><span class="mpre">S.concat</span></span><span class="mpre"> </span><a href="#loc_85_21_85_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_21_85_22&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">)
                let </span><a name="loc_87_21_87_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_21_87_29&#39;)"><span class="hl_vardecl"><span class="mpre">expected</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">S.span</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">5</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.concat</span></span><span class="mpre"> </span><a href="#loc_81_17_81_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_20&#39;)"><span class="hl_varref"><span class="mpre">bss</span></span></a><span class="mpre">
                if </span><a href="#loc_83_17_83_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_17_83_23&#39;)"><span class="hl_varref"><span class="mpre">result</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_87_21_87_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_21_87_29&#39;)"><span class="hl_varref"><span class="mpre">expected</span></span></a><span class="mpre">
                    then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">
                    else </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">S.concat</span></span><span class="mpre"> </span><a href="#loc_81_17_81_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_20&#39;)"><span class="hl_varref"><span class="mpre">bss</span></span></a><span class="mpre">, </span><a href="#loc_83_17_83_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_17_83_23&#39;)"><span class="hl_varref"><span class="mpre">result</span></span></a><span class="mpre">, </span><a href="#loc_87_21_87_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_21_87_29&#39;)"><span class="hl_varref"><span class="mpre">expected</span></span></a><span class="mpre">)

    </span><span class="hl_varref"><span class="mpre">describe</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;binary dropWhile&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        </span><span class="hl_varref"><span class="mpre">prop</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;works&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_93_25_93_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_25_93_29&#39;)"><span class="hl_vardecl"><span class="mpre">bss&#39;</span></span></a><span class="mpre"> -&gt;
            let </span><a name="loc_94_17_94_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_17_94_20&#39;)"><span class="hl_vardecl"><span class="mpre">bss</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.pack</span></span><span class="mpre"> </span><a href="#loc_93_25_93_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_25_93_29&#39;)"><span class="hl_varref"><span class="mpre">bss&#39;</span></span></a><span class="mpre">
             in </span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
                </span><a name="loc_96_17_96_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_17_96_21&#39;)"><span class="hl_vardecl"><span class="mpre">bss2</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.List.html#loc_115_1_115_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_115_1_115_11&#39;)"><span class="hl_varref"><span class="mpre">CL.sourceList</span></span></a><span class="mpre"> </span><a href="#loc_94_17_94_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_17_94_20&#39;)"><span class="hl_varref"><span class="mpre">bss</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">C.$$</span></span></a><span class="mpre"> do
                    </span><a href="Data.Conduit.Binary.html#loc_290_1_290_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_290_1_290_10&#39;)"><span class="hl_varref"><span class="mpre">CB.dropWhile</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">5</span></span><span class="mpre">)
                    </span><a href="Data.Conduit.List.html#loc_450_1_450_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_450_1_450_8&#39;)"><span class="hl_varref"><span class="mpre">CL.consume</span></span></a><span class="mpre">
                </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.fromChunks</span></span><span class="mpre"> </span><a href="#loc_96_17_96_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_17_96_21&#39;)"><span class="hl_varref"><span class="mpre">bss2</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.dropWhile</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">5</span></span><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">L.fromChunks</span></span><span class="mpre"> </span><a href="#loc_94_17_94_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_17_94_20&#39;)"><span class="hl_varref"><span class="mpre">bss</span></span></a><span class="mpre">)

    </span><span class="hl_varref"><span class="mpre">describe</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;binary take&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
      let </span><a name="loc_102_11_102_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_11_102_13&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_102_14_102_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_14_102_15&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_102_16_102_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_16_102_17&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.List.html#loc_115_1_115_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_115_1_115_11&#39;)"><span class="hl_varref"><span class="mpre">CL.sourceList</span></span></a><span class="mpre"> </span><a href="#loc_102_16_102_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_16_102_17&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">C.$$</span></span></a><span class="mpre"> do
              </span><a name="loc_103_15_103_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_15_103_16&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.Binary.html#loc_305_1_305_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_305_1_305_5&#39;)"><span class="hl_varref"><span class="mpre">CB.take</span></span></a><span class="mpre"> </span><a href="#loc_102_14_102_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_14_102_15&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">
              </span><a name="loc_104_15_104_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_15_104_16&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.List.html#loc_450_1_450_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_450_1_450_8&#39;)"><span class="hl_varref"><span class="mpre">CL.consume</span></span></a><span class="mpre">
              </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_103_15_103_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_15_103_16&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_104_15_104_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_15_104_16&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)

      </span><span class="hl_comment"><span class="mpre">-- Taking nothing should result in an empty Bytestring</span></span><span class="mpre">
      </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;nothing&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        (</span><a name="loc_109_10_109_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_109_10_109_11&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">, </span><a name="loc_109_13_109_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_109_13_109_14&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">) &lt;- </span><a href="Control.Monad.Trans.Resource.html#loc_200_1_200_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_200_1_200_13&#39;)"><span class="hl_varref"><span class="mpre">runResourceT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_102_11_102_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_11_102_13&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;abc&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;defg&quot;</span></span><span class="mpre">]
        </span><a href="#loc_109_10_109_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_109_10_109_11&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">              </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.empty</span></span><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">L.fromChunks</span></span><span class="mpre"> </span><a href="#loc_109_13_109_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_109_13_109_14&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;abcdefg&quot;</span></span><span class="mpre">

      </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;normal&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        (</span><a name="loc_114_10_114_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_10_114_11&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">, </span><a name="loc_114_13_114_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_13_114_14&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">) &lt;- </span><a href="Control.Monad.Trans.Resource.html#loc_200_1_200_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_200_1_200_13&#39;)"><span class="hl_varref"><span class="mpre">runResourceT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_102_11_102_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_11_102_13&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;abc&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;defg&quot;</span></span><span class="mpre">]
        </span><a href="#loc_114_10_114_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_10_114_11&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">              </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;abcd&quot;</span></span><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">L.fromChunks</span></span><span class="mpre"> </span><a href="#loc_114_13_114_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_13_114_14&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;efg&quot;</span></span><span class="mpre">

      </span><span class="hl_comment"><span class="mpre">-- Taking exactly the data that is available should result in no</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- leftover.</span></span><span class="mpre">
      </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;all&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        (</span><a name="loc_121_10_121_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_10_121_11&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">, </span><a name="loc_121_13_121_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_13_121_14&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">) &lt;- </span><a href="Control.Monad.Trans.Resource.html#loc_200_1_200_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_200_1_200_13&#39;)"><span class="hl_varref"><span class="mpre">runResourceT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_102_11_102_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_11_102_13&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">7</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;abc&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;defg&quot;</span></span><span class="mpre">]
        </span><a href="#loc_121_10_121_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_10_121_11&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;abcdefg&quot;</span></span><span class="mpre">
        </span><a href="#loc_121_13_121_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_13_121_14&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> []

      </span><span class="hl_comment"><span class="mpre">-- Take as much as possible.</span></span><span class="mpre">
      </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;more&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        (</span><a name="loc_127_10_127_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_10_127_11&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">, </span><a name="loc_127_13_127_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_13_127_14&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">) &lt;- </span><a href="Control.Monad.Trans.Resource.html#loc_200_1_200_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_200_1_200_13&#39;)"><span class="hl_varref"><span class="mpre">runResourceT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_102_11_102_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_11_102_13&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">10</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;abc&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;defg&quot;</span></span><span class="mpre">]
        </span><a href="#loc_127_10_127_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_10_127_11&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;abcdefg&quot;</span></span><span class="mpre">
        </span><a href="#loc_127_13_127_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_13_127_14&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> []

    </span><span class="hl_varref"><span class="mpre">describe</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;binary&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        </span><span class="hl_varref"><span class="mpre">prop</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;lines&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_132_25_132_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_25_132_29&#39;)"><span class="hl_vardecl"><span class="mpre">bss&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
            let </span><a name="loc_133_17_133_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_17_133_20&#39;)"><span class="hl_vardecl"><span class="mpre">bss</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.pack</span></span><span class="mpre"> </span><a href="#loc_132_25_132_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_25_132_29&#39;)"><span class="hl_varref"><span class="mpre">bss&#39;</span></span></a><span class="mpre">
                </span><a name="loc_134_17_134_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_17_134_19&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">S.concat</span></span><span class="mpre"> </span><a href="#loc_133_17_133_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_17_133_20&#39;)"><span class="hl_varref"><span class="mpre">bss</span></span></a><span class="mpre">
                </span><a name="loc_135_17_135_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_17_135_20&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.List.html#loc_115_1_115_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_115_1_115_11&#39;)"><span class="hl_varref"><span class="mpre">CL.sourceList</span></span></a><span class="mpre"> </span><a href="#loc_133_17_133_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_17_133_20&#39;)"><span class="hl_varref"><span class="mpre">bss</span></span></a><span class="mpre">
            </span><a name="loc_136_13_136_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_13_136_16&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_135_17_135_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_17_135_20&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">C.$$</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">CB.lines</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_149_14_149_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_149_14_149_16&#39;)"><span class="hl_infix"><span class="mpre">C.=$</span></span></a><span class="mpre"> </span><a href="Data.Conduit.List.html#loc_450_1_450_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_450_1_450_8&#39;)"><span class="hl_varref"><span class="mpre">CL.consume</span></span></a><span class="mpre">
            </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S8.lines</span></span><span class="mpre"> </span><a href="#loc_134_17_134_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_17_134_19&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_136_13_136_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_13_136_16&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre">

    </span><span class="hl_varref"><span class="mpre">describe</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;sinkCacheLength&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        </span><a href="#loc_193_1_193_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_1_193_4&#39;)"><span class="hl_varref"><span class="mpre">it&#39;</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;works&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.Resource.html#loc_200_1_200_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_200_1_200_13&#39;)"><span class="hl_varref"><span class="mpre">runResourceT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
            </span><a name="loc_141_13_141_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_141_13_141_16&#39;)"><span class="hl_vardecl"><span class="mpre">lbs</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.readFile</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;test/Data/Conduit/BinarySpec.hs&quot;</span></span><span class="mpre">
            (</span><a name="loc_142_14_142_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_14_142_17&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre">, </span><a name="loc_142_19_142_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_19_142_22&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre">) &lt;- </span><a href="Data.Conduit.Binary.html#loc_364_1_364_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_364_1_364_10&#39;)"><span class="hl_varref"><span class="mpre">CB.sourceLbs</span></span></a><span class="mpre"> </span><a href="#loc_141_13_141_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_141_13_141_16&#39;)"><span class="hl_varref"><span class="mpre">lbs</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">C.$$</span></span></a><span class="mpre"> </span><a href="Data.Conduit.Binary.html#loc_375_1_375_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_375_1_375_16&#39;)"><span class="hl_varref"><span class="mpre">CB.sinkCacheLength</span></span></a><span class="mpre">
            </span><a name="loc_143_13_143_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_13_143_17&#39;)"><span class="hl_vardecl"><span class="mpre">lbs&#39;</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_142_19_142_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_19_142_22&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">C.$$</span></span></a><span class="mpre"> </span><a href="Data.Conduit.Binary.html#loc_400_1_400_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_400_1_400_8&#39;)"><span class="hl_varref"><span class="mpre">CB.sinkLbs</span></span></a><span class="mpre">
            </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
                </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_142_14_142_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_14_142_17&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.length</span></span><span class="mpre"> </span><a href="#loc_141_13_141_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_141_13_141_16&#39;)"><span class="hl_varref"><span class="mpre">lbs</span></span></a><span class="mpre">
                </span><a href="#loc_143_13_143_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_13_143_17&#39;)"><span class="hl_varref"><span class="mpre">lbs&#39;</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><a href="#loc_141_13_141_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_141_13_141_16&#39;)"><span class="hl_varref"><span class="mpre">lbs</span></span></a><span class="mpre">
                </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_142_14_142_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_14_142_17&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.length</span></span><span class="mpre"> </span><a href="#loc_143_13_143_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_13_143_17&#39;)"><span class="hl_varref"><span class="mpre">lbs&#39;</span></span></a><span class="mpre">

    </span><span class="hl_varref"><span class="mpre">describe</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Data.Conduit.Binary.mapM_&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        </span><span class="hl_varref"><span class="mpre">prop</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;telling works&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_150_33_150_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_33_150_38&#39;)"><span class="hl_vardecl"><span class="mpre">bytes</span></span></a><span class="mpre"> -&gt;
            let </span><a name="loc_151_17_151_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_17_151_20&#39;)"><span class="hl_vardecl"><span class="mpre">lbs</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">L.pack</span></span><span class="mpre"> </span><a href="#loc_150_33_150_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_33_150_38&#39;)"><span class="hl_varref"><span class="mpre">bytes</span></span></a><span class="mpre">
                </span><a name="loc_152_17_152_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_17_152_20&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.Binary.html#loc_364_1_364_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_364_1_364_10&#39;)"><span class="hl_varref"><span class="mpre">CB.sourceLbs</span></span></a><span class="mpre"> </span><a href="#loc_151_17_151_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_17_151_20&#39;)"><span class="hl_varref"><span class="mpre">lbs</span></span></a><span class="mpre">
                </span><a name="loc_153_17_153_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_17_153_21&#39;)"><span class="hl_vardecl"><span class="mpre">sink</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.Binary.html#loc_418_1_418_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_418_1_418_6&#39;)"><span class="hl_varref"><span class="mpre">CB.mapM_</span></span></a><span class="mpre"> (</span><a href="Control.Monad.Trans.Writer.Strict.html#loc_178_1_178_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Writer.Strict.html#loc_178_1_178_5&#39;)"><span class="hl_varref"><span class="mpre">tell</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.singleton</span></span><span class="mpre">)
                </span><a name="loc_154_17_154_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_17_154_20&#39;)"><span class="hl_vardecl"><span class="mpre">bss</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Trans.Writer.Strict.html#loc_82_1_82_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Writer.Strict.html#loc_82_1_82_11&#39;)"><span class="hl_varref"><span class="mpre">execWriter</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_152_17_152_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_17_152_20&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">C.$$</span></span></a><span class="mpre"> </span><a href="#loc_153_17_153_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_17_153_21&#39;)"><span class="hl_varref"><span class="mpre">sink</span></span></a><span class="mpre">
             in </span><span class="hl_varref"><span class="mpre">L.fromChunks</span></span><span class="mpre"> </span><a href="#loc_154_17_154_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_17_154_20&#39;)"><span class="hl_varref"><span class="mpre">bss</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_151_17_151_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_17_151_20&#39;)"><span class="hl_varref"><span class="mpre">lbs</span></span></a><span class="mpre">

    </span><span class="hl_varref"><span class="mpre">describe</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;exception handling&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;catchC&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
            </span><a name="loc_159_13_159_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_13_159_16&#39;)"><span class="hl_vardecl"><span class="mpre">ref</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IORef.html#loc_42_1_42_9" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_42_1_42_9&#39;)"><span class="hl_varref"><span class="mpre">I.newIORef</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
            let </span><a name="loc_160_17_160_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_17_160_20&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre"> = do
                    </span><a href="Data.Conduit.Internal.html#loc_870_1_870_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Internal.html#loc_870_1_870_7&#39;)"><span class="hl_varref"><span class="mpre">C.catchC</span></span></a><span class="mpre"> (</span><a href="Data.Conduit.Binary.html#loc_71_1_71_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_71_1_71_11&#39;)"><span class="hl_varref"><span class="mpre">CB.sourceFile</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;some-file-that-does-not-exist&quot;</span></span><span class="mpre">) </span><a href="#loc_164_17_164_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_17_164_22&#39;)"><span class="hl_varref"><span class="mpre">onErr</span></span></a><span class="mpre">
                    </span><a href="Data.Conduit.Internal.html#loc_880_1_880_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Internal.html#loc_880_1_880_8&#39;)"><span class="hl_varref"><span class="mpre">C.handleC</span></span></a><span class="mpre"> </span><a href="#loc_164_17_164_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_17_164_22&#39;)"><span class="hl_varref"><span class="mpre">onErr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Conduit.Binary.html#loc_71_1_71_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_71_1_71_11&#39;)"><span class="hl_varref"><span class="mpre">CB.sourceFile</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;conduit-extra.cabal&quot;</span></span><span class="mpre">
                </span><a href="#loc_164_17_164_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_17_164_22&#39;)"><span class="mpre">onErr</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/BinarySpec.hs&quot;, srcSpanStartLine = 163, srcSpanStartColumn = 26, srcSpanEndLine = 163, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/test/Data/Conduit/BinarySpec.hs&quot;, srcSpanStartLine = 163, srcSpanStartColumn = 36, srcSpanEndLine = 163, srcSpanEndColumn = 38}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/hom"><span class="mpre">MonadIO m =&gt;</span></span><span class="mpre"> </span><a href="GHC.IO.Exception.html#loc_238_6_238_17" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Exception.html#loc_238_6_238_17&#39;)"><span class="hl_tyconref"><span class="mpre">IOException</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
                </span><a name="loc_164_17_164_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_17_164_22&#39;)"><span class="hl_fundecl"><span class="mpre">onErr</span></span></a><span class="mpre"> _ = </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.IORef.html#loc_70_1_70_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.IORef.html#loc_70_1_70_12&#39;)"><span class="hl_varref"><span class="mpre">I.modifyIORef</span></span></a><span class="mpre"> </span><a href="#loc_159_13_159_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_13_159_16&#39;)"><span class="hl_varref"><span class="mpre">ref</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
            </span><a name="loc_165_13_165_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_13_165_21&#39;)"><span class="hl_vardecl"><span class="mpre">contents</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">L.readFile</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;conduit-extra.cabal&quot;</span></span><span class="mpre">
            </span><a name="loc_166_13_166_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_13_166_16&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Resource.html#loc_200_1_200_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_200_1_200_13&#39;)"><span class="hl_varref"><span class="mpre">runResourceT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_160_17_160_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_17_160_20&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">C.$$</span></span></a><span class="mpre"> </span><a href="Data.Conduit.Binary.html#loc_400_1_400_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_400_1_400_8&#39;)"><span class="hl_varref"><span class="mpre">CB.sinkLbs</span></span></a><span class="mpre">
            </span><a href="#loc_166_13_166_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_13_166_16&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><a href="#loc_165_13_165_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_13_165_21&#39;)"><span class="hl_varref"><span class="mpre">contents</span></span></a><span class="mpre">
            </span><a name="loc_168_13_168_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_13_168_21&#39;)"><span class="hl_vardecl"><span class="mpre">errCount</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IORef.html#loc_46_1_46_10" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_46_1_46_10&#39;)"><span class="hl_varref"><span class="mpre">I.readIORef</span></span></a><span class="mpre"> </span><a href="#loc_159_13_159_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_13_159_16&#39;)"><span class="hl_varref"><span class="mpre">ref</span></span></a><span class="mpre">
            </span><a href="#loc_168_13_168_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_13_168_21&#39;)"><span class="hl_varref"><span class="mpre">errCount</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> (</span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">)
        </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;tryC&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
            </span><a name="loc_171_13_171_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_13_171_16&#39;)"><span class="hl_vardecl"><span class="mpre">ref</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IORef.html#loc_42_1_42_9" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_42_1_42_9&#39;)"><span class="hl_varref"><span class="mpre">I.newIORef</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre">
            let </span><a name="loc_172_17_172_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_17_172_20&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre"> = do
                    </span><a name="loc_173_21_173_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_21_173_25&#39;)"><span class="hl_vardecl"><span class="mpre">res1</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.Internal.html#loc_890_1_890_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Internal.html#loc_890_1_890_5&#39;)"><span class="hl_varref"><span class="mpre">C.tryC</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Conduit.Binary.html#loc_71_1_71_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_71_1_71_11&#39;)"><span class="hl_varref"><span class="mpre">CB.sourceFile</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;some-file-that-does-not-exist&quot;</span></span><span class="mpre">
                    </span><a name="loc_174_21_174_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_21_174_25&#39;)"><span class="hl_vardecl"><span class="mpre">res2</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Conduit.Internal.html#loc_890_1_890_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Internal.html#loc_890_1_890_5&#39;)"><span class="hl_varref"><span class="mpre">C.tryC</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Conduit.Binary.html#loc_71_1_71_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_71_1_71_11&#39;)"><span class="hl_varref"><span class="mpre">CB.sourceFile</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;conduit-extra.cabal&quot;</span></span><span class="mpre">
                    </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IORef.html#loc_50_1_50_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_50_1_50_11&#39;)"><span class="hl_varref"><span class="mpre">I.writeIORef</span></span></a><span class="mpre"> </span><a href="#loc_171_13_171_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_13_171_16&#39;)"><span class="hl_varref"><span class="mpre">ref</span></span></a><span class="mpre"> (</span><a href="#loc_173_21_173_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_21_173_25&#39;)"><span class="hl_varref"><span class="mpre">res1</span></span></a><span class="mpre">, </span><a href="#loc_174_21_174_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_21_174_25&#39;)"><span class="hl_varref"><span class="mpre">res2</span></span></a><span class="mpre">)
            </span><a name="loc_176_13_176_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_13_176_21&#39;)"><span class="hl_vardecl"><span class="mpre">contents</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">L.readFile</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;conduit-extra.cabal&quot;</span></span><span class="mpre">
            </span><a name="loc_177_13_177_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_13_177_16&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Resource.html#loc_200_1_200_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_200_1_200_13&#39;)"><span class="hl_varref"><span class="mpre">runResourceT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_172_17_172_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_17_172_20&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">C.$$</span></span></a><span class="mpre"> </span><a href="Data.Conduit.Binary.html#loc_400_1_400_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_400_1_400_8&#39;)"><span class="hl_varref"><span class="mpre">CB.sinkLbs</span></span></a><span class="mpre">
            </span><a href="#loc_177_13_177_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_13_177_16&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><a href="#loc_176_13_176_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_13_176_21&#39;)"><span class="hl_varref"><span class="mpre">contents</span></span></a><span class="mpre">
            </span><a name="loc_179_13_179_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_13_179_16&#39;)"><span class="hl_vardecl"><span class="mpre">exc</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IORef.html#loc_46_1_46_10" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_46_1_46_10&#39;)"><span class="hl_varref"><span class="mpre">I.readIORef</span></span></a><span class="mpre"> </span><a href="#loc_171_13_171_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_13_171_16&#39;)"><span class="hl_varref"><span class="mpre">ref</span></span></a><span class="mpre">
            case </span><a href="#loc_179_13_179_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_13_179_16&#39;)"><span class="hl_varref"><span class="mpre">exc</span></span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><a href="GHC.IO.Exception.html#loc_238_6_238_17" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Exception.html#loc_238_6_238_17&#39;)"><span class="hl_tyconref"><span class="mpre">IOException</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><a href="GHC.IO.Exception.html#loc_238_6_238_17" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Exception.html#loc_238_6_238_17&#39;)"><span class="hl_tyconref"><span class="mpre">IOException</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">) of
                (</span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> _, </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">) -&gt;
                    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
                _ -&gt; </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_179_13_179_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_13_179_16&#39;)"><span class="hl_varref"><span class="mpre">exc</span></span></a><span class="mpre">

    </span><span class="hl_varref"><span class="mpre">describe</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;normalFuseLeft&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;does not double close conduit&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
            </span><a name="loc_187_13_187_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_13_187_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Resource.html#loc_200_1_200_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_200_1_200_13&#39;)"><span class="hl_varref"><span class="mpre">runResourceT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
                let </span><a name="loc_188_21_188_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_21_188_24&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre"> = </span><a href="Data.Conduit.List.html#loc_115_1_115_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_115_1_115_11&#39;)"><span class="hl_varref"><span class="mpre">CL.sourceList</span></span></a><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;foobarbazbin&quot;</span></span><span class="mpre">]
                </span><a href="#loc_188_21_188_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_21_188_24&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_134_14_134_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_134_14_134_16&#39;)"><span class="hl_infix"><span class="mpre">C.$=</span></span></a><span class="mpre"> </span><a href="Data.Conduit.Binary.html#loc_241_1_241_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Binary.html#loc_241_1_241_8&#39;)"><span class="hl_varref"><span class="mpre">CB.isolate</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">10</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_116_5_116_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_116_5_116_7&#39;)"><span class="hl_infix"><span class="mpre">C.$$</span></span></a><span class="mpre"> </span><a href="Data.Conduit.List.html#loc_255_1_255_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_255_1_255_5&#39;)"><span class="hl_varref"><span class="mpre">CL.head</span></span></a><span class="mpre">
            </span><a href="#loc_187_13_187_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_13_187_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;foobarbazb&quot;</span></span><span class="mpre">

</span><a href="#loc_193_1_193_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_1_193_4&#39;)"><span class="mpre">it&#39;</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Spec</span></span><span class="mpre">
</span><a name="loc_193_1_193_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_1_193_4&#39;)"><span class="hl_vardecl"><span class="mpre">it&#39;</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre">
</span></div></body></html>