<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP, GADTs, RankNTypes, ScopedTypeVariables, TypeFamilies  #-}
#if __GLASGOW_HASKELL__ &gt;= 701
{-# LANGUAGE Trustworthy #-}
#endif

</span><span class="hl_comment"><span class="mpre">-- | Utilities for clients of Hoopl, not used internally.</span></span><span class="mpre">

module Compiler.Hoopl.XUtil
  (
    </span><span class="hl_comment"><span class="mpre">-- * Utilities for clients</span></span><span class="mpre">
    firstXfer, distributeXfer
  , distributeFact, distributeFactBwd
  , successorFacts
  , joinFacts
  , joinOutFacts </span><span class="hl_comment"><span class="mpre">-- deprecated</span></span><span class="mpre">
  , joinMaps
  , analyzeAndRewriteFwdBody, analyzeAndRewriteBwdBody
  , analyzeAndRewriteFwdOx, analyzeAndRewriteBwdOx
  )
where

import qualified Data.Map as M
import Data.Maybe

import Compiler.Hoopl.Collections
import Compiler.Hoopl.Checkpoint
import Compiler.Hoopl.Dataflow
import Compiler.Hoopl.Block
import Compiler.Hoopl.Graph
import Compiler.Hoopl.Label

</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Forward dataflow analysis and rewriting for the special case of a Body.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- A set of entry points must be supplied; blocks not reachable from</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the set are thrown away.</span></span><span class="mpre">
</span><a href="#loc_52_1_52_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_1_52_25&#39;)"><span class="mpre">analyzeAndRewriteFwdBody</span></a><span class="mpre">
   :: forall </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">entries</span></span><span class="mpre">. </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 38, srcSpanStartColumn = 29, srcSpanEndLine = 39, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 38, srcSpanStartColumn = 29, srcSpanEndLine = 38, srcSpanEndColumn = 30},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.h"><span class="mpre">(CheckpointMonad m, NonLocal n, LabelsPtr entries)
   =&gt;</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Dataflow.html#loc_89_6_89_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_89_6_89_13&#39;)"><span class="hl_tyconref"><span class="mpre">FwdPass</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">
   -&gt; </span><span class="hl_tyvar"><span class="mpre">entries</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Body</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FactBase</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">
   -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Body</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">FactBase</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Backward dataflow analysis and rewriting for the special case of a Body.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- A set of entry points must be supplied; blocks not reachable from</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the set are thrown away.</span></span><span class="mpre">
</span><a href="#loc_53_1_53_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_1_53_25&#39;)"><span class="mpre">analyzeAndRewriteBwdBody</span></a><span class="mpre">
   :: forall </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">entries</span></span><span class="mpre">. </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 47, srcSpanStartColumn = 29, srcSpanEndLine = 48, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 47, srcSpanStartColumn = 29, srcSpanEndLine = 47, srcSpanEndColumn = 30},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.h"><span class="mpre">(CheckpointMonad m, NonLocal n, LabelsPtr entries)
   =&gt;</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Dataflow.html#loc_325_6_325_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_325_6_325_13&#39;)"><span class="hl_tyconref"><span class="mpre">BwdPass</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> 
   -&gt; </span><span class="hl_tyvar"><span class="mpre">entries</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Body</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FactBase</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> 
   -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Body</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">FactBase</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">)

</span><a name="loc_52_1_52_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_1_52_25&#39;)"><span class="hl_fundecl"><span class="mpre">analyzeAndRewriteFwdBody</span></span></a><span class="mpre"> </span><a name="loc_52_26_52_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_26_52_30&#39;)"><span class="hl_vardecl"><span class="mpre">pass</span></span></a><span class="mpre"> </span><a name="loc_52_31_52_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_31_52_33&#39;)"><span class="hl_vardecl"><span class="mpre">en</span></span></a><span class="mpre"> = </span><a href="#loc_59_1_59_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_1_59_13&#39;)"><span class="hl_varref"><span class="mpre">mapBodyFacts</span></span></a><span class="mpre"> (</span><a href="Compiler.Hoopl.Dataflow.html#loc_182_1_182_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_182_1_182_21&#39;)"><span class="hl_varref"><span class="mpre">analyzeAndRewriteFwd</span></span></a><span class="mpre"> </span><a href="#loc_52_26_52_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_26_52_30&#39;)"><span class="hl_varref"><span class="mpre">pass</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">JustC</span></span><span class="mpre"> </span><a href="#loc_52_31_52_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_31_52_33&#39;)"><span class="hl_varref"><span class="mpre">en</span></span></a><span class="mpre">))
</span><a name="loc_53_1_53_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_1_53_25&#39;)"><span class="hl_fundecl"><span class="mpre">analyzeAndRewriteBwdBody</span></span></a><span class="mpre"> </span><a name="loc_53_26_53_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_26_53_30&#39;)"><span class="hl_vardecl"><span class="mpre">pass</span></span></a><span class="mpre"> </span><a name="loc_53_31_53_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_31_53_33&#39;)"><span class="hl_vardecl"><span class="mpre">en</span></span></a><span class="mpre"> = </span><a href="#loc_59_1_59_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_1_59_13&#39;)"><span class="hl_varref"><span class="mpre">mapBodyFacts</span></span></a><span class="mpre"> (</span><a href="Compiler.Hoopl.Dataflow.html#loc_520_1_520_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_520_1_520_21&#39;)"><span class="hl_varref"><span class="mpre">analyzeAndRewriteBwd</span></span></a><span class="mpre"> </span><a href="#loc_53_26_53_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_26_53_30&#39;)"><span class="hl_varref"><span class="mpre">pass</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">JustC</span></span><span class="mpre"> </span><a href="#loc_53_31_53_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_31_53_33&#39;)"><span class="hl_varref"><span class="mpre">en</span></span></a><span class="mpre">))

</span><a href="#loc_59_1_59_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_1_59_13&#39;)"><span class="mpre">mapBodyFacts</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxParen (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 55, srcSpanStartColumn = 17, srcSpanEndLine = 56, srcSpanEndColumn = 7}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 55, srcSpanStartColumn = 17, srcSpanEndLine = 55, srcSpanEndColumn = 18},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.h"><span class="mpre">(Monad m)
    =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Graph</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_57_6_57_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_57_6_57_7&#39;)"><span class="hl_tyconref"><span class="mpre">C</span></span></a><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_57_6_57_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_57_6_57_7&#39;)"><span class="hl_tyconref"><span class="mpre">C</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Fact</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_57_6_57_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_57_6_57_7&#39;)"><span class="hl_tyconref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">   -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Graph</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_57_6_57_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_57_6_57_7&#39;)"><span class="hl_tyconref"><span class="mpre">C</span></span></a><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_57_6_57_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_57_6_57_7&#39;)"><span class="hl_tyconref"><span class="mpre">C</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Fact</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_57_6_57_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_57_6_57_7&#39;)"><span class="hl_tyconref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">MaybeO</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_57_6_57_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_57_6_57_7&#39;)"><span class="hl_tyconref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">))
    -&gt; (</span><span class="hl_tyconref"><span class="mpre">Body</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre">      -&gt; </span><span class="hl_tyconref"><span class="mpre">FactBase</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Body</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">FactBase</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">))
</span><span class="hl_comment"><span class="mpre">-- ^ Internal utility; should not escape</span></span><span class="mpre">
</span><a name="loc_59_1_59_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_1_59_13&#39;)"><span class="hl_fundecl"><span class="mpre">mapBodyFacts</span></span></a><span class="mpre"> </span><a name="loc_59_14_59_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_14_59_18&#39;)"><span class="hl_vardecl"><span class="mpre">anal</span></span></a><span class="mpre"> </span><a name="loc_59_19_59_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_19_59_20&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> </span><a name="loc_59_21_59_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_21_59_22&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_59_14_59_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_14_59_18&#39;)"><span class="hl_varref"><span class="mpre">anal</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">GMany</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">NothingO</span></span><span class="mpre"> </span><a href="#loc_59_19_59_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_19_59_20&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">NothingO</span></span><span class="mpre">) </span><a href="#loc_59_21_59_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_21_59_22&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="#loc_63_5_63_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_5_63_14&#39;)"><span class="hl_varref"><span class="mpre">bodyFacts</span></span></a><span class="mpre">
  where </span><span class="hl_comment"><span class="mpre">-- the type constraint is needed for the pattern match;</span></span><span class="mpre">
        </span><span class="hl_comment"><span class="mpre">-- if it were not, we would use do-notation here.</span></span><span class="mpre">
    </span><a href="#loc_63_5_63_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_5_63_14&#39;)"><span class="mpre">bodyFacts</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 62, srcSpanStartColumn = 18, srcSpanEndLine = 62, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 62, srcSpanStartColumn = 26, srcSpanEndLine = 62, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Graph</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_57_6_57_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_57_6_57_7&#39;)"><span class="hl_tyconref"><span class="mpre">C</span></span></a><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_57_6_57_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_57_6_57_7&#39;)"><span class="hl_tyconref"><span class="mpre">C</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Fact</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_57_6_57_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_57_6_57_7&#39;)"><span class="hl_tyconref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">MaybeO</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_57_6_57_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_57_6_57_7&#39;)"><span class="hl_tyconref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Body</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Fact</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_57_6_57_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_57_6_57_7&#39;)"><span class="hl_tyconref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">)
    </span><a name="loc_63_5_63_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_5_63_14&#39;)"><span class="hl_fundecl"><span class="mpre">bodyFacts</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">GMany</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">NothingO</span></span><span class="mpre"> </span><a name="loc_63_31_63_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_31_63_35&#39;)"><span class="hl_vardecl"><span class="mpre">body</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">NothingO</span></span><span class="mpre">, </span><a name="loc_63_46_63_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_46_63_48&#39;)"><span class="hl_vardecl"><span class="mpre">fb</span></span></a><span class="mpre">, </span><span class="hl_conref"><span class="mpre">NothingO</span></span><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_63_31_63_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_31_63_35&#39;)"><span class="hl_varref"><span class="mpre">body</span></span></a><span class="mpre">, </span><a href="#loc_63_46_63_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_46_63_48&#39;)"><span class="hl_varref"><span class="mpre">fb</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">{-
  Can&#39;t write:

     do (GMany NothingO body NothingO, fb, NothingO) &lt;- anal (....) f
        return (body, fb)

  because we need an explicit type signature in order to do the GADT
  pattern matches on NothingO
-}</span></span><span class="mpre">



</span><span class="hl_comment"><span class="mpre">-- | Forward dataflow analysis and rewriting for the special case of a </span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- graph open at the entry.  This special case relieves the client</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- from having to specify a type signature for &#39;NothingO&#39;, which beginners</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- might find confusing and experts might find annoying.</span></span><span class="mpre">
</span><a href="#loc_97_1_97_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_23&#39;)"><span class="mpre">analyzeAndRewriteFwdOx</span></a><span class="mpre">
   :: forall </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">. </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 82, srcSpanStartColumn = 23, srcSpanEndLine = 83, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 82, srcSpanStartColumn = 23, srcSpanEndLine = 82, srcSpanEndColumn = 24},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.h"><span class="mpre">(CheckpointMonad m, NonLocal n)
   =&gt;</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Dataflow.html#loc_89_6_89_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_89_6_89_13&#39;)"><span class="hl_tyconref"><span class="mpre">FwdPass</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Graph</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_51_6_51_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_51_6_51_7&#39;)"><span class="hl_tyconref"><span class="mpre">O</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Graph</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_51_6_51_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_51_6_51_7&#39;)"><span class="hl_tyconref"><span class="mpre">O</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">FactBase</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">MaybeO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Backward dataflow analysis and rewriting for the special case of a </span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- graph open at the entry.  This special case relieves the client</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- from having to specify a type signature for &#39;NothingO&#39;, which beginners</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- might find confusing and experts might find annoying.</span></span><span class="mpre">
</span><a href="#loc_98_1_98_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_1_98_23&#39;)"><span class="mpre">analyzeAndRewriteBwdOx</span></a><span class="mpre">
   :: forall </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">. </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 90, srcSpanStartColumn = 23, srcSpanEndLine = 91, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 90, srcSpanStartColumn = 23, srcSpanEndLine = 90, srcSpanEndColumn = 24},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.h"><span class="mpre">(CheckpointMonad m, NonLocal n)
   =&gt;</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Dataflow.html#loc_325_6_325_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_325_6_325_13&#39;)"><span class="hl_tyconref"><span class="mpre">BwdPass</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Graph</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_51_6_51_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_51_6_51_7&#39;)"><span class="hl_tyconref"><span class="mpre">O</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Fact</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Graph</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_51_6_51_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_51_6_51_7&#39;)"><span class="hl_tyconref"><span class="mpre">O</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">FactBase</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | A value that can be used for the entry point of a graph open at the entry.</span></span><span class="mpre">
</span><a href="#loc_95_1_95_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_1_95_10&#39;)"><span class="mpre">noEntries</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">MaybeC</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_51_6_51_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_51_6_51_7&#39;)"><span class="hl_tyconref"><span class="mpre">O</span></span></a><span class="mpre"> </span><a href="Compiler.Hoopl.Label.html#loc_25_9_25_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Label.html#loc_25_9_25_14&#39;)"><span class="hl_tyconref"><span class="mpre">Label</span></span></a><span class="mpre">
</span><a name="loc_95_1_95_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_1_95_10&#39;)"><span class="hl_vardecl"><span class="mpre">noEntries</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">NothingC</span></span><span class="mpre">

</span><a name="loc_97_1_97_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_23&#39;)"><span class="hl_fundecl"><span class="mpre">analyzeAndRewriteFwdOx</span></span></a><span class="mpre"> </span><a name="loc_97_24_97_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_24_97_28&#39;)"><span class="hl_vardecl"><span class="mpre">pass</span></span></a><span class="mpre"> </span><a name="loc_97_29_97_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_29_97_30&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> </span><a name="loc_97_31_97_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_31_97_32&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre">  = </span><a href="Compiler.Hoopl.Dataflow.html#loc_182_1_182_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_182_1_182_21&#39;)"><span class="hl_varref"><span class="mpre">analyzeAndRewriteFwd</span></span></a><span class="mpre"> </span><a href="#loc_97_24_97_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_24_97_28&#39;)"><span class="hl_varref"><span class="mpre">pass</span></span></a><span class="mpre"> </span><a href="#loc_95_1_95_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_1_95_10&#39;)"><span class="hl_varref"><span class="mpre">noEntries</span></span></a><span class="mpre"> </span><a href="#loc_97_29_97_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_29_97_30&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_97_31_97_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_31_97_32&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
</span><a name="loc_98_1_98_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_1_98_23&#39;)"><span class="hl_fundecl"><span class="mpre">analyzeAndRewriteBwdOx</span></span></a><span class="mpre"> </span><a name="loc_98_24_98_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_24_98_28&#39;)"><span class="hl_vardecl"><span class="mpre">pass</span></span></a><span class="mpre"> </span><a name="loc_98_29_98_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_29_98_30&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> </span><a name="loc_98_31_98_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_31_98_33&#39;)"><span class="hl_vardecl"><span class="mpre">fb</span></span></a><span class="mpre"> = </span><a href="Compiler.Hoopl.Dataflow.html#loc_520_1_520_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_520_1_520_21&#39;)"><span class="hl_varref"><span class="mpre">analyzeAndRewriteBwd</span></span></a><span class="mpre"> </span><a href="#loc_98_24_98_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_24_98_28&#39;)"><span class="hl_varref"><span class="mpre">pass</span></span></a><span class="mpre"> </span><a href="#loc_95_1_95_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_1_95_10&#39;)"><span class="hl_varref"><span class="mpre">noEntries</span></span></a><span class="mpre"> </span><a href="#loc_98_29_98_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_29_98_30&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_98_31_98_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_31_98_33&#39;)"><span class="hl_varref"><span class="mpre">fb</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="#loc_100_9_100_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_9_100_14&#39;)"><span class="hl_varref"><span class="mpre">strip</span></span></a><span class="mpre">
  where </span><a href="#loc_100_9_100_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_9_100_14&#39;)"><span class="mpre">strip</span></a><span class="mpre"> :: forall </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre"> . </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 99, srcSpanStartColumn = 35, srcSpanEndLine = 99, srcSpanEndColumn = 45}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 99, srcSpanStartColumn = 43, srcSpanEndLine = 99, srcSpanEndColumn = 45}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">MaybeO</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_51_6_51_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_51_6_51_7&#39;)"><span class="hl_tyconref"><span class="mpre">O</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre">)
        </span><a name="loc_100_9_100_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_9_100_14&#39;)"><span class="hl_fundecl"><span class="mpre">strip</span></span></a><span class="mpre"> (</span><a name="loc_100_16_100_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_16_100_17&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">, </span><a name="loc_100_19_100_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_19_100_20&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">, </span><span class="hl_conref"><span class="mpre">JustO</span></span><span class="mpre"> </span><a name="loc_100_28_100_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_28_100_29&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_100_16_100_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_16_100_17&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_100_19_100_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_19_100_20&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">, </span><a href="#loc_100_28_100_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_28_100_29&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">)





</span><span class="hl_comment"><span class="mpre">-- | A utility function so that a transfer function for a first</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- node can be given just a fact; we handle the lookup.  This</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- function is planned to be made obsolete by changes in the dataflow</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- interface.</span></span><span class="mpre">

</span><a href="#loc_112_1_112_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_1_112_10&#39;)"><span class="mpre">firstXfer</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 111, srcSpanStartColumn = 14, srcSpanEndLine = 111, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 111, srcSpanStartColumn = 25, srcSpanEndLine = 111, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">NonLocal n =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_57_6_57_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_57_6_57_7&#39;)"><span class="hl_tyconref"><span class="mpre">C</span></span></a><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_51_6_51_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_51_6_51_7&#39;)"><span class="hl_tyconref"><span class="mpre">O</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">) -&gt; (</span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_57_6_57_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_57_6_57_7&#39;)"><span class="hl_tyconref"><span class="mpre">C</span></span></a><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_51_6_51_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_51_6_51_7&#39;)"><span class="hl_tyconref"><span class="mpre">O</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FactBase</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">)
</span><a name="loc_112_1_112_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_1_112_10&#39;)"><span class="hl_fundecl"><span class="mpre">firstXfer</span></span></a><span class="mpre"> </span><a name="loc_112_11_112_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_11_112_15&#39;)"><span class="hl_vardecl"><span class="mpre">xfer</span></span></a><span class="mpre"> </span><a name="loc_112_16_112_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_16_112_17&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_112_18_112_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_18_112_20&#39;)"><span class="hl_vardecl"><span class="mpre">fb</span></span></a><span class="mpre"> = </span><a href="#loc_112_11_112_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_11_112_15&#39;)"><span class="hl_varref"><span class="mpre">xfer</span></span></a><span class="mpre"> </span><a href="#loc_112_16_112_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_16_112_17&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_91_1_91_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_91_1_91_9&#39;)"><span class="hl_varref"><span class="mpre">fromJust</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Label.html#loc_111_1_111_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Label.html#loc_111_1_111_11&#39;)"><span class="hl_varref"><span class="mpre">lookupFact</span></span></a><span class="mpre"> (</span><a href="Compiler.Hoopl.Graph.html#loc_104_3_104_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Graph.html#loc_104_3_104_13&#39;)"><span class="hl_varref"><span class="mpre">entryLabel</span></span></a><span class="mpre"> </span><a href="#loc_112_16_112_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_16_112_17&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">) </span><a href="#loc_112_18_112_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_18_112_20&#39;)"><span class="hl_varref"><span class="mpre">fb</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This utility function handles a common case in which a transfer function</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- produces a single fact out of a last node, which is then distributed</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- over the outgoing edges.</span></span><span class="mpre">
</span><a href="#loc_119_1_119_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_1_119_15&#39;)"><span class="mpre">distributeXfer</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 117, srcSpanStartColumn = 19, srcSpanEndLine = 118, srcSpanEndColumn = 18}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 118, srcSpanStartColumn = 16, srcSpanEndLine = 118, srcSpanEndColumn = 18}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">NonLocal n
               =&gt;</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Dataflow.html#loc_50_6_50_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_50_6_50_21&#39;)"><span class="hl_tyconref"><span class="mpre">DataflowLattice</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_51_6_51_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_51_6_51_7&#39;)"><span class="hl_tyconref"><span class="mpre">O</span></span></a><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_57_6_57_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_57_6_57_7&#39;)"><span class="hl_tyconref"><span class="mpre">C</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">) -&gt; (</span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_51_6_51_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_51_6_51_7&#39;)"><span class="hl_tyconref"><span class="mpre">O</span></span></a><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_57_6_57_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_57_6_57_7&#39;)"><span class="hl_tyconref"><span class="mpre">C</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FactBase</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">)
</span><a name="loc_119_1_119_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_1_119_15&#39;)"><span class="hl_fundecl"><span class="mpre">distributeXfer</span></span></a><span class="mpre"> </span><a name="loc_119_16_119_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_16_119_23&#39;)"><span class="hl_vardecl"><span class="mpre">lattice</span></span></a><span class="mpre"> </span><a name="loc_119_24_119_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_24_119_28&#39;)"><span class="hl_vardecl"><span class="mpre">xfer</span></span></a><span class="mpre"> </span><a name="loc_119_29_119_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_29_119_30&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_119_31_119_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_31_119_32&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> =
    </span><a href="Compiler.Hoopl.Dataflow.html#loc_76_1_76_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_76_1_76_11&#39;)"><span class="hl_varref"><span class="mpre">mkFactBase</span></span></a><span class="mpre"> </span><a href="#loc_119_16_119_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_16_119_23&#39;)"><span class="hl_varref"><span class="mpre">lattice</span></span></a><span class="mpre"> [ (</span><a href="#loc_120_42_120_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_42_120_43&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">, </span><a href="#loc_119_24_119_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_24_119_28&#39;)"><span class="hl_varref"><span class="mpre">xfer</span></span></a><span class="mpre"> </span><a href="#loc_119_29_119_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_29_119_30&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_119_31_119_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_31_119_32&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) | </span><a name="loc_120_42_120_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_42_120_43&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> &lt;- </span><a href="Compiler.Hoopl.Graph.html#loc_105_3_105_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Graph.html#loc_105_3_105_13&#39;)"><span class="hl_varref"><span class="mpre">successors</span></span></a><span class="mpre"> </span><a href="#loc_119_29_119_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_29_119_30&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> ]


</span><span class="hl_comment"><span class="mpre">-- | This utility function handles a common case in which a transfer function</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- for a last node takes the incoming fact unchanged and simply distributes</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- that fact over the outgoing edges.</span></span><span class="mpre">
</span><a href="#loc_127_1_127_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_1_127_15&#39;)"><span class="mpre">distributeFact</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 126, srcSpanStartColumn = 19, srcSpanEndLine = 126, srcSpanEndColumn = 32}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 126, srcSpanStartColumn = 30, srcSpanEndLine = 126, srcSpanEndColumn = 32}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">NonLocal n =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_51_6_51_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_51_6_51_7&#39;)"><span class="hl_tyconref"><span class="mpre">O</span></span></a><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_57_6_57_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_57_6_57_7&#39;)"><span class="hl_tyconref"><span class="mpre">C</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FactBase</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">
</span><a name="loc_127_1_127_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_1_127_15&#39;)"><span class="hl_fundecl"><span class="mpre">distributeFact</span></span></a><span class="mpre"> </span><a name="loc_127_16_127_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_16_127_17&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_127_18_127_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_18_127_19&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="Compiler.Hoopl.Collections.html#loc_80_3_80_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Collections.html#loc_80_3_80_14&#39;)"><span class="hl_varref"><span class="mpre">mapFromList</span></span></a><span class="mpre"> [ (</span><a href="#loc_127_45_127_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_45_127_46&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">, </span><a href="#loc_127_18_127_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_18_127_19&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) | </span><a name="loc_127_45_127_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_45_127_46&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> &lt;- </span><a href="Compiler.Hoopl.Graph.html#loc_105_3_105_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Graph.html#loc_105_3_105_13&#39;)"><span class="hl_varref"><span class="mpre">successors</span></span></a><span class="mpre"> </span><a href="#loc_127_16_127_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_16_127_17&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> ]
   </span><span class="hl_comment"><span class="mpre">-- because the same fact goes out on every edge,</span></span><span class="mpre">
   </span><span class="hl_comment"><span class="mpre">-- there&#39;s no need for &#39;mkFactBase&#39; here.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This utility function handles a common case in which a backward transfer</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- function takes the incoming fact unchanged and tags it with the node&#39;s label.</span></span><span class="mpre">
</span><a href="#loc_134_1_134_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_1_134_18&#39;)"><span class="mpre">distributeFactBwd</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 133, srcSpanStartColumn = 22, srcSpanEndLine = 133, srcSpanEndColumn = 35}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 133, srcSpanStartColumn = 33, srcSpanEndLine = 133, srcSpanEndColumn = 35}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">NonLocal n =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_57_6_57_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_57_6_57_7&#39;)"><span class="hl_tyconref"><span class="mpre">C</span></span></a><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_51_6_51_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_51_6_51_7&#39;)"><span class="hl_tyconref"><span class="mpre">O</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FactBase</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">
</span><a name="loc_134_1_134_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_1_134_18&#39;)"><span class="hl_fundecl"><span class="mpre">distributeFactBwd</span></span></a><span class="mpre"> </span><a name="loc_134_19_134_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_19_134_20&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_134_21_134_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_21_134_22&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="Compiler.Hoopl.Collections.html#loc_60_3_60_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Collections.html#loc_60_3_60_15&#39;)"><span class="hl_varref"><span class="mpre">mapSingleton</span></span></a><span class="mpre"> (</span><a href="Compiler.Hoopl.Graph.html#loc_104_3_104_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Graph.html#loc_104_3_104_13&#39;)"><span class="hl_varref"><span class="mpre">entryLabel</span></span></a><span class="mpre"> </span><a href="#loc_134_19_134_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_19_134_20&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">) </span><a href="#loc_134_21_134_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_21_134_22&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | List of (unlabelled) facts from the successors of a last node</span></span><span class="mpre">
</span><a href="#loc_138_1_138_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_1_138_15&#39;)"><span class="mpre">successorFacts</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 137, srcSpanStartColumn = 19, srcSpanEndLine = 137, srcSpanEndColumn = 32}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 137, srcSpanStartColumn = 30, srcSpanEndLine = 137, srcSpanEndColumn = 32}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">NonLocal n =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_51_6_51_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_51_6_51_7&#39;)"><span class="hl_tyconref"><span class="mpre">O</span></span></a><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_57_6_57_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_57_6_57_7&#39;)"><span class="hl_tyconref"><span class="mpre">C</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FactBase</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">]
</span><a name="loc_138_1_138_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_1_138_15&#39;)"><span class="hl_fundecl"><span class="mpre">successorFacts</span></span></a><span class="mpre"> </span><a name="loc_138_16_138_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_16_138_17&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_138_18_138_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_18_138_20&#39;)"><span class="hl_vardecl"><span class="mpre">fb</span></span></a><span class="mpre"> = [ </span><a href="#loc_138_58_138_59" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_58_138_59&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> | </span><a name="loc_138_29_138_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_29_138_31&#39;)"><span class="hl_vardecl"><span class="mpre">id</span></span></a><span class="mpre"> &lt;- </span><a href="Compiler.Hoopl.Graph.html#loc_105_3_105_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Graph.html#loc_105_3_105_13&#39;)"><span class="hl_varref"><span class="mpre">successors</span></span></a><span class="mpre"> </span><a href="#loc_138_16_138_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_16_138_17&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">, let </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a name="loc_138_58_138_59" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_58_138_59&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="Compiler.Hoopl.Label.html#loc_111_1_111_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Label.html#loc_111_1_111_11&#39;)"><span class="hl_varref"><span class="mpre">lookupFact</span></span></a><span class="mpre"> </span><a href="#loc_138_29_138_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_29_138_31&#39;)"><span class="hl_varref"><span class="mpre">id</span></span></a><span class="mpre"> </span><a href="#loc_138_18_138_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_18_138_20&#39;)"><span class="hl_varref"><span class="mpre">fb</span></span></a><span class="mpre"> ]

</span><span class="hl_comment"><span class="mpre">-- | Join a list of facts.</span></span><span class="mpre">
</span><a href="#loc_142_1_142_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_1_142_10&#39;)"><span class="mpre">joinFacts</span></a><span class="mpre"> :: </span><a href="Compiler.Hoopl.Dataflow.html#loc_50_6_50_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_50_6_50_21&#39;)"><span class="hl_tyconref"><span class="mpre">DataflowLattice</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> -&gt; </span><a href="Compiler.Hoopl.Label.html#loc_25_9_25_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Label.html#loc_25_9_25_14&#39;)"><span class="hl_tyconref"><span class="mpre">Label</span></span></a><span class="mpre"> -&gt; [</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">] -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">
</span><a name="loc_142_1_142_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_1_142_10&#39;)"><span class="hl_fundecl"><span class="mpre">joinFacts</span></span></a><span class="mpre"> </span><a name="loc_142_11_142_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_11_142_14&#39;)"><span class="hl_vardecl"><span class="mpre">lat</span></span></a><span class="mpre"> </span><a name="loc_142_15_142_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_15_142_22&#39;)"><span class="hl_vardecl"><span class="mpre">inBlock</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">foldr</span></span><span class="mpre"> </span><a href="#loc_143_9_143_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_9_143_15&#39;)"><span class="hl_varref"><span class="mpre">extend</span></span></a><span class="mpre"> (</span><a href="Compiler.Hoopl.Dataflow.html#loc_52_4_52_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_52_4_52_12&#39;)"><span class="hl_varref"><span class="mpre">fact_bot</span></span></a><span class="mpre"> </span><a href="#loc_142_11_142_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_11_142_14&#39;)"><span class="hl_varref"><span class="mpre">lat</span></span></a><span class="mpre">)
  where </span><a name="loc_143_9_143_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_9_143_15&#39;)"><span class="hl_fundecl"><span class="mpre">extend</span></span></a><span class="mpre"> </span><a name="loc_143_16_143_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_16_143_19&#39;)"><span class="hl_vardecl"><span class="mpre">new</span></span></a><span class="mpre"> </span><a name="loc_143_20_143_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_20_143_23&#39;)"><span class="hl_vardecl"><span class="mpre">old</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">snd</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Dataflow.html#loc_53_4_53_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_53_4_53_13&#39;)"><span class="hl_varref"><span class="mpre">fact_join</span></span></a><span class="mpre"> </span><a href="#loc_142_11_142_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_11_142_14&#39;)"><span class="hl_varref"><span class="mpre">lat</span></span></a><span class="mpre"> </span><a href="#loc_142_15_142_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_15_142_22&#39;)"><span class="hl_varref"><span class="mpre">inBlock</span></span></a><span class="mpre"> (</span><a href="Compiler.Hoopl.Dataflow.html#loc_63_21_63_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_63_21_63_28&#39;)"><span class="hl_conref"><span class="mpre">OldFact</span></span></a><span class="mpre"> </span><a href="#loc_143_20_143_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_20_143_23&#39;)"><span class="hl_varref"><span class="mpre">old</span></span></a><span class="mpre">) (</span><a href="Compiler.Hoopl.Dataflow.html#loc_64_21_64_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_64_21_64_28&#39;)"><span class="hl_conref"><span class="mpre">NewFact</span></span></a><span class="mpre"> </span><a href="#loc_143_16_143_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_16_143_19&#39;)"><span class="hl_varref"><span class="mpre">new</span></span></a><span class="mpre">)

</span><span class="warning" data-warning="DeclDeprPragmaDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 145, srcSpanStartColumn = 1, srcSpanEndLine = 146, srcSpanEndColumn = 103}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 145, srcSpanStartColumn = 1, srcSpanEndLine = 145, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Ho"><span class="mpre">{-# DEPRECATED joinOutFacts
    &quot;should be replaced by &#39;joinFacts lat l (successorFacts n f)&#39;; as is, it uses the wrong Label&quot; #-}</span></span><span class="mpre">

</span><a href="#loc_149_1_149_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_1_149_13&#39;)"><span class="mpre">joinOutFacts</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxParen (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 148, srcSpanStartColumn = 17, srcSpanEndLine = 148, srcSpanEndColumn = 35}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 148, srcSpanStartColumn = 17, srcSpanEndLine = 148, srcSpanEndColumn = 18},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XU"><span class="mpre">(NonLocal node) =&gt;</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Dataflow.html#loc_50_6_50_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_50_6_50_21&#39;)"><span class="hl_tyconref"><span class="mpre">DataflowLattice</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">node</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_51_6_51_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_51_6_51_7&#39;)"><span class="hl_tyconref"><span class="mpre">O</span></span></a><span class="mpre"> </span><a href="Compiler.Hoopl.Block.html#loc_57_6_57_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Block.html#loc_57_6_57_7&#39;)"><span class="hl_tyconref"><span class="mpre">C</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FactBase</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">
</span><a name="loc_149_1_149_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_1_149_13&#39;)"><span class="hl_fundecl"><span class="mpre">joinOutFacts</span></span></a><span class="mpre"> </span><a name="loc_149_14_149_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_14_149_17&#39;)"><span class="hl_vardecl"><span class="mpre">lat</span></span></a><span class="mpre"> </span><a name="loc_149_18_149_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_18_149_19&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_149_20_149_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_20_149_21&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">foldr</span></span><span class="mpre"> </span><a href="#loc_150_9_150_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_9_150_13&#39;)"><span class="hl_varref"><span class="mpre">join</span></span></a><span class="mpre"> (</span><a href="Compiler.Hoopl.Dataflow.html#loc_52_4_52_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_52_4_52_12&#39;)"><span class="hl_varref"><span class="mpre">fact_bot</span></span></a><span class="mpre"> </span><a href="#loc_149_14_149_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_14_149_17&#39;)"><span class="hl_varref"><span class="mpre">lat</span></span></a><span class="mpre">) </span><a href="#loc_151_9_151_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_9_151_14&#39;)"><span class="hl_varref"><span class="mpre">facts</span></span></a><span class="mpre">
  where </span><a name="loc_150_9_150_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_9_150_13&#39;)"><span class="hl_fundecl"><span class="mpre">join</span></span></a><span class="mpre"> (</span><a name="loc_150_15_150_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_15_150_18&#39;)"><span class="hl_vardecl"><span class="mpre">lbl</span></span></a><span class="mpre">, </span><a name="loc_150_20_150_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_20_150_23&#39;)"><span class="hl_vardecl"><span class="mpre">new</span></span></a><span class="mpre">) </span><a name="loc_150_25_150_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_25_150_28&#39;)"><span class="hl_vardecl"><span class="mpre">old</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">snd</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Compiler.Hoopl.Dataflow.html#loc_53_4_53_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_53_4_53_13&#39;)"><span class="hl_varref"><span class="mpre">fact_join</span></span></a><span class="mpre"> </span><a href="#loc_149_14_149_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_14_149_17&#39;)"><span class="hl_varref"><span class="mpre">lat</span></span></a><span class="mpre"> </span><a href="#loc_150_15_150_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_15_150_18&#39;)"><span class="hl_varref"><span class="mpre">lbl</span></span></a><span class="mpre"> (</span><a href="Compiler.Hoopl.Dataflow.html#loc_63_21_63_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_63_21_63_28&#39;)"><span class="hl_conref"><span class="mpre">OldFact</span></span></a><span class="mpre"> </span><a href="#loc_150_25_150_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_25_150_28&#39;)"><span class="hl_varref"><span class="mpre">old</span></span></a><span class="mpre">) (</span><a href="Compiler.Hoopl.Dataflow.html#loc_64_21_64_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_64_21_64_28&#39;)"><span class="hl_conref"><span class="mpre">NewFact</span></span></a><span class="mpre"> </span><a href="#loc_150_20_150_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_20_150_23&#39;)"><span class="hl_varref"><span class="mpre">new</span></span></a><span class="mpre">)
        </span><a name="loc_151_9_151_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_9_151_14&#39;)"><span class="hl_vardecl"><span class="mpre">facts</span></span></a><span class="mpre"> = [(</span><a href="#loc_151_39_151_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_39_151_40&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">, </span><a href="Data.Maybe.html#loc_91_1_91_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_91_1_91_9&#39;)"><span class="hl_varref"><span class="mpre">fromJust</span></span></a><span class="mpre"> </span><a href="#loc_151_62_151_66" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_62_151_66&#39;)"><span class="hl_varref"><span class="mpre">fact</span></span></a><span class="mpre">) | </span><a name="loc_151_39_151_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_39_151_40&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> &lt;- </span><a href="Compiler.Hoopl.Graph.html#loc_105_3_105_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Graph.html#loc_105_3_105_13&#39;)"><span class="hl_varref"><span class="mpre">successors</span></span></a><span class="mpre"> </span><a href="#loc_149_18_149_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_18_149_19&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">, let </span><a name="loc_151_62_151_66" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_62_151_66&#39;)"><span class="hl_vardecl"><span class="mpre">fact</span></span></a><span class="mpre"> = </span><a href="Compiler.Hoopl.Label.html#loc_111_1_111_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Label.html#loc_111_1_111_11&#39;)"><span class="hl_varref"><span class="mpre">lookupFact</span></span></a><span class="mpre"> </span><a href="#loc_151_39_151_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_39_151_40&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><a href="#loc_149_20_149_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_20_149_21&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">, </span><a href="Data.Maybe.html#loc_80_1_80_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_80_1_80_7&#39;)"><span class="hl_varref"><span class="mpre">isJust</span></span></a><span class="mpre"> </span><a href="#loc_151_62_151_66" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_62_151_66&#39;)"><span class="hl_varref"><span class="mpre">fact</span></span></a><span class="mpre">]


</span><span class="hl_comment"><span class="mpre">-- | It&#39;s common to represent dataflow facts as a map from variables</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- to some fact about the locations. For these maps, the join</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- operation on the map can be expressed in terms of the join on each</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- element of the codomain:</span></span><span class="mpre">
</span><a href="#loc_159_1_159_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_1_159_9&#39;)"><span class="mpre">joinMaps</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 158, srcSpanStartColumn = 13, srcSpanEndLine = 158, srcSpanEndColumn = 21}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hoopl-3.10.0.1/src/Compiler/Hoopl/XUtil.hs&quot;, srcSpanStartLine = 158, srcSpanStartColumn = 19, srcSpanEndLine = 158, srcSpanEndColumn = 21}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Ord k =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">JoinFun</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">v</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">JoinFun</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">M.Map</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">k</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">v</span></span><span class="mpre">)
</span><a name="loc_159_1_159_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_1_159_9&#39;)"><span class="hl_fundecl"><span class="mpre">joinMaps</span></span></a><span class="mpre"> </span><a name="loc_159_10_159_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_10_159_17&#39;)"><span class="hl_vardecl"><span class="mpre">eltJoin</span></span></a><span class="mpre"> </span><a name="loc_159_18_159_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_18_159_19&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> (</span><a href="Compiler.Hoopl.Dataflow.html#loc_63_21_63_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_63_21_63_28&#39;)"><span class="hl_conref"><span class="mpre">OldFact</span></span></a><span class="mpre"> </span><a name="loc_159_29_159_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_29_159_32&#39;)"><span class="hl_vardecl"><span class="mpre">old</span></span></a><span class="mpre">) (</span><a href="Compiler.Hoopl.Dataflow.html#loc_64_21_64_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_64_21_64_28&#39;)"><span class="hl_conref"><span class="mpre">NewFact</span></span></a><span class="mpre"> </span><a name="loc_159_43_159_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_43_159_46&#39;)"><span class="hl_vardecl"><span class="mpre">new</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">M.foldrWithKey</span></span><span class="mpre"> </span><a href="#loc_161_5_161_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_5_161_8&#39;)"><span class="hl_varref"><span class="mpre">add</span></span></a><span class="mpre"> (</span><a href="Compiler.Hoopl.Dataflow.html#loc_66_19_66_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_66_19_66_27&#39;)"><span class="hl_conref"><span class="mpre">NoChange</span></span></a><span class="mpre">, </span><a href="#loc_159_29_159_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_29_159_32&#39;)"><span class="hl_varref"><span class="mpre">old</span></span></a><span class="mpre">) </span><a href="#loc_159_43_159_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_43_159_46&#39;)"><span class="hl_varref"><span class="mpre">new</span></span></a><span class="mpre">
  where 
    </span><a name="loc_161_5_161_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_5_161_8&#39;)"><span class="hl_fundecl"><span class="mpre">add</span></span></a><span class="mpre"> </span><a name="loc_161_9_161_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_9_161_10&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> </span><a name="loc_161_11_161_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_11_161_16&#39;)"><span class="hl_vardecl"><span class="mpre">new_v</span></span></a><span class="mpre"> (</span><a name="loc_161_18_161_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_18_161_20&#39;)"><span class="hl_vardecl"><span class="mpre">ch</span></span></a><span class="mpre">, </span><a name="loc_161_22_161_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_22_161_29&#39;)"><span class="hl_vardecl"><span class="mpre">joinmap</span></span></a><span class="mpre">) =
      case </span><span class="hl_varref"><span class="mpre">M.lookup</span></span><span class="mpre"> </span><a href="#loc_161_9_161_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_9_161_10&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_161_22_161_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_22_161_29&#39;)"><span class="hl_varref"><span class="mpre">joinmap</span></span></a><span class="mpre"> of
        </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">    -&gt; (</span><a href="Compiler.Hoopl.Dataflow.html#loc_66_30_66_40" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_66_30_66_40&#39;)"><span class="hl_conref"><span class="mpre">SomeChange</span></span></a><span class="mpre">, </span><span class="hl_varref"><span class="mpre">M.insert</span></span><span class="mpre"> </span><a href="#loc_161_9_161_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_9_161_10&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_161_11_161_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_11_161_16&#39;)"><span class="hl_varref"><span class="mpre">new_v</span></span></a><span class="mpre"> </span><a href="#loc_161_22_161_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_22_161_29&#39;)"><span class="hl_varref"><span class="mpre">joinmap</span></span></a><span class="mpre">)
        </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a name="loc_164_14_164_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_14_164_19&#39;)"><span class="hl_vardecl"><span class="mpre">old_v</span></span></a><span class="mpre"> -&gt; case </span><a href="#loc_159_10_159_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_10_159_17&#39;)"><span class="hl_varref"><span class="mpre">eltJoin</span></span></a><span class="mpre"> </span><a href="#loc_159_18_159_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_18_159_19&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (</span><a href="Compiler.Hoopl.Dataflow.html#loc_63_21_63_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_63_21_63_28&#39;)"><span class="hl_conref"><span class="mpre">OldFact</span></span></a><span class="mpre"> </span><a href="#loc_164_14_164_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_14_164_19&#39;)"><span class="hl_varref"><span class="mpre">old_v</span></span></a><span class="mpre">) (</span><a href="Compiler.Hoopl.Dataflow.html#loc_64_21_64_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_64_21_64_28&#39;)"><span class="hl_conref"><span class="mpre">NewFact</span></span></a><span class="mpre"> </span><a href="#loc_161_11_161_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_11_161_16&#39;)"><span class="hl_varref"><span class="mpre">new_v</span></span></a><span class="mpre">) of
                        (</span><a href="Compiler.Hoopl.Dataflow.html#loc_66_30_66_40" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_66_30_66_40&#39;)"><span class="hl_conref"><span class="mpre">SomeChange</span></span></a><span class="mpre">, </span><a name="loc_165_38_165_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_38_165_40&#39;)"><span class="hl_vardecl"><span class="mpre">v&#39;</span></span></a><span class="mpre">) -&gt; (</span><a href="Compiler.Hoopl.Dataflow.html#loc_66_30_66_40" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_66_30_66_40&#39;)"><span class="hl_conref"><span class="mpre">SomeChange</span></span></a><span class="mpre">, </span><span class="hl_varref"><span class="mpre">M.insert</span></span><span class="mpre"> </span><a href="#loc_161_9_161_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_9_161_10&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_165_38_165_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_38_165_40&#39;)"><span class="hl_varref"><span class="mpre">v&#39;</span></span></a><span class="mpre"> </span><a href="#loc_161_22_161_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_22_161_29&#39;)"><span class="hl_varref"><span class="mpre">joinmap</span></span></a><span class="mpre">)
                        (</span><a href="Compiler.Hoopl.Dataflow.html#loc_66_19_66_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Compiler.Hoopl.Dataflow.html#loc_66_19_66_27&#39;)"><span class="hl_conref"><span class="mpre">NoChange</span></span></a><span class="mpre">,   _)  -&gt; (</span><a href="#loc_161_18_161_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_18_161_20&#39;)"><span class="hl_varref"><span class="mpre">ch</span></span></a><span class="mpre">, </span><a href="#loc_161_22_161_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_22_161_29&#39;)"><span class="hl_varref"><span class="mpre">joinmap</span></span></a><span class="mpre">)



</span></div></body></html>