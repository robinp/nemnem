<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Text.Parsec.Pos</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (c) Daan Leijen 1999-2001, (c) Paolo Martini 2007</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  BSD-style (see the LICENSE file)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- </span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  derek.a.elkins@gmail.com</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  provisional</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- </span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Textual source positions.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- </span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">

module Text.Parsec.Pos
    ( SourceName, Line, Column
    , SourcePos
    , sourceLine, sourceColumn, sourceName
    , incSourceLine, incSourceColumn
    , setSourceLine, setSourceColumn, setSourceName
    , newPos, initialPos
    , updatePosChar, updatePosString
    ) where

#ifdef BASE3
import Data.Generics
#else
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/parsec-3.1.5/Text/Parsec/Pos.hs&quot;, srcSpanStartLine = 28, srcSpanStartColumn = 8, srcSpanEndLine = 28, srcSpanEndColumn = 17}, srcInfoPoints = []}) &quot;Data.Data&quot;"><span class="mpre">Data.Data</span></span><span class="mpre"> (Data)
import Data.Typeable (</span><a href="Data.Typeable.Internal.html#loc_196_7_196_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Typeable.Internal.html#loc_196_7_196_15&#39;)"><span class="mpre">Typeable</span></a><span class="mpre">)
#endif

</span><span class="hl_comment"><span class="mpre">-- &lt; Source positions: a file name, a line and a column</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- upper left is (1,1)</span></span><span class="mpre">

</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/parsec-3.1.5/Text/Parsec/Pos.hs&quot;, srcSpanStartLine = 35, srcSpanStartColumn = 1, srcSpanEndLine = 35, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/parsec-3.1.5/Text/Parsec/Pos.hs&quot;, srcSpanStartLine = 35, srcSpanStartColumn = 1, srcSpanEndLine = 35, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/parsec-3.1.5/Text/Parsec/Pos.hs&quot;, srcSpanStartLine = 35, srcSpan"><span class="mpre">type SourceName = String</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/parsec-3.1.5/Text/Parsec/Pos.hs&quot;, srcSpanStartLine = 36, srcSpanStartColumn = 1, srcSpanEndLine = 36, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/parsec-3.1.5/Text/Parsec/Pos.hs&quot;, srcSpanStartLine = 36, srcSpanStartColumn = 1, srcSpanEndLine = 36, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/parsec-3.1.5/Text/Parsec/Pos.hs&quot;, srcSpanStartLine = 36, srcSpan"><span class="mpre">type Line       = Int</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/parsec-3.1.5/Text/Parsec/Pos.hs&quot;, srcSpanStartLine = 37, srcSpanStartColumn = 1, srcSpanEndLine = 37, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/parsec-3.1.5/Text/Parsec/Pos.hs&quot;, srcSpanStartLine = 37, srcSpanStartColumn = 1, srcSpanEndLine = 37, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/parsec-3.1.5/Text/Parsec/Pos.hs&quot;, srcSpanStartLine = 37, srcSpan"><span class="mpre">type Column     = Int</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The abstract data type @SourcePos@ represents source positions. It</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- contains the name of the source (i.e. file name), a line number and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- a column number. @SourcePos@ is an instance of the &#39;Show&#39;, &#39;Eq&#39; and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Ord&#39; class. </span></span><span class="mpre">

data </span><a name="loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tycondecl"><span class="mpre">SourcePos</span></span></a><span class="mpre">  = </span><a name="loc_44_19_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_19_44_28&#39;)"><span class="hl_condecl"><span class="mpre">SourcePos</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">SourceName</span></span><span class="mpre"> !</span><span class="hl_tyconref"><span class="mpre">Line</span></span><span class="mpre"> !</span><span class="hl_tyconref"><span class="mpre">Column</span></span><span class="mpre">
    </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/parsec-3.1.5/Text/Parsec/Pos.hs&quot;, srcSpanStartLine = 45, srcSpanStartColumn = 5, srcSpanEndLine = 45, srcSpanEndColumn = 40}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/parsec-3.1.5/Text/Parsec/Pos.hs&quot;, srcSpanStartLine = 45, srcSpanStartColumn = 5, srcSpanEndLine = 45, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/parsec-3.1.5/Text/Parsec/Pos.hs&quot;, srcSpanStartLine = 45, srcSpa"><span class="mpre">deriving ( Eq, Ord, Data, Typeable)</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Create a new &#39;SourcePos&#39; with the given source name,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- line number and column number.</span></span><span class="mpre">

</span><a href="#loc_51_1_51_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_1_51_7&#39;)"><span class="mpre">newPos</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">SourceName</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Line</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Column</span></span><span class="mpre"> -&gt; </span><a href="#loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tyconref"><span class="mpre">SourcePos</span></span></a><span class="mpre">
</span><a name="loc_51_1_51_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_1_51_7&#39;)"><span class="hl_fundecl"><span class="mpre">newPos</span></span></a><span class="mpre"> </span><a name="loc_51_8_51_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_8_51_12&#39;)"><span class="hl_vardecl"><span class="mpre">name</span></span></a><span class="mpre"> </span><a name="loc_51_13_51_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_13_51_17&#39;)"><span class="hl_vardecl"><span class="mpre">line</span></span></a><span class="mpre"> </span><a name="loc_51_18_51_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_18_51_24&#39;)"><span class="hl_vardecl"><span class="mpre">column</span></span></a><span class="mpre">
    = </span><a href="#loc_44_19_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_19_44_28&#39;)"><span class="hl_conref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> </span><a href="#loc_51_8_51_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_8_51_12&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><a href="#loc_51_13_51_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_13_51_17&#39;)"><span class="hl_varref"><span class="mpre">line</span></span></a><span class="mpre"> </span><a href="#loc_51_18_51_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_18_51_24&#39;)"><span class="hl_varref"><span class="mpre">column</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Create a new &#39;SourcePos&#39; with the given source name,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and line number and column number set to 1, the upper left.</span></span><span class="mpre">

</span><a href="#loc_58_1_58_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_1_58_11&#39;)"><span class="mpre">initialPos</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">SourceName</span></span><span class="mpre"> -&gt; </span><a href="#loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tyconref"><span class="mpre">SourcePos</span></span></a><span class="mpre">
</span><a name="loc_58_1_58_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_1_58_11&#39;)"><span class="hl_fundecl"><span class="mpre">initialPos</span></span></a><span class="mpre"> </span><a name="loc_58_12_58_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_12_58_16&#39;)"><span class="hl_vardecl"><span class="mpre">name</span></span></a><span class="mpre">
    = </span><a href="#loc_51_1_51_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_1_51_7&#39;)"><span class="hl_varref"><span class="mpre">newPos</span></span></a><span class="mpre"> </span><a href="#loc_58_12_58_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_12_58_16&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Extracts the name of the source from a source position. </span></span><span class="mpre">

</span><a href="#loc_64_1_64_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_1_64_11&#39;)"><span class="mpre">sourceName</span></a><span class="mpre"> :: </span><a href="#loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tyconref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">SourceName</span></span><span class="mpre">
</span><a name="loc_64_1_64_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_1_64_11&#39;)"><span class="hl_fundecl"><span class="mpre">sourceName</span></span></a><span class="mpre"> (</span><a href="#loc_44_19_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_19_44_28&#39;)"><span class="hl_conref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> </span><a name="loc_64_23_64_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_23_64_27&#39;)"><span class="hl_vardecl"><span class="mpre">name</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_line</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_column</span></span><span class="mpre">) = </span><a href="#loc_64_23_64_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_23_64_27&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Extracts the line number from a source position. </span></span><span class="mpre">

</span><a href="#loc_69_1_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_11&#39;)"><span class="mpre">sourceLine</span></a><span class="mpre"> :: </span><a href="#loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tyconref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Line</span></span><span class="mpre">
</span><a name="loc_69_1_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_11&#39;)"><span class="hl_fundecl"><span class="mpre">sourceLine</span></span></a><span class="mpre"> (</span><a href="#loc_44_19_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_19_44_28&#39;)"><span class="hl_conref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_name</span></span><span class="mpre"> </span><a name="loc_69_29_69_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_29_69_33&#39;)"><span class="hl_vardecl"><span class="mpre">line</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_column</span></span><span class="mpre">) = </span><a href="#loc_69_29_69_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_29_69_33&#39;)"><span class="hl_varref"><span class="mpre">line</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Extracts the column number from a source position. </span></span><span class="mpre">

</span><a href="#loc_74_1_74_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_1_74_13&#39;)"><span class="mpre">sourceColumn</span></a><span class="mpre"> :: </span><a href="#loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tyconref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Column</span></span><span class="mpre">
</span><a name="loc_74_1_74_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_1_74_13&#39;)"><span class="hl_fundecl"><span class="mpre">sourceColumn</span></span></a><span class="mpre"> (</span><a href="#loc_44_19_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_19_44_28&#39;)"><span class="hl_conref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_name</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_line</span></span><span class="mpre"> </span><a name="loc_74_37_74_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_37_74_43&#39;)"><span class="hl_vardecl"><span class="mpre">column</span></span></a><span class="mpre">) = </span><a href="#loc_74_37_74_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_37_74_43&#39;)"><span class="hl_varref"><span class="mpre">column</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Increments the line number of a source position. </span></span><span class="mpre">

</span><a href="#loc_79_1_79_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_1_79_14&#39;)"><span class="mpre">incSourceLine</span></a><span class="mpre"> :: </span><a href="#loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tyconref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Line</span></span><span class="mpre"> -&gt; </span><a href="#loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tyconref"><span class="mpre">SourcePos</span></span></a><span class="mpre">
</span><a name="loc_79_1_79_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_1_79_14&#39;)"><span class="hl_fundecl"><span class="mpre">incSourceLine</span></span></a><span class="mpre"> (</span><a href="#loc_44_19_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_19_44_28&#39;)"><span class="hl_conref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> </span><a name="loc_79_26_79_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_26_79_30&#39;)"><span class="hl_vardecl"><span class="mpre">name</span></span></a><span class="mpre"> </span><a name="loc_79_31_79_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_31_79_35&#39;)"><span class="hl_vardecl"><span class="mpre">line</span></span></a><span class="mpre"> </span><a name="loc_79_36_79_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_36_79_42&#39;)"><span class="hl_vardecl"><span class="mpre">column</span></span></a><span class="mpre">) </span><a name="loc_79_44_79_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_44_79_45&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_44_19_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_19_44_28&#39;)"><span class="hl_conref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> </span><a href="#loc_79_26_79_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_26_79_30&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> (</span><a href="#loc_79_31_79_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_31_79_35&#39;)"><span class="hl_varref"><span class="mpre">line</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><a href="#loc_79_44_79_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_44_79_45&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">) </span><a href="#loc_79_36_79_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_36_79_42&#39;)"><span class="hl_varref"><span class="mpre">column</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Increments the column number of a source position. </span></span><span class="mpre">

</span><a href="#loc_84_1_84_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_1_84_16&#39;)"><span class="mpre">incSourceColumn</span></a><span class="mpre"> :: </span><a href="#loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tyconref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Column</span></span><span class="mpre"> -&gt; </span><a href="#loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tyconref"><span class="mpre">SourcePos</span></span></a><span class="mpre">
</span><a name="loc_84_1_84_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_1_84_16&#39;)"><span class="hl_fundecl"><span class="mpre">incSourceColumn</span></span></a><span class="mpre"> (</span><a href="#loc_44_19_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_19_44_28&#39;)"><span class="hl_conref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> </span><a name="loc_84_28_84_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_28_84_32&#39;)"><span class="hl_vardecl"><span class="mpre">name</span></span></a><span class="mpre"> </span><a name="loc_84_33_84_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_33_84_37&#39;)"><span class="hl_vardecl"><span class="mpre">line</span></span></a><span class="mpre"> </span><a name="loc_84_38_84_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_38_84_44&#39;)"><span class="hl_vardecl"><span class="mpre">column</span></span></a><span class="mpre">) </span><a name="loc_84_46_84_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_46_84_47&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_44_19_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_19_44_28&#39;)"><span class="hl_conref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> </span><a href="#loc_84_28_84_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_28_84_32&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><a href="#loc_84_33_84_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_33_84_37&#39;)"><span class="hl_varref"><span class="mpre">line</span></span></a><span class="mpre"> (</span><a href="#loc_84_38_84_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_38_84_44&#39;)"><span class="hl_varref"><span class="mpre">column</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><a href="#loc_84_46_84_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_46_84_47&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Set the name of the source.</span></span><span class="mpre">

</span><a href="#loc_89_1_89_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_1_89_14&#39;)"><span class="mpre">setSourceName</span></a><span class="mpre"> :: </span><a href="#loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tyconref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">SourceName</span></span><span class="mpre"> -&gt; </span><a href="#loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tyconref"><span class="mpre">SourcePos</span></span></a><span class="mpre">
</span><a name="loc_89_1_89_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_1_89_14&#39;)"><span class="hl_fundecl"><span class="mpre">setSourceName</span></span></a><span class="mpre"> (</span><a href="#loc_44_19_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_19_44_28&#39;)"><span class="hl_conref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_name</span></span><span class="mpre"> </span><a name="loc_89_32_89_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_32_89_36&#39;)"><span class="hl_vardecl"><span class="mpre">line</span></span></a><span class="mpre"> </span><a name="loc_89_37_89_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_37_89_43&#39;)"><span class="hl_vardecl"><span class="mpre">column</span></span></a><span class="mpre">) </span><a name="loc_89_45_89_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_45_89_46&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_44_19_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_19_44_28&#39;)"><span class="hl_conref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> </span><a href="#loc_89_45_89_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_45_89_46&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_89_32_89_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_32_89_36&#39;)"><span class="hl_varref"><span class="mpre">line</span></span></a><span class="mpre"> </span><a href="#loc_89_37_89_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_37_89_43&#39;)"><span class="hl_varref"><span class="mpre">column</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Set the line number of a source position. </span></span><span class="mpre">

</span><a href="#loc_94_1_94_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_1_94_14&#39;)"><span class="mpre">setSourceLine</span></a><span class="mpre"> :: </span><a href="#loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tyconref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Line</span></span><span class="mpre"> -&gt; </span><a href="#loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tyconref"><span class="mpre">SourcePos</span></span></a><span class="mpre">
</span><a name="loc_94_1_94_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_1_94_14&#39;)"><span class="hl_fundecl"><span class="mpre">setSourceLine</span></span></a><span class="mpre"> (</span><a href="#loc_44_19_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_19_44_28&#39;)"><span class="hl_conref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> </span><a name="loc_94_26_94_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_26_94_30&#39;)"><span class="hl_vardecl"><span class="mpre">name</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_line</span></span><span class="mpre"> </span><a name="loc_94_37_94_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_37_94_43&#39;)"><span class="hl_vardecl"><span class="mpre">column</span></span></a><span class="mpre">) </span><a name="loc_94_45_94_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_45_94_46&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_44_19_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_19_44_28&#39;)"><span class="hl_conref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> </span><a href="#loc_94_26_94_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_26_94_30&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><a href="#loc_94_45_94_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_45_94_46&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_94_37_94_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_37_94_43&#39;)"><span class="hl_varref"><span class="mpre">column</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Set the column number of a source position. </span></span><span class="mpre">

</span><a href="#loc_99_1_99_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_1_99_16&#39;)"><span class="mpre">setSourceColumn</span></a><span class="mpre"> :: </span><a href="#loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tyconref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Column</span></span><span class="mpre"> -&gt; </span><a href="#loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tyconref"><span class="mpre">SourcePos</span></span></a><span class="mpre">
</span><a name="loc_99_1_99_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_1_99_16&#39;)"><span class="hl_fundecl"><span class="mpre">setSourceColumn</span></span></a><span class="mpre"> (</span><a href="#loc_44_19_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_19_44_28&#39;)"><span class="hl_conref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> </span><a name="loc_99_28_99_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_28_99_32&#39;)"><span class="hl_vardecl"><span class="mpre">name</span></span></a><span class="mpre"> </span><a name="loc_99_33_99_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_33_99_37&#39;)"><span class="hl_vardecl"><span class="mpre">line</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_column</span></span><span class="mpre">) </span><a name="loc_99_47_99_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_47_99_48&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_44_19_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_19_44_28&#39;)"><span class="hl_conref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> </span><a href="#loc_99_28_99_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_28_99_32&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><a href="#loc_99_33_99_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_33_99_37&#39;)"><span class="hl_varref"><span class="mpre">line</span></span></a><span class="mpre"> </span><a href="#loc_99_47_99_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_47_99_48&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The expression @updatePosString pos s@ updates the source position</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @pos@ by calling &#39;updatePosChar&#39; on every character in @s@, ie.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @foldl updatePosChar pos string@. </span></span><span class="mpre">

</span><a href="#loc_106_1_106_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_1_106_16&#39;)"><span class="mpre">updatePosString</span></a><span class="mpre"> :: </span><a href="#loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tyconref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><a href="#loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tyconref"><span class="mpre">SourcePos</span></span></a><span class="mpre">
</span><a name="loc_106_1_106_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_1_106_16&#39;)"><span class="hl_fundecl"><span class="mpre">updatePosString</span></span></a><span class="mpre"> </span><a name="loc_106_17_106_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_17_106_20&#39;)"><span class="hl_vardecl"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a name="loc_106_21_106_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_21_106_27&#39;)"><span class="hl_vardecl"><span class="mpre">string</span></span></a><span class="mpre">
    = </span><span class="hl_varref"><span class="mpre">foldl</span></span><span class="mpre"> </span><a href="#loc_117_1_117_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_14&#39;)"><span class="hl_varref"><span class="mpre">updatePosChar</span></span></a><span class="mpre"> </span><a href="#loc_106_17_106_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_17_106_20&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a href="#loc_106_21_106_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_21_106_27&#39;)"><span class="hl_varref"><span class="mpre">string</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Update a source position given a character. If the character is a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- newline (\&#39;\\n\&#39;) or carriage return (\&#39;\\r\&#39;) the line number is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- incremented by 1. If the character is a tab (\&#39;\t\&#39;) the column</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- number is incremented to the nearest 8&#39;th column, ie. @column + 8 -</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- ((column-1) \`mod\` 8)@. In all other cases, the column is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- incremented by 1. </span></span><span class="mpre">

</span><a href="#loc_117_1_117_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_14&#39;)"><span class="mpre">updatePosChar</span></a><span class="mpre">   :: </span><a href="#loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tyconref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="#loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tyconref"><span class="mpre">SourcePos</span></span></a><span class="mpre">
</span><a name="loc_117_1_117_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_14&#39;)"><span class="hl_fundecl"><span class="mpre">updatePosChar</span></span></a><span class="mpre"> (</span><a href="#loc_44_19_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_19_44_28&#39;)"><span class="hl_conref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> </span><a name="loc_117_26_117_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_26_117_30&#39;)"><span class="hl_vardecl"><span class="mpre">name</span></span></a><span class="mpre"> </span><a name="loc_117_31_117_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_31_117_35&#39;)"><span class="hl_vardecl"><span class="mpre">line</span></span></a><span class="mpre"> </span><a name="loc_117_36_117_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_36_117_42&#39;)"><span class="hl_vardecl"><span class="mpre">column</span></span></a><span class="mpre">) </span><a name="loc_117_44_117_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_44_117_45&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">
    = case </span><a href="#loc_117_44_117_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_44_117_45&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> of
        </span><span class="hl_char"><span class="mpre">&#39;\n&#39;</span></span><span class="mpre"> -&gt; </span><a href="#loc_44_19_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_19_44_28&#39;)"><span class="hl_conref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> </span><a href="#loc_117_26_117_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_26_117_30&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> (</span><a href="#loc_117_31_117_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_31_117_35&#39;)"><span class="hl_varref"><span class="mpre">line</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">
        </span><span class="hl_char"><span class="mpre">&#39;\t&#39;</span></span><span class="mpre"> -&gt; </span><a href="#loc_44_19_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_19_44_28&#39;)"><span class="hl_conref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> </span><a href="#loc_117_26_117_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_26_117_30&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><a href="#loc_117_31_117_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_31_117_35&#39;)"><span class="hl_varref"><span class="mpre">line</span></span></a><span class="mpre"> (</span><a href="#loc_117_36_117_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_36_117_42&#39;)"><span class="hl_varref"><span class="mpre">column</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">8</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> ((</span><a href="#loc_117_36_117_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_36_117_42&#39;)"><span class="hl_varref"><span class="mpre">column</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">`mod`</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">8</span></span><span class="mpre">))
        _    -&gt; </span><a href="#loc_44_19_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_19_44_28&#39;)"><span class="hl_conref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> </span><a href="#loc_117_26_117_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_26_117_30&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><a href="#loc_117_31_117_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_31_117_35&#39;)"><span class="hl_varref"><span class="mpre">line</span></span></a><span class="mpre"> (</span><a href="#loc_117_36_117_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_36_117_42&#39;)"><span class="hl_varref"><span class="mpre">column</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)

instance </span><span class="hl_classref"><span class="mpre">Show</span></span><span class="mpre"> </span><a href="#loc_44_6_44_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_6_44_15&#39;)"><span class="hl_tyconref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> where
  </span><span class="hl_fundecl"><span class="mpre">show</span></span><span class="mpre"> (</span><a href="#loc_44_19_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_19_44_28&#39;)"><span class="hl_conref"><span class="mpre">SourcePos</span></span></a><span class="mpre"> </span><a name="loc_124_19_124_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_19_124_23&#39;)"><span class="hl_vardecl"><span class="mpre">name</span></span></a><span class="mpre"> </span><a name="loc_124_24_124_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_24_124_28&#39;)"><span class="hl_vardecl"><span class="mpre">line</span></span></a><span class="mpre"> </span><a name="loc_124_29_124_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_29_124_35&#39;)"><span class="hl_vardecl"><span class="mpre">column</span></span></a><span class="mpre">)
    | </span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> </span><a href="#loc_124_19_124_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_19_124_23&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> = </span><a href="#loc_128_7_128_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_7_128_21&#39;)"><span class="hl_varref"><span class="mpre">showLineColumn</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;\&quot;&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_124_19_124_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_19_124_23&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;\&quot; &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_128_7_128_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_7_128_21&#39;)"><span class="hl_varref"><span class="mpre">showLineColumn</span></span></a><span class="mpre">
    where
      </span><a name="loc_128_7_128_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_7_128_21&#39;)"><span class="hl_vardecl"><span class="mpre">showLineColumn</span></span></a><span class="mpre">    = </span><span class="hl_string"><span class="mpre">&quot;(line &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_124_24_124_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_24_124_28&#39;)"><span class="hl_varref"><span class="mpre">line</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre">
                          </span><span class="hl_string"><span class="mpre">&quot;, column &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_124_29_124_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_29_124_35&#39;)"><span class="hl_varref"><span class="mpre">column</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre">
                          </span><span class="hl_string"><span class="mpre">&quot;)&quot;</span></span><span class="mpre">
</span></div></body></html>