<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE BangPatterns               #-}
{-# LANGUAGE CPP                        #-}
{-# LANGUAGE ForeignFunctionInterface   #-}
{-# LANGUAGE GeneralizedNewtypeDeriving #-}
{-# LANGUAGE MagicHash                  #-}
{-# LANGUAGE Rank2Types                 #-}
{-# LANGUAGE UnliftedFFITypes           #-}

</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      : Data.Text.Lazy.Encoding.Fusion</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   : (c) 2009, 2010 Bryan O&#39;Sullivan</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     : BSD-style</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  : bos@serpentine.com</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   : experimental</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability : portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- /Warning/: this is an internal module, and does not have a stable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- API or name. Functions in this module may not check or enforce</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- preconditions expected by public modules. Use at your own risk!</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Fusible &#39;Stream&#39;-oriented functions for converting between lazy</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Text&#39; and several common encodings.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Provides a stream-based approach to decoding Unicode data. Each function</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- below works the same way: you give it a chunk of data, and it gives back a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @DecodeResult@. If the parse was a success, then you get a chunk of @Text@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (possibly empty) and a continuation parsing function. If the parse was a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- failure, you get a chunk of successfully decoded @Text@ (possibly empty) and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the unconsumed bytes.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- In order to indicate end of stream, you pass an empty @ByteString@ to the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- decode function. This call may result in a failure, if there were unused</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- bytes left over from a previous step which formed part of a code sequence.</span></span><span class="mpre">
module Data.Streaming.Text
    (
    </span><span class="hl_comment"><span class="mpre">-- * Streaming</span></span><span class="mpre">
      decodeUtf8
    , decodeUtf8Pure
    , decodeUtf16LE
    , decodeUtf16BE
    , decodeUtf32LE
    , decodeUtf32BE

    </span><span class="hl_comment"><span class="mpre">-- * Type</span></span><span class="mpre">
    , DecodeResult (..)
    ) where

import           Control.Monad.ST                  (ST, runST)
import           Control.Monad.ST.Unsafe           (</span><a href="GHC.IO.html#loc_100_1_100_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_100_1_100_13&#39;)"><span class="mpre">unsafeIOToST</span></a><span class="mpre">, </span><a href="GHC.IO.html#loc_103_1_103_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_103_1_103_13&#39;)"><span class="mpre">unsafeSTToIO</span></a><span class="mpre">)
import           Data.Bits                         ((.|.))
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/streaming-commons-0.1.3/Data/Streaming/Text.hs&quot;, srcSpanStartLine = 52, srcSpanStartColumn = 18, srcSpanEndLine = 52, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre">                   as B
import           Data.ByteString.Internal          (</span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="mpre">ByteString</span></a><span class="mpre"> (</span><a href="Data.ByteString.Internal.html#loc_193_19_193_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_19_193_21&#39;)"><span class="mpre">PS</span></a><span class="mpre">))
import qualified Data.ByteString.Unsafe            as B
import           Data.Text                         (</span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="mpre">Text</span></a><span class="mpre">)
import qualified Data.Text                         as T
import qualified Data.Text.Array                   as A
import           Data.Text.Internal                (</span><a href="Data.Text.Internal.html#loc_84_1_84_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_84_1_84_6&#39;)"><span class="mpre">textP</span></a><span class="mpre">)
import qualified Data.Text.Internal.Encoding.Utf16 as U16
import qualified Data.Text.Internal.Encoding.Utf32 as U32
import qualified Data.Text.Internal.Encoding.Utf8  as U8
import           Data.Text.Internal.Unsafe.Char    (</span><a href="Data.Text.Internal.Unsafe.Char.html#loc_44_1_44_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_44_1_44_10&#39;)"><span class="mpre">unsafeChr</span></a><span class="mpre">, </span><a href="Data.Text.Internal.Unsafe.Char.html#loc_52_1_52_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_52_1_52_12&#39;)"><span class="mpre">unsafeChr32</span></a><span class="mpre">,
                                                    </span><a href="Data.Text.Internal.Unsafe.Char.html#loc_48_1_48_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_48_1_48_11&#39;)"><span class="mpre">unsafeChr8</span></a><span class="mpre">)
import           Data.Text.Internal.Unsafe.Char    (</span><a href="Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12&#39;)"><span class="mpre">unsafeWrite</span></a><span class="mpre">)
import           Data.Text.Internal.Unsafe.Shift   (</span><a href="Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11&#39;)"><span class="mpre">shiftL</span></a><span class="mpre">)
import           Data.Word                         (Word32, Word8)
import           </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/streaming-commons-0.1.3/Data/Streaming/Text.hs&quot;, srcSpanStartLine = 67, srcSpanStartColumn = 18, srcSpanEndLine = 67, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Foreign.C.Types&quot;"><span class="mpre">Foreign.C.Types</span></span><span class="mpre">                   (CSize (..))
import           Foreign.ForeignPtr                (withForeignPtr)
import           Foreign.Marshal.Utils             (</span><a href="Foreign.Marshal.Utils.html#loc_84_1_84_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.Marshal.Utils.html#loc_84_1_84_5&#39;)"><span class="mpre">with</span></a><span class="mpre">)
import           </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/streaming-commons-0.1.3/Data/Streaming/Text.hs&quot;, srcSpanStartLine = 70, srcSpanStartColumn = 18, srcSpanEndLine = 70, srcSpanEndColumn = 29}, srcInfoPoints = []}) &quot;Foreign.Ptr&quot;"><span class="mpre">Foreign.Ptr</span></span><span class="mpre">                       (Ptr, minusPtr, nullPtr,
                                                    plusPtr)
import           </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/streaming-commons-0.1.3/Data/Streaming/Text.hs&quot;, srcSpanStartLine = 72, srcSpanStartColumn = 18, srcSpanEndLine = 72, srcSpanEndColumn = 34}, srcInfoPoints = []}) &quot;Foreign.Storable&quot;"><span class="mpre">Foreign.Storable</span></span><span class="mpre">                  (Storable, peek, poke)
import           </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/streaming-commons-0.1.3/Data/Streaming/Text.hs&quot;, srcSpanStartLine = 73, srcSpanStartColumn = 18, srcSpanEndLine = 73, srcSpanEndColumn = 26}, srcInfoPoints = []}) &quot;GHC.Base&quot;"><span class="mpre">GHC.Base</span></span><span class="mpre">                          (MutableByteArray#)

data </span><a name="loc_75_6_75_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_6_75_7&#39;)"><span class="hl_tycondecl"><span class="mpre">S</span></span></a><span class="mpre"> = </span><a name="loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_condecl"><span class="mpre">S0</span></span></a><span class="mpre">
       | </span><a name="loc_76_10_76_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_10_76_12&#39;)"><span class="hl_condecl"><span class="mpre">S1</span></span></a><span class="mpre"> {-# UNPACK #-} !</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">
       | </span><a name="loc_77_10_77_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_12&#39;)"><span class="hl_condecl"><span class="mpre">S2</span></span></a><span class="mpre"> {-# UNPACK #-} !</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre"> {-# UNPACK #-} !</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">
       | </span><a name="loc_78_10_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_10_78_12&#39;)"><span class="hl_condecl"><span class="mpre">S3</span></span></a><span class="mpre"> {-# UNPACK #-} !</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre"> {-# UNPACK #-} !</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre"> {-# UNPACK #-} !</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">
    </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/streaming-commons-0.1.3/Data/Streaming/Text.hs&quot;, srcSpanStartLine = 79, srcSpanStartColumn = 5, srcSpanEndLine = 79, srcSpanEndColumn = 18}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/streaming-commons-0.1.3/Data/Streaming/Text.hs&quot;, srcSpanStartLine = 79, srcSpanStartColumn = 5, srcSpanEndLine = 79, srcSpanEndColumn = 13}]}) [IHead (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/"><span class="mpre">deriving Show</span></span><span class="mpre">

data </span><a name="loc_81_6_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_6_81_18&#39;)"><span class="hl_tycondecl"><span class="mpre">DecodeResult</span></span></a><span class="mpre">
    = </span><a name="loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_condecl"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> !</span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> !(</span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_6_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_6_81_18&#39;)"><span class="hl_tyconref"><span class="mpre">DecodeResult</span></span></a><span class="mpre">)
    | </span><a name="loc_83_7_83_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_7_83_26&#39;)"><span class="hl_condecl"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> !</span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> !</span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre">

</span><a href="#loc_86_1_86_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_5&#39;)"><span class="mpre">toBS</span></a><span class="mpre"> :: </span><a href="#loc_75_6_75_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_6_75_7&#39;)"><span class="hl_tyconref"><span class="mpre">S</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre">
</span><a name="loc_86_1_86_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_5&#39;)"><span class="hl_fundecl"><span class="mpre">toBS</span></span></a><span class="mpre"> </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">B.empty</span></span><span class="mpre">
</span><a href="#loc_86_1_86_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_5&#39;)"><span class="hl_fundecl"><span class="mpre">toBS</span></span></a><span class="mpre"> (</span><a href="#loc_76_10_76_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_10_76_12&#39;)"><span class="hl_conref"><span class="mpre">S1</span></span></a><span class="mpre"> </span><a name="loc_87_10_87_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_10_87_11&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">B.pack</span></span><span class="mpre"> [</span><a href="#loc_87_10_87_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_10_87_11&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">]
</span><a href="#loc_86_1_86_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_5&#39;)"><span class="hl_fundecl"><span class="mpre">toBS</span></span></a><span class="mpre"> (</span><a href="#loc_77_10_77_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_12&#39;)"><span class="hl_conref"><span class="mpre">S2</span></span></a><span class="mpre"> </span><a name="loc_88_10_88_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_10_88_11&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_88_12_88_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_12_88_13&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">B.pack</span></span><span class="mpre"> [</span><a href="#loc_88_10_88_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_10_88_11&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_88_12_88_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_12_88_13&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">]
</span><a href="#loc_86_1_86_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_5&#39;)"><span class="hl_fundecl"><span class="mpre">toBS</span></span></a><span class="mpre"> (</span><a href="#loc_78_10_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_10_78_12&#39;)"><span class="hl_conref"><span class="mpre">S3</span></span></a><span class="mpre"> </span><a name="loc_89_10_89_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_10_89_11&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_89_12_89_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_12_89_13&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> </span><a name="loc_89_14_89_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_14_89_15&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">B.pack</span></span><span class="mpre"> [</span><a href="#loc_89_10_89_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_10_89_11&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_89_12_89_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_12_89_13&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">, </span><a href="#loc_89_14_89_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_14_89_15&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">]
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_86_1_86_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_5&#39;)"><span class="mpre">toBS</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_93_1_93_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_8&#39;)"><span class="mpre">getText</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Array.html#loc_91_6_91_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Array.html#loc_91_6_91_12&#39;)"><span class="hl_tyconref"><span class="mpre">A.MArray</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ST</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_93_1_93_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_8&#39;)"><span class="hl_fundecl"><span class="mpre">getText</span></span></a><span class="mpre"> </span><a name="loc_93_9_93_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_9_93_10&#39;)"><span class="hl_vardecl"><span class="mpre">j</span></span></a><span class="mpre"> </span><a name="loc_93_11_93_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_11_93_15&#39;)"><span class="hl_vardecl"><span class="mpre">marr</span></span></a><span class="mpre"> = do
    </span><a name="loc_94_5_94_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_5_94_8&#39;)"><span class="hl_vardecl"><span class="mpre">arr</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Text.Array.html#loc_133_1_133_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Array.html#loc_133_1_133_13&#39;)"><span class="hl_varref"><span class="mpre">A.unsafeFreeze</span></span></a><span class="mpre"> </span><a href="#loc_93_11_93_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_11_93_15&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_84_1_84_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_84_1_84_6&#39;)"><span class="hl_varref"><span class="mpre">textP</span></span></a><span class="mpre"> </span><a href="#loc_94_5_94_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_5_94_8&#39;)"><span class="hl_varref"><span class="mpre">arr</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="#loc_93_9_93_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_9_93_10&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_93_1_93_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_8&#39;)"><span class="mpre">getText</span></a><span class="mpre"> #-}</span></span><span class="mpre">

#include &quot;text_cbits.h&quot;

</span><span class="warning" data-warning="DeclForImp (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/streaming-commons-0.1.3/Data/Streaming/Text.hs&quot;, srcSpanStartLine = 100, srcSpanStartColumn = 1, srcSpanEndLine = 103, srcSpanEndColumn = 59}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/streaming-commons-0.1.3/Data/Streaming/Text.hs&quot;, srcSpanStartLine = 100, srcSpanStartColumn = 1, srcSpanEndLine = 100, srcSpanEndColumn = 8},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/streaming-commons-0.1.3/Data/Str"><span class="mpre">foreign import ccall unsafe &quot;_hs_streaming_commons_decode_utf8_state&quot; c_decode_utf8_with_state
    :: MutableByteArray# s -&gt; Ptr CSize
    -&gt; Ptr (Ptr Word8) -&gt; Ptr Word8
    -&gt; Ptr CodePoint -&gt; Ptr DecoderState -&gt; IO (Ptr Word8)</span></span><span class="mpre">

newtype </span><a name="loc_105_9_105_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_9_105_18&#39;)"><span class="hl_tycondecl"><span class="mpre">CodePoint</span></span></a><span class="mpre"> = </span><span class="hl_condecl"><span class="mpre">CodePoint</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word32</span></span><span class="mpre"> </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/streaming-commons-0.1.3/Data/Streaming/Text.hs&quot;, srcSpanStartLine = 105, srcSpanStartColumn = 38, srcSpanEndLine = 105, srcSpanEndColumn = 72}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/streaming-commons-0.1.3/Data/Streaming/Text.hs&quot;, srcSpanStartLine = 105, srcSpanStartColumn = 38, srcSpanEndLine = 105, srcSpanEndColumn = 46},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/streaming-commons-0.1.3/Dat"><span class="mpre">deriving (Eq, Show, Num, Storable)</span></span><span class="mpre">
newtype </span><a name="loc_106_9_106_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_9_106_21&#39;)"><span class="hl_tycondecl"><span class="mpre">DecoderState</span></span></a><span class="mpre"> = </span><span class="hl_condecl"><span class="mpre">DecoderState</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word32</span></span><span class="mpre"> </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/streaming-commons-0.1.3/Data/Streaming/Text.hs&quot;, srcSpanStartLine = 106, srcSpanStartColumn = 44, srcSpanEndLine = 106, srcSpanEndColumn = 78}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/streaming-commons-0.1.3/Data/Streaming/Text.hs&quot;, srcSpanStartLine = 106, srcSpanStartColumn = 44, srcSpanEndLine = 106, srcSpanEndColumn = 52},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/streaming-commons-0.1.3/Dat"><span class="mpre">deriving (Eq, Show, Num, Storable)</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Convert a lazy &#39;ByteString&#39; into a &#39;Stream Char&#39;, using</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- UTF-8 encoding.</span></span><span class="mpre">
</span><a href="#loc_111_1_111_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_1_111_11&#39;)"><span class="mpre">decodeUtf8</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_6_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_6_81_18&#39;)"><span class="hl_tyconref"><span class="mpre">DecodeResult</span></span></a><span class="mpre">
</span><a name="loc_111_1_111_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_1_111_11&#39;)"><span class="hl_vardecl"><span class="mpre">decodeUtf8</span></span></a><span class="mpre"> = </span><a href="#loc_123_3_123_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_3_123_14&#39;)"><span class="hl_varref"><span class="mpre">decodeChunk</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.empty</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
 where
  </span><a href="#loc_114_3_114_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_3_114_19&#39;)"><span class="mpre">decodeChunkCheck</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_105_9_105_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_9_105_18&#39;)"><span class="hl_tyconref"><span class="mpre">CodePoint</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_106_9_106_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_9_106_21&#39;)"><span class="hl_tyconref"><span class="mpre">DecoderState</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_6_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_6_81_18&#39;)"><span class="hl_tyconref"><span class="mpre">DecodeResult</span></span></a><span class="mpre">
  </span><a name="loc_114_3_114_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_3_114_19&#39;)"><span class="hl_fundecl"><span class="mpre">decodeChunkCheck</span></span></a><span class="mpre"> </span><a name="loc_114_20_114_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_20_114_25&#39;)"><span class="hl_vardecl"><span class="mpre">bsOld</span></span></a><span class="mpre"> </span><a name="loc_114_26_114_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_26_114_35&#39;)"><span class="hl_vardecl"><span class="mpre">codepoint</span></span></a><span class="mpre"> </span><a name="loc_114_36_114_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_36_114_41&#39;)"><span class="hl_vardecl"><span class="mpre">state</span></span></a><span class="mpre"> </span><a name="loc_114_42_114_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_42_114_44&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">B.null</span></span><span class="mpre"> </span><a href="#loc_114_42_114_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_42_114_44&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> =
        if </span><span class="hl_varref"><span class="mpre">B.null</span></span><span class="mpre"> </span><a href="#loc_114_20_114_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_20_114_25&#39;)"><span class="hl_varref"><span class="mpre">bsOld</span></span></a><span class="mpre">
            then </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre"> </span><a href="#loc_111_1_111_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_1_111_11&#39;)"><span class="hl_varref"><span class="mpre">decodeUtf8</span></span></a><span class="mpre">
            else </span><a href="#loc_83_7_83_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_7_83_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre"> </span><a href="#loc_114_20_114_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_20_114_25&#39;)"><span class="hl_varref"><span class="mpre">bsOld</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_123_3_123_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_3_123_14&#39;)"><span class="hl_varref"><span class="mpre">decodeChunk</span></span></a><span class="mpre"> </span><a href="#loc_114_20_114_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_20_114_25&#39;)"><span class="hl_varref"><span class="mpre">bsOld</span></span></a><span class="mpre"> </span><a href="#loc_114_26_114_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_26_114_35&#39;)"><span class="hl_varref"><span class="mpre">codepoint</span></span></a><span class="mpre"> </span><a href="#loc_114_36_114_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_36_114_41&#39;)"><span class="hl_varref"><span class="mpre">state</span></span></a><span class="mpre"> </span><a href="#loc_114_42_114_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_42_114_44&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- We create a slightly larger than necessary buffer to accommodate a</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- potential surrogate pair started in the last buffer</span></span><span class="mpre">
  </span><a href="#loc_123_3_123_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_3_123_14&#39;)"><span class="mpre">decodeChunk</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_105_9_105_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_9_105_18&#39;)"><span class="hl_tyconref"><span class="mpre">CodePoint</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_106_9_106_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_9_106_21&#39;)"><span class="hl_tyconref"><span class="mpre">DecoderState</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_6_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_6_81_18&#39;)"><span class="hl_tyconref"><span class="mpre">DecodeResult</span></span></a><span class="mpre">
  </span><a name="loc_123_3_123_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_3_123_14&#39;)"><span class="hl_fundecl"><span class="mpre">decodeChunk</span></span></a><span class="mpre"> </span><a name="loc_123_15_123_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_15_123_20&#39;)"><span class="hl_vardecl"><span class="mpre">bsOld</span></span></a><span class="mpre"> </span><a name="loc_123_21_123_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_21_123_31&#39;)"><span class="hl_vardecl"><span class="mpre">codepoint0</span></span></a><span class="mpre"> </span><a name="loc_123_32_123_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_32_123_38&#39;)"><span class="hl_vardecl"><span class="mpre">state0</span></span></a><span class="mpre"> </span><a name="loc_123_39_123_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_39_123_41&#39;)"><span class="hl_specname"><span class="mpre">bs</span></span></a><span class="mpre">@(</span><a href="Data.ByteString.Internal.html#loc_193_19_193_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_19_193_21&#39;)"><span class="hl_conref"><span class="mpre">PS</span></span></a><span class="mpre"> </span><a name="loc_123_46_123_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_46_123_48&#39;)"><span class="hl_vardecl"><span class="mpre">fp</span></span></a><span class="mpre"> </span><a name="loc_123_49_123_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_49_123_52&#39;)"><span class="hl_vardecl"><span class="mpre">off</span></span></a><span class="mpre"> </span><a name="loc_123_53_123_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_53_123_56&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre">) =
    </span><span class="hl_varref"><span class="mpre">runST</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> (</span><a href="GHC.IO.html#loc_100_1_100_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_100_1_100_13&#39;)"><span class="hl_varref"><span class="mpre">unsafeIOToST</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_127_5_127_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_5_127_24&#39;)"><span class="hl_varref"><span class="mpre">decodeChunkToBuffer</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">=&lt;&lt;</span></span><span class="mpre"> </span><a href="Data.Text.Array.html#loc_115_1_115_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Array.html#loc_115_1_115_4&#39;)"><span class="hl_varref"><span class="mpre">A.new</span></span></a><span class="mpre"> (</span><a href="#loc_123_53_123_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_53_123_56&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
   where
    </span><a href="#loc_127_5_127_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_5_127_24&#39;)"><span class="mpre">decodeChunkToBuffer</span></a><span class="mpre"> :: </span><a href="Data.Text.Array.html#loc_91_6_91_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Array.html#loc_91_6_91_12&#39;)"><span class="hl_tyconref"><span class="mpre">A.MArray</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="#loc_81_6_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_6_81_18&#39;)"><span class="hl_tyconref"><span class="mpre">DecodeResult</span></span></a><span class="mpre">
    </span><a name="loc_127_5_127_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_5_127_24&#39;)"><span class="hl_fundecl"><span class="mpre">decodeChunkToBuffer</span></span></a><span class="mpre"> </span><a name="loc_127_25_127_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_25_127_29&#39;)"><span class="hl_vardecl"><span class="mpre">dest</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">withForeignPtr</span></span><span class="mpre"> </span><a href="#loc_123_46_123_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_46_123_48&#39;)"><span class="hl_varref"><span class="mpre">fp</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_127_53_127_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_53_127_56&#39;)"><span class="hl_vardecl"><span class="mpre">ptr</span></span></a><span class="mpre"> -&gt;
      </span><a href="Foreign.Marshal.Utils.html#loc_84_1_84_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.Marshal.Utils.html#loc_84_1_84_5&#39;)"><span class="hl_varref"><span class="mpre">with</span></span></a><span class="mpre"> (</span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">::</span><span class="hl_tyconref"><span class="mpre">CSize</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_128_26_128_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_26_128_36&#39;)"><span class="hl_vardecl"><span class="mpre">destOffPtr</span></span></a><span class="mpre"> -&gt;
      </span><a href="Foreign.Marshal.Utils.html#loc_84_1_84_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.Marshal.Utils.html#loc_84_1_84_5&#39;)"><span class="hl_varref"><span class="mpre">with</span></span></a><span class="mpre"> </span><a href="#loc_123_21_123_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_21_123_31&#39;)"><span class="hl_varref"><span class="mpre">codepoint0</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_129_26_129_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_26_129_38&#39;)"><span class="hl_vardecl"><span class="mpre">codepointPtr</span></span></a><span class="mpre"> -&gt;
      </span><a href="Foreign.Marshal.Utils.html#loc_84_1_84_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.Marshal.Utils.html#loc_84_1_84_5&#39;)"><span class="hl_varref"><span class="mpre">with</span></span></a><span class="mpre"> </span><a href="#loc_123_32_123_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_32_123_38&#39;)"><span class="hl_varref"><span class="mpre">state0</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_130_22_130_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_22_130_30&#39;)"><span class="hl_vardecl"><span class="mpre">statePtr</span></span></a><span class="mpre"> -&gt;
      </span><a href="Foreign.Marshal.Utils.html#loc_84_1_84_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.Marshal.Utils.html#loc_84_1_84_5&#39;)"><span class="hl_varref"><span class="mpre">with</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">nullPtr</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_131_23_131_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_23_131_32&#39;)"><span class="hl_vardecl"><span class="mpre">curPtrPtr</span></span></a><span class="mpre"> -&gt;
        let </span><a name="loc_132_13_132_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_13_132_16&#39;)"><span class="hl_vardecl"><span class="mpre">end</span></span></a><span class="mpre"> = </span><a href="#loc_127_53_127_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_53_127_56&#39;)"><span class="hl_varref"><span class="mpre">ptr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`plusPtr`</span></span><span class="mpre"> (</span><a href="#loc_123_49_123_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_49_123_52&#39;)"><span class="hl_varref"><span class="mpre">off</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_123_53_123_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_53_123_56&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">)
            </span><a name="loc_133_13_133_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_13_133_17&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a name="loc_133_18_133_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_18_133_24&#39;)"><span class="hl_vardecl"><span class="mpre">curPtr</span></span></a><span class="mpre"> = do
              </span><span class="hl_varref"><span class="mpre">poke</span></span><span class="mpre"> </span><a href="#loc_131_23_131_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_23_131_32&#39;)"><span class="hl_varref"><span class="mpre">curPtrPtr</span></span></a><span class="mpre"> </span><a href="#loc_133_18_133_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_18_133_24&#39;)"><span class="hl_varref"><span class="mpre">curPtr</span></span></a><span class="mpre">
              _ &lt;- </span><span class="hl_varref"><span class="mpre">c_decode_utf8_with_state</span></span><span class="mpre"> (</span><a href="Data.Text.Array.html#loc_92_7_92_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Array.html#loc_92_7_92_11&#39;)"><span class="hl_varref"><span class="mpre">A.maBA</span></span></a><span class="mpre"> </span><a href="#loc_127_25_127_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_25_127_29&#39;)"><span class="hl_varref"><span class="mpre">dest</span></span></a><span class="mpre">) </span><a href="#loc_128_26_128_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_26_128_36&#39;)"><span class="hl_varref"><span class="mpre">destOffPtr</span></span></a><span class="mpre">
                         </span><a href="#loc_131_23_131_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_23_131_32&#39;)"><span class="hl_varref"><span class="mpre">curPtrPtr</span></span></a><span class="mpre"> </span><a href="#loc_132_13_132_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_13_132_16&#39;)"><span class="hl_varref"><span class="mpre">end</span></span></a><span class="mpre"> </span><a href="#loc_129_26_129_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_26_129_38&#39;)"><span class="hl_varref"><span class="mpre">codepointPtr</span></span></a><span class="mpre"> </span><a href="#loc_130_22_130_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_22_130_30&#39;)"><span class="hl_varref"><span class="mpre">statePtr</span></span></a><span class="mpre">
              </span><a name="loc_137_15_137_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_15_137_20&#39;)"><span class="hl_vardecl"><span class="mpre">state</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">peek</span></span><span class="mpre"> </span><a href="#loc_130_22_130_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_22_130_30&#39;)"><span class="hl_varref"><span class="mpre">statePtr</span></span></a><span class="mpre">
              </span><a name="loc_138_15_138_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_15_138_16&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">peek</span></span><span class="mpre"> </span><a href="#loc_128_26_128_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_128_26_128_36&#39;)"><span class="hl_varref"><span class="mpre">destOffPtr</span></span></a><span class="mpre">
              </span><a name="loc_139_15_139_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_15_139_24&#39;)"><span class="hl_vardecl"><span class="mpre">chunkText</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.html#loc_103_1_103_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_103_1_103_13&#39;)"><span class="hl_varref"><span class="mpre">unsafeSTToIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
                  </span><a name="loc_140_19_140_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_19_140_22&#39;)"><span class="hl_vardecl"><span class="mpre">arr</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Text.Array.html#loc_133_1_133_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Array.html#loc_133_1_133_13&#39;)"><span class="hl_varref"><span class="mpre">A.unsafeFreeze</span></span></a><span class="mpre"> </span><a href="#loc_127_25_127_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_25_127_29&#39;)"><span class="hl_varref"><span class="mpre">dest</span></span></a><span class="mpre">
                  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_84_1_84_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_84_1_84_6&#39;)"><span class="hl_varref"><span class="mpre">textP</span></span></a><span class="mpre"> </span><a href="#loc_140_19_140_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_19_140_22&#39;)"><span class="hl_varref"><span class="mpre">arr</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_138_15_138_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_15_138_16&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
              </span><a name="loc_142_15_142_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_15_142_22&#39;)"><span class="hl_vardecl"><span class="mpre">lastPtr</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">peek</span></span><span class="mpre"> </span><a href="#loc_131_23_131_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_23_131_32&#39;)"><span class="hl_varref"><span class="mpre">curPtrPtr</span></span></a><span class="mpre">
              let </span><a name="loc_143_19_143_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_19_143_23&#39;)"><span class="hl_vardecl"><span class="mpre">left</span></span></a><span class="mpre"> = </span><a href="#loc_142_15_142_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_15_142_22&#39;)"><span class="hl_varref"><span class="mpre">lastPtr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`minusPtr`</span></span><span class="mpre"> </span><a href="#loc_133_18_133_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_18_133_24&#39;)"><span class="hl_varref"><span class="mpre">curPtr</span></span></a><span class="mpre">
                  </span><span class="hl_comment"><span class="mpre">-- The logic here is: if any text was generated, then the</span></span><span class="mpre">
                  </span><span class="hl_comment"><span class="mpre">-- previous leftovers were completely consumed already.</span></span><span class="mpre">
                  </span><span class="hl_comment"><span class="mpre">-- If no text was generated, then any leftovers from the</span></span><span class="mpre">
                  </span><span class="hl_comment"><span class="mpre">-- previous step are still leftovers now.</span></span><span class="mpre">
                  </span><a name="loc_148_19_148_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_19_148_25&#39;)"><span class="hl_vardecl"><span class="mpre">unused</span></span></a><span class="mpre">
                    | </span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Text.html#loc_531_1_531_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_531_1_531_5&#39;)"><span class="hl_varref"><span class="mpre">T.null</span></span></a><span class="mpre"> </span><a href="#loc_139_15_139_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_15_139_24&#39;)"><span class="hl_varref"><span class="mpre">chunkText</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_148_1_148_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_148_1_148_11&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeDrop</span></span></a><span class="mpre"> </span><a href="#loc_143_19_143_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_19_143_23&#39;)"><span class="hl_varref"><span class="mpre">left</span></span></a><span class="mpre"> </span><a href="#loc_123_39_123_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_39_123_41&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
                    | </span><span class="hl_varref"><span class="mpre">B.null</span></span><span class="mpre"> </span><a href="#loc_123_15_123_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_15_123_20&#39;)"><span class="hl_varref"><span class="mpre">bsOld</span></span></a><span class="mpre"> = </span><a href="#loc_123_39_123_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_39_123_41&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
                    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">B.append</span></span><span class="mpre"> </span><a href="#loc_123_15_123_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_15_123_20&#39;)"><span class="hl_varref"><span class="mpre">bsOld</span></span></a><span class="mpre"> </span><a href="#loc_123_39_123_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_39_123_41&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
              case </span><a href="#loc_148_19_148_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_19_148_25&#39;)"><span class="hl_varref"><span class="mpre">unused</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`seq`</span></span><span class="mpre"> </span><a href="#loc_137_15_137_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_15_137_20&#39;)"><span class="hl_varref"><span class="mpre">state</span></span></a><span class="mpre"> of
                </span><span class="hl_conref"><span class="mpre">UTF8_REJECT</span></span><span class="mpre"> -&gt;
                  </span><span class="hl_comment"><span class="mpre">-- We encountered an encoding error</span></span><span class="mpre">
                  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_83_7_83_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_7_83_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> </span><a href="#loc_139_15_139_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_15_139_24&#39;)"><span class="hl_varref"><span class="mpre">chunkText</span></span></a><span class="mpre"> </span><a href="#loc_148_19_148_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_19_148_25&#39;)"><span class="hl_varref"><span class="mpre">unused</span></span></a><span class="mpre">
                _ -&gt; do
                  </span><a name="loc_157_19_157_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_19_157_28&#39;)"><span class="hl_vardecl"><span class="mpre">codepoint</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">peek</span></span><span class="mpre"> </span><a href="#loc_129_26_129_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_26_129_38&#39;)"><span class="hl_varref"><span class="mpre">codepointPtr</span></span></a><span class="mpre">
                  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="#loc_139_15_139_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_15_139_24&#39;)"><span class="hl_varref"><span class="mpre">chunkText</span></span></a><span class="mpre">
                         </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_114_3_114_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_3_114_19&#39;)"><span class="hl_varref"><span class="mpre">decodeChunkCheck</span></span></a><span class="mpre"> </span><a href="#loc_148_19_148_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_19_148_25&#39;)"><span class="hl_varref"><span class="mpre">unused</span></span></a><span class="mpre"> </span><a href="#loc_157_19_157_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_19_157_28&#39;)"><span class="hl_varref"><span class="mpre">codepoint</span></span></a><span class="mpre"> </span><a href="#loc_137_15_137_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_15_137_20&#39;)"><span class="hl_varref"><span class="mpre">state</span></span></a><span class="mpre">
        in </span><a href="#loc_133_13_133_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_13_133_17&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> (</span><a href="#loc_127_53_127_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_53_127_56&#39;)"><span class="hl_varref"><span class="mpre">ptr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`plusPtr`</span></span><span class="mpre"> </span><a href="#loc_123_49_123_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_49_123_52&#39;)"><span class="hl_varref"><span class="mpre">off</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Convert a lazy &#39;ByteString&#39; into a &#39;Stream Char&#39;, using</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- UTF-8 encoding.</span></span><span class="mpre">
</span><a href="#loc_165_1_165_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_1_165_15&#39;)"><span class="mpre">decodeUtf8Pure</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_6_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_6_81_18&#39;)"><span class="hl_tyconref"><span class="mpre">DecodeResult</span></span></a><span class="mpre">
</span><a name="loc_165_1_165_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_1_165_15&#39;)"><span class="hl_vardecl"><span class="mpre">decodeUtf8Pure</span></span></a><span class="mpre"> =
    </span><a href="#loc_169_5_169_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_5_169_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre">
  where
    </span><a href="#loc_169_5_169_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_5_169_15&#39;)"><span class="mpre">beginChunk</span></a><span class="mpre"> :: </span><a href="#loc_75_6_75_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_6_75_7&#39;)"><span class="hl_tyconref"><span class="mpre">S</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_6_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_6_81_18&#39;)"><span class="hl_tyconref"><span class="mpre">DecodeResult</span></span></a><span class="mpre">
    </span><a name="loc_169_5_169_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_5_169_15&#39;)"><span class="hl_fundecl"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a name="loc_169_16_169_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_16_169_17&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> </span><a name="loc_169_18_169_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_18_169_20&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> | </span><span class="hl_varref"><span class="mpre">B.null</span></span><span class="mpre"> </span><a href="#loc_169_18_169_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_18_169_20&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> =
        case </span><a href="#loc_169_16_169_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_16_169_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
            </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre"> (</span><a href="#loc_169_5_169_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_5_169_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre">)
            _  -&gt; </span><a href="#loc_83_7_83_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_7_83_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_86_1_86_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_5&#39;)"><span class="hl_varref"><span class="mpre">toBS</span></span></a><span class="mpre"> </span><a href="#loc_169_16_169_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_16_169_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
    </span><a href="#loc_169_5_169_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_5_169_15&#39;)"><span class="hl_fundecl"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a name="loc_173_16_173_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_16_173_18&#39;)"><span class="hl_vardecl"><span class="mpre">s0</span></span></a><span class="mpre"> </span><a name="loc_173_19_173_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_19_173_21&#39;)"><span class="hl_vardecl"><span class="mpre">ps</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">runST</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        let </span><a name="loc_174_13_174_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_13_174_20&#39;)"><span class="hl_vardecl"><span class="mpre">initLen</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">B.length</span></span><span class="mpre"> </span><a href="#loc_173_19_173_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_19_173_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">
        </span><a name="loc_175_9_175_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_9_175_13&#39;)"><span class="hl_vardecl"><span class="mpre">marr</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Text.Array.html#loc_115_1_115_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Array.html#loc_115_1_115_4&#39;)"><span class="hl_varref"><span class="mpre">A.new</span></span></a><span class="mpre"> (</span><a href="#loc_174_13_174_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_13_174_20&#39;)"><span class="hl_varref"><span class="mpre">initLen</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
        let </span><a name="loc_176_13_176_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_13_176_18&#39;)"><span class="hl_fundecl"><span class="mpre">start</span></span></a><span class="mpre"> !</span><a name="loc_176_20_176_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_20_176_21&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> !</span><a name="loc_176_23_176_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_23_176_24&#39;)"><span class="hl_vardecl"><span class="mpre">j</span></span></a><span class="mpre">
                | </span><a href="#loc_176_20_176_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_20_176_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_224_9_224_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_224_9_224_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = do
                    </span><a name="loc_178_21_178_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_21_178_22&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_93_1_93_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_8&#39;)"><span class="hl_varref"><span class="mpre">getText</span></span></a><span class="mpre"> </span><a href="#loc_176_23_176_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_23_176_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_175_9_175_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_9_175_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre">
                    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="#loc_178_21_178_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_21_178_22&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="#loc_169_5_169_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_5_169_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre">)
                |                </span><a href="Data.Text.Internal.Encoding.Utf8.html#loc_129_1_129_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf8.html#loc_129_1_129_10&#39;)"><span class="hl_varref"><span class="mpre">U8.validate1</span></span></a><span class="mpre"> </span><a href="#loc_191_21_191_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_21_191_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">       = </span><a href="#loc_195_21_195_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_21_195_29&#39;)"><span class="hl_varref"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre"> (</span><a href="Data.Text.Internal.Unsafe.Char.html#loc_48_1_48_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_48_1_48_11&#39;)"><span class="hl_varref"><span class="mpre">unsafeChr8</span></span></a><span class="mpre"> </span><a href="#loc_191_21_191_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_21_191_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
                | </span><a href="#loc_176_20_176_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_20_176_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_224_9_224_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_224_9_224_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Encoding.Utf8.html#loc_133_1_133_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf8.html#loc_133_1_133_10&#39;)"><span class="hl_varref"><span class="mpre">U8.validate2</span></span></a><span class="mpre"> </span><a href="#loc_191_21_191_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_21_191_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_192_21_192_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_21_192_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">     = </span><a href="#loc_195_21_195_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_21_195_29&#39;)"><span class="hl_varref"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre"> (</span><a href="Data.Text.Internal.Encoding.Utf8.html#loc_95_1_95_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf8.html#loc_95_1_95_5&#39;)"><span class="hl_varref"><span class="mpre">U8.chr2</span></span></a><span class="mpre"> </span><a href="#loc_191_21_191_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_21_191_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_192_21_192_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_21_192_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
                | </span><a href="#loc_176_20_176_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_20_176_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_224_9_224_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_224_9_224_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Encoding.Utf8.html#loc_138_1_138_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf8.html#loc_138_1_138_10&#39;)"><span class="hl_varref"><span class="mpre">U8.validate3</span></span></a><span class="mpre"> </span><a href="#loc_191_21_191_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_21_191_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_192_21_192_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_21_192_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_193_21_193_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_21_193_22&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">   = </span><a href="#loc_195_21_195_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_21_195_29&#39;)"><span class="hl_varref"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre"> (</span><a href="Data.Text.Internal.Encoding.Utf8.html#loc_104_1_104_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf8.html#loc_104_1_104_5&#39;)"><span class="hl_varref"><span class="mpre">U8.chr3</span></span></a><span class="mpre"> </span><a href="#loc_191_21_191_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_21_191_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_192_21_192_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_21_192_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_193_21_193_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_21_193_22&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">)
                | </span><a href="#loc_176_20_176_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_20_176_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_224_9_224_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_224_9_224_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Encoding.Utf8.html#loc_155_1_155_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf8.html#loc_155_1_155_10&#39;)"><span class="hl_varref"><span class="mpre">U8.validate4</span></span></a><span class="mpre"> </span><a href="#loc_191_21_191_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_21_191_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_192_21_192_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_21_192_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_193_21_193_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_21_193_22&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_194_21_194_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_21_194_22&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre"> = </span><a href="#loc_195_21_195_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_21_195_29&#39;)"><span class="hl_varref"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre"> (</span><a href="Data.Text.Internal.Encoding.Utf8.html#loc_115_1_115_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf8.html#loc_115_1_115_5&#39;)"><span class="hl_varref"><span class="mpre">U8.chr4</span></span></a><span class="mpre"> </span><a href="#loc_191_21_191_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_21_191_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_192_21_192_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_21_192_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_193_21_193_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_21_193_22&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_194_21_194_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_21_194_22&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre">)
                | </span><a href="#loc_176_20_176_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_20_176_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_224_9_224_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_224_9_224_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = do
                    </span><a name="loc_185_21_185_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_21_185_22&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_93_1_93_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_8&#39;)"><span class="hl_varref"><span class="mpre">getText</span></span></a><span class="mpre"> </span><a href="#loc_176_23_176_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_23_176_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_175_9_175_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_9_175_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre">
                    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_83_7_83_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_7_83_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> </span><a href="#loc_185_21_185_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_21_185_22&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="Data.ByteString.Unsafe.html#loc_148_1_148_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_148_1_148_11&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeDrop</span></span></a><span class="mpre"> </span><a href="#loc_176_20_176_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_20_176_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_173_19_173_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_19_173_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">)
                | </span><a href="#loc_176_20_176_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_20_176_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_224_9_224_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_224_9_224_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = </span><a href="#loc_198_21_198_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_21_198_29&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="#loc_78_10_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_10_78_12&#39;)"><span class="hl_conref"><span class="mpre">S3</span></span></a><span class="mpre"> </span><a href="#loc_191_21_191_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_21_191_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_192_21_192_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_21_192_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_193_21_193_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_21_193_22&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">)
                | </span><a href="#loc_176_20_176_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_20_176_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_224_9_224_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_224_9_224_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = </span><a href="#loc_198_21_198_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_21_198_29&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="#loc_77_10_77_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_12&#39;)"><span class="hl_conref"><span class="mpre">S2</span></span></a><span class="mpre"> </span><a href="#loc_191_21_191_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_21_191_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_192_21_192_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_21_192_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
                | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">   = </span><a href="#loc_198_21_198_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_21_198_29&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="#loc_76_10_76_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_10_76_12&#39;)"><span class="hl_conref"><span class="mpre">S1</span></span></a><span class="mpre"> </span><a href="#loc_191_21_191_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_21_191_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
                  where
                    </span><a name="loc_191_21_191_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_21_191_22&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_173_19_173_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_19_173_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> </span><a href="#loc_176_20_176_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_20_176_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">
                    </span><a name="loc_192_21_192_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_192_21_192_22&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_173_19_173_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_19_173_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> (</span><a href="#loc_176_20_176_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_20_176_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
                    </span><a name="loc_193_21_193_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_21_193_22&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_173_19_173_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_19_173_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> (</span><a href="#loc_176_20_176_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_20_176_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">)
                    </span><a name="loc_194_21_194_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_21_194_22&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_173_19_173_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_19_173_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> (</span><a href="#loc_176_20_176_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_20_176_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">)
                    </span><a name="loc_195_21_195_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_21_195_29&#39;)"><span class="hl_fundecl"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> </span><a name="loc_195_30_195_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_30_195_36&#39;)"><span class="hl_vardecl"><span class="mpre">deltai</span></span></a><span class="mpre"> </span><a name="loc_195_37_195_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_37_195_41&#39;)"><span class="hl_vardecl"><span class="mpre">char</span></span></a><span class="mpre"> = do
                        </span><a name="loc_196_25_196_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_25_196_31&#39;)"><span class="hl_vardecl"><span class="mpre">deltaj</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12&#39;)"><span class="hl_varref"><span class="mpre">unsafeWrite</span></span></a><span class="mpre"> </span><a href="#loc_175_9_175_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_9_175_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre"> </span><a href="#loc_176_23_176_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_23_176_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_195_37_195_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_37_195_41&#39;)"><span class="hl_varref"><span class="mpre">char</span></span></a><span class="mpre">
                        </span><a href="#loc_176_13_176_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_13_176_18&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre"> (</span><a href="#loc_176_20_176_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_20_176_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_195_30_195_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_30_195_36&#39;)"><span class="hl_varref"><span class="mpre">deltai</span></span></a><span class="mpre">) (</span><a href="#loc_176_23_176_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_23_176_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_196_25_196_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_25_196_31&#39;)"><span class="hl_varref"><span class="mpre">deltaj</span></span></a><span class="mpre">)
                    </span><a name="loc_198_21_198_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_21_198_29&#39;)"><span class="hl_fundecl"><span class="mpre">continue</span></span></a><span class="mpre"> </span><a name="loc_198_30_198_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_30_198_31&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = do
                        </span><a name="loc_199_25_199_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_199_25_199_26&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_93_1_93_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_8&#39;)"><span class="hl_varref"><span class="mpre">getText</span></span></a><span class="mpre"> </span><a href="#loc_176_23_176_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_23_176_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_175_9_175_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_9_175_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre">
                        </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="#loc_199_25_199_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_199_25_199_26&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="#loc_169_5_169_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_5_169_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_198_30_198_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_30_198_31&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)

            </span><a name="loc_202_13_202_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_13_202_22&#39;)"><span class="hl_fundecl"><span class="mpre">checkCont</span></span></a><span class="mpre"> </span><a name="loc_202_23_202_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_23_202_24&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> !</span><a name="loc_202_26_202_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_26_202_27&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> | </span><a href="#loc_202_26_202_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_26_202_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_224_9_224_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_224_9_224_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre"> (</span><a href="#loc_169_5_169_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_5_169_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_202_23_202_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_23_202_24&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
            </span><a href="#loc_202_13_202_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_13_202_22&#39;)"><span class="hl_fundecl"><span class="mpre">checkCont</span></span></a><span class="mpre"> </span><a name="loc_203_23_203_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_23_203_24&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> !</span><a name="loc_203_26_203_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_26_203_27&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> =
                case </span><a href="#loc_203_23_203_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_23_203_24&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
                    </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_176_13_176_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_13_176_18&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre"> </span><a href="#loc_203_26_203_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_26_203_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
                    </span><a href="#loc_76_10_76_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_10_76_12&#39;)"><span class="hl_conref"><span class="mpre">S1</span></span></a><span class="mpre"> </span><a name="loc_206_24_206_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_24_206_25&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">
                        | </span><a href="Data.Text.Internal.Encoding.Utf8.html#loc_133_1_133_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf8.html#loc_133_1_133_10&#39;)"><span class="hl_varref"><span class="mpre">U8.validate2</span></span></a><span class="mpre"> </span><a href="#loc_206_24_206_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_24_206_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_217_17_217_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_17_217_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">     -&gt; </span><a href="#loc_218_17_218_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_17_218_25&#39;)"><span class="hl_varref"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Encoding.Utf8.html#loc_95_1_95_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf8.html#loc_95_1_95_5&#39;)"><span class="hl_varref"><span class="mpre">U8.chr2</span></span></a><span class="mpre"> </span><a href="#loc_206_24_206_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_24_206_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_217_17_217_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_17_217_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)
                        | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">            -&gt; </span><a href="#loc_202_13_202_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_13_202_22&#39;)"><span class="hl_varref"><span class="mpre">checkCont</span></span></a><span class="mpre"> (</span><a href="#loc_77_10_77_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_12&#39;)"><span class="hl_conref"><span class="mpre">S2</span></span></a><span class="mpre"> </span><a href="#loc_206_24_206_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_24_206_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_217_17_217_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_17_217_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) (</span><a href="#loc_203_26_203_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_26_203_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
                    </span><a href="#loc_77_10_77_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_12&#39;)"><span class="hl_conref"><span class="mpre">S2</span></span></a><span class="mpre"> </span><a name="loc_209_24_209_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_24_209_25&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_209_26_209_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_26_209_27&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">
                        | </span><a href="Data.Text.Internal.Encoding.Utf8.html#loc_138_1_138_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf8.html#loc_138_1_138_10&#39;)"><span class="hl_varref"><span class="mpre">U8.validate3</span></span></a><span class="mpre"> </span><a href="#loc_209_24_209_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_24_209_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_209_26_209_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_26_209_27&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_217_17_217_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_17_217_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">   -&gt; </span><a href="#loc_218_17_218_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_17_218_25&#39;)"><span class="hl_varref"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Encoding.Utf8.html#loc_104_1_104_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf8.html#loc_104_1_104_5&#39;)"><span class="hl_varref"><span class="mpre">U8.chr3</span></span></a><span class="mpre"> </span><a href="#loc_209_24_209_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_24_209_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_209_26_209_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_26_209_27&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_217_17_217_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_17_217_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)
                        | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">            -&gt; </span><a href="#loc_202_13_202_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_13_202_22&#39;)"><span class="hl_varref"><span class="mpre">checkCont</span></span></a><span class="mpre"> (</span><a href="#loc_78_10_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_10_78_12&#39;)"><span class="hl_conref"><span class="mpre">S3</span></span></a><span class="mpre"> </span><a href="#loc_209_24_209_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_24_209_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_209_26_209_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_26_209_27&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_217_17_217_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_17_217_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) (</span><a href="#loc_203_26_203_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_26_203_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
                    </span><a href="#loc_78_10_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_10_78_12&#39;)"><span class="hl_conref"><span class="mpre">S3</span></span></a><span class="mpre"> </span><a name="loc_212_24_212_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_24_212_25&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_212_26_212_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_26_212_27&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> </span><a name="loc_212_28_212_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_28_212_29&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">
                        | </span><a href="Data.Text.Internal.Encoding.Utf8.html#loc_155_1_155_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf8.html#loc_155_1_155_10&#39;)"><span class="hl_varref"><span class="mpre">U8.validate4</span></span></a><span class="mpre"> </span><a href="#loc_212_24_212_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_24_212_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_212_26_212_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_26_212_27&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_212_28_212_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_28_212_29&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_217_17_217_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_17_217_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_218_17_218_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_17_218_25&#39;)"><span class="hl_varref"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Encoding.Utf8.html#loc_115_1_115_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf8.html#loc_115_1_115_5&#39;)"><span class="hl_varref"><span class="mpre">U8.chr4</span></span></a><span class="mpre"> </span><a href="#loc_212_24_212_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_24_212_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_212_26_212_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_26_212_27&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_212_28_212_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_28_212_29&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_217_17_217_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_17_217_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)
                    _ -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_83_7_83_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_7_83_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre">
                                </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.append</span></span><span class="mpre"> (</span><a href="#loc_86_1_86_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_5&#39;)"><span class="hl_varref"><span class="mpre">toBS</span></span></a><span class="mpre"> </span><a href="#loc_203_23_203_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_23_203_24&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">) (</span><a href="Data.ByteString.Unsafe.html#loc_148_1_148_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_148_1_148_11&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeDrop</span></span></a><span class="mpre"> </span><a href="#loc_203_26_203_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_26_203_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_173_19_173_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_19_173_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">)
              where
                </span><a name="loc_217_17_217_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_17_217_18&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_173_19_173_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_19_173_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> </span><a href="#loc_203_26_203_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_26_203_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">
                </span><a name="loc_218_17_218_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_17_218_25&#39;)"><span class="hl_fundecl"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> </span><a name="loc_218_26_218_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_26_218_27&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = do
                    </span><a name="loc_219_21_219_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_219_21_219_22&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12&#39;)"><span class="hl_varref"><span class="mpre">unsafeWrite</span></span></a><span class="mpre"> </span><a href="#loc_175_9_175_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_9_175_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="#loc_218_26_218_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_26_218_27&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
                    </span><a href="#loc_176_13_176_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_13_176_18&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre"> (</span><a href="#loc_203_26_203_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_26_203_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><a href="#loc_219_21_219_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_219_21_219_22&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre">

        </span><a href="#loc_202_13_202_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_13_202_22&#39;)"><span class="hl_varref"><span class="mpre">checkCont</span></span></a><span class="mpre"> </span><a href="#loc_173_16_173_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_16_173_18&#39;)"><span class="hl_varref"><span class="mpre">s0</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
      where
        </span><a name="loc_224_9_224_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_224_9_224_12&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">B.length</span></span><span class="mpre"> </span><a href="#loc_173_19_173_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_19_173_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">
    </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_169_5_169_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_5_169_15&#39;)"><span class="mpre">beginChunk</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Convert a &#39;ByteString&#39; into a &#39;Stream Char&#39;, using little</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- endian UTF-16 encoding.</span></span><span class="mpre">
</span><a href="#loc_230_1_230_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_1_230_14&#39;)"><span class="mpre">decodeUtf16LE</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_6_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_6_81_18&#39;)"><span class="hl_tyconref"><span class="mpre">DecodeResult</span></span></a><span class="mpre">
</span><a name="loc_230_1_230_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_1_230_14&#39;)"><span class="hl_vardecl"><span class="mpre">decodeUtf16LE</span></span></a><span class="mpre"> =
    </span><a href="#loc_234_5_234_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_5_234_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre">
  where
    </span><a href="#loc_234_5_234_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_5_234_15&#39;)"><span class="mpre">beginChunk</span></a><span class="mpre"> :: </span><a href="#loc_75_6_75_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_6_75_7&#39;)"><span class="hl_tyconref"><span class="mpre">S</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_6_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_6_81_18&#39;)"><span class="hl_tyconref"><span class="mpre">DecodeResult</span></span></a><span class="mpre">
    </span><a name="loc_234_5_234_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_5_234_15&#39;)"><span class="hl_fundecl"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a name="loc_234_16_234_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_16_234_17&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> </span><a name="loc_234_18_234_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_18_234_20&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> | </span><span class="hl_varref"><span class="mpre">B.null</span></span><span class="mpre"> </span><a href="#loc_234_18_234_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_18_234_20&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> =
        case </span><a href="#loc_234_16_234_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_16_234_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
            </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre"> (</span><a href="#loc_234_5_234_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_5_234_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre">)
            _  -&gt; </span><a href="#loc_83_7_83_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_7_83_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_86_1_86_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_5&#39;)"><span class="hl_varref"><span class="mpre">toBS</span></span></a><span class="mpre"> </span><a href="#loc_234_16_234_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_16_234_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
    </span><a href="#loc_234_5_234_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_5_234_15&#39;)"><span class="hl_fundecl"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a name="loc_238_16_238_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_16_238_18&#39;)"><span class="hl_vardecl"><span class="mpre">s0</span></span></a><span class="mpre"> </span><a name="loc_238_19_238_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_19_238_21&#39;)"><span class="hl_vardecl"><span class="mpre">ps</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">runST</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        let </span><a name="loc_239_13_239_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_13_239_20&#39;)"><span class="hl_vardecl"><span class="mpre">initLen</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">B.length</span></span><span class="mpre"> </span><a href="#loc_238_19_238_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_19_238_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">
        </span><a name="loc_240_9_240_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_9_240_13&#39;)"><span class="hl_vardecl"><span class="mpre">marr</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Text.Array.html#loc_115_1_115_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Array.html#loc_115_1_115_4&#39;)"><span class="hl_varref"><span class="mpre">A.new</span></span></a><span class="mpre"> (</span><a href="#loc_239_13_239_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_13_239_20&#39;)"><span class="hl_varref"><span class="mpre">initLen</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
        let </span><a name="loc_241_13_241_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_13_241_18&#39;)"><span class="hl_fundecl"><span class="mpre">start</span></span></a><span class="mpre"> !</span><a name="loc_241_20_241_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_20_241_21&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> !</span><a name="loc_241_23_241_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_23_241_24&#39;)"><span class="hl_vardecl"><span class="mpre">j</span></span></a><span class="mpre">
                | </span><a href="#loc_241_20_241_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_20_241_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_292_9_292_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_9_292_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = do
                    </span><a name="loc_243_21_243_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_243_21_243_22&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_93_1_93_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_8&#39;)"><span class="hl_varref"><span class="mpre">getText</span></span></a><span class="mpre"> </span><a href="#loc_241_23_241_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_23_241_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_240_9_240_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_9_240_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre">
                    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="#loc_243_21_243_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_243_21_243_22&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="#loc_234_5_234_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_5_234_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre">)
                | </span><a href="#loc_241_20_241_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_20_241_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_292_9_292_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_9_292_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Encoding.Utf16.html#loc_39_1_39_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf16.html#loc_39_1_39_10&#39;)"><span class="hl_varref"><span class="mpre">U16.validate1</span></span></a><span class="mpre"> </span><a href="#loc_258_21_258_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_258_21_258_23&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre">    = </span><a href="#loc_260_21_260_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_21_260_29&#39;)"><span class="hl_varref"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre"> (</span><a href="Data.Text.Internal.Unsafe.Char.html#loc_44_1_44_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_44_1_44_10&#39;)"><span class="hl_varref"><span class="mpre">unsafeChr</span></span></a><span class="mpre"> </span><a href="#loc_258_21_258_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_258_21_258_23&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre">)
                | </span><a href="#loc_241_20_241_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_20_241_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_292_9_292_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_9_292_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Encoding.Utf16.html#loc_43_1_43_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf16.html#loc_43_1_43_10&#39;)"><span class="hl_varref"><span class="mpre">U16.validate2</span></span></a><span class="mpre"> </span><a href="#loc_258_21_258_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_258_21_258_23&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre"> </span><a href="#loc_259_21_259_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_259_21_259_23&#39;)"><span class="hl_varref"><span class="mpre">x2</span></span></a><span class="mpre"> = </span><a href="#loc_260_21_260_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_21_260_29&#39;)"><span class="hl_varref"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre"> (</span><a href="Data.Text.Internal.Encoding.Utf16.html#loc_30_1_30_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf16.html#loc_30_1_30_5&#39;)"><span class="hl_varref"><span class="mpre">U16.chr2</span></span></a><span class="mpre"> </span><a href="#loc_258_21_258_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_258_21_258_23&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre"> </span><a href="#loc_259_21_259_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_259_21_259_23&#39;)"><span class="hl_varref"><span class="mpre">x2</span></span></a><span class="mpre">)
                | </span><a href="#loc_241_20_241_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_20_241_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_292_9_292_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_9_292_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = do
                    </span><a name="loc_248_21_248_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_21_248_22&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_93_1_93_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_8&#39;)"><span class="hl_varref"><span class="mpre">getText</span></span></a><span class="mpre"> </span><a href="#loc_241_23_241_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_23_241_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_240_9_240_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_9_240_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre">
                    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_83_7_83_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_7_83_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> </span><a href="#loc_248_21_248_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_21_248_22&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="Data.ByteString.Unsafe.html#loc_148_1_148_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_148_1_148_11&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeDrop</span></span></a><span class="mpre"> </span><a href="#loc_241_20_241_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_20_241_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_238_19_238_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_19_238_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">)
                | </span><a href="#loc_241_20_241_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_20_241_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_292_9_292_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_9_292_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = </span><a href="#loc_263_21_263_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_263_21_263_29&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="#loc_78_10_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_10_78_12&#39;)"><span class="hl_conref"><span class="mpre">S3</span></span></a><span class="mpre"> </span><a href="#loc_254_21_254_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_21_254_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_255_21_255_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_21_255_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_256_21_256_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_256_21_256_22&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">)
                | </span><a href="#loc_241_20_241_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_20_241_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_292_9_292_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_9_292_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = </span><a href="#loc_263_21_263_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_263_21_263_29&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="#loc_77_10_77_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_12&#39;)"><span class="hl_conref"><span class="mpre">S2</span></span></a><span class="mpre"> </span><a href="#loc_254_21_254_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_21_254_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_255_21_255_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_21_255_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
                | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">   = </span><a href="#loc_263_21_263_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_263_21_263_29&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="#loc_76_10_76_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_10_76_12&#39;)"><span class="hl_conref"><span class="mpre">S1</span></span></a><span class="mpre"> </span><a href="#loc_254_21_254_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_21_254_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
                  where
                    </span><a name="loc_254_21_254_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_21_254_22&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_238_19_238_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_19_238_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> </span><a href="#loc_241_20_241_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_20_241_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">
                    </span><a name="loc_255_21_255_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_21_255_22&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_238_19_238_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_19_238_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> (</span><a href="#loc_241_20_241_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_20_241_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
                    </span><a name="loc_256_21_256_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_256_21_256_22&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_238_19_238_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_19_238_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> (</span><a href="#loc_241_20_241_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_20_241_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">)
                    </span><a name="loc_257_21_257_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_257_21_257_22&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_238_19_238_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_19_238_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> (</span><a href="#loc_241_20_241_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_20_241_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">)
                    </span><a name="loc_258_21_258_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_258_21_258_23&#39;)"><span class="hl_vardecl"><span class="mpre">x1</span></span></a><span class="mpre">   = </span><a href="#loc_293_9_293_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_293_9_293_16&#39;)"><span class="hl_varref"><span class="mpre">combine</span></span></a><span class="mpre"> </span><a href="#loc_254_21_254_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_21_254_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_255_21_255_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_21_255_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">
                    </span><a name="loc_259_21_259_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_259_21_259_23&#39;)"><span class="hl_vardecl"><span class="mpre">x2</span></span></a><span class="mpre">   = </span><a href="#loc_293_9_293_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_293_9_293_16&#39;)"><span class="hl_varref"><span class="mpre">combine</span></span></a><span class="mpre"> </span><a href="#loc_256_21_256_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_256_21_256_22&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_257_21_257_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_257_21_257_22&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre">
                    </span><a name="loc_260_21_260_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_21_260_29&#39;)"><span class="hl_fundecl"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> </span><a name="loc_260_30_260_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_30_260_36&#39;)"><span class="hl_vardecl"><span class="mpre">deltai</span></span></a><span class="mpre"> </span><a name="loc_260_37_260_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_37_260_41&#39;)"><span class="hl_vardecl"><span class="mpre">char</span></span></a><span class="mpre"> = do
                        </span><a name="loc_261_25_261_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_25_261_31&#39;)"><span class="hl_vardecl"><span class="mpre">deltaj</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12&#39;)"><span class="hl_varref"><span class="mpre">unsafeWrite</span></span></a><span class="mpre"> </span><a href="#loc_240_9_240_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_9_240_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre"> </span><a href="#loc_241_23_241_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_23_241_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_260_37_260_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_37_260_41&#39;)"><span class="hl_varref"><span class="mpre">char</span></span></a><span class="mpre">
                        </span><a href="#loc_241_13_241_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_13_241_18&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre"> (</span><a href="#loc_241_20_241_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_20_241_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_260_30_260_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_30_260_36&#39;)"><span class="hl_varref"><span class="mpre">deltai</span></span></a><span class="mpre">) (</span><a href="#loc_241_23_241_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_23_241_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_261_25_261_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_25_261_31&#39;)"><span class="hl_varref"><span class="mpre">deltaj</span></span></a><span class="mpre">)
                    </span><a name="loc_263_21_263_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_263_21_263_29&#39;)"><span class="hl_fundecl"><span class="mpre">continue</span></span></a><span class="mpre"> </span><a name="loc_263_30_263_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_263_30_263_31&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = do
                        </span><a name="loc_264_25_264_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_25_264_26&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_93_1_93_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_8&#39;)"><span class="hl_varref"><span class="mpre">getText</span></span></a><span class="mpre"> </span><a href="#loc_241_23_241_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_23_241_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_240_9_240_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_9_240_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre">
                        </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="#loc_264_25_264_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_25_264_26&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="#loc_234_5_234_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_5_234_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_263_30_263_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_263_30_263_31&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)

            </span><a name="loc_267_13_267_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_13_267_22&#39;)"><span class="hl_fundecl"><span class="mpre">checkCont</span></span></a><span class="mpre"> </span><a name="loc_267_23_267_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_23_267_24&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> !</span><a name="loc_267_26_267_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_26_267_27&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> | </span><a href="#loc_267_26_267_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_26_267_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_292_9_292_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_9_292_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre"> (</span><a href="#loc_234_5_234_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_5_234_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_267_23_267_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_23_267_24&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
            </span><a href="#loc_267_13_267_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_13_267_22&#39;)"><span class="hl_fundecl"><span class="mpre">checkCont</span></span></a><span class="mpre"> </span><a name="loc_268_23_268_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_23_268_24&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> !</span><a name="loc_268_26_268_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_26_268_27&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> =
                case </span><a href="#loc_268_23_268_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_23_268_24&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
                    </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_241_13_241_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_13_241_18&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre"> </span><a href="#loc_268_26_268_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_26_268_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
                    </span><a href="#loc_76_10_76_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_10_76_12&#39;)"><span class="hl_conref"><span class="mpre">S1</span></span></a><span class="mpre"> </span><a name="loc_271_24_271_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_271_24_271_25&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt;
                        let </span><a name="loc_272_29_272_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_29_272_31&#39;)"><span class="hl_vardecl"><span class="mpre">x1</span></span></a><span class="mpre"> = </span><a href="#loc_293_9_293_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_293_9_293_16&#39;)"><span class="hl_varref"><span class="mpre">combine</span></span></a><span class="mpre"> </span><a href="#loc_271_24_271_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_271_24_271_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_285_17_285_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_17_285_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
                         in if </span><a href="Data.Text.Internal.Encoding.Utf16.html#loc_39_1_39_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf16.html#loc_39_1_39_10&#39;)"><span class="hl_varref"><span class="mpre">U16.validate1</span></span></a><span class="mpre"> </span><a href="#loc_272_29_272_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_29_272_31&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre">
                                then </span><a href="#loc_286_17_286_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_17_286_25&#39;)"><span class="hl_varref"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Unsafe.Char.html#loc_44_1_44_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_44_1_44_10&#39;)"><span class="hl_varref"><span class="mpre">unsafeChr</span></span></a><span class="mpre"> </span><a href="#loc_272_29_272_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_29_272_31&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre">)
                                else </span><a href="#loc_267_13_267_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_13_267_22&#39;)"><span class="hl_varref"><span class="mpre">checkCont</span></span></a><span class="mpre"> (</span><a href="#loc_77_10_77_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_12&#39;)"><span class="hl_conref"><span class="mpre">S2</span></span></a><span class="mpre"> </span><a href="#loc_271_24_271_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_271_24_271_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_285_17_285_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_17_285_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) (</span><a href="#loc_268_26_268_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_26_268_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
                    </span><a href="#loc_77_10_77_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_12&#39;)"><span class="hl_conref"><span class="mpre">S2</span></span></a><span class="mpre"> </span><a name="loc_276_24_276_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_24_276_25&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_276_26_276_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_26_276_27&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_267_13_267_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_13_267_22&#39;)"><span class="hl_varref"><span class="mpre">checkCont</span></span></a><span class="mpre"> (</span><a href="#loc_78_10_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_10_78_12&#39;)"><span class="hl_conref"><span class="mpre">S3</span></span></a><span class="mpre"> </span><a href="#loc_276_24_276_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_24_276_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_276_26_276_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_26_276_27&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_285_17_285_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_17_285_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) (</span><a href="#loc_268_26_268_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_26_268_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
                    </span><a href="#loc_78_10_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_10_78_12&#39;)"><span class="hl_conref"><span class="mpre">S3</span></span></a><span class="mpre"> </span><a name="loc_277_24_277_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_24_277_25&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_277_26_277_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_26_277_27&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> </span><a name="loc_277_28_277_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_28_277_29&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> -&gt;
                        let </span><a name="loc_278_29_278_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_29_278_31&#39;)"><span class="hl_vardecl"><span class="mpre">x1</span></span></a><span class="mpre"> = </span><a href="#loc_293_9_293_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_293_9_293_16&#39;)"><span class="hl_varref"><span class="mpre">combine</span></span></a><span class="mpre"> </span><a href="#loc_277_24_277_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_24_277_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_277_26_277_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_26_277_27&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">
                            </span><a name="loc_279_29_279_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_29_279_31&#39;)"><span class="hl_vardecl"><span class="mpre">x2</span></span></a><span class="mpre"> = </span><a href="#loc_293_9_293_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_293_9_293_16&#39;)"><span class="hl_varref"><span class="mpre">combine</span></span></a><span class="mpre"> </span><a href="#loc_277_28_277_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_28_277_29&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_285_17_285_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_17_285_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
                         in if </span><a href="Data.Text.Internal.Encoding.Utf16.html#loc_43_1_43_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf16.html#loc_43_1_43_10&#39;)"><span class="hl_varref"><span class="mpre">U16.validate2</span></span></a><span class="mpre"> </span><a href="#loc_278_29_278_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_29_278_31&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre"> </span><a href="#loc_279_29_279_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_29_279_31&#39;)"><span class="hl_varref"><span class="mpre">x2</span></span></a><span class="mpre">
                                then </span><a href="#loc_286_17_286_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_17_286_25&#39;)"><span class="hl_varref"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Encoding.Utf16.html#loc_30_1_30_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf16.html#loc_30_1_30_5&#39;)"><span class="hl_varref"><span class="mpre">U16.chr2</span></span></a><span class="mpre"> </span><a href="#loc_278_29_278_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_29_278_31&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre"> </span><a href="#loc_279_29_279_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_29_279_31&#39;)"><span class="hl_varref"><span class="mpre">x2</span></span></a><span class="mpre">)
                                else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_83_7_83_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_7_83_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre">
                                            </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.append</span></span><span class="mpre"> (</span><a href="#loc_86_1_86_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_5&#39;)"><span class="hl_varref"><span class="mpre">toBS</span></span></a><span class="mpre"> </span><a href="#loc_268_23_268_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_23_268_24&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">) (</span><a href="Data.ByteString.Unsafe.html#loc_148_1_148_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_148_1_148_11&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeDrop</span></span></a><span class="mpre"> </span><a href="#loc_268_26_268_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_26_268_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_238_19_238_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_19_238_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">)
              where
                </span><a name="loc_285_17_285_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_17_285_18&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_238_19_238_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_19_238_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> </span><a href="#loc_268_26_268_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_26_268_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">
                </span><a name="loc_286_17_286_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_17_286_25&#39;)"><span class="hl_fundecl"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> </span><a name="loc_286_26_286_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_26_286_27&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = do
                    </span><a name="loc_287_21_287_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_287_21_287_22&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12&#39;)"><span class="hl_varref"><span class="mpre">unsafeWrite</span></span></a><span class="mpre"> </span><a href="#loc_240_9_240_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_9_240_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="#loc_286_26_286_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_26_286_27&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
                    </span><a href="#loc_241_13_241_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_13_241_18&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre"> (</span><a href="#loc_268_26_268_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_26_268_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><a href="#loc_287_21_287_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_287_21_287_22&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre">

        </span><a href="#loc_267_13_267_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_13_267_22&#39;)"><span class="hl_varref"><span class="mpre">checkCont</span></span></a><span class="mpre"> </span><a href="#loc_238_16_238_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_16_238_18&#39;)"><span class="hl_varref"><span class="mpre">s0</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
      where
        </span><a name="loc_292_9_292_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_9_292_12&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">B.length</span></span><span class="mpre"> </span><a href="#loc_238_19_238_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_19_238_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">
        </span><a name="loc_293_9_293_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_293_9_293_16&#39;)"><span class="hl_fundecl"><span class="mpre">combine</span></span></a><span class="mpre"> </span><a name="loc_293_17_293_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_293_17_293_19&#39;)"><span class="hl_vardecl"><span class="mpre">w1</span></span></a><span class="mpre"> </span><a name="loc_293_20_293_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_293_20_293_22&#39;)"><span class="hl_vardecl"><span class="mpre">w2</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_293_17_293_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_293_17_293_19&#39;)"><span class="hl_varref"><span class="mpre">w1</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.|.</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_293_20_293_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_293_20_293_22&#39;)"><span class="hl_varref"><span class="mpre">w2</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11&#39;)"><span class="hl_infix"><span class="mpre">`shiftL`</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">8</span></span><span class="mpre">)
    </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_234_5_234_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_5_234_15&#39;)"><span class="mpre">beginChunk</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Convert a &#39;ByteString&#39; into a &#39;Stream Char&#39;, using big</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- endian UTF-16 encoding.</span></span><span class="mpre">
</span><a href="#loc_299_1_299_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_1_299_14&#39;)"><span class="mpre">decodeUtf16BE</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_6_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_6_81_18&#39;)"><span class="hl_tyconref"><span class="mpre">DecodeResult</span></span></a><span class="mpre">
</span><a name="loc_299_1_299_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_1_299_14&#39;)"><span class="hl_vardecl"><span class="mpre">decodeUtf16BE</span></span></a><span class="mpre"> =
    </span><a href="#loc_303_5_303_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_5_303_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre">
  where
    </span><a href="#loc_303_5_303_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_5_303_15&#39;)"><span class="mpre">beginChunk</span></a><span class="mpre"> :: </span><a href="#loc_75_6_75_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_6_75_7&#39;)"><span class="hl_tyconref"><span class="mpre">S</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_6_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_6_81_18&#39;)"><span class="hl_tyconref"><span class="mpre">DecodeResult</span></span></a><span class="mpre">
    </span><a name="loc_303_5_303_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_5_303_15&#39;)"><span class="hl_fundecl"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a name="loc_303_16_303_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_16_303_17&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> </span><a name="loc_303_18_303_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_18_303_20&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> | </span><span class="hl_varref"><span class="mpre">B.null</span></span><span class="mpre"> </span><a href="#loc_303_18_303_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_18_303_20&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> =
        case </span><a href="#loc_303_16_303_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_16_303_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
            </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre"> (</span><a href="#loc_303_5_303_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_5_303_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre">)
            _  -&gt; </span><a href="#loc_83_7_83_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_7_83_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_86_1_86_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_5&#39;)"><span class="hl_varref"><span class="mpre">toBS</span></span></a><span class="mpre"> </span><a href="#loc_303_16_303_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_16_303_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
    </span><a href="#loc_303_5_303_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_5_303_15&#39;)"><span class="hl_fundecl"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a name="loc_307_16_307_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_16_307_18&#39;)"><span class="hl_vardecl"><span class="mpre">s0</span></span></a><span class="mpre"> </span><a name="loc_307_19_307_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_19_307_21&#39;)"><span class="hl_vardecl"><span class="mpre">ps</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">runST</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        let </span><a name="loc_308_13_308_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_13_308_20&#39;)"><span class="hl_vardecl"><span class="mpre">initLen</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">B.length</span></span><span class="mpre"> </span><a href="#loc_307_19_307_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_19_307_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">
        </span><a name="loc_309_9_309_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_9_309_13&#39;)"><span class="hl_vardecl"><span class="mpre">marr</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Text.Array.html#loc_115_1_115_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Array.html#loc_115_1_115_4&#39;)"><span class="hl_varref"><span class="mpre">A.new</span></span></a><span class="mpre"> (</span><a href="#loc_308_13_308_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_13_308_20&#39;)"><span class="hl_varref"><span class="mpre">initLen</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
        let </span><a name="loc_310_13_310_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_13_310_18&#39;)"><span class="hl_fundecl"><span class="mpre">start</span></span></a><span class="mpre"> !</span><a name="loc_310_20_310_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_20_310_21&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> !</span><a name="loc_310_23_310_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_23_310_24&#39;)"><span class="hl_vardecl"><span class="mpre">j</span></span></a><span class="mpre">
                | </span><a href="#loc_310_20_310_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_20_310_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_361_9_361_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_361_9_361_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = do
                    </span><a name="loc_312_21_312_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_21_312_22&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_93_1_93_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_8&#39;)"><span class="hl_varref"><span class="mpre">getText</span></span></a><span class="mpre"> </span><a href="#loc_310_23_310_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_23_310_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_309_9_309_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_9_309_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre">
                    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="#loc_312_21_312_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_21_312_22&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="#loc_303_5_303_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_5_303_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre">)
                | </span><a href="#loc_310_20_310_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_20_310_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_361_9_361_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_361_9_361_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Encoding.Utf16.html#loc_39_1_39_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf16.html#loc_39_1_39_10&#39;)"><span class="hl_varref"><span class="mpre">U16.validate1</span></span></a><span class="mpre"> </span><a href="#loc_327_21_327_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_327_21_327_23&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre">    = </span><a href="#loc_329_21_329_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_21_329_29&#39;)"><span class="hl_varref"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre"> (</span><a href="Data.Text.Internal.Unsafe.Char.html#loc_44_1_44_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_44_1_44_10&#39;)"><span class="hl_varref"><span class="mpre">unsafeChr</span></span></a><span class="mpre"> </span><a href="#loc_327_21_327_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_327_21_327_23&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre">)
                | </span><a href="#loc_310_20_310_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_20_310_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_361_9_361_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_361_9_361_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Encoding.Utf16.html#loc_43_1_43_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf16.html#loc_43_1_43_10&#39;)"><span class="hl_varref"><span class="mpre">U16.validate2</span></span></a><span class="mpre"> </span><a href="#loc_327_21_327_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_327_21_327_23&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre"> </span><a href="#loc_328_21_328_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_21_328_23&#39;)"><span class="hl_varref"><span class="mpre">x2</span></span></a><span class="mpre"> = </span><a href="#loc_329_21_329_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_21_329_29&#39;)"><span class="hl_varref"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre"> (</span><a href="Data.Text.Internal.Encoding.Utf16.html#loc_30_1_30_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf16.html#loc_30_1_30_5&#39;)"><span class="hl_varref"><span class="mpre">U16.chr2</span></span></a><span class="mpre"> </span><a href="#loc_327_21_327_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_327_21_327_23&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre"> </span><a href="#loc_328_21_328_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_21_328_23&#39;)"><span class="hl_varref"><span class="mpre">x2</span></span></a><span class="mpre">)
                | </span><a href="#loc_310_20_310_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_20_310_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_361_9_361_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_361_9_361_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = do
                    </span><a name="loc_317_21_317_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_317_21_317_22&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_93_1_93_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_8&#39;)"><span class="hl_varref"><span class="mpre">getText</span></span></a><span class="mpre"> </span><a href="#loc_310_23_310_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_23_310_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_309_9_309_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_9_309_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre">
                    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_83_7_83_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_7_83_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> </span><a href="#loc_317_21_317_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_317_21_317_22&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="Data.ByteString.Unsafe.html#loc_148_1_148_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_148_1_148_11&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeDrop</span></span></a><span class="mpre"> </span><a href="#loc_310_20_310_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_20_310_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_307_19_307_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_19_307_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">)
                | </span><a href="#loc_310_20_310_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_20_310_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_361_9_361_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_361_9_361_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = </span><a href="#loc_332_21_332_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_332_21_332_29&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="#loc_78_10_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_10_78_12&#39;)"><span class="hl_conref"><span class="mpre">S3</span></span></a><span class="mpre"> </span><a href="#loc_323_21_323_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_21_323_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_324_21_324_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_21_324_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_325_21_325_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_21_325_22&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">)
                | </span><a href="#loc_310_20_310_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_20_310_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_361_9_361_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_361_9_361_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = </span><a href="#loc_332_21_332_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_332_21_332_29&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="#loc_77_10_77_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_12&#39;)"><span class="hl_conref"><span class="mpre">S2</span></span></a><span class="mpre"> </span><a href="#loc_323_21_323_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_21_323_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_324_21_324_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_21_324_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
                | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">   = </span><a href="#loc_332_21_332_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_332_21_332_29&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="#loc_76_10_76_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_10_76_12&#39;)"><span class="hl_conref"><span class="mpre">S1</span></span></a><span class="mpre"> </span><a href="#loc_323_21_323_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_21_323_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
                  where
                    </span><a name="loc_323_21_323_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_21_323_22&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_307_19_307_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_19_307_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> </span><a href="#loc_310_20_310_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_20_310_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">
                    </span><a name="loc_324_21_324_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_21_324_22&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_307_19_307_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_19_307_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> (</span><a href="#loc_310_20_310_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_20_310_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
                    </span><a name="loc_325_21_325_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_21_325_22&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_307_19_307_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_19_307_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> (</span><a href="#loc_310_20_310_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_20_310_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">)
                    </span><a name="loc_326_21_326_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_21_326_22&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_307_19_307_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_19_307_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> (</span><a href="#loc_310_20_310_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_20_310_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">)
                    </span><a name="loc_327_21_327_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_327_21_327_23&#39;)"><span class="hl_vardecl"><span class="mpre">x1</span></span></a><span class="mpre">   = </span><a href="#loc_362_9_362_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_9_362_16&#39;)"><span class="hl_varref"><span class="mpre">combine</span></span></a><span class="mpre"> </span><a href="#loc_323_21_323_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_21_323_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_324_21_324_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_21_324_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">
                    </span><a name="loc_328_21_328_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_21_328_23&#39;)"><span class="hl_vardecl"><span class="mpre">x2</span></span></a><span class="mpre">   = </span><a href="#loc_362_9_362_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_9_362_16&#39;)"><span class="hl_varref"><span class="mpre">combine</span></span></a><span class="mpre"> </span><a href="#loc_325_21_325_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_21_325_22&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_326_21_326_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_21_326_22&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre">
                    </span><a name="loc_329_21_329_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_21_329_29&#39;)"><span class="hl_fundecl"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> </span><a name="loc_329_30_329_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_30_329_36&#39;)"><span class="hl_vardecl"><span class="mpre">deltai</span></span></a><span class="mpre"> </span><a name="loc_329_37_329_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_37_329_41&#39;)"><span class="hl_vardecl"><span class="mpre">char</span></span></a><span class="mpre"> = do
                        </span><a name="loc_330_25_330_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_330_25_330_31&#39;)"><span class="hl_vardecl"><span class="mpre">deltaj</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12&#39;)"><span class="hl_varref"><span class="mpre">unsafeWrite</span></span></a><span class="mpre"> </span><a href="#loc_309_9_309_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_9_309_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre"> </span><a href="#loc_310_23_310_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_23_310_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_329_37_329_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_37_329_41&#39;)"><span class="hl_varref"><span class="mpre">char</span></span></a><span class="mpre">
                        </span><a href="#loc_310_13_310_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_13_310_18&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre"> (</span><a href="#loc_310_20_310_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_20_310_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_329_30_329_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_30_329_36&#39;)"><span class="hl_varref"><span class="mpre">deltai</span></span></a><span class="mpre">) (</span><a href="#loc_310_23_310_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_23_310_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_330_25_330_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_330_25_330_31&#39;)"><span class="hl_varref"><span class="mpre">deltaj</span></span></a><span class="mpre">)
                    </span><a name="loc_332_21_332_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_332_21_332_29&#39;)"><span class="hl_fundecl"><span class="mpre">continue</span></span></a><span class="mpre"> </span><a name="loc_332_30_332_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_332_30_332_31&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = do
                        </span><a name="loc_333_25_333_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_333_25_333_26&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_93_1_93_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_8&#39;)"><span class="hl_varref"><span class="mpre">getText</span></span></a><span class="mpre"> </span><a href="#loc_310_23_310_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_23_310_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_309_9_309_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_9_309_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre">
                        </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="#loc_333_25_333_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_333_25_333_26&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="#loc_303_5_303_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_5_303_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_332_30_332_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_332_30_332_31&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)

            </span><a name="loc_336_13_336_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_13_336_22&#39;)"><span class="hl_fundecl"><span class="mpre">checkCont</span></span></a><span class="mpre"> </span><a name="loc_336_23_336_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_23_336_24&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> !</span><a name="loc_336_26_336_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_26_336_27&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> | </span><a href="#loc_336_26_336_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_26_336_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_361_9_361_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_361_9_361_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre"> (</span><a href="#loc_303_5_303_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_5_303_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_336_23_336_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_23_336_24&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
            </span><a href="#loc_336_13_336_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_13_336_22&#39;)"><span class="hl_fundecl"><span class="mpre">checkCont</span></span></a><span class="mpre"> </span><a name="loc_337_23_337_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_23_337_24&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> !</span><a name="loc_337_26_337_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_26_337_27&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> =
                case </span><a href="#loc_337_23_337_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_23_337_24&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
                    </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_310_13_310_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_13_310_18&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre"> </span><a href="#loc_337_26_337_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_26_337_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
                    </span><a href="#loc_76_10_76_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_10_76_12&#39;)"><span class="hl_conref"><span class="mpre">S1</span></span></a><span class="mpre"> </span><a name="loc_340_24_340_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_340_24_340_25&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt;
                        let </span><a name="loc_341_29_341_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_341_29_341_31&#39;)"><span class="hl_vardecl"><span class="mpre">x1</span></span></a><span class="mpre"> = </span><a href="#loc_362_9_362_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_9_362_16&#39;)"><span class="hl_varref"><span class="mpre">combine</span></span></a><span class="mpre"> </span><a href="#loc_340_24_340_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_340_24_340_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_354_17_354_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_17_354_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
                         in if </span><a href="Data.Text.Internal.Encoding.Utf16.html#loc_39_1_39_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf16.html#loc_39_1_39_10&#39;)"><span class="hl_varref"><span class="mpre">U16.validate1</span></span></a><span class="mpre"> </span><a href="#loc_341_29_341_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_341_29_341_31&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre">
                                then </span><a href="#loc_355_17_355_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_355_17_355_25&#39;)"><span class="hl_varref"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Unsafe.Char.html#loc_44_1_44_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_44_1_44_10&#39;)"><span class="hl_varref"><span class="mpre">unsafeChr</span></span></a><span class="mpre"> </span><a href="#loc_341_29_341_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_341_29_341_31&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre">)
                                else </span><a href="#loc_336_13_336_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_13_336_22&#39;)"><span class="hl_varref"><span class="mpre">checkCont</span></span></a><span class="mpre"> (</span><a href="#loc_77_10_77_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_12&#39;)"><span class="hl_conref"><span class="mpre">S2</span></span></a><span class="mpre"> </span><a href="#loc_340_24_340_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_340_24_340_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_354_17_354_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_17_354_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) (</span><a href="#loc_337_26_337_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_26_337_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
                    </span><a href="#loc_77_10_77_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_12&#39;)"><span class="hl_conref"><span class="mpre">S2</span></span></a><span class="mpre"> </span><a name="loc_345_24_345_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_345_24_345_25&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_345_26_345_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_345_26_345_27&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_336_13_336_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_13_336_22&#39;)"><span class="hl_varref"><span class="mpre">checkCont</span></span></a><span class="mpre"> (</span><a href="#loc_78_10_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_10_78_12&#39;)"><span class="hl_conref"><span class="mpre">S3</span></span></a><span class="mpre"> </span><a href="#loc_345_24_345_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_345_24_345_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_345_26_345_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_345_26_345_27&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_354_17_354_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_17_354_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) (</span><a href="#loc_337_26_337_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_26_337_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
                    </span><a href="#loc_78_10_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_10_78_12&#39;)"><span class="hl_conref"><span class="mpre">S3</span></span></a><span class="mpre"> </span><a name="loc_346_24_346_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_346_24_346_25&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_346_26_346_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_346_26_346_27&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> </span><a name="loc_346_28_346_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_346_28_346_29&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> -&gt;
                        let </span><a name="loc_347_29_347_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_29_347_31&#39;)"><span class="hl_vardecl"><span class="mpre">x1</span></span></a><span class="mpre"> = </span><a href="#loc_362_9_362_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_9_362_16&#39;)"><span class="hl_varref"><span class="mpre">combine</span></span></a><span class="mpre"> </span><a href="#loc_346_24_346_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_346_24_346_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_346_26_346_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_346_26_346_27&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">
                            </span><a name="loc_348_29_348_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_29_348_31&#39;)"><span class="hl_vardecl"><span class="mpre">x2</span></span></a><span class="mpre"> = </span><a href="#loc_362_9_362_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_9_362_16&#39;)"><span class="hl_varref"><span class="mpre">combine</span></span></a><span class="mpre"> </span><a href="#loc_346_28_346_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_346_28_346_29&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_354_17_354_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_17_354_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
                         in if </span><a href="Data.Text.Internal.Encoding.Utf16.html#loc_43_1_43_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf16.html#loc_43_1_43_10&#39;)"><span class="hl_varref"><span class="mpre">U16.validate2</span></span></a><span class="mpre"> </span><a href="#loc_347_29_347_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_29_347_31&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre"> </span><a href="#loc_348_29_348_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_29_348_31&#39;)"><span class="hl_varref"><span class="mpre">x2</span></span></a><span class="mpre">
                                then </span><a href="#loc_355_17_355_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_355_17_355_25&#39;)"><span class="hl_varref"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Encoding.Utf16.html#loc_30_1_30_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf16.html#loc_30_1_30_5&#39;)"><span class="hl_varref"><span class="mpre">U16.chr2</span></span></a><span class="mpre"> </span><a href="#loc_347_29_347_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_29_347_31&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre"> </span><a href="#loc_348_29_348_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_29_348_31&#39;)"><span class="hl_varref"><span class="mpre">x2</span></span></a><span class="mpre">)
                                else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_83_7_83_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_7_83_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre">
                                            </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.append</span></span><span class="mpre"> (</span><a href="#loc_86_1_86_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_5&#39;)"><span class="hl_varref"><span class="mpre">toBS</span></span></a><span class="mpre"> </span><a href="#loc_337_23_337_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_23_337_24&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">) (</span><a href="Data.ByteString.Unsafe.html#loc_148_1_148_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_148_1_148_11&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeDrop</span></span></a><span class="mpre"> </span><a href="#loc_337_26_337_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_26_337_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_307_19_307_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_19_307_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">)
              where
                </span><a name="loc_354_17_354_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_17_354_18&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_307_19_307_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_19_307_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> </span><a href="#loc_337_26_337_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_26_337_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">
                </span><a name="loc_355_17_355_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_355_17_355_25&#39;)"><span class="hl_fundecl"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> </span><a name="loc_355_26_355_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_355_26_355_27&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = do
                    </span><a name="loc_356_21_356_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_21_356_22&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12&#39;)"><span class="hl_varref"><span class="mpre">unsafeWrite</span></span></a><span class="mpre"> </span><a href="#loc_309_9_309_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_9_309_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="#loc_355_26_355_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_355_26_355_27&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
                    </span><a href="#loc_310_13_310_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_13_310_18&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre"> (</span><a href="#loc_337_26_337_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_26_337_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><a href="#loc_356_21_356_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_21_356_22&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre">

        </span><a href="#loc_336_13_336_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_13_336_22&#39;)"><span class="hl_varref"><span class="mpre">checkCont</span></span></a><span class="mpre"> </span><a href="#loc_307_16_307_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_16_307_18&#39;)"><span class="hl_varref"><span class="mpre">s0</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
      where
        </span><a name="loc_361_9_361_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_361_9_361_12&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">B.length</span></span><span class="mpre"> </span><a href="#loc_307_19_307_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_19_307_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">
        </span><a name="loc_362_9_362_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_9_362_16&#39;)"><span class="hl_fundecl"><span class="mpre">combine</span></span></a><span class="mpre"> </span><a name="loc_362_17_362_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_17_362_19&#39;)"><span class="hl_vardecl"><span class="mpre">w1</span></span></a><span class="mpre"> </span><a name="loc_362_20_362_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_20_362_22&#39;)"><span class="hl_vardecl"><span class="mpre">w2</span></span></a><span class="mpre"> = (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_362_17_362_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_17_362_19&#39;)"><span class="hl_varref"><span class="mpre">w1</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11&#39;)"><span class="hl_infix"><span class="mpre">`shiftL`</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">8</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.|.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_362_20_362_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_20_362_22&#39;)"><span class="hl_varref"><span class="mpre">w2</span></span></a><span class="mpre">
    </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_303_5_303_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_5_303_15&#39;)"><span class="mpre">beginChunk</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Convert a &#39;ByteString&#39; into a &#39;Stream Char&#39;, using little</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- endian UTF-32 encoding.</span></span><span class="mpre">
</span><a href="#loc_368_1_368_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_368_1_368_14&#39;)"><span class="mpre">decodeUtf32LE</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_6_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_6_81_18&#39;)"><span class="hl_tyconref"><span class="mpre">DecodeResult</span></span></a><span class="mpre">
</span><a name="loc_368_1_368_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_368_1_368_14&#39;)"><span class="hl_vardecl"><span class="mpre">decodeUtf32LE</span></span></a><span class="mpre"> =
    </span><a href="#loc_372_5_372_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_5_372_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre">
  where
    </span><a href="#loc_372_5_372_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_5_372_15&#39;)"><span class="mpre">beginChunk</span></a><span class="mpre"> :: </span><a href="#loc_75_6_75_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_6_75_7&#39;)"><span class="hl_tyconref"><span class="mpre">S</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_6_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_6_81_18&#39;)"><span class="hl_tyconref"><span class="mpre">DecodeResult</span></span></a><span class="mpre">
    </span><a name="loc_372_5_372_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_5_372_15&#39;)"><span class="hl_fundecl"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a name="loc_372_16_372_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_16_372_17&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> </span><a name="loc_372_18_372_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_18_372_20&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> | </span><span class="hl_varref"><span class="mpre">B.null</span></span><span class="mpre"> </span><a href="#loc_372_18_372_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_18_372_20&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> =
        case </span><a href="#loc_372_16_372_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_16_372_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
            </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre"> (</span><a href="#loc_372_5_372_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_5_372_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre">)
            _  -&gt; </span><a href="#loc_83_7_83_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_7_83_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_86_1_86_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_5&#39;)"><span class="hl_varref"><span class="mpre">toBS</span></span></a><span class="mpre"> </span><a href="#loc_372_16_372_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_16_372_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
    </span><a href="#loc_372_5_372_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_5_372_15&#39;)"><span class="hl_fundecl"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a name="loc_376_16_376_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_16_376_18&#39;)"><span class="hl_vardecl"><span class="mpre">s0</span></span></a><span class="mpre"> </span><a name="loc_376_19_376_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_19_376_21&#39;)"><span class="hl_vardecl"><span class="mpre">ps</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">runST</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        let </span><a name="loc_377_13_377_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_377_13_377_20&#39;)"><span class="hl_vardecl"><span class="mpre">initLen</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">B.length</span></span><span class="mpre"> </span><a href="#loc_376_19_376_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_19_376_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`div`</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">
        </span><a name="loc_378_9_378_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_9_378_13&#39;)"><span class="hl_vardecl"><span class="mpre">marr</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Text.Array.html#loc_115_1_115_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Array.html#loc_115_1_115_4&#39;)"><span class="hl_varref"><span class="mpre">A.new</span></span></a><span class="mpre"> (</span><a href="#loc_377_13_377_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_377_13_377_20&#39;)"><span class="hl_varref"><span class="mpre">initLen</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
        let </span><a name="loc_379_13_379_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_13_379_18&#39;)"><span class="hl_fundecl"><span class="mpre">start</span></span></a><span class="mpre"> !</span><a name="loc_379_20_379_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_20_379_21&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> !</span><a name="loc_379_23_379_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_23_379_24&#39;)"><span class="hl_vardecl"><span class="mpre">j</span></span></a><span class="mpre">
                | </span><a href="#loc_379_20_379_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_20_379_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_423_9_423_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_423_9_423_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = do
                    </span><a name="loc_381_21_381_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_381_21_381_22&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_93_1_93_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_8&#39;)"><span class="hl_varref"><span class="mpre">getText</span></span></a><span class="mpre"> </span><a href="#loc_379_23_379_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_23_379_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_378_9_378_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_9_378_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre">
                    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="#loc_381_21_381_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_381_21_381_22&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="#loc_372_5_372_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_5_372_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre">)
                | </span><a href="#loc_379_20_379_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_20_379_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_423_9_423_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_423_9_423_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Encoding.Utf32.html#loc_25_1_25_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf32.html#loc_25_1_25_9&#39;)"><span class="hl_varref"><span class="mpre">U32.validate</span></span></a><span class="mpre"> </span><a href="#loc_395_21_395_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_21_395_23&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre"> = </span><a href="#loc_396_21_396_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_396_21_396_29&#39;)"><span class="hl_varref"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre"> (</span><a href="Data.Text.Internal.Unsafe.Char.html#loc_52_1_52_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_52_1_52_12&#39;)"><span class="hl_varref"><span class="mpre">unsafeChr32</span></span></a><span class="mpre"> </span><a href="#loc_395_21_395_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_21_395_23&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre">)
                | </span><a href="#loc_379_20_379_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_20_379_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_423_9_423_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_423_9_423_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = do
                    </span><a name="loc_385_21_385_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_21_385_22&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_93_1_93_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_8&#39;)"><span class="hl_varref"><span class="mpre">getText</span></span></a><span class="mpre"> </span><a href="#loc_379_23_379_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_23_379_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_378_9_378_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_9_378_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre">
                    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_83_7_83_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_7_83_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> </span><a href="#loc_385_21_385_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_21_385_22&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="Data.ByteString.Unsafe.html#loc_148_1_148_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_148_1_148_11&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeDrop</span></span></a><span class="mpre"> </span><a href="#loc_379_20_379_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_20_379_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_376_19_376_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_19_376_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">)
                | </span><a href="#loc_379_20_379_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_20_379_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_423_9_423_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_423_9_423_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = </span><a href="#loc_399_21_399_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_21_399_29&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="#loc_78_10_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_10_78_12&#39;)"><span class="hl_conref"><span class="mpre">S3</span></span></a><span class="mpre"> </span><a href="#loc_391_21_391_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_21_391_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_392_21_392_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_392_21_392_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_393_21_393_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_393_21_393_22&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">)
                | </span><a href="#loc_379_20_379_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_20_379_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_423_9_423_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_423_9_423_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = </span><a href="#loc_399_21_399_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_21_399_29&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="#loc_77_10_77_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_12&#39;)"><span class="hl_conref"><span class="mpre">S2</span></span></a><span class="mpre"> </span><a href="#loc_391_21_391_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_21_391_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_392_21_392_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_392_21_392_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
                | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">   = </span><a href="#loc_399_21_399_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_21_399_29&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="#loc_76_10_76_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_10_76_12&#39;)"><span class="hl_conref"><span class="mpre">S1</span></span></a><span class="mpre"> </span><a href="#loc_391_21_391_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_21_391_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
                  where
                    </span><a name="loc_391_21_391_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_21_391_22&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_376_19_376_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_19_376_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> </span><a href="#loc_379_20_379_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_20_379_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">
                    </span><a name="loc_392_21_392_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_392_21_392_22&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_376_19_376_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_19_376_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> (</span><a href="#loc_379_20_379_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_20_379_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
                    </span><a name="loc_393_21_393_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_393_21_393_22&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_376_19_376_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_19_376_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> (</span><a href="#loc_379_20_379_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_20_379_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">)
                    </span><a name="loc_394_21_394_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_394_21_394_22&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_376_19_376_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_19_376_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> (</span><a href="#loc_379_20_379_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_20_379_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">)
                    </span><a name="loc_395_21_395_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_21_395_23&#39;)"><span class="hl_vardecl"><span class="mpre">x1</span></span></a><span class="mpre">   = </span><a href="#loc_424_9_424_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_424_9_424_16&#39;)"><span class="hl_varref"><span class="mpre">combine</span></span></a><span class="mpre"> </span><a href="#loc_391_21_391_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_21_391_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_392_21_392_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_392_21_392_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_393_21_393_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_393_21_393_22&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_394_21_394_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_394_21_394_22&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre">
                    </span><a name="loc_396_21_396_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_396_21_396_29&#39;)"><span class="hl_fundecl"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> </span><a name="loc_396_30_396_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_396_30_396_36&#39;)"><span class="hl_vardecl"><span class="mpre">deltai</span></span></a><span class="mpre"> </span><a name="loc_396_37_396_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_396_37_396_41&#39;)"><span class="hl_vardecl"><span class="mpre">char</span></span></a><span class="mpre"> = do
                        </span><a name="loc_397_25_397_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_25_397_31&#39;)"><span class="hl_vardecl"><span class="mpre">deltaj</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12&#39;)"><span class="hl_varref"><span class="mpre">unsafeWrite</span></span></a><span class="mpre"> </span><a href="#loc_378_9_378_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_9_378_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre"> </span><a href="#loc_379_23_379_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_23_379_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_396_37_396_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_396_37_396_41&#39;)"><span class="hl_varref"><span class="mpre">char</span></span></a><span class="mpre">
                        </span><a href="#loc_379_13_379_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_13_379_18&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre"> (</span><a href="#loc_379_20_379_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_20_379_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_396_30_396_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_396_30_396_36&#39;)"><span class="hl_varref"><span class="mpre">deltai</span></span></a><span class="mpre">) (</span><a href="#loc_379_23_379_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_23_379_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_397_25_397_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_25_397_31&#39;)"><span class="hl_varref"><span class="mpre">deltaj</span></span></a><span class="mpre">)
                    </span><a name="loc_399_21_399_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_21_399_29&#39;)"><span class="hl_fundecl"><span class="mpre">continue</span></span></a><span class="mpre"> </span><a name="loc_399_30_399_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_30_399_31&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = do
                        </span><a name="loc_400_25_400_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_400_25_400_26&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_93_1_93_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_8&#39;)"><span class="hl_varref"><span class="mpre">getText</span></span></a><span class="mpre"> </span><a href="#loc_379_23_379_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_23_379_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_378_9_378_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_9_378_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre">
                        </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="#loc_400_25_400_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_400_25_400_26&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="#loc_372_5_372_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_5_372_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_399_30_399_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_30_399_31&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)

            </span><a name="loc_403_13_403_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_13_403_22&#39;)"><span class="hl_fundecl"><span class="mpre">checkCont</span></span></a><span class="mpre"> </span><a name="loc_403_23_403_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_23_403_24&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> !</span><a name="loc_403_26_403_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_26_403_27&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> | </span><a href="#loc_403_26_403_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_26_403_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_423_9_423_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_423_9_423_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre"> (</span><a href="#loc_372_5_372_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_5_372_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_403_23_403_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_23_403_24&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
            </span><a href="#loc_403_13_403_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_13_403_22&#39;)"><span class="hl_fundecl"><span class="mpre">checkCont</span></span></a><span class="mpre"> </span><a name="loc_404_23_404_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_23_404_24&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> !</span><a name="loc_404_26_404_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_26_404_27&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> =
                case </span><a href="#loc_404_23_404_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_23_404_24&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
                    </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_379_13_379_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_13_379_18&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre"> </span><a href="#loc_404_26_404_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_26_404_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
                    </span><a href="#loc_76_10_76_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_10_76_12&#39;)"><span class="hl_conref"><span class="mpre">S1</span></span></a><span class="mpre"> </span><a name="loc_407_24_407_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_407_24_407_25&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_403_13_403_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_13_403_22&#39;)"><span class="hl_varref"><span class="mpre">checkCont</span></span></a><span class="mpre"> (</span><a href="#loc_77_10_77_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_12&#39;)"><span class="hl_conref"><span class="mpre">S2</span></span></a><span class="mpre"> </span><a href="#loc_407_24_407_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_407_24_407_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_416_17_416_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_416_17_416_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) (</span><a href="#loc_404_26_404_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_26_404_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
                    </span><a href="#loc_77_10_77_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_12&#39;)"><span class="hl_conref"><span class="mpre">S2</span></span></a><span class="mpre"> </span><a name="loc_408_24_408_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_24_408_25&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_408_26_408_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_26_408_27&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_403_13_403_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_13_403_22&#39;)"><span class="hl_varref"><span class="mpre">checkCont</span></span></a><span class="mpre"> (</span><a href="#loc_78_10_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_10_78_12&#39;)"><span class="hl_conref"><span class="mpre">S3</span></span></a><span class="mpre"> </span><a href="#loc_408_24_408_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_24_408_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_408_26_408_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_26_408_27&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_416_17_416_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_416_17_416_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) (</span><a href="#loc_404_26_404_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_26_404_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
                    </span><a href="#loc_78_10_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_10_78_12&#39;)"><span class="hl_conref"><span class="mpre">S3</span></span></a><span class="mpre"> </span><a name="loc_409_24_409_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_409_24_409_25&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_409_26_409_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_409_26_409_27&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> </span><a name="loc_409_28_409_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_409_28_409_29&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> -&gt;
                        let </span><a name="loc_410_29_410_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_410_29_410_31&#39;)"><span class="hl_vardecl"><span class="mpre">x1</span></span></a><span class="mpre"> = </span><a href="#loc_424_9_424_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_424_9_424_16&#39;)"><span class="hl_varref"><span class="mpre">combine</span></span></a><span class="mpre"> </span><a href="#loc_409_24_409_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_409_24_409_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_409_26_409_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_409_26_409_27&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_409_28_409_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_409_28_409_29&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_416_17_416_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_416_17_416_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
                         in if </span><a href="Data.Text.Internal.Encoding.Utf32.html#loc_25_1_25_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf32.html#loc_25_1_25_9&#39;)"><span class="hl_varref"><span class="mpre">U32.validate</span></span></a><span class="mpre"> </span><a href="#loc_410_29_410_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_410_29_410_31&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre">
                                then </span><a href="#loc_417_17_417_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_417_17_417_25&#39;)"><span class="hl_varref"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Unsafe.Char.html#loc_52_1_52_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_52_1_52_12&#39;)"><span class="hl_varref"><span class="mpre">unsafeChr32</span></span></a><span class="mpre"> </span><a href="#loc_410_29_410_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_410_29_410_31&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre">)
                                else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_83_7_83_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_7_83_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre">
                                            </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.append</span></span><span class="mpre"> (</span><a href="#loc_86_1_86_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_5&#39;)"><span class="hl_varref"><span class="mpre">toBS</span></span></a><span class="mpre"> </span><a href="#loc_404_23_404_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_23_404_24&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">) (</span><a href="Data.ByteString.Unsafe.html#loc_148_1_148_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_148_1_148_11&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeDrop</span></span></a><span class="mpre"> </span><a href="#loc_404_26_404_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_26_404_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_376_19_376_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_19_376_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">)
              where
                </span><a name="loc_416_17_416_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_416_17_416_18&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_376_19_376_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_19_376_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> </span><a href="#loc_404_26_404_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_26_404_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">
                </span><a name="loc_417_17_417_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_417_17_417_25&#39;)"><span class="hl_fundecl"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> </span><a name="loc_417_26_417_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_417_26_417_27&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = do
                    </span><a name="loc_418_21_418_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_21_418_22&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12&#39;)"><span class="hl_varref"><span class="mpre">unsafeWrite</span></span></a><span class="mpre"> </span><a href="#loc_378_9_378_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_9_378_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="#loc_417_26_417_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_417_26_417_27&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
                    </span><a href="#loc_379_13_379_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_13_379_18&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre"> (</span><a href="#loc_404_26_404_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_26_404_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><a href="#loc_418_21_418_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_21_418_22&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre">

        </span><a href="#loc_403_13_403_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_13_403_22&#39;)"><span class="hl_varref"><span class="mpre">checkCont</span></span></a><span class="mpre"> </span><a href="#loc_376_16_376_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_16_376_18&#39;)"><span class="hl_varref"><span class="mpre">s0</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
      where
        </span><a name="loc_423_9_423_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_423_9_423_12&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">B.length</span></span><span class="mpre"> </span><a href="#loc_376_19_376_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_19_376_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">
        </span><a name="loc_424_9_424_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_424_9_424_16&#39;)"><span class="hl_fundecl"><span class="mpre">combine</span></span></a><span class="mpre"> </span><a name="loc_424_17_424_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_424_17_424_19&#39;)"><span class="hl_vardecl"><span class="mpre">w1</span></span></a><span class="mpre"> </span><a name="loc_424_20_424_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_424_20_424_22&#39;)"><span class="hl_vardecl"><span class="mpre">w2</span></span></a><span class="mpre"> </span><a name="loc_424_23_424_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_424_23_424_25&#39;)"><span class="hl_vardecl"><span class="mpre">w3</span></span></a><span class="mpre"> </span><a name="loc_424_26_424_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_424_26_424_28&#39;)"><span class="hl_vardecl"><span class="mpre">w4</span></span></a><span class="mpre"> =
                </span><a href="Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11&#39;)"><span class="hl_varref"><span class="mpre">shiftL</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_424_26_424_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_424_26_424_28&#39;)"><span class="hl_varref"><span class="mpre">w4</span></span></a><span class="mpre">) </span><span class="hl_num"><span class="mpre">24</span></span><span class="mpre">
            </span><span class="hl_infix"><span class="mpre">.|.</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11&#39;)"><span class="hl_varref"><span class="mpre">shiftL</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_424_23_424_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_424_23_424_25&#39;)"><span class="hl_varref"><span class="mpre">w3</span></span></a><span class="mpre">) </span><span class="hl_num"><span class="mpre">16</span></span><span class="mpre">
            </span><span class="hl_infix"><span class="mpre">.|.</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11&#39;)"><span class="hl_varref"><span class="mpre">shiftL</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_424_20_424_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_424_20_424_22&#39;)"><span class="hl_varref"><span class="mpre">w2</span></span></a><span class="mpre">) </span><span class="hl_num"><span class="mpre">8</span></span><span class="mpre">
            </span><span class="hl_infix"><span class="mpre">.|.</span></span><span class="mpre">        (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_424_17_424_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_424_17_424_19&#39;)"><span class="hl_varref"><span class="mpre">w1</span></span></a><span class="mpre">)
    </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_372_5_372_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_5_372_15&#39;)"><span class="mpre">beginChunk</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Convert a &#39;ByteString&#39; into a &#39;Stream Char&#39;, using big</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- endian UTF-32 encoding.</span></span><span class="mpre">
</span><a href="#loc_434_1_434_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_434_1_434_14&#39;)"><span class="mpre">decodeUtf32BE</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_6_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_6_81_18&#39;)"><span class="hl_tyconref"><span class="mpre">DecodeResult</span></span></a><span class="mpre">
</span><a name="loc_434_1_434_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_434_1_434_14&#39;)"><span class="hl_vardecl"><span class="mpre">decodeUtf32BE</span></span></a><span class="mpre"> =
    </span><a href="#loc_438_5_438_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_5_438_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre">
  where
    </span><a href="#loc_438_5_438_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_5_438_15&#39;)"><span class="mpre">beginChunk</span></a><span class="mpre"> :: </span><a href="#loc_75_6_75_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_6_75_7&#39;)"><span class="hl_tyconref"><span class="mpre">S</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_6_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_6_81_18&#39;)"><span class="hl_tyconref"><span class="mpre">DecodeResult</span></span></a><span class="mpre">
    </span><a name="loc_438_5_438_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_5_438_15&#39;)"><span class="hl_fundecl"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a name="loc_438_16_438_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_16_438_17&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> </span><a name="loc_438_18_438_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_18_438_20&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> | </span><span class="hl_varref"><span class="mpre">B.null</span></span><span class="mpre"> </span><a href="#loc_438_18_438_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_18_438_20&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> =
        case </span><a href="#loc_438_16_438_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_16_438_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
            </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre"> (</span><a href="#loc_438_5_438_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_5_438_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre">)
            _  -&gt; </span><a href="#loc_83_7_83_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_7_83_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_86_1_86_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_5&#39;)"><span class="hl_varref"><span class="mpre">toBS</span></span></a><span class="mpre"> </span><a href="#loc_438_16_438_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_16_438_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
    </span><a href="#loc_438_5_438_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_5_438_15&#39;)"><span class="hl_fundecl"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a name="loc_442_16_442_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_442_16_442_18&#39;)"><span class="hl_vardecl"><span class="mpre">s0</span></span></a><span class="mpre"> </span><a name="loc_442_19_442_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_442_19_442_21&#39;)"><span class="hl_vardecl"><span class="mpre">ps</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">runST</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        let </span><a name="loc_443_13_443_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_443_13_443_20&#39;)"><span class="hl_vardecl"><span class="mpre">initLen</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">B.length</span></span><span class="mpre"> </span><a href="#loc_442_19_442_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_442_19_442_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`div`</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">
        </span><a name="loc_444_9_444_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_444_9_444_13&#39;)"><span class="hl_vardecl"><span class="mpre">marr</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Text.Array.html#loc_115_1_115_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Array.html#loc_115_1_115_4&#39;)"><span class="hl_varref"><span class="mpre">A.new</span></span></a><span class="mpre"> (</span><a href="#loc_443_13_443_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_443_13_443_20&#39;)"><span class="hl_varref"><span class="mpre">initLen</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
        let </span><a name="loc_445_13_445_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_13_445_18&#39;)"><span class="hl_fundecl"><span class="mpre">start</span></span></a><span class="mpre"> !</span><a name="loc_445_20_445_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_20_445_21&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> !</span><a name="loc_445_23_445_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_23_445_24&#39;)"><span class="hl_vardecl"><span class="mpre">j</span></span></a><span class="mpre">
                | </span><a href="#loc_445_20_445_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_20_445_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_489_9_489_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_489_9_489_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = do
                    </span><a name="loc_447_21_447_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_447_21_447_22&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_93_1_93_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_8&#39;)"><span class="hl_varref"><span class="mpre">getText</span></span></a><span class="mpre"> </span><a href="#loc_445_23_445_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_23_445_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_444_9_444_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_444_9_444_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre">
                    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="#loc_447_21_447_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_447_21_447_22&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="#loc_438_5_438_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_5_438_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre">)
                | </span><a href="#loc_445_20_445_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_20_445_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_489_9_489_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_489_9_489_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Encoding.Utf32.html#loc_25_1_25_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf32.html#loc_25_1_25_9&#39;)"><span class="hl_varref"><span class="mpre">U32.validate</span></span></a><span class="mpre"> </span><a href="#loc_461_21_461_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_461_21_461_23&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre"> = </span><a href="#loc_462_21_462_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_462_21_462_29&#39;)"><span class="hl_varref"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre"> (</span><a href="Data.Text.Internal.Unsafe.Char.html#loc_52_1_52_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_52_1_52_12&#39;)"><span class="hl_varref"><span class="mpre">unsafeChr32</span></span></a><span class="mpre"> </span><a href="#loc_461_21_461_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_461_21_461_23&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre">)
                | </span><a href="#loc_445_20_445_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_20_445_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_489_9_489_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_489_9_489_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = do
                    </span><a name="loc_451_21_451_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_451_21_451_22&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_93_1_93_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_8&#39;)"><span class="hl_varref"><span class="mpre">getText</span></span></a><span class="mpre"> </span><a href="#loc_445_23_445_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_23_445_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_444_9_444_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_444_9_444_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre">
                    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_83_7_83_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_7_83_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> </span><a href="#loc_451_21_451_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_451_21_451_22&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="Data.ByteString.Unsafe.html#loc_148_1_148_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_148_1_148_11&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeDrop</span></span></a><span class="mpre"> </span><a href="#loc_445_20_445_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_20_445_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_442_19_442_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_442_19_442_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">)
                | </span><a href="#loc_445_20_445_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_20_445_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_489_9_489_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_489_9_489_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = </span><a href="#loc_465_21_465_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_465_21_465_29&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="#loc_78_10_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_10_78_12&#39;)"><span class="hl_conref"><span class="mpre">S3</span></span></a><span class="mpre"> </span><a href="#loc_457_21_457_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_457_21_457_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_458_21_458_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_21_458_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_459_21_459_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_459_21_459_22&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">)
                | </span><a href="#loc_445_20_445_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_20_445_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_489_9_489_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_489_9_489_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = </span><a href="#loc_465_21_465_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_465_21_465_29&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="#loc_77_10_77_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_12&#39;)"><span class="hl_conref"><span class="mpre">S2</span></span></a><span class="mpre"> </span><a href="#loc_457_21_457_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_457_21_457_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_458_21_458_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_21_458_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
                | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">   = </span><a href="#loc_465_21_465_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_465_21_465_29&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="#loc_76_10_76_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_10_76_12&#39;)"><span class="hl_conref"><span class="mpre">S1</span></span></a><span class="mpre"> </span><a href="#loc_457_21_457_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_457_21_457_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
                  where
                    </span><a name="loc_457_21_457_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_457_21_457_22&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_442_19_442_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_442_19_442_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> </span><a href="#loc_445_20_445_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_20_445_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">
                    </span><a name="loc_458_21_458_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_21_458_22&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_442_19_442_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_442_19_442_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> (</span><a href="#loc_445_20_445_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_20_445_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
                    </span><a name="loc_459_21_459_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_459_21_459_22&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_442_19_442_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_442_19_442_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> (</span><a href="#loc_445_20_445_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_20_445_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">)
                    </span><a name="loc_460_21_460_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_21_460_22&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_442_19_442_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_442_19_442_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> (</span><a href="#loc_445_20_445_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_20_445_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">)
                    </span><a name="loc_461_21_461_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_461_21_461_23&#39;)"><span class="hl_vardecl"><span class="mpre">x1</span></span></a><span class="mpre">   = </span><a href="#loc_490_9_490_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_490_9_490_16&#39;)"><span class="hl_varref"><span class="mpre">combine</span></span></a><span class="mpre"> </span><a href="#loc_457_21_457_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_457_21_457_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_458_21_458_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_21_458_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_459_21_459_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_459_21_459_22&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_460_21_460_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_21_460_22&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre">
                    </span><a name="loc_462_21_462_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_462_21_462_29&#39;)"><span class="hl_fundecl"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> </span><a name="loc_462_30_462_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_462_30_462_36&#39;)"><span class="hl_vardecl"><span class="mpre">deltai</span></span></a><span class="mpre"> </span><a name="loc_462_37_462_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_462_37_462_41&#39;)"><span class="hl_vardecl"><span class="mpre">char</span></span></a><span class="mpre"> = do
                        </span><a name="loc_463_25_463_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_463_25_463_31&#39;)"><span class="hl_vardecl"><span class="mpre">deltaj</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12&#39;)"><span class="hl_varref"><span class="mpre">unsafeWrite</span></span></a><span class="mpre"> </span><a href="#loc_444_9_444_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_444_9_444_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre"> </span><a href="#loc_445_23_445_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_23_445_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_462_37_462_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_462_37_462_41&#39;)"><span class="hl_varref"><span class="mpre">char</span></span></a><span class="mpre">
                        </span><a href="#loc_445_13_445_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_13_445_18&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre"> (</span><a href="#loc_445_20_445_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_20_445_21&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_462_30_462_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_462_30_462_36&#39;)"><span class="hl_varref"><span class="mpre">deltai</span></span></a><span class="mpre">) (</span><a href="#loc_445_23_445_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_23_445_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_463_25_463_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_463_25_463_31&#39;)"><span class="hl_varref"><span class="mpre">deltaj</span></span></a><span class="mpre">)
                    </span><a name="loc_465_21_465_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_465_21_465_29&#39;)"><span class="hl_fundecl"><span class="mpre">continue</span></span></a><span class="mpre"> </span><a name="loc_465_30_465_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_465_30_465_31&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = do
                        </span><a name="loc_466_25_466_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_25_466_26&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_93_1_93_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_8&#39;)"><span class="hl_varref"><span class="mpre">getText</span></span></a><span class="mpre"> </span><a href="#loc_445_23_445_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_23_445_24&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_444_9_444_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_444_9_444_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre">
                        </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="#loc_466_25_466_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_25_466_26&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="#loc_438_5_438_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_5_438_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_465_30_465_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_465_30_465_31&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)

            </span><a name="loc_469_13_469_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_469_13_469_22&#39;)"><span class="hl_fundecl"><span class="mpre">checkCont</span></span></a><span class="mpre"> </span><a name="loc_469_23_469_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_469_23_469_24&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> !</span><a name="loc_469_26_469_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_469_26_469_27&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> | </span><a href="#loc_469_26_469_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_469_26_469_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_489_9_489_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_489_9_489_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre"> (</span><a href="#loc_438_5_438_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_5_438_15&#39;)"><span class="hl_varref"><span class="mpre">beginChunk</span></span></a><span class="mpre"> </span><a href="#loc_469_23_469_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_469_23_469_24&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
            </span><a href="#loc_469_13_469_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_469_13_469_22&#39;)"><span class="hl_fundecl"><span class="mpre">checkCont</span></span></a><span class="mpre"> </span><a name="loc_470_23_470_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_470_23_470_24&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> !</span><a name="loc_470_26_470_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_470_26_470_27&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> =
                case </span><a href="#loc_470_23_470_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_470_23_470_24&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
                    </span><a href="#loc_75_10_75_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_12&#39;)"><span class="hl_conref"><span class="mpre">S0</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_445_13_445_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_13_445_18&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre"> </span><a href="#loc_470_26_470_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_470_26_470_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
                    </span><a href="#loc_76_10_76_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_10_76_12&#39;)"><span class="hl_conref"><span class="mpre">S1</span></span></a><span class="mpre"> </span><a name="loc_473_24_473_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_473_24_473_25&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_469_13_469_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_469_13_469_22&#39;)"><span class="hl_varref"><span class="mpre">checkCont</span></span></a><span class="mpre"> (</span><a href="#loc_77_10_77_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_12&#39;)"><span class="hl_conref"><span class="mpre">S2</span></span></a><span class="mpre"> </span><a href="#loc_473_24_473_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_473_24_473_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_482_17_482_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_17_482_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) (</span><a href="#loc_470_26_470_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_470_26_470_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
                    </span><a href="#loc_77_10_77_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_10_77_12&#39;)"><span class="hl_conref"><span class="mpre">S2</span></span></a><span class="mpre"> </span><a name="loc_474_24_474_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_24_474_25&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_474_26_474_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_26_474_27&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_469_13_469_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_469_13_469_22&#39;)"><span class="hl_varref"><span class="mpre">checkCont</span></span></a><span class="mpre"> (</span><a href="#loc_78_10_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_10_78_12&#39;)"><span class="hl_conref"><span class="mpre">S3</span></span></a><span class="mpre"> </span><a href="#loc_474_24_474_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_24_474_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_474_26_474_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_26_474_27&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_482_17_482_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_17_482_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) (</span><a href="#loc_470_26_470_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_470_26_470_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
                    </span><a href="#loc_78_10_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_10_78_12&#39;)"><span class="hl_conref"><span class="mpre">S3</span></span></a><span class="mpre"> </span><a name="loc_475_24_475_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_475_24_475_25&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_475_26_475_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_475_26_475_27&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> </span><a name="loc_475_28_475_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_475_28_475_29&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> -&gt;
                        let </span><a name="loc_476_29_476_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_29_476_31&#39;)"><span class="hl_vardecl"><span class="mpre">x1</span></span></a><span class="mpre"> = </span><a href="#loc_490_9_490_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_490_9_490_16&#39;)"><span class="hl_varref"><span class="mpre">combine</span></span></a><span class="mpre"> </span><a href="#loc_475_24_475_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_475_24_475_25&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_475_26_475_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_475_26_475_27&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_475_28_475_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_475_28_475_29&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_482_17_482_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_17_482_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
                         in if </span><a href="Data.Text.Internal.Encoding.Utf32.html#loc_25_1_25_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Encoding.Utf32.html#loc_25_1_25_9&#39;)"><span class="hl_varref"><span class="mpre">U32.validate</span></span></a><span class="mpre"> </span><a href="#loc_476_29_476_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_29_476_31&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre">
                                then </span><a href="#loc_483_17_483_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_483_17_483_25&#39;)"><span class="hl_varref"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Unsafe.Char.html#loc_52_1_52_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_52_1_52_12&#39;)"><span class="hl_varref"><span class="mpre">unsafeChr32</span></span></a><span class="mpre"> </span><a href="#loc_476_29_476_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_29_476_31&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre">)
                                else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_83_7_83_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_7_83_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_72_1_72_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_72_1_72_6&#39;)"><span class="hl_varref"><span class="mpre">T.empty</span></span></a><span class="mpre">
                                            </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.append</span></span><span class="mpre"> (</span><a href="#loc_86_1_86_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_5&#39;)"><span class="hl_varref"><span class="mpre">toBS</span></span></a><span class="mpre"> </span><a href="#loc_470_23_470_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_470_23_470_24&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">) (</span><a href="Data.ByteString.Unsafe.html#loc_148_1_148_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_148_1_148_11&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeDrop</span></span></a><span class="mpre"> </span><a href="#loc_470_26_470_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_470_26_470_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_442_19_442_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_442_19_442_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">)
              where
                </span><a name="loc_482_17_482_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_17_482_18&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_442_19_442_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_442_19_442_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre"> </span><a href="#loc_470_26_470_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_470_26_470_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">
                </span><a name="loc_483_17_483_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_483_17_483_25&#39;)"><span class="hl_fundecl"><span class="mpre">addChar&#39;</span></span></a><span class="mpre"> </span><a name="loc_483_26_483_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_483_26_483_27&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = do
                    </span><a name="loc_484_21_484_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_484_21_484_22&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Char.html#loc_58_1_58_12&#39;)"><span class="hl_varref"><span class="mpre">unsafeWrite</span></span></a><span class="mpre"> </span><a href="#loc_444_9_444_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_444_9_444_13&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="#loc_483_26_483_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_483_26_483_27&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
                    </span><a href="#loc_445_13_445_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_13_445_18&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre"> (</span><a href="#loc_470_26_470_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_470_26_470_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><a href="#loc_484_21_484_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_484_21_484_22&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre">

        </span><a href="#loc_469_13_469_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_469_13_469_22&#39;)"><span class="hl_varref"><span class="mpre">checkCont</span></span></a><span class="mpre"> </span><a href="#loc_442_16_442_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_442_16_442_18&#39;)"><span class="hl_varref"><span class="mpre">s0</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
      where
        </span><a name="loc_489_9_489_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_489_9_489_12&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">B.length</span></span><span class="mpre"> </span><a href="#loc_442_19_442_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_442_19_442_21&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">
        </span><a name="loc_490_9_490_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_490_9_490_16&#39;)"><span class="hl_fundecl"><span class="mpre">combine</span></span></a><span class="mpre"> </span><a name="loc_490_17_490_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_490_17_490_19&#39;)"><span class="hl_vardecl"><span class="mpre">w1</span></span></a><span class="mpre"> </span><a name="loc_490_20_490_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_490_20_490_22&#39;)"><span class="hl_vardecl"><span class="mpre">w2</span></span></a><span class="mpre"> </span><a name="loc_490_23_490_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_490_23_490_25&#39;)"><span class="hl_vardecl"><span class="mpre">w3</span></span></a><span class="mpre"> </span><a name="loc_490_26_490_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_490_26_490_28&#39;)"><span class="hl_vardecl"><span class="mpre">w4</span></span></a><span class="mpre"> =
                </span><a href="Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11&#39;)"><span class="hl_varref"><span class="mpre">shiftL</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_490_17_490_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_490_17_490_19&#39;)"><span class="hl_varref"><span class="mpre">w1</span></span></a><span class="mpre">) </span><span class="hl_num"><span class="mpre">24</span></span><span class="mpre">
            </span><span class="hl_infix"><span class="mpre">.|.</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11&#39;)"><span class="hl_varref"><span class="mpre">shiftL</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_490_20_490_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_490_20_490_22&#39;)"><span class="hl_varref"><span class="mpre">w2</span></span></a><span class="mpre">) </span><span class="hl_num"><span class="mpre">16</span></span><span class="mpre">
            </span><span class="hl_infix"><span class="mpre">.|.</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11&#39;)"><span class="hl_varref"><span class="mpre">shiftL</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_490_23_490_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_490_23_490_25&#39;)"><span class="hl_varref"><span class="mpre">w3</span></span></a><span class="mpre">) </span><span class="hl_num"><span class="mpre">8</span></span><span class="mpre">
            </span><span class="hl_infix"><span class="mpre">.|.</span></span><span class="mpre">        (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_490_26_490_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_490_26_490_28&#39;)"><span class="hl_varref"><span class="mpre">w4</span></span></a><span class="mpre">)
    </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_438_5_438_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_5_438_15&#39;)"><span class="mpre">beginChunk</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span></div></body></html>