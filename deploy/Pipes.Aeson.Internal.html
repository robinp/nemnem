<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE DeriveDataTypeable #-}
{-# LANGUAGE FlexibleInstances  #-}
{-# LANGUAGE RankNTypes         #-}

</span><span class="hl_comment"><span class="mpre">-- | This module provides internal utilities and it is likely</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- to be modified in backwards-incompatible ways in the future.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Use the stable API exported by the &quot;Pipes.Aeson&quot; module instead.</span></span><span class="mpre">
module Pipes.Aeson.Internal
  ( DecodingError(..)
  , consecutively
  , decodeL
  ) where
import           Control.Exception                (Exception)
import           Control.Monad.Trans.Error        (</span><a href="Control.Monad.Trans.Error.html#loc_83_7_83_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Error.html#loc_83_7_83_12&#39;)"><span class="mpre">Error</span></a><span class="mpre">)
import qualified Control.Monad.Trans.State.Strict as S
import qualified Data.Aeson                       as Ae
import qualified Data.Attoparsec.Types            as Attoparsec
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-aeson-0.4.1.1/src/Pipes/Aeson/Internal.hs&quot;, srcSpanStartLine = 19, srcSpanStartColumn = 18, srcSpanEndLine = 19, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre">                  as B
import qualified Data.ByteString.Internal         as B (</span><a href="Data.ByteString.Internal.html#loc_560_1_560_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_560_1_560_13&#39;)"><span class="mpre">isSpaceWord8</span></a><span class="mpre">)
import           </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-aeson-0.4.1.1/src/Pipes/Aeson/Internal.hs&quot;, srcSpanStartLine = 21, srcSpanStartColumn = 18, srcSpanEndLine = 21, srcSpanEndColumn = 27}, srcInfoPoints = []}) &quot;Data.Data&quot;"><span class="mpre">Data.Data</span></span><span class="mpre">                        (Data, Typeable)
import           Pipes
import qualified Pipes.Attoparsec                 as PA
import qualified Pipes.Parse                      as Pipes

</span><span class="hl_comment"><span class="mpre">--------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | An error while decoding a JSON value.</span></span><span class="mpre">
data </span><a name="loc_29_6_29_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_6_29_19&#39;)"><span class="hl_tycondecl"><span class="mpre">DecodingError</span></span></a><span class="mpre">
  = </span><a name="loc_30_5_30_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_5_30_20&#39;)"><span class="hl_condecl"><span class="mpre">AttoparsecError</span></span></a><span class="mpre"> </span><a href="Pipes.Attoparsec.html#loc_195_6_195_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.Attoparsec.html#loc_195_6_195_18&#39;)"><span class="hl_tyconref"><span class="mpre">PA.ParsingError</span></span></a><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- ^An @attoparsec@ error that happened while parsing the raw JSON string.</span></span><span class="mpre">
  | </span><a name="loc_32_5_32_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_5_32_18&#39;)"><span class="hl_condecl"><span class="mpre">FromJSONError</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- ^An @aeson@ error that happened while trying to convert a</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- &#39;Data.Aeson.Value&#39; to an &#39;A.FromJSON&#39; instance, as reported by</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- &#39;Data.Aeson.Error&#39;.</span></span><span class="mpre">
  </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-aeson-0.4.1.1/src/Pipes/Aeson/Internal.hs&quot;, srcSpanStartLine = 36, srcSpanStartColumn = 3, srcSpanEndLine = 36, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-aeson-0.4.1.1/src/Pipes/Aeson/Internal.hs&quot;, srcSpanStartLine = 36, srcSpanStartColumn = 3, srcSpanEndLine = 36, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-aeson-0.4.1.1/src/Pipes/A"><span class="mpre">deriving (Show, Eq, Data, Typeable)</span></span><span class="mpre">

instance </span><span class="hl_classref"><span class="mpre">Exception</span></span><span class="mpre"> </span><a href="#loc_29_6_29_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_6_29_19&#39;)"><span class="hl_tyconref"><span class="mpre">DecodingError</span></span></a><span class="mpre">
instance </span><a href="Control.Monad.Trans.Error.html#loc_83_7_83_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Error.html#loc_83_7_83_12&#39;)"><span class="hl_classref"><span class="mpre">Error</span></span></a><span class="mpre">     </span><a href="#loc_29_6_29_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_6_29_19&#39;)"><span class="hl_tyconref"><span class="mpre">DecodingError</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This instance allows using &#39;Pipes.Lift.errorP&#39; with &#39;Pipes.Aeson.decoded&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and &#39;Pipes.Aeson.decodedL&#39;</span></span><span class="mpre">
instance </span><a href="Control.Monad.Trans.Error.html#loc_83_7_83_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Error.html#loc_83_7_83_12&#39;)"><span class="hl_classref"><span class="mpre">Error</span></span></a><span class="mpre"> (</span><a href="#loc_29_6_29_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_6_29_19&#39;)"><span class="hl_tyconref"><span class="mpre">DecodingError</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">--------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Consecutively parse &#39;a&#39; elements from the given &#39;Producer&#39; using the given</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- parser (such as &#39;Pipes.Aeson.decode&#39; or &#39;Pipes.Aeson.parseValue&#39;), skipping</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- any leading whitespace each time.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This &#39;Producer&#39; runs until it either runs out of input or until a decoding</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- failure occurs, in which case it returns &#39;Left&#39; with a &#39;DecodingError&#39; and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- a &#39;Producer&#39; with any leftovers. You can use &#39;Pipes.Lift.errorP&#39; to turn the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Either&#39; return value into an &#39;Control.Monad.Trans.Error.ErrorT&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- monad transformer.</span></span><span class="mpre">
</span><a href="#loc_61_1_61_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_1_61_14&#39;)"><span class="mpre">consecutively</span></a><span class="mpre">
  :: </span><span class="warning" data-warning="ContextCxParen (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-aeson-0.4.1.1/src/Pipes/Aeson/Internal.hs&quot;, srcSpanStartLine = 57, srcSpanStartColumn = 6, srcSpanEndLine = 58, srcSpanEndColumn = 5}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-aeson-0.4.1.1/src/Pipes/Aeson/Internal.hs&quot;, srcSpanStartLine = 57, srcSpanStartColumn = 6, srcSpanEndLine = 57, srcSpanEndColumn = 7},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-aeson-0.4.1.1/src/Pipes/Aeso"><span class="mpre">(Monad m)
  =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Pipes.Parser</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">))
  -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^Producer from which to draw raw input.</span></span><span class="mpre">
  -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">)
</span><a name="loc_61_1_61_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_1_61_14&#39;)"><span class="hl_fundecl"><span class="mpre">consecutively</span></span></a><span class="mpre"> </span><a name="loc_61_15_61_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_15_61_21&#39;)"><span class="hl_vardecl"><span class="mpre">parser</span></span></a><span class="mpre"> = </span><a href="#loc_62_5_62_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_5_62_9&#39;)"><span class="hl_varref"><span class="mpre">step</span></span></a><span class="mpre"> where
    </span><a name="loc_62_5_62_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_5_62_9&#39;)"><span class="hl_fundecl"><span class="mpre">step</span></span></a><span class="mpre"> </span><a name="loc_62_10_62_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_10_62_12&#39;)"><span class="hl_vardecl"><span class="mpre">p0</span></span></a><span class="mpre"> = do
      </span><a name="loc_63_7_63_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_7_63_8&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_105_1_105_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_1_105_14&#39;)"><span class="hl_varref"><span class="mpre">nextSkipBlank</span></span></a><span class="mpre"> </span><a href="#loc_62_10_62_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_10_62_12&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">
      case </span><a href="#loc_63_7_63_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_7_63_8&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
         </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_65_15_65_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_15_65_16&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a href="#loc_65_15_65_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_15_65_16&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">)
         </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_66_17_66_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_17_66_19&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre">, </span><a name="loc_66_21_66_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_23&#39;)"><span class="hl_vardecl"><span class="mpre">p1</span></span></a><span class="mpre">) -&gt; do
            (</span><a name="loc_67_14_67_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_14_67_17&#39;)"><span class="hl_vardecl"><span class="mpre">mea</span></span></a><span class="mpre">, </span><a name="loc_67_19_67_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_19_67_21&#39;)"><span class="hl_vardecl"><span class="mpre">p2</span></span></a><span class="mpre">) &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.State.Strict.html#loc_139_33_139_42" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.State.Strict.html#loc_139_33_139_42&#39;)"><span class="hl_varref"><span class="mpre">S.runStateT</span></span></a><span class="mpre"> </span><a href="#loc_61_15_61_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_15_61_21&#39;)"><span class="hl_varref"><span class="mpre">parser</span></span></a><span class="mpre"> (</span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_66_17_66_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_17_66_19&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_66_21_66_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_23&#39;)"><span class="hl_varref"><span class="mpre">p1</span></span></a><span class="mpre">)
            case </span><a href="#loc_67_14_67_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_14_67_17&#39;)"><span class="hl_varref"><span class="mpre">mea</span></span></a><span class="mpre"> of
               </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a name="loc_69_28_69_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_28_69_29&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">) -&gt; </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_69_28_69_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_28_69_29&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_62_5_62_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_5_62_9&#39;)"><span class="hl_varref"><span class="mpre">step</span></span></a><span class="mpre"> </span><a href="#loc_67_19_67_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_19_67_21&#39;)"><span class="hl_varref"><span class="mpre">p2</span></span></a><span class="mpre">
               </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre">  </span><a name="loc_70_28_70_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_28_70_29&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre">) -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> (</span><a href="#loc_70_28_70_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_28_70_29&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">, </span><a href="#loc_67_19_67_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_19_67_21&#39;)"><span class="hl_varref"><span class="mpre">p2</span></span></a><span class="mpre">))
               </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Pipes.Aeson.Internal.consecutively: impossible&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE consecutively #-}</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Decodes a &#39;Ae.FromJSON&#39; value from the underlying state using the given</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Attoparsec.Parser&#39; in order to obtain an &#39;Ae.Value&#39; first.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Returns either the decoded entitiy, or a &#39;I.DecodingError&#39; in case of error.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- It returns &#39;Nothing&#39; if the underlying &#39;Producer&#39; is exhausted, otherwise</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- it returns either the decoded entity or a &#39;I.DecodingError&#39; in case of error.</span></span><span class="mpre">
</span><a href="#loc_86_1_86_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_8&#39;)"><span class="mpre">decodeL</span></a><span class="mpre">
  :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-aeson-0.4.1.1/src/Pipes/Aeson/Internal.hs&quot;, srcSpanStartLine = 83, srcSpanStartColumn = 6, srcSpanEndLine = 84, srcSpanEndColumn = 5}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-aeson-0.4.1.1/src/Pipes/Aeson/Internal.hs&quot;, srcSpanStartLine = 83, srcSpanStartColumn = 6, srcSpanEndLine = 83, srcSpanEndColumn = 7},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-aeson-0.4.1.1/src/Pipes/Aeso"><span class="mpre">(Monad m, Ae.FromJSON a)
  =&gt;</span></span><span class="mpre"> </span><a href="Data.Attoparsec.Internal.Types.html#loc_104_9_104_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_104_9_104_15&#39;)"><span class="hl_tyconref"><span class="mpre">Attoparsec.Parser</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> </span><a href="Data.Aeson.Types.Internal.html#loc_177_6_177_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Aeson.Types.Internal.html#loc_177_6_177_11&#39;)"><span class="hl_tyconref"><span class="mpre">Ae.Value</span></span></a><span class="mpre">
  -&gt; </span><span class="hl_tyconref"><span class="mpre">Pipes.Parser</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><a href="#loc_29_6_29_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_6_29_19&#39;)"><span class="hl_tyconref"><span class="mpre">DecodingError</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">))) </span><span class="hl_comment"><span class="mpre">-- ^</span></span><span class="mpre">
</span><a name="loc_86_1_86_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_8&#39;)"><span class="hl_fundecl"><span class="mpre">decodeL</span></span></a><span class="mpre"> </span><a name="loc_86_9_86_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_9_86_15&#39;)"><span class="hl_vardecl"><span class="mpre">parser</span></span></a><span class="mpre"> = do
    </span><a name="loc_87_5_87_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_5_87_8&#39;)"><span class="hl_vardecl"><span class="mpre">mev</span></span></a><span class="mpre"> &lt;- </span><a href="Pipes.Attoparsec.html#loc_118_1_118_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.Attoparsec.html#loc_118_1_118_7&#39;)"><span class="hl_varref"><span class="mpre">PA.parseL</span></span></a><span class="mpre"> </span><a href="#loc_86_9_86_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_9_86_15&#39;)"><span class="hl_varref"><span class="mpre">parser</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> case </span><a href="#loc_87_5_87_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_5_87_8&#39;)"><span class="hl_varref"><span class="mpre">mev</span></span></a><span class="mpre"> of
       </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">             -&gt; </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
       </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_90_19_90_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_19_90_20&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre">)       -&gt; </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> (</span><a href="#loc_30_5_30_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_5_30_20&#39;)"><span class="hl_conref"><span class="mpre">AttoparsecError</span></span></a><span class="mpre"> </span><a href="#loc_90_19_90_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_19_90_20&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">))
       </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_91_21_91_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_21_91_22&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre">, </span><a name="loc_91_24_91_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_24_91_25&#39;)"><span class="hl_vardecl"><span class="mpre">v</span></span></a><span class="mpre">)) -&gt; case </span><a href="Data.Aeson.Types.Instances.html#loc_722_1_722_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Aeson.Types.Instances.html#loc_722_1_722_9&#39;)"><span class="hl_varref"><span class="mpre">Ae.fromJSON</span></span></a><span class="mpre"> </span><a href="#loc_91_24_91_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_24_91_25&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre"> of
          </span><span class="hl_conref"><span class="mpre">Ae.Error</span></span><span class="mpre"> </span><a name="loc_92_20_92_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_20_92_21&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre">   -&gt; </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> (</span><a href="#loc_32_5_32_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_5_32_18&#39;)"><span class="hl_conref"><span class="mpre">FromJSONError</span></span></a><span class="mpre"> </span><a href="#loc_92_20_92_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_20_92_21&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">))
          </span><span class="hl_conref"><span class="mpre">Ae.Success</span></span><span class="mpre"> </span><a name="loc_93_22_93_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_22_93_23&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a href="#loc_91_21_91_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_21_91_22&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">, </span><a href="#loc_93_22_93_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_22_93_23&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">))
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE decodeL #-}</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">--------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Internal stuff</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Like &#39;Pipes.next&#39;, except it skips leading whitespace and &#39;B.null&#39; chunks.</span></span><span class="mpre">
</span><a href="#loc_105_1_105_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_1_105_14&#39;)"><span class="mpre">nextSkipBlank</span></a><span class="mpre">
  :: </span><span class="warning" data-warning="ContextCxParen (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-aeson-0.4.1.1/src/Pipes/Aeson/Internal.hs&quot;, srcSpanStartLine = 102, srcSpanStartColumn = 6, srcSpanEndLine = 103, srcSpanEndColumn = 5}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-aeson-0.4.1.1/src/Pipes/Aeson/Internal.hs&quot;, srcSpanStartLine = 102, srcSpanStartColumn = 6, srcSpanEndLine = 102, srcSpanEndColumn = 7},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-aeson-0.4.1.1/src/Pipes/"><span class="mpre">(Monad m)
  =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">
  -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">))
</span><a name="loc_105_1_105_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_1_105_14&#39;)"><span class="hl_vardecl"><span class="mpre">nextSkipBlank</span></span></a><span class="mpre"> = </span><a href="#loc_106_5_106_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_5_106_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> where
    </span><a name="loc_106_5_106_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_5_106_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_106_8_106_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_8_106_10&#39;)"><span class="hl_vardecl"><span class="mpre">p0</span></span></a><span class="mpre"> = do
      </span><a name="loc_107_7_107_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_7_107_8&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Pipes.html#loc_454_1_454_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_454_1_454_5&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_106_8_106_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_8_106_10&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">
      case </span><a href="#loc_107_7_107_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_7_107_8&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
         </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre">  _      -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_107_7_107_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_7_107_8&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
         </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_110_17_110_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_17_110_18&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">,</span><a name="loc_110_19_110_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_19_110_21&#39;)"><span class="hl_vardecl"><span class="mpre">p1</span></span></a><span class="mpre">) -&gt; do
            let </span><a name="loc_111_17_111_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_17_111_19&#39;)"><span class="hl_vardecl"><span class="mpre">a&#39;</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">B.dropWhile</span></span><span class="mpre"> </span><a href="Data.ByteString.Internal.html#loc_560_1_560_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_560_1_560_13&#39;)"><span class="hl_varref"><span class="mpre">B.isSpaceWord8</span></span></a><span class="mpre"> </span><a href="#loc_110_17_110_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_17_110_18&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
            if </span><span class="hl_varref"><span class="mpre">B.null</span></span><span class="mpre"> </span><a href="#loc_111_17_111_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_17_111_19&#39;)"><span class="hl_varref"><span class="mpre">a&#39;</span></span></a><span class="mpre"> then </span><a href="#loc_106_5_106_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_5_106_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_110_19_110_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_19_110_21&#39;)"><span class="hl_varref"><span class="mpre">p1</span></span></a><span class="mpre">
                         else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a href="#loc_111_17_111_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_17_111_19&#39;)"><span class="hl_varref"><span class="mpre">a&#39;</span></span></a><span class="mpre">, </span><a href="#loc_110_19_110_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_19_110_21&#39;)"><span class="hl_varref"><span class="mpre">p1</span></span></a><span class="mpre">))
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE nextSkipBlank #-}</span></span><span class="mpre">
</span></div></body></html>