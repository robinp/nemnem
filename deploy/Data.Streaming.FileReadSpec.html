<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">module Data.Streaming.FileReadSpec (spec) where

import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/streaming-commons-0.1.3/test/Data/Streaming/FileReadSpec.hs&quot;, srcSpanStartLine = 3, srcSpanStartColumn = 8, srcSpanEndLine = 3, srcSpanEndColumn = 18}, srcInfoPoints = []}) &quot;Test.Hspec&quot;"><span class="mpre">Test.Hspec</span></span><span class="mpre">
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/streaming-commons-0.1.3/test/Data/Streaming/FileReadSpec.hs&quot;, srcSpanStartLine = 4, srcSpanStartColumn = 18, srcSpanEndLine = 4, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> as S
import qualified Data.Streaming.FileRead as F
import Control.Exception (</span><a href="Control.Exception.Base.html#loc_259_1_259_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Base.html#loc_259_1_259_8&#39;)"><span class="mpre">bracket</span></a><span class="mpre">)

</span><a href="#loc_9_1_9_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_9_1_9_5&#39;)"><span class="mpre">spec</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Spec</span></span><span class="mpre">
</span><a name="loc_9_1_9_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_9_1_9_5&#39;)"><span class="hl_vardecl"><span class="mpre">spec</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">describe</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Data.Streaming.FileRead&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
    </span><span class="hl_varref"><span class="mpre">it</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;works&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        let </span><a name="loc_11_13_11_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_13_11_15&#39;)"><span class="hl_vardecl"><span class="mpre">fp</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;LICENSE&quot;</span></span><span class="mpre">
        </span><a name="loc_12_9_12_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_12_9_12_17&#39;)"><span class="hl_vardecl"><span class="mpre">expected</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">S.readFile</span></span><span class="mpre"> </span><a href="#loc_11_13_11_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_13_11_15&#39;)"><span class="hl_varref"><span class="mpre">fp</span></span></a><span class="mpre">
        </span><a name="loc_13_9_13_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_13_9_13_15&#39;)"><span class="hl_vardecl"><span class="mpre">actual</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Exception.Base.html#loc_259_1_259_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Base.html#loc_259_1_259_8&#39;)"><span class="hl_varref"><span class="mpre">bracket</span></span></a><span class="mpre"> (</span><a href="Data.Streaming.FileRead.html#loc_29_1_29_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.FileRead.html#loc_29_1_29_9&#39;)"><span class="hl_varref"><span class="mpre">F.openFile</span></span></a><span class="mpre"> </span><a href="#loc_11_13_11_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_13_11_15&#39;)"><span class="hl_varref"><span class="mpre">fp</span></span></a><span class="mpre">) </span><a href="Data.Streaming.FileRead.html#loc_32_1_32_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.FileRead.html#loc_32_1_32_10&#39;)"><span class="hl_varref"><span class="mpre">F.closeFile</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_13_58_13_60" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_13_58_13_60&#39;)"><span class="hl_vardecl"><span class="mpre">fh</span></span></a><span class="mpre"> -&gt; do
            let </span><a name="loc_14_17_14_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_17_14_21&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a name="loc_14_22_14_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_22_14_27&#39;)"><span class="hl_vardecl"><span class="mpre">front</span></span></a><span class="mpre"> = do
                    </span><a name="loc_15_21_15_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_15_21_15_23&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Streaming.FileRead.html#loc_35_1_35_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.FileRead.html#loc_35_1_35_10&#39;)"><span class="hl_varref"><span class="mpre">F.readChunk</span></span></a><span class="mpre"> </span><a href="#loc_13_58_13_60" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_13_58_13_60&#39;)"><span class="hl_varref"><span class="mpre">fh</span></span></a><span class="mpre">
                    if </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_15_21_15_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_15_21_15_23&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
                        then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.concat</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_14_22_14_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_22_14_27&#39;)"><span class="hl_varref"><span class="mpre">front</span></span></a><span class="mpre"> []
                        else </span><a href="#loc_14_17_14_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_17_14_21&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> (</span><a href="#loc_14_22_14_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_22_14_27&#39;)"><span class="hl_varref"><span class="mpre">front</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (</span><a href="#loc_15_21_15_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_15_21_15_23&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">))
            </span><a href="#loc_14_17_14_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_17_14_21&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">
        </span><a href="#loc_13_9_13_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_13_9_13_15&#39;)"><span class="hl_varref"><span class="mpre">actual</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`shouldBe`</span></span><span class="mpre"> </span><a href="#loc_12_9_12_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_12_9_12_17&#39;)"><span class="hl_varref"><span class="mpre">expected</span></span></a><span class="mpre">
</span></div></body></html>