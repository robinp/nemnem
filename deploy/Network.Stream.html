<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Network.Stream</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  See LICENSE file</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  BSD</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  Ganesh Sittampalam &lt;ganesh@earth.li&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  experimental</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  non-portable (not tested)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- An library for creating abstract streams. Originally part of Gray&#39;s\/Bringert&#39;s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- HTTP module.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * Changes by Robin Bate Boerop &lt;robin@bateboerop.name&gt;:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--      - Removed unnecessary import statements.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--      - Moved Debug code to StreamDebugger.hs</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--      - Moved Socket-related code to StreamSocket.hs.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * Changes by Simon Foster:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--      - Split Network.HTTPmodule up into to separate</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--        Network.[Stream,TCP,HTTP] modules</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
module Network.Stream
   ( Stream(..)
   , ConnError(..)
   , Result
   , bindE
   , fmapE

   , failParse </span><span class="hl_comment"><span class="mpre">-- :: String -&gt; Result a</span></span><span class="mpre">
   , failWith  </span><span class="hl_comment"><span class="mpre">-- :: ConnError -&gt; Result a</span></span><span class="mpre">
   , failMisc  </span><span class="hl_comment"><span class="mpre">-- :: String -&gt; Result a</span></span><span class="mpre">
   ) where

import Control.Monad.Error

data </span><a name="loc_37_6_37_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_6_37_15&#39;)"><span class="hl_tycondecl"><span class="mpre">ConnError</span></span></a><span class="mpre"> 
 = </span><a name="loc_38_4_38_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_4_38_14&#39;)"><span class="hl_condecl"><span class="mpre">ErrorReset</span></span></a><span class="mpre"> 
 | </span><a name="loc_39_4_39_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_4_39_15&#39;)"><span class="hl_condecl"><span class="mpre">ErrorClosed</span></span></a><span class="mpre">
 | </span><a name="loc_40_4_40_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_4_40_14&#39;)"><span class="hl_condecl"><span class="mpre">ErrorParse</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
 | </span><a name="loc_41_4_41_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_4_41_13&#39;)"><span class="hl_condecl"><span class="mpre">ErrorMisc</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
   </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/HTTP-4000.2.17/Network/Stream.hs&quot;, srcSpanStartLine = 42, srcSpanStartColumn = 4, srcSpanEndLine = 42, srcSpanEndColumn = 21}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/HTTP-4000.2.17/Network/Stream.hs&quot;, srcSpanStartLine = 42, srcSpanStartColumn = 4, srcSpanEndLine = 42, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/HTTP-4000.2.17/Network/Stream.hs&quot;, srcSpanStartLine = 42, src"><span class="mpre">deriving(Show,Eq)</span></span><span class="mpre">

instance </span><a href="Control.Monad.Trans.Error.html#loc_83_7_83_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Error.html#loc_83_7_83_12&#39;)"><span class="hl_classref"><span class="mpre">Error</span></span></a><span class="mpre"> </span><a href="#loc_37_6_37_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_6_37_15&#39;)"><span class="hl_tyconref"><span class="mpre">ConnError</span></span></a><span class="mpre"> where
  </span><span class="hl_vardecl"><span class="mpre">noMsg</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">strMsg</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;unknown error&quot;</span></span><span class="mpre">
  </span><span class="hl_fundecl"><span class="mpre">strMsg</span></span><span class="mpre"> </span><a name="loc_46_10_46_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_10_46_11&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_41_4_41_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_4_41_13&#39;)"><span class="hl_conref"><span class="mpre">ErrorMisc</span></span></a><span class="mpre"> </span><a href="#loc_46_10_46_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_10_46_11&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- in GHC 7.0 the Monad instance for Error no longer</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- uses fail x = Left (strMsg x). failMisc is therefore</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- used instead.</span></span><span class="mpre">
</span><a href="#loc_52_1_52_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_1_52_9&#39;)"><span class="mpre">failMisc</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Result</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_52_1_52_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_1_52_9&#39;)"><span class="hl_fundecl"><span class="mpre">failMisc</span></span></a><span class="mpre"> </span><a name="loc_52_10_52_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_10_52_11&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_58_1_58_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_1_58_9&#39;)"><span class="hl_varref"><span class="mpre">failWith</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">strMsg</span></span><span class="mpre"> </span><a href="#loc_52_10_52_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_10_52_11&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)

</span><a href="#loc_55_1_55_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_1_55_10&#39;)"><span class="mpre">failParse</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Result</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_55_1_55_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_1_55_10&#39;)"><span class="hl_fundecl"><span class="mpre">failParse</span></span></a><span class="mpre"> </span><a name="loc_55_11_55_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_11_55_12&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_58_1_58_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_1_58_9&#39;)"><span class="hl_varref"><span class="mpre">failWith</span></span></a><span class="mpre"> (</span><a href="#loc_40_4_40_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_4_40_14&#39;)"><span class="hl_conref"><span class="mpre">ErrorParse</span></span></a><span class="mpre"> </span><a href="#loc_55_11_55_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_11_55_12&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)

</span><a href="#loc_58_1_58_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_1_58_9&#39;)"><span class="mpre">failWith</span></a><span class="mpre"> :: </span><a href="#loc_37_6_37_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_6_37_15&#39;)"><span class="hl_tyconref"><span class="mpre">ConnError</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Result</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_58_1_58_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_1_58_9&#39;)"><span class="hl_fundecl"><span class="mpre">failWith</span></span></a><span class="mpre"> </span><a name="loc_58_10_58_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_10_58_11&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a href="#loc_58_10_58_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_10_58_11&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">

</span><a href="#loc_61_1_61_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_1_61_6&#39;)"><span class="mpre">bindE</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Result</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Result</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Result</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_61_1_61_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_1_61_6&#39;)"><span class="hl_fundecl"><span class="mpre">bindE</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_61_13_61_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_13_61_14&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre">)  _ = </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a href="#loc_61_13_61_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_13_61_14&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">
</span><a href="#loc_61_1_61_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_1_61_6&#39;)"><span class="hl_fundecl"><span class="mpre">bindE</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a name="loc_62_14_62_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_14_62_15&#39;)"><span class="hl_vardecl"><span class="mpre">v</span></span></a><span class="mpre">) </span><a name="loc_62_17_62_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_17_62_18&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_62_17_62_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_17_62_18&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_62_14_62_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_14_62_15&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre">

</span><a href="#loc_65_1_65_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_1_65_6&#39;)"><span class="mpre">fmapE</span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Result</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Result</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Result</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">)
</span><a name="loc_65_1_65_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_1_65_6&#39;)"><span class="hl_fundecl"><span class="mpre">fmapE</span></span></a><span class="mpre"> </span><a name="loc_65_7_65_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_7_65_8&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_65_9_65_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_9_65_10&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = do
 </span><a name="loc_66_2_66_3" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_2_66_3&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_65_9_65_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_9_65_10&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
 case </span><a href="#loc_66_2_66_3" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_2_66_3&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of
   </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre">  </span><a name="loc_68_10_68_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_10_68_11&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a href="#loc_68_10_68_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_10_68_11&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">)
   </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a name="loc_69_10_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_10_69_11&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_65_7_65_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_7_65_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_69_10_69_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_10_69_11&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">) 
  
</span><span class="hl_comment"><span class="mpre">-- | This is the type returned by many exported network functions.</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/HTTP-4000.2.17/Network/Stream.hs&quot;, srcSpanStartLine = 72, srcSpanStartColumn = 1, srcSpanEndLine = 73, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/HTTP-4000.2.17/Network/Stream.hs&quot;, srcSpanStartLine = 72, srcSpanStartColumn = 1, srcSpanEndLine = 72, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/HTTP-4000.2.17/Network/Stream.hs&quot;, srcSpanStartLine = 72, srcS"><span class="mpre">type Result a = Either ConnError   </span><span class="hl_comment"><span class="mpre">{- error  -}</span></span><span class="mpre">
                       a</span></span><span class="mpre">           </span><span class="hl_comment"><span class="mpre">{- result -}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Streams should make layering of TLS protocol easier in future,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- they allow reading/writing to files etc for debugging,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- they allow use of protocols other than TCP/IP</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and they allow customisation.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Instances of this class should not trim</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the input in any way, e.g. leave LF on line</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- endings etc. Unless that is exactly the behaviour</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- you want from your twisted instances ;)</span></span><span class="mpre">
class </span><a name="loc_84_7_84_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_7_84_13&#39;)"><span class="hl_classdecl"><span class="mpre">Stream</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> where 
    </span><a name="loc_85_5_85_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_5_85_13&#39;)"><span class="mpre">readLine</span></a><span class="mpre">   :: </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Result</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">)
    </span><a name="loc_86_5_86_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_5_86_14&#39;)"><span class="mpre">readBlock</span></a><span class="mpre">  :: </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Result</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">)
    </span><a name="loc_87_5_87_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_5_87_15&#39;)"><span class="mpre">writeBlock</span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Result</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">)
    </span><a name="loc_88_5_88_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_5_88_10&#39;)"><span class="mpre">close</span></a><span class="mpre">      :: </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
    </span><a name="loc_89_5_89_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_5_89_15&#39;)"><span class="mpre">closeOnEnd</span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- ^ True =&gt; shutdown the connection when response has been read / end-of-stream</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">--           has been reached.</span></span><span class="mpre">
</span></div></body></html>