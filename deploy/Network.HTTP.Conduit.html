<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE FlexibleContexts      #-}
{-# LANGUAGE MultiParamTypeClasses #-}
{-# LANGUAGE OverloadedStrings     #-}
</span><span class="hl_comment"><span class="mpre">-- | This module contains everything you need to initiate HTTP connections.  If</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- you want a simple interface based on URLs, you can use &#39;simpleHttp&#39;. If you</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- want raw power, &#39;http&#39; is the underlying workhorse of this package. Some</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- examples:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; -- Just download an HTML document and print it.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Network.HTTP.Conduit</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import qualified Data.ByteString.Lazy as L</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; main = simpleHttp &quot;http://www.haskell.org/&quot; &gt;&gt;= L.putStr</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This example uses interleaved IO to write the response body to a file in</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- constant memory space.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Data.Conduit.Binary (sinkFile)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Network.HTTP.Conduit</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import qualified Data.Conduit as C</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; main :: IO ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; main = do</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;      request &lt;- parseUrl &quot;http://google.com/&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;      withManager $ \manager -&gt; do</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;          response &lt;- http request manager</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;          responseBody response C.$$+- sinkFile &quot;google.html&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The following headers are automatically set by this module, and should not</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- be added to &#39;requestHeaders&#39;:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * Cookie</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * Content-Length</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * Transfer-Encoding</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note: In previous versions, the Host header would be set by this module in</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- all cases. Starting from 1.6.1, if a Host header is present in</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @requestHeaders@, it will be used in place of the header this module would</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- have generated. This can be useful for calling a server which utilizes</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- virtual hosting.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Use `cookieJar` If you want to supply cookies with your request:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; {-# LANGUAGE OverloadedStrings #-}</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Network.HTTP.Conduit</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Network</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Data.Time.Clock</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Data.Time.Calendar</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import qualified Control.Exception as E</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; past :: UTCTime</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; past = UTCTime (ModifiedJulianDay 56200) (secondsToDiffTime 0)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; future :: UTCTime</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; future = UTCTime (ModifiedJulianDay 562000) (secondsToDiffTime 0)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; cookie :: Cookie</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; cookie = Cookie { cookie_name = &quot;password_hash&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;                 , cookie_value = &quot;abf472c35f8297fbcabf2911230001234fd2&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;                 , cookie_expiry_time = future</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;                 , cookie_domain = &quot;example.com&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;                 , cookie_path = &quot;/&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;                 , cookie_creation_time = past</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;                 , cookie_last_access_time = past</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;                 , cookie_persistent = False</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;                 , cookie_host_only = False</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;                 , cookie_secure_only = False</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;                 , cookie_http_only = False</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;                 }</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; main = withSocketsDo $ do</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;      request&#39; &lt;- parseUrl &quot;http://example.com/secret-page&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;      let request = request&#39; { cookieJar = Just $ createCookieJar [cookie] }</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;      E.catch (withManager $ httpLbs request)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;              (\(StatusCodeException s _ _) -&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;                if statusCode==403 then putStrLn &quot;login failed&quot; else return ())</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Any network code on Windows requires some initialization, and the network</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- library provides withSocketsDo to perform it. Therefore, proper usage of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- this library will always involve calling that function at some point.  The</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- best approach is to simply call them at the beginning of your main function,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- such as:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Network.HTTP.Conduit</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import qualified Data.ByteString.Lazy as L</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Network (withSocketsDo)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; main = withSocketsDo</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;      $ simpleHttp &quot;http://www.haskell.org/&quot; &gt;&gt;= L.putStr</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Cookies are implemented according to RFC 6265.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note that by default, the functions in this package will throw exceptions</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- for non-2xx status codes. If you would like to avoid this, you should use</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;checkStatus&#39;, e.g.:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Data.Conduit.Binary (sinkFile)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Network.HTTP.Conduit</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import qualified Data.Conduit as C</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Network</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; main :: IO ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; main = withSocketsDo $ do</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;      request&#39; &lt;- parseUrl &quot;http://www.yesodweb.com/does-not-exist&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;      let request = request&#39; { checkStatus = \_ _ _ -&gt; Nothing }</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;      res &lt;- withManager $ httpLbs request</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;      print res</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- By default, when connecting to websites using HTTPS, functions in this</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- package will throw an exception if the TLS certificate doesn&#39;t validate. To</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- continue the HTTPS transaction even if the TLS cerficate validation fails,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- you should use &#39;mkManagerSetttings&#39; as follows:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Network.Connection (TLSSettings (..))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Network.HTTP.Conduit</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; main :: IO ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; main = do</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;     request &lt;- parseUrl &quot;https://github.com/&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;     let settings = mkManagerSettings (TLSSettingsSimple True False False) Nothing</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;     res &lt;- withManagerSettings settings $ httpLbs request</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;     print res</span></span><span class="mpre">

module Network.HTTP.Conduit
    ( </span><span class="hl_comment"><span class="mpre">-- * Perform a request</span></span><span class="mpre">
      simpleHttp
    , httpLbs
    , http
      </span><span class="hl_comment"><span class="mpre">-- * Datatypes</span></span><span class="mpre">
    , Proxy (..)
    , RequestBody (..)
      </span><span class="hl_comment"><span class="mpre">-- ** Request</span></span><span class="mpre">
    , Request
    , method
    , secure
    , host
    , port
    , path
    , queryString
    , requestHeaders
    , requestBody
    , proxy
    , hostAddress
    , rawBody
    , decompress
    , redirectCount
    , checkStatus
    , responseTimeout
    , cookieJar
    , getConnectionWrapper
      </span><span class="hl_comment"><span class="mpre">-- *** Request body</span></span><span class="mpre">
    , requestBodySource
    , requestBodySourceChunked
    , requestBodySourceIO
    , requestBodySourceChunkedIO
      </span><span class="hl_comment"><span class="mpre">-- * Response</span></span><span class="mpre">
    , Response
    , responseStatus
    , responseVersion
    , responseHeaders
    , responseBody
    , responseCookieJar
      </span><span class="hl_comment"><span class="mpre">-- * Manager</span></span><span class="mpre">
    , Manager
    , newManager
    , closeManager
    , withManager
    , withManagerSettings
      </span><span class="hl_comment"><span class="mpre">-- ** Settings</span></span><span class="mpre">
    , ManagerSettings
    , conduitManagerSettings
    , mkManagerSettings
    , managerConnCount
    , managerResponseTimeout
    , managerTlsConnection
      </span><span class="hl_comment"><span class="mpre">-- * Cookies</span></span><span class="mpre">
    , Cookie(..)
    , CookieJar
    , createCookieJar
    , destroyCookieJar
      </span><span class="hl_comment"><span class="mpre">-- * Utility functions</span></span><span class="mpre">
    , parseUrl
    , applyBasicAuth
    , addProxy
    , lbsResponse
    , getRedirectedRequest
      </span><span class="hl_comment"><span class="mpre">-- * Decompression predicates</span></span><span class="mpre">
    , alwaysDecompress
    , browserDecompress
      </span><span class="hl_comment"><span class="mpre">-- * Request bodies</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- | &quot;Network.HTTP.Conduit.MultipartFormData&quot; provides an API for building</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- form-data request bodies.</span></span><span class="mpre">
    , urlEncodedBody
      </span><span class="hl_comment"><span class="mpre">-- * Exceptions</span></span><span class="mpre">
    , HttpException (..)
    ) where

import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Conduit.hs&quot;, srcSpanStartLine = 200, srcSpanStartColumn = 18, srcSpanEndLine = 200, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre">              as S
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Conduit.hs&quot;, srcSpanStartLine = 201, srcSpanStartColumn = 18, srcSpanEndLine = 201, srcSpanEndColumn = 38}, srcInfoPoints = []}) &quot;Data.ByteString.Lazy&quot;"><span class="mpre">Data.ByteString.Lazy</span></span><span class="mpre">         as L
import           Data.Conduit                 (</span><a href="Data.Conduit.Internal.html#loc_330_6_330_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Internal.html#loc_330_6_330_21&#39;)"><span class="mpre">ResumableSource</span></a><span class="mpre">, </span><a href="Data.Conduit.html#loc_330_6_330_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_330_6_330_10&#39;)"><span class="mpre">($$+-)</span></a><span class="mpre">, </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="mpre">await</span></a><span class="mpre">, </span><a href="Data.Conduit.html#loc_321_1_321_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_321_1_321_7&#39;)"><span class="mpre">($$++)</span></a><span class="mpre">, </span><a href="Data.Conduit.html#loc_314_5_314_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_314_5_314_8&#39;)"><span class="mpre">($$+)</span></a><span class="mpre">, Source)
import qualified Data.Conduit.Internal        as CI
import qualified Data.Conduit.List            as CL
import           Data.IORef                   (</span><a href="GHC.IORef.html#loc_46_1_46_10" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_46_1_46_10&#39;)"><span class="mpre">readIORef</span></a><span class="mpre">, </span><a href="GHC.IORef.html#loc_50_1_50_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_50_1_50_11&#39;)"><span class="mpre">writeIORef</span></a><span class="mpre">, </span><a href="GHC.IORef.html#loc_42_1_42_9" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_42_1_42_9&#39;)"><span class="mpre">newIORef</span></a><span class="mpre">)
import           Data.Int                     (</span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="mpre">Int64</span></a><span class="mpre">)
import           Control.Applicative          (</span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="mpre">(&lt;$&gt;)</span></a><span class="mpre">)
import           Control.Exception.Lifted     (</span><a href="Control.Exception.Lifted.html#loc_354_1_354_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Lifted.html#loc_354_1_354_8&#39;)"><span class="mpre">bracket</span></a><span class="mpre">)
import           Control.Monad.IO.Class       (</span><a href="Control.Monad.IO.Class.html#loc_32_20_32_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_20_32_27&#39;)"><span class="mpre">MonadIO</span></a><span class="mpre"> (</span><a href="Control.Monad.IO.Class.html#loc_34_5_34_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_34_5_34_11&#39;)"><span class="mpre">liftIO</span></a><span class="mpre">))
import           Control.Monad.Trans.Resource

import qualified Network.HTTP.Client          as Client (</span><a href="Network.HTTP.Client.Core.html#loc_58_1_58_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Core.html#loc_58_1_58_8&#39;)"><span class="mpre">httpLbs</span></a><span class="mpre">, </span><a href="Network.HTTP.Client.Core.html#loc_148_1_148_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Core.html#loc_148_1_148_13&#39;)"><span class="mpre">responseOpen</span></a><span class="mpre">, </span><a href="Network.HTTP.Client.Core.html#loc_219_1_219_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Core.html#loc_219_1_219_14&#39;)"><span class="mpre">responseClose</span></a><span class="mpre">)
import qualified Network.HTTP.Client.Conduit  as HCC
import           Network.HTTP.Client.Internal (</span><a href="Network.HTTP.Client.Cookies.html#loc_87_1_87_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Cookies.html#loc_87_1_87_16&#39;)"><span class="mpre">createCookieJar</span></a><span class="mpre">,
                                               </span><a href="Network.HTTP.Client.Cookies.html#loc_90_1_90_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Cookies.html#loc_90_1_90_17&#39;)"><span class="mpre">destroyCookieJar</span></a><span class="mpre">)
import           Network.HTTP.Client.Internal (</span><a href="Network.HTTP.Client.Types.html#loc_494_6_494_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_494_6_494_13&#39;)"><span class="mpre">Manager</span></a><span class="mpre">, </span><a href="Network.HTTP.Client.Types.html#loc_447_6_447_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_447_6_447_21&#39;)"><span class="mpre">ManagerSettings</span></a><span class="mpre">,
                                               </span><a href="Network.HTTP.Client.Manager.html#loc_245_1_245_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Manager.html#loc_245_1_245_13&#39;)"><span class="mpre">closeManager</span></a><span class="mpre">, </span><a href="Network.HTTP.Client.Types.html#loc_448_7_448_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_448_7_448_23&#39;)"><span class="mpre">managerConnCount</span></a><span class="mpre">,
                                               </span><a href="Network.HTTP.Client.Types.html#loc_465_7_465_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_465_7_465_29&#39;)"><span class="mpre">managerResponseTimeout</span></a><span class="mpre">,
                                               </span><a href="Network.HTTP.Client.Types.html#loc_457_7_457_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_457_7_457_27&#39;)"><span class="mpre">managerTlsConnection</span></a><span class="mpre">, </span><a href="Network.HTTP.Client.Manager.html#loc_127_1_127_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Manager.html#loc_127_1_127_11&#39;)"><span class="mpre">newManager</span></a><span class="mpre">)
import           Network.HTTP.Client          (parseUrl, urlEncodedBody, applyBasicAuth)
import           Network.HTTP.Client.Internal (addProxy, alwaysDecompress,
                                               browserDecompress)
import           Network.HTTP.Client.Internal (</span><a href="Network.HTTP.Client.Response.html#loc_56_1_56_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Response.html#loc_56_1_56_21&#39;)"><span class="mpre">getRedirectedRequest</span></a><span class="mpre">)
import           Network.HTTP.Client.TLS      (</span><a href="Network.HTTP.Client.TLS.html#loc_22_1_22_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.TLS.html#loc_22_1_22_18&#39;)"><span class="mpre">mkManagerSettings</span></a><span class="mpre">,
                                               </span><a href="Network.HTTP.Client.TLS.html#loc_63_1_63_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.TLS.html#loc_63_1_63_19&#39;)"><span class="mpre">tlsManagerSettings</span></a><span class="mpre">)
import           Network.HTTP.Client.Internal (</span><a href="Network.HTTP.Client.Types.html#loc_115_6_115_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_115_6_115_12&#39;)"><span class="mpre">Cookie</span></a><span class="mpre"> (..), </span><a href="Network.HTTP.Client.Types.html#loc_130_9_130_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_130_9_130_18&#39;)"><span class="mpre">CookieJar</span></a><span class="mpre"> (..),
                                               </span><a href="Network.HTTP.Client.Types.html#loc_77_6_77_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_77_6_77_19&#39;)"><span class="mpre">HttpException</span></a><span class="mpre"> (..), </span><a href="Network.HTTP.Client.Types.html#loc_165_6_165_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_165_6_165_11&#39;)"><span class="mpre">Proxy</span></a><span class="mpre"> (..),
                                               </span><a href="Network.HTTP.Client.Types.html#loc_280_6_280_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_280_6_280_13&#39;)"><span class="mpre">Request</span></a><span class="mpre"> (..), </span><a href="Network.HTTP.Client.Types.html#loc_180_6_180_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_180_6_180_17&#39;)"><span class="mpre">RequestBody</span></a><span class="mpre"> (..),
                                               </span><a href="Network.HTTP.Client.Types.html#loc_404_6_404_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_404_6_404_14&#39;)"><span class="mpre">Response</span></a><span class="mpre"> (..))

</span><span class="hl_comment"><span class="mpre">-- | Download the specified &#39;Request&#39;, returning the results as a &#39;Response&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is a simplified version of &#39;http&#39; for the common case where you simply</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- want the response data as a simple datatype. If you want more power, such as</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- interleaved actions on the response body during download, you&#39;ll need to use</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;http&#39; directly. This function is defined as:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @httpLbs = &#39;lbsResponse&#39; &lt;=&lt; &#39;http&#39;@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Even though the &#39;Response&#39; contains a lazy bytestring, this</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- function does /not/ utilize lazy I/O, and therefore the entire</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- response body will live in memory. If you want constant memory</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- usage, you&#39;ll need to use @conduit@ packages&#39;s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;C.Source&#39; returned by &#39;http&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note: Unlike previous versions, this function will perform redirects, as</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- specified by the &#39;redirectCount&#39; setting.</span></span><span class="mpre">
</span><a href="#loc_249_1_249_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_1_249_8&#39;)"><span class="mpre">httpLbs</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Conduit.hs&quot;, srcSpanStartLine = 248, srcSpanStartColumn = 12, srcSpanEndLine = 248, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Conduit.hs&quot;, srcSpanStartLine = 248, srcSpanStartColumn = 22, srcSpanEndLine = 248, srcSpanEndColumn = 24}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">MonadIO m =&gt;</span></span><span class="mpre"> </span><a href="Network.HTTP.Client.Types.html#loc_280_6_280_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_280_6_280_13&#39;)"><span class="hl_tyconref"><span class="mpre">Request</span></span></a><span class="mpre"> -&gt; </span><a href="Network.HTTP.Client.Types.html#loc_494_6_494_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_494_6_494_13&#39;)"><span class="hl_tyconref"><span class="mpre">Manager</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><a href="Network.HTTP.Client.Types.html#loc_404_6_404_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_404_6_404_14&#39;)"><span class="hl_tyconref"><span class="mpre">Response</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre">)
</span><a name="loc_249_1_249_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_1_249_8&#39;)"><span class="hl_fundecl"><span class="mpre">httpLbs</span></span></a><span class="mpre"> </span><a name="loc_249_9_249_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_9_249_10&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> </span><a name="loc_249_11_249_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_11_249_12&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = </span><a href="Control.Monad.IO.Class.html#loc_34_5_34_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_34_5_34_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Network.HTTP.Client.Core.html#loc_58_1_58_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Core.html#loc_58_1_58_8&#39;)"><span class="hl_varref"><span class="mpre">Client.httpLbs</span></span></a><span class="mpre"> </span><a href="#loc_249_9_249_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_9_249_10&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre"> </span><a href="#loc_249_11_249_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_11_249_12&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Download the specified URL, following any redirects, and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- return the response body.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This function will &#39;throwIO&#39; an &#39;HttpException&#39; for any</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- response with a non-2xx status code (besides 3xx redirects up</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- to a limit of 10 redirects). It uses &#39;parseUrl&#39; to parse the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- input. This function essentially wraps &#39;httpLbs&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note: Even though this function returns a lazy bytestring, it</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- does /not/ utilize lazy I/O, and therefore the entire response</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- body will live in memory. If you want constant memory usage,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- you&#39;ll need to use the @conduit@ package and &#39;http&#39; directly.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note: This function creates a new &#39;Manager&#39;. It should be avoided</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- in production code.</span></span><span class="mpre">
</span><a href="#loc_267_1_267_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_1_267_11&#39;)"><span class="mpre">simpleHttp</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Conduit.hs&quot;, srcSpanStartLine = 266, srcSpanStartColumn = 15, srcSpanEndLine = 266, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Conduit.hs&quot;, srcSpanStartLine = 266, srcSpanStartColumn = 25, srcSpanEndLine = 266, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">MonadIO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre">
</span><a name="loc_267_1_267_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_1_267_11&#39;)"><span class="hl_fundecl"><span class="mpre">simpleHttp</span></span></a><span class="mpre"> </span><a name="loc_267_12_267_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_12_267_15&#39;)"><span class="hl_vardecl"><span class="mpre">url</span></span></a><span class="mpre"> = </span><a href="Control.Monad.IO.Class.html#loc_34_5_34_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_34_5_34_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_277_1_277_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_1_277_12&#39;)"><span class="hl_varref"><span class="mpre">withManager</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_267_42_267_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_42_267_45&#39;)"><span class="hl_vardecl"><span class="mpre">man</span></span></a><span class="mpre"> -&gt; do
    </span><a name="loc_268_5_268_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_5_268_8&#39;)"><span class="hl_vardecl"><span class="mpre">req</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.IO.Class.html#loc_34_5_34_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_34_5_34_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">parseUrl</span></span><span class="mpre"> </span><a href="#loc_267_12_267_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_12_267_15&#39;)"><span class="hl_varref"><span class="mpre">url</span></span></a><span class="mpre">
    </span><a href="Network.HTTP.Client.Types.html#loc_417_7_417_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_417_7_417_19&#39;)"><span class="hl_varref"><span class="mpre">responseBody</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_249_1_249_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_1_249_8&#39;)"><span class="hl_varref"><span class="mpre">httpLbs</span></span></a><span class="mpre"> (</span><a href="#loc_289_1_289_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_1_289_19&#39;)"><span class="hl_varref"><span class="mpre">setConnectionClose</span></span></a><span class="mpre"> </span><a href="#loc_268_5_268_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_5_268_8&#39;)"><span class="hl_varref"><span class="mpre">req</span></span></a><span class="mpre">) </span><a href="#loc_267_42_267_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_42_267_45&#39;)"><span class="hl_varref"><span class="mpre">man</span></span></a><span class="mpre">

</span><a href="#loc_272_1_272_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_1_272_23&#39;)"><span class="mpre">conduitManagerSettings</span></a><span class="mpre"> :: </span><a href="Network.HTTP.Client.Types.html#loc_447_6_447_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_447_6_447_21&#39;)"><span class="hl_tyconref"><span class="mpre">ManagerSettings</span></span></a><span class="mpre">
</span><a name="loc_272_1_272_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_1_272_23&#39;)"><span class="hl_vardecl"><span class="mpre">conduitManagerSettings</span></span></a><span class="mpre"> = </span><a href="Network.HTTP.Client.TLS.html#loc_63_1_63_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.TLS.html#loc_63_1_63_19&#39;)"><span class="hl_varref"><span class="mpre">tlsManagerSettings</span></span></a><span class="mpre">

</span><a href="#loc_277_1_277_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_1_277_12&#39;)"><span class="mpre">withManager</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Conduit.hs&quot;, srcSpanStartLine = 274, srcSpanStartColumn = 16, srcSpanEndLine = 275, srcSpanEndColumn = 15}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Conduit.hs&quot;, srcSpanStartLine = 274, srcSpanStartColumn = 16, srcSpanEndLine = 274, srcSpanEndColumn = 17},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Cond"><span class="mpre">(MonadIO m, MonadBaseControl IO m)
            =&gt;</span></span><span class="mpre"> (</span><a href="Network.HTTP.Client.Types.html#loc_494_6_494_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_494_6_494_13&#39;)"><span class="hl_tyconref"><span class="mpre">Manager</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ResourceT</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
            -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_277_1_277_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_1_277_12&#39;)"><span class="hl_vardecl"><span class="mpre">withManager</span></span></a><span class="mpre"> = </span><a href="#loc_283_1_283_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_1_283_20&#39;)"><span class="hl_varref"><span class="mpre">withManagerSettings</span></span></a><span class="mpre"> </span><a href="#loc_272_1_272_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_1_272_23&#39;)"><span class="hl_varref"><span class="mpre">conduitManagerSettings</span></span></a><span class="mpre">

</span><a href="#loc_283_1_283_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_1_283_20&#39;)"><span class="mpre">withManagerSettings</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Conduit.hs&quot;, srcSpanStartLine = 279, srcSpanStartColumn = 24, srcSpanEndLine = 280, srcSpanEndColumn = 23}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Conduit.hs&quot;, srcSpanStartLine = 279, srcSpanStartColumn = 24, srcSpanEndLine = 279, srcSpanEndColumn = 25},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Cond"><span class="mpre">(MonadIO m, MonadBaseControl IO m)
                    =&gt;</span></span><span class="mpre"> </span><a href="Network.HTTP.Client.Types.html#loc_447_6_447_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_447_6_447_21&#39;)"><span class="hl_tyconref"><span class="mpre">ManagerSettings</span></span></a><span class="mpre">
                    -&gt; (</span><a href="Network.HTTP.Client.Types.html#loc_494_6_494_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_494_6_494_13&#39;)"><span class="hl_tyconref"><span class="mpre">Manager</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ResourceT</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
                    -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_283_1_283_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_1_283_20&#39;)"><span class="hl_fundecl"><span class="mpre">withManagerSettings</span></span></a><span class="mpre"> </span><a name="loc_283_21_283_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_21_283_24&#39;)"><span class="hl_vardecl"><span class="mpre">set</span></span></a><span class="mpre"> </span><a name="loc_283_25_283_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_25_283_26&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="Control.Exception.Lifted.html#loc_354_1_354_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Lifted.html#loc_354_1_354_8&#39;)"><span class="hl_varref"><span class="mpre">bracket</span></span></a><span class="mpre">
    (</span><a href="Control.Monad.IO.Class.html#loc_34_5_34_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_34_5_34_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Network.HTTP.Client.Manager.html#loc_127_1_127_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Manager.html#loc_127_1_127_11&#39;)"><span class="hl_varref"><span class="mpre">newManager</span></span></a><span class="mpre"> </span><a href="#loc_283_21_283_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_21_283_24&#39;)"><span class="hl_varref"><span class="mpre">set</span></span></a><span class="mpre">)
    (</span><a href="Control.Monad.IO.Class.html#loc_34_5_34_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_34_5_34_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Network.HTTP.Client.Manager.html#loc_245_1_245_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Manager.html#loc_245_1_245_13&#39;)"><span class="hl_varref"><span class="mpre">closeManager</span></span></a><span class="mpre">)
    (</span><a href="Control.Monad.Trans.Resource.html#loc_200_1_200_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_200_1_200_13&#39;)"><span class="hl_varref"><span class="mpre">runResourceT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_283_25_283_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_25_283_26&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)

</span><a href="#loc_289_1_289_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_1_289_19&#39;)"><span class="mpre">setConnectionClose</span></a><span class="mpre"> :: </span><a href="Network.HTTP.Client.Types.html#loc_280_6_280_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_280_6_280_13&#39;)"><span class="hl_tyconref"><span class="mpre">Request</span></span></a><span class="mpre"> -&gt; </span><a href="Network.HTTP.Client.Types.html#loc_280_6_280_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_280_6_280_13&#39;)"><span class="hl_tyconref"><span class="mpre">Request</span></span></a><span class="mpre">
</span><a name="loc_289_1_289_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_1_289_19&#39;)"><span class="hl_fundecl"><span class="mpre">setConnectionClose</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">req</span></span><span class="mpre"> = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Conduit.hs&quot;, srcSpanStartLine = 289, srcSpanStartColumn = 26, srcSpanEndLine = 289, srcSpanEndColumn = 92}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Conduit.hs&quot;, srcSpanStartLine = 289, srcSpanStartColumn = 29, srcSpanEndLine = 289, srcSpanEndColumn = 30},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Co"><span class="mpre">req{requestHeaders = (&quot;Connection&quot;, &quot;close&quot;) : requestHeaders req}</span></span><span class="mpre">

</span><a href="#loc_294_1_294_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_1_294_12&#39;)"><span class="mpre">lbsResponse</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Conduit.hs&quot;, srcSpanStartLine = 291, srcSpanStartColumn = 16, srcSpanEndLine = 292, srcSpanEndColumn = 15}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Conduit.hs&quot;, srcSpanStartLine = 292, srcSpanStartColumn = 13, srcSpanEndLine = 292, srcSpanEndColumn = 15}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m
            =&gt;</span></span><span class="mpre"> </span><a href="Network.HTTP.Client.Types.html#loc_404_6_404_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_404_6_404_14&#39;)"><span class="hl_tyconref"><span class="mpre">Response</span></span></a><span class="mpre"> (</span><a href="Data.Conduit.Internal.html#loc_330_6_330_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Internal.html#loc_330_6_330_21&#39;)"><span class="hl_tyconref"><span class="mpre">ResumableSource</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">)
            -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><a href="Network.HTTP.Client.Types.html#loc_404_6_404_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_404_6_404_14&#39;)"><span class="hl_tyconref"><span class="mpre">Response</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre">)
</span><a name="loc_294_1_294_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_1_294_12&#39;)"><span class="hl_fundecl"><span class="mpre">lbsResponse</span></span></a><span class="mpre"> </span><a name="loc_294_13_294_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_13_294_16&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> = do
    </span><span class="hl_vardecl"><span class="mpre">bss</span></span><span class="mpre"> &lt;- </span><a href="Network.HTTP.Client.Types.html#loc_417_7_417_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_417_7_417_19&#39;)"><span class="hl_varref"><span class="mpre">responseBody</span></span></a><span class="mpre"> </span><a href="#loc_294_13_294_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_13_294_16&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_330_6_330_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_330_6_330_10&#39;)"><span class="hl_infix"><span class="mpre">$$+-</span></span></a><span class="mpre"> </span><a href="Data.Conduit.List.html#loc_450_1_450_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.List.html#loc_450_1_450_8&#39;)"><span class="hl_varref"><span class="mpre">CL.consume</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Conduit.hs&quot;, srcSpanStartLine = 296, srcSpanStartColumn = 12, srcSpanEndLine = 298, srcSpanEndColumn = 10}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Conduit.hs&quot;, srcSpanStartLine = 297, srcSpanStartColumn = 9, srcSpanEndLine = 297, srcSpanEndColumn = 10},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Con"><span class="mpre">res
        { responseBody = L.fromChunks bss
        }</span></span><span class="mpre">

</span><a href="#loc_304_1_304_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_1_304_5&#39;)"><span class="mpre">http</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Conduit.hs&quot;, srcSpanStartLine = 300, srcSpanStartColumn = 9, srcSpanEndLine = 301, srcSpanEndColumn = 8}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Conduit.hs&quot;, srcSpanStartLine = 301, srcSpanStartColumn = 6, srcSpanEndLine = 301, srcSpanEndColumn = 8}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/"><span class="mpre">MonadResource m
     =&gt;</span></span><span class="mpre"> </span><a href="Network.HTTP.Client.Types.html#loc_280_6_280_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_280_6_280_13&#39;)"><span class="hl_tyconref"><span class="mpre">Request</span></span></a><span class="mpre">
     -&gt; </span><a href="Network.HTTP.Client.Types.html#loc_494_6_494_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_494_6_494_13&#39;)"><span class="hl_tyconref"><span class="mpre">Manager</span></span></a><span class="mpre">
     -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><a href="Network.HTTP.Client.Types.html#loc_404_6_404_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_404_6_404_14&#39;)"><span class="hl_tyconref"><span class="mpre">Response</span></span></a><span class="mpre"> (</span><a href="Data.Conduit.Internal.html#loc_330_6_330_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Internal.html#loc_330_6_330_21&#39;)"><span class="hl_tyconref"><span class="mpre">ResumableSource</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">))
</span><a name="loc_304_1_304_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_1_304_5&#39;)"><span class="hl_fundecl"><span class="mpre">http</span></span></a><span class="mpre"> </span><a name="loc_304_6_304_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_6_304_9&#39;)"><span class="hl_vardecl"><span class="mpre">req</span></span></a><span class="mpre"> </span><a name="loc_304_10_304_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_10_304_13&#39;)"><span class="hl_vardecl"><span class="mpre">man</span></span></a><span class="mpre"> = do
    (</span><a name="loc_305_6_305_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_6_305_9&#39;)"><span class="hl_vardecl"><span class="mpre">key</span></span></a><span class="mpre">, </span><a name="loc_305_11_305_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_11_305_14&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre">) &lt;- </span><a href="Control.Monad.Trans.Resource.html#loc_138_1_138_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_138_1_138_9&#39;)"><span class="hl_varref"><span class="mpre">allocate</span></span></a><span class="mpre"> (</span><a href="Network.HTTP.Client.Core.html#loc_148_1_148_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Core.html#loc_148_1_148_13&#39;)"><span class="hl_varref"><span class="mpre">Client.responseOpen</span></span></a><span class="mpre"> </span><a href="#loc_304_6_304_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_6_304_9&#39;)"><span class="hl_varref"><span class="mpre">req</span></span></a><span class="mpre"> </span><a href="#loc_304_10_304_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_10_304_13&#39;)"><span class="hl_varref"><span class="mpre">man</span></span></a><span class="mpre">) </span><a href="Network.HTTP.Client.Core.html#loc_219_1_219_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Core.html#loc_219_1_219_14&#39;)"><span class="hl_varref"><span class="mpre">Client.responseClose</span></span></a><span class="mpre">
    let </span><span class="hl_vardecl"><span class="mpre">rsrc</span></span><span class="mpre"> = </span><a href="Data.Conduit.Internal.html#loc_330_28_330_43" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.Internal.html#loc_330_28_330_43&#39;)"><span class="hl_conref"><span class="mpre">CI.ResumableSource</span></span></a><span class="mpre">
            (</span><a href="Network.HTTP.Client.Conduit.html#loc_134_1_134_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Conduit.html#loc_134_1_134_17&#39;)"><span class="hl_varref"><span class="mpre">HCC.bodyReaderSource</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Network.HTTP.Client.Types.html#loc_417_7_417_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_417_7_417_19&#39;)"><span class="hl_varref"><span class="mpre">responseBody</span></span></a><span class="mpre"> </span><a href="#loc_305_11_305_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_11_305_14&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre">)
            (</span><a href="Control.Monad.Trans.Resource.html#loc_115_1_115_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_115_1_115_8&#39;)"><span class="hl_varref"><span class="mpre">release</span></span></a><span class="mpre"> </span><a href="#loc_305_6_305_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_6_305_9&#39;)"><span class="hl_varref"><span class="mpre">key</span></span></a><span class="mpre">)
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Conduit.hs&quot;, srcSpanStartLine = 309, srcSpanStartColumn = 12, srcSpanEndLine = 309, srcSpanEndColumn = 39}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Conduit.hs&quot;, srcSpanStartLine = 309, srcSpanStartColumn = 16, srcSpanEndLine = 309, srcSpanEndColumn = 17},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/http-conduit-2.1.3/Network/HTTP/Co"><span class="mpre">res { responseBody = rsrc }</span></span><span class="mpre">

</span><a href="#loc_312_1_312_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_1_312_18&#39;)"><span class="mpre">requestBodySource</span></a><span class="mpre"> :: </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Source</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">ResourceT</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre">) </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> -&gt; </span><a href="Network.HTTP.Client.Types.html#loc_180_6_180_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_180_6_180_17&#39;)"><span class="hl_tyconref"><span class="mpre">RequestBody</span></span></a><span class="mpre">
</span><a name="loc_312_1_312_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_1_312_18&#39;)"><span class="hl_fundecl"><span class="mpre">requestBodySource</span></span></a><span class="mpre"> </span><a name="loc_312_19_312_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_19_312_23&#39;)"><span class="hl_vardecl"><span class="mpre">size</span></span></a><span class="mpre"> = </span><a href="Network.HTTP.Client.Types.html#loc_184_7_184_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_184_7_184_24&#39;)"><span class="hl_conref"><span class="mpre">RequestBodyStream</span></span></a><span class="mpre"> </span><a href="#loc_312_19_312_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_19_312_23&#39;)"><span class="hl_varref"><span class="mpre">size</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_318_1_318_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_318_1_318_12&#39;)"><span class="hl_varref"><span class="mpre">srcToPopper</span></span></a><span class="mpre">

</span><a href="#loc_315_1_315_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_315_1_315_25&#39;)"><span class="mpre">requestBodySourceChunked</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Source</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">ResourceT</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre">) </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> -&gt; </span><a href="Network.HTTP.Client.Types.html#loc_180_6_180_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_180_6_180_17&#39;)"><span class="hl_tyconref"><span class="mpre">RequestBody</span></span></a><span class="mpre">
</span><a name="loc_315_1_315_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_315_1_315_25&#39;)"><span class="hl_vardecl"><span class="mpre">requestBodySourceChunked</span></span></a><span class="mpre"> = </span><a href="Network.HTTP.Client.Types.html#loc_185_7_185_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_185_7_185_31&#39;)"><span class="hl_conref"><span class="mpre">RequestBodyStreamChunked</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_318_1_318_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_318_1_318_12&#39;)"><span class="hl_varref"><span class="mpre">srcToPopper</span></span></a><span class="mpre">

</span><a href="#loc_318_1_318_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_318_1_318_12&#39;)"><span class="mpre">srcToPopper</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Source</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">ResourceT</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre">) </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">HCC.GivesPopper</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_318_1_318_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_318_1_318_12&#39;)"><span class="hl_fundecl"><span class="mpre">srcToPopper</span></span></a><span class="mpre"> </span><a name="loc_318_13_318_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_318_13_318_16&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre"> </span><a name="loc_318_17_318_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_318_17_318_18&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Trans.Resource.html#loc_200_1_200_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_200_1_200_13&#39;)"><span class="hl_varref"><span class="mpre">runResourceT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
    (</span><a name="loc_319_6_319_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_6_319_11&#39;)"><span class="hl_vardecl"><span class="mpre">rsrc0</span></span></a><span class="mpre">, </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">) &lt;- </span><a href="#loc_318_13_318_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_318_13_318_16&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_314_5_314_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_314_5_314_8&#39;)"><span class="hl_infix"><span class="mpre">$$+</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
    </span><a name="loc_320_5_320_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_320_5_320_10&#39;)"><span class="hl_vardecl"><span class="mpre">irsrc</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.IO.Class.html#loc_34_5_34_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_34_5_34_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IORef.html#loc_42_1_42_9" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_42_1_42_9&#39;)"><span class="hl_varref"><span class="mpre">newIORef</span></span></a><span class="mpre"> </span><a href="#loc_319_6_319_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_6_319_11&#39;)"><span class="hl_varref"><span class="mpre">rsrc0</span></span></a><span class="mpre">
    </span><a name="loc_321_5_321_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_5_321_7&#39;)"><span class="hl_vardecl"><span class="mpre">is</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Resource.html#loc_345_1_345_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_345_1_345_17&#39;)"><span class="hl_varref"><span class="mpre">getInternalState</span></span></a><span class="mpre">
    let </span><a href="#loc_323_9_323_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_9_323_15&#39;)"><span class="mpre">popper</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">
        </span><a name="loc_323_9_323_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_9_323_15&#39;)"><span class="hl_vardecl"><span class="mpre">popper</span></span></a><span class="mpre"> = do
            </span><a name="loc_324_13_324_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_13_324_17&#39;)"><span class="hl_vardecl"><span class="mpre">rsrc</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IORef.html#loc_46_1_46_10" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_46_1_46_10&#39;)"><span class="hl_varref"><span class="mpre">readIORef</span></span></a><span class="mpre"> </span><a href="#loc_320_5_320_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_320_5_320_10&#39;)"><span class="hl_varref"><span class="mpre">irsrc</span></span></a><span class="mpre">
            (</span><a name="loc_325_14_325_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_14_325_19&#39;)"><span class="hl_vardecl"><span class="mpre">rsrc&#39;</span></span></a><span class="mpre">, </span><a name="loc_325_21_325_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_21_325_25&#39;)"><span class="hl_vardecl"><span class="mpre">mres</span></span></a><span class="mpre">) &lt;- </span><a href="Control.Monad.Trans.Resource.html#loc_356_1_356_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_356_1_356_17&#39;)"><span class="hl_varref"><span class="mpre">runInternalState</span></span></a><span class="mpre"> (</span><a href="#loc_324_13_324_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_13_324_17&#39;)"><span class="hl_varref"><span class="mpre">rsrc</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_321_1_321_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_321_1_321_7&#39;)"><span class="hl_infix"><span class="mpre">$$++</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre">) </span><a href="#loc_321_5_321_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_5_321_7&#39;)"><span class="hl_varref"><span class="mpre">is</span></span></a><span class="mpre">
            </span><a href="GHC.IORef.html#loc_50_1_50_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_50_1_50_11&#39;)"><span class="hl_varref"><span class="mpre">writeIORef</span></span></a><span class="mpre"> </span><a href="#loc_320_5_320_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_320_5_320_10&#39;)"><span class="hl_varref"><span class="mpre">irsrc</span></span></a><span class="mpre"> </span><a href="#loc_325_14_325_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_14_325_19&#39;)"><span class="hl_varref"><span class="mpre">rsrc&#39;</span></span></a><span class="mpre">
            case </span><a href="#loc_325_21_325_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_21_325_25&#39;)"><span class="hl_varref"><span class="mpre">mres</span></span></a><span class="mpre"> of
                </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.empty</span></span><span class="mpre">
                </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_329_22_329_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_22_329_24&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre">
                    | </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_329_22_329_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_22_329_24&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_323_9_323_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_9_323_15&#39;)"><span class="hl_varref"><span class="mpre">popper</span></span></a><span class="mpre">
                    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_329_22_329_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_22_329_24&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
    </span><a href="Control.Monad.IO.Class.html#loc_34_5_34_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_34_5_34_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_318_17_318_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_318_17_318_18&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_323_9_323_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_9_323_15&#39;)"><span class="hl_varref"><span class="mpre">popper</span></span></a><span class="mpre">

</span><a href="#loc_335_1_335_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_1_335_20&#39;)"><span class="mpre">requestBodySourceIO</span></a><span class="mpre"> :: </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Source</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> -&gt; </span><a href="Network.HTTP.Client.Types.html#loc_180_6_180_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_180_6_180_17&#39;)"><span class="hl_tyconref"><span class="mpre">RequestBody</span></span></a><span class="mpre">
</span><a name="loc_335_1_335_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_1_335_20&#39;)"><span class="hl_vardecl"><span class="mpre">requestBodySourceIO</span></span></a><span class="mpre"> = </span><a href="Network.HTTP.Client.Conduit.html#loc_144_1_144_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Conduit.html#loc_144_1_144_18&#39;)"><span class="hl_varref"><span class="mpre">HCC.requestBodySource</span></span></a><span class="mpre">

</span><a href="#loc_338_1_338_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_338_1_338_27&#39;)"><span class="mpre">requestBodySourceChunkedIO</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Source</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> -&gt; </span><a href="Network.HTTP.Client.Types.html#loc_180_6_180_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Types.html#loc_180_6_180_17&#39;)"><span class="hl_tyconref"><span class="mpre">RequestBody</span></span></a><span class="mpre">
</span><a name="loc_338_1_338_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_338_1_338_27&#39;)"><span class="hl_vardecl"><span class="mpre">requestBodySourceChunkedIO</span></span></a><span class="mpre"> = </span><a href="Network.HTTP.Client.Conduit.html#loc_147_1_147_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Client.Conduit.html#loc_147_1_147_25&#39;)"><span class="hl_varref"><span class="mpre">HCC.requestBodySourceChunked</span></span></a><span class="mpre">
</span></div></body></html>