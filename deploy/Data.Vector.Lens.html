<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP #-}
{-# LANGUAGE Rank2Types #-}
{-# LANGUAGE FlexibleContexts #-}
{-# LANGUAGE MultiParamTypeClasses #-}
#ifdef TRUSTWORTHY
{-# LANGUAGE Trustworthy #-}
#endif
</span><span class="hl_comment"><span class="mpre">-------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Data.Vector.Lens</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (C) 2012-14 Edward Kmett</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  BSD-style (see the file LICENSE)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  provisional</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  non-portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This module provides lenses and traversals for working with generic</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- vectors.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-------------------------------------------------------------------------------</span></span><span class="mpre">
module Data.Vector.Lens
  ( toVectorOf
  </span><span class="hl_comment"><span class="mpre">-- * Isomorphisms</span></span><span class="mpre">
  , vector
  , forced
  </span><span class="hl_comment"><span class="mpre">-- * Lenses</span></span><span class="mpre">
  , sliced
  </span><span class="hl_comment"><span class="mpre">-- * Traversal of individual indices</span></span><span class="mpre">
  , ordinals
  ) where

import Control.Applicative
import Control.Lens
import Data.Vector as Vector hiding (</span><a href="Data.Vector.html#loc_976_1_976_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_976_1_976_4&#39;)"><span class="mpre">zip</span></a><span class="mpre">, </span><a href="Data.Vector.html#loc_1045_1_1045_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_1045_1_1045_7&#39;)"><span class="mpre">filter</span></a><span class="mpre">, </span><a href="Data.Vector.html#loc_867_1_867_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_867_1_867_8&#39;)"><span class="mpre">indexed</span></a><span class="mpre">)
import Prelude hiding ((++), length, null, head, tail, init, last, map, reverse)
import Data.List (</span><a href="Data.List.html#loc_314_1_314_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_314_1_314_4&#39;)"><span class="mpre">nub</span></a><span class="mpre">)
import Data.Monoid

</span><span class="hl_comment"><span class="mpre">-- | @sliced i n@ provides a &#39;Lens&#39; that edits the @n@ elements starting</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- at index @i@ from a &#39;Lens&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is only a valid &#39;Lens&#39; if you do not change the length of the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- resulting &#39;Vector&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Attempting to return a longer or shorter vector will result in</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- violations of the &#39;Lens&#39; laws.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; Vector.fromList [1..10] ^. sliced 2 5</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [3,4,5,6,7]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; Vector.fromList [1..10] &amp; sliced 2 5 . mapped .~ 0</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [1,2,0,0,0,0,0,8,9,10]</span></span><span class="mpre">
</span><a href="#loc_55_1_55_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_1_55_7&#39;)"><span class="mpre">sliced</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ @i@ starting index</span></span><span class="mpre">
       -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ @n@ length</span></span><span class="mpre">
       -&gt; </span><span class="hl_tyconref"><span class="mpre">Lens&#39;</span></span><span class="mpre"> (</span><a href="Data.Vector.html#loc_200_6_200_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_200_6_200_12&#39;)"><span class="hl_tyconref"><span class="mpre">Vector</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) (</span><a href="Data.Vector.html#loc_200_6_200_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_200_6_200_12&#39;)"><span class="hl_tyconref"><span class="mpre">Vector</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
</span><a name="loc_55_1_55_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_1_55_7&#39;)"><span class="hl_fundecl"><span class="mpre">sliced</span></span></a><span class="mpre"> </span><a name="loc_55_8_55_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_8_55_9&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> </span><a name="loc_55_10_55_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_10_55_11&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_55_12_55_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_12_55_13&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_55_14_55_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_14_55_15&#39;)"><span class="hl_vardecl"><span class="mpre">v</span></span></a><span class="mpre"> = </span><a href="#loc_55_12_55_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_12_55_13&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="Data.Vector.html#loc_464_1_464_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_464_1_464_6&#39;)"><span class="hl_varref"><span class="mpre">slice</span></span></a><span class="mpre"> </span><a href="#loc_55_8_55_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_8_55_9&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_55_10_55_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_10_55_11&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_55_14_55_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_14_55_15&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre">) </span><a href="Control.Lens.Lens.html#loc_343_4_343_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Lens.html#loc_343_4_343_7&#39;)"><span class="hl_infix"><span class="mpre">&lt;&amp;&gt;</span></span></a><span class="mpre"> \ </span><a name="loc_55_40_55_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_40_55_42&#39;)"><span class="hl_vardecl"><span class="mpre">v0</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_55_14_55_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_14_55_15&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre"> </span><a href="Data.Vector.html#loc_716_1_716_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_716_1_716_5&#39;)"><span class="hl_infix"><span class="mpre">//</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">zip</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpEnumFromTo (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/Vector/Lens.hs&quot;, srcSpanStartLine = 55, srcSpanStartColumn = 55, srcSpanEndLine = 55, srcSpanEndColumn = 65}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/Vector/Lens.hs&quot;, srcSpanStartLine = 55, srcSpanStartColumn = 55, srcSpanEndLine = 55, srcSpanEndColumn = 56},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/Vector/Lens.hs&quot;, srcSpanStartLine = 55,"><span class="mpre">[i..i+n-1]</span></span><span class="mpre"> (</span><a href="Data.Vector.html#loc_1471_1_1471_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_1471_1_1471_7&#39;)"><span class="hl_varref"><span class="mpre">toList</span></span></a><span class="mpre"> </span><a href="#loc_55_40_55_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_40_55_42&#39;)"><span class="hl_varref"><span class="mpre">v0</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_55_1_55_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_1_55_7&#39;)"><span class="mpre">sliced</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Similar to &#39;toListOf&#39;, but returning a &#39;Vector&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; toVectorOf both (8,15)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [8,15]</span></span><span class="mpre">
</span><a href="#loc_63_1_63_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_1_63_11&#39;)"><span class="mpre">toVectorOf</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Getting</span></span><span class="mpre"> (</span><a href="Data.Monoid.html#loc_162_9_162_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_162_9_162_13&#39;)"><span class="hl_tyconref"><span class="mpre">Endo</span></span></a><span class="mpre"> [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">]) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><a href="Data.Vector.html#loc_200_6_200_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_200_6_200_12&#39;)"><span class="hl_tyconref"><span class="mpre">Vector</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_63_1_63_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_1_63_11&#39;)"><span class="hl_fundecl"><span class="mpre">toVectorOf</span></span></a><span class="mpre"> </span><a name="loc_63_12_63_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_12_63_13&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_63_14_63_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_14_63_15&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><a href="Data.Vector.html#loc_1476_1_1476_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_1476_1_1476_9&#39;)"><span class="hl_varref"><span class="mpre">fromList</span></span></a><span class="mpre"> (</span><a href="Control.Lens.Fold.html#loc_543_1_543_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Fold.html#loc_543_1_543_9&#39;)"><span class="hl_varref"><span class="mpre">toListOf</span></span></a><span class="mpre"> </span><a href="#loc_63_12_63_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_12_63_13&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_63_14_63_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_14_63_15&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_63_1_63_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_1_63_11&#39;)"><span class="mpre">toVectorOf</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Convert a list to a &#39;Vector&#39; (or back)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; [1,2,3] ^. vector</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [1,2,3]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; [1,2,3] ^. vector . from vector</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [1,2,3]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; Vector.fromList [0,8,15] ^. from vector . vector</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [0,8,15]</span></span><span class="mpre">
</span><a href="#loc_77_1_77_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_1_77_7&#39;)"><span class="mpre">vector</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Iso</span></span><span class="mpre"> [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">] [</span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">] (</span><a href="Data.Vector.html#loc_200_6_200_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_200_6_200_12&#39;)"><span class="hl_tyconref"><span class="mpre">Vector</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) (</span><a href="Data.Vector.html#loc_200_6_200_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_200_6_200_12&#39;)"><span class="hl_tyconref"><span class="mpre">Vector</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">)
</span><a name="loc_77_1_77_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_1_77_7&#39;)"><span class="hl_vardecl"><span class="mpre">vector</span></span></a><span class="mpre"> = </span><a href="Control.Lens.Iso.html#loc_122_1_122_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Iso.html#loc_122_1_122_4&#39;)"><span class="hl_varref"><span class="mpre">iso</span></span></a><span class="mpre"> </span><a href="Data.Vector.html#loc_1476_1_1476_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_1476_1_1476_9&#39;)"><span class="hl_varref"><span class="mpre">fromList</span></span></a><span class="mpre"> </span><a href="Data.Vector.html#loc_1471_1_1471_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_1471_1_1471_7&#39;)"><span class="hl_varref"><span class="mpre">toList</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_77_1_77_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_1_77_7&#39;)"><span class="mpre">vector</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Convert a &#39;Vector&#39; to a version that doesn&#39;t retain any extra</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- memory.</span></span><span class="mpre">
</span><a href="#loc_83_1_83_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_1_83_7&#39;)"><span class="mpre">forced</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Iso</span></span><span class="mpre"> (</span><a href="Data.Vector.html#loc_200_6_200_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_200_6_200_12&#39;)"><span class="hl_tyconref"><span class="mpre">Vector</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) (</span><a href="Data.Vector.html#loc_200_6_200_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_200_6_200_12&#39;)"><span class="hl_tyconref"><span class="mpre">Vector</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) (</span><a href="Data.Vector.html#loc_200_6_200_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_200_6_200_12&#39;)"><span class="hl_tyconref"><span class="mpre">Vector</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) (</span><a href="Data.Vector.html#loc_200_6_200_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_200_6_200_12&#39;)"><span class="hl_tyconref"><span class="mpre">Vector</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">)
</span><a name="loc_83_1_83_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_1_83_7&#39;)"><span class="hl_vardecl"><span class="mpre">forced</span></span></a><span class="mpre"> = </span><a href="Control.Lens.Iso.html#loc_122_1_122_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Iso.html#loc_122_1_122_4&#39;)"><span class="hl_varref"><span class="mpre">iso</span></span></a><span class="mpre"> </span><a href="Data.Vector.html#loc_702_1_702_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_702_1_702_6&#39;)"><span class="hl_varref"><span class="mpre">force</span></span></a><span class="mpre"> </span><a href="Data.Vector.html#loc_702_1_702_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_702_1_702_6&#39;)"><span class="hl_varref"><span class="mpre">force</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_83_1_83_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_1_83_7&#39;)"><span class="mpre">forced</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This &#39;Traversal&#39; will ignore any duplicates in the supplied list</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- of indices.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; toListOf (ordinals [1,3,2,5,9,10]) $ Vector.fromList [2,4..40]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [4,8,6,12,20,22]</span></span><span class="mpre">
</span><a href="#loc_92_1_92_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_1_92_9&#39;)"><span class="mpre">ordinals</span></a><span class="mpre"> :: [</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">IndexedTraversal&#39;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> (</span><a href="Data.Vector.html#loc_200_6_200_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_200_6_200_12&#39;)"><span class="hl_tyconref"><span class="mpre">Vector</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_92_1_92_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_1_92_9&#39;)"><span class="hl_fundecl"><span class="mpre">ordinals</span></span></a><span class="mpre"> </span><a name="loc_92_10_92_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_10_92_12&#39;)"><span class="hl_vardecl"><span class="mpre">is</span></span></a><span class="mpre"> </span><a name="loc_92_13_92_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_13_92_14&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_92_15_92_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_15_92_16&#39;)"><span class="hl_vardecl"><span class="mpre">v</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><a href="#loc_92_15_92_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_15_92_16&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre"> </span><a href="Data.Vector.html#loc_716_1_716_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_716_1_716_5&#39;)"><span class="hl_infix"><span class="mpre">//</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Traversable.html#loc_150_5_150_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Traversable.html#loc_150_5_150_13&#39;)"><span class="hl_varref"><span class="mpre">traverse</span></span></a><span class="mpre"> (\</span><a name="loc_92_44_92_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_44_92_45&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">(,)</span></span><span class="mpre"> </span><a href="#loc_92_44_92_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_44_92_45&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">indexed</span></span><span class="mpre"> </span><a href="#loc_92_13_92_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_13_92_14&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_92_44_92_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_44_92_45&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> (</span><a href="#loc_92_15_92_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_15_92_16&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre"> </span><a href="Data.Vector.html#loc_366_1_366_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_366_1_366_4&#39;)"><span class="hl_infix"><span class="mpre">!</span></span></a><span class="mpre"> </span><a href="#loc_92_44_92_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_44_92_45&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">)) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.List.html#loc_314_1_314_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_314_1_314_4&#39;)"><span class="hl_varref"><span class="mpre">nub</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">filter</span></span><span class="mpre"> (\</span><a name="loc_92_97_92_98" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_97_92_98&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> -&gt; </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><a href="#loc_92_97_92_98" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_97_92_98&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_92_97_92_98" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_97_92_98&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_93_3_93_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_3_93_4&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">) </span><a href="#loc_92_10_92_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_10_92_12&#39;)"><span class="hl_varref"><span class="mpre">is</span></span></a><span class="mpre"> where
  </span><a name="loc_93_3_93_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_3_93_4&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> = </span><a href="Data.Vector.html#loc_353_1_353_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Vector.html#loc_353_1_353_7&#39;)"><span class="hl_varref"><span class="mpre">length</span></span></a><span class="mpre"> </span><a href="#loc_92_15_92_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_15_92_16&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_92_1_92_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_1_92_9&#39;)"><span class="mpre">ordinals</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span></div></body></html>