<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE OverloadedStrings, RankNTypes #-}
</span><span class="hl_comment"><span class="mpre">-- | It should be noted that most of the code snippets below depend on the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- OverloadedStrings language pragma.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The functions in this module allow an arbitrary monad to be embedded</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- in Scotty&#39;s monad transformer stack in order that Scotty be combined</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- with other DSLs.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Scotty is set up by default for development mode. For production servers,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- you will likely want to modify &#39;settings&#39; and the &#39;defaultHandler&#39;. See</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the comments on each of these functions for more information.</span></span><span class="mpre">
module Web.Scotty.Trans
    ( </span><span class="hl_comment"><span class="mpre">-- * scotty-to-WAI</span></span><span class="mpre">
      scottyT, scottyAppT, scottyOptsT, Options(..)
      </span><span class="hl_comment"><span class="mpre">-- * Defining Middleware and Routes</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- | &#39;Middleware&#39; and routes are run in the order in which they</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- are defined. All middleware is run first, followed by the first</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- route that matches. If no route matches, a 404 response is given.</span></span><span class="mpre">
    , middleware, get, post, put, delete, patch, addroute, matchAny, notFound
      </span><span class="hl_comment"><span class="mpre">-- ** Route Patterns</span></span><span class="mpre">
    , capture, regex, function, literal
      </span><span class="hl_comment"><span class="mpre">-- ** Accessing the Request, Captures, and Query Parameters</span></span><span class="mpre">
    , request, header, headers, body, param, params, jsonData, files
      </span><span class="hl_comment"><span class="mpre">-- ** Modifying the Response and Redirecting</span></span><span class="mpre">
    , status, addHeader, setHeader, redirect
      </span><span class="hl_comment"><span class="mpre">-- ** Setting Response Body</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- | Note: only one of these should be present in any given route</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- definition, as they completely replace the current &#39;Response&#39; body.</span></span><span class="mpre">
    , text, html, file, json, stream, source, raw
      </span><span class="hl_comment"><span class="mpre">-- ** Exceptions</span></span><span class="mpre">
    , raise, rescue, next, defaultHandler, ScottyError(..)
      </span><span class="hl_comment"><span class="mpre">-- * Parsing Parameters</span></span><span class="mpre">
    , Param, Parsable(..), readEither
      </span><span class="hl_comment"><span class="mpre">-- * Types</span></span><span class="mpre">
    , RoutePattern, File
      </span><span class="hl_comment"><span class="mpre">-- * Monad Transformers</span></span><span class="mpre">
    , ScottyT, ActionT
    ) where

import Blaze.ByteString.Builder (</span><a href="Blaze.ByteString.Builder.Internal.Types.html#loc_69_9_69_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.Internal.Types.html#loc_69_9_69_16&#39;)"><span class="mpre">Builder</span></a><span class="mpre">, </span><a href="Blaze.ByteString.Builder.ByteString.html#loc_94_1_94_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.ByteString.html#loc_94_1_94_15&#39;)"><span class="mpre">fromByteString</span></a><span class="mpre">)

import Control.Monad (</span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="mpre">when</span></a><span class="mpre">)
import Control.Monad.State (</span><a href="Control.Monad.Trans.State.Lazy.html#loc_158_1_158_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.State.Lazy.html#loc_158_1_158_11&#39;)"><span class="mpre">execStateT</span></a><span class="mpre">, </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="mpre">modify</span></a><span class="mpre">)
import Control.Monad.IO.Class

import Data.Conduit (</span><a href="Data.Conduit.html#loc_358_6_358_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_6_358_11&#39;)"><a href="Data.Conduit.html#loc_358_26_358_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_26_358_31&#39;)"><span class="mpre">Flush</span></a></a><span class="mpre">, Source)
import Data.Default (def)

import Network.HTTP.Types (</span><a href="Network.HTTP.Types.Status.html#loc_337_1_337_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Types.Status.html#loc_337_1_337_10&#39;)"><span class="mpre">status404</span></a><span class="mpre">)
import Network.Wai
import Network.Wai.Handler.Warp (Port, runSettings, </span><a href="Network.Wai.Handler.Warp.html#loc_107_1_107_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Handler.Warp.html#loc_107_1_107_8&#39;)"><span class="mpre">setPort</span></a><span class="mpre">, </span><a href="Network.Wai.Handler.Warp.html#loc_186_1_186_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Handler.Warp.html#loc_186_1_186_8&#39;)"><span class="mpre">getPort</span></a><span class="mpre">)

import Web.Scotty.Action hiding (</span><a href="Web.Scotty.Action.html#loc_268_1_268_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Action.html#loc_268_1_268_7&#39;)"><span class="mpre">source</span></a><span class="mpre">)
import qualified Web.Scotty.Action as Action
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 57, srcSpanStartColumn = 8, srcSpanEndLine = 57, srcSpanEndColumn = 24}, srcInfoPoints = []}) &quot;Web.Scotty.Route&quot;"><span class="mpre">Web.Scotty.Route</span></span><span class="mpre">
import Web.Scotty.Internal.Types hiding (Application, Middleware)
import qualified Web.Scotty.Internal.Types as Scotty

</span><span class="hl_comment"><span class="mpre">-- | Set the body of the response to a Source. Doesn&#39;t set the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- \&quot;Content-Type\&quot; header, so you probably want to do that on your</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- own with &#39;setHeader&#39;.</span></span><span class="mpre">
</span><a href="#loc_65_1_65_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_1_65_7&#39;)"><span class="mpre">source</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 64, srcSpanStartColumn = 11, srcSpanEndLine = 64, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 64, srcSpanStartColumn = 11, srcSpanEndLine = 64, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 64, sr"><span class="mpre">(ScottyError e, Monad m) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Source</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><a href="Data.Conduit.html#loc_358_6_358_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_6_358_11&#39;)"><span class="hl_tyconref"><span class="mpre">Flush</span></span></a><span class="mpre"> </span><a href="Blaze.ByteString.Builder.Internal.Types.html#loc_69_9_69_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.Internal.Types.html#loc_69_9_69_16&#39;)"><span class="hl_tyconref"><span class="mpre">Builder</span></span></a><span class="mpre">) -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_65_1_65_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_1_65_7&#39;)"><span class="hl_vardecl"><span class="mpre">source</span></span></a><span class="mpre"> = </span><a href="Web.Scotty.Action.html#loc_268_1_268_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Action.html#loc_268_1_268_7&#39;)"><span class="hl_varref"><span class="mpre">Action.source</span></span></a><span class="mpre">
</span><span class="warning" data-warning="DeclDeprPragmaDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 66, srcSpanStartColumn = 1, srcSpanEndLine = 66, srcSpanEndColumn = 92}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 66, srcSpanStartColumn = 1, srcSpanEndLine = 66, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 6"><span class="mpre">{-# DEPRECATED source &quot;Use &#39;stream&#39; instead. This will be removed in the next release.&quot; #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Run a scotty application using the warp server.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- NB: scotty p === scottyT p id id</span></span><span class="mpre">
</span><a href="#loc_76_1_76_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_1_76_8&#39;)"><span class="mpre">scottyT</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 70, srcSpanStartColumn = 12, srcSpanEndLine = 71, srcSpanEndColumn = 11}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 70, srcSpanStartColumn = 12, srcSpanEndLine = 70, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 70, sr"><span class="mpre">(Monad m, MonadIO n)
        =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Port</span></span><span class="mpre">
        -&gt; (forall </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">. </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)      </span><span class="hl_comment"><span class="mpre">-- ^ Run monad &#39;m&#39; into monad &#39;n&#39;, called once at &#39;ScottyT&#39; level.</span></span><span class="mpre">
        -&gt; (</span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><a href="Network.Wai.Internal.html#loc_74_6_74_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_74_6_74_14&#39;)"><span class="hl_tyconref"><span class="mpre">Response</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="Network.Wai.Internal.html#loc_74_6_74_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_74_6_74_14&#39;)"><span class="hl_tyconref"><span class="mpre">Response</span></span></a><span class="mpre">) </span><span class="hl_comment"><span class="mpre">-- ^ Run monad &#39;m&#39; into &#39;IO&#39;, called at each action.</span></span><span class="mpre">
        -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_65_9_65_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_65_9_65_16&#39;)"><span class="hl_tyconref"><span class="mpre">ScottyT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
        -&gt; </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_76_1_76_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_1_76_8&#39;)"><span class="hl_fundecl"><span class="mpre">scottyT</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">p</span></span><span class="mpre"> = </span><a href="#loc_86_1_86_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_12&#39;)"><span class="hl_varref"><span class="mpre">scottyOptsT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 76, srcSpanStartColumn = 27, srcSpanEndLine = 76, srcSpanEndColumn = 70}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 76, srcSpanStartColumn = 31, srcSpanEndLine = 76, srcSpanEndColumn = 32},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 76, "><span class="mpre">def { settings = setPort p (settings def) }</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Run a scotty application using the warp server, passing extra options.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- NB: scottyOpts opts === scottyOptsT opts id id</span></span><span class="mpre">
</span><a href="#loc_86_1_86_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_12&#39;)"><span class="mpre">scottyOptsT</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 80, srcSpanStartColumn = 16, srcSpanEndLine = 81, srcSpanEndColumn = 15}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 80, srcSpanStartColumn = 16, srcSpanEndLine = 80, srcSpanEndColumn = 17},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 80, sr"><span class="mpre">(Monad m, MonadIO n)
            =&gt;</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_29_6_29_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_29_6_29_13&#39;)"><span class="hl_tyconref"><span class="mpre">Options</span></span></a><span class="mpre">
            -&gt; (forall </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">. </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)      </span><span class="hl_comment"><span class="mpre">-- ^ Run monad &#39;m&#39; into monad &#39;n&#39;, called once at &#39;ScottyT&#39; level.</span></span><span class="mpre">
            -&gt; (</span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><a href="Network.Wai.Internal.html#loc_74_6_74_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_74_6_74_14&#39;)"><span class="hl_tyconref"><span class="mpre">Response</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="Network.Wai.Internal.html#loc_74_6_74_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_74_6_74_14&#39;)"><span class="hl_tyconref"><span class="mpre">Response</span></span></a><span class="mpre">) </span><span class="hl_comment"><span class="mpre">-- ^ Run monad &#39;m&#39; into &#39;IO&#39;, called at each action.</span></span><span class="mpre">
            -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_65_9_65_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_65_9_65_16&#39;)"><span class="hl_tyconref"><span class="mpre">ScottyT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
            -&gt; </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_86_1_86_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_12&#39;)"><span class="hl_fundecl"><span class="mpre">scottyOptsT</span></span></a><span class="mpre"> </span><a name="loc_86_13_86_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_13_86_17&#39;)"><span class="hl_vardecl"><span class="mpre">opts</span></span></a><span class="mpre"> </span><a name="loc_86_18_86_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_18_86_22&#39;)"><span class="hl_vardecl"><span class="mpre">runM</span></span></a><span class="mpre"> </span><a name="loc_86_23_86_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_23_86_36&#39;)"><span class="hl_vardecl"><span class="mpre">runActionToIO</span></span></a><span class="mpre"> </span><a name="loc_86_37_86_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_37_86_38&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = do
    </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> (</span><a href="Web.Scotty.Internal.Types.html#loc_29_26_29_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_29_26_29_33&#39;)"><span class="hl_varref"><span class="mpre">verbose</span></span></a><span class="mpre"> </span><a href="#loc_86_13_86_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_13_86_17&#39;)"><span class="hl_varref"><span class="mpre">opts</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
        </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">putStrLn</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Setting phasers to stun... (port &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> (</span><a href="Network.Wai.Handler.Warp.html#loc_186_1_186_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Handler.Warp.html#loc_186_1_186_8&#39;)"><span class="hl_varref"><span class="mpre">getPort</span></span></a><span class="mpre"> (</span><a href="Web.Scotty.Internal.Types.html#loc_30_26_30_34" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_30_26_30_34&#39;)"><span class="hl_varref"><span class="mpre">settings</span></span></a><span class="mpre"> </span><a href="#loc_86_13_86_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_13_86_17&#39;)"><span class="hl_varref"><span class="mpre">opts</span></span></a><span class="mpre">)) </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;) (ctrl-c to quit)&quot;</span></span><span class="mpre">
    </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">runSettings</span></span><span class="mpre"> (</span><a href="Web.Scotty.Internal.Types.html#loc_30_26_30_34" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_30_26_30_34&#39;)"><span class="hl_varref"><span class="mpre">settings</span></span></a><span class="mpre"> </span><a href="#loc_86_13_86_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_13_86_17&#39;)"><span class="hl_varref"><span class="mpre">opts</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">=&lt;&lt;</span></span><span class="mpre"> </span><a href="#loc_99_1_99_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_1_99_11&#39;)"><span class="hl_varref"><span class="mpre">scottyAppT</span></span></a><span class="mpre"> </span><a href="#loc_86_18_86_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_18_86_22&#39;)"><span class="hl_varref"><span class="mpre">runM</span></span></a><span class="mpre"> </span><a href="#loc_86_23_86_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_23_86_36&#39;)"><span class="hl_varref"><span class="mpre">runActionToIO</span></span></a><span class="mpre"> </span><a href="#loc_86_37_86_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_37_86_38&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Turn a scotty application into a WAI &#39;Application&#39;, which can be</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- run with any WAI handler.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- NB: scottyApp === scottyAppT id id</span></span><span class="mpre">
</span><a href="#loc_99_1_99_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_1_99_11&#39;)"><span class="mpre">scottyAppT</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 94, srcSpanStartColumn = 15, srcSpanEndLine = 95, srcSpanEndColumn = 14}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 94, srcSpanStartColumn = 15, srcSpanEndLine = 94, srcSpanEndColumn = 16},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 94, sr"><span class="mpre">(Monad m, Monad n)
           =&gt;</span></span><span class="mpre"> (forall </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">. </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)      </span><span class="hl_comment"><span class="mpre">-- ^ Run monad &#39;m&#39; into monad &#39;n&#39;, called once at &#39;ScottyT&#39; level.</span></span><span class="mpre">
           -&gt; (</span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><a href="Network.Wai.Internal.html#loc_74_6_74_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_74_6_74_14&#39;)"><span class="hl_tyconref"><span class="mpre">Response</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="Network.Wai.Internal.html#loc_74_6_74_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_74_6_74_14&#39;)"><span class="hl_tyconref"><span class="mpre">Response</span></span></a><span class="mpre">) </span><span class="hl_comment"><span class="mpre">-- ^ Run monad &#39;m&#39; into &#39;IO&#39;, called at each action.</span></span><span class="mpre">
           -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_65_9_65_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_65_9_65_16&#39;)"><span class="hl_tyconref"><span class="mpre">ScottyT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
           -&gt; </span><span class="hl_tyvar"><span class="mpre">n</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Application</span></span><span class="mpre">
</span><a name="loc_99_1_99_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_1_99_11&#39;)"><span class="hl_fundecl"><span class="mpre">scottyAppT</span></span></a><span class="mpre"> </span><a name="loc_99_12_99_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_12_99_16&#39;)"><span class="hl_vardecl"><span class="mpre">runM</span></span></a><span class="mpre"> </span><a name="loc_99_17_99_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_17_99_30&#39;)"><span class="hl_vardecl"><span class="mpre">runActionToIO</span></span></a><span class="mpre"> </span><a name="loc_99_31_99_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_31_99_35&#39;)"><span class="hl_vardecl"><span class="mpre">defs</span></span></a><span class="mpre"> = do
    </span><a name="loc_100_5_100_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_5_100_6&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_99_12_99_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_12_99_16&#39;)"><span class="hl_varref"><span class="mpre">runM</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.State.Lazy.html#loc_158_1_158_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.State.Lazy.html#loc_158_1_158_11&#39;)"><span class="hl_varref"><span class="mpre">execStateT</span></span></a><span class="mpre"> (</span><a href="Web.Scotty.Internal.Types.html#loc_65_35_65_39" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_65_35_65_39&#39;)"><span class="hl_varref"><span class="mpre">runS</span></span></a><span class="mpre"> </span><a href="#loc_99_31_99_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_31_99_35&#39;)"><span class="hl_varref"><span class="mpre">defs</span></span></a><span class="mpre">) </span><span class="hl_varref"><span class="mpre">def</span></span><span class="mpre">
    let </span><a name="loc_101_9_101_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_9_101_13&#39;)"><span class="hl_vardecl"><span class="mpre">rapp</span></span></a><span class="mpre"> = \ </span><a name="loc_101_18_101_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_18_101_21&#39;)"><span class="hl_vardecl"><span class="mpre">req</span></span></a><span class="mpre"> </span><a name="loc_101_22_101_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_22_101_30&#39;)"><span class="hl_vardecl"><span class="mpre">callback</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_99_17_99_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_17_99_30&#39;)"><span class="hl_varref"><span class="mpre">runActionToIO</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">foldl</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">flip</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">($)</span></span><span class="mpre">) </span><a href="#loc_105_1_105_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_1_105_12&#39;)"><span class="hl_varref"><span class="mpre">notFoundApp</span></span></a><span class="mpre"> (</span><a href="Web.Scotty.Internal.Types.html#loc_49_19_49_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_49_19_49_25&#39;)"><span class="hl_varref"><span class="mpre">routes</span></span></a><span class="mpre"> </span><a href="#loc_100_5_100_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_5_100_6&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">) </span><a href="#loc_101_18_101_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_18_101_21&#39;)"><span class="hl_varref"><span class="mpre">req</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="#loc_101_22_101_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_22_101_30&#39;)"><span class="hl_varref"><span class="mpre">callback</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">foldl</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">flip</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">($)</span></span><span class="mpre">) </span><a href="#loc_101_9_101_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_9_101_13&#39;)"><span class="hl_varref"><span class="mpre">rapp</span></span></a><span class="mpre"> (</span><a href="Web.Scotty.Internal.Types.html#loc_48_19_48_30" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_48_19_48_30&#39;)"><span class="hl_varref"><span class="mpre">middlewares</span></span></a><span class="mpre"> </span><a href="#loc_100_5_100_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_5_100_6&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)

</span><a href="#loc_105_1_105_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_1_105_12&#39;)"><span class="mpre">notFoundApp</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 104, srcSpanStartColumn = 16, srcSpanEndLine = 104, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 104, srcSpanStartColumn = 24, srcSpanEndLine = 104, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Scotty.Application</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">
</span><a name="loc_105_1_105_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_1_105_12&#39;)"><span class="hl_fundecl"><span class="mpre">notFoundApp</span></span></a><span class="mpre"> _ = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Network.Wai.html#loc_125_1_125_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.html#loc_125_1_125_16&#39;)"><span class="hl_varref"><span class="mpre">responseBuilder</span></span></a><span class="mpre"> </span><a href="Network.HTTP.Types.Status.html#loc_337_1_337_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Types.Status.html#loc_337_1_337_10&#39;)"><span class="hl_varref"><span class="mpre">status404</span></span></a><span class="mpre"> [(</span><span class="hl_string"><span class="mpre">&quot;Content-Type&quot;</span></span><span class="mpre">,</span><span class="hl_string"><span class="mpre">&quot;text/html&quot;</span></span><span class="mpre">)]
                       </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Blaze.ByteString.Builder.ByteString.html#loc_94_1_94_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Blaze.ByteString.Builder.ByteString.html#loc_94_1_94_15&#39;)"><span class="hl_varref"><span class="mpre">fromByteString</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;&lt;h1&gt;404: File Not Found!&lt;/h1&gt;&quot;</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Global handler for uncaught exceptions.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Uncaught exceptions normally become 500 responses.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- You can use this to selectively override that behavior.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note: IO exceptions are lifted into &#39;ScottyError&#39;s by &#39;stringError&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This has security implications, so you probably want to provide your</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- own defaultHandler in production which does not send out the error</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- strings as 500 responses.</span></span><span class="mpre">
</span><a href="#loc_118_1_118_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_1_118_15&#39;)"><span class="mpre">defaultHandler</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 117, srcSpanStartColumn = 19, srcSpanEndLine = 117, srcSpanEndColumn = 29}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 117, srcSpanStartColumn = 27, srcSpanEndLine = 117, srcSpanEndColumn = 29}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_120_9_120_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_120_9_120_16&#39;)"><span class="hl_tyconref"><span class="mpre">ActionT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">) -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_65_9_65_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_65_9_65_16&#39;)"><span class="hl_tyconref"><span class="mpre">ScottyT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_118_1_118_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_1_118_15&#39;)"><span class="hl_fundecl"><span class="mpre">defaultHandler</span></span></a><span class="mpre"> </span><a name="loc_118_16_118_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_16_118_17&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="Web.Scotty.Internal.Types.html#loc_65_25_65_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_65_25_65_32&#39;)"><span class="hl_conref"><span class="mpre">ScottyT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">modify</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_63_1_63_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_63_1_63_11&#39;)"><span class="hl_varref"><span class="mpre">addHandler</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_118_16_118_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_16_118_17&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Use given middleware. Middleware is nested such that the first declared</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- is the outermost middleware (it has first dibs on the request and last action</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- on the response). Every middleware is run on each request.</span></span><span class="mpre">
</span><a href="#loc_124_1_124_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_1_124_11&#39;)"><span class="mpre">middleware</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 123, srcSpanStartColumn = 15, srcSpanEndLine = 123, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web/Scotty/Trans.hs&quot;, srcSpanStartLine = 123, srcSpanStartColumn = 23, srcSpanEndLine = 123, srcSpanEndColumn = 25}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/scotty-0.8.1/Web"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Middleware</span></span><span class="mpre"> -&gt; </span><a href="Web.Scotty.Internal.Types.html#loc_65_9_65_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_65_9_65_16&#39;)"><span class="hl_tyconref"><span class="mpre">ScottyT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_124_1_124_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_1_124_11&#39;)"><span class="hl_vardecl"><span class="mpre">middleware</span></span></a><span class="mpre"> = </span><a href="Web.Scotty.Internal.Types.html#loc_65_25_65_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_65_25_65_32&#39;)"><span class="hl_conref"><span class="mpre">ScottyT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">modify</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Web.Scotty.Internal.Types.html#loc_57_1_57_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Web.Scotty.Internal.Types.html#loc_57_1_57_14&#39;)"><span class="hl_varref"><span class="mpre">addMiddleware</span></span></a><span class="mpre">
</span></div></body></html>