<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">-- Author: Malcolm Wallace</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | In a strict language, where creating the entire input list of tokens</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   in one shot may be infeasible, we can use a lazy &quot;callback&quot; kind of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   architecture instead.  The lexer returns a single token at a time,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   together with a continuation.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   This module defines a Parser type (capable of use with the Poly</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   combinators), specialised to the callback-lexer style of input stream.</span></span><span class="mpre">

module Text.ParserCombinators.Poly.Lex
  ( </span><span class="hl_comment"><span class="mpre">-- * The Parser datatype</span></span><span class="mpre">
    LexReturn(..)
  , Parser(P)
  , Result(..)
  , runParser
    </span><span class="hl_comment"><span class="mpre">-- ** Basic parsers</span></span><span class="mpre">
  , next
  , eof
  , satisfy
  , onFail
    </span><span class="hl_comment"><span class="mpre">-- ** Re-parsing</span></span><span class="mpre">
  , reparse
    </span><span class="hl_comment"><span class="mpre">-- * Re-export all more general combinators</span></span><span class="mpre">
  , module Text.ParserCombinators.Poly.Base
  , module Control.Applicative
  ) where


import Text.ParserCombinators.Poly.Base
import Text.ParserCombinators.Poly.Result
import Control.Applicative

</span><span class="hl_comment"><span class="mpre">-- | In a strict language, where creating the entire input list of tokens</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   in one shot may be infeasible, we can use a lazy &quot;callback&quot; kind of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   architecture instead.  The lexer returns a single token at a time,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   together with a continuation.  The @next@ parser is responsible for </span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   pulling on the token stream, applying the continuation where necessary.</span></span><span class="mpre">
data </span><a name="loc_39_6_39_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_6_39_15&#39;)"><span class="hl_tycondecl"><span class="mpre">LexReturn</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> = </span><a name="loc_39_20_39_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_20_39_29&#39;)"><span class="hl_condecl"><span class="mpre">LexReturn</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">-&gt;</span><a href="#loc_39_6_39_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_6_39_15&#39;)"><span class="hl_tyconref"><span class="mpre">LexReturn</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
                 | </span><a name="loc_40_20_40_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_20_40_29&#39;)"><span class="hl_condecl"><span class="mpre">LexFinish</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This @Parser@ datatype is a specialised parsing monad with error</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   reporting.  This version is specialised to pre-lexed String input,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   where the lexer has been written to yield a @LexReturn@.</span></span><span class="mpre">
newtype </span><a name="loc_45_9_45_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_15&#39;)"><span class="hl_tycondecl"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> = </span><a name="loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_condecl"><span class="mpre">P</span></span></a><span class="mpre"> (</span><a href="#loc_39_6_39_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_6_39_15&#39;)"><span class="hl_tyconref"><span class="mpre">LexReturn</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> -&gt; </span><a href="Text.ParserCombinators.Poly.Result.html#loc_13_6_13_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_13_6_13_12&#39;)"><span class="hl_tyconref"><span class="mpre">Result</span></span></a><span class="mpre"> (</span><a href="#loc_39_6_39_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_6_39_15&#39;)"><span class="hl_tyconref"><span class="mpre">LexReturn</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Apply a parser to an input token sequence.</span></span><span class="mpre">
</span><a href="#loc_49_1_49_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_1_49_10&#39;)"><span class="mpre">runParser</span></a><span class="mpre"> :: </span><a href="#loc_45_9_45_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_39_6_39_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_6_39_15&#39;)"><span class="hl_tyconref"><span class="mpre">LexReturn</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">)
</span><a name="loc_49_1_49_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_1_49_10&#39;)"><span class="hl_fundecl"><span class="mpre">runParser</span></span></a><span class="mpre"> (</span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a name="loc_49_14_49_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_14_49_15&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">) = (\ (</span><a name="loc_49_23_49_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_23_49_24&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">,</span><a name="loc_49_25_49_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_25_49_26&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">)-&gt;(</span><a href="#loc_49_23_49_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_23_49_24&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">,</span><a href="#loc_50_9_50_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_9_50_17&#39;)"><span class="hl_varref"><span class="mpre">stripLex</span></span></a><span class="mpre"> </span><a href="#loc_49_25_49_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_25_49_26&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Text.ParserCombinators.Poly.Result.html#loc_24_1_24_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_24_1_24_15&#39;)"><span class="hl_varref"><span class="mpre">resultToEither</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_49_14_49_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_14_49_15&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">
  where </span><a name="loc_50_9_50_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_9_50_17&#39;)"><span class="hl_fundecl"><span class="mpre">stripLex</span></span></a><span class="mpre">  </span><a href="#loc_40_20_40_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_20_40_29&#39;)"><span class="hl_conref"><span class="mpre">LexFinish</span></span></a><span class="mpre">        = </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">
        </span><a href="#loc_50_9_50_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_9_50_17&#39;)"><span class="hl_fundecl"><span class="mpre">stripLex</span></span></a><span class="mpre"> (</span><a href="#loc_39_20_39_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_20_39_29&#39;)"><span class="hl_conref"><span class="mpre">LexReturn</span></span></a><span class="mpre"> _ </span><a name="loc_51_31_51_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_31_51_32&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> _) = </span><a href="#loc_51_31_51_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_31_51_32&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">

instance </span><span class="hl_classref"><span class="mpre">Functor</span></span><span class="mpre"> (</span><a href="#loc_45_9_45_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) where
    </span><span class="hl_fundecl"><span class="mpre">fmap</span></span><span class="mpre"> </span><a name="loc_54_10_54_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_10_54_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a name="loc_54_15_54_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_15_54_16&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">) = </span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_54_10_54_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_10_54_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_54_15_54_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_15_54_16&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">)

instance </span><span class="hl_classref"><span class="mpre">Monad</span></span><span class="mpre"> (</span><a href="#loc_45_9_45_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) where
    </span><span class="hl_fundecl"><span class="mpre">return</span></span><span class="mpre"> </span><a name="loc_57_12_57_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_12_57_13&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">     = </span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (\</span><a name="loc_57_24_57_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_24_57_26&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">-&gt; </span><a href="Text.ParserCombinators.Poly.Result.html#loc_13_19_13_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_13_19_13_26&#39;)"><span class="hl_conref"><span class="mpre">Success</span></span></a><span class="mpre"> </span><a href="#loc_57_24_57_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_24_57_26&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre"> </span><a href="#loc_57_12_57_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_12_57_13&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)
    </span><span class="hl_fundecl"><span class="mpre">fail</span></span><span class="mpre"> </span><a name="loc_58_10_58_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_10_58_11&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre">       = </span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (\</span><a name="loc_58_24_58_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_24_58_26&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">-&gt; </span><a href="Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26&#39;)"><span class="hl_conref"><span class="mpre">Failure</span></span></a><span class="mpre"> </span><a href="#loc_58_24_58_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_24_58_26&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre"> </span><a href="#loc_58_10_58_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_10_58_11&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">)
    (</span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a name="loc_59_8_59_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_8_59_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre">) </span><span class="hl_fundecl"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a name="loc_59_15_59_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_15_59_16&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre">  = </span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (</span><a href="#loc_61_9_61_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_9_61_17&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_59_8_59_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_8_59_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
      where
        </span><a name="loc_61_9_61_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_9_61_17&#39;)"><span class="hl_fundecl"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.Result.html#loc_13_19_13_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_13_19_13_26&#39;)"><span class="hl_conref"><span class="mpre">Success</span></span></a><span class="mpre"> </span><a name="loc_61_27_61_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_27_61_29&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre"> </span><a name="loc_61_30_61_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_30_61_31&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">)             = let (</span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a name="loc_61_54_61_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_54_61_56&#39;)"><span class="hl_vardecl"><span class="mpre">g&#39;</span></span></a><span class="mpre">) = </span><a href="#loc_59_15_59_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_15_59_16&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_61_30_61_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_30_61_31&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> in </span><a href="#loc_61_54_61_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_54_61_56&#39;)"><span class="hl_varref"><span class="mpre">g&#39;</span></span></a><span class="mpre"> </span><a href="#loc_61_27_61_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_27_61_29&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
        </span><a href="#loc_61_9_61_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_9_61_17&#39;)"><span class="hl_fundecl"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.Result.html#loc_15_19_15_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_15_19_15_28&#39;)"><span class="hl_conref"><span class="mpre">Committed</span></span></a><span class="mpre"> </span><a name="loc_62_29_62_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_29_62_30&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">)              = </span><a href="Text.ParserCombinators.Poly.Result.html#loc_15_19_15_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_15_19_15_28&#39;)"><span class="hl_conref"><span class="mpre">Committed</span></span></a><span class="mpre"> (</span><a href="#loc_61_9_61_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_9_61_17&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> </span><a href="#loc_62_29_62_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_29_62_30&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">)
        </span><a href="#loc_61_9_61_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_9_61_17&#39;)"><span class="hl_fundecl"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26&#39;)"><span class="hl_conref"><span class="mpre">Failure</span></span></a><span class="mpre"> </span><a name="loc_63_27_63_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_27_63_29&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre"> </span><a name="loc_63_30_63_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_30_63_31&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre">)             = </span><a href="Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26&#39;)"><span class="hl_conref"><span class="mpre">Failure</span></span></a><span class="mpre"> </span><a href="#loc_63_27_63_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_27_63_29&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre"> </span><a href="#loc_63_30_63_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_30_63_31&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">

instance </span><a href="Text.ParserCombinators.Poly.Base.html#loc_44_7_44_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Base.html#loc_44_7_44_17&#39;)"><span class="hl_classref"><span class="mpre">Commitment</span></span></a><span class="mpre"> (</span><a href="#loc_45_9_45_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) where
    </span><a href="Text.ParserCombinators.Poly.Base.html#loc_49_5_49_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Base.html#loc_49_5_49_11&#39;)"><span class="hl_fundecl"><span class="mpre">commit</span></span></a><span class="mpre"> (</span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a name="loc_66_15_66_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_15_66_16&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">)         = </span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.Result.html#loc_15_19_15_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_15_19_15_28&#39;)"><span class="hl_conref"><span class="mpre">Committed</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_68_9_68_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_9_68_15&#39;)"><span class="hl_varref"><span class="mpre">squash</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_66_15_66_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_15_66_16&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">)
      where
        </span><a name="loc_68_9_68_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_9_68_15&#39;)"><span class="hl_fundecl"><span class="mpre">squash</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.Result.html#loc_15_19_15_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_15_19_15_28&#39;)"><span class="hl_conref"><span class="mpre">Committed</span></span></a><span class="mpre"> </span><a name="loc_68_27_68_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_27_68_28&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">) = </span><a href="#loc_68_9_68_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_9_68_15&#39;)"><span class="hl_varref"><span class="mpre">squash</span></span></a><span class="mpre"> </span><a href="#loc_68_27_68_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_27_68_28&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
        </span><a href="#loc_68_9_68_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_9_68_15&#39;)"><span class="hl_fundecl"><span class="mpre">squash</span></span></a><span class="mpre"> </span><a name="loc_69_16_69_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_16_69_17&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">             = </span><a href="#loc_69_16_69_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_16_69_17&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
    (</span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a name="loc_70_8_70_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_8_70_9&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">) </span><a href="Text.ParserCombinators.Poly.Base.html#loc_52_5_52_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Base.html#loc_52_5_52_14&#39;)"><span class="hl_fundecl"><span class="mpre">`adjustErr`</span></span></a><span class="mpre"> </span><a name="loc_70_23_70_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_23_70_24&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre">  = </span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (</span><a href="#loc_72_9_72_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_9_72_15&#39;)"><span class="hl_varref"><span class="mpre">adjust</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_70_8_70_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_8_70_9&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">)
      where
        </span><a name="loc_72_9_72_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_9_72_15&#39;)"><span class="hl_fundecl"><span class="mpre">adjust</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26&#39;)"><span class="hl_conref"><span class="mpre">Failure</span></span></a><span class="mpre"> </span><a name="loc_72_25_72_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_25_72_26&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre"> </span><a name="loc_72_27_72_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_27_72_28&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre">) = </span><a href="Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26&#39;)"><span class="hl_conref"><span class="mpre">Failure</span></span></a><span class="mpre"> </span><a href="#loc_72_25_72_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_25_72_26&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> (</span><a href="#loc_70_23_70_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_23_70_24&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_72_27_72_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_27_72_28&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">)
        </span><a href="#loc_72_9_72_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_9_72_15&#39;)"><span class="hl_fundecl"><span class="mpre">adjust</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.Result.html#loc_15_19_15_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_15_19_15_28&#39;)"><span class="hl_conref"><span class="mpre">Committed</span></span></a><span class="mpre"> </span><a name="loc_73_27_73_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_27_73_28&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">) = </span><a href="Text.ParserCombinators.Poly.Result.html#loc_15_19_15_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_15_19_15_28&#39;)"><span class="hl_conref"><span class="mpre">Committed</span></span></a><span class="mpre"> (</span><a href="#loc_72_9_72_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_9_72_15&#39;)"><span class="hl_varref"><span class="mpre">adjust</span></span></a><span class="mpre"> </span><a href="#loc_73_27_73_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_27_73_28&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">)
        </span><a href="#loc_72_9_72_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_9_72_15&#39;)"><span class="hl_fundecl"><span class="mpre">adjust</span></span></a><span class="mpre">  </span><a name="loc_74_17_74_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_17_74_21&#39;)"><span class="hl_vardecl"><span class="mpre">good</span></span></a><span class="mpre">         = </span><a href="#loc_74_17_74_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_17_74_21&#39;)"><span class="hl_varref"><span class="mpre">good</span></span></a><span class="mpre">

    </span><a href="Text.ParserCombinators.Poly.Base.html#loc_56_5_56_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Base.html#loc_56_5_56_11&#39;)"><span class="hl_vardecl"><span class="mpre">oneOf&#39;</span></span></a><span class="mpre"> = </span><a href="#loc_77_13_77_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_13_77_18&#39;)"><span class="hl_varref"><span class="mpre">accum</span></span></a><span class="mpre"> []
      where </span><a name="loc_77_13_77_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_13_77_18&#39;)"><span class="hl_fundecl"><span class="mpre">accum</span></span></a><span class="mpre"> </span><a name="loc_77_19_77_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_19_77_23&#39;)"><span class="hl_vardecl"><span class="mpre">errs</span></span></a><span class="mpre"> [] =
                </span><span class="hl_varref"><span class="mpre">fail</span></span><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;failed to parse any of the possible choices:\n&quot;</span></span><span class="mpre">
                     </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre">(</span><a href="Text.ParserCombinators.Poly.Base.html#loc_122_1_122_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Base.html#loc_122_1_122_7&#39;)"><span class="hl_varref"><span class="mpre">indent</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">unlines</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_87_13_87_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_13_87_20&#39;)"><span class="hl_varref"><span class="mpre">showErr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">reverse</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_77_19_77_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_19_77_23&#39;)"><span class="hl_varref"><span class="mpre">errs</span></span></a><span class="mpre">))
            </span><a href="#loc_77_13_77_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_13_77_18&#39;)"><span class="hl_fundecl"><span class="mpre">accum</span></span></a><span class="mpre"> </span><a name="loc_80_19_80_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_19_80_23&#39;)"><span class="hl_vardecl"><span class="mpre">errs</span></span></a><span class="mpre"> ((</span><a name="loc_80_26_80_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_26_80_27&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre">,</span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a name="loc_80_30_80_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_30_80_31&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">)</span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_80_33_80_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_33_80_35&#39;)"><span class="hl_vardecl"><span class="mpre">ps</span></span></a><span class="mpre">) =
                </span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (\</span><a name="loc_81_21_81_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_21_81_23&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">-&gt; case </span><a href="#loc_80_30_80_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_30_80_31&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_81_21_81_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_21_81_23&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre"> of
                           </span><a href="Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26&#39;)"><span class="hl_conref"><span class="mpre">Failure</span></span></a><span class="mpre"> _ </span><a name="loc_82_38_82_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_38_82_41&#39;)"><span class="hl_vardecl"><span class="mpre">err</span></span></a><span class="mpre"> -&gt;
                                       let (</span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a name="loc_83_47_83_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_47_83_49&#39;)"><span class="hl_vardecl"><span class="mpre">p&#39;</span></span></a><span class="mpre">) = </span><a href="#loc_77_13_77_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_13_77_18&#39;)"><span class="hl_varref"><span class="mpre">accum</span></span></a><span class="mpre"> ((</span><a href="#loc_80_26_80_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_26_80_27&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">,</span><a href="#loc_82_38_82_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_38_82_41&#39;)"><span class="hl_varref"><span class="mpre">err</span></span></a><span class="mpre">)</span><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_80_19_80_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_19_80_23&#39;)"><span class="hl_varref"><span class="mpre">errs</span></span></a><span class="mpre">) </span><a href="#loc_80_33_80_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_33_80_35&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">
                                       in </span><a href="#loc_83_47_83_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_47_83_49&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre"> </span><a href="#loc_81_21_81_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_21_81_23&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
                           </span><a name="loc_85_28_85_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_28_85_29&#39;)"><span class="hl_specname"><span class="mpre">r</span></span></a><span class="mpre">@(</span><a href="Text.ParserCombinators.Poly.Result.html#loc_13_19_13_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_13_19_13_26&#39;)"><span class="hl_conref"><span class="mpre">Success</span></span></a><span class="mpre"> _ _)    -&gt; </span><a href="#loc_85_28_85_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_28_85_29&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
                           </span><a name="loc_86_28_86_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_28_86_29&#39;)"><span class="hl_specname"><span class="mpre">r</span></span></a><span class="mpre">@(</span><a href="Text.ParserCombinators.Poly.Result.html#loc_15_19_15_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_15_19_15_28&#39;)"><span class="hl_conref"><span class="mpre">Committed</span></span></a><span class="mpre"> _)    -&gt; </span><a href="#loc_86_28_86_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_28_86_29&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre"> )
            </span><a name="loc_87_13_87_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_13_87_20&#39;)"><span class="hl_fundecl"><span class="mpre">showErr</span></span></a><span class="mpre"> (</span><a name="loc_87_22_87_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_22_87_26&#39;)"><span class="hl_vardecl"><span class="mpre">name</span></span></a><span class="mpre">,</span><a name="loc_87_27_87_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_27_87_30&#39;)"><span class="hl_vardecl"><span class="mpre">err</span></span></a><span class="mpre">) = </span><a href="#loc_87_22_87_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_22_87_26&#39;)"><span class="hl_varref"><span class="mpre">name</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;\n&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Text.ParserCombinators.Poly.Base.html#loc_122_1_122_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Base.html#loc_122_1_122_7&#39;)"><span class="hl_varref"><span class="mpre">indent</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre"> </span><a href="#loc_87_27_87_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_27_87_30&#39;)"><span class="hl_varref"><span class="mpre">err</span></span></a><span class="mpre">

</span><span class="warning" data-warning="DeclInfixDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/polyparse-1.9/src/Text/ParserCombinators/Poly/Lex.hs&quot;, srcSpanStartLine = 89, srcSpanStartColumn = 1, srcSpanEndLine = 89, srcSpanEndColumn = 18}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/polyparse-1.9/src/Text/ParserCombinators/Poly/Lex.hs&quot;, srcSpanStartLine = 89, srcSpanStartColumn = 8, srcSpanEndLine = 89, srcSpanEndColumn = 9}]}) (AssocLeft (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home"><span class="mpre">infixl 6 `onFail`</span></span><span class="mpre">        </span><span class="hl_comment"><span class="mpre">-- not sure about precedence 6?</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | @p `onFail` q@ means parse p, unless p fails, in which case</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   parse q instead.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   Can be chained together to give multiple attempts to parse something.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   (Note that q could itself be a failing parser, e.g. to change the error</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   message from that defined in p to something different.)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   However, a severe failure in p cannot be ignored.</span></span><span class="mpre">
(</span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a name="loc_97_4_97_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_4_97_5&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">) </span><a name="loc_97_7_97_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_7_97_15&#39;)"><span class="hl_fundecl"><span class="mpre">`onFail`</span></span></a><span class="mpre"> (</span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a name="loc_97_19_97_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_19_97_20&#39;)"><span class="hl_vardecl"><span class="mpre">q</span></span></a><span class="mpre">) = </span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (\</span><a name="loc_97_28_97_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_28_97_30&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">-&gt; </span><a href="#loc_99_9_99_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_9_99_17&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> </span><a href="#loc_97_28_97_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_28_97_30&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_97_4_97_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_4_97_5&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_97_28_97_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_28_97_30&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">)
      where
        </span><a name="loc_99_9_99_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_9_99_17&#39;)"><span class="hl_fundecl"><span class="mpre">continue</span></span></a><span class="mpre"> </span><a name="loc_99_18_99_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_18_99_20&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26&#39;)"><span class="hl_conref"><span class="mpre">Failure</span></span></a><span class="mpre"> _ _) = </span><a href="#loc_97_19_97_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_19_97_20&#39;)"><span class="hl_varref"><span class="mpre">q</span></span></a><span class="mpre"> </span><a href="#loc_99_18_99_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_18_99_20&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--  continue _  (Committed r) = r    -- no, remain Committed</span></span><span class="mpre">
        </span><a href="#loc_99_9_99_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_9_99_17&#39;)"><span class="hl_fundecl"><span class="mpre">continue</span></span></a><span class="mpre"> _  </span><a name="loc_101_21_101_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_21_101_22&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">             = </span><a href="#loc_101_21_101_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_21_101_22&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">

instance </span><a href="Control.Applicative.html#loc_113_20_113_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_113_20_113_31&#39;)"><span class="hl_classref"><span class="mpre">Applicative</span></span></a><span class="mpre"> (</span><a href="#loc_45_9_45_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) where
    </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_fundecl"><span class="mpre">pure</span></span></a><span class="mpre"> </span><a name="loc_104_10_104_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_10_104_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre">    = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_104_10_104_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_10_104_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
    </span><a name="loc_105_5_105_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_5_105_7&#39;)"><span class="hl_vardecl"><span class="mpre">pf</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;*&gt;</span></span></a><span class="mpre"> </span><a name="loc_105_12_105_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_12_105_14&#39;)"><span class="hl_vardecl"><span class="mpre">px</span></span></a><span class="mpre"> = do { </span><a name="loc_105_22_105_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_22_105_23&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_105_5_105_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_5_105_7&#39;)"><span class="hl_varref"><span class="mpre">pf</span></span></a><span class="mpre">; </span><a name="loc_105_31_105_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_31_105_32&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_105_12_105_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_12_105_14&#39;)"><span class="hl_varref"><span class="mpre">px</span></span></a><span class="mpre">; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_105_22_105_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_22_105_23&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_105_31_105_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_31_105_32&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) }
#if defined(GLASGOW_HASKELL) &amp;&amp; GLASGOW_HASKELL &gt; 610
    </span><a name="loc_107_5_107_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_5_107_6&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">  </span><a href="Control.Applicative.html#loc_125_5_125_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_125_5_125_9&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;*</span></span></a><span class="mpre">  </span><a name="loc_107_12_107_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_12_107_13&#39;)"><span class="hl_vardecl"><span class="mpre">q</span></span></a><span class="mpre">  = </span><a href="#loc_107_5_107_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_5_107_6&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="Text.ParserCombinators.Poly.Base.html#loc_79_4_79_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Base.html#loc_79_4_79_13&#39;)"><span class="hl_infix"><span class="mpre">`discard`</span></span></a><span class="mpre"> </span><a href="#loc_107_12_107_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_12_107_13&#39;)"><span class="hl_varref"><span class="mpre">q</span></span></a><span class="mpre">
#endif

instance </span><a href="Control.Applicative.html#loc_138_24_138_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_138_24_138_35&#39;)"><span class="hl_classref"><span class="mpre">Alternative</span></span></a><span class="mpre"> (</span><a href="#loc_45_9_45_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) where
    </span><a href="Control.Applicative.html#loc_140_5_140_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_140_5_140_10&#39;)"><span class="hl_vardecl"><span class="mpre">empty</span></span></a><span class="mpre">     = </span><span class="hl_varref"><span class="mpre">fail</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;no parse&quot;</span></span><span class="mpre">
    </span><a name="loc_112_5_112_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_5_112_6&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_142_5_142_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_142_5_142_10&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;|&gt;</span></span></a><span class="mpre"> </span><a name="loc_112_11_112_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_11_112_12&#39;)"><span class="hl_vardecl"><span class="mpre">q</span></span></a><span class="mpre">   = </span><a href="#loc_112_5_112_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_5_112_6&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_97_7_97_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_7_97_15&#39;)"><span class="hl_infix"><span class="mpre">`onFail`</span></span></a><span class="mpre"> </span><a href="#loc_112_11_112_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_11_112_12&#39;)"><span class="hl_varref"><span class="mpre">q</span></span></a><span class="mpre">

instance </span><a href="Text.ParserCombinators.Poly.Base.html#loc_66_7_66_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Base.html#loc_66_7_66_16&#39;)"><span class="hl_classref"><span class="mpre">PolyParse</span></span></a><span class="mpre"> (</span><a href="#loc_45_9_45_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Simply return the next token in the input tokenstream.</span></span><span class="mpre">
</span><a href="#loc_120_1_120_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_1_120_5&#39;)"><span class="mpre">next</span></a><span class="mpre"> :: </span><a href="#loc_45_9_45_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_120_1_120_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_1_120_5&#39;)"><span class="hl_vardecl"><span class="mpre">next</span></span></a><span class="mpre"> = </span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (\</span><a name="loc_120_12_120_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_12_120_14&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">-&gt; case </span><a href="#loc_120_12_120_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_12_120_14&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre"> of
                  </span><a href="#loc_40_20_40_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_20_40_29&#39;)"><span class="hl_conref"><span class="mpre">LexFinish</span></span></a><span class="mpre">       -&gt; </span><a href="Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26&#39;)"><span class="hl_conref"><span class="mpre">Failure</span></span></a><span class="mpre"> </span><a href="#loc_120_12_120_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_12_120_14&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Ran out of input (EOF)&quot;</span></span><span class="mpre">
                  </span><a href="#loc_39_20_39_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_20_39_29&#39;)"><span class="hl_conref"><span class="mpre">LexReturn</span></span></a><span class="mpre"> </span><a name="loc_122_29_122_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_29_122_30&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_122_31_122_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_31_122_32&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> </span><a name="loc_122_33_122_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_33_122_34&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> -&gt; </span><a href="Text.ParserCombinators.Poly.Result.html#loc_13_19_13_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_13_19_13_26&#39;)"><span class="hl_conref"><span class="mpre">Success</span></span></a><span class="mpre"> (</span><a href="#loc_122_33_122_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_33_122_34&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_122_31_122_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_31_122_32&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">) </span><a href="#loc_122_29_122_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_29_122_30&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Succeed if the end of file/input has been reached, fail otherwise.</span></span><span class="mpre">
</span><a href="#loc_126_1_126_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_1_126_4&#39;)"><span class="mpre">eof</span></a><span class="mpre"> :: </span><a href="#loc_45_9_45_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_126_1_126_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_1_126_4&#39;)"><span class="hl_vardecl"><span class="mpre">eof</span></span></a><span class="mpre"> = </span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (\</span><a name="loc_126_11_126_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_11_126_13&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre"> -&gt; case </span><a href="#loc_126_11_126_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_11_126_13&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre"> of
                  </span><a href="#loc_40_20_40_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_20_40_29&#39;)"><span class="hl_conref"><span class="mpre">LexFinish</span></span></a><span class="mpre">       -&gt; </span><a href="Text.ParserCombinators.Poly.Result.html#loc_13_19_13_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_13_19_13_26&#39;)"><span class="hl_conref"><span class="mpre">Success</span></span></a><span class="mpre"> </span><a href="#loc_126_11_126_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_11_126_13&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
                  </span><a href="#loc_39_20_39_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_20_39_29&#39;)"><span class="hl_conref"><span class="mpre">LexReturn</span></span></a><span class="mpre"> _ _ _ -&gt; </span><a href="Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26&#39;)"><span class="hl_conref"><span class="mpre">Failure</span></span></a><span class="mpre"> </span><a href="#loc_126_11_126_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_11_126_13&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Expected end of input (EOF)&quot;</span></span><span class="mpre"> )

</span><span class="hl_comment"><span class="mpre">-- | Return the next token if it satisfies the given predicate.</span></span><span class="mpre">
</span><a href="#loc_132_1_132_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_1_132_8&#39;)"><span class="mpre">satisfy</span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><a href="#loc_45_9_45_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_132_1_132_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_1_132_8&#39;)"><span class="hl_fundecl"><span class="mpre">satisfy</span></span></a><span class="mpre"> </span><a name="loc_132_9_132_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_9_132_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = do { </span><a name="loc_132_18_132_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_18_132_19&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_120_1_120_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_1_120_5&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre">
               ; if </span><a href="#loc_132_9_132_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_9_132_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_132_18_132_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_18_132_19&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_132_18_132_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_18_132_19&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> else </span><span class="hl_varref"><span class="mpre">fail</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Parse.satisfy: failed&quot;</span></span><span class="mpre">
               }

</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | Push some tokens back onto the front of the input stream and reparse.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   This is useful e.g. for recursively expanding macros.  When the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   user-parser recognises a macro use, it can lookup the macro</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   expansion from the parse state, lex it, and then stuff the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   lexed expansion back down into the parser.</span></span><span class="mpre">
</span><a href="#loc_143_1_143_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_8&#39;)"><span class="mpre">reparse</span></a><span class="mpre">    :: [</span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">] -&gt; </span><a href="#loc_45_9_45_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_143_1_143_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_8&#39;)"><span class="hl_fundecl"><span class="mpre">reparse</span></span></a><span class="mpre"> </span><a name="loc_143_9_143_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_9_143_11&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">  = </span><a href="#loc_45_22_45_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_22_45_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (\</span><a name="loc_143_19_143_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_19_143_22&#39;)"><span class="hl_vardecl"><span class="mpre">inp</span></span></a><span class="mpre">-&gt; </span><a href="Text.ParserCombinators.Poly.Result.html#loc_13_19_13_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_13_19_13_26&#39;)"><span class="hl_conref"><span class="mpre">Success</span></span></a><span class="mpre"> (</span><a href="#loc_143_9_143_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_9_143_11&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre"> </span><a href="#loc_145_12_145_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_145_12_145_20&#39;)"><span class="hl_infix"><span class="mpre">`prefix`</span></span></a><span class="mpre"> </span><a href="#loc_143_19_143_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_19_143_22&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre">) </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">)
  where
    (</span><a name="loc_145_6_145_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_145_6_145_7&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_145_8_145_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_145_8_145_10&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">) </span><a name="loc_145_12_145_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_145_12_145_20&#39;)"><span class="hl_fundecl"><span class="mpre">`prefix`</span></span></a><span class="mpre"> </span><a name="loc_145_21_145_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_145_21_145_22&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> = </span><a href="#loc_39_20_39_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_20_39_29&#39;)"><span class="hl_conref"><span class="mpre">LexReturn</span></span></a><span class="mpre"> </span><a href="#loc_145_6_145_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_145_6_145_7&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre"> (</span><a href="#loc_145_8_145_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_145_8_145_10&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre"> </span><a href="#loc_145_12_145_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_145_12_145_20&#39;)"><span class="hl_infix"><span class="mpre">`prefix`</span></span></a><span class="mpre"> </span><a href="#loc_145_21_145_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_145_21_145_22&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">))
    []     </span><a href="#loc_145_12_145_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_145_12_145_20&#39;)"><span class="hl_fundecl"><span class="mpre">`prefix`</span></span></a><span class="mpre"> </span><a name="loc_146_21_146_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_21_146_22&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> = </span><a href="#loc_146_21_146_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_21_146_22&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------</span></span><span class="mpre">
</span></div></body></html>