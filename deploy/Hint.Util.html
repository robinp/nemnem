<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE PatternGuards, ViewPatterns #-}

module Hint.Util where

import HSE.All
import Util


</span><span class="hl_comment"><span class="mpre">-- | Generate a lambda, but prettier (if possible).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   Generally no lambda is good, but removing just some arguments isn&#39;t so useful.</span></span><span class="mpre">
</span><a href="#loc_14_1_14_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_1_14_11&#39;)"><span class="mpre">niceLambda</span></a><span class="mpre"> :: [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">Exp_</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Exp_</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- \xs -&gt; (e) ==&gt; \xs -&gt; e</span></span><span class="mpre">
</span><a name="loc_14_1_14_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_1_14_11&#39;)"><span class="hl_fundecl"><span class="mpre">niceLambda</span></span></a><span class="mpre"> </span><a name="loc_14_12_14_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_12_14_14&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Paren</span></span><span class="mpre"> _ </span><a name="loc_14_24_14_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_24_14_25&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><a href="#loc_14_1_14_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_1_14_11&#39;)"><span class="hl_varref"><span class="mpre">niceLambda</span></span></a><span class="mpre"> </span><a href="#loc_14_12_14_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_12_14_14&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre"> </span><a href="#loc_14_24_14_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_24_14_25&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- \xs -&gt; \v vs -&gt; e ==&gt; \xs v -&gt; \vs -&gt; e</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- \xs -&gt; \ -&gt; e ==&gt; \xs -&gt; e</span></span><span class="mpre">
</span><a href="#loc_14_1_14_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_1_14_11&#39;)"><span class="hl_fundecl"><span class="mpre">niceLambda</span></span></a><span class="mpre"> </span><a name="loc_18_12_18_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_18_12_18_14&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Lambda</span></span><span class="mpre"> _ ((</span><span class="warning" data-warning="PatPViewPat (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 18, srcSpanStartColumn = 27, srcSpanEndLine = 18, srcSpanEndColumn = 42}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 18, srcSpanStartColumn = 32, srcSpanEndLine = 18, srcSpanEndColumn = 34}]}) (Var (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpa"><span class="mpre">view -&gt; PVar_ v</span></span><span class="mpre">)</span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_18_44_18_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_18_44_18_46&#39;)"><span class="hl_vardecl"><span class="mpre">vs</span></span></a><span class="mpre">) </span><a name="loc_18_48_18_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_18_48_18_49&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) | </span><span class="hl_varref"><span class="mpre">v</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`notElem`</span></span><span class="mpre"> </span><a href="#loc_18_12_18_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_18_12_18_14&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre"> = </span><a href="#loc_14_1_14_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_1_14_11&#39;)"><span class="hl_varref"><span class="mpre">niceLambda</span></span></a><span class="mpre"> (</span><a href="#loc_18_12_18_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_18_12_18_14&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre">[</span><span class="hl_varref"><span class="mpre">v</span></span><span class="mpre">]) (</span><span class="hl_conref"><span class="mpre">Lambda</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">an</span></span><span class="mpre"> </span><a href="#loc_18_44_18_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_18_44_18_46&#39;)"><span class="hl_varref"><span class="mpre">vs</span></span></a><span class="mpre"> </span><a href="#loc_18_48_18_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_18_48_18_49&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)
</span><a href="#loc_14_1_14_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_1_14_11&#39;)"><span class="hl_fundecl"><span class="mpre">niceLambda</span></span></a><span class="mpre"> </span><a name="loc_19_12_19_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_12_19_14&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Lambda</span></span><span class="mpre"> _ [] </span><a name="loc_19_28_19_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_28_19_29&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><a href="#loc_14_1_14_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_1_14_11&#39;)"><span class="hl_varref"><span class="mpre">niceLambda</span></span></a><span class="mpre"> </span><a href="#loc_19_12_19_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_12_19_14&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre"> </span><a href="#loc_19_28_19_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_28_19_29&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- \ -&gt; e ==&gt; e</span></span><span class="mpre">
</span><a href="#loc_14_1_14_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_1_14_11&#39;)"><span class="hl_fundecl"><span class="mpre">niceLambda</span></span></a><span class="mpre"> [] </span><a name="loc_22_15_22_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_22_15_22_16&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_22_15_22_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_22_15_22_16&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- \xs -&gt; e xs ==&gt; e</span></span><span class="mpre">
</span><a href="#loc_14_1_14_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_1_14_11&#39;)"><span class="hl_fundecl"><span class="mpre">niceLambda</span></span></a><span class="mpre"> </span><a name="loc_25_12_25_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_12_25_14&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> (</span><span class="warning" data-warning="PatPViewPat (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 25, srcSpanStartColumn = 16, srcSpanEndLine = 25, srcSpanEndColumn = 29}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 25, srcSpanStartColumn = 25, srcSpanEndLine = 25, srcSpanEndColumn = 27}]}) (Var (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpa"><span class="mpre">fromApps -&gt; e</span></span><span class="mpre">) | </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">view</span></span><span class="mpre"> </span><a href="#loc_26_15_26_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_15_26_18&#39;)"><span class="hl_varref"><span class="mpre">xs2</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Var_</span></span><span class="mpre"> </span><a href="#loc_25_12_25_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_12_25_14&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">, </span><span class="hl_varref"><span class="mpre">vars</span></span><span class="mpre"> </span><a href="#loc_26_12_26_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_12_26_14&#39;)"><span class="hl_varref"><span class="mpre">e2</span></span></a><span class="mpre"> </span><a href="Util.html#loc_110_1_110_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Util.html#loc_110_1_110_9&#39;)"><span class="hl_infix"><span class="mpre">`disjoint`</span></span></a><span class="mpre"> </span><a href="#loc_25_12_25_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_12_25_14&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">, </span><a href="Util.html#loc_64_1_64_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Util.html#loc_64_1_64_8&#39;)"><span class="hl_varref"><span class="mpre">notNull</span></span></a><span class="mpre"> </span><a href="#loc_26_12_26_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_12_26_14&#39;)"><span class="hl_varref"><span class="mpre">e2</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">apps</span></span><span class="mpre"> </span><a href="#loc_26_12_26_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_12_26_14&#39;)"><span class="hl_varref"><span class="mpre">e2</span></span></a><span class="mpre">
    where (</span><a name="loc_26_12_26_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_12_26_14&#39;)"><span class="hl_vardecl"><span class="mpre">e2</span></span></a><span class="mpre">,</span><a name="loc_26_15_26_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_15_26_18&#39;)"><span class="hl_vardecl"><span class="mpre">xs2</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">splitAt</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">length</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">length</span></span><span class="mpre"> </span><a href="#loc_25_12_25_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_12_25_14&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">) </span><span class="hl_varref"><span class="mpre">e</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- \x y -&gt; x + y ==&gt; (+)</span></span><span class="mpre">
</span><a href="#loc_14_1_14_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_1_14_11&#39;)"><span class="hl_fundecl"><span class="mpre">niceLambda</span></span></a><span class="mpre"> [</span><a name="loc_29_13_29_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_13_29_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">,</span><a name="loc_29_15_29_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_15_29_16&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">] (</span><span class="hl_conref"><span class="mpre">InfixApp</span></span><span class="mpre"> _ (</span><span class="warning" data-warning="PatPViewPat (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 29, srcSpanStartColumn = 31, srcSpanEndLine = 29, srcSpanEndColumn = 46}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 29, srcSpanStartColumn = 36, srcSpanEndLine = 29, srcSpanEndColumn = 38}]}) (Var (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpa"><span class="mpre">view -&gt; Var_ x1</span></span><span class="mpre">) (</span><span class="warning" data-warning="PatPViewPat (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 29, srcSpanStartColumn = 49, srcSpanEndLine = 29, srcSpanEndColumn = 60}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 29, srcSpanStartColumn = 55, srcSpanEndLine = 29, srcSpanEndColumn = 57}]}) (Var (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpa"><span class="mpre">opExp -&gt; op</span></span><span class="mpre">) (</span><span class="warning" data-warning="PatPViewPat (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 29, srcSpanStartColumn = 63, srcSpanEndLine = 29, srcSpanEndColumn = 78}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 29, srcSpanStartColumn = 68, srcSpanEndLine = 29, srcSpanEndColumn = 70}]}) (Var (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpa"><span class="mpre">view -&gt; Var_ y1</span></span><span class="mpre">))
    | </span><a href="#loc_29_13_29_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_13_29_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">x1</span></span><span class="mpre">, </span><a href="#loc_29_15_29_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_15_29_16&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">y1</span></span><span class="mpre">, </span><span class="hl_varref"><span class="mpre">vars</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">op</span></span><span class="mpre"> </span><a href="Util.html#loc_110_1_110_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Util.html#loc_110_1_110_9&#39;)"><span class="hl_infix"><span class="mpre">`disjoint`</span></span></a><span class="mpre"> [</span><a href="#loc_29_13_29_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_13_29_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">,</span><a href="#loc_29_15_29_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_15_29_16&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">] = </span><span class="hl_varref"><span class="mpre">op</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- \x -&gt; x + b ==&gt; (+ b) [heuristic, b must be a single lexeme, or gets too complex]</span></span><span class="mpre">
</span><a href="#loc_14_1_14_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_1_14_11&#39;)"><span class="hl_fundecl"><span class="mpre">niceLambda</span></span></a><span class="mpre"> [</span><a name="loc_33_13_33_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_13_33_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">] (</span><span class="warning" data-warning="PatPViewPat (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 33, srcSpanStartColumn = 17, srcSpanEndLine = 33, srcSpanEndColumn = 52}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 33, srcSpanStartColumn = 22, srcSpanEndLine = 33, srcSpanEndColumn = 24}]}) (Var (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpa"><span class="mpre">view -&gt; App2 (expOp -&gt; Just op) a b</span></span><span class="mpre">)
    | </span><span class="hl_varref"><span class="mpre">isLexeme</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">b</span></span><span class="mpre">, </span><span class="hl_varref"><span class="mpre">view</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Var_</span></span><span class="mpre"> </span><a href="#loc_33_13_33_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_13_33_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">, </span><a href="#loc_33_13_33_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_13_33_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`notElem`</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">vars</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">b</span></span><span class="mpre">, </span><span class="hl_varref"><span class="mpre">allowRightSection</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromNamed</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">op</span></span><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">rebracket1</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">RightSection</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">an</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">op</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">b</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- \x y -&gt; f y x = flip f</span></span><span class="mpre">
</span><a href="#loc_14_1_14_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_1_14_11&#39;)"><span class="hl_fundecl"><span class="mpre">niceLambda</span></span></a><span class="mpre"> [</span><a name="loc_37_13_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_13_37_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">,</span><a name="loc_37_15_37_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_15_37_16&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">] (</span><span class="warning" data-warning="PatPViewPat (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 37, srcSpanStartColumn = 19, srcSpanEndLine = 37, srcSpanEndColumn = 70}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 37, srcSpanStartColumn = 24, srcSpanEndLine = 37, srcSpanEndColumn = 26}]}) (Var (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpa"><span class="mpre">view -&gt; App2 op (view -&gt; Var_ y1) (view -&gt; Var_ x1)</span></span><span class="mpre">)
    | </span><a href="#loc_37_13_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_13_37_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">x1</span></span><span class="mpre">, </span><a href="#loc_37_15_37_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_15_37_16&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">y1</span></span><span class="mpre">, </span><span class="hl_varref"><span class="mpre">vars</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">op</span></span><span class="mpre"> </span><a href="Util.html#loc_110_1_110_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Util.html#loc_110_1_110_9&#39;)"><span class="hl_infix"><span class="mpre">`disjoint`</span></span></a><span class="mpre"> [</span><a href="#loc_37_13_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_13_37_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">,</span><a href="#loc_37_15_37_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_15_37_16&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">] = </span><span class="hl_conref"><span class="mpre">App</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">an</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">toNamed</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;flip&quot;</span></span><span class="mpre">) </span><span class="hl_varref"><span class="mpre">op</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- \x -&gt; f (b x) ==&gt; f . b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- \x -&gt; f $ b x ==&gt; f . b</span></span><span class="mpre">
</span><a href="#loc_14_1_14_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_1_14_11&#39;)"><span class="hl_fundecl"><span class="mpre">niceLambda</span></span></a><span class="mpre"> [</span><a name="loc_42_13_42_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_13_42_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">] </span><a name="loc_42_16_42_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_16_42_17&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre"> | </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">z</span></span><span class="mpre"> &lt;- </span><a href="#loc_45_9_45_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_15&#39;)"><span class="hl_varref"><span class="mpre">factor</span></span></a><span class="mpre"> </span><a href="#loc_42_16_42_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_16_42_17&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">, </span><a href="#loc_42_13_42_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_13_42_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`notElem`</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">vars</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">z</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">z</span></span><span class="mpre">
    where
        </span><span class="hl_comment"><span class="mpre">-- factor the expression with respect to x</span></span><span class="mpre">
        </span><a name="loc_45_9_45_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_15&#39;)"><span class="hl_fundecl"><span class="mpre">factor</span></span></a><span class="mpre"> </span><a name="loc_45_16_45_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_16_45_17&#39;)"><span class="hl_specname"><span class="mpre">y</span></span></a><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 45, srcSpanStartColumn = 18, srcSpanEndLine = 45, srcSpanEndColumn = 23}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 45, srcSpanStartColumn = 21, srcSpanEndLine = 45, srcSpanEndColumn = 22},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 45, srcSpanStartColumn = 22"><span class="mpre">App{}</span></span><span class="mpre"> | (</span><span class="hl_vardecl"><span class="mpre">ini</span></span><span class="mpre">,</span><span class="hl_vardecl"><span class="mpre">lst</span></span><span class="mpre">) &lt;- </span><a href="Util.html#loc_113_1_113_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Util.html#loc_113_1_113_7&#39;)"><span class="hl_varref"><span class="mpre">unsnoc</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromApps</span></span><span class="mpre"> </span><a href="#loc_45_16_45_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_16_45_17&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">, </span><span class="hl_varref"><span class="mpre">view</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">lst</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Var_</span></span><span class="mpre"> </span><a href="#loc_42_13_42_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_13_42_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">apps</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ini</span></span><span class="mpre">
        </span><a href="#loc_45_9_45_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_15&#39;)"><span class="hl_fundecl"><span class="mpre">factor</span></span></a><span class="mpre"> </span><a name="loc_46_16_46_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_16_46_17&#39;)"><span class="hl_specname"><span class="mpre">y</span></span></a><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 46, srcSpanStartColumn = 18, srcSpanEndLine = 46, srcSpanEndColumn = 23}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 46, srcSpanStartColumn = 21, srcSpanEndLine = 46, srcSpanEndColumn = 22},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 46, srcSpanStartColumn = 22"><span class="mpre">App{}</span></span><span class="mpre"> | (</span><span class="hl_vardecl"><span class="mpre">ini</span></span><span class="mpre">,</span><span class="hl_vardecl"><span class="mpre">lst</span></span><span class="mpre">) &lt;- </span><a href="Util.html#loc_113_1_113_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Util.html#loc_113_1_113_7&#39;)"><span class="hl_varref"><span class="mpre">unsnoc</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromApps</span></span><span class="mpre"> </span><a href="#loc_46_16_46_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_16_46_17&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">, </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">z</span></span><span class="mpre"> &lt;- </span><a href="#loc_45_9_45_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_15&#39;)"><span class="hl_varref"><span class="mpre">factor</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">lst</span></span><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_61_1_61_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_1_61_11&#39;)"><span class="hl_varref"><span class="mpre">niceDotApp</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">apps</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ini</span></span><span class="mpre">) </span><span class="hl_varref"><span class="mpre">z</span></span><span class="mpre">
        </span><a href="#loc_45_9_45_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_15&#39;)"><span class="hl_fundecl"><span class="mpre">factor</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">InfixApp</span></span><span class="mpre"> _ </span><a name="loc_47_28_47_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_28_47_29&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre"> </span><a name="loc_47_30_47_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_30_47_32&#39;)"><span class="hl_vardecl"><span class="mpre">op</span></span></a><span class="mpre"> (</span><span class="warning" data-warning="PatPViewPat (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 47, srcSpanStartColumn = 34, srcSpanEndLine = 47, srcSpanEndColumn = 50}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 47, srcSpanStartColumn = 41, srcSpanEndLine = 47, srcSpanEndColumn = 43}]}) (Var (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpa"><span class="mpre">factor -&gt; Just z</span></span><span class="mpre">)) | </span><span class="hl_varref"><span class="mpre">isDol</span></span><span class="mpre"> </span><a href="#loc_47_30_47_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_30_47_32&#39;)"><span class="hl_varref"><span class="mpre">op</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_61_1_61_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_1_61_11&#39;)"><span class="hl_varref"><span class="mpre">niceDotApp</span></span></a><span class="mpre"> </span><a href="#loc_47_28_47_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_28_47_29&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">z</span></span><span class="mpre">
        </span><a href="#loc_45_9_45_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_15&#39;)"><span class="hl_fundecl"><span class="mpre">factor</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Paren</span></span><span class="mpre"> _ </span><a name="loc_48_25_48_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_25_48_26&#39;)"><span class="hl_specname"><span class="mpre">y</span></span></a><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 48, srcSpanStartColumn = 27, srcSpanEndLine = 48, srcSpanEndColumn = 32}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 48, srcSpanStartColumn = 30, srcSpanEndLine = 48, srcSpanEndColumn = 31},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 48, srcSpanStartColumn = 31"><span class="mpre">App{}</span></span><span class="mpre">) = </span><a href="#loc_45_9_45_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_15&#39;)"><span class="hl_varref"><span class="mpre">factor</span></span></a><span class="mpre"> </span><a href="#loc_48_25_48_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_25_48_26&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">
        </span><a href="#loc_45_9_45_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_9_45_15&#39;)"><span class="hl_fundecl"><span class="mpre">factor</span></span></a><span class="mpre"> _ = </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- \x -&gt; (x +) ==&gt; (+)</span></span><span class="mpre">
</span><a href="#loc_14_1_14_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_1_14_11&#39;)"><span class="hl_fundecl"><span class="mpre">niceLambda</span></span></a><span class="mpre"> [</span><a name="loc_52_13_52_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_13_52_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">] (</span><span class="hl_conref"><span class="mpre">LeftSection</span></span><span class="mpre"> _ (</span><span class="warning" data-warning="PatPViewPat (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 52, srcSpanStartColumn = 32, srcSpanEndLine = 52, srcSpanEndColumn = 47}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 52, srcSpanStartColumn = 37, srcSpanEndLine = 52, srcSpanEndColumn = 39}]}) (Var (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpa"><span class="mpre">view -&gt; Var_ x1</span></span><span class="mpre">) </span><a name="loc_52_49_52_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_49_52_51&#39;)"><span class="hl_vardecl"><span class="mpre">op</span></span></a><span class="mpre">) | </span><a href="#loc_52_13_52_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_13_52_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">x1</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">opExp</span></span><span class="mpre"> </span><a href="#loc_52_49_52_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_49_52_51&#39;)"><span class="hl_varref"><span class="mpre">op</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- base case</span></span><span class="mpre">
</span><a href="#loc_14_1_14_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_14_1_14_11&#39;)"><span class="hl_fundecl"><span class="mpre">niceLambda</span></span></a><span class="mpre"> </span><a name="loc_55_12_55_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_12_55_14&#39;)"><span class="hl_vardecl"><span class="mpre">ps</span></span></a><span class="mpre"> </span><a name="loc_55_15_55_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_15_55_16&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Lambda</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">an</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">toNamed</span></span><span class="mpre"> </span><a href="#loc_55_12_55_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_12_55_14&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">) </span><a href="#loc_55_15_55_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_15_55_16&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">



</span><span class="hl_comment"><span class="mpre">-- ($) . b ==&gt; b</span></span><span class="mpre">
</span><a href="#loc_61_1_61_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_1_61_11&#39;)"><span class="mpre">niceDotApp</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Exp_</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Exp_</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Exp_</span></span><span class="mpre">
</span><a name="loc_61_1_61_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_1_61_11&#39;)"><span class="hl_fundecl"><span class="mpre">niceDotApp</span></span></a><span class="mpre"> </span><a name="loc_61_12_61_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_12_61_13&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_61_14_61_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_14_61_15&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> | </span><a href="#loc_61_12_61_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_12_61_13&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">~=</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;$&quot;</span></span><span class="mpre"> = </span><a href="#loc_61_14_61_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_14_61_15&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">
               | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">dotApp</span></span><span class="mpre"> </span><a href="#loc_61_12_61_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_12_61_13&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_61_14_61_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_14_61_15&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">



</span><span class="hl_comment"><span class="mpre">-- | Convert expressions which have redundant junk in them away.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   Mainly so that later stages can match on fewer alternatives.</span></span><span class="mpre">
</span><a href="#loc_69_1_69_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_12&#39;)"><span class="mpre">simplifyExp</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Exp_</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Exp_</span></span><span class="mpre">
</span><a name="loc_69_1_69_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_12&#39;)"><span class="hl_fundecl"><span class="mpre">simplifyExp</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">InfixApp</span></span><span class="mpre"> _ </span><a name="loc_69_25_69_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_25_69_26&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_69_27_69_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_27_69_30&#39;)"><span class="hl_vardecl"><span class="mpre">dol</span></span></a><span class="mpre"> </span><a name="loc_69_31_69_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_31_69_32&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) | </span><span class="hl_varref"><span class="mpre">isDol</span></span><span class="mpre"> </span><a href="#loc_69_27_69_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_27_69_30&#39;)"><span class="hl_varref"><span class="mpre">dol</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">App</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">an</span></span><span class="mpre"> </span><a href="#loc_69_25_69_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_25_69_26&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">paren</span></span><span class="mpre"> </span><a href="#loc_69_31_69_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_31_69_32&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">)
</span><a href="#loc_69_1_69_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_12&#39;)"><span class="hl_fundecl"><span class="mpre">simplifyExp</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Let</span></span><span class="mpre"> _ (</span><span class="hl_conref"><span class="mpre">BDecls</span></span><span class="mpre"> _ [</span><span class="hl_conref"><span class="mpre">PatBind</span></span><span class="mpre"> _ (</span><span class="warning" data-warning="PatPViewPat (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 70, srcSpanStartColumn = 42, srcSpanEndLine = 70, srcSpanEndColumn = 57}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 70, srcSpanStartColumn = 47, srcSpanEndLine = 70, srcSpanEndColumn = 49}]}) (Var (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpa"><span class="mpre">view -&gt; PVar_ x</span></span><span class="mpre">) </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">UnGuardedRhs</span></span><span class="mpre"> _ </span><a name="loc_70_83_70_84" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_83_70_84&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">]) </span><a name="loc_70_96_70_97" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_96_70_97&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre">)
    | </span><span class="hl_varref"><span class="mpre">x</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`notElem`</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">vars</span></span><span class="mpre"> </span><a href="#loc_70_83_70_84" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_83_70_84&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">length</span></span><span class="mpre"> [</span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre"> | </span><span class="hl_conref"><span class="mpre">UnQual</span></span><span class="mpre"> _ </span><a name="loc_71_51_71_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_51_71_52&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">universeS</span></span><span class="mpre"> </span><a href="#loc_70_96_70_97" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_96_70_97&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre">, </span><span class="hl_varref"><span class="mpre">prettyPrint</span></span><span class="mpre"> </span><a href="#loc_71_51_71_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_51_71_52&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">x</span></span><span class="mpre">] </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">transform</span></span><span class="mpre"> </span><a href="#loc_72_11_72_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_11_72_12&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_70_96_70_97" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_96_70_97&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre">
    where </span><a name="loc_72_11_72_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_11_72_12&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><span class="warning" data-warning="PatPViewPat (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 72, srcSpanStartColumn = 14, srcSpanEndLine = 72, srcSpanEndColumn = 29}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpanStartLine = 72, srcSpanStartColumn = 19, srcSpanEndLine = 72, srcSpanEndColumn = 21}]}) (Var (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Hint/Util.hs&quot;, srcSpa"><span class="mpre">view -&gt; Var_ x&#39;</span></span><span class="mpre">) | </span><span class="hl_varref"><span class="mpre">x</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">x&#39;</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">paren</span></span><span class="mpre"> </span><a href="#loc_70_83_70_84" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_83_70_84&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">
          </span><a href="#loc_72_11_72_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_11_72_12&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_73_13_73_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_13_73_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_73_13_73_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_13_73_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
</span><a href="#loc_69_1_69_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_12&#39;)"><span class="hl_fundecl"><span class="mpre">simplifyExp</span></span></a><span class="mpre"> </span><a name="loc_74_13_74_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_13_74_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_74_13_74_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_13_74_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
</span></div></body></html>