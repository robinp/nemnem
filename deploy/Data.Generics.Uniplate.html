<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">{- |
/DEPRECATED/ Use &quot;Data.Generics.Uniplate.Operations&quot; instead.

This is the main Uniplate module, which defines all the essential operations
in a Haskell 98 compatible manner.

Most functions have an example of a possible use for the function.
To illustate, I have used the @Expr@ type as below:

&gt; data Expr = Val Int
&gt;           | Neg Expr
&gt;           | Add Expr Expr
-}</span></span><span class="mpre">


module Data.Generics.Uniplate
    </span><span class="hl_comment"><span class="mpre">{- DEPRECATED &quot;Use Data.Generics.Uniplate.Operations instead&quot; -}</span></span><span class="mpre">
    where

import Control.Monad
import Data.Generics.Uniplate.Internal.Utils


</span><span class="hl_comment"><span class="mpre">-- * The Class</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The type of replacing all the children of a node</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   Taking a value, the function should return all the immediate children</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   of the same type, and a function to replace them.</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 30, srcSpanStartColumn = 1, srcSpanEndLine = 30, srcSpanEndColumn = 48}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 30, srcSpanStartColumn = 1, srcSpanEndLine = 30, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, "><span class="mpre">type UniplateType on = on -&gt; ([on], [on] -&gt; on)</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The standard Uniplate class, all operations require this</span></span><span class="mpre">
class </span><a name="loc_33_7_33_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_7_33_15&#39;)"><span class="hl_classdecl"><span class="mpre">Uniplate</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> where
    </span><span class="hl_comment"><span class="mpre">-- | The underlying method in the class</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- &gt; uniplate (Add (Val 1) (Neg (Val 2))) = ([Val 1, Neg (Val 2)], \[a,b] -&gt; Add a b)</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- &gt; uniplate (Val 1)                     = ([]                  , \[]    -&gt; Val 1  )</span></span><span class="mpre">
    </span><a name="loc_38_5_38_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_5_38_13&#39;)"><span class="mpre">uniplate</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">UniplateType</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">
    
</span><span class="hl_comment"><span class="mpre">-- * The Operations</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- ** Queries</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Get all the children of a node, including itself and all children.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; universe (Add (Val 1) (Neg (Val 2))) =</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;     [Add (Val 1) (Neg (Val 2)), Val 1, Neg (Val 2), Val 2]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This method is often combined with a list comprehension, for example:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; vals x = [i | Val i &lt;- universe x]</span></span><span class="mpre">
</span><a href="#loc_53_1_53_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_1_53_9&#39;)"><span class="mpre">universe</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 52, srcSpanStartColumn = 13, srcSpanEndLine = 52, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 52, srcSpanStartColumn = 25, srcSpanEndLine = 52, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/un"><span class="mpre">Uniplate on =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">]
</span><a name="loc_53_1_53_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_1_53_9&#39;)"><span class="hl_fundecl"><span class="mpre">universe</span></span></a><span class="mpre"> </span><a name="loc_53_10_53_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_10_53_11&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Data.Generics.Uniplate.Internal.Utils.html#loc_35_1_35_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Uniplate.Internal.Utils.html#loc_35_1_35_8&#39;)"><span class="hl_varref"><span class="mpre">builder</span></span></a><span class="mpre"> (</span><a href="#loc_56_9_56_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_9_56_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_53_10_53_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_10_53_11&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)
    where
        </span><a href="#loc_56_9_56_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_9_56_10&#39;)"><span class="mpre">f</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 55, srcSpanStartColumn = 14, srcSpanEndLine = 55, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 55, srcSpanStartColumn = 26, srcSpanEndLine = 55, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/un"><span class="mpre">Uniplate on =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">res</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">res</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">res</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">res</span></span><span class="mpre">
        </span><a name="loc_56_9_56_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_9_56_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_56_11_56_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_11_56_12&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_56_13_56_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_13_56_17&#39;)"><span class="hl_vardecl"><span class="mpre">cons</span></span></a><span class="mpre"> </span><a name="loc_56_18_56_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_18_56_21&#39;)"><span class="hl_vardecl"><span class="mpre">nil</span></span></a><span class="mpre"> = </span><a href="#loc_56_11_56_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_11_56_12&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="#loc_56_13_56_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_13_56_17&#39;)"><span class="hl_infix"><span class="mpre">`cons`</span></span></a><span class="mpre"> </span><a href="Data.Generics.Uniplate.Internal.Utils.html#loc_55_1_55_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Uniplate.Internal.Utils.html#loc_55_1_55_11&#39;)"><span class="hl_varref"><span class="mpre">concatCont</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (\</span><a name="loc_56_51_56_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_51_56_52&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_56_9_56_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_9_56_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_56_51_56_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_51_56_52&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="#loc_56_13_56_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_13_56_17&#39;)"><span class="hl_varref"><span class="mpre">cons</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_63_1_63_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_1_63_9&#39;)"><span class="hl_varref"><span class="mpre">children</span></span></a><span class="mpre"> </span><a href="#loc_56_11_56_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_11_56_12&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) </span><a href="#loc_56_18_56_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_18_56_21&#39;)"><span class="hl_varref"><span class="mpre">nil</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Get the direct children of a node. Usually using &#39;universe&#39; is more appropriate.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @children = fst . &#39;uniplate&#39;@</span></span><span class="mpre">
</span><a href="#loc_63_1_63_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_1_63_9&#39;)"><span class="mpre">children</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 62, srcSpanStartColumn = 13, srcSpanEndLine = 62, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 62, srcSpanStartColumn = 25, srcSpanEndLine = 62, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/un"><span class="mpre">Uniplate on =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">]
</span><a name="loc_63_1_63_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_1_63_9&#39;)"><span class="hl_vardecl"><span class="mpre">children</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">fst</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_38_5_38_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_5_38_13&#39;)"><span class="hl_varref"><span class="mpre">uniplate</span></span></a><span class="mpre">



</span><span class="hl_comment"><span class="mpre">-- ** Transformations</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Transform every element in the tree, in a bottom-up manner.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- For example, replacing negative literals with literals:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; negLits = transform f</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;    where f (Neg (Lit i)) = Lit (negate i)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;          f x = x</span></span><span class="mpre">
</span><a href="#loc_78_1_78_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_1_78_10&#39;)"><span class="mpre">transform</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 77, srcSpanStartColumn = 14, srcSpanEndLine = 77, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 77, srcSpanStartColumn = 26, srcSpanEndLine = 77, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/un"><span class="mpre">Uniplate on =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">
</span><a name="loc_78_1_78_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_1_78_10&#39;)"><span class="hl_fundecl"><span class="mpre">transform</span></span></a><span class="mpre"> </span><a name="loc_78_11_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_11_78_12&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_78_13_78_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_13_78_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_78_11_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_11_78_12&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_79_21_79_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_21_79_29&#39;)"><span class="hl_varref"><span class="mpre">generate</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><a href="#loc_78_1_78_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_1_78_10&#39;)"><span class="hl_varref"><span class="mpre">transform</span></span></a><span class="mpre"> </span><a href="#loc_78_11_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_11_78_12&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) </span><a href="#loc_79_12_79_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_12_79_19&#39;)"><span class="hl_varref"><span class="mpre">current</span></span></a><span class="mpre">
    where (</span><a name="loc_79_12_79_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_12_79_19&#39;)"><span class="hl_vardecl"><span class="mpre">current</span></span></a><span class="mpre">, </span><a name="loc_79_21_79_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_21_79_29&#39;)"><span class="hl_vardecl"><span class="mpre">generate</span></span></a><span class="mpre">) = </span><a href="#loc_38_5_38_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_5_38_13&#39;)"><span class="hl_varref"><span class="mpre">uniplate</span></span></a><span class="mpre"> </span><a href="#loc_78_13_78_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_13_78_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Monadic variant of &#39;transform&#39;</span></span><span class="mpre">
</span><a href="#loc_84_1_84_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_1_84_11&#39;)"><span class="mpre">transformM</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 83, srcSpanStartColumn = 15, srcSpanEndLine = 83, srcSpanEndColumn = 40}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 83, srcSpanStartColumn = 15, srcSpanEndLine = 83, srcSpanEndColumn = 16},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;"><span class="mpre">(Monad m, Uniplate on) =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">
</span><a name="loc_84_1_84_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_1_84_11&#39;)"><span class="hl_fundecl"><span class="mpre">transformM</span></span></a><span class="mpre"> </span><a name="loc_84_12_84_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_12_84_13&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_84_14_84_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_14_84_15&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Control.Monad.html#loc_111_1_111_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_111_1_111_5&#39;)"><span class="hl_varref"><span class="mpre">mapM</span></span></a><span class="mpre"> (</span><a href="#loc_84_1_84_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_1_84_11&#39;)"><span class="hl_varref"><span class="mpre">transformM</span></span></a><span class="mpre"> </span><a href="#loc_84_12_84_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_12_84_13&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) </span><a href="#loc_85_12_85_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_12_85_19&#39;)"><span class="hl_varref"><span class="mpre">current</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="#loc_84_12_84_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_12_84_13&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_85_21_85_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_21_85_29&#39;)"><span class="hl_varref"><span class="mpre">generate</span></span></a><span class="mpre">
    where (</span><a name="loc_85_12_85_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_12_85_19&#39;)"><span class="hl_vardecl"><span class="mpre">current</span></span></a><span class="mpre">, </span><a name="loc_85_21_85_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_21_85_29&#39;)"><span class="hl_vardecl"><span class="mpre">generate</span></span></a><span class="mpre">) = </span><a href="#loc_38_5_38_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_5_38_13&#39;)"><span class="hl_varref"><span class="mpre">uniplate</span></span></a><span class="mpre"> </span><a href="#loc_84_14_84_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_14_84_15&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Rewrite by applying a rule everywhere you can. Ensures that the rule cannot</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- be applied anywhere in the result:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; propRewrite r x = all (isNothing . r) (universe (rewrite r x))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Usually &#39;transform&#39; is more appropriate, but &#39;rewrite&#39; can give better</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- compositionality. Given two single transformations @f@ and @g@, you can</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- construct @f `mplus` g@ which performs both rewrites until a fixed point.</span></span><span class="mpre">
</span><a href="#loc_97_1_97_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_8&#39;)"><span class="mpre">rewrite</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 96, srcSpanStartColumn = 12, srcSpanEndLine = 96, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 96, srcSpanStartColumn = 24, srcSpanEndLine = 96, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/un"><span class="mpre">Uniplate on =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">
</span><a name="loc_97_1_97_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_8&#39;)"><span class="hl_fundecl"><span class="mpre">rewrite</span></span></a><span class="mpre"> </span><a name="loc_97_9_97_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_9_97_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_78_1_78_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_1_78_10&#39;)"><span class="hl_varref"><span class="mpre">transform</span></span></a><span class="mpre"> </span><a href="#loc_98_11_98_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_11_98_12&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">
    where </span><a name="loc_98_11_98_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_11_98_12&#39;)"><span class="hl_fundecl"><span class="mpre">g</span></span></a><span class="mpre"> </span><a name="loc_98_13_98_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_13_98_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> </span><a href="#loc_98_13_98_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_13_98_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> (</span><a href="#loc_97_1_97_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_8&#39;)"><span class="hl_varref"><span class="mpre">rewrite</span></span></a><span class="mpre"> </span><a href="#loc_97_9_97_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_9_97_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) (</span><a href="#loc_97_9_97_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_9_97_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_98_13_98_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_13_98_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">-- | Monadic variant of &#39;rewrite&#39;</span></span><span class="mpre">
</span><a href="#loc_103_1_103_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_1_103_9&#39;)"><span class="mpre">rewriteM</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 102, srcSpanStartColumn = 13, srcSpanEndLine = 102, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 102, srcSpanStartColumn = 13, srcSpanEndLine = 102, srcSpanEndColumn = 14},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate"><span class="mpre">(Monad m, Uniplate on) =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">)) -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">
</span><a name="loc_103_1_103_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_1_103_9&#39;)"><span class="hl_fundecl"><span class="mpre">rewriteM</span></span></a><span class="mpre"> </span><a name="loc_103_10_103_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_10_103_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_84_1_84_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_1_84_11&#39;)"><span class="hl_varref"><span class="mpre">transformM</span></span></a><span class="mpre"> </span><a href="#loc_104_11_104_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_11_104_12&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">
    where </span><a name="loc_104_11_104_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_11_104_12&#39;)"><span class="hl_fundecl"><span class="mpre">g</span></span></a><span class="mpre"> </span><a name="loc_104_13_104_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_13_104_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_103_10_103_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_10_103_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_104_13_104_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_13_104_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_104_13_104_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_13_104_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) (</span><a href="#loc_103_1_103_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_1_103_9&#39;)"><span class="hl_varref"><span class="mpre">rewriteM</span></span></a><span class="mpre"> </span><a href="#loc_103_10_103_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_10_103_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">-- | Perform a transformation on all the immediate children, then combine them back.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This operation allows additional information to be passed downwards, and can be</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- used to provide a top-down transformation.</span></span><span class="mpre">
</span><a href="#loc_111_1_111_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_1_111_8&#39;)"><span class="mpre">descend</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 110, srcSpanStartColumn = 12, srcSpanEndLine = 110, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 110, srcSpanStartColumn = 24, srcSpanEndLine = 110, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pul"><span class="mpre">Uniplate on =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">
</span><a name="loc_111_1_111_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_1_111_8&#39;)"><span class="hl_fundecl"><span class="mpre">descend</span></span></a><span class="mpre"> </span><a name="loc_111_9_111_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_9_111_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_111_11_111_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_11_111_12&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_112_21_112_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_21_112_29&#39;)"><span class="hl_varref"><span class="mpre">generate</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_111_9_111_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_9_111_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_112_12_112_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_12_112_19&#39;)"><span class="hl_varref"><span class="mpre">current</span></span></a><span class="mpre">
    where (</span><a name="loc_112_12_112_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_12_112_19&#39;)"><span class="hl_vardecl"><span class="mpre">current</span></span></a><span class="mpre">, </span><a name="loc_112_21_112_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_21_112_29&#39;)"><span class="hl_vardecl"><span class="mpre">generate</span></span></a><span class="mpre">) = </span><a href="#loc_38_5_38_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_5_38_13&#39;)"><span class="hl_varref"><span class="mpre">uniplate</span></span></a><span class="mpre"> </span><a href="#loc_111_11_111_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_11_111_12&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Monadic variant of &#39;descend&#39;    </span></span><span class="mpre">
</span><a href="#loc_117_1_117_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_9&#39;)"><span class="mpre">descendM</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 116, srcSpanStartColumn = 13, srcSpanEndLine = 116, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 116, srcSpanStartColumn = 13, srcSpanEndLine = 116, srcSpanEndColumn = 14},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate"><span class="mpre">(Monad m, Uniplate on) =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">
</span><a name="loc_117_1_117_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_9&#39;)"><span class="hl_fundecl"><span class="mpre">descendM</span></span></a><span class="mpre"> </span><a name="loc_117_10_117_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_10_117_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_117_12_117_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_12_117_13&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre"> </span><a href="#loc_118_21_118_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_21_118_29&#39;)"><span class="hl_varref"><span class="mpre">generate</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.html#loc_111_1_111_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_111_1_111_5&#39;)"><span class="hl_varref"><span class="mpre">mapM</span></span></a><span class="mpre"> </span><a href="#loc_117_10_117_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_10_117_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_118_12_118_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_12_118_19&#39;)"><span class="hl_varref"><span class="mpre">current</span></span></a><span class="mpre">
    where (</span><a name="loc_118_12_118_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_12_118_19&#39;)"><span class="hl_vardecl"><span class="mpre">current</span></span></a><span class="mpre">, </span><a name="loc_118_21_118_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_21_118_29&#39;)"><span class="hl_vardecl"><span class="mpre">generate</span></span></a><span class="mpre">) = </span><a href="#loc_38_5_38_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_5_38_13&#39;)"><span class="hl_varref"><span class="mpre">uniplate</span></span></a><span class="mpre"> </span><a href="#loc_117_12_117_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_12_117_13&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">



</span><span class="hl_comment"><span class="mpre">-- ** Others</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Return all the contexts and holes.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; propUniverse x = universe x == map fst (contexts x)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; propId x = all (== x) [b a | (a,b) &lt;- contexts x]</span></span><span class="mpre">
</span><a href="#loc_129_1_129_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_1_129_9&#39;)"><span class="mpre">contexts</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 128, srcSpanStartColumn = 13, srcSpanEndLine = 128, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 128, srcSpanStartColumn = 25, srcSpanEndLine = 128, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pul"><span class="mpre">Uniplate on =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; [(</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">)]
</span><a name="loc_129_1_129_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_1_129_9&#39;)"><span class="hl_fundecl"><span class="mpre">contexts</span></span></a><span class="mpre"> </span><a name="loc_129_10_129_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_10_129_11&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = (</span><a href="#loc_129_10_129_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_10_129_11&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">,</span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_131_5_131_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_5_131_6&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_141_1_141_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_141_1_141_6&#39;)"><span class="hl_varref"><span class="mpre">holes</span></span></a><span class="mpre"> </span><a href="#loc_129_10_129_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_10_129_11&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)
  where
    </span><a name="loc_131_5_131_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_5_131_6&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_131_7_131_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_7_131_9&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> = [ (</span><a href="#loc_133_15_133_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_15_133_16&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">, </span><a href="#loc_132_22_132_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_22_132_25&#39;)"><span class="hl_varref"><span class="mpre">ctx</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_133_18_133_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_18_133_25&#39;)"><span class="hl_varref"><span class="mpre">context</span></span></a><span class="mpre">)
           | (</span><a name="loc_132_15_132_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_15_132_20&#39;)"><span class="hl_vardecl"><span class="mpre">child</span></span></a><span class="mpre">, </span><a name="loc_132_22_132_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_22_132_25&#39;)"><span class="hl_vardecl"><span class="mpre">ctx</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_131_7_131_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_7_131_9&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
           , (</span><a name="loc_133_15_133_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_15_133_16&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">, </span><a name="loc_133_18_133_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_18_133_25&#39;)"><span class="hl_vardecl"><span class="mpre">context</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_129_1_129_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_1_129_9&#39;)"><span class="hl_varref"><span class="mpre">contexts</span></span></a><span class="mpre"> </span><a href="#loc_132_15_132_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_15_132_20&#39;)"><span class="hl_varref"><span class="mpre">child</span></span></a><span class="mpre">]


</span><span class="hl_comment"><span class="mpre">-- | The one depth version of &#39;contexts&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; propChildren x = children x == map fst (holes x)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; propId x = all (== x) [b a | (a,b) &lt;- holes x]</span></span><span class="mpre">
</span><a href="#loc_141_1_141_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_141_1_141_6&#39;)"><span class="mpre">holes</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 140, srcSpanStartColumn = 10, srcSpanEndLine = 140, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 140, srcSpanStartColumn = 22, srcSpanEndLine = 140, srcSpanEndColumn = 24}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pul"><span class="mpre">Uniplate on =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; [(</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">)]
</span><a name="loc_141_1_141_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_141_1_141_6&#39;)"><span class="hl_fundecl"><span class="mpre">holes</span></span></a><span class="mpre"> </span><a name="loc_141_7_141_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_141_7_141_8&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">uncurry</span></span><span class="mpre"> </span><a href="#loc_142_9_142_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_9_142_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_38_5_38_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_5_38_13&#39;)"><span class="hl_varref"><span class="mpre">uniplate</span></span></a><span class="mpre"> </span><a href="#loc_141_7_141_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_141_7_141_8&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)
  where </span><a name="loc_142_9_142_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_9_142_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> [] _ = []
        </span><a href="#loc_142_9_142_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_9_142_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a name="loc_143_12_143_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_12_143_13&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_143_14_143_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_14_143_16&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) </span><a name="loc_143_18_143_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_18_143_21&#39;)"><span class="hl_vardecl"><span class="mpre">gen</span></span></a><span class="mpre"> = (</span><a href="#loc_143_12_143_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_12_143_13&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">, </span><a href="#loc_143_18_143_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_18_143_21&#39;)"><span class="hl_varref"><span class="mpre">gen</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_143_14_143_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_14_143_16&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">)) </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">
                       </span><a href="#loc_142_9_142_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_9_142_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_143_14_143_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_14_143_16&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre"> (</span><a href="#loc_143_18_143_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_18_143_21&#39;)"><span class="hl_varref"><span class="mpre">gen</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (</span><a href="#loc_143_12_143_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_12_143_13&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">))


</span><span class="hl_comment"><span class="mpre">-- | Perform a fold-like computation on each value,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   technically a paramorphism</span></span><span class="mpre">
</span><a href="#loc_150_1_150_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_5&#39;)"><span class="mpre">para</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 149, srcSpanStartColumn = 9, srcSpanEndLine = 149, srcSpanEndColumn = 23}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate.hs&quot;, srcSpanStartLine = 149, srcSpanStartColumn = 21, srcSpanEndLine = 149, srcSpanEndColumn = 23}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull"><span class="mpre">Uniplate on =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">] -&gt; </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">
</span><a name="loc_150_1_150_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_5&#39;)"><span class="hl_fundecl"><span class="mpre">para</span></span></a><span class="mpre"> </span><a name="loc_150_6_150_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_6_150_8&#39;)"><span class="hl_vardecl"><span class="mpre">op</span></span></a><span class="mpre"> </span><a name="loc_150_9_150_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_9_150_10&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_150_6_150_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_6_150_8&#39;)"><span class="hl_varref"><span class="mpre">op</span></span></a><span class="mpre"> </span><a href="#loc_150_9_150_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_9_150_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><a href="#loc_150_1_150_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_5&#39;)"><span class="hl_varref"><span class="mpre">para</span></span></a><span class="mpre"> </span><a href="#loc_150_6_150_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_6_150_8&#39;)"><span class="hl_varref"><span class="mpre">op</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_63_1_63_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_1_63_9&#39;)"><span class="hl_varref"><span class="mpre">children</span></span></a><span class="mpre"> </span><a href="#loc_150_9_150_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_9_150_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">

</span></div></body></html>