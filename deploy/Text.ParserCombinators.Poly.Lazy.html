<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP, GeneralizedNewtypeDeriving #-}
module Text.ParserCombinators.Poly.Lazy
  ( </span><span class="hl_comment"><span class="mpre">-- * The Parser datatype</span></span><span class="mpre">
    Parser(P)        </span><span class="hl_comment"><span class="mpre">-- datatype, instance of: Functor, Monad, PolyParse</span></span><span class="mpre">
  , Result(..)        </span><span class="hl_comment"><span class="mpre">-- internal to the parser monad</span></span><span class="mpre">
  , runParser        </span><span class="hl_comment"><span class="mpre">-- :: Parser t a -&gt; [t] -&gt; (Either String a, [t])</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- ** Basic parsers</span></span><span class="mpre">
  , next        </span><span class="hl_comment"><span class="mpre">-- :: Parser t t</span></span><span class="mpre">
  , eof                </span><span class="hl_comment"><span class="mpre">-- :: Parser t ()</span></span><span class="mpre">
  , satisfy        </span><span class="hl_comment"><span class="mpre">-- :: (t-&gt;Bool) -&gt; Parser t t</span></span><span class="mpre">
  , onFail      </span><span class="hl_comment"><span class="mpre">-- :: Parser t a -&gt; Parser t a -&gt; Parser t a</span></span><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- ** Re-parsing</span></span><span class="mpre">
  , reparse        </span><span class="hl_comment"><span class="mpre">-- :: [t] -&gt; Parser t ()</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- * Re-export all more general combinators</span></span><span class="mpre">
  , module Text.ParserCombinators.Poly.Base
  , module Control.Applicative
  ) where

import Text.ParserCombinators.Poly.Base
import Text.ParserCombinators.Poly.Result
import qualified Text.ParserCombinators.Poly.Parser as P
import Control.Applicative

#if __GLASGOW_HASKELL__
import Control.Exception hiding (</span><a href="Control.Exception.Base.html#loc_259_1_259_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Base.html#loc_259_1_259_8&#39;)"><span class="mpre">bracket</span></a><span class="mpre">)
</span><a href="#loc_28_1_28_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_7&#39;)"><span class="mpre">throwE</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_28_1_28_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_7&#39;)"><span class="hl_fundecl"><span class="mpre">throwE</span></span></a><span class="mpre"> </span><a name="loc_28_8_28_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_8_28_11&#39;)"><span class="hl_vardecl"><span class="mpre">msg</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">throw</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">ErrorCall</span></span><span class="mpre"> </span><a href="#loc_28_8_28_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_8_28_11&#39;)"><span class="hl_varref"><span class="mpre">msg</span></span></a><span class="mpre">)
#else
</span><a href="#loc_28_1_28_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_7&#39;)"><span class="mpre">throwE</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><span class="hl_fundecl"><span class="mpre">throwE</span></span><span class="mpre"> </span><a name="loc_31_8_31_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_31_8_31_11&#39;)"><span class="hl_vardecl"><span class="mpre">msg</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><a href="#loc_31_8_31_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_31_8_31_11&#39;)"><span class="hl_varref"><span class="mpre">msg</span></span></a><span class="mpre">
#endif

</span><span class="hl_comment"><span class="mpre">-- | The only differences between a Plain and a Lazy parser are the instance</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   of Applicative, and the type (and implementation) of runParser.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   We therefore need to /newtype/ the original Parser type, to allow it</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   to have a different instance.</span></span><span class="mpre">
newtype </span><a name="loc_38_9_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_9_38_15&#39;)"><span class="hl_tycondecl"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> = </span><a name="loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_condecl"><span class="mpre">P</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.Parser.html#loc_27_9_27_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Parser.html#loc_27_9_27_15&#39;)"><span class="hl_tyconref"><span class="mpre">P.Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
#ifdef __GLASGOW_HASKELL__
        </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/polyparse-1.9/src/Text/ParserCombinators/Poly/Lazy.hs&quot;, srcSpanStartLine = 40, srcSpanStartColumn = 9, srcSpanEndLine = 40, srcSpanEndColumn = 44}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/polyparse-1.9/src/Text/ParserCombinators/Poly/Lazy.hs&quot;, srcSpanStartLine = 40, srcSpanStartColumn = 9, srcSpanEndLine = 40, srcSpanEndColumn = 17},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/polyparse-1.9/src/T"><span class="mpre">deriving (Functor,Monad,Commitment)</span></span><span class="mpre">
#else
instance </span><span class="hl_classref"><span class="mpre">Functor</span></span><span class="mpre"> (</span><a href="#loc_38_9_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_9_38_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) where
    </span><span class="hl_fundecl"><span class="mpre">fmap</span></span><span class="mpre"> </span><a name="loc_43_10_43_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_10_43_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a name="loc_43_15_43_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_15_43_16&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">) = </span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_43_10_43_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_10_43_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_43_15_43_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_15_43_16&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">)
instance </span><span class="hl_classref"><span class="mpre">Monad</span></span><span class="mpre"> (</span><a href="#loc_38_9_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_9_38_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) where
    </span><span class="hl_fundecl"><span class="mpre">return</span></span><span class="mpre"> </span><a name="loc_45_12_45_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_12_45_13&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">  = </span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_45_12_45_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_12_45_13&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)
    </span><span class="hl_fundecl"><span class="mpre">fail</span></span><span class="mpre"> </span><a name="loc_46_10_46_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_10_46_11&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre">    = </span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fail</span></span><span class="mpre"> </span><a href="#loc_46_10_46_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_10_46_11&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">)
    (</span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a name="loc_47_8_47_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_8_47_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre">) </span><span class="hl_fundecl"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a name="loc_47_15_47_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_15_47_16&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> = </span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (</span><a href="#loc_47_8_47_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_8_47_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> (\(</span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a name="loc_47_33_47_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_33_47_35&#39;)"><span class="hl_vardecl"><span class="mpre">g&#39;</span></span></a><span class="mpre">)-&gt;</span><a href="#loc_47_33_47_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_33_47_35&#39;)"><span class="hl_varref"><span class="mpre">g&#39;</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_47_15_47_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_15_47_16&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">)
instance </span><a href="Text.ParserCombinators.Poly.Base.html#loc_44_7_44_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Base.html#loc_44_7_44_17&#39;)"><span class="hl_classref"><span class="mpre">Commitment</span></span></a><span class="mpre"> (</span><a href="#loc_38_9_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_9_38_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) where
    </span><a href="Text.ParserCombinators.Poly.Base.html#loc_49_5_49_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Base.html#loc_49_5_49_11&#39;)"><span class="hl_fundecl"><span class="mpre">commit</span></span></a><span class="mpre"> (</span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a name="loc_49_15_49_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_15_49_16&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">)   = </span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.Base.html#loc_49_5_49_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Base.html#loc_49_5_49_11&#39;)"><span class="hl_varref"><span class="mpre">commit</span></span></a><span class="mpre"> </span><a href="#loc_49_15_49_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_15_49_16&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">)
    (</span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a name="loc_50_8_50_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_8_50_9&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">) </span><a href="Text.ParserCombinators.Poly.Base.html#loc_52_5_52_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Base.html#loc_52_5_52_14&#39;)"><span class="hl_fundecl"><span class="mpre">`adjustErr`</span></span></a><span class="mpre"> </span><a name="loc_50_23_50_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_23_50_24&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre">  = </span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (</span><a href="#loc_50_8_50_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_8_50_9&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="Text.ParserCombinators.Poly.Base.html#loc_52_5_52_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Base.html#loc_52_5_52_14&#39;)"><span class="hl_infix"><span class="mpre">`adjustErr`</span></span></a><span class="mpre"> </span><a href="#loc_50_23_50_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_23_50_24&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
#endif

</span><span class="hl_comment"><span class="mpre">-- | Apply a parser to an input token sequence.</span></span><span class="mpre">
</span><a href="#loc_55_1_55_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_1_55_10&#39;)"><span class="mpre">runParser</span></a><span class="mpre"> :: </span><a href="#loc_38_9_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_9_38_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">] -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, [</span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">])
</span><a name="loc_55_1_55_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_1_55_10&#39;)"><span class="hl_fundecl"><span class="mpre">runParser</span></span></a><span class="mpre"> (</span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.Parser.html#loc_27_22_27_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Parser.html#loc_27_22_27_23&#39;)"><span class="hl_conref"><span class="mpre">P.P</span></span></a><span class="mpre"> </span><a name="loc_55_19_55_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_19_55_20&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">)) = </span><a href="#loc_58_5_58_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_5_58_15&#39;)"><span class="hl_varref"><span class="mpre">fromResult</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_55_19_55_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_19_55_20&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">
  where
    </span><a href="#loc_58_5_58_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_5_58_15&#39;)"><span class="mpre">fromResult</span></a><span class="mpre"> :: </span><a href="Text.ParserCombinators.Poly.Result.html#loc_13_6_13_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_13_6_13_12&#39;)"><span class="hl_tyconref"><span class="mpre">Result</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">z</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">z</span></span><span class="mpre">)
    </span><a name="loc_58_5_58_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_5_58_15&#39;)"><span class="hl_fundecl"><span class="mpre">fromResult</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.Result.html#loc_13_19_13_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_13_19_13_26&#39;)"><span class="hl_conref"><span class="mpre">Success</span></span></a><span class="mpre"> </span><a name="loc_58_25_58_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_25_58_26&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre"> </span><a name="loc_58_27_58_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_27_58_28&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">)  =  (</span><a href="#loc_58_27_58_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_27_58_28&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_58_25_58_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_25_58_26&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre">)
    </span><a href="#loc_58_5_58_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_5_58_15&#39;)"><span class="hl_fundecl"><span class="mpre">fromResult</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26&#39;)"><span class="hl_conref"><span class="mpre">Failure</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">z</span></span><span class="mpre"> </span><a name="loc_59_27_59_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_27_59_28&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre">)  =  </span><a href="#loc_28_1_28_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_7&#39;)"><span class="hl_varref"><span class="mpre">throwE</span></span></a><span class="mpre"> </span><a href="#loc_59_27_59_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_27_59_28&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">
    </span><a href="#loc_58_5_58_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_5_58_15&#39;)"><span class="hl_fundecl"><span class="mpre">fromResult</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.Result.html#loc_15_19_15_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_15_19_15_28&#39;)"><span class="hl_conref"><span class="mpre">Committed</span></span></a><span class="mpre"> </span><a name="loc_60_27_60_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_27_60_28&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">)  =  </span><a href="#loc_58_5_58_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_5_58_15&#39;)"><span class="hl_varref"><span class="mpre">fromResult</span></span></a><span class="mpre"> </span><a href="#loc_60_27_60_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_27_60_28&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">

instance </span><a href="Control.Applicative.html#loc_113_20_113_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_113_20_113_31&#39;)"><span class="hl_classref"><span class="mpre">Applicative</span></span></a><span class="mpre"> (</span><a href="#loc_38_9_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_9_38_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) where
    </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_fundecl"><span class="mpre">pure</span></span></a><span class="mpre"> </span><a name="loc_63_10_63_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_10_63_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre">    = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_63_10_63_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_10_63_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--   Apply a parsed function to a parsed value.  This version</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--   is strict in the result of the function parser, but</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--   lazy in the result of the argument parser.  (Argument laziness is</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--   the distinctive feature over other implementations.)</span></span><span class="mpre">
    (</span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.Parser.html#loc_27_22_27_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Parser.html#loc_27_22_27_23&#39;)"><span class="hl_conref"><span class="mpre">P.P</span></span></a><span class="mpre"> </span><a name="loc_68_13_68_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_13_68_15&#39;)"><span class="hl_vardecl"><span class="mpre">pf</span></span></a><span class="mpre">)) </span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;*&gt;</span></span></a><span class="mpre"> </span><a name="loc_68_22_68_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_22_68_24&#39;)"><span class="hl_vardecl"><span class="mpre">px</span></span></a><span class="mpre"> = </span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.Parser.html#loc_27_22_27_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Parser.html#loc_27_22_27_23&#39;)"><span class="hl_conref"><span class="mpre">P.P</span></span></a><span class="mpre"> (</span><a href="#loc_70_9_70_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_9_70_17&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_68_13_68_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_13_68_15&#39;)"><span class="hl_varref"><span class="mpre">pf</span></span></a><span class="mpre">))
      where
        </span><a name="loc_70_9_70_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_9_70_17&#39;)"><span class="hl_fundecl"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.Result.html#loc_13_19_13_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_13_19_13_26&#39;)"><span class="hl_conref"><span class="mpre">Success</span></span></a><span class="mpre"> </span><a name="loc_70_27_70_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_27_70_28&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre"> </span><a name="loc_70_29_70_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_29_70_30&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre">)  = let (</span><a name="loc_70_40_70_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_40_70_41&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">,</span><a name="loc_70_42_70_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_42_70_44&#39;)"><span class="hl_vardecl"><span class="mpre">z&#39;</span></span></a><span class="mpre">) = </span><a href="#loc_55_1_55_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_1_55_10&#39;)"><span class="hl_varref"><span class="mpre">runParser</span></span></a><span class="mpre"> </span><a href="#loc_68_22_68_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_22_68_24&#39;)"><span class="hl_varref"><span class="mpre">px</span></span></a><span class="mpre"> </span><a href="#loc_70_27_70_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_27_70_28&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre">
                                  in </span><a href="Text.ParserCombinators.Poly.Result.html#loc_13_19_13_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_13_19_13_26&#39;)"><span class="hl_conref"><span class="mpre">Success</span></span></a><span class="mpre"> </span><a href="#loc_70_42_70_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_42_70_44&#39;)"><span class="hl_varref"><span class="mpre">z&#39;</span></span></a><span class="mpre"> (</span><a href="#loc_70_29_70_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_29_70_30&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_70_40_70_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_40_70_41&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)
        </span><a href="#loc_70_9_70_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_9_70_17&#39;)"><span class="hl_fundecl"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.Result.html#loc_15_19_15_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_15_19_15_28&#39;)"><span class="hl_conref"><span class="mpre">Committed</span></span></a><span class="mpre"> </span><a name="loc_72_29_72_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_29_72_30&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">)  = </span><a href="Text.ParserCombinators.Poly.Result.html#loc_15_19_15_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_15_19_15_28&#39;)"><span class="hl_conref"><span class="mpre">Committed</span></span></a><span class="mpre"> (</span><a href="#loc_70_9_70_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_9_70_17&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> </span><a href="#loc_72_29_72_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_29_72_30&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">)
        </span><a href="#loc_70_9_70_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_9_70_17&#39;)"><span class="hl_fundecl"><span class="mpre">continue</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26&#39;)"><span class="hl_conref"><span class="mpre">Failure</span></span></a><span class="mpre"> </span><a name="loc_73_27_73_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_27_73_28&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre"> </span><a name="loc_73_29_73_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_29_73_30&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre">)  = </span><a href="Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_14_19_14_26&#39;)"><span class="hl_conref"><span class="mpre">Failure</span></span></a><span class="mpre"> </span><a href="#loc_73_27_73_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_27_73_28&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> </span><a href="#loc_73_29_73_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_29_73_30&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">
#if defined(GLASGOW_HASKELL) &amp;&amp; GLASGOW_HASKELL &gt; 610
    </span><a name="loc_75_5_75_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_5_75_6&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">  </span><a href="Control.Applicative.html#loc_125_5_125_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_125_5_125_9&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;*</span></span></a><span class="mpre">  </span><a name="loc_75_12_75_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_12_75_13&#39;)"><span class="hl_vardecl"><span class="mpre">q</span></span></a><span class="mpre">  = </span><a href="#loc_75_5_75_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_5_75_6&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="Text.ParserCombinators.Poly.Base.html#loc_79_4_79_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Base.html#loc_79_4_79_13&#39;)"><span class="hl_infix"><span class="mpre">`discard`</span></span></a><span class="mpre"> </span><a href="#loc_75_12_75_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_12_75_13&#39;)"><span class="hl_varref"><span class="mpre">q</span></span></a><span class="mpre">
#endif

instance </span><a href="Control.Applicative.html#loc_138_24_138_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_138_24_138_35&#39;)"><span class="hl_classref"><span class="mpre">Alternative</span></span></a><span class="mpre"> (</span><a href="#loc_38_9_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_9_38_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) where
    </span><a href="Control.Applicative.html#loc_140_5_140_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_140_5_140_10&#39;)"><span class="hl_vardecl"><span class="mpre">empty</span></span></a><span class="mpre">             = </span><span class="hl_varref"><span class="mpre">fail</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;no parse&quot;</span></span><span class="mpre">
    (</span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a name="loc_80_8_80_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_8_80_9&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">) </span><a href="Control.Applicative.html#loc_142_5_142_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_142_5_142_10&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;|&gt;</span></span></a><span class="mpre"> (</span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a name="loc_80_18_80_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_18_80_19&#39;)"><span class="hl_vardecl"><span class="mpre">q</span></span></a><span class="mpre">)   = </span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (</span><a href="#loc_80_8_80_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_8_80_9&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="Text.ParserCombinators.Poly.Parser.html#loc_74_7_74_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Parser.html#loc_74_7_74_15&#39;)"><span class="hl_infix"><span class="mpre">`P.onFail`</span></span></a><span class="mpre"> </span><a href="#loc_80_18_80_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_18_80_19&#39;)"><span class="hl_varref"><span class="mpre">q</span></span></a><span class="mpre">)

instance </span><a href="Text.ParserCombinators.Poly.Base.html#loc_66_7_66_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Base.html#loc_66_7_66_16&#39;)"><span class="hl_classref"><span class="mpre">PolyParse</span></span></a><span class="mpre"> (</span><a href="#loc_38_9_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_9_38_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Simply return the next token in the input tokenstream.</span></span><span class="mpre">
</span><a href="#loc_88_1_88_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_1_88_5&#39;)"><span class="mpre">next</span></a><span class="mpre">    ::  </span><a href="#loc_38_9_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_9_38_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_88_1_88_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_1_88_5&#39;)"><span class="hl_vardecl"><span class="mpre">next</span></span></a><span class="mpre">    = </span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a href="Text.ParserCombinators.Poly.Parser.html#loc_85_1_85_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Parser.html#loc_85_1_85_5&#39;)"><span class="hl_varref"><span class="mpre">P.next</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Succeed if the end of file/input has been reached, fail otherwise.</span></span><span class="mpre">
</span><a href="#loc_92_1_92_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_1_92_4&#39;)"><span class="mpre">eof</span></a><span class="mpre">     :: </span><a href="#loc_38_9_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_9_38_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_92_1_92_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_1_92_4&#39;)"><span class="hl_vardecl"><span class="mpre">eof</span></span></a><span class="mpre">     = </span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a href="Text.ParserCombinators.Poly.Parser.html#loc_91_1_91_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Parser.html#loc_91_1_91_4&#39;)"><span class="hl_varref"><span class="mpre">P.eof</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Return the next token if it satisfies the given predicate.</span></span><span class="mpre">
</span><a href="#loc_96_1_96_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_1_96_8&#39;)"><span class="mpre">satisfy</span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">-&gt;</span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><a href="#loc_38_9_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_9_38_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_96_1_96_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_1_96_8&#39;)"><span class="hl_vardecl"><span class="mpre">satisfy</span></span></a><span class="mpre"> = </span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Text.ParserCombinators.Poly.Parser.html#loc_97_1_97_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Parser.html#loc_97_1_97_8&#39;)"><span class="hl_varref"><span class="mpre">P.satisfy</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | @p `onFail` q@ means parse p, unless p fails, in which case</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   parse q instead.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   Can be chained together to give multiple attempts to parse something.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   (Note that q could itself be a failing parser, e.g. to change the error</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   message from that defined in p to something different.)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   However, a severe failure in p cannot be ignored.</span></span><span class="mpre">
</span><a href="#loc_105_1_105_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_1_105_7&#39;)"><span class="mpre">onFail</span></a><span class="mpre">  :: </span><a href="#loc_38_9_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_9_38_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_38_9_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_9_38_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_38_9_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_9_38_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_105_1_105_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_1_105_7&#39;)"><span class="hl_fundecl"><span class="mpre">onFail</span></span></a><span class="mpre"> (</span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a name="loc_105_11_105_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_11_105_12&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">) (</span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a name="loc_105_17_105_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_17_105_18&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">) = </span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> (</span><a href="#loc_105_11_105_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_11_105_12&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="Text.ParserCombinators.Poly.Parser.html#loc_74_7_74_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Parser.html#loc_74_7_74_15&#39;)"><span class="hl_infix"><span class="mpre">`P.onFail`</span></span></a><span class="mpre"> </span><a href="#loc_105_17_105_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_17_105_18&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Push some tokens back onto the front of the input stream and reparse.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   This is useful e.g. for recursively expanding macros.  When the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   user-parser recognises a macro use, it can lookup the macro</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   expansion from the parse state, lex it, and then stuff the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   lexed expansion back down into the parser.</span></span><span class="mpre">
</span><a href="#loc_113_1_113_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_1_113_8&#39;)"><span class="mpre">reparse</span></a><span class="mpre"> :: [</span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">] -&gt; </span><a href="#loc_38_9_38_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_9_38_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_113_1_113_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_1_113_8&#39;)"><span class="hl_vardecl"><span class="mpre">reparse</span></span></a><span class="mpre"> = </span><a href="#loc_38_22_38_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_22_38_23&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Text.ParserCombinators.Poly.Parser.html#loc_109_1_109_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Parser.html#loc_109_1_109_8&#39;)"><span class="hl_varref"><span class="mpre">P.reparse</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------</span></span><span class="mpre">
</span></div></body></html>