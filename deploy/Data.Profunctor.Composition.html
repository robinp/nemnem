<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP #-}
{-# LANGUAGE GADTs #-}
{-# LANGUAGE RankNTypes #-}
{-# LANGUAGE TypeFamilies #-}
#if defined(__GLASGOW_HASKELL__) &amp;&amp; __GLASGOW_HASKELL__ &gt;= 702
{-# LANGUAGE Trustworthy #-}
#endif
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Data.Profunctor.Composition</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (C) 2011-2012 Edward Kmett</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  BSD-style (see the file LICENSE)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  provisional</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  GADTs</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------------------</span></span><span class="mpre">
module Data.Profunctor.Composition
  (
  </span><span class="hl_comment"><span class="mpre">-- * Profunctor Composition</span></span><span class="mpre">
    Procompose(..)
  , procomposed
  </span><span class="hl_comment"><span class="mpre">-- * Bicategorical Associators</span></span><span class="mpre">
  , idl
  , idr
  , assoc
  </span><span class="hl_comment"><span class="mpre">-- * Generalized Composition</span></span><span class="mpre">
  , upstars, kleislis
  , downstars, cokleislis
  ) where

import Control.Arrow
import Control.Category
import Control.Comonad
import Control.Monad (</span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="mpre">liftM</span></a><span class="mpre">)
import Data.Functor.Compose
import Data.Profunctor
import Data.Profunctor.Rep
import Data.Profunctor.Unsafe
import Prelude hiding ((.),id)

</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 43, srcSpanStartColumn = 1, srcSpanEndLine = 43, srcSpanEndColumn = 83}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 43, srcSpanStartColumn = 1, srcSpanEndLine = 43, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/"><span class="mpre">type Iso s t a b = forall p f. (Profunctor p, Functor f) =&gt; p a (f b) -&gt; p s (f t)</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- * Profunctor Composition</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | @&#39;Procompose&#39; p q@ is the &#39;Profunctor&#39; composition of the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Profunctor&#39;s @p@ and @q@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- For a good explanation of &#39;Profunctor&#39; composition in Haskell</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- see Dan Piponi&#39;s article:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &lt;http://blog.sigfpe.com/2011/07/profunctors-in-haskell.html&gt;</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclGDataDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 54, srcSpanStartColumn = 1, srcSpanEndLine = 57, srcSpanEndColumn = 0}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 54, srcSpanStartColumn = 25, srcSpanEndLine = 54, srcSpanEndColumn = 30},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/sr"><span class="mpre">data Procompose p q d c where
  Procompose :: p d a -&gt; q a c -&gt; Procompose p q d c
</span></span><span class="mpre">
</span><a href="#loc_58_1_58_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_1_58_12&#39;)"><span class="mpre">procomposed</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 57, srcSpanStartColumn = 16, srcSpanEndLine = 57, srcSpanEndColumn = 29}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 57, srcSpanStartColumn = 27, srcSpanEndLine = 57, srcSpanEndColumn = 29}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/"><span class="mpre">Category p =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_58_1_58_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_1_58_12&#39;)"><span class="hl_fundecl"><span class="mpre">procomposed</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a name="loc_58_25_58_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_25_58_28&#39;)"><span class="hl_vardecl"><span class="mpre">pda</span></span></a><span class="mpre"> </span><a name="loc_58_29_58_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_29_58_32&#39;)"><span class="hl_vardecl"><span class="mpre">pac</span></span></a><span class="mpre">) = </span><a href="#loc_58_29_58_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_29_58_32&#39;)"><span class="hl_varref"><span class="mpre">pac</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><a href="#loc_58_25_58_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_25_58_28&#39;)"><span class="hl_varref"><span class="mpre">pda</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_58_1_58_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_1_58_12&#39;)"><span class="mpre">procomposed</span></a><span class="mpre"> #-}</span></span><span class="mpre">


instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 62, srcSpanStartColumn = 10, srcSpanEndLine = 62, srcSpanEndColumn = 41}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 62, srcSpanStartColumn = 10, srcSpanEndLine = 62, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/sr"><span class="mpre">(Profunctor p, Profunctor q) =&gt;</span></span><span class="mpre"> </span><a href="Data.Profunctor.Unsafe.html#loc_83_7_83_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_83_7_83_17&#39;)"><span class="hl_classref"><span class="mpre">Profunctor</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre">) where
  </span><a href="Data.Profunctor.Unsafe.html#loc_87_3_87_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_87_3_87_8&#39;)"><span class="hl_fundecl"><span class="mpre">dimap</span></span></a><span class="mpre"> </span><a name="loc_63_9_63_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_9_63_10&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_63_11_63_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_11_63_12&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a name="loc_63_25_63_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_25_63_26&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_63_27_63_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_27_63_28&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><a href="Data.Profunctor.Unsafe.html#loc_94_3_94_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_94_3_94_7&#39;)"><span class="hl_varref"><span class="mpre">lmap</span></span></a><span class="mpre"> </span><a href="#loc_63_9_63_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_9_63_10&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_63_25_63_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_25_63_26&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) (</span><a href="Data.Profunctor.Unsafe.html#loc_101_3_101_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_101_3_101_7&#39;)"><span class="hl_varref"><span class="mpre">rmap</span></span></a><span class="mpre"> </span><a href="#loc_63_11_63_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_11_63_12&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre"> </span><a href="#loc_63_27_63_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_27_63_28&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Data.Profunctor.Unsafe.html#loc_87_3_87_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_87_3_87_8&#39;)"><span class="mpre">dimap</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><a href="Data.Profunctor.Unsafe.html#loc_94_3_94_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_94_3_94_7&#39;)"><span class="hl_fundecl"><span class="mpre">lmap</span></span></a><span class="mpre"> </span><a name="loc_65_8_65_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_8_65_9&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a name="loc_65_22_65_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_22_65_23&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_65_24_65_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_24_65_25&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><a href="Data.Profunctor.Unsafe.html#loc_94_3_94_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_94_3_94_7&#39;)"><span class="hl_varref"><span class="mpre">lmap</span></span></a><span class="mpre"> </span><a href="#loc_65_8_65_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_8_65_9&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_65_22_65_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_22_65_23&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) </span><a href="#loc_65_24_65_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_24_65_25&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Data.Profunctor.Unsafe.html#loc_101_3_101_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_101_3_101_7&#39;)"><span class="mpre">rmap</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><a href="Data.Profunctor.Unsafe.html#loc_101_3_101_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_101_3_101_7&#39;)"><span class="hl_fundecl"><span class="mpre">rmap</span></span></a><span class="mpre"> </span><a name="loc_67_8_67_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_8_67_9&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a name="loc_67_22_67_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_22_67_23&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_67_24_67_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_24_67_25&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a href="#loc_67_22_67_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_22_67_23&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="Data.Profunctor.Unsafe.html#loc_101_3_101_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_101_3_101_7&#39;)"><span class="hl_varref"><span class="mpre">rmap</span></span></a><span class="mpre"> </span><a href="#loc_67_8_67_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_8_67_9&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_67_24_67_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_24_67_25&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Data.Profunctor.Unsafe.html#loc_94_3_94_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_94_3_94_7&#39;)"><span class="mpre">lmap</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><a name="loc_69_3_69_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_3_69_4&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> </span><span class="hl_fundecl"><span class="mpre">#.</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a name="loc_69_19_69_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_19_69_20&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_69_21_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_21_69_22&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre">     = </span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a href="#loc_69_19_69_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_19_69_20&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_69_3_69_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_3_69_4&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">#.</span></span><span class="mpre"> </span><a href="#loc_69_21_69_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_21_69_22&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE ( #. ) #-}</span></span><span class="mpre">
  </span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a name="loc_71_14_71_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_14_71_15&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_71_16_71_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_16_71_17&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> </span><span class="hl_fundecl"><span class="mpre">.#</span></span><span class="mpre"> </span><a name="loc_71_21_71_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_21_71_22&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre">     = </span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><a href="#loc_71_14_71_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_14_71_15&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.#</span></span><span class="mpre"> </span><a href="#loc_71_21_71_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_21_71_22&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">) </span><a href="#loc_71_16_71_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_16_71_17&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE ( .# ) #-}</span></span><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 74, srcSpanStartColumn = 10, srcSpanEndLine = 74, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 74, srcSpanStartColumn = 23, srcSpanEndLine = 74, srcSpanEndColumn = 25}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/"><span class="mpre">Profunctor q =&gt;</span></span><span class="mpre"> </span><span class="hl_classref"><span class="mpre">Functor</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) where
  </span><span class="hl_fundecl"><span class="mpre">fmap</span></span><span class="mpre"> </span><a name="loc_75_8_75_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_8_75_9&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a name="loc_75_22_75_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_22_75_23&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_75_24_75_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_24_75_25&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a href="#loc_75_22_75_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_22_75_23&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="Data.Profunctor.Unsafe.html#loc_101_3_101_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_101_3_101_7&#39;)"><span class="hl_varref"><span class="mpre">rmap</span></span></a><span class="mpre"> </span><a href="#loc_75_8_75_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_8_75_9&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_75_24_75_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_24_75_25&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE fmap #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The composition of two &#39;Representable&#39; &#39;Profunctor&#39;s is &#39;Representable&#39; by</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the composition of their representations.</span></span><span class="mpre">
instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 80, srcSpanStartColumn = 10, srcSpanEndLine = 80, srcSpanEndColumn = 47}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 80, srcSpanStartColumn = 10, srcSpanEndLine = 80, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/sr"><span class="mpre">(Representable p, Representable q) =&gt;</span></span><span class="mpre"> </span><a href="Data.Profunctor.Rep.html#loc_40_42_40_55" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_40_42_40_55&#39;)"><span class="hl_classref"><span class="mpre">Representable</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre">) where
  </span><span class="warning" data-warning="InstDeclInsType (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 81, srcSpanStartColumn = 3, srcSpanEndLine = 81, srcSpanEndColumn = 54}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 81, srcSpanStartColumn = 3, srcSpanEndLine = 81, srcSpanEndColumn = 7},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/D"><span class="mpre">type Rep (Procompose p q) = Compose (Rep p) (Rep q)</span></span><span class="mpre">
  </span><a href="Data.Profunctor.Rep.html#loc_42_3_42_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_42_3_42_11&#39;)"><span class="hl_fundecl"><span class="mpre">tabulate</span></span></a><span class="mpre"> </span><a name="loc_82_12_82_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_12_82_13&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><a href="Data.Profunctor.Rep.html#loc_42_3_42_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_42_3_42_11&#39;)"><span class="hl_varref"><span class="mpre">tabulate</span></span></a><span class="mpre"> (</span><a href="Data.Functor.Compose.html#loc_27_35_27_45" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Compose.html#loc_27_35_27_45&#39;)"><span class="hl_varref"><span class="mpre">getCompose</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><a href="#loc_82_12_82_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_12_82_13&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)) (</span><a href="Data.Profunctor.Rep.html#loc_42_3_42_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_42_3_42_11&#39;)"><span class="hl_varref"><span class="mpre">tabulate</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_34_5_34_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_34_5_34_7&#39;)"><span class="hl_varref"><span class="mpre">id</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Data.Profunctor.Rep.html#loc_42_3_42_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_42_3_42_11&#39;)"><span class="mpre">tabulate</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><a href="Data.Profunctor.Rep.html#loc_43_3_43_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_43_3_43_6&#39;)"><span class="hl_fundecl"><span class="mpre">rep</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a name="loc_84_19_84_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_19_84_20&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_84_21_84_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_21_84_22&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre">) </span><a name="loc_84_24_84_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_24_84_25&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Compose</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Profunctor.Rep.html#loc_43_3_43_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_43_3_43_6&#39;)"><span class="hl_varref"><span class="mpre">rep</span></span></a><span class="mpre"> </span><a href="#loc_84_21_84_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_21_84_22&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="Data.Profunctor.Rep.html#loc_43_3_43_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_43_3_43_6&#39;)"><span class="hl_varref"><span class="mpre">rep</span></span></a><span class="mpre"> </span><a href="#loc_84_19_84_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_19_84_20&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_84_24_84_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_24_84_25&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Data.Profunctor.Rep.html#loc_43_3_43_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_43_3_43_6&#39;)"><span class="mpre">rep</span></a><span class="mpre"> #-}</span></span><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 87, srcSpanStartColumn = 10, srcSpanEndLine = 87, srcSpanEndColumn = 51}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 87, srcSpanStartColumn = 10, srcSpanEndLine = 87, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/sr"><span class="mpre">(Corepresentable p, Corepresentable q) =&gt;</span></span><span class="mpre"> </span><a href="Data.Profunctor.Rep.html#loc_81_44_81_59" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_81_44_81_59&#39;)"><span class="hl_classref"><span class="mpre">Corepresentable</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre">) where
  </span><span class="warning" data-warning="InstDeclInsType (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 88, srcSpanStartColumn = 3, srcSpanEndLine = 88, srcSpanEndColumn = 60}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 88, srcSpanStartColumn = 3, srcSpanEndLine = 88, srcSpanEndColumn = 7},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/D"><span class="mpre">type Corep (Procompose p q) = Compose (Corep q) (Corep p)</span></span><span class="mpre">
  </span><a href="Data.Profunctor.Rep.html#loc_83_3_83_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_83_3_83_13&#39;)"><span class="hl_fundecl"><span class="mpre">cotabulate</span></span></a><span class="mpre"> </span><a name="loc_89_14_89_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_14_89_15&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><a href="Data.Profunctor.Rep.html#loc_83_3_83_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_83_3_83_13&#39;)"><span class="hl_varref"><span class="mpre">cotabulate</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_34_5_34_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_34_5_34_7&#39;)"><span class="hl_varref"><span class="mpre">id</span></span></a><span class="mpre">) (</span><a href="Data.Profunctor.Rep.html#loc_83_3_83_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_83_3_83_13&#39;)"><span class="hl_varref"><span class="mpre">cotabulate</span></span></a><span class="mpre"> (</span><a href="#loc_89_14_89_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_14_89_15&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Compose</span></span><span class="mpre">))
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Data.Profunctor.Rep.html#loc_83_3_83_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_83_3_83_13&#39;)"><span class="mpre">cotabulate</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><a href="Data.Profunctor.Rep.html#loc_84_3_84_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_84_3_84_8&#39;)"><span class="hl_fundecl"><span class="mpre">corep</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a name="loc_91_21_91_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_21_91_22&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_91_23_91_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_23_91_24&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">Compose</span></span><span class="mpre"> </span><a name="loc_91_35_91_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_35_91_36&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre">) = </span><a href="Data.Profunctor.Rep.html#loc_84_3_84_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_84_3_84_8&#39;)"><span class="hl_varref"><span class="mpre">corep</span></span></a><span class="mpre"> </span><a href="#loc_91_23_91_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_23_91_24&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Profunctor.Rep.html#loc_84_3_84_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_84_3_84_8&#39;)"><span class="hl_varref"><span class="mpre">corep</span></span></a><span class="mpre"> </span><a href="#loc_91_21_91_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_21_91_22&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_91_35_91_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_35_91_36&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Data.Profunctor.Rep.html#loc_84_3_84_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_84_3_84_8&#39;)"><span class="mpre">corep</span></a><span class="mpre"> #-}</span></span><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 94, srcSpanStartColumn = 10, srcSpanEndLine = 94, srcSpanEndColumn = 33}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 94, srcSpanStartColumn = 10, srcSpanEndLine = 94, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/sr"><span class="mpre">(Strong p, Strong q) =&gt;</span></span><span class="mpre"> </span><a href="Data.Profunctor.html#loc_184_23_184_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_184_23_184_29&#39;)"><span class="hl_classref"><span class="mpre">Strong</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre">) where
  </span><a href="Data.Profunctor.html#loc_185_3_185_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_185_3_185_9&#39;)"><span class="hl_fundecl"><span class="mpre">first&#39;</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a name="loc_95_22_95_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_22_95_23&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_95_24_95_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_24_95_25&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><a href="Data.Profunctor.html#loc_185_3_185_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_185_3_185_9&#39;)"><span class="hl_varref"><span class="mpre">first&#39;</span></span></a><span class="mpre"> </span><a href="#loc_95_22_95_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_22_95_23&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) (</span><a href="Data.Profunctor.html#loc_185_3_185_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_185_3_185_9&#39;)"><span class="hl_varref"><span class="mpre">first&#39;</span></span></a><span class="mpre"> </span><a href="#loc_95_24_95_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_24_95_25&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Data.Profunctor.html#loc_185_3_185_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_185_3_185_9&#39;)"><span class="mpre">first&#39;</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><a href="Data.Profunctor.html#loc_188_3_188_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_188_3_188_10&#39;)"><span class="hl_fundecl"><span class="mpre">second&#39;</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a name="loc_97_23_97_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_23_97_24&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_97_25_97_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_25_97_26&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><a href="Data.Profunctor.html#loc_188_3_188_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_188_3_188_10&#39;)"><span class="hl_varref"><span class="mpre">second&#39;</span></span></a><span class="mpre"> </span><a href="#loc_97_23_97_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_23_97_24&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) (</span><a href="Data.Profunctor.html#loc_188_3_188_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_188_3_188_10&#39;)"><span class="hl_varref"><span class="mpre">second&#39;</span></span></a><span class="mpre"> </span><a href="#loc_97_25_97_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_25_97_26&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Data.Profunctor.html#loc_188_3_188_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_188_3_188_10&#39;)"><span class="mpre">second&#39;</span></a><span class="mpre"> #-}</span></span><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 100, srcSpanStartColumn = 10, srcSpanEndLine = 100, srcSpanEndColumn = 33}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 100, srcSpanStartColumn = 10, srcSpanEndLine = 100, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0."><span class="mpre">(Choice p, Choice q) =&gt;</span></span><span class="mpre"> </span><a href="Data.Profunctor.html#loc_234_23_234_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_234_23_234_29&#39;)"><span class="hl_classref"><span class="mpre">Choice</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre">) where
  </span><a href="Data.Profunctor.html#loc_235_3_235_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_235_3_235_8&#39;)"><span class="hl_fundecl"><span class="mpre">left&#39;</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a name="loc_101_21_101_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_21_101_22&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_101_23_101_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_23_101_24&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><a href="Data.Profunctor.html#loc_235_3_235_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_235_3_235_8&#39;)"><span class="hl_varref"><span class="mpre">left&#39;</span></span></a><span class="mpre"> </span><a href="#loc_101_21_101_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_21_101_22&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) (</span><a href="Data.Profunctor.html#loc_235_3_235_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_235_3_235_8&#39;)"><span class="hl_varref"><span class="mpre">left&#39;</span></span></a><span class="mpre"> </span><a href="#loc_101_23_101_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_23_101_24&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Data.Profunctor.html#loc_235_3_235_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_235_3_235_8&#39;)"><span class="mpre">left&#39;</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><a href="Data.Profunctor.html#loc_238_3_238_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_238_3_238_9&#39;)"><span class="hl_fundecl"><span class="mpre">right&#39;</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a name="loc_103_22_103_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_22_103_23&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_103_24_103_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_24_103_25&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><a href="Data.Profunctor.html#loc_238_3_238_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_238_3_238_9&#39;)"><span class="hl_varref"><span class="mpre">right&#39;</span></span></a><span class="mpre"> </span><a href="#loc_103_22_103_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_22_103_23&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) (</span><a href="Data.Profunctor.html#loc_238_3_238_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_238_3_238_9&#39;)"><span class="hl_varref"><span class="mpre">right&#39;</span></span></a><span class="mpre"> </span><a href="#loc_103_24_103_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_24_103_25&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Data.Profunctor.html#loc_238_3_238_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_238_3_238_9&#39;)"><span class="mpre">right&#39;</span></a><span class="mpre"> #-}</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- * Lax identity</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | @(-&gt;)@ functions as a lax identity for &#39;Profunctor&#39; composition.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This provides an &#39;Iso&#39; for the @lens@ package that witnesses the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- isomorphism between @&#39;Procompose&#39; (-&gt;) q d c@ and @q d c@, which</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- is the left identity law.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;idl&#39; :: &#39;Profunctor&#39; q =&gt; Iso&#39; (&#39;Procompose&#39; (-&gt;) q d c) (q d c)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_119_1_119_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_1_119_4&#39;)"><span class="mpre">idl</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 118, srcSpanStartColumn = 8, srcSpanEndLine = 118, srcSpanEndColumn = 23}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 118, srcSpanStartColumn = 21, srcSpanEndLine = 118, srcSpanEndColumn = 23}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/ho"><span class="mpre">Profunctor q =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Iso</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">d</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre">) (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">d&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">c&#39;</span></span><span class="mpre">) (</span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">d</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre">) (</span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">d&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">c&#39;</span></span><span class="mpre">)
</span><a name="loc_119_1_119_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_1_119_4&#39;)"><span class="hl_vardecl"><span class="mpre">idl</span></span></a><span class="mpre"> = </span><a href="Data.Profunctor.Unsafe.html#loc_87_3_87_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_87_3_87_8&#39;)"><span class="hl_varref"><span class="mpre">dimap</span></span></a><span class="mpre"> (\(</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a name="loc_119_27_119_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_27_119_28&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_119_29_119_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_29_119_30&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre">) -&gt; </span><a href="Data.Profunctor.Unsafe.html#loc_94_3_94_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_94_3_94_7&#39;)"><span class="hl_varref"><span class="mpre">lmap</span></span></a><span class="mpre"> </span><a href="#loc_119_27_119_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_27_119_28&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_119_29_119_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_29_119_30&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a href="Control.Category.html#loc_34_5_34_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_34_5_34_7&#39;)"><span class="hl_varref"><span class="mpre">id</span></span></a><span class="mpre">))

</span><span class="hl_comment"><span class="mpre">-- | @(-&gt;)@ functions as a lax identity for &#39;Profunctor&#39; composition.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This provides an &#39;Iso&#39; for the @lens@ package that witnesses the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- isomorphism between @&#39;Procompose&#39; q (-&gt;) d c@ and @q d c@, which</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- is the right identity law.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;idr&#39; :: &#39;Profunctor&#39; q =&gt; Iso&#39; (&#39;Procompose&#39; q (-&gt;) d c) (q d c)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_131_1_131_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_1_131_4&#39;)"><span class="mpre">idr</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 130, srcSpanStartColumn = 8, srcSpanEndLine = 130, srcSpanEndColumn = 23}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 130, srcSpanStartColumn = 21, srcSpanEndLine = 130, srcSpanEndColumn = 23}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/ho"><span class="mpre">Profunctor q =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Iso</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">d</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre">) (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">d&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">c&#39;</span></span><span class="mpre">) (</span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">d</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre">) (</span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">d&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">c&#39;</span></span><span class="mpre">)
</span><a name="loc_131_1_131_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_1_131_4&#39;)"><span class="hl_vardecl"><span class="mpre">idr</span></span></a><span class="mpre"> = </span><a href="Data.Profunctor.Unsafe.html#loc_87_3_87_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_87_3_87_8&#39;)"><span class="hl_varref"><span class="mpre">dimap</span></span></a><span class="mpre"> (\(</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a name="loc_131_27_131_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_27_131_28&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_131_29_131_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_29_131_30&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre">) -&gt; </span><a href="Data.Profunctor.Unsafe.html#loc_101_3_101_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_101_3_101_7&#39;)"><span class="hl_varref"><span class="mpre">rmap</span></span></a><span class="mpre"> </span><a href="#loc_131_29_131_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_29_131_30&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_131_27_131_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_27_131_28&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">`Procompose`</span></span><span class="mpre"> </span><a href="Control.Category.html#loc_34_5_34_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_34_5_34_7&#39;)"><span class="hl_varref"><span class="mpre">id</span></span></a><span class="mpre">))


</span><span class="hl_comment"><span class="mpre">-- | The associator for &#39;Profunctor&#39; composition.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This provides an &#39;Iso&#39; for the @lens@ package that witnesses the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- isomorphism between @&#39;Procompose&#39; p (&#39;Procompose&#39; q r) a b@ and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @&#39;Procompose&#39; (&#39;Procompose&#39; p q) r a b@, which arises because</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @Prof@ is only a bicategory, rather than a strict 2-category.</span></span><span class="mpre">
</span><a href="#loc_142_1_142_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_1_142_6&#39;)"><span class="mpre">assoc</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Iso</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">y</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">z</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">)
             (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">y</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">z</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">)
</span><a name="loc_142_1_142_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_1_142_6&#39;)"><span class="hl_vardecl"><span class="mpre">assoc</span></span></a><span class="mpre"> = </span><a href="Data.Profunctor.Unsafe.html#loc_87_3_87_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_87_3_87_8&#39;)"><span class="hl_varref"><span class="mpre">dimap</span></span></a><span class="mpre"> (\(</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a name="loc_142_29_142_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_29_142_30&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a name="loc_142_43_142_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_43_142_44&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> </span><a name="loc_142_45_142_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_45_142_46&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre">)) -&gt; </span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a href="#loc_142_29_142_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_29_142_30&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_142_43_142_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_43_142_44&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">) </span><a href="#loc_142_45_142_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_45_142_46&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">)
              (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (\(</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a name="loc_143_47_143_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_47_143_48&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_143_49_143_50" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_49_143_50&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre">) </span><a name="loc_143_52_143_53" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_52_143_53&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre">) -&gt; </span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a href="#loc_143_47_143_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_47_143_48&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a href="#loc_143_49_143_50" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_49_143_50&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_143_52_143_53" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_52_143_53&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">)))

</span><span class="hl_comment"><span class="mpre">-- | &#39;Profunctor&#39; composition generalizes &#39;Functor&#39; composition in two ways.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is the first, which shows that @exists b. (a -&gt; f b, b -&gt; g c)@ is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- isomorphic to @a -&gt; f (g c)@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @&#39;upstars&#39; :: &#39;Functor&#39; f =&gt; Iso&#39; (&#39;Procompose&#39; (&#39;UpStar&#39; f) (&#39;UpStar&#39; g) d c) (&#39;UpStar&#39; (&#39;Compose&#39; f g) d c)@</span></span><span class="mpre">
</span><a href="#loc_156_1_156_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_1_156_8&#39;)"><span class="mpre">upstars</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 151, srcSpanStartColumn = 12, srcSpanEndLine = 152, srcSpanEndColumn = 11}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 152, srcSpanStartColumn = 9, srcSpanEndLine = 152, srcSpanEndColumn = 11}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/ho"><span class="mpre">Functor f
        =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Iso</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><a href="Data.Profunctor.html#loc_54_9_54_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_54_9_54_15&#39;)"><span class="hl_tyconref"><span class="mpre">UpStar</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> ) (</span><a href="Data.Profunctor.html#loc_54_9_54_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_54_9_54_15&#39;)"><span class="hl_tyconref"><span class="mpre">UpStar</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> ) </span><span class="hl_tyvar"><span class="mpre">d</span></span><span class="mpre">  </span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre"> )
               (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><a href="Data.Profunctor.html#loc_54_9_54_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_54_9_54_15&#39;)"><span class="hl_tyconref"><span class="mpre">UpStar</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f&#39;</span></span><span class="mpre">) (</span><a href="Data.Profunctor.html#loc_54_9_54_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_54_9_54_15&#39;)"><span class="hl_tyconref"><span class="mpre">UpStar</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g&#39;</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">d&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">c&#39;</span></span><span class="mpre">)
               (</span><a href="Data.Profunctor.html#loc_54_9_54_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_54_9_54_15&#39;)"><span class="hl_tyconref"><span class="mpre">UpStar</span></span></a><span class="mpre"> (</span><a href="Data.Functor.Compose.html#loc_27_9_27_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Compose.html#loc_27_9_27_16&#39;)"><span class="hl_tyconref"><span class="mpre">Compose</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">  </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> ) </span><span class="hl_tyvar"><span class="mpre">d</span></span><span class="mpre">  </span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre"> )
               (</span><a href="Data.Profunctor.html#loc_54_9_54_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_54_9_54_15&#39;)"><span class="hl_tyconref"><span class="mpre">UpStar</span></span></a><span class="mpre"> (</span><a href="Data.Functor.Compose.html#loc_27_9_27_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Compose.html#loc_27_9_27_16&#39;)"><span class="hl_tyconref"><span class="mpre">Compose</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g&#39;</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">d&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">c&#39;</span></span><span class="mpre">)
</span><a name="loc_156_1_156_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_1_156_8&#39;)"><span class="hl_vardecl"><span class="mpre">upstars</span></span></a><span class="mpre"> = </span><a href="Data.Profunctor.Unsafe.html#loc_87_3_87_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_87_3_87_8&#39;)"><span class="hl_varref"><span class="mpre">dimap</span></span></a><span class="mpre"> </span><a href="#loc_157_3_157_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_3_157_9&#39;)"><span class="hl_varref"><span class="mpre">hither</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_158_3_158_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_3_158_6&#39;)"><span class="hl_varref"><span class="mpre">yon</span></span></a><span class="mpre">) where
  </span><a name="loc_157_3_157_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_3_157_9&#39;)"><span class="hl_fundecl"><span class="mpre">hither</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">UpStar</span></span><span class="mpre"> </span><a name="loc_157_30_157_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_30_157_33&#39;)"><span class="hl_vardecl"><span class="mpre">dfx</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">UpStar</span></span><span class="mpre"> </span><a name="loc_157_43_157_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_43_157_46&#39;)"><span class="hl_vardecl"><span class="mpre">xgc</span></span></a><span class="mpre">)) = </span><span class="hl_conref"><span class="mpre">UpStar</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Compose</span></span><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_157_43_157_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_43_157_46&#39;)"><span class="hl_varref"><span class="mpre">xgc</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><a href="#loc_157_30_157_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_30_157_33&#39;)"><span class="hl_varref"><span class="mpre">dfx</span></span></a><span class="mpre">)
  </span><a name="loc_158_3_158_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_3_158_6&#39;)"><span class="hl_fundecl"><span class="mpre">yon</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">UpStar</span></span><span class="mpre"> </span><a name="loc_158_15_158_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_15_158_19&#39;)"><span class="hl_vardecl"><span class="mpre">dfgc</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">UpStar</span></span><span class="mpre"> (</span><a href="Data.Functor.Compose.html#loc_27_35_27_45" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Compose.html#loc_27_35_27_45&#39;)"><span class="hl_varref"><span class="mpre">getCompose</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><a href="#loc_158_15_158_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_15_158_19&#39;)"><span class="hl_varref"><span class="mpre">dfgc</span></span></a><span class="mpre">)) (</span><span class="hl_conref"><span class="mpre">UpStar</span></span><span class="mpre"> </span><a href="Control.Category.html#loc_34_5_34_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_34_5_34_7&#39;)"><span class="hl_varref"><span class="mpre">id</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | &#39;Profunctor&#39; composition generalizes &#39;Functor&#39; composition in two ways.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is the second, which shows that @exists b. (f a -&gt; b, g b -&gt; c)@ is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- isomorphic to @g (f a) -&gt; c@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @&#39;downstars&#39; :: &#39;Functor&#39; f =&gt; Iso&#39; (&#39;Procompose&#39; (&#39;DownStar&#39; f) (&#39;DownStar&#39; g) d c) (&#39;DownStar&#39; (&#39;Compose&#39; g f) d c)@</span></span><span class="mpre">
</span><a href="#loc_171_1_171_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_1_171_10&#39;)"><span class="mpre">downstars</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 166, srcSpanStartColumn = 14, srcSpanEndLine = 167, srcSpanEndColumn = 13}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 167, srcSpanStartColumn = 11, srcSpanEndLine = 167, srcSpanEndColumn = 13}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/h"><span class="mpre">Functor g
          =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Iso</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><a href="Data.Profunctor.html#loc_76_9_76_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_76_9_76_17&#39;)"><span class="hl_tyconref"><span class="mpre">DownStar</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> ) (</span><a href="Data.Profunctor.html#loc_76_9_76_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_76_9_76_17&#39;)"><span class="hl_tyconref"><span class="mpre">DownStar</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> ) </span><span class="hl_tyvar"><span class="mpre">d</span></span><span class="mpre">  </span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre"> )
                 (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><a href="Data.Profunctor.html#loc_76_9_76_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_76_9_76_17&#39;)"><span class="hl_tyconref"><span class="mpre">DownStar</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f&#39;</span></span><span class="mpre">) (</span><a href="Data.Profunctor.html#loc_76_9_76_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_76_9_76_17&#39;)"><span class="hl_tyconref"><span class="mpre">DownStar</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g&#39;</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">d&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">c&#39;</span></span><span class="mpre">)
                 (</span><a href="Data.Profunctor.html#loc_76_9_76_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_76_9_76_17&#39;)"><span class="hl_tyconref"><span class="mpre">DownStar</span></span></a><span class="mpre"> (</span><a href="Data.Functor.Compose.html#loc_27_9_27_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Compose.html#loc_27_9_27_16&#39;)"><span class="hl_tyconref"><span class="mpre">Compose</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre">  </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> ) </span><span class="hl_tyvar"><span class="mpre">d</span></span><span class="mpre">  </span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre"> )
                 (</span><a href="Data.Profunctor.html#loc_76_9_76_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_76_9_76_17&#39;)"><span class="hl_tyconref"><span class="mpre">DownStar</span></span></a><span class="mpre"> (</span><a href="Data.Functor.Compose.html#loc_27_9_27_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Compose.html#loc_27_9_27_16&#39;)"><span class="hl_tyconref"><span class="mpre">Compose</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f&#39;</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">d&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">c&#39;</span></span><span class="mpre">)
</span><a name="loc_171_1_171_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_1_171_10&#39;)"><span class="hl_vardecl"><span class="mpre">downstars</span></span></a><span class="mpre"> = </span><a href="Data.Profunctor.Unsafe.html#loc_87_3_87_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_87_3_87_8&#39;)"><span class="hl_varref"><span class="mpre">dimap</span></span></a><span class="mpre"> </span><a href="#loc_172_3_172_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_3_172_9&#39;)"><span class="hl_varref"><span class="mpre">hither</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_173_3_173_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_3_173_6&#39;)"><span class="hl_varref"><span class="mpre">yon</span></span></a><span class="mpre">) where
  </span><a name="loc_172_3_172_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_3_172_9&#39;)"><span class="hl_fundecl"><span class="mpre">hither</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">DownStar</span></span><span class="mpre"> </span><a name="loc_172_32_172_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_32_172_35&#39;)"><span class="hl_vardecl"><span class="mpre">fdx</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">DownStar</span></span><span class="mpre"> </span><a name="loc_172_47_172_50" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_47_172_50&#39;)"><span class="hl_vardecl"><span class="mpre">gxc</span></span></a><span class="mpre">)) = </span><span class="hl_conref"><span class="mpre">DownStar</span></span><span class="mpre"> (</span><a href="#loc_172_47_172_50" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_47_172_50&#39;)"><span class="hl_varref"><span class="mpre">gxc</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_172_32_172_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_32_172_35&#39;)"><span class="hl_varref"><span class="mpre">fdx</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><a href="Data.Functor.Compose.html#loc_27_35_27_45" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Compose.html#loc_27_35_27_45&#39;)"><span class="hl_varref"><span class="mpre">getCompose</span></span></a><span class="mpre">)
  </span><a name="loc_173_3_173_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_3_173_6&#39;)"><span class="hl_fundecl"><span class="mpre">yon</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">DownStar</span></span><span class="mpre"> </span><a name="loc_173_17_173_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_17_173_21&#39;)"><span class="hl_vardecl"><span class="mpre">dgfc</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">DownStar</span></span><span class="mpre"> </span><a href="Control.Category.html#loc_34_5_34_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_34_5_34_7&#39;)"><span class="hl_varref"><span class="mpre">id</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">DownStar</span></span><span class="mpre"> (</span><a href="#loc_173_17_173_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_17_173_21&#39;)"><span class="hl_varref"><span class="mpre">dgfc</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Compose</span></span><span class="mpre">))

</span><span class="hl_comment"><span class="mpre">-- | This is a variant on &#39;upstars&#39; that uses &#39;Kleisli&#39; instead of &#39;UpStar&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @&#39;kleislis&#39; :: &#39;Monad&#39; f =&gt; Iso&#39; (&#39;Procompose&#39; (&#39;Kleisli&#39; f) (&#39;Kleisli&#39; g) d c) (&#39;Kleisli&#39; (&#39;Compose&#39; f g) d c)@</span></span><span class="mpre">
</span><a href="#loc_183_1_183_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_1_183_9&#39;)"><span class="mpre">kleislis</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 178, srcSpanStartColumn = 13, srcSpanEndLine = 179, srcSpanEndColumn = 11}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 179, srcSpanStartColumn = 9, srcSpanEndLine = 179, srcSpanEndColumn = 11}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/ho"><span class="mpre">Monad f
        =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Iso</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><a href="Control.Arrow.html#loc_146_9_146_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Arrow.html#loc_146_9_146_16&#39;)"><span class="hl_tyconref"><span class="mpre">Kleisli</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> ) (</span><a href="Control.Arrow.html#loc_146_9_146_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Arrow.html#loc_146_9_146_16&#39;)"><span class="hl_tyconref"><span class="mpre">Kleisli</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> ) </span><span class="hl_tyvar"><span class="mpre">d</span></span><span class="mpre">  </span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre"> )
               (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><a href="Control.Arrow.html#loc_146_9_146_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Arrow.html#loc_146_9_146_16&#39;)"><span class="hl_tyconref"><span class="mpre">Kleisli</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f&#39;</span></span><span class="mpre">) (</span><a href="Control.Arrow.html#loc_146_9_146_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Arrow.html#loc_146_9_146_16&#39;)"><span class="hl_tyconref"><span class="mpre">Kleisli</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g&#39;</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">d&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">c&#39;</span></span><span class="mpre">)
               (</span><a href="Control.Arrow.html#loc_146_9_146_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Arrow.html#loc_146_9_146_16&#39;)"><span class="hl_tyconref"><span class="mpre">Kleisli</span></span></a><span class="mpre"> (</span><a href="Data.Functor.Compose.html#loc_27_9_27_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Compose.html#loc_27_9_27_16&#39;)"><span class="hl_tyconref"><span class="mpre">Compose</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">  </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> ) </span><span class="hl_tyvar"><span class="mpre">d</span></span><span class="mpre">  </span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre"> )
               (</span><a href="Control.Arrow.html#loc_146_9_146_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Arrow.html#loc_146_9_146_16&#39;)"><span class="hl_tyconref"><span class="mpre">Kleisli</span></span></a><span class="mpre"> (</span><a href="Data.Functor.Compose.html#loc_27_9_27_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Compose.html#loc_27_9_27_16&#39;)"><span class="hl_tyconref"><span class="mpre">Compose</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g&#39;</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">d&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">c&#39;</span></span><span class="mpre">)
</span><a name="loc_183_1_183_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_1_183_9&#39;)"><span class="hl_vardecl"><span class="mpre">kleislis</span></span></a><span class="mpre"> = </span><a href="Data.Profunctor.Unsafe.html#loc_87_3_87_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_87_3_87_8&#39;)"><span class="hl_varref"><span class="mpre">dimap</span></span></a><span class="mpre"> </span><a href="#loc_184_3_184_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_3_184_9&#39;)"><span class="hl_varref"><span class="mpre">hither</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_185_3_185_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_3_185_6&#39;)"><span class="hl_varref"><span class="mpre">yon</span></span></a><span class="mpre">) where
  </span><a name="loc_184_3_184_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_3_184_9&#39;)"><span class="hl_fundecl"><span class="mpre">hither</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Kleisli</span></span><span class="mpre"> </span><a name="loc_184_31_184_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_31_184_34&#39;)"><span class="hl_vardecl"><span class="mpre">dfx</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">Kleisli</span></span><span class="mpre"> </span><a name="loc_184_45_184_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_45_184_48&#39;)"><span class="hl_vardecl"><span class="mpre">xgc</span></span></a><span class="mpre">)) = </span><span class="hl_conref"><span class="mpre">Kleisli</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Compose</span></span><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre"> </span><a href="#loc_184_45_184_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_45_184_48&#39;)"><span class="hl_varref"><span class="mpre">xgc</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><a href="#loc_184_31_184_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_31_184_34&#39;)"><span class="hl_varref"><span class="mpre">dfx</span></span></a><span class="mpre">)
  </span><a name="loc_185_3_185_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_3_185_6&#39;)"><span class="hl_fundecl"><span class="mpre">yon</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Kleisli</span></span><span class="mpre"> </span><a name="loc_185_16_185_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_16_185_20&#39;)"><span class="hl_vardecl"><span class="mpre">dfgc</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Kleisli</span></span><span class="mpre"> (</span><a href="Data.Functor.Compose.html#loc_27_35_27_45" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Compose.html#loc_27_35_27_45&#39;)"><span class="hl_varref"><span class="mpre">getCompose</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><a href="#loc_185_16_185_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_16_185_20&#39;)"><span class="hl_varref"><span class="mpre">dfgc</span></span></a><span class="mpre">)) (</span><span class="hl_conref"><span class="mpre">Kleisli</span></span><span class="mpre"> </span><a href="Control.Category.html#loc_34_5_34_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_34_5_34_7&#39;)"><span class="hl_varref"><span class="mpre">id</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | This is a variant on &#39;downstars&#39; that uses &#39;Cokleisli&#39; instead</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- of &#39;DownStar&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @&#39;cokleislis&#39; :: &#39;Functor&#39; f =&gt; Iso&#39; (&#39;Procompose&#39; (&#39;Cokleisli&#39; f) (&#39;Cokleisli&#39; g) d c) (&#39;Cokleisli&#39; (&#39;Compose&#39; g f) d c)@</span></span><span class="mpre">
</span><a href="#loc_196_1_196_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_1_196_11&#39;)"><span class="mpre">cokleislis</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 191, srcSpanStartColumn = 15, srcSpanEndLine = 192, srcSpanEndColumn = 13}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Composition.hs&quot;, srcSpanStartLine = 192, srcSpanStartColumn = 11, srcSpanEndLine = 192, srcSpanEndColumn = 13}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/h"><span class="mpre">Functor g
          =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Iso</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><a href="Control.Comonad.html#loc_307_9_307_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.html#loc_307_9_307_18&#39;)"><span class="hl_tyconref"><span class="mpre">Cokleisli</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> ) (</span><a href="Control.Comonad.html#loc_307_9_307_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.html#loc_307_9_307_18&#39;)"><span class="hl_tyconref"><span class="mpre">Cokleisli</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> ) </span><span class="hl_tyvar"><span class="mpre">d</span></span><span class="mpre">  </span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre"> )
                 (</span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><a href="Control.Comonad.html#loc_307_9_307_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.html#loc_307_9_307_18&#39;)"><span class="hl_tyconref"><span class="mpre">Cokleisli</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f&#39;</span></span><span class="mpre">) (</span><a href="Control.Comonad.html#loc_307_9_307_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.html#loc_307_9_307_18&#39;)"><span class="hl_tyconref"><span class="mpre">Cokleisli</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g&#39;</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">d&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">c&#39;</span></span><span class="mpre">)
                 (</span><a href="Control.Comonad.html#loc_307_9_307_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.html#loc_307_9_307_18&#39;)"><span class="hl_tyconref"><span class="mpre">Cokleisli</span></span></a><span class="mpre"> (</span><a href="Data.Functor.Compose.html#loc_27_9_27_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Compose.html#loc_27_9_27_16&#39;)"><span class="hl_tyconref"><span class="mpre">Compose</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre">  </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> ) </span><span class="hl_tyvar"><span class="mpre">d</span></span><span class="mpre">  </span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre"> )
                 (</span><a href="Control.Comonad.html#loc_307_9_307_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.html#loc_307_9_307_18&#39;)"><span class="hl_tyconref"><span class="mpre">Cokleisli</span></span></a><span class="mpre"> (</span><a href="Data.Functor.Compose.html#loc_27_9_27_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Compose.html#loc_27_9_27_16&#39;)"><span class="hl_tyconref"><span class="mpre">Compose</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f&#39;</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">d&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">c&#39;</span></span><span class="mpre">)
</span><a name="loc_196_1_196_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_1_196_11&#39;)"><span class="hl_vardecl"><span class="mpre">cokleislis</span></span></a><span class="mpre"> = </span><a href="Data.Profunctor.Unsafe.html#loc_87_3_87_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_87_3_87_8&#39;)"><span class="hl_varref"><span class="mpre">dimap</span></span></a><span class="mpre"> </span><a href="#loc_197_3_197_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_3_197_9&#39;)"><span class="hl_varref"><span class="mpre">hither</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_198_3_198_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_3_198_6&#39;)"><span class="hl_varref"><span class="mpre">yon</span></span></a><span class="mpre">) where
  </span><a name="loc_197_3_197_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_3_197_9&#39;)"><span class="hl_fundecl"><span class="mpre">hither</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Cokleisli</span></span><span class="mpre"> </span><a name="loc_197_33_197_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_33_197_36&#39;)"><span class="hl_vardecl"><span class="mpre">fdx</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">Cokleisli</span></span><span class="mpre"> </span><a name="loc_197_49_197_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_49_197_52&#39;)"><span class="hl_vardecl"><span class="mpre">gxc</span></span></a><span class="mpre">)) = </span><span class="hl_conref"><span class="mpre">Cokleisli</span></span><span class="mpre"> (</span><a href="#loc_197_49_197_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_49_197_52&#39;)"><span class="hl_varref"><span class="mpre">gxc</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_197_33_197_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_33_197_36&#39;)"><span class="hl_varref"><span class="mpre">fdx</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><a href="Data.Functor.Compose.html#loc_27_35_27_45" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Compose.html#loc_27_35_27_45&#39;)"><span class="hl_varref"><span class="mpre">getCompose</span></span></a><span class="mpre">)
  </span><a name="loc_198_3_198_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_3_198_6&#39;)"><span class="hl_fundecl"><span class="mpre">yon</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Cokleisli</span></span><span class="mpre"> </span><a name="loc_198_18_198_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_18_198_22&#39;)"><span class="hl_vardecl"><span class="mpre">dgfc</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Cokleisli</span></span><span class="mpre"> </span><a href="Control.Category.html#loc_34_5_34_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_34_5_34_7&#39;)"><span class="hl_varref"><span class="mpre">id</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">Cokleisli</span></span><span class="mpre"> (</span><a href="#loc_198_18_198_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_18_198_22&#39;)"><span class="hl_varref"><span class="mpre">dgfc</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Compose</span></span><span class="mpre">))
</span></div></body></html>