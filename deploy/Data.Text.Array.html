<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE BangPatterns, CPP, ForeignFunctionInterface, MagicHash, Rank2Types,
    RecordWildCards, UnboxedTuples, UnliftedFFITypes #-}
{-# OPTIONS_GHC -fno-warn-unused-matches #-}
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      : Data.Text.Array</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   : (c) 2009, 2010, 2011 Bryan O&#39;Sullivan</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     : BSD-style</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  : bos@serpentine.com</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   : experimental</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability : portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Packed, unboxed, heap-resident arrays.  Suitable for performance</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- critical use, both in terms of large data quantities and high</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- speed.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This module is intended to be imported @qualified@, to avoid name</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- clashes with &quot;Prelude&quot; functions, e.g.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import qualified Data.Text.Array as A</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The names in this module resemble those in the &#39;Data.Array&#39; family</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- of modules, but are shorter due to the assumption of qualifid</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- naming.</span></span><span class="mpre">
module Data.Text.Array
    (
    </span><span class="hl_comment"><span class="mpre">-- * Types</span></span><span class="mpre">
      Array(Array, aBA)
    , MArray(MArray, maBA)

    </span><span class="hl_comment"><span class="mpre">-- * Functions</span></span><span class="mpre">
    , copyM
    , copyI
    , empty
    , equal
#if defined(ASSERTS)
    , length
#endif
    , run
    , run2
    , toList
    , unsafeFreeze
    , unsafeIndex
    , new
    , unsafeWrite
    ) where

#if defined(ASSERTS)
</span><span class="hl_comment"><span class="mpre">-- This fugly hack is brought by GHC&#39;s apparent reluctance to deal</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- with MagicHash and UnboxedTuples when inferring types. Eek!</span></span><span class="mpre">
# define CHECK_BOUNDS(_func_,_len_,_k_) \
if (_k_) &lt; 0 || (_k_) &gt;= (_len_) then error (&quot;Data.Text.Array.&quot; ++ (_func_) ++ &quot;: bounds error, offset &quot; ++ show (_k_) ++ &quot;, length &quot; ++ show (_len_)) else
#else
# define CHECK_BOUNDS(_func_,_len_,_k_)
#endif

#include &quot;MachDeps.h&quot;

#if defined(ASSERTS)
import Control.Exception (assert)
#endif
#if __GLASGOW_HASKELL__ &gt;= 702
import Control.Monad.ST.Unsafe (</span><a href="GHC.IO.html#loc_100_1_100_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_100_1_100_13&#39;)"><span class="mpre">unsafeIOToST</span></a><span class="mpre">)
#else
import Control.Monad.ST (unsafeIOToST)
#endif
import Data.Bits ((.&amp;.), </span><a href="Data.Bits.html#loc_87_5_87_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Bits.html#loc_87_5_87_8&#39;)"><span class="mpre">xor</span></a><span class="mpre">)
import Data.Text.Internal.Unsafe (</span><a href="Data.Text.Internal.Unsafe.html#loc_39_1_39_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.html#loc_39_1_39_16&#39;)"><span class="mpre">inlinePerformIO</span></a><span class="mpre">)
import Data.Text.Internal.Unsafe.Shift (</span><a href="Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11&#39;)"><span class="mpre">shiftL</span></a><span class="mpre">, </span><a href="Data.Text.Internal.Unsafe.Shift.html#loc_35_5_35_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Shift.html#loc_35_5_35_11&#39;)"><span class="mpre">shiftR</span></a><span class="mpre">)
#if __GLASGOW_HASKELL__ &gt;= 703
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 71, srcSpanStartColumn = 8, srcSpanEndLine = 71, srcSpanEndColumn = 23}, srcInfoPoints = []}) &quot;Foreign.C.Types&quot;"><span class="mpre">Foreign.C.Types</span></span><span class="mpre"> (CInt(CInt), CSize(CSize))
#else
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 73, srcSpanStartColumn = 8, srcSpanEndLine = 73, srcSpanEndColumn = 23}, srcInfoPoints = []}) &quot;Foreign.C.Types&quot;"><span class="mpre">Foreign.C.Types</span></span><span class="mpre"> (CInt, CSize)
#endif
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 75, srcSpanStartColumn = 8, srcSpanEndLine = 75, srcSpanEndColumn = 16}, srcInfoPoints = []}) &quot;GHC.Base&quot;"><span class="mpre">GHC.Base</span></span><span class="mpre"> (ByteArray#, MutableByteArray#, Int(..),
                 indexWord16Array#, newByteArray#,
                 unsafeCoerce#, writeWord16Array#)
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 78, srcSpanStartColumn = 8, srcSpanEndLine = 78, srcSpanEndColumn = 14}, srcInfoPoints = []}) &quot;GHC.ST&quot;"><span class="mpre">GHC.ST</span></span><span class="mpre"> (ST(..), runST)
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 79, srcSpanStartColumn = 8, srcSpanEndLine = 79, srcSpanEndColumn = 16}, srcInfoPoints = []}) &quot;GHC.Word&quot;"><span class="mpre">GHC.Word</span></span><span class="mpre"> (Word16(..))
import Prelude hiding (length, </span><a href="Text.Read.html#loc_91_1_91_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.Read.html#loc_91_1_91_5&#39;)"><span class="mpre">read</span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Immutable array type.</span></span><span class="mpre">
data </span><a name="loc_83_6_83_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_6_83_11&#39;)"><span class="hl_tycondecl"><span class="mpre">Array</span></span></a><span class="mpre"> = </span><a name="loc_83_14_83_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_14_83_19&#39;)"><span class="hl_condecl"><span class="mpre">Array</span></span></a><span class="mpre"> {
      </span><a name="loc_84_7_84_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_7_84_10&#39;)"><span class="hl_fielddecl"><span class="mpre">aBA</span></span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ByteArray#</span></span><span class="mpre">
#if defined(ASSERTS)
    , </span><a name="loc_86_7_86_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_7_86_11&#39;)"><span class="hl_fielddecl"><span class="mpre">aLen</span></span></a><span class="mpre"> :: {-# UNPACK #-} !</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- length (in units of Word16, not bytes)</span></span><span class="mpre">
#endif
    }

</span><span class="hl_comment"><span class="mpre">-- | Mutable array type, for use in the ST monad.</span></span><span class="mpre">
data </span><a name="loc_91_6_91_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_6_91_12&#39;)"><span class="hl_tycondecl"><span class="mpre">MArray</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> = </span><a name="loc_91_17_91_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_17_91_23&#39;)"><span class="hl_condecl"><span class="mpre">MArray</span></span></a><span class="mpre"> {
      </span><a name="loc_92_7_92_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_7_92_11&#39;)"><span class="hl_fielddecl"><span class="mpre">maBA</span></span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">MutableByteArray#</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">
#if defined(ASSERTS)
    , </span><a name="loc_94_7_94_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_7_94_12&#39;)"><span class="hl_fielddecl"><span class="mpre">maLen</span></span></a><span class="mpre"> :: {-# UNPACK #-} !</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- length (in units of Word16, not bytes)</span></span><span class="mpre">
#endif
    }

#if defined(ASSERTS)
</span><span class="hl_comment"><span class="mpre">-- | Operations supported by all arrays.</span></span><span class="mpre">
class </span><a name="loc_100_7_100_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_7_100_13&#39;)"><span class="hl_classdecl"><span class="mpre">IArray</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> where
    </span><span class="hl_comment"><span class="mpre">-- | Return the length of an array.</span></span><span class="mpre">
    </span><a name="loc_102_5_102_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_5_102_11&#39;)"><span class="mpre">length</span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">

instance </span><a href="#loc_100_7_100_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_7_100_13&#39;)"><span class="hl_classref"><span class="mpre">IArray</span></span></a><span class="mpre"> </span><a href="#loc_83_6_83_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_6_83_11&#39;)"><span class="hl_tyconref"><span class="mpre">Array</span></span></a><span class="mpre"> where
    </span><a href="#loc_102_5_102_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_5_102_11&#39;)"><span class="hl_vardecl"><span class="mpre">length</span></span></a><span class="mpre"> = </span><a href="#loc_86_7_86_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_7_86_11&#39;)"><span class="hl_varref"><span class="mpre">aLen</span></span></a><span class="mpre">
    </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_102_5_102_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_5_102_11&#39;)"><span class="mpre">length</span></a><span class="mpre"> #-}</span></span><span class="mpre">

instance </span><a href="#loc_100_7_100_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_7_100_13&#39;)"><span class="hl_classref"><span class="mpre">IArray</span></span></a><span class="mpre"> (</span><a href="#loc_91_6_91_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_6_91_12&#39;)"><span class="hl_tyconref"><span class="mpre">MArray</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">) where
    </span><a href="#loc_102_5_102_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_5_102_11&#39;)"><span class="hl_vardecl"><span class="mpre">length</span></span></a><span class="mpre"> = </span><a href="#loc_94_7_94_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_7_94_12&#39;)"><span class="hl_varref"><span class="mpre">maLen</span></span></a><span class="mpre">
    </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_102_5_102_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_5_102_11&#39;)"><span class="mpre">length</span></a><span class="mpre"> #-}</span></span><span class="mpre">
#endif

</span><span class="hl_comment"><span class="mpre">-- | Create an uninitialized mutable array.</span></span><span class="mpre">
</span><a href="#loc_115_1_115_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_1_115_4&#39;)"><span class="mpre">new</span></a><span class="mpre"> :: forall </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">. </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ST</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><a href="#loc_91_6_91_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_6_91_12&#39;)"><span class="hl_tyconref"><span class="mpre">MArray</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">)
</span><a name="loc_115_1_115_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_1_115_4&#39;)"><span class="hl_fundecl"><span class="mpre">new</span></span></a><span class="mpre"> </span><a name="loc_115_5_115_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_5_115_6&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre">
  | </span><a href="#loc_115_5_115_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_5_115_6&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">||</span></span><span class="mpre"> </span><a href="#loc_115_5_115_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_5_115_6&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.&amp;.</span></span><span class="mpre"> </span><a href="#loc_125_9_125_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_9_125_16&#39;)"><span class="hl_varref"><span class="mpre">highBit</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">/=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> = </span><a href="#loc_129_1_129_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_1_129_17&#39;)"><span class="hl_varref"><span class="mpre">array_size_error</span></span></a><span class="mpre">
  | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">ST</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_117_23_117_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_23_117_26&#39;)"><span class="hl_vardecl"><span class="mpre">s1#</span></span></a><span class="mpre"> -&gt;
       case </span><span class="hl_varref"><span class="mpre">newByteArray#</span></span><span class="mpre"> </span><a href="#loc_124_14_124_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_14_124_18&#39;)"><span class="hl_varref"><span class="mpre">len#</span></span></a><span class="mpre"> </span><a href="#loc_117_23_117_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_23_117_26&#39;)"><span class="hl_varref"><span class="mpre">s1#</span></span></a><span class="mpre"> of
         (# </span><a name="loc_119_13_119_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_13_119_16&#39;)"><span class="hl_vardecl"><span class="mpre">s2#</span></span></a><span class="mpre">, </span><a name="loc_119_18_119_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_18_119_23&#39;)"><span class="hl_vardecl"><span class="mpre">marr#</span></span></a><span class="mpre"> #) -&gt; (# </span><a href="#loc_119_13_119_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_13_119_16&#39;)"><span class="hl_varref"><span class="mpre">s2#</span></span></a><span class="mpre">, </span><a href="#loc_91_17_91_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_17_91_23&#39;)"><span class="hl_conref"><span class="mpre">MArray</span></span></a><span class="mpre"> </span><a href="#loc_119_18_119_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_18_119_23&#39;)"><span class="hl_varref"><span class="mpre">marr#</span></span></a><span class="mpre">
#if defined(ASSERTS)
                                </span><a href="#loc_115_5_115_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_5_115_6&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">
#endif
                                #)
  where !(</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_124_14_124_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_14_124_18&#39;)"><span class="hl_vardecl"><span class="mpre">len#</span></span></a><span class="mpre">) = </span><a href="#loc_144_1_144_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_1_144_13&#39;)"><span class="hl_varref"><span class="mpre">bytesInArray</span></span></a><span class="mpre"> </span><a href="#loc_115_5_115_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_5_115_6&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">
        </span><a name="loc_125_9_125_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_9_125_16&#39;)"><span class="hl_vardecl"><span class="mpre">highBit</span></span></a><span class="mpre">    = </span><span class="hl_varref"><span class="mpre">maxBound</span></span><span class="mpre"> </span><a href="Data.Bits.html#loc_87_5_87_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Bits.html#loc_87_5_87_8&#39;)"><span class="hl_infix"><span class="mpre">`xor`</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">maxBound</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Unsafe.Shift.html#loc_35_5_35_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Shift.html#loc_35_5_35_11&#39;)"><span class="hl_infix"><span class="mpre">`shiftR`</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_115_1_115_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_1_115_4&#39;)"><span class="mpre">new</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_129_1_129_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_1_129_17&#39;)"><span class="mpre">array_size_error</span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_129_1_129_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_1_129_17&#39;)"><span class="hl_vardecl"><span class="mpre">array_size_error</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Data.Text.Array.new: size overflow&quot;</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Freeze a mutable array. Do not mutate the &#39;MArray&#39; afterwards!</span></span><span class="mpre">
</span><a href="#loc_133_1_133_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_1_133_13&#39;)"><span class="mpre">unsafeFreeze</span></a><span class="mpre"> :: </span><a href="#loc_91_6_91_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_6_91_12&#39;)"><span class="hl_tyconref"><span class="mpre">MArray</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ST</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><a href="#loc_83_6_83_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_6_83_11&#39;)"><span class="hl_tyconref"><span class="mpre">Array</span></span></a><span class="mpre">
</span><a name="loc_133_1_133_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_1_133_13&#39;)"><span class="hl_fundecl"><span class="mpre">unsafeFreeze</span></span></a><span class="mpre"> </span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 133, srcSpanStartColumn = 14, srcSpanEndLine = 133, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 133, srcSpanStartColumn = 20, srcSpanEndLine = 133, srcSpanEndColumn = 21},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 133, src"><span class="mpre">MArray{..}</span></span><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">ST</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_133_33_133_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_33_133_35&#39;)"><span class="hl_vardecl"><span class="mpre">s#</span></span></a><span class="mpre"> -&gt;
                          (# </span><a href="#loc_133_33_133_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_33_133_35&#39;)"><span class="hl_varref"><span class="mpre">s#</span></span></a><span class="mpre">, </span><a href="#loc_83_14_83_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_14_83_19&#39;)"><span class="hl_conref"><span class="mpre">Array</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">unsafeCoerce#</span></span><span class="mpre"> </span><a href="#loc_92_7_92_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_7_92_11&#39;)"><span class="hl_varref"><span class="mpre">maBA</span></span></a><span class="mpre">)
#if defined(ASSERTS)
                             </span><a href="#loc_94_7_94_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_7_94_12&#39;)"><span class="hl_varref"><span class="mpre">maLen</span></span></a><span class="mpre">
#endif
                             #)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_133_1_133_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_1_133_13&#39;)"><span class="mpre">unsafeFreeze</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Indicate how many bytes would be used for an array of the given</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- size.</span></span><span class="mpre">
</span><a href="#loc_144_1_144_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_1_144_13&#39;)"><span class="mpre">bytesInArray</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
</span><a name="loc_144_1_144_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_1_144_13&#39;)"><span class="hl_fundecl"><span class="mpre">bytesInArray</span></span></a><span class="mpre"> </span><a name="loc_144_14_144_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_14_144_15&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_144_14_144_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_14_144_15&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.Shift.html#loc_34_5_34_11&#39;)"><span class="hl_infix"><span class="mpre">`shiftL`</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_144_1_144_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_1_144_13&#39;)"><span class="mpre">bytesInArray</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Unchecked read of an immutable array.  May return garbage or</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- crash on an out-of-bounds access.</span></span><span class="mpre">
</span><a href="#loc_150_1_150_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_12&#39;)"><span class="mpre">unsafeIndex</span></a><span class="mpre"> :: </span><a href="#loc_83_6_83_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_6_83_11&#39;)"><span class="hl_tyconref"><span class="mpre">Array</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Word16</span></span><span class="mpre">
</span><a name="loc_150_1_150_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_12&#39;)"><span class="hl_fundecl"><span class="mpre">unsafeIndex</span></span></a><span class="mpre"> </span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 150, srcSpanStartColumn = 13, srcSpanEndLine = 150, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 150, srcSpanStartColumn = 18, srcSpanEndLine = 150, srcSpanEndColumn = 19},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 150, src"><span class="mpre">Array{..}</span></span><span class="mpre"> </span><span class="hl_specname"><span class="mpre">i</span></span><span class="mpre">@(</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_150_29_150_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_29_150_31&#39;)"><span class="hl_vardecl"><span class="mpre">i#</span></span></a><span class="mpre">) =
  CHECK_BOUNDS(&quot;unsafeIndex&quot;,aLen,i)
    case </span><span class="hl_varref"><span class="mpre">indexWord16Array#</span></span><span class="mpre"> </span><a href="#loc_84_7_84_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_7_84_10&#39;)"><span class="hl_varref"><span class="mpre">aBA</span></span></a><span class="mpre"> </span><a href="#loc_150_29_150_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_29_150_31&#39;)"><span class="hl_varref"><span class="mpre">i#</span></span></a><span class="mpre"> of </span><a name="loc_152_38_152_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_38_152_40&#39;)"><span class="hl_vardecl"><span class="mpre">r#</span></span></a><span class="mpre"> -&gt; (</span><span class="hl_conref"><span class="mpre">W16#</span></span><span class="mpre"> </span><a href="#loc_152_38_152_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_38_152_40&#39;)"><span class="hl_varref"><span class="mpre">r#</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_150_1_150_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_12&#39;)"><span class="mpre">unsafeIndex</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Unchecked write of a mutable array.  May return garbage or crash</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- on an out-of-bounds access.</span></span><span class="mpre">
</span><a href="#loc_158_1_158_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_1_158_12&#39;)"><span class="mpre">unsafeWrite</span></a><span class="mpre"> :: </span><a href="#loc_91_6_91_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_6_91_12&#39;)"><span class="hl_tyconref"><span class="mpre">MArray</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Word16</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ST</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_158_1_158_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_1_158_12&#39;)"><span class="hl_fundecl"><span class="mpre">unsafeWrite</span></span></a><span class="mpre"> </span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 158, srcSpanStartColumn = 13, srcSpanEndLine = 158, srcSpanEndColumn = 23}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 158, srcSpanStartColumn = 19, srcSpanEndLine = 158, srcSpanEndColumn = 20},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 158, src"><span class="mpre">MArray{..}</span></span><span class="mpre"> </span><span class="hl_specname"><span class="mpre">i</span></span><span class="mpre">@(</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_158_30_158_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_30_158_32&#39;)"><span class="hl_vardecl"><span class="mpre">i#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">W16#</span></span><span class="mpre"> </span><a name="loc_158_40_158_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_40_158_42&#39;)"><span class="hl_vardecl"><span class="mpre">e#</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">ST</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_158_52_158_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_52_158_55&#39;)"><span class="hl_vardecl"><span class="mpre">s1#</span></span></a><span class="mpre"> -&gt;
  CHECK_BOUNDS(&quot;unsafeWrite&quot;,maLen,i)
  case </span><span class="hl_varref"><span class="mpre">writeWord16Array#</span></span><span class="mpre"> </span><a href="#loc_92_7_92_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_7_92_11&#39;)"><span class="hl_varref"><span class="mpre">maBA</span></span></a><span class="mpre"> </span><a href="#loc_158_30_158_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_30_158_32&#39;)"><span class="hl_varref"><span class="mpre">i#</span></span></a><span class="mpre"> </span><a href="#loc_158_40_158_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_40_158_42&#39;)"><span class="hl_varref"><span class="mpre">e#</span></span></a><span class="mpre"> </span><a href="#loc_158_52_158_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_52_158_55&#39;)"><span class="hl_varref"><span class="mpre">s1#</span></span></a><span class="mpre"> of
    </span><a name="loc_161_5_161_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_5_161_8&#39;)"><span class="hl_vardecl"><span class="mpre">s2#</span></span></a><span class="mpre"> -&gt; (# </span><a href="#loc_161_5_161_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_5_161_8&#39;)"><span class="hl_varref"><span class="mpre">s2#</span></span></a><span class="mpre">, </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre"> #)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_158_1_158_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_1_158_12&#39;)"><span class="mpre">unsafeWrite</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Convert an immutable array to a list.</span></span><span class="mpre">
</span><a href="#loc_166_1_166_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_1_166_7&#39;)"><span class="mpre">toList</span></a><span class="mpre"> :: </span><a href="#loc_83_6_83_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_6_83_11&#39;)"><span class="hl_tyconref"><span class="mpre">Array</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">Word16</span></span><span class="mpre">]
</span><a name="loc_166_1_166_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_1_166_7&#39;)"><span class="hl_fundecl"><span class="mpre">toList</span></span></a><span class="mpre"> </span><a name="loc_166_8_166_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_8_166_11&#39;)"><span class="hl_vardecl"><span class="mpre">ary</span></span></a><span class="mpre"> </span><a name="loc_166_12_166_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_12_166_15&#39;)"><span class="hl_vardecl"><span class="mpre">off</span></span></a><span class="mpre"> </span><a name="loc_166_16_166_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_16_166_19&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> = </span><a href="#loc_167_11_167_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_11_167_15&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
    where </span><a name="loc_167_11_167_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_11_167_15&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a name="loc_167_16_167_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_16_167_17&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> | </span><a href="#loc_167_16_167_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_16_167_17&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_166_16_166_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_16_166_19&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">   = </span><a href="#loc_150_1_150_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_12&#39;)"><span class="hl_varref"><span class="mpre">unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_166_8_166_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_8_166_11&#39;)"><span class="hl_varref"><span class="mpre">ary</span></span></a><span class="mpre"> (</span><a href="#loc_166_12_166_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_12_166_15&#39;)"><span class="hl_varref"><span class="mpre">off</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><a href="#loc_167_16_167_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_16_167_17&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_167_11_167_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_11_167_15&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> (</span><a href="#loc_167_16_167_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_16_167_17&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
                 | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = []

</span><span class="hl_comment"><span class="mpre">-- | An empty immutable array.</span></span><span class="mpre">
</span><a href="#loc_172_1_172_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_1_172_6&#39;)"><span class="mpre">empty</span></a><span class="mpre"> :: </span><a href="#loc_83_6_83_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_6_83_11&#39;)"><span class="hl_tyconref"><span class="mpre">Array</span></span></a><span class="mpre">
</span><a name="loc_172_1_172_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_1_172_6&#39;)"><span class="hl_vardecl"><span class="mpre">empty</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">runST</span></span><span class="mpre"> (</span><a href="#loc_115_1_115_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_1_115_4&#39;)"><span class="hl_varref"><span class="mpre">new</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="#loc_133_1_133_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_1_133_13&#39;)"><span class="hl_varref"><span class="mpre">unsafeFreeze</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Run an action in the ST monad and return an immutable array of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- its result.</span></span><span class="mpre">
</span><a href="#loc_177_1_177_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_1_177_4&#39;)"><span class="mpre">run</span></a><span class="mpre"> :: (forall </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">. </span><span class="hl_tyconref"><span class="mpre">ST</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><a href="#loc_91_6_91_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_6_91_12&#39;)"><span class="hl_tyconref"><span class="mpre">MArray</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">)) -&gt; </span><a href="#loc_83_6_83_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_6_83_11&#39;)"><span class="hl_tyconref"><span class="mpre">Array</span></span></a><span class="mpre">
</span><a name="loc_177_1_177_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_1_177_4&#39;)"><span class="hl_fundecl"><span class="mpre">run</span></span></a><span class="mpre"> </span><a name="loc_177_5_177_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_5_177_6&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">runST</span></span><span class="mpre"> (</span><a href="#loc_177_5_177_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_5_177_6&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="#loc_133_1_133_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_1_133_13&#39;)"><span class="hl_varref"><span class="mpre">unsafeFreeze</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Run an action in the ST monad and return an immutable array of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- its result paired with whatever else the action returns.</span></span><span class="mpre">
</span><a href="#loc_182_1_182_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_1_182_5&#39;)"><span class="mpre">run2</span></a><span class="mpre"> :: (forall </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">. </span><span class="hl_tyconref"><span class="mpre">ST</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><a href="#loc_91_6_91_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_6_91_12&#39;)"><span class="hl_tyconref"><span class="mpre">MArray</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)) -&gt; (</span><a href="#loc_83_6_83_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_6_83_11&#39;)"><span class="hl_tyconref"><span class="mpre">Array</span></span></a><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
</span><a name="loc_182_1_182_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_1_182_5&#39;)"><span class="hl_fundecl"><span class="mpre">run2</span></span></a><span class="mpre"> </span><a name="loc_182_6_182_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_6_182_7&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">runST</span></span><span class="mpre"> (do
                 (</span><a name="loc_183_19_183_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_19_183_23&#39;)"><span class="hl_vardecl"><span class="mpre">marr</span></span></a><span class="mpre">,</span><a name="loc_183_24_183_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_24_183_25&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_182_6_182_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_6_182_7&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">
                 </span><a name="loc_184_18_184_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_18_184_21&#39;)"><span class="hl_vardecl"><span class="mpre">arr</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_133_1_133_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_1_133_13&#39;)"><span class="hl_varref"><span class="mpre">unsafeFreeze</span></span></a><span class="mpre"> </span><a href="#loc_183_19_183_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_19_183_23&#39;)"><span class="hl_varref"><span class="mpre">marr</span></span></a><span class="mpre">
                 </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_184_18_184_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_18_184_21&#39;)"><span class="hl_varref"><span class="mpre">arr</span></span></a><span class="mpre">,</span><a href="#loc_183_24_183_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_24_183_25&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">))
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_182_1_182_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_1_182_5&#39;)"><span class="mpre">run2</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Copy some elements of a mutable array.</span></span><span class="mpre">
</span><a href="#loc_195_1_195_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_1_195_6&#39;)"><span class="mpre">copyM</span></a><span class="mpre"> :: </span><a href="#loc_91_6_91_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_6_91_12&#39;)"><span class="hl_tyconref"><span class="mpre">MArray</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">               </span><span class="hl_comment"><span class="mpre">-- ^ Destination</span></span><span class="mpre">
      -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">                    </span><span class="hl_comment"><span class="mpre">-- ^ Destination offset</span></span><span class="mpre">
      -&gt; </span><a href="#loc_91_6_91_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_6_91_12&#39;)"><span class="hl_tyconref"><span class="mpre">MArray</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">               </span><span class="hl_comment"><span class="mpre">-- ^ Source</span></span><span class="mpre">
      -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">                    </span><span class="hl_comment"><span class="mpre">-- ^ Source offset</span></span><span class="mpre">
      -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">                    </span><span class="hl_comment"><span class="mpre">-- ^ Count</span></span><span class="mpre">
      -&gt; </span><span class="hl_tyconref"><span class="mpre">ST</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_195_1_195_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_1_195_6&#39;)"><span class="hl_fundecl"><span class="mpre">copyM</span></span></a><span class="mpre"> </span><a name="loc_195_7_195_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_7_195_11&#39;)"><span class="hl_vardecl"><span class="mpre">dest</span></span></a><span class="mpre"> </span><a name="loc_195_12_195_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_12_195_16&#39;)"><span class="hl_vardecl"><span class="mpre">didx</span></span></a><span class="mpre"> </span><a name="loc_195_17_195_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_17_195_20&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre"> </span><a name="loc_195_21_195_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_21_195_25&#39;)"><span class="hl_vardecl"><span class="mpre">sidx</span></span></a><span class="mpre"> </span><a name="loc_195_26_195_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_26_195_31&#39;)"><span class="hl_vardecl"><span class="mpre">count</span></span></a><span class="mpre">
    | </span><a href="#loc_195_26_195_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_26_195_31&#39;)"><span class="hl_varref"><span class="mpre">count</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> =
#if defined(ASSERTS)
    </span><span class="hl_varref"><span class="mpre">assert</span></span><span class="mpre"> (</span><a href="#loc_195_21_195_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_21_195_25&#39;)"><span class="hl_varref"><span class="mpre">sidx</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_195_26_195_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_26_195_31&#39;)"><span class="hl_varref"><span class="mpre">count</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><a href="#loc_102_5_102_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_5_102_11&#39;)"><span class="hl_varref"><span class="mpre">length</span></span></a><span class="mpre"> </span><a href="#loc_195_17_195_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_17_195_20&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">assert</span></span><span class="mpre"> (</span><a href="#loc_195_12_195_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_12_195_16&#39;)"><span class="hl_varref"><span class="mpre">didx</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_195_26_195_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_26_195_31&#39;)"><span class="hl_varref"><span class="mpre">count</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><a href="#loc_102_5_102_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_5_102_11&#39;)"><span class="hl_varref"><span class="mpre">length</span></span></a><span class="mpre"> </span><a href="#loc_195_7_195_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_7_195_11&#39;)"><span class="hl_varref"><span class="mpre">dest</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre">
#endif
    </span><a href="GHC.IO.html#loc_100_1_100_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_100_1_100_13&#39;)"><span class="hl_varref"><span class="mpre">unsafeIOToST</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">memcpyM</span></span><span class="mpre"> (</span><a href="#loc_92_7_92_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_7_92_11&#39;)"><span class="hl_varref"><span class="mpre">maBA</span></span></a><span class="mpre"> </span><a href="#loc_195_7_195_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_7_195_11&#39;)"><span class="hl_varref"><span class="mpre">dest</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_195_12_195_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_12_195_16&#39;)"><span class="hl_varref"><span class="mpre">didx</span></span></a><span class="mpre">)
                           (</span><a href="#loc_92_7_92_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_7_92_11&#39;)"><span class="hl_varref"><span class="mpre">maBA</span></span></a><span class="mpre"> </span><a href="#loc_195_17_195_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_17_195_20&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_195_21_195_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_21_195_25&#39;)"><span class="hl_varref"><span class="mpre">sidx</span></span></a><span class="mpre">)
                           (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_195_26_195_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_26_195_31&#39;)"><span class="hl_varref"><span class="mpre">count</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_195_1_195_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_1_195_6&#39;)"><span class="mpre">copyM</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Copy some elements of an immutable array.</span></span><span class="mpre">
</span><a href="#loc_215_1_215_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_1_215_6&#39;)"><span class="mpre">copyI</span></a><span class="mpre"> :: </span><a href="#loc_91_6_91_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_6_91_12&#39;)"><span class="hl_tyconref"><span class="mpre">MArray</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">               </span><span class="hl_comment"><span class="mpre">-- ^ Destination</span></span><span class="mpre">
      -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">                    </span><span class="hl_comment"><span class="mpre">-- ^ Destination offset</span></span><span class="mpre">
      -&gt; </span><a href="#loc_83_6_83_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_6_83_11&#39;)"><span class="hl_tyconref"><span class="mpre">Array</span></span></a><span class="mpre">                  </span><span class="hl_comment"><span class="mpre">-- ^ Source</span></span><span class="mpre">
      -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">                    </span><span class="hl_comment"><span class="mpre">-- ^ Source offset</span></span><span class="mpre">
      -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">                    </span><span class="hl_comment"><span class="mpre">-- ^ First offset in destination /not/ to</span></span><span class="mpre">
                                </span><span class="hl_comment"><span class="mpre">-- copy (i.e. /not/ length)</span></span><span class="mpre">
      -&gt; </span><span class="hl_tyconref"><span class="mpre">ST</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_215_1_215_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_1_215_6&#39;)"><span class="hl_fundecl"><span class="mpre">copyI</span></span></a><span class="mpre"> </span><a name="loc_215_7_215_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_7_215_11&#39;)"><span class="hl_vardecl"><span class="mpre">dest</span></span></a><span class="mpre"> </span><a name="loc_215_12_215_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_12_215_14&#39;)"><span class="hl_vardecl"><span class="mpre">i0</span></span></a><span class="mpre"> </span><a name="loc_215_15_215_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_15_215_18&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre"> </span><a name="loc_215_19_215_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_19_215_21&#39;)"><span class="hl_vardecl"><span class="mpre">j0</span></span></a><span class="mpre"> </span><a name="loc_215_22_215_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_22_215_25&#39;)"><span class="hl_vardecl"><span class="mpre">top</span></span></a><span class="mpre">
    | </span><a href="#loc_215_12_215_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_12_215_14&#39;)"><span class="hl_varref"><span class="mpre">i0</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_215_22_215_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_22_215_25&#39;)"><span class="hl_varref"><span class="mpre">top</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="GHC.IO.html#loc_100_1_100_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_100_1_100_13&#39;)"><span class="hl_varref"><span class="mpre">unsafeIOToST</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
                  </span><span class="hl_varref"><span class="mpre">memcpyI</span></span><span class="mpre"> (</span><a href="#loc_92_7_92_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_7_92_11&#39;)"><span class="hl_varref"><span class="mpre">maBA</span></span></a><span class="mpre"> </span><a href="#loc_215_7_215_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_7_215_11&#39;)"><span class="hl_varref"><span class="mpre">dest</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_215_12_215_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_12_215_14&#39;)"><span class="hl_varref"><span class="mpre">i0</span></span></a><span class="mpre">)
                          (</span><a href="#loc_84_7_84_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_7_84_10&#39;)"><span class="hl_varref"><span class="mpre">aBA</span></span></a><span class="mpre"> </span><a href="#loc_215_15_215_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_15_215_18&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_215_19_215_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_19_215_21&#39;)"><span class="hl_varref"><span class="mpre">j0</span></span></a><span class="mpre">)
                          (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> (</span><a href="#loc_215_22_215_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_22_215_25&#39;)"><span class="hl_varref"><span class="mpre">top</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><a href="#loc_215_12_215_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_12_215_14&#39;)"><span class="hl_varref"><span class="mpre">i0</span></span></a><span class="mpre">))
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_215_1_215_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_1_215_6&#39;)"><span class="mpre">copyI</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Compare portions of two arrays for equality.  No bounds checking</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- is performed.</span></span><span class="mpre">
</span><a href="#loc_231_1_231_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_1_231_6&#39;)"><span class="mpre">equal</span></a><span class="mpre"> :: </span><a href="#loc_83_6_83_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_6_83_11&#39;)"><span class="hl_tyconref"><span class="mpre">Array</span></span></a><span class="mpre">                  </span><span class="hl_comment"><span class="mpre">-- ^ First</span></span><span class="mpre">
      -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">                    </span><span class="hl_comment"><span class="mpre">-- ^ Offset into first</span></span><span class="mpre">
      -&gt; </span><a href="#loc_83_6_83_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_6_83_11&#39;)"><span class="hl_tyconref"><span class="mpre">Array</span></span></a><span class="mpre">                  </span><span class="hl_comment"><span class="mpre">-- ^ Second</span></span><span class="mpre">
      -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">                    </span><span class="hl_comment"><span class="mpre">-- ^ Offset into second</span></span><span class="mpre">
      -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">                    </span><span class="hl_comment"><span class="mpre">-- ^ Count</span></span><span class="mpre">
      -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_231_1_231_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_1_231_6&#39;)"><span class="hl_fundecl"><span class="mpre">equal</span></span></a><span class="mpre"> </span><a name="loc_231_7_231_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_7_231_11&#39;)"><span class="hl_vardecl"><span class="mpre">arrA</span></span></a><span class="mpre"> </span><a name="loc_231_12_231_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_12_231_16&#39;)"><span class="hl_vardecl"><span class="mpre">offA</span></span></a><span class="mpre"> </span><a name="loc_231_17_231_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_17_231_21&#39;)"><span class="hl_vardecl"><span class="mpre">arrB</span></span></a><span class="mpre"> </span><a name="loc_231_22_231_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_22_231_26&#39;)"><span class="hl_vardecl"><span class="mpre">offB</span></span></a><span class="mpre"> </span><a name="loc_231_27_231_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_27_231_32&#39;)"><span class="hl_vardecl"><span class="mpre">count</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Unsafe.html#loc_39_1_39_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Unsafe.html#loc_39_1_39_16&#39;)"><span class="hl_varref"><span class="mpre">inlinePerformIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
  </span><a name="loc_232_3_232_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_3_232_4&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">memcmp</span></span><span class="mpre"> (</span><a href="#loc_84_7_84_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_7_84_10&#39;)"><span class="hl_varref"><span class="mpre">aBA</span></span></a><span class="mpre"> </span><a href="#loc_231_7_231_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_7_231_11&#39;)"><span class="hl_varref"><span class="mpre">arrA</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_231_12_231_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_12_231_16&#39;)"><span class="hl_varref"><span class="mpre">offA</span></span></a><span class="mpre">)
                     (</span><a href="#loc_84_7_84_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_7_84_10&#39;)"><span class="hl_varref"><span class="mpre">aBA</span></span></a><span class="mpre"> </span><a href="#loc_231_17_231_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_17_231_21&#39;)"><span class="hl_varref"><span class="mpre">arrB</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_231_22_231_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_22_231_26&#39;)"><span class="hl_varref"><span class="mpre">offB</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_231_27_231_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_27_231_32&#39;)"><span class="hl_varref"><span class="mpre">count</span></span></a><span class="mpre">)
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="Prelude.html#loc_160_3_160_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Prelude.html#loc_160_3_160_5&#39;)"><span class="hl_infix"><span class="mpre">$!</span></span></a><span class="mpre"> </span><a href="#loc_232_3_232_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_3_232_4&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_231_1_231_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_1_231_6&#39;)"><span class="mpre">equal</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="warning" data-warning="DeclForImp (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 237, srcSpanStartColumn = 1, srcSpanEndLine = 238, srcSpanEndColumn = 77}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 237, srcSpanStartColumn = 1, srcSpanEndLine = 237, srcSpanEndColumn = 8},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 237, srcS"><span class="mpre">foreign import ccall unsafe &quot;_hs_text_memcpy&quot; memcpyI
    :: MutableByteArray# s -&gt; CSize -&gt; ByteArray# -&gt; CSize -&gt; CSize -&gt; IO ()</span></span><span class="mpre">

</span><span class="warning" data-warning="DeclForImp (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 240, srcSpanStartColumn = 1, srcSpanEndLine = 241, srcSpanEndColumn = 70}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 240, srcSpanStartColumn = 1, srcSpanEndLine = 240, srcSpanEndColumn = 8},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 240, srcS"><span class="mpre">foreign import ccall unsafe &quot;_hs_text_memcmp&quot; memcmp
    :: ByteArray# -&gt; CSize -&gt; ByteArray# -&gt; CSize -&gt; CSize -&gt; IO CInt</span></span><span class="mpre">

</span><span class="warning" data-warning="DeclForImp (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 243, srcSpanStartColumn = 1, srcSpanEndLine = 245, srcSpanEndColumn = 13}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 243, srcSpanStartColumn = 1, srcSpanEndLine = 243, srcSpanEndColumn = 8},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Array.hs&quot;, srcSpanStartLine = 243, srcS"><span class="mpre">foreign import ccall unsafe &quot;_hs_text_memcpy&quot; memcpyM
    :: MutableByteArray# s -&gt; CSize -&gt; MutableByteArray# s -&gt; CSize -&gt; CSize
    -&gt; IO ()</span></span><span class="mpre">
</span></div></body></html>