<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">module System.Console.Haskeline.Command.Completion(
                            CompletionFunc,
                            Completion,
                            CompletionType(..),
                            completionCmd
                            ) where

import System.Console.Haskeline.Command
import System.Console.Haskeline.Command.Undo
import System.Console.Haskeline.Key
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/Completion.hs&quot;, srcSpanStartLine = 11, srcSpanStartColumn = 8, srcSpanEndLine = 11, srcSpanEndColumn = 37}, srcInfoPoints = []}) &quot;System.Console.Haskeline.Term&quot;"><span class="mpre">System.Console.Haskeline.Term</span></span><span class="mpre"> (Layout(..), CommandMonad(..))
import System.Console.Haskeline.LineState
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/Completion.hs&quot;, srcSpanStartLine = 13, srcSpanStartColumn = 8, srcSpanEndLine = 13, srcSpanEndColumn = 38}, srcInfoPoints = []}) &quot;System.Console.Haskeline.Prefs&quot;"><span class="mpre">System.Console.Haskeline.Prefs</span></span><span class="mpre">
import System.Console.Haskeline.Completion
import System.Console.Haskeline.Monads

import Data.List(</span><a href="Data.List.html#loc_451_1_451_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_451_1_451_10&#39;)"><span class="mpre">transpose</span></a><span class="mpre">, </span><a href="Data.List.html#loc_984_1_984_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_984_1_984_8&#39;)"><span class="mpre">unfoldr</span></a><span class="mpre">)

</span><a href="#loc_20_1_20_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_1_20_14&#39;)"><span class="mpre">useCompletion</span></a><span class="mpre"> :: </span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre"> -&gt; </span><a href="System.Console.Haskeline.Completion.html#loc_34_6_34_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Completion.html#loc_34_6_34_16&#39;)"><span class="hl_tyconref"><span class="mpre">Completion</span></span></a><span class="mpre"> -&gt; </span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre">
</span><a name="loc_20_1_20_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_1_20_14&#39;)"><span class="hl_fundecl"><span class="mpre">useCompletion</span></span></a><span class="mpre"> </span><a name="loc_20_15_20_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_15_20_17&#39;)"><span class="hl_vardecl"><span class="mpre">im</span></span></a><span class="mpre"> </span><a name="loc_20_18_20_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_18_20_19&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = </span><a href="System.Console.Haskeline.LineState.html#loc_208_1_208_13" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_208_1_208_13&#39;)"><span class="hl_varref"><span class="mpre">insertString</span></span></a><span class="mpre"> </span><a href="#loc_21_11_21_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_21_11_21_12&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre"> </span><a href="#loc_20_15_20_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_15_20_17&#39;)"><span class="hl_varref"><span class="mpre">im</span></span></a><span class="mpre">
    where </span><a name="loc_21_11_21_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_21_11_21_12&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> | </span><a href="System.Console.Haskeline.Completion.html#loc_38_25_38_35" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Completion.html#loc_38_25_38_35&#39;)"><span class="hl_varref"><span class="mpre">isFinished</span></span></a><span class="mpre"> </span><a href="#loc_20_18_20_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_18_20_19&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> = </span><a href="System.Console.Haskeline.Completion.html#loc_34_31_34_42" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Completion.html#loc_34_31_34_42&#39;)"><span class="hl_varref"><span class="mpre">replacement</span></span></a><span class="mpre"> </span><a href="#loc_20_18_20_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_18_20_19&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; &quot;</span></span><span class="mpre">
            | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="System.Console.Haskeline.Completion.html#loc_34_31_34_42" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Completion.html#loc_34_31_34_42&#39;)"><span class="hl_varref"><span class="mpre">replacement</span></span></a><span class="mpre"> </span><a href="#loc_20_18_20_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_18_20_19&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">

</span><a href="#loc_26_1_26_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_1_26_17&#39;)"><span class="mpre">askIMCompletions</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/Completion.hs&quot;, srcSpanStartLine = 24, srcSpanStartColumn = 21, srcSpanEndLine = 24, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/Completion.hs&quot;, srcSpanStartLine = 24, srcSpanStartColumn = 36, srcSpanEndLine = 24, srcSpanEndColumn = 38}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {s"><span class="mpre">CommandMonad m =&gt;</span></span><span class="mpre"> 
            </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre"> (</span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre">, [</span><a href="System.Console.Haskeline.Completion.html#loc_34_6_34_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Completion.html#loc_34_6_34_16&#39;)"><span class="hl_tyconref"><span class="mpre">Completion</span></span></a><span class="mpre">])
</span><a name="loc_26_1_26_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_1_26_17&#39;)"><span class="hl_fundecl"><span class="mpre">askIMCompletions</span></span></a><span class="mpre"> (</span><a href="System.Console.Haskeline.LineState.html#loc_169_19_169_24" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_19_169_24&#39;)"><span class="hl_conref"><span class="mpre">IMode</span></span></a><span class="mpre"> </span><a name="loc_26_25_26_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_25_26_27&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> </span><a name="loc_26_28_26_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_28_26_30&#39;)"><span class="hl_vardecl"><span class="mpre">ys</span></span></a><span class="mpre">) = do
    (</span><a name="loc_27_6_27_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_6_27_10&#39;)"><span class="hl_vardecl"><span class="mpre">rest</span></span></a><span class="mpre">, </span><a name="loc_27_12_27_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_12_27_23&#39;)"><span class="hl_vardecl"><span class="mpre">completions</span></span></a><span class="mpre">) &lt;- </span><span class="hl_varref"><span class="mpre">lift</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">runCompletion</span></span><span class="mpre"> (</span><a href="#loc_32_5_32_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_5_32_12&#39;)"><span class="hl_varref"><span class="mpre">withRev</span></span></a><span class="mpre"> </span><a href="System.Console.Haskeline.LineState.html#loc_126_1_126_18" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_126_1_126_18&#39;)"><span class="hl_varref"><span class="mpre">graphemesToString</span></span></a><span class="mpre"> </span><a href="#loc_26_25_26_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_25_26_27&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">,
                                            </span><a href="System.Console.Haskeline.LineState.html#loc_126_1_126_18" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_126_1_126_18&#39;)"><span class="hl_varref"><span class="mpre">graphemesToString</span></span></a><span class="mpre"> </span><a href="#loc_26_28_26_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_28_26_30&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">)
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="System.Console.Haskeline.LineState.html#loc_169_19_169_24" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_19_169_24&#39;)"><span class="hl_conref"><span class="mpre">IMode</span></span></a><span class="mpre"> (</span><a href="#loc_32_5_32_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_5_32_12&#39;)"><span class="hl_varref"><span class="mpre">withRev</span></span></a><span class="mpre"> </span><a href="System.Console.Haskeline.LineState.html#loc_110_1_110_18" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_110_1_110_18&#39;)"><span class="hl_varref"><span class="mpre">stringToGraphemes</span></span></a><span class="mpre"> </span><a href="#loc_27_6_27_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_6_27_10&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre">) </span><a href="#loc_26_28_26_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_28_26_30&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">, </span><a href="#loc_27_12_27_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_12_27_23&#39;)"><span class="hl_varref"><span class="mpre">completions</span></span></a><span class="mpre">)
  where
    </span><a href="#loc_32_5_32_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_5_32_12&#39;)"><span class="mpre">withRev</span></a><span class="mpre"> :: ([</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">] -&gt; [</span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">]) -&gt; [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">] -&gt; [</span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">]
    </span><a name="loc_32_5_32_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_5_32_12&#39;)"><span class="hl_fundecl"><span class="mpre">withRev</span></span></a><span class="mpre"> </span><a name="loc_32_13_32_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_13_32_14&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">reverse</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_32_13_32_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_13_32_14&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">reverse</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Create a &#39;Command&#39; for word completion.</span></span><span class="mpre">
</span><a href="#loc_37_1_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_1_37_14&#39;)"><span class="mpre">completionCmd</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/Completion.hs&quot;, srcSpanStartLine = 35, srcSpanStartColumn = 18, srcSpanEndLine = 36, srcSpanEndColumn = 19}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/Completion.hs&quot;, srcSpanStartLine = 35, srcSpanStartColumn = 18, srcSpanEndLine = 35, srcSpanEndColumn = 19},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">(MonadState Undo m, CommandMonad m)
                =&gt;</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.Key.html#loc_19_6_19_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Key.html#loc_19_6_19_9&#39;)"><span class="hl_tyconref"><span class="mpre">Key</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">KeyCommand</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre"> </span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre">
</span><a name="loc_37_1_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_1_37_14&#39;)"><span class="hl_fundecl"><span class="mpre">completionCmd</span></span></a><span class="mpre"> </span><a name="loc_37_15_37_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_15_37_16&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> = </span><a href="#loc_37_15_37_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_15_37_16&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="System.Console.Haskeline.Command.html#loc_130_1_130_5" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_130_1_130_5&#39;)"><span class="hl_infix"><span class="mpre">+&gt;</span></span></a><span class="mpre"> </span><a href="System.Console.Haskeline.Command.Undo.html#loc_43_1_43_12" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.Undo.html#loc_43_1_43_12&#39;)"><span class="hl_varref"><span class="mpre">saveForUndo</span></span></a><span class="mpre"> </span><a href="System.Console.Haskeline.Command.html#loc_117_3_117_6" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_117_3_117_6&#39;)"><span class="hl_infix"><span class="mpre">&gt;|&gt;</span></span></a><span class="mpre"> \</span><a name="loc_37_41_37_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_41_37_46&#39;)"><span class="hl_vardecl"><span class="mpre">oldIM</span></span></a><span class="mpre"> -&gt; do
    (</span><a name="loc_38_6_38_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_10&#39;)"><span class="hl_vardecl"><span class="mpre">rest</span></span></a><span class="mpre">,</span><a name="loc_38_11_38_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_11_38_13&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_26_1_26_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_1_26_17&#39;)"><span class="hl_varref"><span class="mpre">askIMCompletions</span></span></a><span class="mpre"> </span><a href="#loc_37_41_37_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_41_37_46&#39;)"><span class="hl_varref"><span class="mpre">oldIM</span></span></a><span class="mpre">
    case </span><a href="#loc_38_11_38_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_11_38_13&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre"> of
        [] -&gt; </span><a href="System.Console.Haskeline.Command.html#loc_139_1_139_7" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_139_1_139_7&#39;)"><span class="hl_varref"><span class="mpre">effect</span></span></a><span class="mpre"> </span><a href="System.Console.Haskeline.Command.html#loc_41_17_41_25" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_41_17_41_25&#39;)"><span class="hl_conref"><span class="mpre">RingBell</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_37_41_37_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_41_37_46&#39;)"><span class="hl_varref"><span class="mpre">oldIM</span></span></a><span class="mpre">
        [</span><a name="loc_41_10_41_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_10_41_11&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">] -&gt; </span><a href="System.Console.Haskeline.Command.html#loc_157_1_157_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_157_1_157_9&#39;)"><span class="hl_varref"><span class="mpre">setState</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_20_1_20_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_1_20_14&#39;)"><span class="hl_varref"><span class="mpre">useCompletion</span></span></a><span class="mpre"> </span><a href="#loc_38_6_38_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_10&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre"> </span><a href="#loc_41_10_41_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_10_41_11&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
        _ -&gt; </span><a href="#loc_47_1_47_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_1_47_19&#39;)"><span class="hl_varref"><span class="mpre">presentCompletions</span></span></a><span class="mpre"> </span><a href="#loc_37_15_37_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_15_37_16&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_37_41_37_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_41_37_46&#39;)"><span class="hl_varref"><span class="mpre">oldIM</span></span></a><span class="mpre"> </span><a href="#loc_38_6_38_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_6_38_10&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre"> </span><a href="#loc_38_11_38_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_11_38_13&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">

</span><a href="#loc_47_1_47_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_1_47_19&#39;)"><span class="mpre">presentCompletions</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/Completion.hs&quot;, srcSpanStartLine = 44, srcSpanStartColumn = 23, srcSpanEndLine = 45, srcSpanEndColumn = 11}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/Completion.hs&quot;, srcSpanStartLine = 44, srcSpanStartColumn = 23, srcSpanEndLine = 44, srcSpanEndColumn = 24},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">(MonadReader Prefs m, MonadReader Layout m)
        =&gt;</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.Key.html#loc_19_6_19_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Key.html#loc_19_6_19_9&#39;)"><span class="hl_tyconref"><span class="mpre">Key</span></span></a><span class="mpre"> -&gt; </span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre"> -&gt; </span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre">
            -&gt; [</span><a href="System.Console.Haskeline.Completion.html#loc_34_6_34_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Completion.html#loc_34_6_34_16&#39;)"><span class="hl_tyconref"><span class="mpre">Completion</span></span></a><span class="mpre">] -&gt; </span><a href="System.Console.Haskeline.Command.html#loc_58_6_58_10" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_58_6_58_10&#39;)"><span class="hl_tyconref"><span class="mpre">CmdM</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre">
</span><a name="loc_47_1_47_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_1_47_19&#39;)"><span class="hl_fundecl"><span class="mpre">presentCompletions</span></span></a><span class="mpre"> </span><a name="loc_47_20_47_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_20_47_21&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> </span><a name="loc_47_22_47_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_22_47_27&#39;)"><span class="hl_vardecl"><span class="mpre">oldIM</span></span></a><span class="mpre"> </span><a name="loc_47_28_47_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_28_47_32&#39;)"><span class="hl_vardecl"><span class="mpre">rest</span></span></a><span class="mpre"> </span><a name="loc_47_33_47_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_33_47_35&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre"> = do
    </span><a name="loc_48_5_48_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_5_48_10&#39;)"><span class="hl_vardecl"><span class="mpre">prefs</span></span></a><span class="mpre"> &lt;- </span><a href="System.Console.Haskeline.Monads.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Monads.html#loc_37_5_37_8&#39;)"><span class="hl_varref"><span class="mpre">ask</span></span></a><span class="mpre">
    case </span><span class="hl_varref"><span class="mpre">completionType</span></span><span class="mpre"> </span><a href="#loc_48_5_48_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_5_48_10&#39;)"><span class="hl_varref"><span class="mpre">prefs</span></span></a><span class="mpre"> of
        </span><span class="hl_conref"><span class="mpre">MenuCompletion</span></span><span class="mpre"> -&gt; </span><a href="#loc_58_1_58_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_1_58_15&#39;)"><span class="hl_varref"><span class="mpre">menuCompletion</span></span></a><span class="mpre"> </span><a href="#loc_47_20_47_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_20_47_21&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><a href="#loc_20_1_20_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_1_20_14&#39;)"><span class="hl_varref"><span class="mpre">useCompletion</span></span></a><span class="mpre"> </span><a href="#loc_47_28_47_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_28_47_32&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre">) </span><a href="#loc_47_33_47_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_33_47_35&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">) </span><a href="#loc_47_22_47_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_22_47_27&#39;)"><span class="hl_varref"><span class="mpre">oldIM</span></span></a><span class="mpre">
        </span><span class="hl_conref"><span class="mpre">ListCompletion</span></span><span class="mpre"> -&gt; do
            </span><a name="loc_52_13_52_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_13_52_24&#39;)"><span class="hl_vardecl"><span class="mpre">withPartial</span></span></a><span class="mpre"> &lt;- </span><a href="System.Console.Haskeline.Command.html#loc_157_1_157_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_157_1_157_9&#39;)"><span class="hl_varref"><span class="mpre">setState</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_64_1_64_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_1_64_22&#39;)"><span class="hl_varref"><span class="mpre">makePartialCompletion</span></span></a><span class="mpre"> </span><a href="#loc_47_28_47_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_28_47_32&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre"> </span><a href="#loc_47_33_47_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_33_47_35&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">
            if </span><a href="#loc_52_13_52_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_13_52_24&#39;)"><span class="hl_varref"><span class="mpre">withPartial</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">/=</span></span><span class="mpre"> </span><a href="#loc_47_22_47_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_22_47_27&#39;)"><span class="hl_varref"><span class="mpre">oldIM</span></span></a><span class="mpre">
                then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_52_13_52_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_13_52_24&#39;)"><span class="hl_varref"><span class="mpre">withPartial</span></span></a><span class="mpre">
                else </span><a href="#loc_72_1_72_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_1_72_17&#39;)"><span class="hl_varref"><span class="mpre">pagingCompletion</span></span></a><span class="mpre"> </span><a href="#loc_47_20_47_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_20_47_21&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_48_5_48_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_5_48_10&#39;)"><span class="hl_varref"><span class="mpre">prefs</span></span></a><span class="mpre"> </span><a href="#loc_47_33_47_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_33_47_35&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre"> </span><a href="#loc_52_13_52_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_13_52_24&#39;)"><span class="hl_varref"><span class="mpre">withPartial</span></span></a><span class="mpre">

</span><a href="#loc_58_1_58_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_1_58_15&#39;)"><span class="mpre">menuCompletion</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/Completion.hs&quot;, srcSpanStartLine = 57, srcSpanStartColumn = 19, srcSpanEndLine = 57, srcSpanEndColumn = 29}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/Completion.hs&quot;, srcSpanStartLine = 57, srcSpanStartColumn = 27, srcSpanEndLine = 57, srcSpanEndColumn = 29}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {s"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.Key.html#loc_19_6_19_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Key.html#loc_19_6_19_9&#39;)"><span class="hl_tyconref"><span class="mpre">Key</span></span></a><span class="mpre"> -&gt; [</span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre"> </span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre">
</span><a name="loc_58_1_58_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_1_58_15&#39;)"><span class="hl_fundecl"><span class="mpre">menuCompletion</span></span></a><span class="mpre"> </span><a name="loc_58_16_58_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_16_58_17&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> = </span><a href="#loc_60_9_60_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_9_60_13&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">
    where
        </span><a name="loc_60_9_60_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_9_60_13&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> [] = </span><a href="System.Console.Haskeline.Command.html#loc_157_1_157_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_157_1_157_9&#39;)"><span class="hl_varref"><span class="mpre">setState</span></span></a><span class="mpre">
        </span><a href="#loc_60_9_60_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_9_60_13&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> (</span><a name="loc_61_15_61_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_15_61_16&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_61_17_61_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_17_61_19&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre">) = </span><a href="System.Console.Haskeline.Command.html#loc_160_1_160_7" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_160_1_160_7&#39;)"><span class="hl_varref"><span class="mpre">change</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre"> </span><a href="#loc_61_15_61_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_15_61_16&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">) </span><a href="System.Console.Haskeline.Command.html#loc_117_3_117_6" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_117_3_117_6&#39;)"><span class="hl_infix"><span class="mpre">&gt;|&gt;</span></span></a><span class="mpre"> </span><a href="System.Console.Haskeline.Command.html#loc_126_1_126_4" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_126_1_126_4&#39;)"><span class="hl_varref"><span class="mpre">try</span></span></a><span class="mpre"> (</span><a href="#loc_58_16_58_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_16_58_17&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="System.Console.Haskeline.Command.html#loc_130_1_130_5" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_130_1_130_5&#39;)"><span class="hl_infix"><span class="mpre">+&gt;</span></span></a><span class="mpre"> </span><a href="#loc_60_9_60_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_9_60_13&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a href="#loc_61_17_61_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_17_61_19&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">)

</span><a href="#loc_64_1_64_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_1_64_22&#39;)"><span class="mpre">makePartialCompletion</span></a><span class="mpre"> :: </span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre"> -&gt; [</span><a href="System.Console.Haskeline.Completion.html#loc_34_6_34_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Completion.html#loc_34_6_34_16&#39;)"><span class="hl_tyconref"><span class="mpre">Completion</span></span></a><span class="mpre">] -&gt; </span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre">
</span><a name="loc_64_1_64_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_1_64_22&#39;)"><span class="hl_fundecl"><span class="mpre">makePartialCompletion</span></span></a><span class="mpre"> </span><a name="loc_64_23_64_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_23_64_25&#39;)"><span class="hl_vardecl"><span class="mpre">im</span></span></a><span class="mpre"> </span><a name="loc_64_26_64_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_26_64_37&#39;)"><span class="hl_vardecl"><span class="mpre">completions</span></span></a><span class="mpre"> = </span><a href="System.Console.Haskeline.LineState.html#loc_208_1_208_13" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_208_1_208_13&#39;)"><span class="hl_varref"><span class="mpre">insertString</span></span></a><span class="mpre"> </span><a href="#loc_66_5_66_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_5_66_12&#39;)"><span class="hl_varref"><span class="mpre">partial</span></span></a><span class="mpre"> </span><a href="#loc_64_23_64_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_23_64_25&#39;)"><span class="hl_varref"><span class="mpre">im</span></span></a><span class="mpre">
  where
    </span><a name="loc_66_5_66_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_5_66_12&#39;)"><span class="hl_vardecl"><span class="mpre">partial</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">foldl1</span></span><span class="mpre"> </span><a href="#loc_67_5_67_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_5_67_17&#39;)"><span class="hl_varref"><span class="mpre">commonPrefix</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.Completion.html#loc_34_31_34_42" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Completion.html#loc_34_31_34_42&#39;)"><span class="hl_varref"><span class="mpre">replacement</span></span></a><span class="mpre"> </span><a href="#loc_64_26_64_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_26_64_37&#39;)"><span class="hl_varref"><span class="mpre">completions</span></span></a><span class="mpre">)
    </span><a name="loc_67_5_67_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_5_67_17&#39;)"><span class="hl_fundecl"><span class="mpre">commonPrefix</span></span></a><span class="mpre"> (</span><a name="loc_67_19_67_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_19_67_20&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_67_21_67_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_21_67_23&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre">) (</span><a name="loc_67_26_67_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_26_67_27&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_67_28_67_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_28_67_30&#39;)"><span class="hl_vardecl"><span class="mpre">ds</span></span></a><span class="mpre">) | </span><a href="#loc_67_19_67_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_19_67_20&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_67_26_67_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_26_67_27&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre"> = </span><a href="#loc_67_19_67_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_19_67_20&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_67_5_67_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_5_67_17&#39;)"><span class="hl_varref"><span class="mpre">commonPrefix</span></span></a><span class="mpre"> </span><a href="#loc_67_21_67_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_21_67_23&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre"> </span><a href="#loc_67_28_67_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_28_67_30&#39;)"><span class="hl_varref"><span class="mpre">ds</span></span></a><span class="mpre">
    </span><a href="#loc_67_5_67_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_5_67_17&#39;)"><span class="hl_fundecl"><span class="mpre">commonPrefix</span></span></a><span class="mpre"> _ _ = </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">

</span><a href="#loc_72_1_72_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_1_72_17&#39;)"><span class="mpre">pagingCompletion</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/Completion.hs&quot;, srcSpanStartLine = 70, srcSpanStartColumn = 21, srcSpanEndLine = 70, srcSpanEndColumn = 44}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/Completion.hs&quot;, srcSpanStartLine = 70, srcSpanStartColumn = 42, srcSpanEndLine = 70, srcSpanEndColumn = 44}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {s"><span class="mpre">MonadReader Layout m =&gt;</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.Key.html#loc_19_6_19_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Key.html#loc_19_6_19_9&#39;)"><span class="hl_tyconref"><span class="mpre">Key</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Prefs</span></span><span class="mpre">
                -&gt; [</span><a href="System.Console.Haskeline.Completion.html#loc_34_6_34_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Completion.html#loc_34_6_34_16&#39;)"><span class="hl_tyconref"><span class="mpre">Completion</span></span></a><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">Command</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre"> </span><a href="System.Console.Haskeline.LineState.html#loc_169_6_169_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_169_6_169_16&#39;)"><span class="hl_tyconref"><span class="mpre">InsertMode</span></span></a><span class="mpre">
</span><a name="loc_72_1_72_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_1_72_17&#39;)"><span class="hl_fundecl"><span class="mpre">pagingCompletion</span></span></a><span class="mpre"> </span><a name="loc_72_18_72_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_18_72_19&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> </span><a name="loc_72_20_72_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_20_72_25&#39;)"><span class="hl_vardecl"><span class="mpre">prefs</span></span></a><span class="mpre"> </span><a name="loc_72_26_72_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_26_72_37&#39;)"><span class="hl_vardecl"><span class="mpre">completions</span></span></a><span class="mpre"> = \</span><a name="loc_72_41_72_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_41_72_43&#39;)"><span class="hl_vardecl"><span class="mpre">im</span></span></a><span class="mpre"> -&gt; do
        </span><a name="loc_73_9_73_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_9_73_11&#39;)"><span class="hl_vardecl"><span class="mpre">ls</span></span></a><span class="mpre"> &lt;- </span><a href="System.Console.Haskeline.Monads.html#loc_49_1_49_5" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Monads.html#loc_49_1_49_5&#39;)"><span class="hl_varref"><span class="mpre">asks</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_120_1_120_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_1_120_10&#39;)"><span class="hl_varref"><span class="mpre">makeLines</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.Completion.html#loc_35_25_35_32" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Completion.html#loc_35_25_35_32&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><a href="#loc_72_26_72_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_26_72_37&#39;)"><span class="hl_varref"><span class="mpre">completions</span></span></a><span class="mpre">)
        let </span><a name="loc_74_13_74_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_13_74_23&#39;)"><span class="hl_vardecl"><span class="mpre">pageAction</span></span></a><span class="mpre"> = do
                </span><a href="#loc_86_1_86_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_9&#39;)"><span class="hl_varref"><span class="mpre">askFirst</span></span></a><span class="mpre"> </span><a href="#loc_72_20_72_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_20_72_25&#39;)"><span class="hl_varref"><span class="mpre">prefs</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">length</span></span><span class="mpre"> </span><a href="#loc_72_26_72_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_26_72_37&#39;)"><span class="hl_varref"><span class="mpre">completions</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> 
                            if </span><span class="hl_varref"><span class="mpre">completionPaging</span></span><span class="mpre"> </span><a href="#loc_72_20_72_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_20_72_25&#39;)"><span class="hl_varref"><span class="mpre">prefs</span></span></a><span class="mpre">
                                then </span><a href="#loc_111_1_111_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_1_111_10&#39;)"><span class="hl_varref"><span class="mpre">printPage</span></span></a><span class="mpre"> </span><a href="#loc_73_9_73_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_9_73_11&#39;)"><span class="hl_varref"><span class="mpre">ls</span></span></a><span class="mpre">
                                else </span><a href="System.Console.Haskeline.Command.html#loc_139_1_139_7" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_139_1_139_7&#39;)"><span class="hl_varref"><span class="mpre">effect</span></span></a><span class="mpre"> (</span><a href="System.Console.Haskeline.Command.html#loc_39_17_39_27" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_39_17_39_27&#39;)"><span class="hl_conref"><span class="mpre">PrintLines</span></span></a><span class="mpre"> </span><a href="#loc_73_9_73_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_9_73_11&#39;)"><span class="hl_varref"><span class="mpre">ls</span></span></a><span class="mpre">)
                </span><a href="System.Console.Haskeline.Command.html#loc_157_1_157_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_157_1_157_9&#39;)"><span class="hl_varref"><span class="mpre">setState</span></span></a><span class="mpre"> </span><a href="#loc_72_41_72_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_41_72_43&#39;)"><span class="hl_varref"><span class="mpre">im</span></span></a><span class="mpre">
        if </span><span class="hl_varref"><span class="mpre">listCompletionsImmediately</span></span><span class="mpre"> </span><a href="#loc_72_20_72_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_20_72_25&#39;)"><span class="hl_varref"><span class="mpre">prefs</span></span></a><span class="mpre">
            then </span><a href="#loc_74_13_74_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_13_74_23&#39;)"><span class="hl_varref"><span class="mpre">pageAction</span></span></a><span class="mpre">
            else </span><a href="System.Console.Haskeline.Command.html#loc_139_1_139_7" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_139_1_139_7&#39;)"><span class="hl_varref"><span class="mpre">effect</span></span></a><span class="mpre"> </span><a href="System.Console.Haskeline.Command.html#loc_41_17_41_25" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_41_17_41_25&#39;)"><span class="hl_conref"><span class="mpre">RingBell</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.Command.html#loc_126_1_126_4" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_126_1_126_4&#39;)"><span class="hl_varref"><span class="mpre">try</span></span></a><span class="mpre"> (</span><a href="#loc_72_18_72_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_18_72_19&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="System.Console.Haskeline.Command.html#loc_130_1_130_5" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_130_1_130_5&#39;)"><span class="hl_infix"><span class="mpre">+&gt;</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre"> </span><a href="#loc_74_13_74_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_13_74_23&#39;)"><span class="hl_varref"><span class="mpre">pageAction</span></span></a><span class="mpre">) </span><a href="#loc_72_41_72_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_41_72_43&#39;)"><span class="hl_varref"><span class="mpre">im</span></span></a><span class="mpre">

</span><a href="#loc_86_1_86_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_9&#39;)"><span class="mpre">askFirst</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/Completion.hs&quot;, srcSpanStartLine = 84, srcSpanStartColumn = 13, srcSpanEndLine = 84, srcSpanEndColumn = 23}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/Completion.hs&quot;, srcSpanStartLine = 84, srcSpanStartColumn = 21, srcSpanEndLine = 84, srcSpanEndColumn = 23}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {s"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Prefs</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><a href="System.Console.Haskeline.Command.html#loc_58_6_58_10" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_58_6_58_10&#39;)"><span class="hl_tyconref"><span class="mpre">CmdM</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
            -&gt; </span><a href="System.Console.Haskeline.Command.html#loc_58_6_58_10" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_58_6_58_10&#39;)"><span class="hl_tyconref"><span class="mpre">CmdM</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_86_1_86_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_9&#39;)"><span class="hl_fundecl"><span class="mpre">askFirst</span></span></a><span class="mpre"> </span><a name="loc_86_10_86_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_10_86_15&#39;)"><span class="hl_vardecl"><span class="mpre">prefs</span></span></a><span class="mpre"> </span><a name="loc_86_16_86_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_16_86_17&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_86_18_86_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_18_86_21&#39;)"><span class="hl_vardecl"><span class="mpre">cmd</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_86_16_86_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_16_86_17&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">completionPromptLimit</span></span><span class="mpre"> </span><a href="#loc_86_10_86_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_10_86_15&#39;)"><span class="hl_varref"><span class="mpre">prefs</span></span></a><span class="mpre">) = do
        _ &lt;- </span><a href="System.Console.Haskeline.Command.html#loc_157_1_157_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_157_1_157_9&#39;)"><span class="hl_varref"><span class="mpre">setState</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Message</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Display all &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_86_16_86_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_16_86_17&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">
                                 </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; possibilities? (y or n)&quot;</span></span><span class="mpre">)
        </span><a href="System.Console.Haskeline.Command.html#loc_113_1_113_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_113_1_113_14&#39;)"><span class="hl_varref"><span class="mpre">keyChoiceCmdM</span></span></a><span class="mpre"> [
            </span><a href="System.Console.Haskeline.Key.html#loc_54_1_54_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Key.html#loc_54_1_54_11&#39;)"><span class="hl_varref"><span class="mpre">simpleChar</span></span></a><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;y&#39;</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.Command.html#loc_130_1_130_5" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_130_1_130_5&#39;)"><span class="hl_infix"><span class="mpre">+&gt;</span></span></a><span class="mpre"> </span><a href="#loc_86_18_86_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_18_86_21&#39;)"><span class="hl_varref"><span class="mpre">cmd</span></span></a><span class="mpre">
            , </span><a href="System.Console.Haskeline.Key.html#loc_54_1_54_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Key.html#loc_54_1_54_11&#39;)"><span class="hl_varref"><span class="mpre">simpleChar</span></span></a><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;n&#39;</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.Command.html#loc_130_1_130_5" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_130_1_130_5&#39;)"><span class="hl_infix"><span class="mpre">+&gt;</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
            ]
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_86_18_86_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_18_86_21&#39;)"><span class="hl_varref"><span class="mpre">cmd</span></span></a><span class="mpre">

</span><a href="#loc_97_1_97_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_16&#39;)"><span class="mpre">pageCompletions</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/Completion.hs&quot;, srcSpanStartLine = 96, srcSpanStartColumn = 20, srcSpanEndLine = 96, srcSpanEndColumn = 43}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/Completion.hs&quot;, srcSpanStartLine = 96, srcSpanStartColumn = 41, srcSpanEndLine = 96, srcSpanEndColumn = 43}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {s"><span class="mpre">MonadReader Layout m =&gt;</span></span><span class="mpre"> [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">] -&gt; </span><a href="System.Console.Haskeline.Command.html#loc_58_6_58_10" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_58_6_58_10&#39;)"><span class="hl_tyconref"><span class="mpre">CmdM</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_97_1_97_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_16&#39;)"><span class="hl_fundecl"><span class="mpre">pageCompletions</span></span></a><span class="mpre"> [] = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
</span><a href="#loc_97_1_97_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_16&#39;)"><span class="hl_fundecl"><span class="mpre">pageCompletions</span></span></a><span class="mpre"> </span><a name="loc_98_17_98_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_17_98_20&#39;)"><span class="hl_specname"><span class="mpre">wws</span></span></a><span class="mpre">@(</span><a name="loc_98_22_98_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_22_98_23&#39;)"><span class="hl_vardecl"><span class="mpre">w</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_98_24_98_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_24_98_26&#39;)"><span class="hl_vardecl"><span class="mpre">ws</span></span></a><span class="mpre">) = do
    _ &lt;- </span><a href="System.Console.Haskeline.Command.html#loc_157_1_157_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_157_1_157_9&#39;)"><span class="hl_varref"><span class="mpre">setState</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Message</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;----More----&quot;</span></span><span class="mpre">
    </span><a href="System.Console.Haskeline.Command.html#loc_113_1_113_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_113_1_113_14&#39;)"><span class="hl_varref"><span class="mpre">keyChoiceCmdM</span></span></a><span class="mpre"> [
        </span><a href="System.Console.Haskeline.Key.html#loc_54_1_54_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Key.html#loc_54_1_54_11&#39;)"><span class="hl_varref"><span class="mpre">simpleChar</span></span></a><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;\n&#39;</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.Command.html#loc_130_1_130_5" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_130_1_130_5&#39;)"><span class="hl_infix"><span class="mpre">+&gt;</span></span></a><span class="mpre"> </span><a href="#loc_107_5_107_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_5_107_12&#39;)"><span class="hl_varref"><span class="mpre">oneLine</span></span></a><span class="mpre">
        , </span><a href="System.Console.Haskeline.Key.html#loc_45_1_45_10" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Key.html#loc_45_1_45_10&#39;)"><span class="hl_varref"><span class="mpre">simpleKey</span></span></a><span class="mpre"> </span><a href="System.Console.Haskeline.Key.html#loc_38_37_38_44" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Key.html#loc_38_37_38_44&#39;)"><span class="hl_conref"><span class="mpre">DownKey</span></span></a><span class="mpre"> </span><a href="System.Console.Haskeline.Command.html#loc_130_1_130_5" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_130_1_130_5&#39;)"><span class="hl_infix"><span class="mpre">+&gt;</span></span></a><span class="mpre"> </span><a href="#loc_107_5_107_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_5_107_12&#39;)"><span class="hl_varref"><span class="mpre">oneLine</span></span></a><span class="mpre">
        , </span><a href="System.Console.Haskeline.Key.html#loc_54_1_54_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Key.html#loc_54_1_54_11&#39;)"><span class="hl_varref"><span class="mpre">simpleChar</span></span></a><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;q&#39;</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.Command.html#loc_130_1_130_5" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_130_1_130_5&#39;)"><span class="hl_infix"><span class="mpre">+&gt;</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
        , </span><a href="System.Console.Haskeline.Key.html#loc_54_1_54_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Key.html#loc_54_1_54_11&#39;)"><span class="hl_varref"><span class="mpre">simpleChar</span></span></a><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39; &#39;</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.Command.html#loc_130_1_130_5" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_130_1_130_5&#39;)"><span class="hl_infix"><span class="mpre">+&gt;</span></span></a><span class="mpre"> (</span><a href="#loc_108_5_108_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_108_5_108_17&#39;)"><span class="hl_varref"><span class="mpre">clearMessage</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_111_1_111_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_1_111_10&#39;)"><span class="hl_varref"><span class="mpre">printPage</span></span></a><span class="mpre"> </span><a href="#loc_98_17_98_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_17_98_20&#39;)"><span class="hl_varref"><span class="mpre">wws</span></span></a><span class="mpre">)
        ]
  where
    </span><a name="loc_107_5_107_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_5_107_12&#39;)"><span class="hl_vardecl"><span class="mpre">oneLine</span></span></a><span class="mpre"> = </span><a href="#loc_108_5_108_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_108_5_108_17&#39;)"><span class="hl_varref"><span class="mpre">clearMessage</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.Command.html#loc_139_1_139_7" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_139_1_139_7&#39;)"><span class="hl_varref"><span class="mpre">effect</span></span></a><span class="mpre"> (</span><a href="System.Console.Haskeline.Command.html#loc_39_17_39_27" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_39_17_39_27&#39;)"><span class="hl_conref"><span class="mpre">PrintLines</span></span></a><span class="mpre"> [</span><a href="#loc_98_22_98_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_22_98_23&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre">]) </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_97_1_97_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_16&#39;)"><span class="hl_varref"><span class="mpre">pageCompletions</span></span></a><span class="mpre"> </span><a href="#loc_98_24_98_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_24_98_26&#39;)"><span class="hl_varref"><span class="mpre">ws</span></span></a><span class="mpre">
    </span><a name="loc_108_5_108_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_108_5_108_17&#39;)"><span class="hl_vardecl"><span class="mpre">clearMessage</span></span></a><span class="mpre"> = </span><a href="System.Console.Haskeline.Command.html#loc_139_1_139_7" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_139_1_139_7&#39;)"><span class="hl_varref"><span class="mpre">effect</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.Command.html#loc_38_15_38_25" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_38_15_38_25&#39;)"><span class="hl_conref"><span class="mpre">LineChange</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre"> ([],[])

</span><a href="#loc_111_1_111_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_1_111_10&#39;)"><span class="mpre">printPage</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/Completion.hs&quot;, srcSpanStartLine = 110, srcSpanStartColumn = 14, srcSpanEndLine = 110, srcSpanEndColumn = 37}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/Completion.hs&quot;, srcSpanStartLine = 110, srcSpanStartColumn = 35, srcSpanEndLine = 110, srcSpanEndColumn = 37}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpa"><span class="mpre">MonadReader Layout m =&gt;</span></span><span class="mpre"> [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">] -&gt; </span><a href="System.Console.Haskeline.Command.html#loc_58_6_58_10" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_58_6_58_10&#39;)"><span class="hl_tyconref"><span class="mpre">CmdM</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_111_1_111_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_1_111_10&#39;)"><span class="hl_fundecl"><span class="mpre">printPage</span></span></a><span class="mpre"> </span><a name="loc_111_11_111_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_11_111_13&#39;)"><span class="hl_vardecl"><span class="mpre">ls</span></span></a><span class="mpre"> = do
    </span><a name="loc_112_5_112_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_5_112_11&#39;)"><span class="hl_vardecl"><span class="mpre">layout</span></span></a><span class="mpre"> &lt;- </span><a href="System.Console.Haskeline.Monads.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Monads.html#loc_37_5_37_8&#39;)"><span class="hl_varref"><span class="mpre">ask</span></span></a><span class="mpre">
    let (</span><a name="loc_113_10_113_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_10_113_12&#39;)"><span class="hl_vardecl"><span class="mpre">ps</span></span></a><span class="mpre">,</span><a name="loc_113_13_113_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_13_113_17&#39;)"><span class="hl_vardecl"><span class="mpre">rest</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">splitAt</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">height</span></span><span class="mpre"> </span><a href="#loc_112_5_112_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_5_112_11&#39;)"><span class="hl_varref"><span class="mpre">layout</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><a href="#loc_111_11_111_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_11_111_13&#39;)"><span class="hl_varref"><span class="mpre">ls</span></span></a><span class="mpre">
    </span><a href="System.Console.Haskeline.Command.html#loc_139_1_139_7" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_139_1_139_7&#39;)"><span class="hl_varref"><span class="mpre">effect</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.Command.html#loc_39_17_39_27" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.Command.html#loc_39_17_39_27&#39;)"><span class="hl_conref"><span class="mpre">PrintLines</span></span></a><span class="mpre"> </span><a href="#loc_113_10_113_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_10_113_12&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">
    </span><a href="#loc_97_1_97_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_16&#39;)"><span class="hl_varref"><span class="mpre">pageCompletions</span></span></a><span class="mpre"> </span><a href="#loc_113_13_113_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_13_113_17&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-----------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Splitting the list of completions into lines for paging.</span></span><span class="mpre">
</span><a href="#loc_120_1_120_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_1_120_10&#39;)"><span class="mpre">makeLines</span></a><span class="mpre"> :: [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">Layout</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_120_1_120_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_1_120_10&#39;)"><span class="hl_fundecl"><span class="mpre">makeLines</span></span></a><span class="mpre"> </span><a name="loc_120_11_120_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_11_120_13&#39;)"><span class="hl_vardecl"><span class="mpre">ws</span></span></a><span class="mpre"> </span><a name="loc_120_14_120_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_14_120_20&#39;)"><span class="hl_vardecl"><span class="mpre">layout</span></span></a><span class="mpre"> = let
    </span><a name="loc_121_5_121_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_5_121_14&#39;)"><span class="hl_vardecl"><span class="mpre">minColPad</span></span></a><span class="mpre"> = </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">
    </span><a name="loc_122_5_122_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_5_122_15&#39;)"><span class="hl_vardecl"><span class="mpre">printWidth</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">width</span></span><span class="mpre"> </span><a href="#loc_120_14_120_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_14_120_20&#39;)"><span class="hl_varref"><span class="mpre">layout</span></span></a><span class="mpre">
    </span><a name="loc_123_5_123_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_5_123_14&#39;)"><span class="hl_vardecl"><span class="mpre">maxLength</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">min</span></span><span class="mpre"> </span><a href="#loc_122_5_122_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_5_122_15&#39;)"><span class="hl_varref"><span class="mpre">printWidth</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">maximum</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">length</span></span><span class="mpre"> </span><a href="#loc_120_11_120_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_11_120_13&#39;)"><span class="hl_varref"><span class="mpre">ws</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_121_5_121_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_5_121_14&#39;)"><span class="hl_varref"><span class="mpre">minColPad</span></span></a><span class="mpre">)
    </span><a name="loc_124_5_124_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_5_124_12&#39;)"><span class="hl_vardecl"><span class="mpre">numCols</span></span></a><span class="mpre"> = </span><a href="#loc_122_5_122_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_5_122_15&#39;)"><span class="hl_varref"><span class="mpre">printWidth</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`div`</span></span><span class="mpre"> </span><a href="#loc_123_5_123_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_5_123_14&#39;)"><span class="hl_varref"><span class="mpre">maxLength</span></span></a><span class="mpre">
    </span><a name="loc_125_5_125_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_5_125_7&#39;)"><span class="hl_vardecl"><span class="mpre">ls</span></span></a><span class="mpre"> = if </span><a href="#loc_123_5_123_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_5_123_14&#39;)"><span class="hl_varref"><span class="mpre">maxLength</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_122_5_122_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_5_122_15&#39;)"><span class="hl_varref"><span class="mpre">printWidth</span></span></a><span class="mpre">
                    then </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> []) </span><a href="#loc_120_11_120_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_11_120_13&#39;)"><span class="hl_varref"><span class="mpre">ws</span></span></a><span class="mpre">
                    else </span><a href="#loc_152_1_152_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_1_152_16&#39;)"><span class="hl_varref"><span class="mpre">splitIntoGroups</span></span></a><span class="mpre"> </span><a href="#loc_124_5_124_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_5_124_12&#39;)"><span class="hl_varref"><span class="mpre">numCols</span></span></a><span class="mpre"> </span><a href="#loc_120_11_120_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_11_120_13&#39;)"><span class="hl_varref"><span class="mpre">ws</span></span></a><span class="mpre">
    in </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><a href="#loc_134_1_134_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_1_134_9&#39;)"><span class="hl_varref"><span class="mpre">padWords</span></span></a><span class="mpre"> </span><a href="#loc_123_5_123_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_5_123_14&#39;)"><span class="hl_varref"><span class="mpre">maxLength</span></span></a><span class="mpre">) </span><a href="#loc_125_5_125_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_5_125_7&#39;)"><span class="hl_varref"><span class="mpre">ls</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- Add spaces to the end of each word so that it takes up the given length.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Don&#39;t padd the word in the last column, since printing a space in the last column</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- causes a line wrap on some terminals.</span></span><span class="mpre">
</span><a href="#loc_134_1_134_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_1_134_9&#39;)"><span class="mpre">padWords</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
</span><a name="loc_134_1_134_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_1_134_9&#39;)"><span class="hl_fundecl"><span class="mpre">padWords</span></span></a><span class="mpre"> _ [</span><a name="loc_134_13_134_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_13_134_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">] = </span><a href="#loc_134_13_134_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_13_134_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
</span><a href="#loc_134_1_134_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_1_134_9&#39;)"><span class="hl_fundecl"><span class="mpre">padWords</span></span></a><span class="mpre"> _ [] = </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">
</span><a href="#loc_134_1_134_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_1_134_9&#39;)"><span class="hl_fundecl"><span class="mpre">padWords</span></span></a><span class="mpre"> </span><a name="loc_136_10_136_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_10_136_13&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> (</span><a name="loc_136_15_136_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_15_136_16&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_136_17_136_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_17_136_19&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) = </span><a href="#loc_136_15_136_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_15_136_16&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">replicate</span></span><span class="mpre"> (</span><a href="#loc_136_10_136_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_10_136_13&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="#loc_143_9_143_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_9_143_16&#39;)"><span class="hl_varref"><span class="mpre">glength</span></span></a><span class="mpre"> </span><a href="#loc_136_15_136_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_15_136_16&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) </span><span class="hl_char"><span class="mpre">&#39; &#39;</span></span><span class="mpre">
                        </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_134_1_134_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_1_134_9&#39;)"><span class="hl_varref"><span class="mpre">padWords</span></span></a><span class="mpre"> </span><a href="#loc_136_10_136_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_10_136_13&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><a href="#loc_136_17_136_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_17_136_19&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
    where
        </span><span class="hl_comment"><span class="mpre">-- kludge: compute the length in graphemes, not chars.</span></span><span class="mpre">
        </span><span class="hl_comment"><span class="mpre">-- but don&#39;t use graphemes for the max length, since I&#39;m not convinced</span></span><span class="mpre">
        </span><span class="hl_comment"><span class="mpre">-- that would work correctly. (This way, the worst that can happen is</span></span><span class="mpre">
        </span><span class="hl_comment"><span class="mpre">-- that columns are longer than necessary.)</span></span><span class="mpre">
        </span><a name="loc_143_9_143_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_9_143_16&#39;)"><span class="hl_vardecl"><span class="mpre">glength</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">length</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="System.Console.Haskeline.LineState.html#loc_110_1_110_18" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Console.Haskeline.LineState.html#loc_110_1_110_18&#39;)"><span class="hl_varref"><span class="mpre">stringToGraphemes</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- Split xs into rows of length n,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- such that the list increases incrementally along the columns.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- e.g.: splitIntoGroups 4 [1..11] ==</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [[1,4,7,10]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- ,[2,5,8,11]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- ,[3,6,9]]</span></span><span class="mpre">
</span><a href="#loc_152_1_152_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_1_152_16&#39;)"><span class="mpre">splitIntoGroups</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">] -&gt; [[</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">]]
</span><a name="loc_152_1_152_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_1_152_16&#39;)"><span class="hl_fundecl"><span class="mpre">splitIntoGroups</span></span></a><span class="mpre"> </span><a name="loc_152_17_152_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_17_152_18&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_152_19_152_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_19_152_21&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> = </span><a href="Data.List.html#loc_451_1_451_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_451_1_451_10&#39;)"><span class="hl_varref"><span class="mpre">transpose</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.List.html#loc_984_1_984_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_984_1_984_8&#39;)"><span class="hl_varref"><span class="mpre">unfoldr</span></span></a><span class="mpre"> </span><a href="#loc_154_9_154_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_9_154_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_152_19_152_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_19_152_21&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
    where
        </span><a name="loc_154_9_154_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_9_154_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> [] = </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
        </span><a href="#loc_154_9_154_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_9_154_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_155_11_155_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_11_155_13&#39;)"><span class="hl_vardecl"><span class="mpre">ys</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">splitAt</span></span><span class="mpre"> </span><a href="#loc_156_9_156_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_9_156_10&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_155_11_155_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_11_155_13&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">)
        </span><a name="loc_156_9_156_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_9_156_10&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> = </span><a href="#loc_160_1_160_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_1_160_8&#39;)"><span class="hl_varref"><span class="mpre">ceilDiv</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">length</span></span><span class="mpre"> </span><a href="#loc_152_19_152_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_19_152_21&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">) </span><a href="#loc_152_17_152_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_17_152_18&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- ceilDiv m n is the smallest k such that k * n &gt;= m.</span></span><span class="mpre">
</span><a href="#loc_160_1_160_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_1_160_8&#39;)"><span class="mpre">ceilDiv</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/Completion.hs&quot;, srcSpanStartLine = 159, srcSpanStartColumn = 12, srcSpanEndLine = 159, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/haskeline-0.7.1.2/System/Console/Haskeline/Command/Completion.hs&quot;, srcSpanStartLine = 159, srcSpanStartColumn = 23, srcSpanEndLine = 159, srcSpanEndColumn = 25}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpa"><span class="mpre">Integral a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_160_1_160_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_1_160_8&#39;)"><span class="hl_fundecl"><span class="mpre">ceilDiv</span></span></a><span class="mpre"> </span><a name="loc_160_9_160_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_9_160_10&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> </span><a name="loc_160_11_160_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_11_160_12&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> | </span><a href="#loc_160_9_160_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_9_160_10&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`rem`</span></span><span class="mpre"> </span><a href="#loc_160_11_160_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_11_160_12&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">    =  </span><a href="#loc_160_9_160_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_9_160_10&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`div`</span></span><span class="mpre"> </span><a href="#loc_160_11_160_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_11_160_12&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">
            | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">         =  </span><a href="#loc_160_9_160_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_9_160_10&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`div`</span></span><span class="mpre"> </span><a href="#loc_160_11_160_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_11_160_12&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">


</span></div></body></html>