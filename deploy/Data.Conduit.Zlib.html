<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE FlexibleContexts #-}
{-# LANGUAGE RankNTypes #-}
</span><span class="hl_comment"><span class="mpre">-- | Streaming compression and decompression using conduits.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Parts of this code were taken from zlib-enum and adapted for conduits.</span></span><span class="mpre">
module Data.Conduit.Zlib (
    </span><span class="hl_comment"><span class="mpre">-- * Conduits</span></span><span class="mpre">
    compress, decompress, gzip, ungzip,
    </span><span class="hl_comment"><span class="mpre">-- * Flushing</span></span><span class="mpre">
    compressFlush, decompressFlush,
    </span><span class="hl_comment"><span class="mpre">-- * Re-exported from zlib-bindings</span></span><span class="mpre">
    WindowBits (..), defaultWindowBits
) where

import Data.Streaming.Zlib
import Data.Conduit
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 17, srcSpanStartColumn = 8, srcSpanEndLine = 17, srcSpanEndColumn = 23}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> (ByteString)
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 18, srcSpanStartColumn = 18, srcSpanEndLine = 18, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> as S
import Control.Monad (</span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="mpre">unless</span></a><span class="mpre">, </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="mpre">liftM</span></a><span class="mpre">)
import Control.Monad.Trans.Class (</span><a href="Control.Monad.Trans.Class.html#loc_49_5_49_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_49_5_49_9&#39;)"><span class="mpre">lift</span></a><span class="mpre">, </span><a href="Control.Monad.Trans.Class.html#loc_47_7_47_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_47_7_47_17&#39;)"><span class="mpre">MonadTrans</span></a><span class="mpre">)
import Control.Monad.Primitive (</span><a href="Control.Monad.Primitive.html#loc_32_18_32_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Primitive.html#loc_32_18_32_27&#39;)"><span class="mpre">PrimMonad</span></a><span class="mpre">, </span><a href="Control.Monad.Primitive.html#loc_83_1_83_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Primitive.html#loc_83_1_83_17&#39;)"><span class="mpre">unsafePrimToPrim</span></a><span class="mpre">)
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 22, srcSpanStartColumn = 8, srcSpanEndLine = 22, srcSpanEndColumn = 26}, srcInfoPoints = []}) &quot;Control.Monad.Base&quot;"><span class="mpre">Control.Monad.Base</span></span><span class="mpre"> (MonadBase, liftBase)
import Control.Monad.Trans.Resource (</span><a href="Control.Monad.Catch.html#loc_116_18_116_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Catch.html#loc_116_18_116_28&#39;)"><span class="mpre">MonadThrow</span></a><span class="mpre">, </span><a href="Control.Monad.Trans.Resource.html#loc_366_1_366_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_366_1_366_11&#39;)"><span class="mpre">monadThrow</span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Gzip compression with default parameters.</span></span><span class="mpre">
</span><a href="#loc_27_1_27_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_1_27_5&#39;)"><span class="mpre">gzip</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 26, srcSpanStartColumn = 9, srcSpanEndLine = 26, srcSpanEndColumn = 60}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 26, srcSpanStartColumn = 9, srcSpanEndLine = 26, srcSpanEndColumn = 10},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, src"><span class="mpre">(MonadThrow m, MonadBase base m, PrimMonad base) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre">
</span><a name="loc_27_1_27_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_1_27_5&#39;)"><span class="hl_vardecl"><span class="mpre">gzip</span></span></a><span class="mpre"> = </span><a href="#loc_103_1_103_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_1_103_9&#39;)"><span class="hl_varref"><span class="mpre">compress</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">WindowBits</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">31</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Gzip decompression with default parameters.</span></span><span class="mpre">
</span><a href="#loc_31_1_31_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_31_1_31_7&#39;)"><span class="mpre">ungzip</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 30, srcSpanStartColumn = 11, srcSpanEndLine = 30, srcSpanEndColumn = 62}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 30, srcSpanStartColumn = 11, srcSpanEndLine = 30, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, s"><span class="mpre">(MonadBase base m, PrimMonad base, MonadThrow m) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre">
</span><a name="loc_31_1_31_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_31_1_31_7&#39;)"><span class="hl_vardecl"><span class="mpre">ungzip</span></span></a><span class="mpre"> = </span><a href="#loc_45_1_45_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_1_45_11&#39;)"><span class="hl_varref"><span class="mpre">decompress</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">WindowBits</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">31</span></span><span class="mpre">)

</span><a href="#loc_34_1_34_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_1_34_13&#39;)"><span class="mpre">unsafeLiftIO</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 33, srcSpanStartColumn = 17, srcSpanEndLine = 33, srcSpanEndColumn = 68}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 33, srcSpanStartColumn = 17, srcSpanEndLine = 33, srcSpanEndColumn = 18},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, s"><span class="mpre">(MonadBase base m, PrimMonad base, MonadThrow m) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_34_1_34_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_1_34_13&#39;)"><span class="hl_vardecl"><span class="mpre">unsafeLiftIO</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBase</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.Primitive.html#loc_83_1_83_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Primitive.html#loc_83_1_83_17&#39;)"><span class="hl_varref"><span class="mpre">unsafePrimToPrim</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Decompress (inflate) a stream of &#39;ByteString&#39;s. For example:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;    sourceFile &quot;test.z&quot; $= decompress defaultWindowBits $$ sinkFile &quot;test&quot;</span></span><span class="mpre">

</span><a href="#loc_45_1_45_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_1_45_11&#39;)"><span class="mpre">decompress</span></a><span class="mpre">
    :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 42, srcSpanStartColumn = 8, srcSpanEndLine = 43, srcSpanEndColumn = 7}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 42, srcSpanStartColumn = 8, srcSpanEndLine = 42, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSp"><span class="mpre">(MonadBase base m, PrimMonad base, MonadThrow m)
    =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">WindowBits</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ Zlib parameter (see the zlib-bindings package as well as the zlib C library)</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre">
</span><a name="loc_45_1_45_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_45_1_45_11&#39;)"><span class="hl_vardecl"><span class="mpre">decompress</span></span></a><span class="mpre"> =
    </span><a href="#loc_63_1_63_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_1_63_17&#39;)"><span class="hl_varref"><span class="mpre">helperDecompress</span></span></a><span class="mpre"> (</span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_358_16_358_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_16_358_21&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre">) </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre">) </span><a href="#loc_48_5_48_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_5_48_11&#39;)"><span class="hl_varref"><span class="mpre">yield&#39;</span></span></a><span class="mpre">
  where
    </span><a name="loc_48_5_48_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_5_48_11&#39;)"><span class="hl_fundecl"><span class="mpre">yield&#39;</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_358_26_358_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_26_358_31&#39;)"><span class="hl_conref"><span class="mpre">Flush</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
    </span><a href="#loc_48_5_48_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_5_48_11&#39;)"><span class="hl_fundecl"><span class="mpre">yield&#39;</span></span></a><span class="mpre"> (</span><a href="Data.Conduit.html#loc_358_16_358_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_16_358_21&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_49_19_49_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_19_49_21&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre">) = </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_49_19_49_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_19_49_21&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Same as &#39;decompress&#39;, but allows you to explicitly flush the stream.</span></span><span class="mpre">
</span><a href="#loc_56_1_56_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_1_56_16&#39;)"><span class="mpre">decompressFlush</span></a><span class="mpre">
    :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 53, srcSpanStartColumn = 8, srcSpanEndLine = 54, srcSpanEndColumn = 7}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 53, srcSpanStartColumn = 8, srcSpanEndLine = 53, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSp"><span class="mpre">(MonadBase base m, PrimMonad base, MonadThrow m)
    =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">WindowBits</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ Zlib parameter (see the zlib-bindings package as well as the zlib C library)</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> (</span><a href="Data.Conduit.html#loc_358_6_358_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_6_358_11&#39;)"><span class="hl_tyconref"><span class="mpre">Flush</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><a href="Data.Conduit.html#loc_358_6_358_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_6_358_11&#39;)"><span class="hl_tyconref"><span class="mpre">Flush</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre">)
</span><a name="loc_56_1_56_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_1_56_16&#39;)"><span class="hl_vardecl"><span class="mpre">decompressFlush</span></span></a><span class="mpre"> = </span><a href="#loc_63_1_63_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_1_63_17&#39;)"><span class="hl_varref"><span class="mpre">helperDecompress</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre">

</span><a href="#loc_63_1_63_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_1_63_17&#39;)"><span class="mpre">helperDecompress</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 58, srcSpanStartColumn = 21, srcSpanEndLine = 59, srcSpanEndColumn = 20}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 58, srcSpanStartColumn = 21, srcSpanEndLine = 58, srcSpanEndColumn = 22},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, s"><span class="mpre">(Monad (t m), MonadBase base m, PrimMonad base, MonadThrow m, MonadTrans t)
                 =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> (</span><a href="Data.Conduit.html#loc_358_6_358_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_6_358_11&#39;)"><span class="hl_tyconref"><span class="mpre">Flush</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre">))
                 -&gt; (</span><a href="Data.Conduit.html#loc_358_6_358_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_6_358_11&#39;)"><span class="hl_tyconref"><span class="mpre">Flush</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">)
                 -&gt; </span><span class="hl_tyconref"><span class="mpre">WindowBits</span></span><span class="mpre">
                 -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_63_1_63_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_1_63_17&#39;)"><span class="hl_fundecl"><span class="mpre">helperDecompress</span></span></a><span class="mpre"> </span><a name="loc_63_18_63_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_18_63_24&#39;)"><span class="hl_vardecl"><span class="mpre">await&#39;</span></span></a><span class="mpre"> </span><a name="loc_63_25_63_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_25_63_31&#39;)"><span class="hl_vardecl"><span class="mpre">yield&#39;</span></span></a><span class="mpre"> </span><a name="loc_63_32_63_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_32_63_38&#39;)"><span class="hl_vardecl"><span class="mpre">config</span></span></a><span class="mpre"> =
    </span><a href="#loc_63_18_63_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_18_63_24&#39;)"><span class="hl_varref"><span class="mpre">await&#39;</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">) </span><a href="#loc_66_5_66_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_5_66_10&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre">
  where
    </span><a name="loc_66_5_66_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_5_66_10&#39;)"><span class="hl_fundecl"><span class="mpre">start</span></span></a><span class="mpre"> </span><a name="loc_66_11_66_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_11_66_16&#39;)"><span class="hl_vardecl"><span class="mpre">input</span></span></a><span class="mpre"> = do
        </span><a name="loc_67_9_67_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_9_67_12&#39;)"><span class="hl_vardecl"><span class="mpre">inf</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_49_5_49_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_49_5_49_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_34_1_34_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_1_34_13&#39;)"><span class="hl_varref"><span class="mpre">unsafeLiftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Streaming.Zlib.html#loc_103_1_103_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Zlib.html#loc_103_1_103_12&#39;)"><span class="hl_varref"><span class="mpre">initInflate</span></span></a><span class="mpre"> </span><a href="#loc_63_32_63_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_32_63_38&#39;)"><span class="hl_varref"><span class="mpre">config</span></span></a><span class="mpre">
        </span><a href="#loc_79_5_79_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_5_79_9&#39;)"><span class="hl_varref"><span class="mpre">push</span></span></a><span class="mpre"> </span><a href="#loc_67_9_67_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_9_67_12&#39;)"><span class="hl_varref"><span class="mpre">inf</span></span></a><span class="mpre"> </span><a href="#loc_66_11_66_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_11_66_16&#39;)"><span class="hl_varref"><span class="mpre">input</span></span></a><span class="mpre">

    </span><a name="loc_70_5_70_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_5_70_13&#39;)"><span class="hl_fundecl"><span class="mpre">continue</span></span></a><span class="mpre"> </span><a name="loc_70_14_70_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_14_70_17&#39;)"><span class="hl_vardecl"><span class="mpre">inf</span></span></a><span class="mpre"> = </span><a href="#loc_63_18_63_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_18_63_24&#39;)"><span class="hl_varref"><span class="mpre">await&#39;</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> (</span><a href="#loc_90_5_90_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_5_90_10&#39;)"><span class="hl_varref"><span class="mpre">close</span></span></a><span class="mpre"> </span><a href="#loc_70_14_70_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_14_70_17&#39;)"><span class="hl_varref"><span class="mpre">inf</span></span></a><span class="mpre">) (</span><a href="#loc_79_5_79_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_5_79_9&#39;)"><span class="hl_varref"><span class="mpre">push</span></span></a><span class="mpre"> </span><a href="#loc_70_14_70_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_14_70_17&#39;)"><span class="hl_varref"><span class="mpre">inf</span></span></a><span class="mpre">)

    </span><a name="loc_72_5_72_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_5_72_13&#39;)"><span class="hl_fundecl"><span class="mpre">goPopper</span></span></a><span class="mpre"> </span><a name="loc_72_14_72_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_14_72_20&#39;)"><span class="hl_vardecl"><span class="mpre">popper</span></span></a><span class="mpre"> = do
        </span><a name="loc_73_9_73_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_9_73_12&#39;)"><span class="hl_vardecl"><span class="mpre">mbs</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_49_5_49_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_49_5_49_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_34_1_34_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_1_34_13&#39;)"><span class="hl_varref"><span class="mpre">unsafeLiftIO</span></span></a><span class="mpre"> </span><a href="#loc_72_14_72_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_14_72_20&#39;)"><span class="hl_varref"><span class="mpre">popper</span></span></a><span class="mpre">
        case </span><a href="#loc_73_9_73_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_9_73_12&#39;)"><span class="hl_varref"><span class="mpre">mbs</span></span></a><span class="mpre"> of
            </span><a href="Data.Streaming.Zlib.html#loc_194_18_194_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Zlib.html#loc_194_18_194_24&#39;)"><span class="hl_conref"><span class="mpre">PRDone</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
            </span><a href="Data.Streaming.Zlib.html#loc_195_18_195_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Zlib.html#loc_195_18_195_24&#39;)"><span class="hl_conref"><span class="mpre">PRNext</span></span></a><span class="mpre"> </span><a name="loc_76_20_76_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_20_76_22&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_63_25_63_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_25_63_31&#39;)"><span class="hl_varref"><span class="mpre">yield&#39;</span></span></a><span class="mpre"> (</span><a href="Data.Conduit.html#loc_358_16_358_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_16_358_21&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_76_20_76_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_20_76_22&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_72_5_72_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_5_72_13&#39;)"><span class="hl_varref"><span class="mpre">goPopper</span></span></a><span class="mpre"> </span><a href="#loc_72_14_72_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_14_72_20&#39;)"><span class="hl_varref"><span class="mpre">popper</span></span></a><span class="mpre">
            </span><a href="Data.Streaming.Zlib.html#loc_196_18_196_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Zlib.html#loc_196_18_196_25&#39;)"><span class="hl_conref"><span class="mpre">PRError</span></span></a><span class="mpre"> </span><a name="loc_77_21_77_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_21_77_22&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> -&gt; </span><a href="Control.Monad.Trans.Class.html#loc_49_5_49_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_49_5_49_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.Resource.html#loc_366_1_366_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_366_1_366_11&#39;)"><span class="hl_varref"><span class="mpre">monadThrow</span></span></a><span class="mpre"> </span><a href="#loc_77_21_77_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_21_77_22&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">

    </span><a name="loc_79_5_79_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_5_79_9&#39;)"><span class="hl_fundecl"><span class="mpre">push</span></span></a><span class="mpre"> </span><a name="loc_79_10_79_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_10_79_13&#39;)"><span class="hl_vardecl"><span class="mpre">inf</span></span></a><span class="mpre"> (</span><a href="Data.Conduit.html#loc_358_16_358_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_16_358_21&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_79_21_79_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_21_79_22&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = do
        </span><a name="loc_80_9_80_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_9_80_15&#39;)"><span class="hl_vardecl"><span class="mpre">popper</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_49_5_49_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_49_5_49_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_34_1_34_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_1_34_13&#39;)"><span class="hl_varref"><span class="mpre">unsafeLiftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Streaming.Zlib.html#loc_174_1_174_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Zlib.html#loc_174_1_174_12&#39;)"><span class="hl_varref"><span class="mpre">feedInflate</span></span></a><span class="mpre"> </span><a href="#loc_79_10_79_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_10_79_13&#39;)"><span class="hl_varref"><span class="mpre">inf</span></span></a><span class="mpre"> </span><a href="#loc_79_21_79_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_21_79_22&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
        </span><a href="#loc_72_5_72_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_5_72_13&#39;)"><span class="hl_varref"><span class="mpre">goPopper</span></span></a><span class="mpre"> </span><a href="#loc_80_9_80_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_9_80_15&#39;)"><span class="hl_varref"><span class="mpre">popper</span></span></a><span class="mpre">
        </span><a href="#loc_70_5_70_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_5_70_13&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> </span><a href="#loc_79_10_79_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_10_79_13&#39;)"><span class="hl_varref"><span class="mpre">inf</span></span></a><span class="mpre">

    </span><a href="#loc_79_5_79_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_5_79_9&#39;)"><span class="hl_fundecl"><span class="mpre">push</span></span></a><span class="mpre"> </span><a name="loc_84_10_84_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_10_84_13&#39;)"><span class="hl_vardecl"><span class="mpre">inf</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_358_26_358_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_26_358_31&#39;)"><span class="hl_conref"><span class="mpre">Flush</span></span></a><span class="mpre"> = do
        </span><a name="loc_85_9_85_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_9_85_14&#39;)"><span class="hl_vardecl"><span class="mpre">chunk</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_49_5_49_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_49_5_49_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_34_1_34_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_1_34_13&#39;)"><span class="hl_varref"><span class="mpre">unsafeLiftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Streaming.Zlib.html#loc_248_1_248_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Zlib.html#loc_248_1_248_13&#39;)"><span class="hl_varref"><span class="mpre">flushInflate</span></span></a><span class="mpre"> </span><a href="#loc_84_10_84_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_10_84_13&#39;)"><span class="hl_varref"><span class="mpre">inf</span></span></a><span class="mpre">
        </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_85_9_85_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_9_85_14&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_63_25_63_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_25_63_31&#39;)"><span class="hl_varref"><span class="mpre">yield&#39;</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_358_16_358_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_16_358_21&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_85_9_85_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_9_85_14&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre">
        </span><a href="#loc_63_25_63_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_25_63_31&#39;)"><span class="hl_varref"><span class="mpre">yield&#39;</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_358_26_358_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_26_358_31&#39;)"><span class="hl_conref"><span class="mpre">Flush</span></span></a><span class="mpre">
        </span><a href="#loc_70_5_70_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_5_70_13&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> </span><a href="#loc_84_10_84_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_10_84_13&#39;)"><span class="hl_varref"><span class="mpre">inf</span></span></a><span class="mpre">

    </span><a name="loc_90_5_90_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_5_90_10&#39;)"><span class="hl_fundecl"><span class="mpre">close</span></span></a><span class="mpre"> </span><a name="loc_90_11_90_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_11_90_14&#39;)"><span class="hl_vardecl"><span class="mpre">inf</span></span></a><span class="mpre"> = do
        </span><a name="loc_91_9_91_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_9_91_14&#39;)"><span class="hl_vardecl"><span class="mpre">chunk</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_49_5_49_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_49_5_49_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_34_1_34_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_1_34_13&#39;)"><span class="hl_varref"><span class="mpre">unsafeLiftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Streaming.Zlib.html#loc_232_1_232_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Zlib.html#loc_232_1_232_14&#39;)"><span class="hl_varref"><span class="mpre">finishInflate</span></span></a><span class="mpre"> </span><a href="#loc_90_11_90_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_11_90_14&#39;)"><span class="hl_varref"><span class="mpre">inf</span></span></a><span class="mpre">
        </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_91_9_91_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_9_91_14&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_63_25_63_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_25_63_31&#39;)"><span class="hl_varref"><span class="mpre">yield&#39;</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_358_16_358_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_16_358_21&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_91_9_91_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_9_91_14&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Compress (deflate) a stream of &#39;ByteString&#39;s. The &#39;WindowBits&#39; also control</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the format (zlib vs. gzip).</span></span><span class="mpre">

</span><a href="#loc_103_1_103_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_1_103_9&#39;)"><span class="mpre">compress</span></a><span class="mpre">
    :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 99, srcSpanStartColumn = 8, srcSpanEndLine = 100, srcSpanEndColumn = 7}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 99, srcSpanStartColumn = 8, srcSpanEndLine = 99, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcS"><span class="mpre">(MonadBase base m, PrimMonad base, MonadThrow m)
    =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">         </span><span class="hl_comment"><span class="mpre">-- ^ Compression level</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">WindowBits</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^ Zlib parameter (see the zlib-bindings package as well as the zlib C library)</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre">
</span><a name="loc_103_1_103_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_1_103_9&#39;)"><span class="hl_vardecl"><span class="mpre">compress</span></span></a><span class="mpre"> =
    </span><a href="#loc_123_1_123_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_1_123_15&#39;)"><span class="hl_varref"><span class="mpre">helperCompress</span></span></a><span class="mpre"> (</span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_358_16_358_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_16_358_21&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre">) </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre">) </span><a href="#loc_106_5_106_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_5_106_11&#39;)"><span class="hl_varref"><span class="mpre">yield&#39;</span></span></a><span class="mpre">
  where
    </span><a name="loc_106_5_106_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_5_106_11&#39;)"><span class="hl_fundecl"><span class="mpre">yield&#39;</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_358_26_358_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_26_358_31&#39;)"><span class="hl_conref"><span class="mpre">Flush</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
    </span><a href="#loc_106_5_106_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_5_106_11&#39;)"><span class="hl_fundecl"><span class="mpre">yield&#39;</span></span></a><span class="mpre"> (</span><a href="Data.Conduit.html#loc_358_16_358_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_16_358_21&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_107_19_107_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_19_107_21&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre">) = </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_107_19_107_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_19_107_21&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Same as &#39;compress&#39;, but allows you to explicitly flush the stream.</span></span><span class="mpre">
</span><a href="#loc_115_1_115_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_1_115_14&#39;)"><span class="mpre">compressFlush</span></a><span class="mpre">
    :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 111, srcSpanStartColumn = 8, srcSpanEndLine = 112, srcSpanEndColumn = 7}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 111, srcSpanStartColumn = 8, srcSpanEndLine = 111, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, s"><span class="mpre">(MonadBase base m, PrimMonad base, MonadThrow m)
    =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">         </span><span class="hl_comment"><span class="mpre">-- ^ Compression level</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">WindowBits</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^ Zlib parameter (see the zlib-bindings package as well as the zlib C library)</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">Conduit</span></span><span class="mpre"> (</span><a href="Data.Conduit.html#loc_358_6_358_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_6_358_11&#39;)"><span class="hl_tyconref"><span class="mpre">Flush</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><a href="Data.Conduit.html#loc_358_6_358_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_6_358_11&#39;)"><span class="hl_tyconref"><span class="mpre">Flush</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre">)
</span><a name="loc_115_1_115_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_1_115_14&#39;)"><span class="hl_vardecl"><span class="mpre">compressFlush</span></span></a><span class="mpre"> = </span><a href="#loc_123_1_123_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_1_123_15&#39;)"><span class="hl_varref"><span class="mpre">helperCompress</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">await</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_180_1_180_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_180_1_180_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre">

</span><a href="#loc_123_1_123_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_1_123_15&#39;)"><span class="mpre">helperCompress</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 117, srcSpanStartColumn = 19, srcSpanEndLine = 118, srcSpanEndColumn = 18}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs&quot;, srcSpanStartLine = 117, srcSpanStartColumn = 19, srcSpanEndLine = 117, srcSpanEndColumn = 20},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/conduit-extra-1.1.1/Data/Conduit/Zlib.hs"><span class="mpre">(Monad (t m), MonadBase base m, PrimMonad base, MonadThrow m, MonadTrans t)
               =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> (</span><a href="Data.Conduit.html#loc_358_6_358_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_6_358_11&#39;)"><span class="hl_tyconref"><span class="mpre">Flush</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre">))
               -&gt; (</span><a href="Data.Conduit.html#loc_358_6_358_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_6_358_11&#39;)"><span class="hl_tyconref"><span class="mpre">Flush</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">)
               -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
               -&gt; </span><span class="hl_tyconref"><span class="mpre">WindowBits</span></span><span class="mpre">
               -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_123_1_123_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_1_123_15&#39;)"><span class="hl_fundecl"><span class="mpre">helperCompress</span></span></a><span class="mpre"> </span><a name="loc_123_16_123_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_16_123_22&#39;)"><span class="hl_vardecl"><span class="mpre">await&#39;</span></span></a><span class="mpre"> </span><a name="loc_123_23_123_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_23_123_29&#39;)"><span class="hl_vardecl"><span class="mpre">yield&#39;</span></span></a><span class="mpre"> </span><a name="loc_123_30_123_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_30_123_35&#39;)"><span class="hl_vardecl"><span class="mpre">level</span></span></a><span class="mpre"> </span><a name="loc_123_36_123_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_36_123_42&#39;)"><span class="hl_vardecl"><span class="mpre">config</span></span></a><span class="mpre"> =
    </span><a href="#loc_123_16_123_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_16_123_22&#39;)"><span class="hl_varref"><span class="mpre">await&#39;</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">) </span><a href="#loc_126_5_126_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_5_126_10&#39;)"><span class="hl_varref"><span class="mpre">start</span></span></a><span class="mpre">
  where
    </span><a name="loc_126_5_126_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_5_126_10&#39;)"><span class="hl_fundecl"><span class="mpre">start</span></span></a><span class="mpre"> </span><a name="loc_126_11_126_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_11_126_16&#39;)"><span class="hl_vardecl"><span class="mpre">input</span></span></a><span class="mpre"> = do
        </span><a name="loc_127_9_127_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_9_127_12&#39;)"><span class="hl_vardecl"><span class="mpre">def</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_49_5_49_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_49_5_49_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_34_1_34_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_1_34_13&#39;)"><span class="hl_varref"><span class="mpre">unsafeLiftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Streaming.Zlib.html#loc_132_1_132_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Zlib.html#loc_132_1_132_12&#39;)"><span class="hl_varref"><span class="mpre">initDeflate</span></span></a><span class="mpre"> </span><a href="#loc_123_30_123_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_30_123_35&#39;)"><span class="hl_varref"><span class="mpre">level</span></span></a><span class="mpre"> </span><a href="#loc_123_36_123_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_36_123_42&#39;)"><span class="hl_varref"><span class="mpre">config</span></span></a><span class="mpre">
        </span><a href="#loc_139_5_139_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_5_139_9&#39;)"><span class="hl_varref"><span class="mpre">push</span></span></a><span class="mpre"> </span><a href="#loc_127_9_127_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_127_9_127_12&#39;)"><span class="hl_varref"><span class="mpre">def</span></span></a><span class="mpre"> </span><a href="#loc_126_11_126_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_11_126_16&#39;)"><span class="hl_varref"><span class="mpre">input</span></span></a><span class="mpre">

    </span><a name="loc_130_5_130_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_5_130_13&#39;)"><span class="hl_fundecl"><span class="mpre">continue</span></span></a><span class="mpre"> </span><a name="loc_130_14_130_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_14_130_17&#39;)"><span class="hl_vardecl"><span class="mpre">def</span></span></a><span class="mpre"> = </span><a href="#loc_123_16_123_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_16_123_22&#39;)"><span class="hl_varref"><span class="mpre">await&#39;</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> (</span><a href="#loc_153_5_153_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_5_153_10&#39;)"><span class="hl_varref"><span class="mpre">close</span></span></a><span class="mpre"> </span><a href="#loc_130_14_130_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_14_130_17&#39;)"><span class="hl_varref"><span class="mpre">def</span></span></a><span class="mpre">) (</span><a href="#loc_139_5_139_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_5_139_9&#39;)"><span class="hl_varref"><span class="mpre">push</span></span></a><span class="mpre"> </span><a href="#loc_130_14_130_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_14_130_17&#39;)"><span class="hl_varref"><span class="mpre">def</span></span></a><span class="mpre">)

    </span><a name="loc_132_5_132_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_5_132_13&#39;)"><span class="hl_fundecl"><span class="mpre">goPopper</span></span></a><span class="mpre"> </span><a name="loc_132_14_132_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_14_132_20&#39;)"><span class="hl_vardecl"><span class="mpre">popper</span></span></a><span class="mpre"> = do
        </span><a name="loc_133_9_133_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_9_133_12&#39;)"><span class="hl_vardecl"><span class="mpre">mbs</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_49_5_49_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_49_5_49_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_34_1_34_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_1_34_13&#39;)"><span class="hl_varref"><span class="mpre">unsafeLiftIO</span></span></a><span class="mpre"> </span><a href="#loc_132_14_132_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_14_132_20&#39;)"><span class="hl_varref"><span class="mpre">popper</span></span></a><span class="mpre">
        case </span><a href="#loc_133_9_133_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_9_133_12&#39;)"><span class="hl_varref"><span class="mpre">mbs</span></span></a><span class="mpre"> of
            </span><a href="Data.Streaming.Zlib.html#loc_194_18_194_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Zlib.html#loc_194_18_194_24&#39;)"><span class="hl_conref"><span class="mpre">PRDone</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
            </span><a href="Data.Streaming.Zlib.html#loc_195_18_195_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Zlib.html#loc_195_18_195_24&#39;)"><span class="hl_conref"><span class="mpre">PRNext</span></span></a><span class="mpre"> </span><a name="loc_136_20_136_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_20_136_22&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_123_23_123_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_23_123_29&#39;)"><span class="hl_varref"><span class="mpre">yield&#39;</span></span></a><span class="mpre"> (</span><a href="Data.Conduit.html#loc_358_16_358_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_16_358_21&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_136_20_136_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_20_136_22&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_132_5_132_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_5_132_13&#39;)"><span class="hl_varref"><span class="mpre">goPopper</span></span></a><span class="mpre"> </span><a href="#loc_132_14_132_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_14_132_20&#39;)"><span class="hl_varref"><span class="mpre">popper</span></span></a><span class="mpre">
            </span><a href="Data.Streaming.Zlib.html#loc_196_18_196_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Zlib.html#loc_196_18_196_25&#39;)"><span class="hl_conref"><span class="mpre">PRError</span></span></a><span class="mpre"> </span><a name="loc_137_21_137_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_21_137_22&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> -&gt; </span><a href="Control.Monad.Trans.Class.html#loc_49_5_49_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_49_5_49_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.Resource.html#loc_366_1_366_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_366_1_366_11&#39;)"><span class="hl_varref"><span class="mpre">monadThrow</span></span></a><span class="mpre"> </span><a href="#loc_137_21_137_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_21_137_22&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">

    </span><a name="loc_139_5_139_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_5_139_9&#39;)"><span class="hl_fundecl"><span class="mpre">push</span></span></a><span class="mpre"> </span><a name="loc_139_10_139_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_10_139_13&#39;)"><span class="hl_vardecl"><span class="mpre">def</span></span></a><span class="mpre"> (</span><a href="Data.Conduit.html#loc_358_16_358_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_16_358_21&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_139_21_139_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_21_139_22&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = do
        </span><a name="loc_140_9_140_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_9_140_15&#39;)"><span class="hl_vardecl"><span class="mpre">popper</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_49_5_49_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_49_5_49_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_34_1_34_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_1_34_13&#39;)"><span class="hl_varref"><span class="mpre">unsafeLiftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Streaming.Zlib.html#loc_261_1_261_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Zlib.html#loc_261_1_261_12&#39;)"><span class="hl_varref"><span class="mpre">feedDeflate</span></span></a><span class="mpre"> </span><a href="#loc_139_10_139_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_10_139_13&#39;)"><span class="hl_varref"><span class="mpre">def</span></span></a><span class="mpre"> </span><a href="#loc_139_21_139_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_21_139_22&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
        </span><a href="#loc_132_5_132_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_5_132_13&#39;)"><span class="hl_varref"><span class="mpre">goPopper</span></span></a><span class="mpre"> </span><a href="#loc_140_9_140_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_9_140_15&#39;)"><span class="hl_varref"><span class="mpre">popper</span></span></a><span class="mpre">
        </span><a href="#loc_130_5_130_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_5_130_13&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> </span><a href="#loc_139_10_139_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_10_139_13&#39;)"><span class="hl_varref"><span class="mpre">def</span></span></a><span class="mpre">

    </span><a href="#loc_139_5_139_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_5_139_9&#39;)"><span class="hl_fundecl"><span class="mpre">push</span></span></a><span class="mpre"> </span><a name="loc_144_10_144_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_10_144_13&#39;)"><span class="hl_vardecl"><span class="mpre">def</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_358_26_358_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_26_358_31&#39;)"><span class="hl_conref"><span class="mpre">Flush</span></span></a><span class="mpre"> = do
        </span><a name="loc_145_9_145_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_145_9_145_15&#39;)"><span class="hl_vardecl"><span class="mpre">mchunk</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_49_5_49_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_49_5_49_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_34_1_34_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_1_34_13&#39;)"><span class="hl_varref"><span class="mpre">unsafeLiftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Streaming.Zlib.html#loc_282_1_282_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Zlib.html#loc_282_1_282_13&#39;)"><span class="hl_varref"><span class="mpre">flushDeflate</span></span></a><span class="mpre"> </span><a href="#loc_144_10_144_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_10_144_13&#39;)"><span class="hl_varref"><span class="mpre">def</span></span></a><span class="mpre">
        case </span><a href="#loc_145_9_145_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_145_9_145_15&#39;)"><span class="hl_varref"><span class="mpre">mchunk</span></span></a><span class="mpre"> of
            </span><a href="Data.Streaming.Zlib.html#loc_194_18_194_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Zlib.html#loc_194_18_194_24&#39;)"><span class="hl_conref"><span class="mpre">PRDone</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
            </span><a href="Data.Streaming.Zlib.html#loc_195_18_195_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Zlib.html#loc_195_18_195_24&#39;)"><span class="hl_conref"><span class="mpre">PRNext</span></span></a><span class="mpre"> </span><a name="loc_148_20_148_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_20_148_21&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_123_23_123_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_23_123_29&#39;)"><span class="hl_varref"><span class="mpre">yield&#39;</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Conduit.html#loc_358_16_358_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_16_358_21&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_148_20_148_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_20_148_21&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
            </span><a href="Data.Streaming.Zlib.html#loc_196_18_196_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Zlib.html#loc_196_18_196_25&#39;)"><span class="hl_conref"><span class="mpre">PRError</span></span></a><span class="mpre"> </span><a name="loc_149_21_149_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_21_149_22&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> -&gt; </span><a href="Control.Monad.Trans.Class.html#loc_49_5_49_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_49_5_49_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.Resource.html#loc_366_1_366_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_366_1_366_11&#39;)"><span class="hl_varref"><span class="mpre">monadThrow</span></span></a><span class="mpre"> </span><a href="#loc_149_21_149_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_21_149_22&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">
        </span><a href="#loc_123_23_123_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_23_123_29&#39;)"><span class="hl_varref"><span class="mpre">yield&#39;</span></span></a><span class="mpre"> </span><a href="Data.Conduit.html#loc_358_26_358_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_26_358_31&#39;)"><span class="hl_conref"><span class="mpre">Flush</span></span></a><span class="mpre">
        </span><a href="#loc_130_5_130_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_5_130_13&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> </span><a href="#loc_144_10_144_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_10_144_13&#39;)"><span class="hl_varref"><span class="mpre">def</span></span></a><span class="mpre">

    </span><a name="loc_153_5_153_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_5_153_10&#39;)"><span class="hl_fundecl"><span class="mpre">close</span></span></a><span class="mpre"> </span><a name="loc_153_11_153_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_11_153_14&#39;)"><span class="hl_vardecl"><span class="mpre">def</span></span></a><span class="mpre"> = do
        </span><a name="loc_154_9_154_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_9_154_15&#39;)"><span class="hl_vardecl"><span class="mpre">mchunk</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_49_5_49_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_49_5_49_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_34_1_34_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_1_34_13&#39;)"><span class="hl_varref"><span class="mpre">unsafeLiftIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Streaming.Zlib.html#loc_271_1_271_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Zlib.html#loc_271_1_271_14&#39;)"><span class="hl_varref"><span class="mpre">finishDeflate</span></span></a><span class="mpre"> </span><a href="#loc_153_11_153_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_11_153_14&#39;)"><span class="hl_varref"><span class="mpre">def</span></span></a><span class="mpre">
        case </span><a href="#loc_154_9_154_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_9_154_15&#39;)"><span class="hl_varref"><span class="mpre">mchunk</span></span></a><span class="mpre"> of
            </span><a href="Data.Streaming.Zlib.html#loc_194_18_194_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Zlib.html#loc_194_18_194_24&#39;)"><span class="hl_conref"><span class="mpre">PRDone</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
            </span><a href="Data.Streaming.Zlib.html#loc_195_18_195_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Zlib.html#loc_195_18_195_24&#39;)"><span class="hl_conref"><span class="mpre">PRNext</span></span></a><span class="mpre"> </span><a name="loc_157_20_157_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_20_157_25&#39;)"><span class="hl_vardecl"><span class="mpre">chunk</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_123_23_123_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_23_123_29&#39;)"><span class="hl_varref"><span class="mpre">yield&#39;</span></span></a><span class="mpre"> (</span><a href="Data.Conduit.html#loc_358_16_358_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Conduit.html#loc_358_16_358_21&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_157_20_157_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_20_157_25&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_153_5_153_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_5_153_10&#39;)"><span class="hl_varref"><span class="mpre">close</span></span></a><span class="mpre"> </span><a href="#loc_153_11_153_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_11_153_14&#39;)"><span class="hl_varref"><span class="mpre">def</span></span></a><span class="mpre">
            </span><a href="Data.Streaming.Zlib.html#loc_196_18_196_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Zlib.html#loc_196_18_196_25&#39;)"><span class="hl_conref"><span class="mpre">PRError</span></span></a><span class="mpre"> </span><a name="loc_158_21_158_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_21_158_22&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> -&gt; </span><a href="Control.Monad.Trans.Class.html#loc_49_5_49_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_49_5_49_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.Trans.Resource.html#loc_366_1_366_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Resource.html#loc_366_1_366_11&#39;)"><span class="hl_varref"><span class="mpre">monadThrow</span></span></a><span class="mpre"> </span><a href="#loc_158_21_158_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_21_158_22&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">
</span></div></body></html>