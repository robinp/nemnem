<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP #-}
</span><span class="hl_comment"><span class="mpre">-- | A module for containing some CPPed code, due to:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- https://github.com/yesodweb/wai/issues/192</span></span><span class="mpre">
module Network.Wai.Middleware.RequestLogger.Internal
    ( module Network.Wai.Middleware.RequestLogger.Internal
    ) where

import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-extra-3.0.0.1/Network/Wai/Middleware/RequestLogger/Internal.hs&quot;, srcSpanStartLine = 9, srcSpanStartColumn = 8, srcSpanEndLine = 9, srcSpanEndColumn = 23}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> (ByteString)
import Network.Wai.Logger (</span><a href="Network.Wai.Logger.Date.html#loc_86_1_86_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Logger.Date.html#loc_86_1_86_16&#39;)"><span class="mpre">clockDateCacher</span></a><span class="mpre">)
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-extra-3.0.0.1/Network/Wai/Middleware/RequestLogger/Internal.hs&quot;, srcSpanStartLine = 11, srcSpanStartColumn = 8, srcSpanEndLine = 11, srcSpanEndColumn = 26}, srcInfoPoints = []}) &quot;Control.Concurrent&quot;"><span class="mpre">Control.Concurrent</span></span><span class="mpre"> (forkIO, threadDelay)
import Control.Monad (</span><a href="Control.Monad.html#loc_189_1_189_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_189_1_189_8&#39;)"><span class="mpre">forever</span></a><span class="mpre">)

import System.Log.FastLogger (</span><a href="System.Log.FastLogger.LogStr.html#loc_59_6_59_12" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.LogStr.html#loc_59_6_59_12&#39;)"><span class="mpre">LogStr</span></a><span class="mpre">, </span><a href="System.Log.FastLogger.LogStr.html#loc_90_1_90_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.LogStr.html#loc_90_1_90_11&#39;)"><span class="mpre">fromLogStr</span></a><span class="mpre">)

</span><a href="#loc_17_1_17_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_17_1_17_16&#39;)"><span class="mpre">logToByteString</span></a><span class="mpre"> :: </span><a href="System.Log.FastLogger.LogStr.html#loc_59_6_59_12" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.LogStr.html#loc_59_6_59_12&#39;)"><span class="hl_tyconref"><span class="mpre">LogStr</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre">
</span><a name="loc_17_1_17_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_17_1_17_16&#39;)"><span class="hl_vardecl"><span class="mpre">logToByteString</span></span></a><span class="mpre"> = </span><a href="System.Log.FastLogger.LogStr.html#loc_90_1_90_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Log.FastLogger.LogStr.html#loc_90_1_90_11&#39;)"><span class="hl_varref"><span class="mpre">fromLogStr</span></span></a><span class="mpre">

</span><a href="#loc_21_1_21_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_21_1_21_14&#39;)"><span class="mpre">getDateGetter</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ flusher</span></span><span class="mpre">
              -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre">)
</span><a name="loc_21_1_21_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_21_1_21_14&#39;)"><span class="hl_fundecl"><span class="mpre">getDateGetter</span></span></a><span class="mpre"> </span><a name="loc_21_15_21_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_21_15_21_22&#39;)"><span class="hl_vardecl"><span class="mpre">flusher</span></span></a><span class="mpre"> = do
    (</span><a name="loc_22_6_22_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_22_6_22_12&#39;)"><span class="hl_vardecl"><span class="mpre">getter</span></span></a><span class="mpre">, </span><a name="loc_22_14_22_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_22_14_22_21&#39;)"><span class="hl_vardecl"><span class="mpre">updater</span></span></a><span class="mpre">) &lt;- </span><a href="Network.Wai.Logger.Date.html#loc_86_1_86_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Logger.Date.html#loc_86_1_86_16&#39;)"><span class="hl_varref"><span class="mpre">clockDateCacher</span></span></a><span class="mpre">
    _ &lt;- </span><span class="hl_varref"><span class="mpre">forkIO</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.html#loc_189_1_189_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_189_1_189_8&#39;)"><span class="hl_varref"><span class="mpre">forever</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        </span><span class="hl_varref"><span class="mpre">threadDelay</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1000000</span></span><span class="mpre">
        </span><a href="#loc_22_14_22_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_22_14_22_21&#39;)"><span class="hl_varref"><span class="mpre">updater</span></span></a><span class="mpre">
        </span><a href="#loc_21_15_21_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_21_15_21_22&#39;)"><span class="hl_varref"><span class="mpre">flusher</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_22_6_22_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_22_6_22_12&#39;)"><span class="hl_varref"><span class="mpre">getter</span></span></a><span class="mpre">
</span></div></body></html>