<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP #-}
{-# LANGUAGE Rank2Types #-}
{-# LANGUAGE TypeFamilies #-}
#if defined(__GLASGOW_HASKELL__) &amp;&amp; __GLASGOW_HASKELL__ &gt;= 702
{-# LANGUAGE Trustworthy #-}
#endif
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (C) 2013 Edward Kmett and Dan Doel</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  BSD-style (see the file LICENSE)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  provisional</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  Rank2Types, TFs</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------------------</span></span><span class="mpre">
module Data.Profunctor.Rift
  ( Rift(..)
  , decomposeRift
  , precomposeRift
  ) where

import Control.Category
import Data.Profunctor.Unsafe
import Data.Profunctor.Composition
import Prelude hiding (id,(.))

</span><span class="hl_comment"><span class="mpre">-- | This represents the right Kan lift of a &#39;Profunctor&#39; @q@ along a &#39;Profunctor&#39; @p@ in a limited version of the 2-category of Profunctors where the only object is the category Hask, 1-morphisms are profunctors composed and compose with Profunctor composition, and 2-morphisms are just natural transformations.</span></span><span class="mpre">
newtype </span><a name="loc_29_9_29_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_9_29_13&#39;)"><span class="hl_tycondecl"><span class="mpre">Rift</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> = </span><a name="loc_29_24_29_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_24_29_28&#39;)"><span class="hl_condecl"><span class="mpre">Rift</span></span></a><span class="mpre"> { </span><a name="loc_29_31_29_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_31_29_38&#39;)"><span class="hl_fielddecl"><span class="mpre">runRift</span></span></a><span class="mpre"> :: forall </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">. </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> }

</span><span class="hl_comment"><span class="mpre">--  Ran f g a = forall b. (a -&gt; f b) -&gt; g b</span></span><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Rift.hs&quot;, srcSpanStartLine = 33, srcSpanStartColumn = 10, srcSpanEndLine = 33, srcSpanEndColumn = 41}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Rift.hs&quot;, srcSpanStartLine = 33, srcSpanStartColumn = 10, srcSpanEndLine = 33, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunc"><span class="mpre">(Profunctor p, Profunctor q) =&gt;</span></span><span class="mpre"> </span><a href="Data.Profunctor.Unsafe.html#loc_83_7_83_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_83_7_83_17&#39;)"><span class="hl_classref"><span class="mpre">Profunctor</span></span></a><span class="mpre"> (</span><a href="#loc_29_9_29_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_9_29_13&#39;)"><span class="hl_tyconref"><span class="mpre">Rift</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre">) where
  </span><a href="Data.Profunctor.Unsafe.html#loc_87_3_87_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_87_3_87_8&#39;)"><span class="hl_fundecl"><span class="mpre">dimap</span></span></a><span class="mpre"> </span><a name="loc_34_9_34_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_9_34_11&#39;)"><span class="hl_vardecl"><span class="mpre">ca</span></span></a><span class="mpre"> </span><a name="loc_34_12_34_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_12_34_14&#39;)"><span class="hl_vardecl"><span class="mpre">bd</span></span></a><span class="mpre"> </span><a name="loc_34_15_34_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_15_34_16&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_29_24_29_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_24_29_28&#39;)"><span class="hl_conref"><span class="mpre">Rift</span></span></a><span class="mpre"> (</span><a href="Data.Profunctor.Unsafe.html#loc_101_3_101_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_101_3_101_7&#39;)"><span class="hl_varref"><span class="mpre">rmap</span></span></a><span class="mpre"> </span><a href="#loc_34_12_34_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_12_34_14&#39;)"><span class="hl_varref"><span class="mpre">bd</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><a href="#loc_29_31_29_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_31_29_38&#39;)"><span class="hl_varref"><span class="mpre">runRift</span></span></a><span class="mpre"> </span><a href="#loc_34_15_34_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_15_34_16&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><a href="Data.Profunctor.Unsafe.html#loc_101_3_101_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_101_3_101_7&#39;)"><span class="hl_varref"><span class="mpre">rmap</span></span></a><span class="mpre"> </span><a href="#loc_34_9_34_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_9_34_11&#39;)"><span class="hl_varref"><span class="mpre">ca</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Data.Profunctor.Unsafe.html#loc_87_3_87_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_87_3_87_8&#39;)"><span class="mpre">dimap</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><a href="Data.Profunctor.Unsafe.html#loc_94_3_94_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_94_3_94_7&#39;)"><span class="hl_fundecl"><span class="mpre">lmap</span></span></a><span class="mpre"> </span><a name="loc_36_8_36_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_8_36_10&#39;)"><span class="hl_vardecl"><span class="mpre">ca</span></span></a><span class="mpre"> </span><a name="loc_36_11_36_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_11_36_12&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_29_24_29_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_24_29_28&#39;)"><span class="hl_conref"><span class="mpre">Rift</span></span></a><span class="mpre"> (</span><a href="#loc_29_31_29_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_31_29_38&#39;)"><span class="hl_varref"><span class="mpre">runRift</span></span></a><span class="mpre"> </span><a href="#loc_36_11_36_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_11_36_12&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><a href="Data.Profunctor.Unsafe.html#loc_101_3_101_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_101_3_101_7&#39;)"><span class="hl_varref"><span class="mpre">rmap</span></span></a><span class="mpre"> </span><a href="#loc_36_8_36_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_8_36_10&#39;)"><span class="hl_varref"><span class="mpre">ca</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Data.Profunctor.Unsafe.html#loc_94_3_94_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_94_3_94_7&#39;)"><span class="mpre">lmap</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><a href="Data.Profunctor.Unsafe.html#loc_101_3_101_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_101_3_101_7&#39;)"><span class="hl_fundecl"><span class="mpre">rmap</span></span></a><span class="mpre"> </span><a name="loc_38_8_38_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_8_38_10&#39;)"><span class="hl_vardecl"><span class="mpre">bd</span></span></a><span class="mpre"> </span><a name="loc_38_11_38_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_11_38_12&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_29_24_29_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_24_29_28&#39;)"><span class="hl_conref"><span class="mpre">Rift</span></span></a><span class="mpre"> (</span><a href="Data.Profunctor.Unsafe.html#loc_101_3_101_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_101_3_101_7&#39;)"><span class="hl_varref"><span class="mpre">rmap</span></span></a><span class="mpre"> </span><a href="#loc_38_8_38_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_8_38_10&#39;)"><span class="hl_varref"><span class="mpre">bd</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><a href="#loc_29_31_29_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_31_29_38&#39;)"><span class="hl_varref"><span class="mpre">runRift</span></span></a><span class="mpre"> </span><a href="#loc_38_11_38_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_11_38_12&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Data.Profunctor.Unsafe.html#loc_101_3_101_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_101_3_101_7&#39;)"><span class="mpre">rmap</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><a name="loc_40_3_40_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_3_40_5&#39;)"><span class="hl_vardecl"><span class="mpre">bd</span></span></a><span class="mpre"> </span><span class="hl_fundecl"><span class="mpre">#.</span></span><span class="mpre"> </span><a name="loc_40_9_40_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_9_40_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_29_24_29_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_24_29_28&#39;)"><span class="hl_conref"><span class="mpre">Rift</span></span></a><span class="mpre"> (\</span><a name="loc_40_20_40_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_20_40_21&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_40_3_40_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_3_40_5&#39;)"><span class="hl_varref"><span class="mpre">bd</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">#.</span></span><span class="mpre"> </span><a href="#loc_29_31_29_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_31_29_38&#39;)"><span class="hl_varref"><span class="mpre">runRift</span></span></a><span class="mpre"> </span><a href="#loc_40_9_40_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_9_40_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_40_20_40_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_20_40_21&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE ( #. ) #-}</span></span><span class="mpre">
  </span><a name="loc_42_3_42_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_3_42_4&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_fundecl"><span class="mpre">.#</span></span><span class="mpre"> </span><a name="loc_42_8_42_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_8_42_10&#39;)"><span class="hl_vardecl"><span class="mpre">ca</span></span></a><span class="mpre"> = </span><a href="#loc_29_24_29_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_24_29_28&#39;)"><span class="hl_conref"><span class="mpre">Rift</span></span></a><span class="mpre"> (\</span><a name="loc_42_20_42_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_20_42_21&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_29_31_29_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_31_29_38&#39;)"><span class="hl_varref"><span class="mpre">runRift</span></span></a><span class="mpre"> </span><a href="#loc_42_3_42_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_3_42_4&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_42_8_42_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_8_42_10&#39;)"><span class="hl_varref"><span class="mpre">ca</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">#.</span></span><span class="mpre"> </span><a href="#loc_42_20_42_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_20_42_21&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">))
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE (.#) #-}</span></span><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Rift.hs&quot;, srcSpanStartLine = 45, srcSpanStartColumn = 10, srcSpanEndLine = 45, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Rift.hs&quot;, srcSpanStartLine = 45, srcSpanStartColumn = 23, srcSpanEndLine = 45, srcSpanEndColumn = 25}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem"><span class="mpre">Profunctor q =&gt;</span></span><span class="mpre"> </span><span class="hl_classref"><span class="mpre">Functor</span></span><span class="mpre"> (</span><a href="#loc_29_9_29_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_9_29_13&#39;)"><span class="hl_tyconref"><span class="mpre">Rift</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) where
  </span><span class="hl_fundecl"><span class="mpre">fmap</span></span><span class="mpre"> </span><a name="loc_46_8_46_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_8_46_10&#39;)"><span class="hl_vardecl"><span class="mpre">bd</span></span></a><span class="mpre"> </span><a name="loc_46_11_46_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_11_46_12&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_29_24_29_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_24_29_28&#39;)"><span class="hl_conref"><span class="mpre">Rift</span></span></a><span class="mpre"> (</span><a href="Data.Profunctor.Unsafe.html#loc_101_3_101_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_101_3_101_7&#39;)"><span class="hl_varref"><span class="mpre">rmap</span></span></a><span class="mpre"> </span><a href="#loc_46_8_46_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_8_46_10&#39;)"><span class="hl_varref"><span class="mpre">bd</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><a href="#loc_29_31_29_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_31_29_38&#39;)"><span class="hl_varref"><span class="mpre">runRift</span></span></a><span class="mpre"> </span><a href="#loc_46_11_46_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_11_46_12&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE fmap #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | @&#39;Rift&#39; p p@ forms a &#39;Monad&#39; in the &#39;Profunctor&#39; 2-category, which is isomorphic to a Haskell &#39;Category&#39; instance.</span></span><span class="mpre">
instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Rift.hs&quot;, srcSpanStartLine = 50, srcSpanStartColumn = 10, srcSpanEndLine = 50, srcSpanEndColumn = 15}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Rift.hs&quot;, srcSpanStartLine = 50, srcSpanStartColumn = 12, srcSpanEndLine = 50, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profun"><span class="mpre">p ~ q</span></span><span class="mpre"> =&gt; </span><a href="Control.Category.html#loc_32_7_32_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_32_7_32_15&#39;)"><span class="hl_classref"><span class="mpre">Category</span></span></a><span class="mpre"> (</span><a href="#loc_29_9_29_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_9_29_13&#39;)"><span class="hl_tyconref"><span class="mpre">Rift</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre">) where
  </span><a href="Control.Category.html#loc_34_5_34_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_34_5_34_7&#39;)"><span class="hl_vardecl"><span class="mpre">id</span></span></a><span class="mpre"> = </span><a href="#loc_29_24_29_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_24_29_28&#39;)"><span class="hl_conref"><span class="mpre">Rift</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_34_5_34_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_34_5_34_7&#39;)"><span class="hl_varref"><span class="mpre">id</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Control.Category.html#loc_34_5_34_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_34_5_34_7&#39;)"><span class="mpre">id</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><a href="#loc_29_24_29_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_24_29_28&#39;)"><span class="hl_conref"><span class="mpre">Rift</span></span></a><span class="mpre"> </span><a name="loc_53_8_53_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_8_53_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_fundecl"><span class="mpre">.</span></span></a><span class="mpre"> </span><a href="#loc_29_24_29_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_24_29_28&#39;)"><span class="hl_conref"><span class="mpre">Rift</span></span></a><span class="mpre"> </span><a name="loc_53_17_53_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_17_53_18&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> = </span><a href="#loc_29_24_29_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_24_29_28&#39;)"><span class="hl_conref"><span class="mpre">Rift</span></span></a><span class="mpre"> (</span><a href="#loc_53_8_53_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_8_53_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="hl_infix"><span class="mpre">.</span></span></a><span class="mpre"> </span><a href="#loc_53_17_53_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_17_53_18&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Control.Category.html#loc_37_5_37_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_37_5_37_8&#39;)"><span class="mpre">(.)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The 2-morphism that defines a right Kan lift.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note: When @q@ is left adjoint to @&#39;Rift&#39; q (-&gt;)@ then &#39;decomposeRift&#39; is the &#39;counit&#39; of the adjunction.</span></span><span class="mpre">
</span><a href="#loc_60_1_60_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_1_60_14&#39;)"><span class="mpre">decomposeRift</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><a href="#loc_29_9_29_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_9_29_13&#39;)"><span class="hl_tyconref"><span class="mpre">Rift</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_60_1_60_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_1_60_14&#39;)"><span class="hl_fundecl"><span class="mpre">decomposeRift</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a name="loc_60_27_60_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_27_60_28&#39;)"><span class="hl_vardecl"><span class="mpre">q</span></span></a><span class="mpre"> (</span><a href="#loc_29_24_29_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_24_29_28&#39;)"><span class="hl_conref"><span class="mpre">Rift</span></span></a><span class="mpre"> </span><a name="loc_60_35_60_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_35_60_37&#39;)"><span class="hl_vardecl"><span class="mpre">qp</span></span></a><span class="mpre">)) = </span><a href="#loc_60_35_60_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_35_60_37&#39;)"><span class="hl_varref"><span class="mpre">qp</span></span></a><span class="mpre"> </span><a href="#loc_60_27_60_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_27_60_28&#39;)"><span class="hl_varref"><span class="mpre">q</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_60_1_60_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_1_60_14&#39;)"><span class="mpre">decomposeRift</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_64_1_64_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_1_64_15&#39;)"><span class="mpre">precomposeRift</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Rift.hs&quot;, srcSpanStartLine = 63, srcSpanStartColumn = 19, srcSpanEndLine = 63, srcSpanEndColumn = 34}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/profunctors-4.0.4/src/Data/Profunctor/Rift.hs&quot;, srcSpanStartLine = 63, srcSpanStartColumn = 32, srcSpanEndLine = 63, srcSpanEndColumn = 34}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem"><span class="mpre">Profunctor q =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Procompose</span></span><span class="mpre"> (</span><a href="#loc_29_9_29_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_9_29_13&#39;)"><span class="hl_tyconref"><span class="mpre">Rift</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><a href="#loc_29_9_29_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_9_29_13&#39;)"><span class="hl_tyconref"><span class="mpre">Rift</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_64_1_64_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_1_64_15&#39;)"><span class="hl_fundecl"><span class="mpre">precomposeRift</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Procompose</span></span><span class="mpre"> </span><a name="loc_64_28_64_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_28_64_30&#39;)"><span class="hl_vardecl"><span class="mpre">pf</span></span></a><span class="mpre"> </span><a name="loc_64_31_64_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_31_64_32&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">) = </span><a href="#loc_29_24_29_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_24_29_28&#39;)"><span class="hl_conref"><span class="mpre">Rift</span></span></a><span class="mpre"> (\</span><a name="loc_64_43_64_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_43_64_46&#39;)"><span class="hl_vardecl"><span class="mpre">pxa</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_29_31_29_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_31_29_38&#39;)"><span class="hl_varref"><span class="mpre">runRift</span></span></a><span class="mpre"> </span><a href="#loc_64_28_64_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_28_64_30&#39;)"><span class="hl_varref"><span class="mpre">pf</span></span></a><span class="mpre"> </span><a href="#loc_64_43_64_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_43_64_46&#39;)"><span class="hl_varref"><span class="mpre">pxa</span></span></a><span class="mpre"> </span><a href="Data.Profunctor.Unsafe.html#loc_94_3_94_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_94_3_94_7&#39;)"><span class="hl_infix"><span class="mpre">`lmap`</span></span></a><span class="mpre"> </span><a href="#loc_64_31_64_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_31_64_32&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_64_1_64_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_1_64_15&#39;)"><span class="mpre">precomposeRift</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span></div></body></html>