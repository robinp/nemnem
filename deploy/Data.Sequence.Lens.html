<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE Rank2Types #-}
{-# LANGUAGE FlexibleContexts #-}
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Data.Sequence.Lens</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (C) 2012-14 Edward Kmett</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  BSD-style (see the file LICENSE)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  experimental</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  non-portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------------------</span></span><span class="mpre">
module Data.Sequence.Lens
  ( viewL, viewR
  , sliced, slicedTo, slicedFrom
  , seqOf
  ) where

import Control.Applicative
import Control.Lens
import Data.Monoid
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/Sequence/Lens.hs&quot;, srcSpanStartLine = 22, srcSpanStartColumn = 8, srcSpanEndLine = 22, srcSpanEndColumn = 21}, srcInfoPoints = []}) &quot;Data.Sequence&quot;"><span class="mpre">Data.Sequence</span></span><span class="mpre"> as Seq

</span><span class="hl_comment"><span class="mpre">-- $setup</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; import Debug.SimpleReflect.Expr</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; import Debug.SimpleReflect.Vars as Vars hiding (f,g)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; let f :: Expr -&gt; Expr; f = Debug.SimpleReflect.Vars.f</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; let g :: Expr -&gt; Expr; g = Debug.SimpleReflect.Vars.g</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- * Sequence isomorphisms</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A &#39;Seq&#39; is isomorphic to a &#39;ViewL&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @&#39;viewl&#39; m ≡ m &#39;^.&#39; &#39;viewL&#39;@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; Seq.fromList [a,b,c] ^. viewL</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- a :&lt; fromList [b,c]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; Seq.empty ^. viewL</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- EmptyL</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; EmptyL ^. from viewL</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList []</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; review viewL $ a :&lt; fromList [b,c]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [a,b,c]</span></span><span class="mpre">
</span><a href="#loc_48_1_48_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_1_48_6&#39;)"><span class="mpre">viewL</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Iso</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Seq</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) (</span><span class="hl_tyconref"><span class="mpre">Seq</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) (</span><span class="hl_tyconref"><span class="mpre">ViewL</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) (</span><span class="hl_tyconref"><span class="mpre">ViewL</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">)
</span><a name="loc_48_1_48_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_1_48_6&#39;)"><span class="hl_vardecl"><span class="mpre">viewL</span></span></a><span class="mpre"> = </span><a href="Control.Lens.Iso.html#loc_122_1_122_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Iso.html#loc_122_1_122_4&#39;)"><span class="hl_varref"><span class="mpre">iso</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">viewl</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \ </span><a name="loc_48_23_48_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_23_48_25&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> -&gt; case </span><a href="#loc_48_23_48_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_23_48_25&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre"> of
  </span><span class="hl_conref"><span class="mpre">EmptyL</span></span><span class="mpre"> -&gt;  </span><a href="Data.Monoid.html#loc_80_9_80_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_80_9_80_15&#39;)"><span class="hl_varref"><span class="mpre">mempty</span></span></a><span class="mpre">
  </span><a name="loc_50_3_50_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_3_50_4&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:&lt;</span></span><span class="mpre"> </span><a name="loc_50_8_50_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_8_50_10&#39;)"><span class="hl_vardecl"><span class="mpre">as</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_50_3_50_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_3_50_4&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">Seq.&lt;|</span></span><span class="mpre"> </span><a href="#loc_50_8_50_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_8_50_10&#39;)"><span class="hl_varref"><span class="mpre">as</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_48_1_48_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_1_48_6&#39;)"><span class="mpre">viewL</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A &#39;Seq&#39; is isomorphic to a &#39;ViewR&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @&#39;viewr&#39; m ≡ m &#39;^.&#39; &#39;viewR&#39;@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; Seq.fromList [a,b,c] ^. viewR</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [a,b] :&gt; c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; Seq.empty ^. viewR</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- EmptyR</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; EmptyR ^. from viewR</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList []</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; review viewR $ fromList [a,b] :&gt; c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [a,b,c]</span></span><span class="mpre">
</span><a href="#loc_69_1_69_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_6&#39;)"><span class="mpre">viewR</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Iso</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Seq</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) (</span><span class="hl_tyconref"><span class="mpre">Seq</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) (</span><span class="hl_tyconref"><span class="mpre">ViewR</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) (</span><span class="hl_tyconref"><span class="mpre">ViewR</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">)
</span><a name="loc_69_1_69_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_6&#39;)"><span class="hl_vardecl"><span class="mpre">viewR</span></span></a><span class="mpre"> = </span><a href="Control.Lens.Iso.html#loc_122_1_122_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Iso.html#loc_122_1_122_4&#39;)"><span class="hl_varref"><span class="mpre">iso</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">viewr</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_69_22_69_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_22_69_24&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> -&gt; case </span><a href="#loc_69_22_69_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_22_69_24&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre"> of
  </span><span class="hl_conref"><span class="mpre">EmptyR</span></span><span class="mpre">  -&gt; </span><a href="Data.Monoid.html#loc_80_9_80_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_80_9_80_15&#39;)"><span class="hl_varref"><span class="mpre">mempty</span></span></a><span class="mpre">
  </span><a name="loc_71_3_71_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_3_71_5&#39;)"><span class="hl_vardecl"><span class="mpre">as</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:&gt;</span></span><span class="mpre"> </span><a name="loc_71_9_71_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_9_71_10&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_71_3_71_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_3_71_5&#39;)"><span class="hl_varref"><span class="mpre">as</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">Seq.|&gt;</span></span><span class="mpre"> </span><a href="#loc_71_9_71_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_9_71_10&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_69_1_69_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_6&#39;)"><span class="mpre">viewR</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Traverse the first @n@ elements of a &#39;Seq&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; fromList [a,b,c,d,e] ^.. slicedTo 2</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [a,b]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; fromList [a,b,c,d,e] &amp; slicedTo 2 %~ f</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [f a,f b,c,d,e]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; fromList [a,b,c,d,e] &amp; slicedTo 10 .~ x</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [x,x,x,x,x]</span></span><span class="mpre">
</span><a href="#loc_85_1_85_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_1_85_9&#39;)"><span class="mpre">slicedTo</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IndexedTraversal&#39;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Seq</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_85_1_85_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_1_85_9&#39;)"><span class="hl_fundecl"><span class="mpre">slicedTo</span></span></a><span class="mpre"> </span><a name="loc_85_10_85_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_10_85_11&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_85_12_85_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_12_85_13&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_85_14_85_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_14_85_15&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = case </span><span class="hl_varref"><span class="mpre">Seq.splitAt</span></span><span class="mpre"> </span><a href="#loc_85_10_85_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_10_85_11&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_85_14_85_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_14_85_15&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> of
  (</span><a name="loc_86_4_86_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_4_86_5&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre">,</span><a name="loc_86_6_86_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_6_86_7&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">) -&gt; (</span><span class="hl_infix"><span class="mpre">&gt;&lt;</span></span><span class="mpre"> </span><a href="#loc_86_6_86_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_6_86_7&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">) </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">itraverse</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">indexed</span></span><span class="mpre"> </span><a href="#loc_85_12_85_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_12_85_13&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) </span><a href="#loc_86_4_86_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_4_86_5&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_85_1_85_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_1_85_9&#39;)"><span class="mpre">slicedTo</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Traverse all but the first @n@ elements of a &#39;Seq&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; fromList [a,b,c,d,e] ^.. slicedFrom 2</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [c,d,e]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; fromList [a,b,c,d,e] &amp; slicedFrom 2 %~ f</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [a,b,f c,f d,f e]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; fromList [a,b,c,d,e] &amp; slicedFrom 10 .~ x</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [a,b,c,d,e]</span></span><span class="mpre">
</span><a href="#loc_100_1_100_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_1_100_11&#39;)"><span class="mpre">slicedFrom</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IndexedTraversal&#39;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Seq</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_100_1_100_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_1_100_11&#39;)"><span class="hl_fundecl"><span class="mpre">slicedFrom</span></span></a><span class="mpre"> </span><a name="loc_100_12_100_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_12_100_13&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_100_14_100_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_14_100_15&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_100_16_100_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_16_100_17&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = case </span><span class="hl_varref"><span class="mpre">Seq.splitAt</span></span><span class="mpre"> </span><a href="#loc_100_12_100_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_12_100_13&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_100_16_100_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_16_100_17&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> of
  (</span><a name="loc_101_4_101_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_4_101_5&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre">,</span><a name="loc_101_6_101_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_6_101_7&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">) -&gt; (</span><a href="#loc_101_4_101_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_4_101_5&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&lt;</span></span><span class="mpre">) </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">itraverse</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">indexed</span></span><span class="mpre"> </span><a href="#loc_100_14_100_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_14_100_15&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">+</span></span><a href="#loc_100_12_100_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_12_100_13&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)) </span><a href="#loc_101_6_101_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_6_101_7&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_100_1_100_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_1_100_11&#39;)"><span class="mpre">slicedFrom</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Traverse all the elements numbered from @i@ to @j@ of a &#39;Seq&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; fromList [a,b,c,d,e] &amp; sliced 1 3 %~ f</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [a,f b,f c,d,e]</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; fromList [a,b,c,d,e] ^.. sliced 1 3</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [f b,f c]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; fromList [a,b,c,d,e] &amp; sliced 1 3 .~ x</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [a,x,x,b,e]</span></span><span class="mpre">
</span><a href="#loc_115_1_115_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_1_115_7&#39;)"><span class="mpre">sliced</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IndexedTraversal&#39;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Seq</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_115_1_115_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_1_115_7&#39;)"><span class="hl_fundecl"><span class="mpre">sliced</span></span></a><span class="mpre"> </span><a name="loc_115_8_115_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_8_115_9&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> </span><a name="loc_115_10_115_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_10_115_11&#39;)"><span class="hl_vardecl"><span class="mpre">j</span></span></a><span class="mpre"> </span><a name="loc_115_12_115_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_12_115_13&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_115_14_115_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_14_115_15&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = case </span><span class="hl_varref"><span class="mpre">Seq.splitAt</span></span><span class="mpre"> </span><a href="#loc_115_8_115_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_8_115_9&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_115_14_115_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_14_115_15&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
  (</span><a name="loc_116_4_116_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_4_116_5&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre">,</span><a name="loc_116_6_116_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_6_116_8&#39;)"><span class="hl_vardecl"><span class="mpre">mr</span></span></a><span class="mpre">) -&gt; case </span><span class="hl_varref"><span class="mpre">Seq.splitAt</span></span><span class="mpre"> (</span><a href="#loc_115_10_115_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_10_115_11&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><a href="#loc_115_8_115_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_8_115_9&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">) </span><a href="#loc_116_6_116_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_6_116_8&#39;)"><span class="hl_varref"><span class="mpre">mr</span></span></a><span class="mpre"> of
     (</span><a name="loc_117_7_117_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_7_117_8&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre">, </span><a name="loc_117_10_117_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_10_117_11&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">) -&gt; </span><span class="hl_varref"><span class="mpre">itraverse</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">indexed</span></span><span class="mpre"> </span><a href="#loc_115_12_115_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_12_115_13&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">+</span></span><a href="#loc_115_8_115_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_8_115_9&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">)) </span><a href="#loc_117_7_117_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_7_117_8&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><a href="Control.Lens.Lens.html#loc_343_4_343_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Lens.html#loc_343_4_343_7&#39;)"><span class="hl_infix"><span class="mpre">&lt;&amp;&gt;</span></span></a><span class="mpre"> \</span><a name="loc_117_52_117_53" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_52_117_53&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_116_4_116_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_4_116_5&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&lt;</span></span><span class="mpre"> </span><a href="#loc_117_52_117_53" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_52_117_53&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&lt;</span></span><span class="mpre"> </span><a href="#loc_117_10_117_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_10_117_11&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_115_1_115_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_1_115_7&#39;)"><span class="mpre">sliced</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Construct a &#39;Seq&#39; from a &#39;Getter&#39;, &#39;Control.Lens.Fold.Fold&#39;, &#39;Control.Lens.Traversal.Traversal&#39;, &#39;Control.Lens.Lens.Lens&#39; or &#39;Control.Lens.Iso.Iso&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; seqOf folded [&quot;hello&quot;,&quot;world&quot;]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [&quot;hello&quot;,&quot;world&quot;]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; seqOf (folded._2) [(&quot;hello&quot;,1),(&quot;world&quot;,2),(&quot;!!!&quot;,3)]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [1,2,3]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;seqOf&#39; :: &#39;Getter&#39; s a     -&gt; s -&gt; &#39;Seq&#39; a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;seqOf&#39; :: &#39;Fold&#39; s a       -&gt; s -&gt; &#39;Seq&#39; a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;seqOf&#39; :: &#39;Iso&#39;&#39; s a       -&gt; s -&gt; &#39;Seq&#39; a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;seqOf&#39; :: &#39;Lens&#39;&#39; s a      -&gt; s -&gt; &#39;Seq&#39; a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;seqOf&#39; :: &#39;Traversal&#39;&#39; s a -&gt; s -&gt; &#39;Seq&#39; a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_136_1_136_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_1_136_6&#39;)"><span class="mpre">seqOf</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Getting</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Seq</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Seq</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_136_1_136_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_1_136_6&#39;)"><span class="hl_fundecl"><span class="mpre">seqOf</span></span></a><span class="mpre"> </span><a name="loc_136_7_136_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_7_136_8&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> = </span><a href="Control.Lens.Getter.html#loc_243_1_243_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Getter.html#loc_243_1_243_6&#39;)"><span class="hl_varref"><span class="mpre">views</span></span></a><span class="mpre"> </span><a href="#loc_136_7_136_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_7_136_8&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">Seq.singleton</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_136_1_136_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_1_136_6&#39;)"><span class="mpre">seqOf</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span></div></body></html>