<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">module Data.Time.Calendar.Julian
(
        module Data.Time.Calendar.JulianYearDay,

        toJulian,fromJulian,fromJulianValid,showJulian,julianMonthLength,

        </span><span class="hl_comment"><span class="mpre">-- calendrical arithmetic</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- e.g. &quot;one month after March 31st&quot;</span></span><span class="mpre">
        addJulianMonthsClip,addJulianMonthsRollOver,
        addJulianYearsClip,addJulianYearsRollOver
) where

import Data.Time.Calendar.MonthDay
import Data.Time.Calendar.JulianYearDay
import Data.Time.Calendar.Days
import Data.Time.Calendar.Private

</span><span class="hl_comment"><span class="mpre">-- | convert to proleptic Julian calendar. First element of result is year, second month number (1-12), third day (1-31).</span></span><span class="mpre">
</span><a href="#loc_20_1_20_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_1_20_9&#39;)"><span class="mpre">toJulian</span></a><span class="mpre"> :: </span><a href="Data.Time.Calendar.Days.html#loc_18_9_18_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Days.html#loc_18_9_18_12&#39;)"><span class="hl_tyconref"><span class="mpre">Day</span></span></a><span class="mpre"> -&gt; (</span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">)
</span><a name="loc_20_1_20_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_1_20_9&#39;)"><span class="hl_fundecl"><span class="mpre">toJulian</span></span></a><span class="mpre"> </span><a name="loc_20_10_20_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_10_20_14&#39;)"><span class="hl_vardecl"><span class="mpre">date</span></span></a><span class="mpre"> = (</span><a href="#loc_21_10_21_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_21_10_21_14&#39;)"><span class="hl_varref"><span class="mpre">year</span></span></a><span class="mpre">,</span><a href="#loc_22_10_22_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_22_10_22_15&#39;)"><span class="hl_varref"><span class="mpre">month</span></span></a><span class="mpre">,</span><a href="#loc_22_16_22_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_22_16_22_19&#39;)"><span class="hl_varref"><span class="mpre">day</span></span></a><span class="mpre">) where
        (</span><a name="loc_21_10_21_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_21_10_21_14&#39;)"><span class="hl_vardecl"><span class="mpre">year</span></span></a><span class="mpre">,</span><a name="loc_21_15_21_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_21_15_21_17&#39;)"><span class="hl_vardecl"><span class="mpre">yd</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">toJulianYearAndDay</span></span><span class="mpre"> </span><a href="#loc_20_10_20_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_10_20_14&#39;)"><span class="hl_varref"><span class="mpre">date</span></span></a><span class="mpre">
        (</span><a name="loc_22_10_22_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_22_10_22_15&#39;)"><span class="hl_vardecl"><span class="mpre">month</span></span></a><span class="mpre">,</span><a name="loc_22_16_22_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_22_16_22_19&#39;)"><span class="hl_vardecl"><span class="mpre">day</span></span></a><span class="mpre">) = </span><a href="Data.Time.Calendar.MonthDay.html#loc_32_1_32_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.MonthDay.html#loc_32_1_32_23&#39;)"><span class="hl_varref"><span class="mpre">dayOfYearToMonthAndDay</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">isJulianLeapYear</span></span><span class="mpre"> </span><a href="#loc_21_10_21_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_21_10_21_14&#39;)"><span class="hl_varref"><span class="mpre">year</span></span></a><span class="mpre">) </span><a href="#loc_21_15_21_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_21_15_21_17&#39;)"><span class="hl_varref"><span class="mpre">yd</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | convert from proleptic Julian calendar. First argument is year, second month number (1-12), third day (1-31).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Invalid values will be clipped to the correct range, month first, then day.</span></span><span class="mpre">
</span><a href="#loc_27_1_27_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_1_27_11&#39;)"><span class="mpre">fromJulian</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><a href="Data.Time.Calendar.Days.html#loc_18_9_18_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Days.html#loc_18_9_18_12&#39;)"><span class="hl_tyconref"><span class="mpre">Day</span></span></a><span class="mpre">
</span><a name="loc_27_1_27_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_1_27_11&#39;)"><span class="hl_fundecl"><span class="mpre">fromJulian</span></span></a><span class="mpre"> </span><a name="loc_27_12_27_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_12_27_16&#39;)"><span class="hl_vardecl"><span class="mpre">year</span></span></a><span class="mpre"> </span><a name="loc_27_17_27_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_17_27_22&#39;)"><span class="hl_vardecl"><span class="mpre">month</span></span></a><span class="mpre"> </span><a name="loc_27_23_27_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_23_27_26&#39;)"><span class="hl_vardecl"><span class="mpre">day</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">fromJulianYearAndDay</span></span><span class="mpre"> </span><a href="#loc_27_12_27_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_12_27_16&#39;)"><span class="hl_varref"><span class="mpre">year</span></span></a><span class="mpre"> (</span><a href="Data.Time.Calendar.MonthDay.html#loc_11_1_11_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.MonthDay.html#loc_11_1_11_23&#39;)"><span class="hl_varref"><span class="mpre">monthAndDayToDayOfYear</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">isJulianLeapYear</span></span><span class="mpre"> </span><a href="#loc_27_12_27_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_12_27_16&#39;)"><span class="hl_varref"><span class="mpre">year</span></span></a><span class="mpre">) </span><a href="#loc_27_17_27_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_17_27_22&#39;)"><span class="hl_varref"><span class="mpre">month</span></span></a><span class="mpre"> </span><a href="#loc_27_23_27_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_23_27_26&#39;)"><span class="hl_varref"><span class="mpre">day</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | convert from proleptic Julian calendar. First argument is year, second month number (1-12), third day (1-31).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Invalid values will return Nothing.</span></span><span class="mpre">
</span><a href="#loc_32_1_32_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_1_32_16&#39;)"><span class="mpre">fromJulianValid</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Data.Time.Calendar.Days.html#loc_18_9_18_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Days.html#loc_18_9_18_12&#39;)"><span class="hl_tyconref"><span class="mpre">Day</span></span></a><span class="mpre">
</span><a name="loc_32_1_32_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_1_32_16&#39;)"><span class="hl_fundecl"><span class="mpre">fromJulianValid</span></span></a><span class="mpre"> </span><a name="loc_32_17_32_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_17_32_21&#39;)"><span class="hl_vardecl"><span class="mpre">year</span></span></a><span class="mpre"> </span><a name="loc_32_22_32_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_22_32_27&#39;)"><span class="hl_vardecl"><span class="mpre">month</span></span></a><span class="mpre"> </span><a name="loc_32_28_32_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_28_32_31&#39;)"><span class="hl_vardecl"><span class="mpre">day</span></span></a><span class="mpre"> = do
        </span><a name="loc_33_9_33_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_9_33_12&#39;)"><span class="hl_vardecl"><span class="mpre">doy</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Time.Calendar.MonthDay.html#loc_20_1_20_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.MonthDay.html#loc_20_1_20_28&#39;)"><span class="hl_varref"><span class="mpre">monthAndDayToDayOfYearValid</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">isJulianLeapYear</span></span><span class="mpre"> </span><a href="#loc_32_17_32_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_17_32_21&#39;)"><span class="hl_varref"><span class="mpre">year</span></span></a><span class="mpre">) </span><a href="#loc_32_22_32_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_22_32_27&#39;)"><span class="hl_varref"><span class="mpre">month</span></span></a><span class="mpre"> </span><a href="#loc_32_28_32_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_28_32_31&#39;)"><span class="hl_varref"><span class="mpre">day</span></span></a><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">fromJulianYearAndDayValid</span></span><span class="mpre"> </span><a href="#loc_32_17_32_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_17_32_21&#39;)"><span class="hl_varref"><span class="mpre">year</span></span></a><span class="mpre"> </span><a href="#loc_33_9_33_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_9_33_12&#39;)"><span class="hl_varref"><span class="mpre">doy</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | show in ISO 8601 format (yyyy-mm-dd)</span></span><span class="mpre">
</span><a href="#loc_38_1_38_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_1_38_11&#39;)"><span class="mpre">showJulian</span></a><span class="mpre"> :: </span><a href="Data.Time.Calendar.Days.html#loc_18_9_18_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Days.html#loc_18_9_18_12&#39;)"><span class="hl_tyconref"><span class="mpre">Day</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
</span><a name="loc_38_1_38_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_1_38_11&#39;)"><span class="hl_fundecl"><span class="mpre">showJulian</span></span></a><span class="mpre"> </span><a name="loc_38_12_38_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_12_38_16&#39;)"><span class="hl_vardecl"><span class="mpre">date</span></span></a><span class="mpre"> = (</span><a href="Data.Time.Calendar.Private.html#loc_34_1_34_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Private.html#loc_34_1_34_6&#39;)"><span class="hl_varref"><span class="mpre">show4</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;0&#39;</span></span><span class="mpre">) </span><a href="#loc_39_10_39_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_10_39_11&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;-&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> (</span><a href="Data.Time.Calendar.Private.html#loc_28_1_28_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Private.html#loc_28_1_28_6&#39;)"><span class="hl_varref"><span class="mpre">show2</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;0&#39;</span></span><span class="mpre">) </span><a href="#loc_39_12_39_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_12_39_13&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;-&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> (</span><a href="Data.Time.Calendar.Private.html#loc_28_1_28_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Private.html#loc_28_1_28_6&#39;)"><span class="hl_varref"><span class="mpre">show2</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;0&#39;</span></span><span class="mpre">) </span><a href="#loc_39_14_39_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_14_39_15&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre">) where
        (</span><a name="loc_39_10_39_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_10_39_11&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">,</span><a name="loc_39_12_39_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_12_39_13&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre">,</span><a name="loc_39_14_39_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_14_39_15&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre">) = </span><a href="#loc_20_1_20_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_1_20_9&#39;)"><span class="hl_varref"><span class="mpre">toJulian</span></span></a><span class="mpre"> </span><a href="#loc_38_12_38_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_12_38_16&#39;)"><span class="hl_varref"><span class="mpre">date</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The number of days in a given month according to the proleptic Julian calendar. First argument is year, second is month.</span></span><span class="mpre">
</span><a href="#loc_43_1_43_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_1_43_18&#39;)"><span class="mpre">julianMonthLength</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
</span><a name="loc_43_1_43_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_1_43_18&#39;)"><span class="hl_fundecl"><span class="mpre">julianMonthLength</span></span></a><span class="mpre"> </span><a name="loc_43_19_43_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_19_43_23&#39;)"><span class="hl_vardecl"><span class="mpre">year</span></span></a><span class="mpre"> = </span><a href="Data.Time.Calendar.MonthDay.html#loc_41_1_41_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.MonthDay.html#loc_41_1_41_12&#39;)"><span class="hl_varref"><span class="mpre">monthLength</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">isJulianLeapYear</span></span><span class="mpre"> </span><a href="#loc_43_19_43_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_19_43_23&#39;)"><span class="hl_varref"><span class="mpre">year</span></span></a><span class="mpre">)

</span><a href="#loc_46_1_46_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_1_46_15&#39;)"><span class="mpre">rolloverMonths</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre">) -&gt; (</span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">)
</span><a name="loc_46_1_46_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_1_46_15&#39;)"><span class="hl_fundecl"><span class="mpre">rolloverMonths</span></span></a><span class="mpre"> (</span><a name="loc_46_17_46_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_17_46_18&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">,</span><a name="loc_46_19_46_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_19_46_20&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre">) = (</span><a href="#loc_46_17_46_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_17_46_18&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">div</span></span><span class="mpre"> (</span><a href="#loc_46_19_46_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_19_46_20&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><span class="hl_num"><span class="mpre">12</span></span><span class="mpre">),</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">mod</span></span><span class="mpre"> (</span><a href="#loc_46_19_46_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_19_46_20&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><span class="hl_num"><span class="mpre">12</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)

</span><a href="#loc_49_1_49_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_1_49_16&#39;)"><span class="mpre">addJulianMonths</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre"> -&gt; </span><a href="Data.Time.Calendar.Days.html#loc_18_9_18_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Days.html#loc_18_9_18_12&#39;)"><span class="hl_tyconref"><span class="mpre">Day</span></span></a><span class="mpre"> -&gt; (</span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">)
</span><a name="loc_49_1_49_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_1_49_16&#39;)"><span class="hl_fundecl"><span class="mpre">addJulianMonths</span></span></a><span class="mpre"> </span><a name="loc_49_17_49_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_17_49_18&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_49_19_49_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_19_49_22&#39;)"><span class="hl_vardecl"><span class="mpre">day</span></span></a><span class="mpre"> = (</span><a href="#loc_51_10_51_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_10_51_12&#39;)"><span class="hl_varref"><span class="mpre">y&#39;</span></span></a><span class="mpre">,</span><a href="#loc_51_13_51_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_13_51_15&#39;)"><span class="hl_varref"><span class="mpre">m&#39;</span></span></a><span class="mpre">,</span><a href="#loc_50_14_50_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_14_50_15&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre">) where
        (</span><a name="loc_50_10_50_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_10_50_11&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">,</span><a name="loc_50_12_50_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_12_50_13&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre">,</span><a name="loc_50_14_50_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_14_50_15&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre">) = </span><a href="#loc_20_1_20_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_1_20_9&#39;)"><span class="hl_varref"><span class="mpre">toJulian</span></span></a><span class="mpre"> </span><a href="#loc_49_19_49_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_19_49_22&#39;)"><span class="hl_varref"><span class="mpre">day</span></span></a><span class="mpre">
        (</span><a name="loc_51_10_51_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_10_51_12&#39;)"><span class="hl_vardecl"><span class="mpre">y&#39;</span></span></a><span class="mpre">,</span><a name="loc_51_13_51_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_13_51_15&#39;)"><span class="hl_vardecl"><span class="mpre">m&#39;</span></span></a><span class="mpre">) = </span><a href="#loc_46_1_46_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_1_46_15&#39;)"><span class="hl_varref"><span class="mpre">rolloverMonths</span></span></a><span class="mpre"> (</span><a href="#loc_50_10_50_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_10_50_11&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">,</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_50_12_50_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_12_50_13&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_49_17_49_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_17_49_18&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Add months, with days past the last day of the month clipped to the last day.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- For instance, 2005-01-30 + 1 month = 2005-02-28.</span></span><span class="mpre">
</span><a href="#loc_56_1_56_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_1_56_20&#39;)"><span class="mpre">addJulianMonthsClip</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre"> -&gt; </span><a href="Data.Time.Calendar.Days.html#loc_18_9_18_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Days.html#loc_18_9_18_12&#39;)"><span class="hl_tyconref"><span class="mpre">Day</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Time.Calendar.Days.html#loc_18_9_18_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Days.html#loc_18_9_18_12&#39;)"><span class="hl_tyconref"><span class="mpre">Day</span></span></a><span class="mpre">
</span><a name="loc_56_1_56_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_1_56_20&#39;)"><span class="hl_fundecl"><span class="mpre">addJulianMonthsClip</span></span></a><span class="mpre"> </span><a name="loc_56_21_56_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_21_56_22&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_56_23_56_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_23_56_26&#39;)"><span class="hl_vardecl"><span class="mpre">day</span></span></a><span class="mpre"> = </span><a href="#loc_27_1_27_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_1_27_11&#39;)"><span class="hl_varref"><span class="mpre">fromJulian</span></span></a><span class="mpre"> </span><a href="#loc_57_10_57_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_10_57_11&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> </span><a href="#loc_57_12_57_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_12_57_13&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><a href="#loc_57_14_57_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_14_57_15&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre"> where
        (</span><a name="loc_57_10_57_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_10_57_11&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">,</span><a name="loc_57_12_57_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_12_57_13&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre">,</span><a name="loc_57_14_57_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_14_57_15&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre">) = </span><a href="#loc_49_1_49_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_1_49_16&#39;)"><span class="hl_varref"><span class="mpre">addJulianMonths</span></span></a><span class="mpre"> </span><a href="#loc_56_21_56_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_21_56_22&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_56_23_56_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_23_56_26&#39;)"><span class="hl_varref"><span class="mpre">day</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Add months, with days past the last day of the month rolling over to the next month.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- For instance, 2005-01-30 + 1 month = 2005-03-02.</span></span><span class="mpre">
</span><a href="#loc_62_1_62_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_1_62_24&#39;)"><span class="mpre">addJulianMonthsRollOver</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre"> -&gt; </span><a href="Data.Time.Calendar.Days.html#loc_18_9_18_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Days.html#loc_18_9_18_12&#39;)"><span class="hl_tyconref"><span class="mpre">Day</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Time.Calendar.Days.html#loc_18_9_18_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Days.html#loc_18_9_18_12&#39;)"><span class="hl_tyconref"><span class="mpre">Day</span></span></a><span class="mpre">
</span><a name="loc_62_1_62_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_1_62_24&#39;)"><span class="hl_fundecl"><span class="mpre">addJulianMonthsRollOver</span></span></a><span class="mpre"> </span><a name="loc_62_25_62_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_25_62_26&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_62_27_62_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_27_62_30&#39;)"><span class="hl_vardecl"><span class="mpre">day</span></span></a><span class="mpre"> = </span><a href="Data.Time.Calendar.Days.html#loc_48_1_48_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Days.html#loc_48_1_48_8&#39;)"><span class="hl_varref"><span class="mpre">addDays</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_63_14_63_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_14_63_15&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) (</span><a href="#loc_27_1_27_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_27_1_27_11&#39;)"><span class="hl_varref"><span class="mpre">fromJulian</span></span></a><span class="mpre"> </span><a href="#loc_63_10_63_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_10_63_11&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> </span><a href="#loc_63_12_63_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_12_63_13&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) where
        (</span><a name="loc_63_10_63_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_10_63_11&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">,</span><a name="loc_63_12_63_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_12_63_13&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre">,</span><a name="loc_63_14_63_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_14_63_15&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre">) = </span><a href="#loc_49_1_49_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_1_49_16&#39;)"><span class="hl_varref"><span class="mpre">addJulianMonths</span></span></a><span class="mpre"> </span><a href="#loc_62_25_62_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_25_62_26&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_62_27_62_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_27_62_30&#39;)"><span class="hl_varref"><span class="mpre">day</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Add years, matching month and day, with Feb 29th clipped to Feb 28th if necessary.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- For instance, 2004-02-29 + 2 years = 2006-02-28.</span></span><span class="mpre">
</span><a href="#loc_68_1_68_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_1_68_19&#39;)"><span class="mpre">addJulianYearsClip</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre"> -&gt; </span><a href="Data.Time.Calendar.Days.html#loc_18_9_18_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Days.html#loc_18_9_18_12&#39;)"><span class="hl_tyconref"><span class="mpre">Day</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Time.Calendar.Days.html#loc_18_9_18_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Days.html#loc_18_9_18_12&#39;)"><span class="hl_tyconref"><span class="mpre">Day</span></span></a><span class="mpre">
</span><a name="loc_68_1_68_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_1_68_19&#39;)"><span class="hl_fundecl"><span class="mpre">addJulianYearsClip</span></span></a><span class="mpre"> </span><a name="loc_68_20_68_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_20_68_21&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_56_1_56_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_1_56_20&#39;)"><span class="hl_varref"><span class="mpre">addJulianMonthsClip</span></span></a><span class="mpre"> (</span><a href="#loc_68_20_68_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_20_68_21&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">*</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">12</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Add years, matching month and day, with Feb 29th rolled over to Mar 1st if necessary.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- For instance, 2004-02-29 + 2 years = 2006-03-01.</span></span><span class="mpre">
</span><a href="#loc_73_1_73_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_1_73_23&#39;)"><span class="mpre">addJulianYearsRollOver</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Integer</span></span><span class="mpre"> -&gt; </span><a href="Data.Time.Calendar.Days.html#loc_18_9_18_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Days.html#loc_18_9_18_12&#39;)"><span class="hl_tyconref"><span class="mpre">Day</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Time.Calendar.Days.html#loc_18_9_18_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Days.html#loc_18_9_18_12&#39;)"><span class="hl_tyconref"><span class="mpre">Day</span></span></a><span class="mpre">
</span><a name="loc_73_1_73_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_1_73_23&#39;)"><span class="hl_fundecl"><span class="mpre">addJulianYearsRollOver</span></span></a><span class="mpre"> </span><a name="loc_73_24_73_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_24_73_25&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_62_1_62_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_1_62_24&#39;)"><span class="hl_varref"><span class="mpre">addJulianMonthsRollOver</span></span></a><span class="mpre"> (</span><a href="#loc_73_24_73_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_24_73_25&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">*</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">12</span></span><span class="mpre">)
</span></div></body></html>