<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">{-

Module : System.ByteOrder
Copyright : (c) Antoine Latter 2009
License : BSD3

Maintainer : Antoine Latter &lt;aslatter@gmail.com&gt;

-}</span></span><span class="mpre">

{-# OPTIONS_GHC -fno-cse #-}

module System.ByteOrder(byteOrder, ByteOrder(..)) where

import Foreign.Marshal.Alloc (</span><a href="Foreign.Marshal.Alloc.html#loc_107_1_107_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.Marshal.Alloc.html#loc_107_1_107_7&#39;)"><span class="mpre">alloca</span></a><span class="mpre">)
import Foreign.Marshal.Array (</span><a href="Foreign.Marshal.Array.html#loc_134_1_134_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.Marshal.Array.html#loc_134_1_134_10&#39;)"><span class="mpre">peekArray</span></a><span class="mpre">)
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/byteorder-1.0.4/System/ByteOrder.hs&quot;, srcSpanStartLine = 17, srcSpanStartColumn = 8, srcSpanEndLine = 17, srcSpanEndColumn = 19}, srcInfoPoints = []}) &quot;Foreign.Ptr&quot;"><span class="mpre">Foreign.Ptr</span></span><span class="mpre"> (castPtr)
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/byteorder-1.0.4/System/ByteOrder.hs&quot;, srcSpanStartLine = 18, srcSpanStartColumn = 8, srcSpanEndLine = 18, srcSpanEndColumn = 24}, srcInfoPoints = []}) &quot;Foreign.Storable&quot;"><span class="mpre">Foreign.Storable</span></span><span class="mpre"> (poke)
import Data.Word
import System.IO.Unsafe (</span><a href="GHC.IO.html#loc_165_1_165_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_165_1_165_16&#39;)"><span class="mpre">unsafePerformIO</span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- |Indicates the byte-ordering for a 4-byte value, where &#39;1&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- indicates the most-significant byte and &#39;4&#39; indicates the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- least significant byte.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- In this format, big endian byte order would be represented as:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (1,2,3,4).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- For convinience, the most common cases (BigEndian and LittleEndian)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- are provided their own constructors.</span></span><span class="mpre">
data </span><a name="loc_31_6_31_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_31_6_31_15&#39;)"><span class="hl_tycondecl"><span class="mpre">ByteOrder</span></span></a><span class="mpre">
    = </span><a name="loc_32_7_32_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_7_32_16&#39;)"><span class="hl_condecl"><span class="mpre">BigEndian</span></span></a><span class="mpre">
    | </span><a name="loc_33_7_33_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_7_33_19&#39;)"><span class="hl_condecl"><span class="mpre">LittleEndian</span></span></a><span class="mpre">
    | </span><a name="loc_34_7_34_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_7_34_12&#39;)"><span class="hl_condecl"><span class="mpre">Mixed</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">)
 </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/byteorder-1.0.4/System/ByteOrder.hs&quot;, srcSpanStartLine = 35, srcSpanStartColumn = 2, srcSpanEndLine = 35, srcSpanEndColumn = 32}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/byteorder-1.0.4/System/ByteOrder.hs&quot;, srcSpanStartLine = 35, srcSpanStartColumn = 2, srcSpanEndLine = 35, srcSpanEndColumn = 10},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/byteorder-1.0.4/System/ByteOrder.hs&quot;, srcSpanStartLine "><span class="mpre">deriving (Eq, Show, Read, Ord)</span></span><span class="mpre">

</span><a href="#loc_38_1_38_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_1_38_6&#39;)"><span class="mpre">input</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Word32</span></span><span class="mpre">
</span><a name="loc_38_1_38_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_1_38_6&#39;)"><span class="hl_vardecl"><span class="mpre">input</span></span></a><span class="mpre"> = </span><span class="hl_num"><span class="mpre">0x01020304</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |Returns the native byte ordering of the system.</span></span><span class="mpre">
</span><a href="#loc_42_1_42_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_1_42_10&#39;)"><span class="mpre">byteOrder</span></a><span class="mpre"> :: </span><a href="#loc_31_6_31_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_31_6_31_15&#39;)"><span class="hl_tyconref"><span class="mpre">ByteOrder</span></span></a><span class="mpre">
</span><a name="loc_42_1_42_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_1_42_10&#39;)"><span class="hl_vardecl"><span class="mpre">byteOrder</span></span></a><span class="mpre"> = </span><a href="GHC.IO.html#loc_165_1_165_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_165_1_165_16&#39;)"><span class="hl_varref"><span class="mpre">unsafePerformIO</span></span></a><span class="mpre"> </span><a href="#loc_46_1_46_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_1_46_12&#39;)"><span class="hl_varref"><span class="mpre">byteOrderIO</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# NOINLINE </span><a href="#loc_42_1_42_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_1_42_10&#39;)"><span class="mpre">byteOrder</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_46_1_46_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_1_46_12&#39;)"><span class="mpre">byteOrderIO</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="#loc_31_6_31_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_31_6_31_15&#39;)"><span class="hl_tyconref"><span class="mpre">ByteOrder</span></span></a><span class="mpre">
</span><a name="loc_46_1_46_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_1_46_12&#39;)"><span class="hl_vardecl"><span class="mpre">byteOrderIO</span></span></a><span class="mpre"> = </span><a href="#loc_55_1_55_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_1_55_17&#39;)"><span class="hl_varref"><span class="mpre">bytesToByteOrder</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`fmap`</span></span><span class="mpre"> </span><a href="#loc_49_1_49_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_1_49_12&#39;)"><span class="hl_varref"><span class="mpre">wordToBytes</span></span></a><span class="mpre"> </span><a href="#loc_38_1_38_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_1_38_6&#39;)"><span class="hl_varref"><span class="mpre">input</span></span></a><span class="mpre">

</span><a href="#loc_49_1_49_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_1_49_12&#39;)"><span class="mpre">wordToBytes</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Word32</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">)
</span><a name="loc_49_1_49_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_1_49_12&#39;)"><span class="hl_fundecl"><span class="mpre">wordToBytes</span></span></a><span class="mpre"> </span><a name="loc_49_13_49_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_13_49_17&#39;)"><span class="hl_vardecl"><span class="mpre">word</span></span></a><span class="mpre"> = </span><a href="Foreign.Marshal.Alloc.html#loc_107_1_107_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.Marshal.Alloc.html#loc_107_1_107_7&#39;)"><span class="hl_varref"><span class="mpre">alloca</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_49_30_49_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_30_49_37&#39;)"><span class="hl_vardecl"><span class="mpre">wordPtr</span></span></a><span class="mpre"> -&gt; do
         </span><span class="hl_varref"><span class="mpre">poke</span></span><span class="mpre"> </span><a href="#loc_49_30_49_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_30_49_37&#39;)"><span class="hl_varref"><span class="mpre">wordPtr</span></span></a><span class="mpre"> </span><a href="#loc_49_13_49_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_13_49_17&#39;)"><span class="hl_varref"><span class="mpre">word</span></span></a><span class="mpre">
         [</span><a name="loc_51_11_51_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_11_51_13&#39;)"><span class="hl_vardecl"><span class="mpre">x1</span></span></a><span class="mpre">,</span><a name="loc_51_14_51_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_14_51_16&#39;)"><span class="hl_vardecl"><span class="mpre">x2</span></span></a><span class="mpre">,</span><a name="loc_51_17_51_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_17_51_19&#39;)"><span class="hl_vardecl"><span class="mpre">x3</span></span></a><span class="mpre">,</span><a name="loc_51_20_51_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_20_51_22&#39;)"><span class="hl_vardecl"><span class="mpre">x4</span></span></a><span class="mpre">] &lt;- </span><a href="Foreign.Marshal.Array.html#loc_134_1_134_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.Marshal.Array.html#loc_134_1_134_10&#39;)"><span class="hl_varref"><span class="mpre">peekArray</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">castPtr</span></span><span class="mpre"> </span><a href="#loc_49_30_49_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_30_49_37&#39;)"><span class="hl_varref"><span class="mpre">wordPtr</span></span></a><span class="mpre">)
         </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_51_11_51_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_11_51_13&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre">,</span><a href="#loc_51_14_51_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_14_51_16&#39;)"><span class="hl_varref"><span class="mpre">x2</span></span></a><span class="mpre">,</span><a href="#loc_51_17_51_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_17_51_19&#39;)"><span class="hl_varref"><span class="mpre">x3</span></span></a><span class="mpre">,</span><a href="#loc_51_20_51_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_20_51_22&#39;)"><span class="hl_varref"><span class="mpre">x4</span></span></a><span class="mpre">)

</span><a href="#loc_55_1_55_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_1_55_17&#39;)"><span class="mpre">bytesToByteOrder</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">) -&gt; </span><a href="#loc_31_6_31_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_31_6_31_15&#39;)"><span class="hl_tyconref"><span class="mpre">ByteOrder</span></span></a><span class="mpre">
</span><a name="loc_55_1_55_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_1_55_17&#39;)"><span class="hl_fundecl"><span class="mpre">bytesToByteOrder</span></span></a><span class="mpre"> (</span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">, </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">, </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">, </span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre">)     = </span><a href="#loc_32_7_32_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_7_32_16&#39;)"><span class="hl_conref"><span class="mpre">BigEndian</span></span></a><span class="mpre">
</span><a href="#loc_55_1_55_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_1_55_17&#39;)"><span class="hl_fundecl"><span class="mpre">bytesToByteOrder</span></span></a><span class="mpre"> (</span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre">, </span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">, </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">, </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)     = </span><a href="#loc_33_7_33_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_7_33_19&#39;)"><span class="hl_conref"><span class="mpre">LittleEndian</span></span></a><span class="mpre">
</span><a href="#loc_55_1_55_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_1_55_17&#39;)"><span class="hl_fundecl"><span class="mpre">bytesToByteOrder</span></span></a><span class="mpre"> (</span><a name="loc_57_19_57_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_19_57_21&#39;)"><span class="hl_vardecl"><span class="mpre">x1</span></span></a><span class="mpre">, </span><a name="loc_57_23_57_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_23_57_25&#39;)"><span class="hl_vardecl"><span class="mpre">x2</span></span></a><span class="mpre">, </span><a name="loc_57_27_57_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_27_57_29&#39;)"><span class="hl_vardecl"><span class="mpre">x3</span></span></a><span class="mpre">, </span><a name="loc_57_31_57_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_31_57_33&#39;)"><span class="hl_vardecl"><span class="mpre">x4</span></span></a><span class="mpre">) = </span><a href="#loc_34_7_34_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_34_7_34_12&#39;)"><span class="hl_conref"><span class="mpre">Mixed</span></span></a><span class="mpre"> (</span><a href="#loc_57_19_57_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_19_57_21&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre">,</span><a href="#loc_57_23_57_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_23_57_25&#39;)"><span class="hl_varref"><span class="mpre">x2</span></span></a><span class="mpre">,</span><a href="#loc_57_27_57_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_27_57_29&#39;)"><span class="hl_varref"><span class="mpre">x3</span></span></a><span class="mpre">,</span><a href="#loc_57_31_57_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_31_57_33&#39;)"><span class="hl_varref"><span class="mpre">x4</span></span></a><span class="mpre">)

</span></div></body></html>