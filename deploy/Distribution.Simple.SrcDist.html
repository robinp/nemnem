<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Distribution.Simple.SrcDist</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  Simon Marlow 2004</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  cabal-devel@haskell.org</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This handles the @sdist@ command. The module exports an &#39;sdist&#39; action but</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- also some of the phases that make it up so that other tools can use just the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- bits they need. In particular the preparation of the tree of files to go</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- into the source tarball is separated from actually building the source</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- tarball.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The &#39;createArchive&#39; action uses the external @tar@ program and assumes that</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- it accepts the @-z@ flag. Neither of these assumptions are valid on Windows.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The &#39;sdist&#39; action now also does some distribution QA checks.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{- Copyright (c) 2003-2004, Simon Marlow
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.

    * Redistributions in binary form must reproduce the above
      copyright notice, this list of conditions and the following
      disclaimer in the documentation and/or other materials provided
      with the distribution.

    * Neither the name of Isaac Jones nor the names of other
      contributors may be used to endorse or promote products derived
      from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
&quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- NOTE: FIX: we don&#39;t have a great way of testing this module, since</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- we can&#39;t easily look inside a tarball once its created.</span></span><span class="mpre">

module Distribution.Simple.SrcDist (
  </span><span class="hl_comment"><span class="mpre">-- * The top level action</span></span><span class="mpre">
  sdist,

  </span><span class="hl_comment"><span class="mpre">-- ** Parts of &#39;sdist&#39;</span></span><span class="mpre">
  printPackageProblems,
  prepareTree,
  createArchive,

  </span><span class="hl_comment"><span class="mpre">-- ** Snaphots</span></span><span class="mpre">
  prepareSnapshotTree,
  snapshotPackage,
  snapshotVersion,
  dateToSnapshotNumber,

  </span><span class="hl_comment"><span class="mpre">-- * Extracting the source files</span></span><span class="mpre">
  listPackageSources

  )  where

import Distribution.PackageDescription
         ( </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="mpre">PackageDescription</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="mpre">BuildInfo</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_347_6_347_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_347_6_347_16&#39;)"><span class="mpre">Executable</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_299_6_299_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_299_6_299_13&#39;)"><span class="mpre">Library</span></a><span class="mpre">(..)
         , </span><a href="Distribution.PackageDescription.html#loc_395_6_395_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_395_6_395_15&#39;)"><span class="mpre">TestSuite</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_414_6_414_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_414_6_414_24&#39;)"><span class="mpre">TestSuiteInterface</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_530_6_530_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_530_6_530_15&#39;)"><span class="mpre">Benchmark</span></a><span class="mpre">(..)
         , </span><a href="Distribution.PackageDescription.html#loc_545_6_545_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_545_6_545_24&#39;)"><span class="mpre">BenchmarkInterface</span></a><span class="mpre">(..) )
import Distribution.PackageDescription.Check
         ( </span><a href="Distribution.PackageDescription.Check.html#loc_119_6_119_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.Check.html#loc_119_6_119_18&#39;)"><span class="mpre">PackageCheck</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.Check.html#loc_184_1_184_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.Check.html#loc_184_1_184_23&#39;)"><span class="mpre">checkConfiguredPackage</span></a><span class="mpre">, </span><a href="Distribution.PackageDescription.Check.html#loc_1304_1_1304_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.Check.html#loc_1304_1_1304_18&#39;)"><span class="mpre">checkPackageFiles</span></a><span class="mpre"> )
import Distribution.Package
         ( </span><a href="Distribution.Package.html#loc_102_6_102_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_102_6_102_23&#39;)"><span class="mpre">PackageIdentifier</span></a><span class="mpre">(</span><a href="Distribution.Package.html#loc_105_9_105_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_105_9_105_19&#39;)"><span class="mpre">pkgVersion</span></a><span class="mpre">), </span><a href="Distribution.Package.html#loc_183_7_183_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_183_7_183_14&#39;)"><span class="mpre">Package</span></a><span class="mpre">(..), </span><a href="Distribution.Package.html#loc_190_1_190_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_190_1_190_15&#39;)"><span class="mpre">packageVersion</span></a><span class="mpre"> )
import Distribution.ModuleName (</span><a href="Distribution.ModuleName.html#loc_67_9_67_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_67_9_67_19&#39;)"><span class="mpre">ModuleName</span></a><span class="mpre">)
import qualified Distribution.ModuleName as ModuleName
import Distribution.Version
         ( </span><a href="Data.Version.html#loc_68_6_68_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Version.html#loc_68_6_68_13&#39;)"><span class="mpre">Version</span></a><span class="mpre">(versionBranch) )
import Distribution.Simple.Utils
         ( </span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="mpre">createDirectoryIfMissingVerbose</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_1249_1_1249_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1249_1_1249_21&#39;)"><span class="mpre">withUTF8FileContents</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_1260_1_1260_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1260_1_1260_14&#39;)"><span class="mpre">writeUTF8File</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Utils.html#loc_949_1_949_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_949_1_949_21&#39;)"><span class="mpre">installOrdinaryFiles</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_961_1_961_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_961_1_961_28&#39;)"><span class="mpre">installMaybeExecutableFiles</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Utils.html#loc_646_1_646_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_646_1_646_9&#39;)"><span class="mpre">findFile</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_660_1_660_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_660_1_660_22&#39;)"><span class="mpre">findFileWithExtension</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_777_1_777_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_777_1_777_14&#39;)"><span class="mpre">matchFileGlob</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Utils.html#loc_1036_1_1036_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1036_1_1036_18&#39;)"><span class="mpre">withTempDirectory</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_1109_1_1109_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1109_1_1109_19&#39;)"><span class="mpre">defaultPackageDesc</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="mpre">die</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_279_1_279_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_279_1_279_5&#39;)"><span class="mpre">warn</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_292_1_292_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_292_1_292_7&#39;)"><span class="mpre">notice</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_297_1_297_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_297_1_297_13&#39;)"><span class="mpre">setupMessage</span></a><span class="mpre"> )
import Distribution.Simple.Setup ( </span><a href="Distribution.Simple.Setup.html#loc_154_6_154_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Setup.html#loc_154_6_154_10&#39;)"><span class="mpre">Flag</span></a><span class="mpre">(..), </span><a href="Distribution.Simple.Setup.html#loc_829_6_829_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Setup.html#loc_829_6_829_16&#39;)"><span class="mpre">SDistFlags</span></a><span class="mpre">(..)
                                 , </span><a href="Distribution.Simple.Setup.html#loc_185_1_185_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Setup.html#loc_185_1_185_9&#39;)"><span class="mpre">fromFlag</span></a><span class="mpre">, </span><a href="Distribution.Simple.Setup.html#loc_193_1_193_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Setup.html#loc_193_1_193_12&#39;)"><span class="mpre">flagToMaybe</span></a><span class="mpre">)
import Distribution.Simple.PreProcess ( PPSuffixHandler, </span><a href="Distribution.Simple.PreProcess.html#loc_628_1_628_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PreProcess.html#loc_628_1_628_11&#39;)"><span class="mpre">ppSuffixes</span></a><span class="mpre">
                                      , </span><a href="Distribution.Simple.PreProcess.html#loc_188_1_188_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PreProcess.html#loc_188_1_188_20&#39;)"><span class="mpre">preprocessComponent</span></a><span class="mpre"> )
import Distribution.Simple.LocalBuildInfo
         ( </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="mpre">LocalBuildInfo</span></a><span class="mpre">(..), </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_354_1_354_30" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_354_1_354_30&#39;)"><span class="mpre">withAllComponentsInBuildOrder</span></a><span class="mpre"> )
import Distribution.Simple.BuildPaths ( </span><a href="Distribution.Simple.BuildPaths.html#loc_101_1_101_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_101_1_101_18&#39;)"><span class="mpre">autogenModuleName</span></a><span class="mpre"> )
import Distribution.Simple.Program ( </span><a href="Distribution.Simple.Program.html#loc_215_1_215_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_215_1_215_28&#39;)"><span class="mpre">defaultProgramConfiguration</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Db.html#loc_371_1_371_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_371_1_371_15&#39;)"><span class="mpre">requireProgram</span></a><span class="mpre">,
                              </span><a href="Distribution.Simple.Program.html#loc_197_1_197_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_197_1_197_17&#39;)"><span class="mpre">rawSystemProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Builtin.html#loc_263_1_263_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_263_1_263_11&#39;)"><span class="mpre">tarProgram</span></a><span class="mpre"> )
import Distribution.Text
         ( </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="mpre">display</span></a><span class="mpre"> )

import Control.Monad(</span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="mpre">when</span></a><span class="mpre">, </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="mpre">unless</span></a><span class="mpre">, </span><a href="Control.Monad.html#loc_163_1_163_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_163_1_163_5&#39;)"><span class="mpre">forM</span></a><span class="mpre">)
import Data.Char (</span><a href="GHC.Unicode.html#loc_143_1_143_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Unicode.html#loc_143_1_143_8&#39;)"><span class="mpre">toLower</span></a><span class="mpre">)
import Data.List (</span><a href="Data.List.html#loc_464_1_464_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_464_1_464_10&#39;)"><span class="mpre">partition</span></a><span class="mpre">, </span><a href="Data.List.html#loc_286_1_286_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_286_1_286_11&#39;)"><span class="mpre">isPrefixOf</span></a><span class="mpre">)
import Data.Maybe (</span><a href="Data.Maybe.html#loc_85_1_85_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_85_1_85_10&#39;)"><span class="mpre">isNothing</span></a><span class="mpre">, </span><a href="Data.Maybe.html#loc_115_1_115_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_115_1_115_10&#39;)"><span class="mpre">catMaybes</span></a><span class="mpre">)
import Data.Time (</span><a href="Data.Time.Clock.UTC.html#loc_31_6_31_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Clock.UTC.html#loc_31_6_31_13&#39;)"><span class="mpre">UTCTime</span></a><span class="mpre">, getCurrentTime, </span><a href="Data.Time.Calendar.Gregorian.html#loc_25_1_25_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Gregorian.html#loc_25_1_25_12&#39;)"><span class="mpre">toGregorian</span></a><span class="mpre">, </span><a href="Data.Time.Clock.UTC.html#loc_33_9_33_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Clock.UTC.html#loc_33_9_33_16&#39;)"><span class="mpre">utctDay</span></a><span class="mpre">)
import System.Directory ( </span><a href="System.Directory.html#loc_726_1_726_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_726_1_726_14&#39;)"><span class="mpre">doesFileExist</span></a><span class="mpre"> )
import System.IO (</span><a href="GHC.IO.IOMode.html#loc_28_6_28_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.IOMode.html#loc_28_6_28_12&#39;)"><span class="mpre">IOMode</span></a><span class="mpre">(</span><a href="GHC.IO.IOMode.html#loc_28_32_28_41" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.IOMode.html#loc_28_32_28_41&#39;)"><span class="mpre">WriteMode</span></a><span class="mpre">), hPutStrLn, </span><a href="System.IO.html#loc_390_1_390_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.html#loc_390_1_390_9&#39;)"><span class="mpre">withFile</span></a><span class="mpre">)
import Distribution.Verbosity (</span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="mpre">Verbosity</span></a><span class="mpre">)
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 111, srcSpanStartColumn = 8, srcSpanEndLine = 111, srcSpanEndColumn = 23}, srcInfoPoints = []}) &quot;System.FilePath&quot;"><span class="mpre">System.FilePath</span></span><span class="mpre">
         ( (&lt;/&gt;), (&lt;.&gt;), dropExtension, isAbsolute )

</span><span class="hl_comment"><span class="mpre">-- |Create a source distribution.</span></span><span class="mpre">
</span><a href="#loc_121_1_121_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_1_121_6&#39;)"><span class="mpre">sdist</span></a><span class="mpre"> :: </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre">     </span><span class="hl_comment"><span class="mpre">-- ^information from the tarball</span></span><span class="mpre">
      -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre">   </span><span class="hl_comment"><span class="mpre">-- ^Information from configure</span></span><span class="mpre">
      -&gt; </span><a href="Distribution.Simple.Setup.html#loc_829_6_829_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Setup.html#loc_829_6_829_16&#39;)"><span class="hl_tyconref"><span class="mpre">SDistFlags</span></span></a><span class="mpre">             </span><span class="hl_comment"><span class="mpre">-- ^verbosity &amp; snapshot</span></span><span class="mpre">
      -&gt; (</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">) </span><span class="hl_comment"><span class="mpre">-- ^build prefix (temp dir)</span></span><span class="mpre">
      -&gt; [</span><span class="hl_tyconref"><span class="mpre">PPSuffixHandler</span></span><span class="mpre">]      </span><span class="hl_comment"><span class="mpre">-- ^ extra preprocessors (includes suffixes)</span></span><span class="mpre">
      -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_121_1_121_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_1_121_6&#39;)"><span class="hl_fundecl"><span class="mpre">sdist</span></span></a><span class="mpre"> </span><a name="loc_121_7_121_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_7_121_10&#39;)"><span class="hl_vardecl"><span class="mpre">pkg</span></span></a><span class="mpre"> </span><a name="loc_121_11_121_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_11_121_17&#39;)"><span class="hl_vardecl"><span class="mpre">mb_lbi</span></span></a><span class="mpre"> </span><a name="loc_121_18_121_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_18_121_23&#39;)"><span class="hl_vardecl"><span class="mpre">flags</span></span></a><span class="mpre"> </span><a name="loc_121_24_121_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_24_121_32&#39;)"><span class="hl_vardecl"><span class="mpre">mkTmpDir</span></span></a><span class="mpre"> </span><a name="loc_121_33_121_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_33_121_36&#39;)"><span class="hl_vardecl"><span class="mpre">pps</span></span></a><span class="mpre"> =

  </span><span class="hl_comment"><span class="mpre">-- When given --list-sources, just output the list of sources to a file.</span></span><span class="mpre">
  case (</span><a href="Distribution.Simple.Setup.html#loc_833_5_833_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Setup.html#loc_833_5_833_21&#39;)"><span class="hl_varref"><span class="mpre">sDistListSources</span></span></a><span class="mpre"> </span><a href="#loc_121_18_121_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_18_121_23&#39;)"><span class="hl_varref"><span class="mpre">flags</span></span></a><span class="mpre">) of
    </span><a href="Distribution.Simple.Setup.html#loc_154_15_154_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Setup.html#loc_154_15_154_19&#39;)"><span class="hl_conref"><span class="mpre">Flag</span></span></a><span class="mpre"> </span><a name="loc_125_10_125_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_10_125_14&#39;)"><span class="hl_vardecl"><span class="mpre">path</span></span></a><span class="mpre"> -&gt; </span><a href="System.IO.html#loc_390_1_390_9" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.html#loc_390_1_390_9&#39;)"><span class="hl_varref"><span class="mpre">withFile</span></span></a><span class="mpre"> </span><a href="#loc_125_10_125_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_10_125_14&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre"> </span><a href="GHC.IO.IOMode.html#loc_28_32_28_41" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.IOMode.html#loc_28_32_28_41&#39;)"><span class="hl_conref"><span class="mpre">WriteMode</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_125_45_125_54" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_45_125_54&#39;)"><span class="hl_vardecl"><span class="mpre">outHandle</span></span></a><span class="mpre"> -&gt; do
      (</span><a name="loc_126_8_126_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_8_126_16&#39;)"><span class="hl_vardecl"><span class="mpre">ordinary</span></span></a><span class="mpre">, </span><a name="loc_126_18_126_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_18_126_33&#39;)"><span class="hl_vardecl"><span class="mpre">maybeExecutable</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_178_1_178_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_1_178_19&#39;)"><span class="hl_varref"><span class="mpre">listPackageSources</span></span></a><span class="mpre"> </span><a href="#loc_163_5_163_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_5_163_14&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_121_7_121_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_7_121_10&#39;)"><span class="hl_varref"><span class="mpre">pkg</span></span></a><span class="mpre"> </span><a href="#loc_121_33_121_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_33_121_36&#39;)"><span class="hl_varref"><span class="mpre">pps</span></span></a><span class="mpre">
      </span><span class="hl_varref"><span class="mpre">mapM_</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">hPutStrLn</span></span><span class="mpre"> </span><a href="#loc_125_45_125_54" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_45_125_54&#39;)"><span class="hl_varref"><span class="mpre">outHandle</span></span></a><span class="mpre">) </span><a href="#loc_126_8_126_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_8_126_16&#39;)"><span class="hl_varref"><span class="mpre">ordinary</span></span></a><span class="mpre">
      </span><span class="hl_varref"><span class="mpre">mapM_</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">hPutStrLn</span></span><span class="mpre"> </span><a href="#loc_125_45_125_54" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_45_125_54&#39;)"><span class="hl_varref"><span class="mpre">outHandle</span></span></a><span class="mpre">) </span><a href="#loc_126_18_126_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_18_126_33&#39;)"><span class="hl_varref"><span class="mpre">maybeExecutable</span></span></a><span class="mpre">
      </span><a href="Distribution.Simple.Utils.html#loc_292_1_292_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_292_1_292_7&#39;)"><span class="hl_varref"><span class="mpre">notice</span></span></a><span class="mpre"> </span><a href="#loc_163_5_163_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_5_163_14&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;List of package sources written to file &#39;&quot;</span></span><span class="mpre">
                         </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_125_10_125_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_10_125_14&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;&#39;&quot;</span></span><span class="mpre">
    </span><a href="Distribution.Simple.Setup.html#loc_154_24_154_30" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Setup.html#loc_154_24_154_30&#39;)"><span class="hl_conref"><span class="mpre">NoFlag</span></span></a><span class="mpre">    -&gt; do
      </span><span class="hl_comment"><span class="mpre">-- do some QA</span></span><span class="mpre">
      </span><a href="#loc_482_1_482_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_1_482_21&#39;)"><span class="hl_varref"><span class="mpre">printPackageProblems</span></span></a><span class="mpre"> </span><a href="#loc_163_5_163_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_5_163_14&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_121_7_121_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_7_121_10&#39;)"><span class="hl_varref"><span class="mpre">pkg</span></span></a><span class="mpre">

      </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> (</span><a href="Data.Maybe.html#loc_85_1_85_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_85_1_85_10&#39;)"><span class="hl_varref"><span class="mpre">isNothing</span></span></a><span class="mpre"> </span><a href="#loc_121_11_121_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_11_121_17&#39;)"><span class="hl_varref"><span class="mpre">mb_lbi</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
        </span><a href="Distribution.Simple.Utils.html#loc_279_1_279_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_279_1_279_5&#39;)"><span class="hl_varref"><span class="mpre">warn</span></span></a><span class="mpre"> </span><a href="#loc_163_5_163_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_5_163_14&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Cannot run preprocessors. Run &#39;configure&#39; command first.&quot;</span></span><span class="mpre">

      </span><a name="loc_138_7_138_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_7_138_11&#39;)"><span class="hl_vardecl"><span class="mpre">date</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">getCurrentTime</span></span><span class="mpre">
      let </span><a name="loc_139_11_139_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_11_139_15&#39;)"><span class="hl_vardecl"><span class="mpre">pkg&#39;</span></span></a><span class="mpre"> | </span><a href="#loc_164_5_164_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_5_164_13&#39;)"><span class="hl_varref"><span class="mpre">snapshot</span></span></a><span class="mpre">  = </span><a href="#loc_406_1_406_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_1_406_16&#39;)"><span class="hl_varref"><span class="mpre">snapshotPackage</span></span></a><span class="mpre"> </span><a href="#loc_138_7_138_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_7_138_11&#39;)"><span class="hl_varref"><span class="mpre">date</span></span></a><span class="mpre"> </span><a href="#loc_121_7_121_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_7_121_10&#39;)"><span class="hl_varref"><span class="mpre">pkg</span></span></a><span class="mpre">
               | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_121_7_121_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_7_121_10&#39;)"><span class="hl_varref"><span class="mpre">pkg</span></span></a><span class="mpre">

      case </span><a href="Distribution.Simple.Setup.html#loc_193_1_193_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Setup.html#loc_193_1_193_12&#39;)"><span class="hl_varref"><span class="mpre">flagToMaybe</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.Setup.html#loc_831_5_831_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Setup.html#loc_831_5_831_19&#39;)"><span class="hl_varref"><span class="mpre">sDistDirectory</span></span></a><span class="mpre"> </span><a href="#loc_121_18_121_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_18_121_23&#39;)"><span class="hl_varref"><span class="mpre">flags</span></span></a><span class="mpre">) of
        </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_143_14_143_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_14_143_23&#39;)"><span class="hl_vardecl"><span class="mpre">targetDir</span></span></a><span class="mpre"> -&gt; do
          </span><a href="#loc_156_5_156_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_5_156_22&#39;)"><span class="hl_varref"><span class="mpre">generateSourceDir</span></span></a><span class="mpre"> </span><a href="#loc_143_14_143_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_14_143_23&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><a href="#loc_139_11_139_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_11_139_15&#39;)"><span class="hl_varref"><span class="mpre">pkg&#39;</span></span></a><span class="mpre">
          </span><a href="Distribution.Simple.Utils.html#loc_292_1_292_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_292_1_292_7&#39;)"><span class="hl_varref"><span class="mpre">notice</span></span></a><span class="mpre"> </span><a href="#loc_163_5_163_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_5_163_14&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Source directory created: &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_143_14_143_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_14_143_23&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre">

        </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; do
          </span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="hl_varref"><span class="mpre">createDirectoryIfMissingVerbose</span></span></a><span class="mpre"> </span><a href="#loc_163_5_163_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_5_163_14&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> </span><a href="#loc_168_5_168_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_5_168_17&#39;)"><span class="hl_varref"><span class="mpre">tmpTargetDir</span></span></a><span class="mpre">
          </span><a href="Distribution.Simple.Utils.html#loc_1036_1_1036_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1036_1_1036_18&#39;)"><span class="hl_varref"><span class="mpre">withTempDirectory</span></span></a><span class="mpre"> </span><a href="#loc_163_5_163_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_5_163_14&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_168_5_168_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_5_168_17&#39;)"><span class="hl_varref"><span class="mpre">tmpTargetDir</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;sdist.&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_149_64_149_70" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_64_149_70&#39;)"><span class="hl_vardecl"><span class="mpre">tmpDir</span></span></a><span class="mpre"> -&gt; do
            let </span><a name="loc_150_17_150_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_17_150_26&#39;)"><span class="hl_vardecl"><span class="mpre">targetDir</span></span></a><span class="mpre"> = </span><a href="#loc_149_64_149_70" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_64_149_70&#39;)"><span class="hl_varref"><span class="mpre">tmpDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_503_1_503_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_503_1_503_12&#39;)"><span class="hl_varref"><span class="mpre">tarBallName</span></span></a><span class="mpre"> </span><a href="#loc_139_11_139_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_11_139_15&#39;)"><span class="hl_varref"><span class="mpre">pkg&#39;</span></span></a><span class="mpre">
            </span><a href="#loc_156_5_156_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_5_156_22&#39;)"><span class="hl_varref"><span class="mpre">generateSourceDir</span></span></a><span class="mpre"> </span><a href="#loc_150_17_150_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_17_150_26&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><a href="#loc_139_11_139_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_11_139_15&#39;)"><span class="hl_varref"><span class="mpre">pkg&#39;</span></span></a><span class="mpre">
            </span><a name="loc_152_13_152_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_13_152_22&#39;)"><span class="hl_vardecl"><span class="mpre">targzFile</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_441_1_441_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_441_1_441_14&#39;)"><span class="hl_varref"><span class="mpre">createArchive</span></span></a><span class="mpre"> </span><a href="#loc_163_5_163_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_5_163_14&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_139_11_139_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_11_139_15&#39;)"><span class="hl_varref"><span class="mpre">pkg&#39;</span></span></a><span class="mpre"> </span><a href="#loc_121_11_121_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_11_121_17&#39;)"><span class="hl_varref"><span class="mpre">mb_lbi</span></span></a><span class="mpre"> </span><a href="#loc_149_64_149_70" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_64_149_70&#39;)"><span class="hl_varref"><span class="mpre">tmpDir</span></span></a><span class="mpre"> </span><a href="#loc_167_5_167_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_5_167_15&#39;)"><span class="hl_varref"><span class="mpre">targetPref</span></span></a><span class="mpre">
            </span><a href="Distribution.Simple.Utils.html#loc_292_1_292_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_292_1_292_7&#39;)"><span class="hl_varref"><span class="mpre">notice</span></span></a><span class="mpre"> </span><a href="#loc_163_5_163_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_5_163_14&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Source tarball created: &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_152_13_152_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_13_152_22&#39;)"><span class="hl_varref"><span class="mpre">targzFile</span></span></a><span class="mpre">

  where
    </span><a name="loc_156_5_156_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_5_156_22&#39;)"><span class="hl_fundecl"><span class="mpre">generateSourceDir</span></span></a><span class="mpre"> </span><a name="loc_156_23_156_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_23_156_32&#39;)"><span class="hl_vardecl"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><a name="loc_156_33_156_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_33_156_37&#39;)"><span class="hl_vardecl"><span class="mpre">pkg&#39;</span></span></a><span class="mpre"> = do

      </span><a href="Distribution.Simple.Utils.html#loc_297_1_297_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_297_1_297_13&#39;)"><span class="hl_varref"><span class="mpre">setupMessage</span></span></a><span class="mpre"> </span><a href="#loc_163_5_163_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_5_163_14&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Building source dist for&quot;</span></span><span class="mpre"> (</span><a href="Distribution.Package.html#loc_184_3_184_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_184_3_184_12&#39;)"><span class="hl_varref"><span class="mpre">packageId</span></span></a><span class="mpre"> </span><a href="#loc_156_33_156_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_33_156_37&#39;)"><span class="hl_varref"><span class="mpre">pkg&#39;</span></span></a><span class="mpre">)
      </span><a href="#loc_291_1_291_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_1_291_12&#39;)"><span class="hl_varref"><span class="mpre">prepareTree</span></span></a><span class="mpre"> </span><a href="#loc_163_5_163_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_5_163_14&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_156_33_156_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_33_156_37&#39;)"><span class="hl_varref"><span class="mpre">pkg&#39;</span></span></a><span class="mpre"> </span><a href="#loc_121_11_121_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_11_121_17&#39;)"><span class="hl_varref"><span class="mpre">mb_lbi</span></span></a><span class="mpre"> </span><a href="#loc_156_23_156_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_23_156_32&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><a href="#loc_121_33_121_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_33_121_36&#39;)"><span class="hl_varref"><span class="mpre">pps</span></span></a><span class="mpre">
      </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> </span><a href="#loc_164_5_164_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_5_164_13&#39;)"><span class="hl_varref"><span class="mpre">snapshot</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
        </span><a href="#loc_387_1_387_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_387_1_387_29&#39;)"><span class="hl_varref"><span class="mpre">overwriteSnapshotPackageDesc</span></span></a><span class="mpre"> </span><a href="#loc_163_5_163_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_5_163_14&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_156_33_156_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_33_156_37&#39;)"><span class="hl_varref"><span class="mpre">pkg&#39;</span></span></a><span class="mpre"> </span><a href="#loc_156_23_156_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_23_156_32&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre">

    </span><a name="loc_163_5_163_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_5_163_14&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Setup.html#loc_185_1_185_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Setup.html#loc_185_1_185_9&#39;)"><span class="hl_varref"><span class="mpre">fromFlag</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.Setup.html#loc_834_5_834_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Setup.html#loc_834_5_834_19&#39;)"><span class="hl_varref"><span class="mpre">sDistVerbosity</span></span></a><span class="mpre"> </span><a href="#loc_121_18_121_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_18_121_23&#39;)"><span class="hl_varref"><span class="mpre">flags</span></span></a><span class="mpre">)
    </span><a name="loc_164_5_164_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_5_164_13&#39;)"><span class="hl_vardecl"><span class="mpre">snapshot</span></span></a><span class="mpre">  = </span><a href="Distribution.Simple.Setup.html#loc_185_1_185_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Setup.html#loc_185_1_185_9&#39;)"><span class="hl_varref"><span class="mpre">fromFlag</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.Setup.html#loc_830_5_830_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Setup.html#loc_830_5_830_18&#39;)"><span class="hl_varref"><span class="mpre">sDistSnapshot</span></span></a><span class="mpre"> </span><a href="#loc_121_18_121_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_18_121_23&#39;)"><span class="hl_varref"><span class="mpre">flags</span></span></a><span class="mpre">)

    </span><a name="loc_166_5_166_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_5_166_13&#39;)"><span class="hl_vardecl"><span class="mpre">distPref</span></span></a><span class="mpre">     = </span><a href="Distribution.Simple.Setup.html#loc_185_1_185_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Setup.html#loc_185_1_185_9&#39;)"><span class="hl_varref"><span class="mpre">fromFlag</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Distribution.Simple.Setup.html#loc_832_5_832_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Setup.html#loc_832_5_832_18&#39;)"><span class="hl_varref"><span class="mpre">sDistDistPref</span></span></a><span class="mpre"> </span><a href="#loc_121_18_121_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_18_121_23&#39;)"><span class="hl_varref"><span class="mpre">flags</span></span></a><span class="mpre">
    </span><a name="loc_167_5_167_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_5_167_15&#39;)"><span class="hl_vardecl"><span class="mpre">targetPref</span></span></a><span class="mpre">   = </span><a href="#loc_166_5_166_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_5_166_13&#39;)"><span class="hl_varref"><span class="mpre">distPref</span></span></a><span class="mpre">
    </span><a name="loc_168_5_168_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_5_168_17&#39;)"><span class="hl_vardecl"><span class="mpre">tmpTargetDir</span></span></a><span class="mpre"> = </span><a href="#loc_121_24_121_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_24_121_32&#39;)"><span class="hl_varref"><span class="mpre">mkTmpDir</span></span></a><span class="mpre"> </span><a href="#loc_166_5_166_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_5_166_13&#39;)"><span class="hl_varref"><span class="mpre">distPref</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | List all source files of a package. Returns a tuple of lists: first</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- component is a list of ordinary files, second one is a list of those files</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- that may be executable.</span></span><span class="mpre">
</span><a href="#loc_178_1_178_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_1_178_19&#39;)"><span class="mpre">listPackageSources</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">          </span><span class="hl_comment"><span class="mpre">-- ^ verbosity</span></span><span class="mpre">
                   -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ info from the cabal file</span></span><span class="mpre">
                   -&gt; [</span><span class="hl_tyconref"><span class="mpre">PPSuffixHandler</span></span><span class="mpre">]  </span><span class="hl_comment"><span class="mpre">-- ^ extra preprocessors (include</span></span><span class="mpre">
                                         </span><span class="hl_comment"><span class="mpre">-- suffixes)</span></span><span class="mpre">
                   -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> ([</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">], [</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">])
</span><a name="loc_178_1_178_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_1_178_19&#39;)"><span class="hl_fundecl"><span class="mpre">listPackageSources</span></span></a><span class="mpre"> </span><a name="loc_178_20_178_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_20_178_29&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_178_30_178_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_30_178_40&#39;)"><span class="hl_vardecl"><span class="mpre">pkg_descr0</span></span></a><span class="mpre"> </span><a name="loc_178_41_178_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_41_178_44&#39;)"><span class="hl_vardecl"><span class="mpre">pps</span></span></a><span class="mpre"> = do
  </span><span class="hl_comment"><span class="mpre">-- Call helpers that actually do all work.</span></span><span class="mpre">
  </span><a name="loc_180_3_180_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_3_180_11&#39;)"><span class="hl_vardecl"><span class="mpre">ordinary</span></span></a><span class="mpre">        &lt;- </span><a href="#loc_197_1_197_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_1_197_27&#39;)"><span class="hl_varref"><span class="mpre">listPackageSourcesOrdinary</span></span></a><span class="mpre">        </span><a href="#loc_178_20_178_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_20_178_29&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_184_5_184_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_5_184_14&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre"> </span><a href="#loc_178_41_178_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_41_178_44&#39;)"><span class="hl_varref"><span class="mpre">pps</span></span></a><span class="mpre">
  </span><a name="loc_181_3_181_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_3_181_18&#39;)"><span class="hl_vardecl"><span class="mpre">maybeExecutable</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_188_1_188_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_1_188_34&#39;)"><span class="hl_varref"><span class="mpre">listPackageSourcesMaybeExecutable</span></span></a><span class="mpre"> </span><a href="#loc_184_5_184_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_5_184_14&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_180_3_180_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_3_180_11&#39;)"><span class="hl_varref"><span class="mpre">ordinary</span></span></a><span class="mpre">, </span><a href="#loc_181_3_181_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_3_181_18&#39;)"><span class="hl_varref"><span class="mpre">maybeExecutable</span></span></a><span class="mpre">)
  where
    </span><a name="loc_184_5_184_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_5_184_14&#39;)"><span class="hl_vardecl"><span class="mpre">pkg_descr</span></span></a><span class="mpre"> = </span><a href="#loc_356_1_356_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_1_356_20&#39;)"><span class="hl_varref"><span class="mpre">filterAutogenModule</span></span></a><span class="mpre"> </span><a href="#loc_178_30_178_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_30_178_40&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr0</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | List those source files that may be executable (e.g. the configure script).</span></span><span class="mpre">
</span><a href="#loc_188_1_188_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_1_188_34&#39;)"><span class="mpre">listPackageSourcesMaybeExecutable</span></a><span class="mpre"> :: </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> [</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">]
</span><a name="loc_188_1_188_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_1_188_34&#39;)"><span class="hl_fundecl"><span class="mpre">listPackageSourcesMaybeExecutable</span></span></a><span class="mpre"> </span><a name="loc_188_35_188_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_35_188_44&#39;)"><span class="hl_vardecl"><span class="mpre">pkg_descr</span></span></a><span class="mpre"> =
  </span><span class="hl_comment"><span class="mpre">-- Extra source files.</span></span><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.html#loc_163_1_163_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_163_1_163_5&#39;)"><span class="hl_varref"><span class="mpre">forM</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_196_9_196_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_196_9_196_22&#39;)"><span class="hl_varref"><span class="mpre">extraSrcFiles</span></span></a><span class="mpre"> </span><a href="#loc_188_35_188_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_35_188_44&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_190_51_190_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_51_190_56&#39;)"><span class="hl_vardecl"><span class="mpre">fpath</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Utils.html#loc_777_1_777_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_777_1_777_14&#39;)"><span class="hl_varref"><span class="mpre">matchFileGlob</span></span></a><span class="mpre"> </span><a href="#loc_190_51_190_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_51_190_56&#39;)"><span class="hl_varref"><span class="mpre">fpath</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | List those source files that should be copied with ordinary permissions.</span></span><span class="mpre">
</span><a href="#loc_197_1_197_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_1_197_27&#39;)"><span class="mpre">listPackageSourcesOrdinary</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">
                           -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre">
                           -&gt; [</span><span class="hl_tyconref"><span class="mpre">PPSuffixHandler</span></span><span class="mpre">]
                           -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> [</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">]
</span><a name="loc_197_1_197_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_1_197_27&#39;)"><span class="hl_fundecl"><span class="mpre">listPackageSourcesOrdinary</span></span></a><span class="mpre"> </span><a name="loc_197_28_197_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_28_197_37&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_197_38_197_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_38_197_47&#39;)"><span class="hl_vardecl"><span class="mpre">pkg_descr</span></span></a><span class="mpre"> </span><a name="loc_197_48_197_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_48_197_51&#39;)"><span class="hl_vardecl"><span class="mpre">pps</span></span></a><span class="mpre"> =
  </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">sequence</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
  [
    </span><span class="hl_comment"><span class="mpre">-- Library sources.</span></span><span class="mpre">
    </span><a href="#loc_278_5_278_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_5_278_12&#39;)"><span class="hl_varref"><span class="mpre">withLib</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 201, srcSpanStartColumn = 16, srcSpanEndLine = 201, srcSpanEndColumn = 74}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 201, srcSpanStartColumn = 24, srcSpanEndLine = 201, srcSpanEndColumn = 25},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simpl"><span class="mpre">Library { exposedModules = modules, libBuildInfo = libBi }</span></span><span class="mpre"> -&gt;
     </span><a href="#loc_460_1_460_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_1_460_20&#39;)"><span class="hl_varref"><span class="mpre">allSourcesBuildInfo</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">libBi</span></span><span class="mpre"> </span><a href="#loc_197_48_197_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_48_197_51&#39;)"><span class="hl_varref"><span class="mpre">pps</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">modules</span></span><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- Executables sources.</span></span><span class="mpre">
  , </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre">
    </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_279_5_279_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_5_279_12&#39;)"><span class="hl_varref"><span class="mpre">withExe</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 206, srcSpanStartColumn = 18, srcSpanEndLine = 206, srcSpanEndColumn = 73}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 206, srcSpanStartColumn = 29, srcSpanEndLine = 206, srcSpanEndColumn = 30},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simpl"><span class="mpre">Executable { modulePath = mainPath, buildInfo = exeBi }</span></span><span class="mpre"> -&gt; do
       </span><a name="loc_207_8_207_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_207_8_207_14&#39;)"><span class="hl_vardecl"><span class="mpre">biSrcs</span></span></a><span class="mpre">  &lt;- </span><a href="#loc_460_1_460_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_1_460_20&#39;)"><span class="hl_varref"><span class="mpre">allSourcesBuildInfo</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">exeBi</span></span><span class="mpre"> </span><a href="#loc_197_48_197_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_48_197_51&#39;)"><span class="hl_varref"><span class="mpre">pps</span></span></a><span class="mpre"> []
       </span><a name="loc_208_8_208_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_8_208_15&#39;)"><span class="hl_vardecl"><span class="mpre">mainSrc</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_336_1_336_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_1_336_16&#39;)"><span class="hl_varref"><span class="mpre">findMainExeFile</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">exeBi</span></span><span class="mpre"> </span><a href="#loc_197_48_197_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_48_197_51&#39;)"><span class="hl_varref"><span class="mpre">pps</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">mainPath</span></span><span class="mpre">
       </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_208_8_208_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_8_208_15&#39;)"><span class="hl_varref"><span class="mpre">mainSrc</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_207_8_207_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_207_8_207_14&#39;)"><span class="hl_varref"><span class="mpre">biSrcs</span></span></a><span class="mpre">)

    </span><span class="hl_comment"><span class="mpre">-- Test suites sources.</span></span><span class="mpre">
  , </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre">
    </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_280_5_280_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_5_280_13&#39;)"><span class="hl_varref"><span class="mpre">withTest</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_213_19_213_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_19_213_20&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> -&gt; do
       let </span><a name="loc_214_12_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_12_214_14&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre">  = </span><a href="Distribution.PackageDescription.html#loc_398_9_398_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_398_9_398_22&#39;)"><span class="hl_varref"><span class="mpre">testBuildInfo</span></span></a><span class="mpre"> </span><a href="#loc_213_19_213_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_19_213_20&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
       case </span><a href="Distribution.PackageDescription.html#loc_397_9_397_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_397_9_397_22&#39;)"><span class="hl_varref"><span class="mpre">testInterface</span></span></a><span class="mpre"> </span><a href="#loc_213_19_213_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_19_213_20&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> of
         </span><a href="Distribution.PackageDescription.html#loc_421_6_421_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_421_6_421_21&#39;)"><span class="hl_conref"><span class="mpre">TestSuiteExeV10</span></span></a><span class="mpre"> _ </span><a name="loc_216_28_216_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_28_216_36&#39;)"><span class="hl_vardecl"><span class="mpre">mainPath</span></span></a><span class="mpre"> -&gt; do
           </span><a name="loc_217_12_217_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_12_217_18&#39;)"><span class="hl_vardecl"><span class="mpre">biSrcs</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_460_1_460_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_1_460_20&#39;)"><span class="hl_varref"><span class="mpre">allSourcesBuildInfo</span></span></a><span class="mpre"> </span><a href="#loc_214_12_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_12_214_14&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a href="#loc_197_48_197_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_48_197_51&#39;)"><span class="hl_varref"><span class="mpre">pps</span></span></a><span class="mpre"> []
           </span><a name="loc_218_12_218_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_12_218_23&#39;)"><span class="hl_vardecl"><span class="mpre">srcMainFile</span></span></a><span class="mpre"> &lt;- do
             </span><a name="loc_219_14_219_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_219_14_219_20&#39;)"><span class="hl_vardecl"><span class="mpre">ppFile</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.Simple.Utils.html#loc_660_1_660_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_660_1_660_22&#39;)"><span class="hl_varref"><span class="mpre">findFileWithExtension</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.PreProcess.html#loc_628_1_628_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PreProcess.html#loc_628_1_628_11&#39;)"><span class="hl_varref"><span class="mpre">ppSuffixes</span></span></a><span class="mpre"> </span><a href="#loc_197_48_197_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_48_197_51&#39;)"><span class="hl_varref"><span class="mpre">pps</span></span></a><span class="mpre">)
                       (</span><a href="Distribution.PackageDescription.html#loc_645_9_645_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_645_9_645_21&#39;)"><span class="hl_varref"><span class="mpre">hsSourceDirs</span></span></a><span class="mpre"> </span><a href="#loc_214_12_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_12_214_14&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">dropExtension</span></span><span class="mpre"> </span><a href="#loc_216_28_216_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_28_216_36&#39;)"><span class="hl_varref"><span class="mpre">mainPath</span></span></a><span class="mpre">)
             case </span><a href="#loc_219_14_219_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_219_14_219_20&#39;)"><span class="hl_varref"><span class="mpre">ppFile</span></span></a><span class="mpre"> of
               </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Utils.html#loc_646_1_646_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_646_1_646_9&#39;)"><span class="hl_varref"><span class="mpre">findFile</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_645_9_645_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_645_9_645_21&#39;)"><span class="hl_varref"><span class="mpre">hsSourceDirs</span></span></a><span class="mpre"> </span><a href="#loc_214_12_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_12_214_14&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">) </span><a href="#loc_216_28_216_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_28_216_36&#39;)"><span class="hl_varref"><span class="mpre">mainPath</span></span></a><span class="mpre">
               </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_223_21_223_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_223_21_223_23&#39;)"><span class="hl_vardecl"><span class="mpre">pp</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_223_21_223_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_223_21_223_23&#39;)"><span class="hl_varref"><span class="mpre">pp</span></span></a><span class="mpre">
           </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_218_12_218_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_12_218_23&#39;)"><span class="hl_varref"><span class="mpre">srcMainFile</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_217_12_217_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_12_217_18&#39;)"><span class="hl_varref"><span class="mpre">biSrcs</span></span></a><span class="mpre">)
         </span><a href="Distribution.PackageDescription.html#loc_426_6_426_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_426_6_426_21&#39;)"><span class="hl_conref"><span class="mpre">TestSuiteLibV09</span></span></a><span class="mpre"> _ </span><a name="loc_225_28_225_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_28_225_29&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> -&gt;
           </span><a href="#loc_460_1_460_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_1_460_20&#39;)"><span class="hl_varref"><span class="mpre">allSourcesBuildInfo</span></span></a><span class="mpre"> </span><a href="#loc_214_12_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_12_214_14&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a href="#loc_197_48_197_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_48_197_51&#39;)"><span class="hl_varref"><span class="mpre">pps</span></span></a><span class="mpre"> [</span><a href="#loc_225_28_225_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_28_225_29&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">]
         </span><a href="Distribution.PackageDescription.html#loc_431_6_431_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_431_6_431_26&#39;)"><span class="hl_conref"><span class="mpre">TestSuiteUnsupported</span></span></a><span class="mpre"> </span><a name="loc_227_31_227_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_31_227_33&#39;)"><span class="hl_vardecl"><span class="mpre">tp</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Unsupported test suite type: &quot;</span></span><span class="mpre">
                                   </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_227_31_227_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_31_227_33&#39;)"><span class="hl_varref"><span class="mpre">tp</span></span></a><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- Benchmarks sources.</span></span><span class="mpre">
  , </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre">
    </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_281_5_281_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_5_281_18&#39;)"><span class="hl_varref"><span class="mpre">withBenchmark</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_232_24_232_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_24_232_26&#39;)"><span class="hl_vardecl"><span class="mpre">bm</span></span></a><span class="mpre"> -&gt; do
       let  </span><a name="loc_233_13_233_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_233_13_233_15&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre"> = </span><a href="Distribution.PackageDescription.html#loc_533_9_533_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_533_9_533_27&#39;)"><span class="hl_varref"><span class="mpre">benchmarkBuildInfo</span></span></a><span class="mpre"> </span><a href="#loc_232_24_232_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_24_232_26&#39;)"><span class="hl_varref"><span class="mpre">bm</span></span></a><span class="mpre">
       case </span><a href="Distribution.PackageDescription.html#loc_532_9_532_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_532_9_532_27&#39;)"><span class="hl_varref"><span class="mpre">benchmarkInterface</span></span></a><span class="mpre"> </span><a href="#loc_232_24_232_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_24_232_26&#39;)"><span class="hl_varref"><span class="mpre">bm</span></span></a><span class="mpre"> of
         </span><a href="Distribution.PackageDescription.html#loc_553_6_553_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_553_6_553_21&#39;)"><span class="hl_conref"><span class="mpre">BenchmarkExeV10</span></span></a><span class="mpre"> _ </span><a name="loc_235_28_235_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_28_235_36&#39;)"><span class="hl_vardecl"><span class="mpre">mainPath</span></span></a><span class="mpre"> -&gt; do
           </span><a name="loc_236_12_236_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_12_236_18&#39;)"><span class="hl_vardecl"><span class="mpre">biSrcs</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_460_1_460_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_1_460_20&#39;)"><span class="hl_varref"><span class="mpre">allSourcesBuildInfo</span></span></a><span class="mpre"> </span><a href="#loc_233_13_233_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_233_13_233_15&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a href="#loc_197_48_197_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_48_197_51&#39;)"><span class="hl_varref"><span class="mpre">pps</span></span></a><span class="mpre"> []
           </span><a name="loc_237_12_237_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_12_237_23&#39;)"><span class="hl_vardecl"><span class="mpre">srcMainFile</span></span></a><span class="mpre"> &lt;- do
             </span><a name="loc_238_14_238_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_14_238_20&#39;)"><span class="hl_vardecl"><span class="mpre">ppFile</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.Simple.Utils.html#loc_660_1_660_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_660_1_660_22&#39;)"><span class="hl_varref"><span class="mpre">findFileWithExtension</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.PreProcess.html#loc_628_1_628_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PreProcess.html#loc_628_1_628_11&#39;)"><span class="hl_varref"><span class="mpre">ppSuffixes</span></span></a><span class="mpre"> </span><a href="#loc_197_48_197_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_48_197_51&#39;)"><span class="hl_varref"><span class="mpre">pps</span></span></a><span class="mpre">)
                       (</span><a href="Distribution.PackageDescription.html#loc_645_9_645_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_645_9_645_21&#39;)"><span class="hl_varref"><span class="mpre">hsSourceDirs</span></span></a><span class="mpre"> </span><a href="#loc_233_13_233_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_233_13_233_15&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">dropExtension</span></span><span class="mpre"> </span><a href="#loc_235_28_235_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_28_235_36&#39;)"><span class="hl_varref"><span class="mpre">mainPath</span></span></a><span class="mpre">)
             case </span><a href="#loc_238_14_238_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_14_238_20&#39;)"><span class="hl_varref"><span class="mpre">ppFile</span></span></a><span class="mpre"> of
               </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Utils.html#loc_646_1_646_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_646_1_646_9&#39;)"><span class="hl_varref"><span class="mpre">findFile</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_645_9_645_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_645_9_645_21&#39;)"><span class="hl_varref"><span class="mpre">hsSourceDirs</span></span></a><span class="mpre"> </span><a href="#loc_233_13_233_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_233_13_233_15&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">) </span><a href="#loc_235_28_235_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_28_235_36&#39;)"><span class="hl_varref"><span class="mpre">mainPath</span></span></a><span class="mpre">
               </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_242_21_242_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_21_242_23&#39;)"><span class="hl_vardecl"><span class="mpre">pp</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_242_21_242_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_21_242_23&#39;)"><span class="hl_varref"><span class="mpre">pp</span></span></a><span class="mpre">
           </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_237_12_237_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_12_237_23&#39;)"><span class="hl_varref"><span class="mpre">srcMainFile</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_236_12_236_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_12_236_18&#39;)"><span class="hl_varref"><span class="mpre">biSrcs</span></span></a><span class="mpre">)
         </span><a href="Distribution.PackageDescription.html#loc_558_6_558_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_558_6_558_26&#39;)"><span class="hl_conref"><span class="mpre">BenchmarkUnsupported</span></span></a><span class="mpre"> </span><a name="loc_244_31_244_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_244_31_244_33&#39;)"><span class="hl_vardecl"><span class="mpre">tp</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Unsupported benchmark type: &quot;</span></span><span class="mpre">
                                    </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_244_31_244_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_244_31_244_33&#39;)"><span class="hl_varref"><span class="mpre">tp</span></span></a><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- Data files.</span></span><span class="mpre">
  , </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre">
    </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.html#loc_163_1_163_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_163_1_163_5&#39;)"><span class="hl_varref"><span class="mpre">forM</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_194_9_194_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_194_9_194_18&#39;)"><span class="hl_varref"><span class="mpre">dataFiles</span></span></a><span class="mpre"> </span><a href="#loc_197_38_197_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_38_197_47&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_249_37_249_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_37_249_45&#39;)"><span class="hl_vardecl"><span class="mpre">filename</span></span></a><span class="mpre"> -&gt;
       </span><a href="Distribution.Simple.Utils.html#loc_777_1_777_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_777_1_777_14&#39;)"><span class="hl_varref"><span class="mpre">matchFileGlob</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_195_9_195_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_195_9_195_16&#39;)"><span class="hl_varref"><span class="mpre">dataDir</span></span></a><span class="mpre"> </span><a href="#loc_197_38_197_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_38_197_47&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_249_37_249_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_37_249_45&#39;)"><span class="hl_varref"><span class="mpre">filename</span></span></a><span class="mpre">)

    </span><span class="hl_comment"><span class="mpre">-- Extra doc files.</span></span><span class="mpre">
  , </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre">
    </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.html#loc_163_1_163_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_163_1_163_5&#39;)"><span class="hl_varref"><span class="mpre">forM</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_198_9_198_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_198_9_198_22&#39;)"><span class="hl_varref"><span class="mpre">extraDocFiles</span></span></a><span class="mpre"> </span><a href="#loc_197_38_197_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_38_197_47&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \ </span><a name="loc_254_42_254_50" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_42_254_50&#39;)"><span class="hl_vardecl"><span class="mpre">filename</span></span></a><span class="mpre"> -&gt;
      </span><a href="Distribution.Simple.Utils.html#loc_777_1_777_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_777_1_777_14&#39;)"><span class="hl_varref"><span class="mpre">matchFileGlob</span></span></a><span class="mpre"> </span><a href="#loc_254_42_254_50" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_42_254_50&#39;)"><span class="hl_varref"><span class="mpre">filename</span></span></a><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- License file.</span></span><span class="mpre">
  , </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> case [</span><a href="Distribution.PackageDescription.html#loc_166_9_166_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_166_9_166_20&#39;)"><span class="hl_varref"><span class="mpre">licenseFile</span></span></a><span class="mpre"> </span><a href="#loc_197_38_197_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_38_197_47&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre">]
             of [[]] -&gt; []
                </span><a name="loc_260_17_260_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_17_260_18&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre">    -&gt; </span><a href="#loc_260_17_260_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_17_260_18&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- Install-include files.</span></span><span class="mpre">
  , </span><a href="#loc_278_5_278_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_5_278_12&#39;)"><span class="hl_varref"><span class="mpre">withLib</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \ </span><a name="loc_263_17_263_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_263_17_263_18&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> -&gt; do
       let </span><a name="loc_264_12_264_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_12_264_15&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> = </span><a href="Distribution.PackageDescription.html#loc_302_9_302_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_302_9_302_21&#39;)"><span class="hl_varref"><span class="mpre">libBuildInfo</span></span></a><span class="mpre"> </span><a href="#loc_263_17_263_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_263_17_263_18&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">
           </span><a name="loc_265_12_265_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_265_12_265_22&#39;)"><span class="hl_vardecl"><span class="mpre">relincdirs</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;.&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">filter</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">not</span></span><span class="hl_infix"><span class="mpre">.</span></span><span class="hl_varref"><span class="mpre">isAbsolute</span></span><span class="mpre">) (</span><a href="Distribution.PackageDescription.html#loc_656_9_656_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_656_9_656_20&#39;)"><span class="hl_varref"><span class="mpre">includeDirs</span></span></a><span class="mpre"> </span><a href="#loc_264_12_264_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_12_264_15&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)
       </span><span class="hl_varref"><span class="mpre">mapM</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">snd</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_347_1_347_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_1_347_16&#39;)"><span class="hl_varref"><span class="mpre">findIncludeFile</span></span></a><span class="mpre"> </span><a href="#loc_265_12_265_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_265_12_265_22&#39;)"><span class="hl_varref"><span class="mpre">relincdirs</span></span></a><span class="mpre">) (</span><a href="Distribution.PackageDescription.html#loc_658_9_658_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_658_9_658_24&#39;)"><span class="hl_varref"><span class="mpre">installIncludes</span></span></a><span class="mpre"> </span><a href="#loc_264_12_264_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_12_264_15&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)

    </span><span class="hl_comment"><span class="mpre">-- Setup script, if it exists.</span></span><span class="mpre">
  , </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> [] (\</span><a name="loc_269_22_269_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_269_22_269_23&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> -&gt; [</span><a href="#loc_269_22_269_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_269_22_269_23&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">])) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_311_1_311_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_1_311_14&#39;)"><span class="hl_varref"><span class="mpre">findSetupFile</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- The .cabal file itself.</span></span><span class="mpre">
  , </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (\</span><a name="loc_272_12_272_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_12_272_13&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre"> -&gt; [</span><a href="#loc_272_12_272_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_12_272_13&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre">]) (</span><a href="Distribution.Simple.Utils.html#loc_1109_1_1109_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1109_1_1109_19&#39;)"><span class="hl_varref"><span class="mpre">defaultPackageDesc</span></span></a><span class="mpre"> </span><a href="#loc_197_28_197_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_28_197_37&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">)

  ]
  where
    </span><span class="hl_comment"><span class="mpre">-- We have to deal with all libs and executables, so we have local</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- versions of these functions that ignore the &#39;buildable&#39; attribute:</span></span><span class="mpre">
    </span><a name="loc_278_5_278_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_5_278_12&#39;)"><span class="hl_fundecl"><span class="mpre">withLib</span></span></a><span class="mpre">       </span><a name="loc_278_19_278_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_19_278_25&#39;)"><span class="hl_vardecl"><span class="mpre">action</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> []) </span><a href="#loc_278_19_278_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_278_19_278_25&#39;)"><span class="hl_varref"><span class="mpre">action</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_190_9_190_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_190_9_190_16&#39;)"><span class="hl_varref"><span class="mpre">library</span></span></a><span class="mpre"> </span><a href="#loc_197_38_197_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_38_197_47&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre">)
    </span><a name="loc_279_5_279_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_5_279_12&#39;)"><span class="hl_fundecl"><span class="mpre">withExe</span></span></a><span class="mpre">       </span><a name="loc_279_19_279_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_19_279_25&#39;)"><span class="hl_vardecl"><span class="mpre">action</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">mapM</span></span><span class="mpre"> </span><a href="#loc_279_19_279_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_19_279_25&#39;)"><span class="hl_varref"><span class="mpre">action</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_191_9_191_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_191_9_191_20&#39;)"><span class="hl_varref"><span class="mpre">executables</span></span></a><span class="mpre"> </span><a href="#loc_197_38_197_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_38_197_47&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre">)
    </span><a name="loc_280_5_280_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_5_280_13&#39;)"><span class="hl_fundecl"><span class="mpre">withTest</span></span></a><span class="mpre">      </span><a name="loc_280_19_280_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_19_280_25&#39;)"><span class="hl_vardecl"><span class="mpre">action</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">mapM</span></span><span class="mpre"> </span><a href="#loc_280_19_280_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_19_280_25&#39;)"><span class="hl_varref"><span class="mpre">action</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_192_9_192_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_192_9_192_19&#39;)"><span class="hl_varref"><span class="mpre">testSuites</span></span></a><span class="mpre"> </span><a href="#loc_197_38_197_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_38_197_47&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre">)
    </span><a name="loc_281_5_281_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_5_281_18&#39;)"><span class="hl_fundecl"><span class="mpre">withBenchmark</span></span></a><span class="mpre"> </span><a name="loc_281_19_281_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_19_281_25&#39;)"><span class="hl_vardecl"><span class="mpre">action</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">mapM</span></span><span class="mpre"> </span><a href="#loc_281_19_281_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_19_281_25&#39;)"><span class="hl_varref"><span class="mpre">action</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_193_9_193_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_193_9_193_19&#39;)"><span class="hl_varref"><span class="mpre">benchmarks</span></span></a><span class="mpre"> </span><a href="#loc_197_38_197_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_38_197_47&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">-- |Prepare a directory tree of source files.</span></span><span class="mpre">
</span><a href="#loc_291_1_291_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_1_291_12&#39;)"><span class="mpre">prepareTree</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">          </span><span class="hl_comment"><span class="mpre">-- ^verbosity</span></span><span class="mpre">
            -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^info from the cabal file</span></span><span class="mpre">
            -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre">
            -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">           </span><span class="hl_comment"><span class="mpre">-- ^source tree to populate</span></span><span class="mpre">
            -&gt; [</span><span class="hl_tyconref"><span class="mpre">PPSuffixHandler</span></span><span class="mpre">]  </span><span class="hl_comment"><span class="mpre">-- ^extra preprocessors (includes suffixes)</span></span><span class="mpre">
            -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_291_1_291_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_1_291_12&#39;)"><span class="hl_fundecl"><span class="mpre">prepareTree</span></span></a><span class="mpre"> </span><a name="loc_291_13_291_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_13_291_22&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_291_23_291_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_23_291_33&#39;)"><span class="hl_vardecl"><span class="mpre">pkg_descr0</span></span></a><span class="mpre"> </span><a name="loc_291_34_291_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_34_291_40&#39;)"><span class="hl_vardecl"><span class="mpre">mb_lbi</span></span></a><span class="mpre"> </span><a name="loc_291_41_291_50" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_41_291_50&#39;)"><span class="hl_vardecl"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><a name="loc_291_51_291_54" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_51_291_54&#39;)"><span class="hl_vardecl"><span class="mpre">pps</span></span></a><span class="mpre"> = do
  </span><span class="hl_comment"><span class="mpre">-- If the package was configured then we can run platform independent</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- pre-processors and include those generated files.</span></span><span class="mpre">
  case </span><a href="#loc_291_34_291_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_34_291_40&#39;)"><span class="hl_varref"><span class="mpre">mb_lbi</span></span></a><span class="mpre"> of
    </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">lbi</span></span><span class="mpre"> | </span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> </span><a href="#loc_291_51_291_54" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_51_291_54&#39;)"><span class="hl_varref"><span class="mpre">pps</span></span></a><span class="mpre">) -&gt; do
      let </span><a name="loc_296_11_296_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_296_11_296_15&#39;)"><span class="hl_vardecl"><span class="mpre">lbi&#39;</span></span></a><span class="mpre"> = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 296, srcSpanStartColumn = 18, srcSpanEndLine = 296, srcSpanEndColumn = 62}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 296, srcSpanStartColumn = 21, srcSpanEndLine = 296, srcSpanEndColumn = 22},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/"><span class="mpre">lbi{ buildDir = targetDir &lt;/&gt; buildDir lbi }</span></span><span class="mpre">
      </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_354_1_354_30" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_354_1_354_30&#39;)"><span class="hl_varref"><span class="mpre">withAllComponentsInBuildOrder</span></span></a><span class="mpre"> </span><a href="#loc_307_5_307_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_5_307_14&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre"> </span><a href="#loc_296_11_296_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_296_11_296_15&#39;)"><span class="hl_varref"><span class="mpre">lbi&#39;</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_297_55_297_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_55_297_56&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> _ -&gt;
        </span><a href="Distribution.Simple.PreProcess.html#loc_188_1_188_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PreProcess.html#loc_188_1_188_20&#39;)"><span class="hl_varref"><span class="mpre">preprocessComponent</span></span></a><span class="mpre"> </span><a href="#loc_307_5_307_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_5_307_14&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre"> </span><a href="#loc_297_55_297_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_55_297_56&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_296_11_296_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_296_11_296_15&#39;)"><span class="hl_varref"><span class="mpre">lbi&#39;</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> </span><a href="#loc_291_13_291_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_13_291_22&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_291_51_291_54" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_51_291_54&#39;)"><span class="hl_varref"><span class="mpre">pps</span></span></a><span class="mpre">
    _ -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">

  (</span><a name="loc_301_4_301_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_4_301_12&#39;)"><span class="hl_vardecl"><span class="mpre">ordinary</span></span></a><span class="mpre">, </span><a name="loc_301_14_301_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_14_301_25&#39;)"><span class="hl_vardecl"><span class="mpre">mExecutable</span></span></a><span class="mpre">)  &lt;- </span><a href="#loc_178_1_178_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_1_178_19&#39;)"><span class="hl_varref"><span class="mpre">listPackageSources</span></span></a><span class="mpre"> </span><a href="#loc_291_13_291_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_13_291_22&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_291_23_291_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_23_291_33&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr0</span></span></a><span class="mpre"> </span><a href="#loc_291_51_291_54" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_51_291_54&#39;)"><span class="hl_varref"><span class="mpre">pps</span></span></a><span class="mpre">
  </span><a href="Distribution.Simple.Utils.html#loc_949_1_949_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_949_1_949_21&#39;)"><span class="hl_varref"><span class="mpre">installOrdinaryFiles</span></span></a><span class="mpre">        </span><a href="#loc_291_13_291_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_13_291_22&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_291_41_291_50" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_41_291_50&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">zip</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">repeat</span></span><span class="mpre"> []) </span><a href="#loc_301_4_301_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_4_301_12&#39;)"><span class="hl_varref"><span class="mpre">ordinary</span></span></a><span class="mpre">)
  </span><a href="Distribution.Simple.Utils.html#loc_961_1_961_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_961_1_961_28&#39;)"><span class="hl_varref"><span class="mpre">installMaybeExecutableFiles</span></span></a><span class="mpre"> </span><a href="#loc_291_13_291_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_13_291_22&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_291_41_291_50" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_41_291_50&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">zip</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">repeat</span></span><span class="mpre"> []) </span><a href="#loc_301_14_301_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_14_301_25&#39;)"><span class="hl_varref"><span class="mpre">mExecutable</span></span></a><span class="mpre">)
  </span><a href="#loc_325_1_325_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_1_325_30&#39;)"><span class="hl_varref"><span class="mpre">maybeCreateDefaultSetupScript</span></span></a><span class="mpre"> </span><a href="#loc_291_41_291_50" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_41_291_50&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre">

  where
    </span><a name="loc_307_5_307_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_5_307_14&#39;)"><span class="hl_vardecl"><span class="mpre">pkg_descr</span></span></a><span class="mpre"> = </span><a href="#loc_356_1_356_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_1_356_20&#39;)"><span class="hl_varref"><span class="mpre">filterAutogenModule</span></span></a><span class="mpre"> </span><a href="#loc_291_23_291_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_23_291_33&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr0</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Find the setup script file, if it exists.</span></span><span class="mpre">
</span><a href="#loc_311_1_311_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_1_311_14&#39;)"><span class="mpre">findSetupFile</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">)
</span><a name="loc_311_1_311_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_1_311_14&#39;)"><span class="hl_fundecl"><span class="mpre">findSetupFile</span></span></a><span class="mpre"> </span><a name="loc_311_15_311_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_15_311_24&#39;)"><span class="hl_vardecl"><span class="mpre">targetDir</span></span></a><span class="mpre"> = do
  </span><a name="loc_312_3_312_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_3_312_11&#39;)"><span class="hl_vardecl"><span class="mpre">hsExists</span></span></a><span class="mpre">  &lt;- </span><a href="System.Directory.html#loc_726_1_726_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_726_1_726_14&#39;)"><span class="hl_varref"><span class="mpre">doesFileExist</span></span></a><span class="mpre"> </span><a href="#loc_320_7_320_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_320_7_320_14&#39;)"><span class="hl_varref"><span class="mpre">setupHs</span></span></a><span class="mpre">
  </span><a name="loc_313_3_313_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_3_313_12&#39;)"><span class="hl_vardecl"><span class="mpre">lhsExists</span></span></a><span class="mpre"> &lt;- </span><a href="System.Directory.html#loc_726_1_726_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_726_1_726_14&#39;)"><span class="hl_varref"><span class="mpre">doesFileExist</span></span></a><span class="mpre"> </span><a href="#loc_321_7_321_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_7_321_15&#39;)"><span class="hl_varref"><span class="mpre">setupLhs</span></span></a><span class="mpre">
  if </span><a href="#loc_312_3_312_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_3_312_11&#39;)"><span class="hl_varref"><span class="mpre">hsExists</span></span></a><span class="mpre">
    then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_320_7_320_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_320_7_320_14&#39;)"><span class="hl_varref"><span class="mpre">setupHs</span></span></a><span class="mpre">)
    else if </span><a href="#loc_313_3_313_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_3_313_12&#39;)"><span class="hl_varref"><span class="mpre">lhsExists</span></span></a><span class="mpre">
         then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_321_7_321_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_7_321_15&#39;)"><span class="hl_varref"><span class="mpre">setupLhs</span></span></a><span class="mpre">)
         else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
    where
      </span><a name="loc_320_7_320_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_320_7_320_14&#39;)"><span class="hl_vardecl"><span class="mpre">setupHs</span></span></a><span class="mpre">  = </span><a href="#loc_311_15_311_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_15_311_24&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Setup.hs&quot;</span></span><span class="mpre">
      </span><a name="loc_321_7_321_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_321_7_321_15&#39;)"><span class="hl_vardecl"><span class="mpre">setupLhs</span></span></a><span class="mpre"> = </span><a href="#loc_311_15_311_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_15_311_24&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Setup.lhs&quot;</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Create a default setup script in the target directory, if it doesn&#39;t exist.</span></span><span class="mpre">
</span><a href="#loc_325_1_325_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_1_325_30&#39;)"><span class="mpre">maybeCreateDefaultSetupScript</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_325_1_325_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_1_325_30&#39;)"><span class="hl_fundecl"><span class="mpre">maybeCreateDefaultSetupScript</span></span></a><span class="mpre"> </span><a name="loc_325_31_325_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_31_325_40&#39;)"><span class="hl_vardecl"><span class="mpre">targetDir</span></span></a><span class="mpre"> = do
  </span><a name="loc_326_3_326_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_3_326_13&#39;)"><span class="hl_vardecl"><span class="mpre">mSetupFile</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_311_1_311_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_1_311_14&#39;)"><span class="hl_varref"><span class="mpre">findSetupFile</span></span></a><span class="mpre"> </span><a href="#loc_325_31_325_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_31_325_40&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre">
  case </span><a href="#loc_326_3_326_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_3_326_13&#39;)"><span class="hl_varref"><span class="mpre">mSetupFile</span></span></a><span class="mpre"> of
    </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_setupFile</span></span><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
    </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">         -&gt; do
      </span><a href="Distribution.Simple.Utils.html#loc_1260_1_1260_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1260_1_1260_14&#39;)"><span class="hl_varref"><span class="mpre">writeUTF8File</span></span></a><span class="mpre"> (</span><a href="#loc_325_31_325_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_31_325_40&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Setup.hs&quot;</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">unlines</span></span><span class="mpre"> [
        </span><span class="hl_string"><span class="mpre">&quot;import Distribution.Simple&quot;</span></span><span class="mpre">,
        </span><span class="hl_string"><span class="mpre">&quot;main = defaultMain&quot;</span></span><span class="mpre">]

</span><span class="hl_comment"><span class="mpre">-- | Find the main executable file.</span></span><span class="mpre">
</span><a href="#loc_336_1_336_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_1_336_16&#39;)"><span class="mpre">findMainExeFile</span></a><span class="mpre"> :: </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">PPSuffixHandler</span></span><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
</span><a name="loc_336_1_336_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_1_336_16&#39;)"><span class="hl_fundecl"><span class="mpre">findMainExeFile</span></span></a><span class="mpre"> </span><a name="loc_336_17_336_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_17_336_22&#39;)"><span class="hl_vardecl"><span class="mpre">exeBi</span></span></a><span class="mpre"> </span><a name="loc_336_23_336_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_23_336_26&#39;)"><span class="hl_vardecl"><span class="mpre">pps</span></span></a><span class="mpre"> </span><a name="loc_336_27_336_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_27_336_35&#39;)"><span class="hl_vardecl"><span class="mpre">mainPath</span></span></a><span class="mpre"> = do
  </span><a name="loc_337_3_337_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_3_337_9&#39;)"><span class="hl_vardecl"><span class="mpre">ppFile</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.Simple.Utils.html#loc_660_1_660_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_660_1_660_22&#39;)"><span class="hl_varref"><span class="mpre">findFileWithExtension</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.PreProcess.html#loc_628_1_628_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PreProcess.html#loc_628_1_628_11&#39;)"><span class="hl_varref"><span class="mpre">ppSuffixes</span></span></a><span class="mpre"> </span><a href="#loc_336_23_336_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_23_336_26&#39;)"><span class="hl_varref"><span class="mpre">pps</span></span></a><span class="mpre">) (</span><a href="Distribution.PackageDescription.html#loc_645_9_645_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_645_9_645_21&#39;)"><span class="hl_varref"><span class="mpre">hsSourceDirs</span></span></a><span class="mpre"> </span><a href="#loc_336_17_336_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_17_336_22&#39;)"><span class="hl_varref"><span class="mpre">exeBi</span></span></a><span class="mpre">)
            (</span><span class="hl_varref"><span class="mpre">dropExtension</span></span><span class="mpre"> </span><a href="#loc_336_27_336_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_27_336_35&#39;)"><span class="hl_varref"><span class="mpre">mainPath</span></span></a><span class="mpre">)
  case </span><a href="#loc_337_3_337_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_3_337_9&#39;)"><span class="hl_varref"><span class="mpre">ppFile</span></span></a><span class="mpre"> of
    </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Utils.html#loc_646_1_646_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_646_1_646_9&#39;)"><span class="hl_varref"><span class="mpre">findFile</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_645_9_645_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_645_9_645_21&#39;)"><span class="hl_varref"><span class="mpre">hsSourceDirs</span></span></a><span class="mpre"> </span><a href="#loc_336_17_336_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_17_336_22&#39;)"><span class="hl_varref"><span class="mpre">exeBi</span></span></a><span class="mpre">) </span><a href="#loc_336_27_336_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_27_336_35&#39;)"><span class="hl_varref"><span class="mpre">mainPath</span></span></a><span class="mpre">
    </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_341_10_341_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_341_10_341_12&#39;)"><span class="hl_vardecl"><span class="mpre">pp</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_341_10_341_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_341_10_341_12&#39;)"><span class="hl_varref"><span class="mpre">pp</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Given a list of include paths, try to find the include file named</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @f@. Return the name of the file and the full path, or exit with error if</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- there&#39;s no such file.</span></span><span class="mpre">
</span><a href="#loc_347_1_347_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_1_347_16&#39;)"><span class="mpre">findIncludeFile</span></a><span class="mpre"> :: [</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">)
</span><a name="loc_347_1_347_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_1_347_16&#39;)"><span class="hl_fundecl"><span class="mpre">findIncludeFile</span></span></a><span class="mpre"> [] </span><a name="loc_347_20_347_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_20_347_21&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;can&#39;t find include file &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_347_20_347_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_20_347_21&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
</span><a href="#loc_347_1_347_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_1_347_16&#39;)"><span class="hl_fundecl"><span class="mpre">findIncludeFile</span></span></a><span class="mpre"> (</span><a name="loc_348_18_348_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_18_348_19&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_348_20_348_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_20_348_22&#39;)"><span class="hl_vardecl"><span class="mpre">ds</span></span></a><span class="mpre">) </span><a name="loc_348_24_348_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_24_348_25&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = do
  let </span><a name="loc_349_7_349_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_349_7_349_11&#39;)"><span class="hl_vardecl"><span class="mpre">path</span></span></a><span class="mpre"> = (</span><a href="#loc_348_18_348_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_18_348_19&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_348_24_348_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_24_348_25&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
  </span><a name="loc_350_3_350_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_3_350_4&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> &lt;- </span><a href="System.Directory.html#loc_726_1_726_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_726_1_726_14&#39;)"><span class="hl_varref"><span class="mpre">doesFileExist</span></span></a><span class="mpre"> </span><a href="#loc_349_7_349_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_349_7_349_11&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre">
  if </span><a href="#loc_350_3_350_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_3_350_4&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_348_24_348_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_24_348_25&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">,</span><a href="#loc_349_7_349_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_349_7_349_11&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre">) else </span><a href="#loc_347_1_347_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_1_347_16&#39;)"><span class="hl_varref"><span class="mpre">findIncludeFile</span></span></a><span class="mpre"> </span><a href="#loc_348_20_348_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_20_348_22&#39;)"><span class="hl_varref"><span class="mpre">ds</span></span></a><span class="mpre"> </span><a href="#loc_348_24_348_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_24_348_25&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Remove the auto-generated module (&#39;Paths_*&#39;) from &#39;exposed-modules&#39; and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;other-modules&#39;.</span></span><span class="mpre">
</span><a href="#loc_356_1_356_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_1_356_20&#39;)"><span class="mpre">filterAutogenModule</span></a><span class="mpre"> :: </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre">
</span><a name="loc_356_1_356_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_1_356_20&#39;)"><span class="hl_fundecl"><span class="mpre">filterAutogenModule</span></span></a><span class="mpre"> </span><a name="loc_356_21_356_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_21_356_31&#39;)"><span class="hl_vardecl"><span class="mpre">pkg_descr0</span></span></a><span class="mpre"> = </span><a href="#loc_359_5_359_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_359_5_359_11&#39;)"><span class="hl_varref"><span class="mpre">mapLib</span></span></a><span class="mpre"> </span><a href="#loc_360_5_360_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_360_5_360_27&#39;)"><span class="hl_varref"><span class="mpre">filterAutogenModuleLib</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
                                 </span><a href="#loc_507_1_507_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_16&#39;)"><span class="hl_varref"><span class="mpre">mapAllBuildInfo</span></span></a><span class="mpre"> </span><a href="#loc_363_5_363_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_363_5_363_26&#39;)"><span class="hl_varref"><span class="mpre">filterAutogenModuleBI</span></span></a><span class="mpre"> </span><a href="#loc_356_21_356_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_21_356_31&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr0</span></span></a><span class="mpre">
  where
    </span><a name="loc_359_5_359_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_359_5_359_11&#39;)"><span class="hl_fundecl"><span class="mpre">mapLib</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">pkg</span></span><span class="mpre"> = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 359, srcSpanStartColumn = 20, srcSpanEndLine = 359, srcSpanEndColumn = 58}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 359, srcSpanStartColumn = 24, srcSpanEndLine = 359, srcSpanEndColumn = 25},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/"><span class="mpre">pkg { library = fmap f (library pkg) }</span></span><span class="mpre">
    </span><a name="loc_360_5_360_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_360_5_360_27&#39;)"><span class="hl_fundecl"><span class="mpre">filterAutogenModuleLib</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">lib</span></span><span class="mpre"> = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 360, srcSpanStartColumn = 34, srcSpanEndLine = 362, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 360, srcSpanStartColumn = 38, srcSpanEndLine = 360, srcSpanEndColumn = 39},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/S"><span class="mpre">lib {
      exposedModules = filter (/=autogenModule) (exposedModules lib)
    }</span></span><span class="mpre">
    </span><a name="loc_363_5_363_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_363_5_363_26&#39;)"><span class="hl_fundecl"><span class="mpre">filterAutogenModuleBI</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">bi</span></span><span class="mpre"> = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 363, srcSpanStartColumn = 32, srcSpanEndLine = 365, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 363, srcSpanStartColumn = 35, srcSpanEndLine = 363, srcSpanEndColumn = 36},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/S"><span class="mpre">bi {
      otherModules   = filter (/=autogenModule) (otherModules bi)
    }</span></span><span class="mpre">
    </span><span class="hl_vardecl"><span class="mpre">autogenModule</span></span><span class="mpre"> = </span><a href="Distribution.Simple.BuildPaths.html#loc_101_1_101_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_101_1_101_18&#39;)"><span class="hl_varref"><span class="mpre">autogenModuleName</span></span></a><span class="mpre"> </span><a href="#loc_356_21_356_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_21_356_31&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr0</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Prepare a directory tree of source files for a snapshot version.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- It is expected that the appropriate snapshot version has already been set</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- in the package description, eg using &#39;snapshotPackage&#39; or &#39;snapshotVersion&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_379_1_379_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_1_379_20&#39;)"><span class="mpre">prepareSnapshotTree</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">          </span><span class="hl_comment"><span class="mpre">-- ^verbosity</span></span><span class="mpre">
                    -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^info from the cabal file</span></span><span class="mpre">
                    -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre">
                    -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">           </span><span class="hl_comment"><span class="mpre">-- ^source tree to populate</span></span><span class="mpre">
                    -&gt; [</span><span class="hl_tyconref"><span class="mpre">PPSuffixHandler</span></span><span class="mpre">]  </span><span class="hl_comment"><span class="mpre">-- ^extra preprocessors (includes</span></span><span class="mpre">
                                          </span><span class="hl_comment"><span class="mpre">-- suffixes)</span></span><span class="mpre">
                    -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_379_1_379_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_1_379_20&#39;)"><span class="hl_fundecl"><span class="mpre">prepareSnapshotTree</span></span></a><span class="mpre"> </span><a name="loc_379_21_379_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_21_379_30&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_379_31_379_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_31_379_34&#39;)"><span class="hl_vardecl"><span class="mpre">pkg</span></span></a><span class="mpre"> </span><a name="loc_379_35_379_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_35_379_41&#39;)"><span class="hl_vardecl"><span class="mpre">mb_lbi</span></span></a><span class="mpre"> </span><a name="loc_379_42_379_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_42_379_51&#39;)"><span class="hl_vardecl"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><a name="loc_379_52_379_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_52_379_55&#39;)"><span class="hl_vardecl"><span class="mpre">pps</span></span></a><span class="mpre"> = do
  </span><a href="#loc_291_1_291_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_1_291_12&#39;)"><span class="hl_varref"><span class="mpre">prepareTree</span></span></a><span class="mpre"> </span><a href="#loc_379_21_379_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_21_379_30&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_379_31_379_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_31_379_34&#39;)"><span class="hl_varref"><span class="mpre">pkg</span></span></a><span class="mpre"> </span><a href="#loc_379_35_379_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_35_379_41&#39;)"><span class="hl_varref"><span class="mpre">mb_lbi</span></span></a><span class="mpre"> </span><a href="#loc_379_42_379_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_42_379_51&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><a href="#loc_379_52_379_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_52_379_55&#39;)"><span class="hl_varref"><span class="mpre">pps</span></span></a><span class="mpre">
  </span><a href="#loc_387_1_387_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_387_1_387_29&#39;)"><span class="hl_varref"><span class="mpre">overwriteSnapshotPackageDesc</span></span></a><span class="mpre"> </span><a href="#loc_379_21_379_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_21_379_30&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_379_31_379_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_31_379_34&#39;)"><span class="hl_varref"><span class="mpre">pkg</span></span></a><span class="mpre"> </span><a href="#loc_379_42_379_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_42_379_51&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre">

</span><a href="#loc_387_1_387_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_387_1_387_29&#39;)"><span class="mpre">overwriteSnapshotPackageDesc</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">          </span><span class="hl_comment"><span class="mpre">-- ^verbosity</span></span><span class="mpre">
                             -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^info from the cabal file</span></span><span class="mpre">
                             -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">           </span><span class="hl_comment"><span class="mpre">-- ^source tree</span></span><span class="mpre">
                             -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_387_1_387_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_387_1_387_29&#39;)"><span class="hl_fundecl"><span class="mpre">overwriteSnapshotPackageDesc</span></span></a><span class="mpre"> </span><a name="loc_387_30_387_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_387_30_387_39&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_387_40_387_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_387_40_387_43&#39;)"><span class="hl_vardecl"><span class="mpre">pkg</span></span></a><span class="mpre"> </span><a name="loc_387_44_387_53" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_387_44_387_53&#39;)"><span class="hl_vardecl"><span class="mpre">targetDir</span></span></a><span class="mpre"> = do
    </span><span class="hl_comment"><span class="mpre">-- We could just writePackageDescription targetDescFile pkg_descr,</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- but that would lose comments and formatting.</span></span><span class="mpre">
    </span><a name="loc_390_5_390_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_390_5_390_13&#39;)"><span class="hl_vardecl"><span class="mpre">descFile</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.Simple.Utils.html#loc_1109_1_1109_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1109_1_1109_19&#39;)"><span class="hl_varref"><span class="mpre">defaultPackageDesc</span></span></a><span class="mpre"> </span><a href="#loc_387_30_387_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_387_30_387_39&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
    </span><a href="Distribution.Simple.Utils.html#loc_1249_1_1249_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1249_1_1249_21&#39;)"><span class="hl_varref"><span class="mpre">withUTF8FileContents</span></span></a><span class="mpre"> </span><a href="#loc_390_5_390_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_390_5_390_13&#39;)"><span class="hl_varref"><span class="mpre">descFile</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
      </span><a href="Distribution.Simple.Utils.html#loc_1260_1_1260_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1260_1_1260_14&#39;)"><span class="hl_varref"><span class="mpre">writeUTF8File</span></span></a><span class="mpre"> (</span><a href="#loc_387_44_387_53" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_387_44_387_53&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_390_5_390_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_390_5_390_13&#39;)"><span class="hl_varref"><span class="mpre">descFile</span></span></a><span class="mpre">)
        </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">unlines</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><a href="#loc_397_5_397_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_5_397_19&#39;)"><span class="hl_varref"><span class="mpre">replaceVersion</span></span></a><span class="mpre"> (</span><a href="Distribution.Package.html#loc_190_1_190_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_190_1_190_15&#39;)"><span class="hl_varref"><span class="mpre">packageVersion</span></span></a><span class="mpre"> </span><a href="#loc_387_40_387_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_387_40_387_43&#39;)"><span class="hl_varref"><span class="mpre">pkg</span></span></a><span class="mpre">)) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">lines</span></span><span class="mpre">

  where
    </span><a href="#loc_397_5_397_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_5_397_19&#39;)"><span class="mpre">replaceVersion</span></a><span class="mpre"> :: </span><a href="Data.Version.html#loc_68_6_68_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Version.html#loc_68_6_68_13&#39;)"><span class="hl_tyconref"><span class="mpre">Version</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
    </span><a name="loc_397_5_397_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_5_397_19&#39;)"><span class="hl_fundecl"><span class="mpre">replaceVersion</span></span></a><span class="mpre"> </span><a name="loc_397_20_397_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_20_397_27&#39;)"><span class="hl_vardecl"><span class="mpre">version</span></span></a><span class="mpre"> </span><a name="loc_397_28_397_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_28_397_32&#39;)"><span class="hl_vardecl"><span class="mpre">line</span></span></a><span class="mpre">
      | </span><span class="hl_string"><span class="mpre">&quot;version:&quot;</span></span><span class="mpre"> </span><a href="Data.List.html#loc_286_1_286_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_286_1_286_11&#39;)"><span class="hl_infix"><span class="mpre">`isPrefixOf`</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="GHC.Unicode.html#loc_143_1_143_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Unicode.html#loc_143_1_143_8&#39;)"><span class="hl_varref"><span class="mpre">toLower</span></span></a><span class="mpre"> </span><a href="#loc_397_28_397_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_28_397_32&#39;)"><span class="hl_varref"><span class="mpre">line</span></span></a><span class="mpre">
                  = </span><span class="hl_string"><span class="mpre">&quot;version: &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><a href="#loc_397_20_397_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_20_397_27&#39;)"><span class="hl_varref"><span class="mpre">version</span></span></a><span class="mpre">
      | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_397_28_397_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_28_397_32&#39;)"><span class="hl_varref"><span class="mpre">line</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modifies a &#39;PackageDescription&#39; by appending a snapshot number</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- corresponding to the given date.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_406_1_406_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_1_406_16&#39;)"><span class="mpre">snapshotPackage</span></a><span class="mpre"> :: </span><a href="Data.Time.Clock.UTC.html#loc_31_6_31_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Clock.UTC.html#loc_31_6_31_13&#39;)"><span class="hl_tyconref"><span class="mpre">UTCTime</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre">
</span><a name="loc_406_1_406_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_1_406_16&#39;)"><span class="hl_fundecl"><span class="mpre">snapshotPackage</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">date</span></span><span class="mpre"> </span><a name="loc_406_22_406_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_22_406_25&#39;)"><span class="hl_vardecl"><span class="mpre">pkg</span></span></a><span class="mpre"> =
  </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 407, srcSpanStartColumn = 3, srcSpanEndLine = 409, srcSpanEndColumn = 4}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 407, srcSpanStartColumn = 7, srcSpanEndLine = 407, srcSpanEndColumn = 8},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simp"><span class="mpre">pkg {
    package = pkgid { pkgVersion = snapshotVersion date (pkgVersion pkgid) }
  }</span></span><span class="mpre">
  where </span><span class="hl_vardecl"><span class="mpre">pkgid</span></span><span class="mpre"> = </span><a href="Distribution.Package.html#loc_184_3_184_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_184_3_184_12&#39;)"><span class="hl_varref"><span class="mpre">packageId</span></span></a><span class="mpre"> </span><a href="#loc_406_22_406_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_22_406_25&#39;)"><span class="hl_varref"><span class="mpre">pkg</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modifies a &#39;Version&#39; by appending a snapshot number corresponding</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- to the given date.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_416_1_416_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_416_1_416_16&#39;)"><span class="mpre">snapshotVersion</span></a><span class="mpre"> :: </span><a href="Data.Time.Clock.UTC.html#loc_31_6_31_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Clock.UTC.html#loc_31_6_31_13&#39;)"><span class="hl_tyconref"><span class="mpre">UTCTime</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Version.html#loc_68_6_68_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Version.html#loc_68_6_68_13&#39;)"><span class="hl_tyconref"><span class="mpre">Version</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Version.html#loc_68_6_68_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Version.html#loc_68_6_68_13&#39;)"><span class="hl_tyconref"><span class="mpre">Version</span></span></a><span class="mpre">
</span><a name="loc_416_1_416_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_416_1_416_16&#39;)"><span class="hl_fundecl"><span class="mpre">snapshotVersion</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">date</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">version</span></span><span class="mpre"> = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 416, srcSpanStartColumn = 32, srcSpanEndLine = 419, srcSpanEndColumn = 4}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 416, srcSpanStartColumn = 40, srcSpanEndLine = 416, srcSpanEndColumn = 41},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/S"><span class="mpre">version {
    versionBranch = versionBranch version
                 ++ [dateToSnapshotNumber date]
  }</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Given a date produce a corresponding integer representation.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- For example given a date @18/03/2008@ produce the number @20080318@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_425_1_425_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_1_425_21&#39;)"><span class="mpre">dateToSnapshotNumber</span></a><span class="mpre"> :: </span><a href="Data.Time.Clock.UTC.html#loc_31_6_31_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Clock.UTC.html#loc_31_6_31_13&#39;)"><span class="hl_tyconref"><span class="mpre">UTCTime</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
</span><a name="loc_425_1_425_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_1_425_21&#39;)"><span class="hl_fundecl"><span class="mpre">dateToSnapshotNumber</span></span></a><span class="mpre"> </span><a name="loc_425_22_425_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_22_425_26&#39;)"><span class="hl_vardecl"><span class="mpre">date</span></span></a><span class="mpre"> = case </span><a href="Data.Time.Calendar.Gregorian.html#loc_25_1_25_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Calendar.Gregorian.html#loc_25_1_25_12&#39;)"><span class="hl_varref"><span class="mpre">toGregorian</span></span></a><span class="mpre"> (</span><a href="Data.Time.Clock.UTC.html#loc_33_9_33_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Time.Clock.UTC.html#loc_33_9_33_16&#39;)"><span class="hl_varref"><span class="mpre">utctDay</span></span></a><span class="mpre"> </span><a href="#loc_425_22_425_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_22_425_26&#39;)"><span class="hl_varref"><span class="mpre">date</span></span></a><span class="mpre">) of
                            (</span><a name="loc_426_30_426_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_426_30_426_34&#39;)"><span class="hl_vardecl"><span class="mpre">year</span></span></a><span class="mpre">, </span><a name="loc_426_36_426_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_426_36_426_41&#39;)"><span class="hl_vardecl"><span class="mpre">month</span></span></a><span class="mpre">, </span><a name="loc_426_43_426_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_426_43_426_46&#39;)"><span class="hl_vardecl"><span class="mpre">day</span></span></a><span class="mpre">) -&gt;
                                </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_426_30_426_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_426_30_426_34&#39;)"><span class="hl_varref"><span class="mpre">year</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">*</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">10000</span></span><span class="mpre">
                              </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_426_36_426_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_426_36_426_41&#39;)"><span class="hl_varref"><span class="mpre">month</span></span></a><span class="mpre">             </span><span class="hl_infix"><span class="mpre">*</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">100</span></span><span class="mpre">
                              </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_426_43_426_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_426_43_426_46&#39;)"><span class="hl_varref"><span class="mpre">day</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Callback type for use by sdistWith.</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 432, srcSpanStartColumn = 1, srcSpanEndLine = 437, srcSpanEndColumn = 39}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 432, srcSpanStartColumn = 1, srcSpanEndLine = 432, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simp"><span class="mpre">type CreateArchiveFun = Verbosity               </span><span class="hl_comment"><span class="mpre">-- ^verbosity</span></span><span class="mpre">
                        -&gt; PackageDescription   </span><span class="hl_comment"><span class="mpre">-- ^info from cabal file</span></span><span class="mpre">
                        -&gt; Maybe LocalBuildInfo </span><span class="hl_comment"><span class="mpre">-- ^info from configure</span></span><span class="mpre">
                        -&gt; FilePath             </span><span class="hl_comment"><span class="mpre">-- ^source tree to archive</span></span><span class="mpre">
                        -&gt; FilePath             </span><span class="hl_comment"><span class="mpre">-- ^name of archive to create</span></span><span class="mpre">
                        -&gt; IO FilePath</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Create an archive from a tree of source files, and clean up the tree.</span></span><span class="mpre">
</span><a href="#loc_441_1_441_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_441_1_441_14&#39;)"><span class="mpre">createArchive</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">CreateArchiveFun</span></span><span class="mpre">
</span><a name="loc_441_1_441_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_441_1_441_14&#39;)"><span class="hl_fundecl"><span class="mpre">createArchive</span></span></a><span class="mpre"> </span><a name="loc_441_15_441_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_441_15_441_24&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_441_25_441_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_441_25_441_34&#39;)"><span class="hl_vardecl"><span class="mpre">pkg_descr</span></span></a><span class="mpre"> </span><a name="loc_441_35_441_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_441_35_441_41&#39;)"><span class="hl_vardecl"><span class="mpre">mb_lbi</span></span></a><span class="mpre"> </span><a name="loc_441_42_441_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_441_42_441_48&#39;)"><span class="hl_vardecl"><span class="mpre">tmpDir</span></span></a><span class="mpre"> </span><a name="loc_441_49_441_59" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_441_49_441_59&#39;)"><span class="hl_vardecl"><span class="mpre">targetPref</span></span></a><span class="mpre"> = do
  let </span><a name="loc_442_7_442_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_442_7_442_22&#39;)"><span class="hl_vardecl"><span class="mpre">tarBallFilePath</span></span></a><span class="mpre"> = </span><a href="#loc_441_49_441_59" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_441_49_441_59&#39;)"><span class="hl_varref"><span class="mpre">targetPref</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_503_1_503_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_503_1_503_12&#39;)"><span class="hl_varref"><span class="mpre">tarBallName</span></span></a><span class="mpre"> </span><a href="#loc_441_25_441_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_441_25_441_34&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;tar.gz&quot;</span></span><span class="mpre">

  (</span><a name="loc_444_4_444_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_444_4_444_11&#39;)"><span class="hl_vardecl"><span class="mpre">tarProg</span></span></a><span class="mpre">, _) &lt;- </span><a href="Distribution.Simple.Program.Db.html#loc_371_1_371_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_371_1_371_15&#39;)"><span class="hl_varref"><span class="mpre">requireProgram</span></span></a><span class="mpre"> </span><a href="#loc_441_15_441_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_441_15_441_24&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_263_1_263_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_263_1_263_11&#39;)"><span class="hl_varref"><span class="mpre">tarProgram</span></span></a><span class="mpre">
                    (</span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.html#loc_215_1_215_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_215_1_215_28&#39;)"><span class="hl_varref"><span class="mpre">defaultProgramConfiguration</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21&#39;)"><span class="hl_varref"><span class="mpre">withPrograms</span></span></a><span class="mpre"> </span><a href="#loc_441_35_441_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_441_35_441_41&#39;)"><span class="hl_varref"><span class="mpre">mb_lbi</span></span></a><span class="mpre">)

   </span><span class="hl_comment"><span class="mpre">-- Hmm: I could well be skating on thinner ice here by using the -C option</span></span><span class="mpre">
   </span><span class="hl_comment"><span class="mpre">-- (=&gt; GNU tar-specific?)  [The prev. solution used pipes and sub-command</span></span><span class="mpre">
   </span><span class="hl_comment"><span class="mpre">-- sequences to set up the paths correctly, which is problematic in a Windows</span></span><span class="mpre">
   </span><span class="hl_comment"><span class="mpre">-- setting.]</span></span><span class="mpre">
  </span><a href="Distribution.Simple.Program.html#loc_197_1_197_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_197_1_197_17&#39;)"><span class="hl_varref"><span class="mpre">rawSystemProgram</span></span></a><span class="mpre"> </span><a href="#loc_441_15_441_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_441_15_441_24&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_444_4_444_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_444_4_444_11&#39;)"><span class="hl_varref"><span class="mpre">tarProg</span></span></a><span class="mpre">
           [</span><span class="hl_string"><span class="mpre">&quot;-C&quot;</span></span><span class="mpre">, </span><a href="#loc_441_42_441_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_441_42_441_48&#39;)"><span class="hl_varref"><span class="mpre">tmpDir</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;-czf&quot;</span></span><span class="mpre">, </span><a href="#loc_442_7_442_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_442_7_442_22&#39;)"><span class="hl_varref"><span class="mpre">tarBallFilePath</span></span></a><span class="mpre">, </span><a href="#loc_503_1_503_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_503_1_503_12&#39;)"><span class="hl_varref"><span class="mpre">tarBallName</span></span></a><span class="mpre"> </span><a href="#loc_441_25_441_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_441_25_441_34&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre">]
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_442_7_442_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_442_7_442_22&#39;)"><span class="hl_varref"><span class="mpre">tarBallFilePath</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Given a buildinfo, return the names of all source files.</span></span><span class="mpre">
</span><a href="#loc_460_1_460_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_1_460_20&#39;)"><span class="mpre">allSourcesBuildInfo</span></a><span class="mpre"> :: </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre">
                       -&gt; [</span><span class="hl_tyconref"><span class="mpre">PPSuffixHandler</span></span><span class="mpre">] </span><span class="hl_comment"><span class="mpre">-- ^ Extra preprocessors</span></span><span class="mpre">
                       -&gt; [</span><a href="Distribution.ModuleName.html#loc_67_9_67_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_67_9_67_19&#39;)"><span class="hl_tyconref"><span class="mpre">ModuleName</span></span></a><span class="mpre">]      </span><span class="hl_comment"><span class="mpre">-- ^ Exposed modules</span></span><span class="mpre">
                       -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> [</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">]
</span><a name="loc_460_1_460_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_1_460_20&#39;)"><span class="hl_fundecl"><span class="mpre">allSourcesBuildInfo</span></span></a><span class="mpre"> </span><a name="loc_460_21_460_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_21_460_23&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a name="loc_460_24_460_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_24_460_27&#39;)"><span class="hl_vardecl"><span class="mpre">pps</span></span></a><span class="mpre"> </span><a name="loc_460_28_460_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_28_460_35&#39;)"><span class="hl_vardecl"><span class="mpre">modules</span></span></a><span class="mpre"> = do
  let </span><a name="loc_461_7_461_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_461_7_461_17&#39;)"><span class="hl_vardecl"><span class="mpre">searchDirs</span></span></a><span class="mpre"> = </span><a href="Distribution.PackageDescription.html#loc_645_9_645_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_645_9_645_21&#39;)"><span class="hl_varref"><span class="mpre">hsSourceDirs</span></span></a><span class="mpre"> </span><a href="#loc_460_21_460_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_21_460_23&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">
  </span><a name="loc_462_3_462_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_462_3_462_10&#39;)"><span class="hl_vardecl"><span class="mpre">sources</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">sequence</span></span><span class="mpre">
    [ let </span><a name="loc_463_11_463_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_463_11_463_15&#39;)"><span class="hl_vardecl"><span class="mpre">file</span></span></a><span class="mpre"> = </span><a href="Distribution.ModuleName.html#loc_133_1_133_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_133_1_133_11&#39;)"><span class="hl_varref"><span class="mpre">ModuleName.toFilePath</span></span></a><span class="mpre"> </span><a href="#loc_466_7_466_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_7_466_14&#39;)"><span class="hl_varref"><span class="mpre">module_</span></span></a><span class="mpre">
      in </span><a href="Distribution.Simple.Utils.html#loc_660_1_660_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_660_1_660_22&#39;)"><span class="hl_varref"><span class="mpre">findFileWithExtension</span></span></a><span class="mpre"> </span><a href="#loc_476_5_476_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_5_476_13&#39;)"><span class="hl_varref"><span class="mpre">suffixes</span></span></a><span class="mpre"> </span><a href="#loc_461_7_461_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_461_7_461_17&#39;)"><span class="hl_varref"><span class="mpre">searchDirs</span></span></a><span class="mpre"> </span><a href="#loc_463_11_463_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_463_11_463_15&#39;)"><span class="hl_varref"><span class="mpre">file</span></span></a><span class="mpre">
         </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> (</span><a href="#loc_477_5_477_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_477_5_477_13&#39;)"><span class="hl_varref"><span class="mpre">notFound</span></span></a><span class="mpre"> </span><a href="#loc_466_7_466_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_7_466_14&#39;)"><span class="hl_varref"><span class="mpre">module_</span></span></a><span class="mpre">) </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre">
    | </span><a name="loc_466_7_466_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_7_466_14&#39;)"><span class="hl_vardecl"><span class="mpre">module_</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_460_28_460_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_28_460_35&#39;)"><span class="hl_varref"><span class="mpre">modules</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_646_9_646_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_646_9_646_21&#39;)"><span class="hl_varref"><span class="mpre">otherModules</span></span></a><span class="mpre"> </span><a href="#loc_460_21_460_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_21_460_23&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> ]
  </span><a name="loc_467_3_467_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_467_3_467_12&#39;)"><span class="hl_vardecl"><span class="mpre">bootFiles</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">sequence</span></span><span class="mpre">
    [ let </span><a name="loc_468_11_468_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_468_11_468_15&#39;)"><span class="hl_vardecl"><span class="mpre">file</span></span></a><span class="mpre"> = </span><a href="Distribution.ModuleName.html#loc_133_1_133_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_133_1_133_11&#39;)"><span class="hl_varref"><span class="mpre">ModuleName.toFilePath</span></span></a><span class="mpre"> </span><a href="#loc_471_7_471_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_471_7_471_14&#39;)"><span class="hl_varref"><span class="mpre">module_</span></span></a><span class="mpre">
          </span><a name="loc_469_11_469_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_469_11_469_19&#39;)"><span class="hl_vardecl"><span class="mpre">fileExts</span></span></a><span class="mpre"> = [</span><span class="hl_string"><span class="mpre">&quot;hs-boot&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;lhs-boot&quot;</span></span><span class="mpre">]
      in </span><a href="Distribution.Simple.Utils.html#loc_660_1_660_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_660_1_660_22&#39;)"><span class="hl_varref"><span class="mpre">findFileWithExtension</span></span></a><span class="mpre"> </span><a href="#loc_469_11_469_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_469_11_469_19&#39;)"><span class="hl_varref"><span class="mpre">fileExts</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_645_9_645_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_645_9_645_21&#39;)"><span class="hl_varref"><span class="mpre">hsSourceDirs</span></span></a><span class="mpre"> </span><a href="#loc_460_21_460_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_21_460_23&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">) </span><a href="#loc_468_11_468_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_468_11_468_15&#39;)"><span class="hl_varref"><span class="mpre">file</span></span></a><span class="mpre">
    | </span><a name="loc_471_7_471_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_471_7_471_14&#39;)"><span class="hl_vardecl"><span class="mpre">module_</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_460_28_460_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_28_460_35&#39;)"><span class="hl_varref"><span class="mpre">modules</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_646_9_646_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_646_9_646_21&#39;)"><span class="hl_varref"><span class="mpre">otherModules</span></span></a><span class="mpre"> </span><a href="#loc_460_21_460_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_21_460_23&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> ]

  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_462_3_462_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_462_3_462_10&#39;)"><span class="hl_varref"><span class="mpre">sources</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_115_1_115_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_115_1_115_10&#39;)"><span class="hl_varref"><span class="mpre">catMaybes</span></span></a><span class="mpre"> </span><a href="#loc_467_3_467_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_467_3_467_12&#39;)"><span class="hl_varref"><span class="mpre">bootFiles</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_644_9_644_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_644_9_644_17&#39;)"><span class="hl_varref"><span class="mpre">cSources</span></span></a><span class="mpre"> </span><a href="#loc_460_21_460_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_21_460_23&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">

  where
    </span><a name="loc_476_5_476_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_5_476_13&#39;)"><span class="hl_vardecl"><span class="mpre">suffixes</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.PreProcess.html#loc_628_1_628_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PreProcess.html#loc_628_1_628_11&#39;)"><span class="hl_varref"><span class="mpre">ppSuffixes</span></span></a><span class="mpre"> </span><a href="#loc_460_24_460_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_460_24_460_27&#39;)"><span class="hl_varref"><span class="mpre">pps</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;hs&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;lhs&quot;</span></span><span class="mpre">]
    </span><a name="loc_477_5_477_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_477_5_477_13&#39;)"><span class="hl_fundecl"><span class="mpre">notFound</span></span></a><span class="mpre"> </span><a name="loc_477_14_477_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_477_14_477_15&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Error: Could not find module: &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><a href="#loc_477_14_477_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_477_14_477_15&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">
                 </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; with any suffix: &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_476_5_476_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_5_476_13&#39;)"><span class="hl_varref"><span class="mpre">suffixes</span></span></a><span class="mpre">


</span><a href="#loc_482_1_482_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_1_482_21&#39;)"><span class="mpre">printPackageProblems</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_482_1_482_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_1_482_21&#39;)"><span class="hl_fundecl"><span class="mpre">printPackageProblems</span></span></a><span class="mpre"> </span><a name="loc_482_22_482_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_22_482_31&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_482_32_482_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_32_482_41&#39;)"><span class="hl_vardecl"><span class="mpre">pkg_descr</span></span></a><span class="mpre"> = do
  </span><a name="loc_483_3_483_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_483_3_483_11&#39;)"><span class="hl_vardecl"><span class="mpre">ioChecks</span></span></a><span class="mpre">      &lt;- </span><a href="Distribution.PackageDescription.Check.html#loc_1304_1_1304_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.Check.html#loc_1304_1_1304_18&#39;)"><span class="hl_varref"><span class="mpre">checkPackageFiles</span></span></a><span class="mpre"> </span><a href="#loc_482_32_482_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_32_482_41&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;.&quot;</span></span><span class="mpre">
  let </span><a name="loc_484_7_484_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_484_7_484_17&#39;)"><span class="hl_vardecl"><span class="mpre">pureChecks</span></span></a><span class="mpre"> = </span><a href="Distribution.PackageDescription.Check.html#loc_184_1_184_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.Check.html#loc_184_1_184_23&#39;)"><span class="hl_varref"><span class="mpre">checkConfiguredPackage</span></span></a><span class="mpre"> </span><a href="#loc_482_32_482_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_32_482_41&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre">
      </span><a name="loc_485_7_485_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_485_7_485_18&#39;)"><span class="hl_fundecl"><span class="mpre">isDistError</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">PackageDistSuspicious</span></span><span class="mpre"> _) = </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
      </span><a href="#loc_485_7_485_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_485_7_485_18&#39;)"><span class="hl_fundecl"><span class="mpre">isDistError</span></span></a><span class="mpre"> _                         = </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">
      (</span><a name="loc_487_8_487_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_487_8_487_14&#39;)"><span class="hl_vardecl"><span class="mpre">errors</span></span></a><span class="mpre">, </span><a name="loc_487_16_487_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_487_16_487_24&#39;)"><span class="hl_vardecl"><span class="mpre">warnings</span></span></a><span class="mpre">) = </span><a href="Data.List.html#loc_464_1_464_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_464_1_464_10&#39;)"><span class="hl_varref"><span class="mpre">partition</span></span></a><span class="mpre"> </span><a href="#loc_485_7_485_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_485_7_485_18&#39;)"><span class="hl_varref"><span class="mpre">isDistError</span></span></a><span class="mpre"> (</span><a href="#loc_484_7_484_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_484_7_484_17&#39;)"><span class="hl_varref"><span class="mpre">pureChecks</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_483_3_483_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_483_3_483_11&#39;)"><span class="hl_varref"><span class="mpre">ioChecks</span></span></a><span class="mpre">)
  </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> </span><a href="#loc_487_8_487_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_487_8_487_14&#39;)"><span class="hl_varref"><span class="mpre">errors</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
      </span><a href="Distribution.Simple.Utils.html#loc_292_1_292_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_292_1_292_7&#39;)"><span class="hl_varref"><span class="mpre">notice</span></span></a><span class="mpre"> </span><a href="#loc_482_22_482_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_22_482_31&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Distribution quality errors:\n&quot;</span></span><span class="mpre">
                      </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">unlines</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.Check.html#loc_123_33_123_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.Check.html#loc_123_33_123_44&#39;)"><span class="hl_varref"><span class="mpre">explanation</span></span></a><span class="mpre"> </span><a href="#loc_487_8_487_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_487_8_487_14&#39;)"><span class="hl_varref"><span class="mpre">errors</span></span></a><span class="mpre">)
  </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> </span><a href="#loc_487_16_487_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_487_16_487_24&#39;)"><span class="hl_varref"><span class="mpre">warnings</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
      </span><a href="Distribution.Simple.Utils.html#loc_292_1_292_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_292_1_292_7&#39;)"><span class="hl_varref"><span class="mpre">notice</span></span></a><span class="mpre"> </span><a href="#loc_482_22_482_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_22_482_31&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Distribution quality warnings:\n&quot;</span></span><span class="mpre">
                      </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">unlines</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.Check.html#loc_123_33_123_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.Check.html#loc_123_33_123_44&#39;)"><span class="hl_varref"><span class="mpre">explanation</span></span></a><span class="mpre"> </span><a href="#loc_487_16_487_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_487_16_487_24&#39;)"><span class="hl_varref"><span class="mpre">warnings</span></span></a><span class="mpre">)
  </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> </span><a href="#loc_487_8_487_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_487_8_487_14&#39;)"><span class="hl_varref"><span class="mpre">errors</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
      </span><a href="Distribution.Simple.Utils.html#loc_292_1_292_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_292_1_292_7&#39;)"><span class="hl_varref"><span class="mpre">notice</span></span></a><span class="mpre"> </span><a href="#loc_482_22_482_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_22_482_31&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
        </span><span class="hl_string"><span class="mpre">&quot;Note: the public hackage server would reject this package.&quot;</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The name of the tarball without extension</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_503_1_503_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_503_1_503_12&#39;)"><span class="mpre">tarBallName</span></a><span class="mpre"> :: </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
</span><a name="loc_503_1_503_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_503_1_503_12&#39;)"><span class="hl_vardecl"><span class="mpre">tarBallName</span></span></a><span class="mpre"> = </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Distribution.Package.html#loc_184_3_184_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_184_3_184_12&#39;)"><span class="hl_varref"><span class="mpre">packageId</span></span></a><span class="mpre">

</span><a href="#loc_507_1_507_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_16&#39;)"><span class="mpre">mapAllBuildInfo</span></a><span class="mpre"> :: (</span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre">)
                -&gt; (</span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre">)
</span><a name="loc_507_1_507_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_16&#39;)"><span class="hl_fundecl"><span class="mpre">mapAllBuildInfo</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">pkg</span></span><span class="mpre"> = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 507, srcSpanStartColumn = 25, srcSpanEndLine = 512, srcSpanEndColumn = 4}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 507, srcSpanStartColumn = 29, srcSpanEndLine = 507, srcSpanEndColumn = 30},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/S"><span class="mpre">pkg {
    library     = fmap mapLibBi (library pkg),
    executables = fmap mapExeBi (executables pkg),
    testSuites  = fmap mapTestBi (testSuites pkg),
    benchmarks  = fmap mapBenchBi (benchmarks pkg)
  }</span></span><span class="mpre">
  where
    </span><span class="hl_fundecl"><span class="mpre">mapLibBi</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">lib</span></span><span class="mpre">  = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 514, srcSpanStartColumn = 21, srcSpanEndLine = 514, srcSpanEndColumn = 70}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 514, srcSpanStartColumn = 25, srcSpanEndLine = 514, srcSpanEndColumn = 26},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/"><span class="mpre">lib { libBuildInfo       = f (libBuildInfo lib) }</span></span><span class="mpre">
    </span><span class="hl_fundecl"><span class="mpre">mapExeBi</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">exe</span></span><span class="mpre">  = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 515, srcSpanStartColumn = 21, srcSpanEndLine = 515, srcSpanEndColumn = 67}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 515, srcSpanStartColumn = 25, srcSpanEndLine = 515, srcSpanEndColumn = 26},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/"><span class="mpre">exe { buildInfo          = f (buildInfo exe) }</span></span><span class="mpre">
    </span><span class="hl_fundecl"><span class="mpre">mapTestBi</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">t</span></span><span class="mpre">   = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 516, srcSpanStartColumn = 21, srcSpanEndLine = 516, srcSpanEndColumn = 69}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 516, srcSpanStartColumn = 25, srcSpanEndLine = 516, srcSpanEndColumn = 26},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/"><span class="mpre">t   { testBuildInfo      = f (testBuildInfo t) }</span></span><span class="mpre">
    </span><span class="hl_fundecl"><span class="mpre">mapBenchBi</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">bm</span></span><span class="mpre"> = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 517, srcSpanStartColumn = 21, srcSpanEndLine = 517, srcSpanEndColumn = 75}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/SrcDist.hs&quot;, srcSpanStartLine = 517, srcSpanStartColumn = 25, srcSpanEndLine = 517, srcSpanEndColumn = 26},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/"><span class="mpre">bm  { benchmarkBuildInfo = f (benchmarkBuildInfo bm) }</span></span><span class="mpre">
</span></div></body></html>