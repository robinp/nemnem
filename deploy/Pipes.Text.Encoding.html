<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE RankNTypes, BangPatterns #-}

</span><span class="hl_comment"><span class="mpre">-- | This module uses the stream decoding functions from Michael Snoyman&#39;s new</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--  &lt;http://hackage.haskell.org/package/text-stream-decode text-stream-decode&gt; </span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--  package to define decoding functions and lenses.  The exported names</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--  conflict with names in @Data.Text.Encoding@ but the module can otherwise be </span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--  imported unqualified. </span></span><span class="mpre">

module Pipes.Text.Encoding
    ( 
    </span><span class="hl_comment"><span class="mpre">-- * The Lens or Codec type</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- $lenses</span></span><span class="mpre">
    Codec
    , decode
    </span><span class="hl_comment"><span class="mpre">-- * \&#39;Viewing\&#39; the Text in a byte stream</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- $codecs</span></span><span class="mpre">
    , utf8
    , utf8Pure
    , utf16LE
    , utf16BE
    , utf32LE
    , utf32BE
    </span><span class="hl_comment"><span class="mpre">-- * Non-lens decoding functions </span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- $decoders</span></span><span class="mpre">
    , decodeUtf8
    , decodeUtf8Pure
    , decodeUtf16LE
    , decodeUtf16BE
    , decodeUtf32LE
    , decodeUtf32BE
    </span><span class="hl_comment"><span class="mpre">-- * Re-encoding functions</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- $encoders</span></span><span class="mpre">
    , encodeUtf8
    , encodeUtf16LE
    , encodeUtf16BE
    , encodeUtf32LE
    , encodeUtf32BE
    </span><span class="hl_comment"><span class="mpre">-- * Functions for latin and ascii text</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- $ascii</span></span><span class="mpre">
    , encodeAscii
    , decodeAscii
    , encodeIso8859_1
    , decodeIso8859_1
    ) 
    where

import Data.Functor.Constant (</span><a href="Data.Functor.Constant.html#loc_24_9_24_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Constant.html#loc_24_9_24_17&#39;)"><span class="mpre">Constant</span></a><span class="mpre">(..))
import Data.Char (ord)
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 49, srcSpanStartColumn = 8, srcSpanEndLine = 49, srcSpanEndColumn = 23}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> as B 
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 50, srcSpanStartColumn = 8, srcSpanEndLine = 50, srcSpanEndColumn = 23}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> (ByteString)
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 51, srcSpanStartColumn = 8, srcSpanEndLine = 51, srcSpanEndColumn = 29}, srcInfoPoints = []}) &quot;Data.ByteString.Char8&quot;"><span class="mpre">Data.ByteString.Char8</span></span><span class="mpre"> as B8
import Data.Text (</span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="mpre">Text</span></a><span class="mpre">)
import qualified Data.Text as T 
import qualified Data.Text.Encoding as TE 
import qualified Data.Streaming.Text as Stream
import Data.Streaming.Text (</span><a href="Data.Streaming.Text.html#loc_81_6_81_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_81_6_81_18&#39;)"><span class="mpre">DecodeResult</span></a><span class="mpre">(..))
import Control.Monad (</span><a href="Control.Monad.html#loc_204_1_204_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_204_1_204_5&#39;)"><span class="mpre">join</span></a><span class="mpre">)
import Data.Word (Word8)
import Pipes

</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 61, srcSpanStartColumn = 1, srcSpanEndLine = 61, srcSpanEndColumn = 66}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 61, srcSpanStartColumn = 1, srcSpanEndLine = 61, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs"><span class="mpre">type Lens&#39; a b = forall f . Functor f =&gt; (b -&gt; f b) -&gt; (a -&gt; f a)</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{- $lenses
    The &#39;Codec&#39; type is a simple specializion of 
    the @Lens&#39;@ type synonymn used by the standard lens libraries, 
    &lt;http://hackage.haskell.org/package/lens lens&gt; and 
    &lt;http://hackage.haskell.org/package/lens-family lens-family&gt;. That type, 
    
&gt;   type Lens&#39; a b = forall f . Functor f =&gt; (b -&gt; f b) -&gt; (a -&gt; f a)

    is just an alias for a Prelude type. Thus you use any particular codec with
    the @view@ / @(^.)@ , @zoom@ and @over@ functions from either of those libraries;
    we presuppose neither since we already have access to the types they require.

    -}</span></span><span class="mpre">

</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 77, srcSpanStartColumn = 1, srcSpanEndLine = 81, srcSpanEndColumn = 57}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 77, srcSpanStartColumn = 1, srcSpanEndLine = 77, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs"><span class="mpre">type Codec
    =  forall m r
    .  Monad m
    =&gt; Lens&#39; (Producer ByteString m r)
             (Producer Text m (Producer ByteString m r))</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{- | &#39;decode&#39; is just the ordinary @view@ or @(^.)@ of the lens libraries;
      exported here under a name appropriate to the material. All of these are
      the same: 

&gt;    decode utf8 p = decodeUtf8 p = view utf8 p = p ^. utf8

-}</span></span><span class="mpre">

</span><a href="#loc_92_1_92_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_1_92_7&#39;)"><span class="mpre">decode</span></a><span class="mpre"> :: ((</span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><a href="Data.Functor.Constant.html#loc_24_9_24_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Constant.html#loc_24_9_24_17&#39;)"><span class="hl_tyconref"><span class="mpre">Constant</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="Data.Functor.Constant.html#loc_24_9_24_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Constant.html#loc_24_9_24_17&#39;)"><span class="hl_tyconref"><span class="mpre">Constant</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)) -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_92_1_92_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_1_92_7&#39;)"><span class="hl_fundecl"><span class="mpre">decode</span></span></a><span class="mpre"> </span><a name="loc_92_8_92_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_8_92_13&#39;)"><span class="hl_vardecl"><span class="mpre">codec</span></span></a><span class="mpre"> </span><a name="loc_92_14_92_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_14_92_15&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="Data.Functor.Constant.html#loc_24_35_24_46" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Constant.html#loc_24_35_24_46&#39;)"><span class="hl_varref"><span class="mpre">getConstant</span></span></a><span class="mpre"> (</span><a href="#loc_92_8_92_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_8_92_13&#39;)"><span class="hl_varref"><span class="mpre">codec</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Constant</span></span><span class="mpre"> </span><a href="#loc_92_14_92_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_14_92_15&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">{- $codecs
    
    Each Codec-lens looks into a byte stream that is supposed to contain text.
    The particular \&#39;Codec\&#39; lenses are named in accordance with the expected 
    encoding, &#39;utf8&#39;, &#39;utf16LE&#39; etc. To turn a Codec into an ordinary function, 
    use @view@ / @(^.)@ -- here also called &#39;decode&#39;:

&gt;   view utf8 :: Producer ByteString m r -&gt; Producer Text m (Producer ByteString m r)
&gt;   decode utf8 Byte.stdin :: Producer Text IO (Producer ByteString IO r)
&gt;   Bytes.stdin ^. utf8 ::  Producer Text IO (Producer ByteString IO r)

    Uses of a codec with @view@ or @(^.)@ or &#39;decode&#39; can always be replaced by the specialized 
    decoding functions exported here, e.g. 

&gt;   decodeUtf8 ::  Producer ByteString m r -&gt; Producer Text m (Producer ByteString m r)
&gt;   decodeUtf8 Byte.stdin :: Producer Text IO (Producer ByteString IO r)

    The stream of text that a @Codec@ \&#39;sees\&#39; in the stream of bytes begins at its head. 
    At any point of decoding failure, the stream of text ends and reverts to (returns) 
    the original byte stream. Thus if the first bytes are already
    un-decodable, the whole ByteString producer will be returned, i.e.

&gt;   view utf8 bytestream 

    will just come to the same as 

&gt;   return bytestream

    Where there is no decoding failure, the return value of the text stream will be
    an empty byte stream followed by its own return value.  In all cases you must
    deal with the fact that it is a /ByteString producer/ that is returned, even if
    it can be thrown away with @Control.Monad.void@

&gt;   void (Bytes.stdin ^. utf8) :: Producer Text IO ()
    
    @zoom@ converts a Text parser into a ByteString parser:

&gt;   zoom utf8 drawChar :: Monad m =&gt; StateT (Producer ByteString m r) m (Maybe Char)

    or, using the type synonymn from @Pipes.Parse@:
    
&gt;   zoom utf8 drawChar :: Monad m =&gt; Parser ByteString m (Maybe Char)

    Thus we can define a ByteString parser like this:
    
&gt;   withNextByte :: Parser ByteString m (Maybe Char, Maybe Word8))) 
&gt;   withNextByte = do char_ &lt;- zoom utf8 Text.drawChar
&gt;                     byte_ &lt;- Bytes.peekByte
&gt;                     return (char_, byte_)

     Though @withNextByte@ is partly defined with a Text parser &#39;drawChar&#39;; 
     but it is a ByteString parser; it will return the first valid utf8-encoded 
     Char in a ByteString, whatever its length, 
     and the first byte of the next character, if they exist. Because 
     we \&#39;draw\&#39; one and \&#39;peek\&#39; at the other, the parser as a whole only 
     advances one Char&#39;s length along the bytestring, whatever that length may be.
     See the slightly more complex example \&#39;decode.hs\&#39; in the 
     &lt;http://www.haskellforall.com/2014/02/pipes-parse-30-lens-based-parsing.html#batteries-included haskellforall&gt; 
     discussion of this type of byte stream parsing.
    -}</span></span><span class="mpre">

</span><a href="#loc_157_1_157_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_1_157_5&#39;)"><span class="mpre">utf8</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Codec</span></span><span class="mpre">
</span><a name="loc_157_1_157_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_1_157_5&#39;)"><span class="hl_vardecl"><span class="mpre">utf8</span></span></a><span class="mpre"> = </span><a href="#loc_261_1_261_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_1_261_8&#39;)"><span class="hl_varref"><span class="mpre">mkCodec</span></span></a><span class="mpre"> </span><a href="#loc_206_1_206_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_11&#39;)"><span class="hl_varref"><span class="mpre">decodeUtf8</span></span></a><span class="mpre"> </span><a href="Data.Text.Encoding.html#loc_386_1_386_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_386_1_386_11&#39;)"><span class="hl_varref"><span class="mpre">TE.encodeUtf8</span></span></a><span class="mpre">

</span><a href="#loc_160_1_160_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_1_160_9&#39;)"><span class="mpre">utf8Pure</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Codec</span></span><span class="mpre">
</span><a name="loc_160_1_160_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_1_160_9&#39;)"><span class="hl_vardecl"><span class="mpre">utf8Pure</span></span></a><span class="mpre"> = </span><a href="#loc_261_1_261_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_1_261_8&#39;)"><span class="hl_varref"><span class="mpre">mkCodec</span></span></a><span class="mpre"> </span><a href="#loc_210_1_210_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_1_210_15&#39;)"><span class="hl_varref"><span class="mpre">decodeUtf8Pure</span></span></a><span class="mpre"> </span><a href="Data.Text.Encoding.html#loc_386_1_386_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_386_1_386_11&#39;)"><span class="hl_varref"><span class="mpre">TE.encodeUtf8</span></span></a><span class="mpre">

</span><a href="#loc_163_1_163_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_1_163_8&#39;)"><span class="mpre">utf16LE</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Codec</span></span><span class="mpre">
</span><a name="loc_163_1_163_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_1_163_8&#39;)"><span class="hl_vardecl"><span class="mpre">utf16LE</span></span></a><span class="mpre"> = </span><a href="#loc_261_1_261_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_1_261_8&#39;)"><span class="hl_varref"><span class="mpre">mkCodec</span></span></a><span class="mpre"> </span><a href="#loc_214_1_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_14&#39;)"><span class="hl_varref"><span class="mpre">decodeUtf16LE</span></span></a><span class="mpre"> </span><a href="Data.Text.Encoding.html#loc_433_1_433_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_433_1_433_14&#39;)"><span class="hl_varref"><span class="mpre">TE.encodeUtf16LE</span></span></a><span class="mpre">

</span><a href="#loc_166_1_166_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_1_166_8&#39;)"><span class="mpre">utf16BE</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Codec</span></span><span class="mpre">
</span><a name="loc_166_1_166_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_1_166_8&#39;)"><span class="hl_vardecl"><span class="mpre">utf16BE</span></span></a><span class="mpre"> = </span><a href="#loc_261_1_261_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_1_261_8&#39;)"><span class="hl_varref"><span class="mpre">mkCodec</span></span></a><span class="mpre"> </span><a href="#loc_218_1_218_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_1_218_14&#39;)"><span class="hl_varref"><span class="mpre">decodeUtf16BE</span></span></a><span class="mpre"> </span><a href="Data.Text.Encoding.html#loc_438_1_438_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_438_1_438_14&#39;)"><span class="hl_varref"><span class="mpre">TE.encodeUtf16BE</span></span></a><span class="mpre">

</span><a href="#loc_169_1_169_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_1_169_8&#39;)"><span class="mpre">utf32LE</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Codec</span></span><span class="mpre">
</span><a name="loc_169_1_169_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_1_169_8&#39;)"><span class="hl_vardecl"><span class="mpre">utf32LE</span></span></a><span class="mpre"> = </span><a href="#loc_261_1_261_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_1_261_8&#39;)"><span class="hl_varref"><span class="mpre">mkCodec</span></span></a><span class="mpre"> </span><a href="#loc_222_1_222_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_1_222_14&#39;)"><span class="hl_varref"><span class="mpre">decodeUtf32LE</span></span></a><span class="mpre"> </span><a href="Data.Text.Encoding.html#loc_471_1_471_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_471_1_471_14&#39;)"><span class="hl_varref"><span class="mpre">TE.encodeUtf32LE</span></span></a><span class="mpre">

</span><a href="#loc_172_1_172_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_1_172_8&#39;)"><span class="mpre">utf32BE</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Codec</span></span><span class="mpre">
</span><a name="loc_172_1_172_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_1_172_8&#39;)"><span class="hl_vardecl"><span class="mpre">utf32BE</span></span></a><span class="mpre"> = </span><a href="#loc_261_1_261_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_1_261_8&#39;)"><span class="hl_varref"><span class="mpre">mkCodec</span></span></a><span class="mpre"> </span><a href="#loc_226_1_226_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_1_226_14&#39;)"><span class="hl_varref"><span class="mpre">decodeUtf32BE</span></span></a><span class="mpre"> </span><a href="Data.Text.Encoding.html#loc_476_1_476_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_476_1_476_14&#39;)"><span class="hl_varref"><span class="mpre">TE.encodeUtf32BE</span></span></a><span class="mpre">

</span><a href="#loc_177_1_177_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_1_177_13&#39;)"><span class="mpre">decodeStream</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 174, srcSpanStartColumn = 17, srcSpanEndLine = 175, srcSpanEndColumn = 10}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 175, srcSpanStartColumn = 8, srcSpanEndLine = 175, srcSpanEndColumn = 10}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pu"><span class="mpre">Monad m 
       =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span><span class="mpre"> -&gt; </span><a href="Data.Streaming.Text.html#loc_81_6_81_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_81_6_81_18&#39;)"><span class="hl_tyconref"><span class="mpre">DecodeResult</span></span></a><span class="mpre">) 
       -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">)
</span><a name="loc_177_1_177_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_1_177_13&#39;)"><span class="hl_vardecl"><span class="mpre">decodeStream</span></span></a><span class="mpre"> = </span><a href="#loc_178_3_178_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_3_178_7&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> where
  </span><a name="loc_178_3_178_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_3_178_7&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a name="loc_178_8_178_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_8_178_12&#39;)"><span class="hl_vardecl"><span class="mpre">dec0</span></span></a><span class="mpre"> </span><a name="loc_178_13_178_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_13_178_14&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = 
    do </span><a name="loc_179_8_179_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_8_179_9&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> (</span><a href="Pipes.html#loc_454_1_454_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_454_1_454_5&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_178_13_178_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_13_178_14&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">) 
       case </span><a href="#loc_179_8_179_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_8_179_9&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_180_23_180_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_23_180_24&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_180_23_180_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_23_180_24&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">)
                 </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_181_25_181_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_25_181_30&#39;)"><span class="hl_vardecl"><span class="mpre">chunk</span></span></a><span class="mpre">, </span><a name="loc_181_32_181_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_32_181_34&#39;)"><span class="hl_vardecl"><span class="mpre">p&#39;</span></span></a><span class="mpre">) -&gt; case </span><a href="#loc_178_8_178_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_8_178_12&#39;)"><span class="hl_varref"><span class="mpre">dec0</span></span></a><span class="mpre"> </span><a href="#loc_181_25_181_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_25_181_30&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre"> of 
                    </span><a href="Data.Streaming.Text.html#loc_82_7_82_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_82_7_82_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultSuccess</span></span></a><span class="mpre"> </span><a name="loc_182_41_182_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_41_182_45&#39;)"><span class="hl_vardecl"><span class="mpre">text</span></span></a><span class="mpre"> </span><a name="loc_182_46_182_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_46_182_49&#39;)"><span class="hl_vardecl"><span class="mpre">dec</span></span></a><span class="mpre"> -&gt; do </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_182_41_182_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_41_182_45&#39;)"><span class="hl_varref"><span class="mpre">text</span></span></a><span class="mpre">
                                                       </span><a href="#loc_178_3_178_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_3_178_7&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a href="#loc_182_46_182_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_46_182_49&#39;)"><span class="hl_varref"><span class="mpre">dec</span></span></a><span class="mpre"> </span><a href="#loc_181_32_181_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_32_181_34&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre">
                    </span><a href="Data.Streaming.Text.html#loc_83_7_83_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_83_7_83_26&#39;)"><span class="hl_conref"><span class="mpre">DecodeResultFailure</span></span></a><span class="mpre"> </span><a name="loc_184_41_184_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_41_184_45&#39;)"><span class="hl_vardecl"><span class="mpre">text</span></span></a><span class="mpre"> </span><a name="loc_184_46_184_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_46_184_48&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> -&gt; do </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_184_41_184_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_41_184_45&#39;)"><span class="hl_varref"><span class="mpre">text</span></span></a><span class="mpre"> 
                                                      </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (do </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_184_46_184_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_46_184_48&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> 
                                                                 </span><a href="#loc_181_32_181_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_32_181_34&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre">)
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE decodeStream#-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{- $decoders
   These are functions with the simple type:
   
&gt;   decodeUtf8 :: Monad m =&gt; Producer ByteString m r -&gt; Producer Text m (Producer ByteString m r)

   Thus in general 

&gt;     decodeUtf8 = view utf8
&gt;     decodeUtf16LE = view utf16LE

   and so forth, but these forms
   may be more convenient (and give better type errors!) where lenses are
   not desired.
-}</span></span><span class="mpre">


</span><a href="#loc_206_1_206_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_11&#39;)"><span class="mpre">decodeUtf8</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 205, srcSpanStartColumn = 15, srcSpanEndLine = 205, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 205, srcSpanStartColumn = 23, srcSpanEndLine = 205, srcSpanEndColumn = 25}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">)
</span><a name="loc_206_1_206_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_11&#39;)"><span class="hl_vardecl"><span class="mpre">decodeUtf8</span></span></a><span class="mpre"> = </span><a href="#loc_177_1_177_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_1_177_13&#39;)"><span class="hl_varref"><span class="mpre">decodeStream</span></span></a><span class="mpre"> </span><a href="Data.Streaming.Text.html#loc_111_1_111_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_111_1_111_11&#39;)"><span class="hl_varref"><span class="mpre">Stream.decodeUtf8</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_206_1_206_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_11&#39;)"><span class="mpre">decodeUtf8</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_210_1_210_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_1_210_15&#39;)"><span class="mpre">decodeUtf8Pure</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 209, srcSpanStartColumn = 19, srcSpanEndLine = 209, srcSpanEndColumn = 29}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 209, srcSpanStartColumn = 27, srcSpanEndLine = 209, srcSpanEndColumn = 29}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">)
</span><a name="loc_210_1_210_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_1_210_15&#39;)"><span class="hl_vardecl"><span class="mpre">decodeUtf8Pure</span></span></a><span class="mpre"> = </span><a href="#loc_177_1_177_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_1_177_13&#39;)"><span class="hl_varref"><span class="mpre">decodeStream</span></span></a><span class="mpre"> </span><a href="Data.Streaming.Text.html#loc_165_1_165_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_165_1_165_15&#39;)"><span class="hl_varref"><span class="mpre">Stream.decodeUtf8Pure</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_210_1_210_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_1_210_15&#39;)"><span class="mpre">decodeUtf8Pure</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_214_1_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_14&#39;)"><span class="mpre">decodeUtf16LE</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 213, srcSpanStartColumn = 18, srcSpanEndLine = 213, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 213, srcSpanStartColumn = 26, srcSpanEndLine = 213, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">)
</span><a name="loc_214_1_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_14&#39;)"><span class="hl_vardecl"><span class="mpre">decodeUtf16LE</span></span></a><span class="mpre"> = </span><a href="#loc_177_1_177_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_1_177_13&#39;)"><span class="hl_varref"><span class="mpre">decodeStream</span></span></a><span class="mpre"> </span><a href="Data.Streaming.Text.html#loc_230_1_230_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_230_1_230_14&#39;)"><span class="hl_varref"><span class="mpre">Stream.decodeUtf16LE</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_214_1_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_14&#39;)"><span class="mpre">decodeUtf16LE</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_218_1_218_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_1_218_14&#39;)"><span class="mpre">decodeUtf16BE</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 217, srcSpanStartColumn = 18, srcSpanEndLine = 217, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 217, srcSpanStartColumn = 26, srcSpanEndLine = 217, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">)
</span><a name="loc_218_1_218_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_1_218_14&#39;)"><span class="hl_vardecl"><span class="mpre">decodeUtf16BE</span></span></a><span class="mpre"> = </span><a href="#loc_177_1_177_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_1_177_13&#39;)"><span class="hl_varref"><span class="mpre">decodeStream</span></span></a><span class="mpre"> </span><a href="Data.Streaming.Text.html#loc_299_1_299_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_299_1_299_14&#39;)"><span class="hl_varref"><span class="mpre">Stream.decodeUtf16BE</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_218_1_218_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_1_218_14&#39;)"><span class="mpre">decodeUtf16BE</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_222_1_222_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_1_222_14&#39;)"><span class="mpre">decodeUtf32LE</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 221, srcSpanStartColumn = 18, srcSpanEndLine = 221, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 221, srcSpanStartColumn = 26, srcSpanEndLine = 221, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">)
</span><a name="loc_222_1_222_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_1_222_14&#39;)"><span class="hl_vardecl"><span class="mpre">decodeUtf32LE</span></span></a><span class="mpre"> = </span><a href="#loc_177_1_177_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_1_177_13&#39;)"><span class="hl_varref"><span class="mpre">decodeStream</span></span></a><span class="mpre"> </span><a href="Data.Streaming.Text.html#loc_368_1_368_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_368_1_368_14&#39;)"><span class="hl_varref"><span class="mpre">Stream.decodeUtf32LE</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_222_1_222_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_1_222_14&#39;)"><span class="mpre">decodeUtf32LE</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_226_1_226_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_1_226_14&#39;)"><span class="mpre">decodeUtf32BE</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 225, srcSpanStartColumn = 18, srcSpanEndLine = 225, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 225, srcSpanStartColumn = 26, srcSpanEndLine = 225, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">)
</span><a name="loc_226_1_226_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_1_226_14&#39;)"><span class="hl_vardecl"><span class="mpre">decodeUtf32BE</span></span></a><span class="mpre"> = </span><a href="#loc_177_1_177_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_1_177_13&#39;)"><span class="hl_varref"><span class="mpre">decodeStream</span></span></a><span class="mpre"> </span><a href="Data.Streaming.Text.html#loc_434_1_434_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Streaming.Text.html#loc_434_1_434_14&#39;)"><span class="hl_varref"><span class="mpre">Stream.decodeUtf32BE</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_226_1_226_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_1_226_14&#39;)"><span class="mpre">decodeUtf32BE</span></a><span class="mpre"> #-}</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">{- $encoders
   These are simply defined 
   
&gt;      encodeUtf8 = yield . TE.encodeUtf8
   
   They are intended for use with &#39;for&#39;
   
&gt;      for Text.stdin encodeUtf8 :: Producer ByteString IO ()

   which would have the effect of 
   
&gt;      Text.stdin &gt;-&gt; Pipes.Prelude.map (TE.encodeUtf8)

   using the encoding functions from Data.Text.Encoding 
-}</span></span><span class="mpre">

</span><a href="#loc_247_1_247_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_247_1_247_11&#39;)"><span class="mpre">encodeUtf8</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 246, srcSpanStartColumn = 15, srcSpanEndLine = 246, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 246, srcSpanStartColumn = 23, srcSpanEndLine = 246, srcSpanEndColumn = 25}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer&#39;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_247_1_247_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_247_1_247_11&#39;)"><span class="hl_vardecl"><span class="mpre">encodeUtf8</span></span></a><span class="mpre"> = </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Text.Encoding.html#loc_386_1_386_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_386_1_386_11&#39;)"><span class="hl_varref"><span class="mpre">TE.encodeUtf8</span></span></a><span class="mpre">
</span><a href="#loc_249_1_249_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_1_249_14&#39;)"><span class="mpre">encodeUtf16LE</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 248, srcSpanStartColumn = 18, srcSpanEndLine = 248, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 248, srcSpanStartColumn = 26, srcSpanEndLine = 248, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer&#39;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_249_1_249_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_1_249_14&#39;)"><span class="hl_vardecl"><span class="mpre">encodeUtf16LE</span></span></a><span class="mpre"> = </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Text.Encoding.html#loc_433_1_433_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_433_1_433_14&#39;)"><span class="hl_varref"><span class="mpre">TE.encodeUtf16LE</span></span></a><span class="mpre">
</span><a href="#loc_251_1_251_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_251_1_251_14&#39;)"><span class="mpre">encodeUtf16BE</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 250, srcSpanStartColumn = 18, srcSpanEndLine = 250, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 250, srcSpanStartColumn = 26, srcSpanEndLine = 250, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer&#39;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_251_1_251_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_251_1_251_14&#39;)"><span class="hl_vardecl"><span class="mpre">encodeUtf16BE</span></span></a><span class="mpre"> = </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Text.Encoding.html#loc_438_1_438_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_438_1_438_14&#39;)"><span class="hl_varref"><span class="mpre">TE.encodeUtf16BE</span></span></a><span class="mpre">
</span><a href="#loc_253_1_253_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_1_253_14&#39;)"><span class="mpre">encodeUtf32LE</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 252, srcSpanStartColumn = 18, srcSpanEndLine = 252, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 252, srcSpanStartColumn = 26, srcSpanEndLine = 252, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer&#39;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_253_1_253_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_1_253_14&#39;)"><span class="hl_vardecl"><span class="mpre">encodeUtf32LE</span></span></a><span class="mpre"> = </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Text.Encoding.html#loc_471_1_471_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_471_1_471_14&#39;)"><span class="hl_varref"><span class="mpre">TE.encodeUtf32LE</span></span></a><span class="mpre">
</span><a href="#loc_255_1_255_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_1_255_14&#39;)"><span class="mpre">encodeUtf32BE</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 254, srcSpanStartColumn = 18, srcSpanEndLine = 254, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 254, srcSpanStartColumn = 26, srcSpanEndLine = 254, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer&#39;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_255_1_255_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_1_255_14&#39;)"><span class="hl_vardecl"><span class="mpre">encodeUtf32BE</span></span></a><span class="mpre"> = </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Text.Encoding.html#loc_476_1_476_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Encoding.html#loc_476_1_476_14&#39;)"><span class="hl_varref"><span class="mpre">TE.encodeUtf32BE</span></span></a><span class="mpre">

</span><a href="#loc_261_1_261_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_1_261_8&#39;)"><span class="mpre">mkCodec</span></a><span class="mpre"> :: (forall </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> . </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 257, srcSpanStartColumn = 26, srcSpanEndLine = 257, srcSpanEndColumn = 36}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 257, srcSpanStartColumn = 34, srcSpanEndLine = 257, srcSpanEndColumn = 36}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> 
           </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> ))
        -&gt; (</span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre">)
        -&gt; </span><span class="hl_tyconref"><span class="mpre">Codec</span></span><span class="mpre">
</span><a name="loc_261_1_261_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_1_261_8&#39;)"><span class="hl_fundecl"><span class="mpre">mkCodec</span></span></a><span class="mpre"> </span><a name="loc_261_9_261_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_9_261_12&#39;)"><span class="hl_vardecl"><span class="mpre">dec</span></span></a><span class="mpre"> </span><a name="loc_261_13_261_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_13_261_16&#39;)"><span class="hl_vardecl"><span class="mpre">enc</span></span></a><span class="mpre"> = \</span><a name="loc_261_20_261_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_20_261_21&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> </span><a name="loc_261_22_261_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_22_261_24&#39;)"><span class="hl_vardecl"><span class="mpre">p0</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (\</span><a name="loc_261_35_261_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_35_261_36&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> -&gt; </span><a href="Control.Monad.html#loc_204_1_204_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_204_1_204_5&#39;)"><span class="hl_varref"><span class="mpre">join</span></span></a><span class="mpre"> (</span><a href="Pipes.html#loc_150_1_150_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_150_1_150_4&#39;)"><span class="hl_varref"><span class="mpre">for</span></span></a><span class="mpre"> </span><a href="#loc_261_35_261_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_35_261_36&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> (</span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_261_13_261_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_13_261_16&#39;)"><span class="hl_varref"><span class="mpre">enc</span></span></a><span class="mpre">)))  (</span><a href="#loc_261_20_261_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_20_261_21&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> (</span><a href="#loc_261_9_261_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_9_261_12&#39;)"><span class="hl_varref"><span class="mpre">dec</span></span></a><span class="mpre"> </span><a href="#loc_261_22_261_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_261_22_261_24&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">))



</span><span class="hl_comment"><span class="mpre">{- $ascii
   ascii and latin encodings only use a small number of the characters &#39;Text&#39;
     recognizes; thus we cannot use the pipes @Lens@ style to work with them. 
     Rather we simply define functions each way. 
-}</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | &#39;encodeAscii&#39; reduces as much of your stream of &#39;Text&#39; actually is ascii to a byte stream,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   returning the rest of the &#39;Text&#39; at the first non-ascii &#39;Char&#39;</span></span><span class="mpre">

</span><a href="#loc_276_1_276_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_1_276_12&#39;)"><span class="mpre">encodeAscii</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 275, srcSpanStartColumn = 16, srcSpanEndLine = 275, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 275, srcSpanStartColumn = 24, srcSpanEndLine = 275, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">)
</span><a name="loc_276_1_276_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_1_276_12&#39;)"><span class="hl_vardecl"><span class="mpre">encodeAscii</span></span></a><span class="mpre"> = </span><a href="#loc_277_3_277_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_3_277_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> where
  </span><a name="loc_277_3_277_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_3_277_5&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_277_6_277_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_6_277_7&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = do </span><a name="loc_277_13_277_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_13_277_14&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> (</span><a href="Pipes.html#loc_454_1_454_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_454_1_454_5&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_277_6_277_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_6_277_7&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">)
            case </span><a href="#loc_277_13_277_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_13_277_14&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> of 
              </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_279_20_279_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_20_279_21&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_279_20_279_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_20_279_21&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">)
              </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_280_22_280_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_22_280_27&#39;)"><span class="hl_vardecl"><span class="mpre">chunk</span></span></a><span class="mpre">, </span><a name="loc_280_29_280_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_29_280_31&#39;)"><span class="hl_vardecl"><span class="mpre">p&#39;</span></span></a><span class="mpre">) -&gt; 
                 if </span><a href="Data.Text.html#loc_531_1_531_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_531_1_531_5&#39;)"><span class="hl_varref"><span class="mpre">T.null</span></span></a><span class="mpre"> </span><a href="#loc_280_22_280_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_22_280_27&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre"> 
                   then </span><a href="#loc_277_3_277_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_3_277_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_280_29_280_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_29_280_31&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre">
                   else let (</span><a name="loc_283_30_283_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_30_283_34&#39;)"><span class="hl_vardecl"><span class="mpre">safe</span></span></a><span class="mpre">, </span><a name="loc_283_36_283_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_36_283_42&#39;)"><span class="hl_vardecl"><span class="mpre">unsafe</span></span></a><span class="mpre">)  = </span><a href="Data.Text.html#loc_1188_1_1188_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1188_1_1188_5&#39;)"><span class="hl_varref"><span class="mpre">T.span</span></span></a><span class="mpre"> (\</span><a name="loc_283_56_283_57" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_56_283_57&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">ord</span></span><span class="mpre"> </span><a href="#loc_283_56_283_57" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_56_283_57&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0x7F</span></span><span class="mpre">) </span><a href="#loc_280_22_280_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_22_280_27&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre">
                        in do </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">B8.pack</span></span><span class="mpre"> (</span><a href="Data.Text.html#loc_392_1_392_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_392_1_392_7&#39;)"><span class="hl_varref"><span class="mpre">T.unpack</span></span></a><span class="mpre"> </span><a href="#loc_283_30_283_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_30_283_34&#39;)"><span class="hl_varref"><span class="mpre">safe</span></span></a><span class="mpre">))
                              if </span><a href="Data.Text.html#loc_531_1_531_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_531_1_531_5&#39;)"><span class="hl_varref"><span class="mpre">T.null</span></span></a><span class="mpre"> </span><a href="#loc_283_36_283_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_36_283_42&#39;)"><span class="hl_varref"><span class="mpre">unsafe</span></span></a><span class="mpre">
                                then </span><a href="#loc_277_3_277_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_3_277_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_280_29_280_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_29_280_31&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre">
                                else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_283_36_283_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_36_283_42&#39;)"><span class="hl_varref"><span class="mpre">unsafe</span></span></a><span class="mpre"> 
                                                 </span><a href="#loc_280_29_280_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_29_280_31&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre">
                                                 
</span><span class="hl_comment"><span class="mpre">{- | Reduce as much of your stream of &#39;Text&#39; actually is iso8859 or latin1 to a byte stream,
     returning the rest of the &#39;Text&#39; upon hitting any non-latin &#39;Char&#39;
   -}</span></span><span class="mpre">
</span><a href="#loc_294_1_294_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_1_294_16&#39;)"><span class="mpre">encodeIso8859_1</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 293, srcSpanStartColumn = 20, srcSpanEndLine = 293, srcSpanEndColumn = 30}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 293, srcSpanStartColumn = 28, srcSpanEndLine = 293, srcSpanEndColumn = 30}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">)
</span><a name="loc_294_1_294_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_1_294_16&#39;)"><span class="hl_vardecl"><span class="mpre">encodeIso8859_1</span></span></a><span class="mpre"> = </span><a href="#loc_295_3_295_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_295_3_295_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> where
  </span><a name="loc_295_3_295_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_295_3_295_5&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_295_6_295_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_295_6_295_7&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = do </span><a name="loc_295_13_295_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_295_13_295_14&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> (</span><a href="Pipes.html#loc_454_1_454_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_454_1_454_5&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_295_6_295_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_295_6_295_7&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">)
            case </span><a href="#loc_295_13_295_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_295_13_295_14&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> of 
              </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_297_20_297_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_20_297_21&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_297_20_297_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_20_297_21&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">)
              </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_298_22_298_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_298_22_298_25&#39;)"><span class="hl_vardecl"><span class="mpre">txt</span></span></a><span class="mpre">, </span><a name="loc_298_27_298_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_298_27_298_29&#39;)"><span class="hl_vardecl"><span class="mpre">p&#39;</span></span></a><span class="mpre">) -&gt; 
                 if </span><a href="Data.Text.html#loc_531_1_531_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_531_1_531_5&#39;)"><span class="hl_varref"><span class="mpre">T.null</span></span></a><span class="mpre"> </span><a href="#loc_298_22_298_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_298_22_298_25&#39;)"><span class="hl_varref"><span class="mpre">txt</span></span></a><span class="mpre"> 
                   then </span><a href="#loc_295_3_295_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_295_3_295_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_298_27_298_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_298_27_298_29&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre">
                   else let (</span><a name="loc_301_30_301_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_30_301_34&#39;)"><span class="hl_vardecl"><span class="mpre">safe</span></span></a><span class="mpre">, </span><a name="loc_301_36_301_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_36_301_42&#39;)"><span class="hl_vardecl"><span class="mpre">unsafe</span></span></a><span class="mpre">)  = </span><a href="Data.Text.html#loc_1188_1_1188_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1188_1_1188_5&#39;)"><span class="hl_varref"><span class="mpre">T.span</span></span></a><span class="mpre"> (\</span><a name="loc_301_56_301_57" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_56_301_57&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">ord</span></span><span class="mpre"> </span><a href="#loc_301_56_301_57" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_56_301_57&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0xFF</span></span><span class="mpre">) </span><a href="#loc_298_22_298_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_298_22_298_25&#39;)"><span class="hl_varref"><span class="mpre">txt</span></span></a><span class="mpre">
                        in do </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">B8.pack</span></span><span class="mpre"> (</span><a href="Data.Text.html#loc_392_1_392_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_392_1_392_7&#39;)"><span class="hl_varref"><span class="mpre">T.unpack</span></span></a><span class="mpre"> </span><a href="#loc_301_30_301_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_30_301_34&#39;)"><span class="hl_varref"><span class="mpre">safe</span></span></a><span class="mpre">))
                              if </span><a href="Data.Text.html#loc_531_1_531_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_531_1_531_5&#39;)"><span class="hl_varref"><span class="mpre">T.null</span></span></a><span class="mpre"> </span><a href="#loc_301_36_301_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_36_301_42&#39;)"><span class="hl_varref"><span class="mpre">unsafe</span></span></a><span class="mpre">
                                then </span><a href="#loc_295_3_295_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_295_3_295_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_298_27_298_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_298_27_298_29&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre">
                                else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_301_36_301_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_36_301_42&#39;)"><span class="hl_varref"><span class="mpre">unsafe</span></span></a><span class="mpre"> 
                                                 </span><a href="#loc_298_27_298_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_298_27_298_29&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{- | Reduce a byte stream to a corresponding stream of ascii chars, returning the
     unused &#39;ByteString&#39; upon hitting an un-ascii byte.
   -}</span></span><span class="mpre">
</span><a href="#loc_312_1_312_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_1_312_12&#39;)"><span class="mpre">decodeAscii</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 311, srcSpanStartColumn = 16, srcSpanEndLine = 311, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 311, srcSpanStartColumn = 24, srcSpanEndLine = 311, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">)
</span><a name="loc_312_1_312_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_1_312_12&#39;)"><span class="hl_vardecl"><span class="mpre">decodeAscii</span></span></a><span class="mpre"> = </span><a href="#loc_313_3_313_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_3_313_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> where
  </span><a name="loc_313_3_313_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_3_313_5&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_313_6_313_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_6_313_7&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = do </span><a name="loc_313_13_313_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_13_313_14&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> (</span><a href="Pipes.html#loc_454_1_454_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_454_1_454_5&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_313_6_313_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_6_313_7&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">)
            case </span><a href="#loc_313_13_313_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_13_313_14&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> of 
              </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_315_20_315_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_315_20_315_21&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_315_20_315_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_315_20_315_21&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">)
              </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_316_22_316_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_22_316_27&#39;)"><span class="hl_vardecl"><span class="mpre">chunk</span></span></a><span class="mpre">, </span><a name="loc_316_29_316_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_29_316_31&#39;)"><span class="hl_vardecl"><span class="mpre">p&#39;</span></span></a><span class="mpre">) -&gt; 
                 if </span><span class="hl_varref"><span class="mpre">B.null</span></span><span class="mpre"> </span><a href="#loc_316_22_316_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_22_316_27&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre"> 
                   then </span><a href="#loc_313_3_313_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_3_313_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_316_29_316_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_29_316_31&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre">
                   else let (</span><a name="loc_319_30_319_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_30_319_34&#39;)"><span class="hl_vardecl"><span class="mpre">safe</span></span></a><span class="mpre">, </span><a name="loc_319_36_319_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_36_319_42&#39;)"><span class="hl_vardecl"><span class="mpre">unsafe</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">B.span</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0x7F</span></span><span class="mpre">) </span><a href="#loc_316_22_316_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_22_316_27&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre">
                        in do </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_387_1_387_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_387_1_387_5&#39;)"><span class="hl_varref"><span class="mpre">T.pack</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">B8.unpack</span></span><span class="mpre"> </span><a href="#loc_319_30_319_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_30_319_34&#39;)"><span class="hl_varref"><span class="mpre">safe</span></span></a><span class="mpre">))
                              if </span><span class="hl_varref"><span class="mpre">B.null</span></span><span class="mpre"> </span><a href="#loc_319_36_319_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_36_319_42&#39;)"><span class="hl_varref"><span class="mpre">unsafe</span></span></a><span class="mpre">
                                then </span><a href="#loc_313_3_313_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_3_313_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_316_29_316_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_29_316_31&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre">
                                else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (do </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_319_36_319_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_36_319_42&#39;)"><span class="hl_varref"><span class="mpre">unsafe</span></span></a><span class="mpre"> 
                                                </span><a href="#loc_316_29_316_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_29_316_31&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">{- | Reduce a byte stream to a corresponding stream of ascii chars, returning the
     unused &#39;ByteString&#39; upon hitting the rare un-latinizable byte.
     -}</span></span><span class="mpre">
</span><a href="#loc_330_1_330_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_330_1_330_16&#39;)"><span class="mpre">decodeIso8859_1</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 329, srcSpanStartColumn = 20, srcSpanEndLine = 329, srcSpanEndColumn = 30}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pipes-text-0.0.0.12/Pipes/Text/Encoding.hs&quot;, srcSpanStartLine = 329, srcSpanStartColumn = 28, srcSpanEndLine = 329, srcSpanEndColumn = 30}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Producer</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">)
</span><a name="loc_330_1_330_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_330_1_330_16&#39;)"><span class="hl_vardecl"><span class="mpre">decodeIso8859_1</span></span></a><span class="mpre"> = </span><a href="#loc_331_3_331_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_331_3_331_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> where
  </span><a name="loc_331_3_331_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_331_3_331_5&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_331_6_331_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_331_6_331_7&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = do </span><a name="loc_331_13_331_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_331_13_331_14&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> (</span><a href="Pipes.html#loc_454_1_454_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_454_1_454_5&#39;)"><span class="hl_varref"><span class="mpre">next</span></span></a><span class="mpre"> </span><a href="#loc_331_6_331_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_331_6_331_7&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">)
            case </span><a href="#loc_331_13_331_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_331_13_331_14&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> of 
              </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_333_20_333_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_333_20_333_21&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_333_20_333_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_333_20_333_21&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">)
              </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> (</span><a name="loc_334_22_334_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_22_334_27&#39;)"><span class="hl_vardecl"><span class="mpre">chunk</span></span></a><span class="mpre">, </span><a name="loc_334_29_334_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_29_334_31&#39;)"><span class="hl_vardecl"><span class="mpre">p&#39;</span></span></a><span class="mpre">) -&gt; 
                 if </span><span class="hl_varref"><span class="mpre">B.null</span></span><span class="mpre"> </span><a href="#loc_334_22_334_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_22_334_27&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre"> 
                    then </span><a href="#loc_331_3_331_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_331_3_331_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_334_29_334_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_29_334_31&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre">
                    else do let (</span><a name="loc_337_34_337_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_34_337_38&#39;)"><span class="hl_vardecl"><span class="mpre">safe</span></span></a><span class="mpre">, </span><a name="loc_337_40_337_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_40_337_46&#39;)"><span class="hl_vardecl"><span class="mpre">unsafe</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">B.span</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0xFF</span></span><span class="mpre">) </span><a href="#loc_334_22_334_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_22_334_27&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre">
                            </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_387_1_387_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_387_1_387_5&#39;)"><span class="hl_varref"><span class="mpre">T.pack</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">B8.unpack</span></span><span class="mpre"> </span><a href="#loc_337_34_337_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_34_337_38&#39;)"><span class="hl_varref"><span class="mpre">safe</span></span></a><span class="mpre">))
                            if </span><span class="hl_varref"><span class="mpre">B.null</span></span><span class="mpre"> </span><a href="#loc_337_40_337_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_40_337_46&#39;)"><span class="hl_varref"><span class="mpre">unsafe</span></span></a><span class="mpre"> 
                               then </span><a href="#loc_331_3_331_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_331_3_331_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_334_29_334_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_29_334_31&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre">
                               else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (do </span><a href="Pipes.html#loc_132_1_132_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Pipes.html#loc_132_1_132_6&#39;)"><span class="hl_varref"><span class="mpre">yield</span></span></a><span class="mpre"> </span><a href="#loc_337_40_337_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_337_40_337_46&#39;)"><span class="hl_varref"><span class="mpre">unsafe</span></span></a><span class="mpre"> 
                                               </span><a href="#loc_334_29_334_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_29_334_31&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre">)



</span></div></body></html>