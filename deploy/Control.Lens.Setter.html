<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP #-}
{-# LANGUAGE Rank2Types #-}
{-# LANGUAGE MultiParamTypeClasses #-}
{-# LANGUAGE FlexibleInstances #-}
{-# LANGUAGE FlexibleContexts #-}
#ifdef TRUSTWORTHY
{-# LANGUAGE Trustworthy #-}
#endif
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Control.Lens.Setter</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (C) 2012-14 Edward Kmett</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  BSD-style (see the file LICENSE)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  provisional</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  Rank2Types</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- A @&#39;Setter&#39; s t a b@ is a generalization of &#39;fmap&#39; from &#39;Functor&#39;. It allows you to map into a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- structure and change out the contents, but it isn&#39;t strong enough to allow you to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- enumerate those contents. Starting with @&#39;fmap&#39; :: &#39;Functor&#39; f =&gt; (a -&gt; b) -&gt; f a -&gt; f b@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- we monomorphize the type to obtain @(a -&gt; b) -&gt; s -&gt; t@ and then decorate it with &#39;Data.Functor.Identity.Identity&#39; to obtain:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- type &#39;Setter&#39; s t a b = (a -&gt; &#39;Data.Functor.Identity.Identity&#39; b) -&gt; s -&gt; &#39;Data.Functor.Identity.Identity&#39; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Every &#39;Traversal&#39; is a valid &#39;Setter&#39;, since &#39;Data.Functor.Identity.Identity&#39; is &#39;Applicative&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Everything you can do with a &#39;Functor&#39;, you can do with a &#39;Setter&#39;. There</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- are combinators that generalize &#39;fmap&#39; and (&#39;&lt;$&#39;).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------------------</span></span><span class="mpre">
module Control.Lens.Setter
  (
  </span><span class="hl_comment"><span class="mpre">-- * Setters</span></span><span class="mpre">
    Setter, Setter&#39;
  , IndexedSetter, IndexedSetter&#39;
  , ASetter, ASetter&#39;
  , AnIndexedSetter, AnIndexedSetter&#39;
  , Setting, Setting&#39;
  </span><span class="hl_comment"><span class="mpre">-- * Building Setters</span></span><span class="mpre">
  , sets, setting
  , cloneSetter
  , cloneIndexPreservingSetter
  , cloneIndexedSetter
  </span><span class="hl_comment"><span class="mpre">-- * Common Setters</span></span><span class="mpre">
  , mapped, lifted
  , contramapped
  , argument
  </span><span class="hl_comment"><span class="mpre">-- * Functional Combinators</span></span><span class="mpre">
  , over
  , set
  , (.~), (%~)
  , (+~), (-~), (*~), (//~), (^~), (^^~), (**~), (||~), (&lt;&gt;~), (&amp;&amp;~), (&lt;.~), (?~), (&lt;?~)
  </span><span class="hl_comment"><span class="mpre">-- * State Combinators</span></span><span class="mpre">
  , assign
  , (.=), (%=)
  , (+=), (-=), (*=), (//=), (^=), (^^=), (**=), (||=), (&lt;&gt;=), (&amp;&amp;=), (&lt;.=), (?=), (&lt;?=)
  , (&lt;~)
  </span><span class="hl_comment"><span class="mpre">-- * Writer Combinators</span></span><span class="mpre">
  , scribe
  , passing, ipassing
  , censoring, icensoring
  </span><span class="hl_comment"><span class="mpre">-- * Simplified State Setting</span></span><span class="mpre">
  , set&#39;
  </span><span class="hl_comment"><span class="mpre">-- * Indexed Setters</span></span><span class="mpre">
  , imapOf, iover
  , isets
  , (%@~), (%@=)
  </span><span class="hl_comment"><span class="mpre">-- * Arrow operators</span></span><span class="mpre">
  , assignA
  </span><span class="hl_comment"><span class="mpre">-- * Exported for legible error messages</span></span><span class="mpre">
  , Settable
  , Identity(..)
  </span><span class="hl_comment"><span class="mpre">-- * Deprecated</span></span><span class="mpre">
  , mapOf
  ) where

import Control.Applicative
import Control.Arrow
import Control.Comonad
import Control.Lens.Internal.Indexed
import Control.Lens.Internal.Setter
import Control.Lens.Type
import Control.Monad (</span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="mpre">liftM</span></a><span class="mpre">)
import Control.Monad.State.Class as State
import Control.Monad.Writer.Class as Writer
import Data.Functor.Contravariant
import Data.Functor.Identity
import Data.Monoid
import Data.Profunctor
import Data.Profunctor.Rep
import Data.Profunctor.Unsafe

#ifdef HLINT
</span><span class="warning" data-warning="DeclAnnPragma (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 95, srcSpanStartColumn = 1, srcSpanEndLine = 95, srcSpanEndColumn = 48}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 95, srcSpanStartColumn = 1, srcSpanEndLine = 95, srcSpanEndColumn = 8},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine "><span class="mpre">{-# ANN module &quot;HLint: ignore Avoid lambda&quot; #-}</span></span><span class="mpre">
#endif

</span><span class="hl_comment"><span class="mpre">-- $setup</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; import Control.Lens</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; import Control.Monad.State</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; import Data.Char</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; import Data.Map as Map</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; import Debug.SimpleReflect.Expr as Expr</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; import Debug.SimpleReflect.Vars as Vars</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; let f :: Expr -&gt; Expr; f = Vars.f</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; let g :: Expr -&gt; Expr; g = Vars.g</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; let h :: Expr -&gt; Expr -&gt; Expr; h = Vars.h</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; let getter :: Expr -&gt; Expr; getter = fun &quot;getter&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; let setter :: Expr -&gt; Expr -&gt; Expr; setter = fun &quot;setter&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; :set -XNoOverloadedStrings</span></span><span class="mpre">

</span><span class="warning" data-warning="DeclInfixDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 112, srcSpanStartColumn = 1, srcSpanEndLine = 112, srcSpanEndColumn = 81}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 112, srcSpanStartColumn = 8, srcSpanEndLine = 112, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartL"><span class="mpre">infixr 4 %@~, .~, +~, *~, -~, //~, ^~, ^^~, **~, &amp;&amp;~, &lt;&gt;~, ||~, %~, &lt;.~, ?~, &lt;?~</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclInfixDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 113, srcSpanStartColumn = 1, srcSpanEndLine = 113, srcSpanEndColumn = 81}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 113, srcSpanStartColumn = 8, srcSpanEndLine = 113, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartL"><span class="mpre">infix  4 %@=, .=, +=, *=, -=, //=, ^=, ^^=, **=, &amp;&amp;=, &lt;&gt;=, ||=, %=, &lt;.=, ?=, &lt;?=</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclInfixDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 114, srcSpanStartColumn = 1, srcSpanEndLine = 114, srcSpanEndColumn = 12}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 114, srcSpanStartColumn = 8, srcSpanEndLine = 114, srcSpanEndColumn = 9}]}) (AssocRight (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3"><span class="mpre">infixr 2 &lt;~</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Setters</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Running a &#39;Setter&#39; instantiates it to a concrete type.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When consuming a setter directly to perform a mapping, you can use this type, but most</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- user code will not need to use this type.</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 124, srcSpanStartColumn = 1, srcSpanEndLine = 124, srcSpanEndColumn = 60}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 124, srcSpanStartColumn = 1, srcSpanEndLine = 124, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLi"><span class="mpre">type ASetter s t a b = (a -&gt; Identity b) -&gt; s -&gt; Identity t</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This is a useful alias for use when consuming a &#39;Setter&#39;&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Most user code will never have to use this type.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- type &#39;ASetter&#39;&#39; = &#39;Simple&#39; &#39;ASetter&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 133, srcSpanStartColumn = 1, srcSpanEndLine = 133, srcSpanEndColumn = 36}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 133, srcSpanStartColumn = 1, srcSpanEndLine = 133, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLi"><span class="mpre">type ASetter&#39; s a = ASetter s s a a</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Running an &#39;IndexedSetter&#39; instantiates it to a concrete type.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When consuming a setter directly to perform a mapping, you can use this type, but most</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- user code will not need to use this type.</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 139, srcSpanStartColumn = 1, srcSpanEndLine = 139, srcSpanEndColumn = 77}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 139, srcSpanStartColumn = 1, srcSpanEndLine = 139, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLi"><span class="mpre">type AnIndexedSetter i s t a b = Indexed i a (Identity b) -&gt; s -&gt; Identity t</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- type &#39;AnIndexedSetter&#39;&#39; i = &#39;Simple&#39; (&#39;AnIndexedSetter&#39; i)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 144, srcSpanStartColumn = 1, srcSpanEndLine = 144, srcSpanEndColumn = 56}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 144, srcSpanStartColumn = 1, srcSpanEndLine = 144, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLi"><span class="mpre">type AnIndexedSetter&#39; i s a = AnIndexedSetter i s s a a</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This is a convenient alias when defining highly polymorphic code that takes both</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;ASetter&#39; and &#39;AnIndexedSetter&#39; as appropriate. If a function takes this it is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- expecting one of those two things based on context.</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 149, srcSpanStartColumn = 1, srcSpanEndLine = 149, srcSpanEndColumn = 61}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 149, srcSpanStartColumn = 1, srcSpanEndLine = 149, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLi"><span class="mpre">type Setting p s t a b = p a (Identity b) -&gt; s -&gt; Identity t</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This is a convenient alias when defining highly polymorphic code that takes both</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;ASetter&#39;&#39; and &#39;AnIndexedSetter&#39;&#39; as appropriate. If a function takes this it is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- expecting one of those two things based on context.</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 154, srcSpanStartColumn = 1, srcSpanEndLine = 154, srcSpanEndColumn = 40}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 154, srcSpanStartColumn = 1, srcSpanEndLine = 154, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLi"><span class="mpre">type Setting&#39; p s a = Setting p s s a a</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Setters</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This &#39;Setter&#39; can be used to map over all of the values in a &#39;Functor&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;fmap&#39; ≡ &#39;over&#39; &#39;mapped&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Data.Traversable.fmapDefault&#39; ≡ &#39;over&#39; &#39;Data.Traversable.traverse&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;$&#39;) ≡ &#39;set&#39; &#39;mapped&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; over mapped f [a,b,c]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [f a,f b,f c]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; over mapped (+1) [1,2,3]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [2,3,4]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; set mapped x [a,b,c]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [x,x,x]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; [[a,b],[c]] &amp; mapped.mapped +~ x</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [[a + x,b + x],[c + x]]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; over (mapped._2) length [(&quot;hello&quot;,&quot;world&quot;),(&quot;leaders&quot;,&quot;!!!&quot;)]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [(&quot;hello&quot;,5),(&quot;leaders&quot;,3)]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;mapped&#39; :: &#39;Functor&#39; f =&gt; &#39;Setter&#39; (f a) (f b) a b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- If you want an &#39;IndexPreservingSetter&#39; use @&#39;setting&#39; &#39;fmap&#39;@.</span></span><span class="mpre">
</span><a href="#loc_189_1_189_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_189_1_189_7&#39;)"><span class="mpre">mapped</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 188, srcSpanStartColumn = 11, srcSpanEndLine = 188, srcSpanEndColumn = 23}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 188, srcSpanStartColumn = 21, srcSpanEndLine = 188, srcSpanEndColumn = 23}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">Functor f =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Setter</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) (</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_189_1_189_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_189_1_189_7&#39;)"><span class="hl_vardecl"><span class="mpre">mapped</span></span></a><span class="mpre"> = </span><a href="#loc_289_1_289_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_1_289_5&#39;)"><span class="hl_varref"><span class="mpre">sets</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_189_1_189_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_189_1_189_7&#39;)"><span class="mpre">mapped</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This &#39;setter&#39; can be used to modify all of the values in a &#39;Monad&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- You sometimes have to use this rather than &#39;mapped&#39; -- due to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- temporary insanity &#39;Functor&#39; is not a superclass of &#39;Monad&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;liftM&#39; ≡ &#39;over&#39; &#39;lifted&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; over lifted f [a,b,c]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [f a,f b,f c]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; set lifted b (Just a)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Just b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- If you want an &#39;IndexPreservingSetter&#39; use @&#39;setting&#39; &#39;liftM&#39;@.</span></span><span class="mpre">
</span><a href="#loc_209_1_209_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_1_209_7&#39;)"><span class="mpre">lifted</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 208, srcSpanStartColumn = 11, srcSpanEndLine = 208, srcSpanEndColumn = 21}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 208, srcSpanStartColumn = 19, srcSpanEndLine = 208, srcSpanEndColumn = 21}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Setter</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) (</span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_209_1_209_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_1_209_7&#39;)"><span class="hl_vardecl"><span class="mpre">lifted</span></span></a><span class="mpre"> = </span><a href="#loc_289_1_289_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_1_289_5&#39;)"><span class="hl_varref"><span class="mpre">sets</span></span></a><span class="mpre"> </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_209_1_209_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_1_209_7&#39;)"><span class="mpre">lifted</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This &#39;Setter&#39; can be used to map over all of the inputs to a &#39;Contravariant&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;contramap&#39; ≡ &#39;over&#39; &#39;contramapped&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; getPredicate (over contramapped (*2) (Predicate even)) 5</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- True</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; getOp (over contramapped (*5) (Op show)) 100</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &quot;500&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; Prelude.map ($ 1) $ over (mapped . _Unwrapping&#39; Op . contramapped) (*12) [(*2),(+1),(^3)]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [24,13,1728]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_228_1_228_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_1_228_13&#39;)"><span class="mpre">contramapped</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 227, srcSpanStartColumn = 17, srcSpanEndLine = 227, srcSpanEndColumn = 35}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 227, srcSpanStartColumn = 33, srcSpanEndLine = 227, srcSpanEndColumn = 35}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">Contravariant f =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Setter</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) (</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_228_1_228_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_1_228_13&#39;)"><span class="hl_vardecl"><span class="mpre">contramapped</span></span></a><span class="mpre"> = </span><a href="#loc_289_1_289_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_1_289_5&#39;)"><span class="hl_varref"><span class="mpre">sets</span></span></a><span class="mpre"> </span><a href="Data.Functor.Contravariant.html#loc_92_3_92_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Contravariant.html#loc_92_3_92_12&#39;)"><span class="hl_varref"><span class="mpre">contramap</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_228_1_228_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_1_228_13&#39;)"><span class="mpre">contramapped</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This &#39;Setter&#39; can be used to map over the input of a &#39;Profunctor&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The most common &#39;Profunctor&#39; to use this with is @(-&gt;)@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (argument %~ f) g x</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- g (f x)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (argument %~ show) length [1,2,3]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- 7</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (argument %~ f) h x y</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- h (f x) y</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Map over the argument of the result of a function -- i.e., its second</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- argument:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (mapped.argument %~ f) h x y</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- h x (f y)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;argument&#39; :: &#39;Setter&#39; (b -&gt; r) (a -&gt; r) a b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_254_1_254_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_1_254_9&#39;)"><span class="mpre">argument</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 253, srcSpanStartColumn = 13, srcSpanEndLine = 253, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 253, srcSpanStartColumn = 26, srcSpanEndLine = 253, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">Profunctor p =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Setter</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) (</span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_254_1_254_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_1_254_9&#39;)"><span class="hl_vardecl"><span class="mpre">argument</span></span></a><span class="mpre"> = </span><a href="#loc_289_1_289_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_1_289_5&#39;)"><span class="hl_varref"><span class="mpre">sets</span></span></a><span class="mpre"> </span><a href="Data.Profunctor.Unsafe.html#loc_94_3_94_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_94_3_94_7&#39;)"><span class="hl_varref"><span class="mpre">lmap</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_254_1_254_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_1_254_9&#39;)"><span class="mpre">argument</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Build an index-preserving &#39;Setter&#39; from a map-like function.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Your supplied function @f@ is required to satisfy:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- f &#39;id&#39; ≡ &#39;id&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- f g &#39;.&#39; f h ≡ f (g &#39;.&#39; h)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Equational reasoning:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;setting&#39; &#39;.&#39; &#39;over&#39; ≡ &#39;id&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;over&#39; &#39;.&#39; &#39;setting&#39; ≡ &#39;id&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Another way to view &#39;sets&#39; is that it takes a \&quot;semantic editor combinator\&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and transforms it into a &#39;Setter&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;setting&#39; :: ((a -&gt; b) -&gt; s -&gt; t) -&gt; &#39;Setter&#39; s t a b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_280_1_280_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_1_280_8&#39;)"><span class="mpre">setting</span></a><span class="mpre"> :: ((</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">IndexPreservingSetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_280_1_280_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_1_280_8&#39;)"><span class="hl_fundecl"><span class="mpre">setting</span></span></a><span class="mpre"> </span><a name="loc_280_9_280_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_9_280_10&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_280_11_280_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_11_280_15&#39;)"><span class="hl_vardecl"><span class="mpre">pafb</span></span></a><span class="mpre"> = </span><a href="Data.Profunctor.Rep.html#loc_83_3_83_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_83_3_83_13&#39;)"><span class="hl_varref"><span class="mpre">cotabulate</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_280_32_280_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_32_280_34&#39;)"><span class="hl_vardecl"><span class="mpre">ws</span></span></a><span class="mpre"> -&gt; </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_varref"><span class="mpre">pure</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_280_9_280_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_9_280_10&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (\</span><a name="loc_280_49_280_50" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_49_280_50&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; </span><a href="Control.Lens.Internal.Setter.html#loc_36_3_36_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Internal.Setter.html#loc_36_3_36_12&#39;)"><span class="hl_varref"><span class="mpre">untainted</span></span></a><span class="mpre"> (</span><a href="Data.Profunctor.Rep.html#loc_84_3_84_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_84_3_84_8&#39;)"><span class="hl_varref"><span class="mpre">corep</span></span></a><span class="mpre"> </span><a href="#loc_280_11_280_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_11_280_15&#39;)"><span class="hl_varref"><span class="mpre">pafb</span></span></a><span class="mpre"> (</span><a href="#loc_280_49_280_50" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_49_280_50&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;$</span></span><span class="mpre"> </span><a href="#loc_280_32_280_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_32_280_34&#39;)"><span class="hl_varref"><span class="mpre">ws</span></span></a><span class="mpre">))) (</span><a href="Control.Comonad.html#loc_125_3_125_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.html#loc_125_3_125_10&#39;)"><span class="hl_varref"><span class="mpre">extract</span></span></a><span class="mpre"> </span><a href="#loc_280_32_280_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_32_280_34&#39;)"><span class="hl_varref"><span class="mpre">ws</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_280_1_280_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_1_280_8&#39;)"><span class="mpre">setting</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Build a &#39;Setter&#39;, &#39;IndexedSetter&#39; or &#39;IndexPreservingSetter&#39; depending on your choice of &#39;Profunctor&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;sets&#39; :: ((a -&gt; b) -&gt; s -&gt; t) -&gt; &#39;Setter&#39; s t a b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_289_1_289_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_1_289_5&#39;)"><span class="mpre">sets</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 288, srcSpanStartColumn = 9, srcSpanEndLine = 288, srcSpanEndColumn = 52}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 288, srcSpanStartColumn = 9, srcSpanEndLine = 288, srcSpanEndColumn = 10},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLi"><span class="mpre">(Profunctor p, Profunctor q, Settable f) =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Optical</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_289_1_289_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_1_289_5&#39;)"><span class="hl_fundecl"><span class="mpre">sets</span></span></a><span class="mpre"> </span><a name="loc_289_6_289_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_6_289_7&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_289_8_289_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_8_289_9&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> = </span><a href="Control.Lens.Internal.Setter.html#loc_42_3_42_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Internal.Setter.html#loc_42_3_42_13&#39;)"><span class="hl_varref"><span class="mpre">taintedDot</span></span></a><span class="mpre"> (</span><a href="#loc_289_6_289_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_6_289_7&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="Control.Lens.Internal.Setter.html#loc_38_3_38_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Internal.Setter.html#loc_38_3_38_15&#39;)"><span class="hl_varref"><span class="mpre">untaintedDot</span></span></a><span class="mpre"> </span><a href="#loc_289_8_289_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_8_289_9&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">))
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_289_1_289_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_1_289_5&#39;)"><span class="mpre">sets</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Restore &#39;ASetter&#39; to a full &#39;Setter&#39;.</span></span><span class="mpre">
</span><a href="#loc_294_1_294_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_1_294_12&#39;)"><span class="mpre">cloneSetter</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Setter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_294_1_294_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_1_294_12&#39;)"><span class="hl_fundecl"><span class="mpre">cloneSetter</span></span></a><span class="mpre"> </span><a name="loc_294_13_294_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_13_294_14&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_294_15_294_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_15_294_18&#39;)"><span class="hl_vardecl"><span class="mpre">afb</span></span></a><span class="mpre"> = </span><a href="Control.Lens.Internal.Setter.html#loc_42_3_42_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Internal.Setter.html#loc_42_3_42_13&#39;)"><span class="hl_varref"><span class="mpre">taintedDot</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">#.</span></span><span class="mpre"> </span><a href="#loc_294_13_294_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_13_294_14&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Identity</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">#.</span></span><span class="mpre"> </span><a href="Control.Lens.Internal.Setter.html#loc_38_3_38_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Internal.Setter.html#loc_38_3_38_15&#39;)"><span class="hl_varref"><span class="mpre">untaintedDot</span></span></a><span class="mpre"> </span><a href="#loc_294_15_294_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_15_294_18&#39;)"><span class="hl_varref"><span class="mpre">afb</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_294_1_294_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_1_294_12&#39;)"><span class="mpre">cloneSetter</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Build an &#39;IndexPreservingSetter&#39; from any &#39;Setter&#39;.</span></span><span class="mpre">
</span><a href="#loc_299_1_299_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_1_299_27&#39;)"><span class="mpre">cloneIndexPreservingSetter</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IndexPreservingSetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_299_1_299_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_1_299_27&#39;)"><span class="hl_fundecl"><span class="mpre">cloneIndexPreservingSetter</span></span></a><span class="mpre"> </span><a name="loc_299_28_299_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_28_299_29&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_299_30_299_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_30_299_34&#39;)"><span class="hl_vardecl"><span class="mpre">pafb</span></span></a><span class="mpre"> = </span><a href="Data.Profunctor.Rep.html#loc_83_3_83_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_83_3_83_13&#39;)"><span class="hl_varref"><span class="mpre">cotabulate</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_299_51_299_53" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_51_299_53&#39;)"><span class="hl_vardecl"><span class="mpre">ws</span></span></a><span class="mpre"> -&gt;
    </span><a href="Control.Lens.Internal.Setter.html#loc_42_3_42_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Internal.Setter.html#loc_42_3_42_13&#39;)"><span class="hl_varref"><span class="mpre">taintedDot</span></span></a><span class="mpre"> </span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_299_28_299_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_28_299_29&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (\</span><a name="loc_300_34_300_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_34_300_35&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">Identity</span></span><span class="mpre"> (</span><a href="Control.Lens.Internal.Setter.html#loc_36_3_36_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Internal.Setter.html#loc_36_3_36_12&#39;)"><span class="hl_varref"><span class="mpre">untainted</span></span></a><span class="mpre"> (</span><a href="Data.Profunctor.Rep.html#loc_84_3_84_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_84_3_84_8&#39;)"><span class="hl_varref"><span class="mpre">corep</span></span></a><span class="mpre"> </span><a href="#loc_299_30_299_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_30_299_34&#39;)"><span class="hl_varref"><span class="mpre">pafb</span></span></a><span class="mpre"> (</span><a href="#loc_300_34_300_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_34_300_35&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;$</span></span><span class="mpre"> </span><a href="#loc_299_51_299_53" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_51_299_53&#39;)"><span class="hl_varref"><span class="mpre">ws</span></span></a><span class="mpre">)))) (</span><a href="Control.Comonad.html#loc_125_3_125_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.html#loc_125_3_125_10&#39;)"><span class="hl_varref"><span class="mpre">extract</span></span></a><span class="mpre"> </span><a href="#loc_299_51_299_53" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_51_299_53&#39;)"><span class="hl_varref"><span class="mpre">ws</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_299_1_299_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_1_299_27&#39;)"><span class="mpre">cloneIndexPreservingSetter</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Clone an &#39;IndexedSetter&#39;.</span></span><span class="mpre">
</span><a href="#loc_305_1_305_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_1_305_19&#39;)"><span class="mpre">cloneIndexedSetter</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">AnIndexedSetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IndexedSetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_305_1_305_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_1_305_19&#39;)"><span class="hl_fundecl"><span class="mpre">cloneIndexedSetter</span></span></a><span class="mpre"> </span><a name="loc_305_20_305_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_20_305_21&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_305_22_305_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_22_305_26&#39;)"><span class="hl_vardecl"><span class="mpre">pafb</span></span></a><span class="mpre"> = </span><a href="Control.Lens.Internal.Setter.html#loc_42_3_42_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Internal.Setter.html#loc_42_3_42_13&#39;)"><span class="hl_varref"><span class="mpre">taintedDot</span></span></a><span class="mpre"> (</span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">#.</span></span><span class="mpre"> </span><a href="#loc_305_20_305_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_20_305_21&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Indexed</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_305_70_305_71" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_70_305_71&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">Identity</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">#.</span></span><span class="mpre"> </span><a href="Control.Lens.Internal.Setter.html#loc_38_3_38_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Internal.Setter.html#loc_38_3_38_15&#39;)"><span class="hl_varref"><span class="mpre">untaintedDot</span></span></a><span class="mpre"> (</span><a href="Control.Lens.Internal.Indexed.html#loc_98_3_98_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Internal.Indexed.html#loc_98_3_98_10&#39;)"><span class="hl_varref"><span class="mpre">indexed</span></span></a><span class="mpre"> </span><a href="#loc_305_22_305_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_22_305_26&#39;)"><span class="hl_varref"><span class="mpre">pafb</span></span></a><span class="mpre"> </span><a href="#loc_305_70_305_71" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_70_305_71&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">)))
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_305_1_305_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_1_305_19&#39;)"><span class="mpre">cloneIndexedSetter</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Using Setters</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target of a &#39;Lens&#39; or all the targets of a &#39;Setter&#39; or &#39;Traversal&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- with a function.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;fmap&#39; ≡ &#39;over&#39; &#39;mapped&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Data.Traversable.fmapDefault&#39; ≡ &#39;over&#39; &#39;Data.Traversable.traverse&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;sets&#39; &#39;.&#39; &#39;over&#39; ≡ &#39;id&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;over&#39; &#39;.&#39; &#39;sets&#39; ≡ &#39;id&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Given any valid &#39;Setter&#39; @l@, you can also rely on the law:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;over&#39; l f &#39;.&#39; &#39;over&#39; l g = &#39;over&#39; l (f &#39;.&#39; g)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- /e.g./</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; over mapped f (over mapped g [a,b,c]) == over mapped (f . g) [a,b,c]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- True</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Another way to view &#39;over&#39; is to say that it transforms a &#39;Setter&#39; into a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- \&quot;semantic editor combinator\&quot;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; over mapped f (Just a)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Just (f a)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; over mapped (*10) [1,2,3]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [10,20,30]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; over _1 f (a,b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (f a,b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; over _1 show (10,20)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&quot;10&quot;,20)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;over&#39; :: &#39;Setter&#39; s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;over&#39; :: &#39;ASetter&#39; s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_353_1_353_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_1_353_5&#39;)"><span class="mpre">over</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 352, srcSpanStartColumn = 9, srcSpanEndLine = 352, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 352, srcSpanStartColumn = 22, srcSpanEndLine = 352, srcSpanEndColumn = 24}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/sr"><span class="mpre">Profunctor p =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Setting</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_353_1_353_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_1_353_5&#39;)"><span class="hl_fundecl"><span class="mpre">over</span></span></a><span class="mpre"> </span><a name="loc_353_6_353_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_6_353_7&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_353_8_353_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_8_353_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">#.</span></span><span class="mpre"> </span><a href="#loc_353_6_353_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_6_353_7&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Identity</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">#.</span></span><span class="mpre"> </span><a href="#loc_353_8_353_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_8_353_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_353_1_353_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_1_353_5&#39;)"><span class="mpre">over</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Replace the target of a &#39;Lens&#39; or all of the targets of a &#39;Setter&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- or &#39;Traversal&#39; with a constant value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;$&#39;) ≡ &#39;set&#39; &#39;mapped&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; set _2 &quot;hello&quot; (1,())</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (1,&quot;hello&quot;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; set mapped () [1,2,3,4]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [(),(),(),()]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note: Attempting to &#39;set&#39; a &#39;Fold&#39; or &#39;Getter&#39; will fail at compile time with an</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- relatively nice error message.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;set&#39; :: &#39;Setter&#39; s t a b    -&gt; b -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;set&#39; :: &#39;Iso&#39; s t a b       -&gt; b -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;set&#39; :: &#39;Lens&#39; s t a b      -&gt; b -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;set&#39; :: &#39;Traversal&#39; s t a b -&gt; b -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_379_1_379_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_1_379_4&#39;)"><span class="mpre">set</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_379_1_379_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_1_379_4&#39;)"><span class="hl_fundecl"><span class="mpre">set</span></span></a><span class="mpre"> </span><a name="loc_379_5_379_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_5_379_6&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_379_7_379_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_7_379_8&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">#.</span></span><span class="mpre"> </span><a href="#loc_379_5_379_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_5_379_6&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (\_ -&gt; </span><span class="hl_conref"><span class="mpre">Identity</span></span><span class="mpre"> </span><a href="#loc_379_7_379_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_7_379_8&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_379_1_379_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_1_379_4&#39;)"><span class="mpre">set</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Replace the target of a &#39;Lens&#39; or all of the targets of a &#39;Setter&#39;&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- or &#39;Traversal&#39; with a constant value, without changing its type.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is a type restricted version of &#39;set&#39;, which retains the type of the original.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; set&#39; mapped x [a,b,c,d]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [x,x,x,x]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; set&#39; _2 &quot;hello&quot; (1,&quot;world&quot;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (1,&quot;hello&quot;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; set&#39; mapped 0 [1,2,3,4]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [0,0,0,0]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note: Attempting to adjust &#39;set&#39;&#39; a &#39;Fold&#39; or &#39;Getter&#39; will fail at compile time with an</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- relatively nice error message.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;set&#39;&#39; :: &#39;Setter&#39;&#39; s a    -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;set&#39;&#39; :: &#39;Iso&#39;&#39; s a       -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;set&#39;&#39; :: &#39;Lens&#39;&#39; s a      -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;set&#39;&#39; :: &#39;Traversal&#39;&#39; s a -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_406_1_406_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_1_406_5&#39;)"><span class="mpre">set&#39;</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ASetter&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">
</span><a name="loc_406_1_406_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_1_406_5&#39;)"><span class="hl_fundecl"><span class="mpre">set&#39;</span></span></a><span class="mpre"> </span><a name="loc_406_6_406_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_6_406_7&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_406_8_406_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_8_406_9&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">#.</span></span><span class="mpre"> </span><a href="#loc_406_6_406_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_6_406_7&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (\_ -&gt; </span><span class="hl_conref"><span class="mpre">Identity</span></span><span class="mpre"> </span><a href="#loc_406_8_406_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_8_406_9&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_406_1_406_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_1_406_5&#39;)"><span class="mpre">set&#39;</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modifies the target of a &#39;Lens&#39; or all of the targets of a &#39;Setter&#39; or</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Traversal&#39; with a user supplied function.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is an infix version of &#39;over&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;fmap&#39; f ≡ &#39;mapped&#39; &#39;%~&#39; f</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Data.Traversable.fmapDefault&#39; f ≡ &#39;Data.Traversable.traverse&#39; &#39;%~&#39; f</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b,c) &amp; _3 %~ f</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a,b,f c)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; both %~ f</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (f a,f b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; _2 %~ length $ (1,&quot;hello&quot;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (1,5)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; traverse %~ f $ [a,b,c]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [f a,f b,f c]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; traverse %~ even $ [1,2,3]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [False,True,False]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; traverse.traverse %~ length $ [[&quot;hello&quot;,&quot;world&quot;],[&quot;!!!&quot;]]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [[5,5],[3]]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%~&#39;) :: &#39;Setter&#39; s t a b    -&gt; (a -&gt; b) -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%~&#39;) :: &#39;Iso&#39; s t a b       -&gt; (a -&gt; b) -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%~&#39;) :: &#39;Lens&#39; s t a b      -&gt; (a -&gt; b) -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%~&#39;) :: &#39;Traversal&#39; s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_444_1_444_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_444_1_444_5&#39;)"><span class="mpre">(%~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 443, srcSpanStartColumn = 9, srcSpanEndLine = 443, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 443, srcSpanStartColumn = 22, srcSpanEndLine = 443, srcSpanEndColumn = 24}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/sr"><span class="mpre">Profunctor p =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Setting</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_444_1_444_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_444_1_444_5&#39;)"><span class="hl_vardecl"><span class="mpre">(%~)</span></span></a><span class="mpre"> = </span><a href="#loc_353_1_353_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_1_353_5&#39;)"><span class="hl_varref"><span class="mpre">over</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_444_1_444_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_444_1_444_5&#39;)"><span class="mpre">(%~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Replace the target of a &#39;Lens&#39; or all of the targets of a &#39;Setter&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- or &#39;Traversal&#39; with a constant value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is an infix version of &#39;set&#39;, provided for consistency with (&#39;.=&#39;).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- f &#39;&lt;$&#39; a ≡ &#39;mapped&#39; &#39;.~&#39; f &#39;$&#39; a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b,c,d) &amp; _4 .~ e</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a,b,c,e)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (42,&quot;world&quot;) &amp; _1 .~ &quot;hello&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&quot;hello&quot;,&quot;world&quot;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; both .~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (c,c)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;.~&#39;) :: &#39;Setter&#39; s t a b    -&gt; b -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;.~&#39;) :: &#39;Iso&#39; s t a b       -&gt; b -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;.~&#39;) :: &#39;Lens&#39; s t a b      -&gt; b -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;.~&#39;) :: &#39;Traversal&#39; s t a b -&gt; b -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_472_1_472_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_472_1_472_5&#39;)"><span class="mpre">(.~)</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_472_1_472_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_472_1_472_5&#39;)"><span class="hl_vardecl"><span class="mpre">(.~)</span></span></a><span class="mpre"> = </span><a href="#loc_379_1_379_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_1_379_4&#39;)"><span class="hl_varref"><span class="mpre">set</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_472_1_472_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_472_1_472_5&#39;)"><span class="mpre">(.~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Set the target of a &#39;Lens&#39;, &#39;Traversal&#39; or &#39;Setter&#39; to &#39;Just&#39; a value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- l &#39;?~&#39; t ≡ &#39;set&#39; l (&#39;Just&#39; t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; Nothing &amp; id ?~ a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Just a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; Map.empty &amp; at 3 ?~ x</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [(3,x)]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;?~&#39;) :: &#39;Setter&#39; s t a (&#39;Maybe&#39; b)    -&gt; b -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;?~&#39;) :: &#39;Iso&#39; s t a (&#39;Maybe&#39; b)       -&gt; b -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;?~&#39;) :: &#39;Lens&#39; s t a (&#39;Maybe&#39; b)      -&gt; b -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;?~&#39;) :: &#39;Traversal&#39; s t a (&#39;Maybe&#39; b) -&gt; b -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_494_3_494_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_494_3_494_5&#39;)"><span class="mpre">(?~)</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_494_1_494_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_494_1_494_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_494_3_494_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_494_3_494_5&#39;)"><span class="hl_fundecl"><span class="mpre">?~</span></span></a><span class="mpre"> </span><a name="loc_494_6_494_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_494_6_494_7&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_379_1_379_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_1_379_4&#39;)"><span class="hl_varref"><span class="mpre">set</span></span></a><span class="mpre"> </span><a href="#loc_494_1_494_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_494_1_494_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_494_6_494_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_494_6_494_7&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_494_3_494_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_494_3_494_5&#39;)"><span class="mpre">(?~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Set with pass-through.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is mostly present for consistency, but may be useful for for chaining assignments.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- If you do not need a copy of the intermediate result, then using @l &#39;.~&#39; t@ directly is a good idea.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; _1 &lt;.~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (c,(c,b))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (&quot;good&quot;,&quot;morning&quot;,&quot;vietnam&quot;) &amp; _3 &lt;.~ &quot;world&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&quot;world&quot;,(&quot;good&quot;,&quot;morning&quot;,&quot;world&quot;))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (42,Map.fromList [(&quot;goodnight&quot;,&quot;gracie&quot;)]) &amp; _2.at &quot;hello&quot; &lt;.~ Just &quot;world&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (Just &quot;world&quot;,(42,fromList [(&quot;goodnight&quot;,&quot;gracie&quot;),(&quot;hello&quot;,&quot;world&quot;)]))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;.~&#39;) :: &#39;Setter&#39; s t a b    -&gt; b -&gt; s -&gt; (b, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;.~&#39;) :: &#39;Iso&#39; s t a b       -&gt; b -&gt; s -&gt; (b, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;.~&#39;) :: &#39;Lens&#39; s t a b      -&gt; b -&gt; s -&gt; (b, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;.~&#39;) :: &#39;Traversal&#39; s t a b -&gt; b -&gt; s -&gt; (b, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_519_3_519_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_519_3_519_6&#39;)"><span class="mpre">(&lt;.~)</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
</span><a name="loc_519_1_519_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_519_1_519_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_519_3_519_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_519_3_519_6&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;.~</span></span></a><span class="mpre"> </span><a name="loc_519_7_519_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_519_7_519_8&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = \</span><a name="loc_519_12_519_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_519_12_519_13&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_519_7_519_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_519_7_519_8&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">, </span><a href="#loc_379_1_379_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_1_379_4&#39;)"><span class="hl_varref"><span class="mpre">set</span></span></a><span class="mpre"> </span><a href="#loc_519_1_519_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_519_1_519_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_519_7_519_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_519_7_519_8&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_519_12_519_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_519_12_519_13&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_519_3_519_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_519_3_519_6&#39;)"><span class="mpre">(&lt;.~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Set to &#39;Just&#39; a value with pass-through.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is mostly present for consistency, but may be useful for for chaining assignments.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- If you do not need a copy of the intermediate result, then using @l &#39;?~&#39; d@ directly is a good idea.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; import Data.Map as Map</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; _2.at &quot;hello&quot; &lt;?~ &quot;world&quot; $ (42,Map.fromList [(&quot;goodnight&quot;,&quot;gracie&quot;)])</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&quot;world&quot;,(42,fromList [(&quot;goodnight&quot;,&quot;gracie&quot;),(&quot;hello&quot;,&quot;world&quot;)]))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;?~&#39;) :: &#39;Setter&#39; s t a (&#39;Maybe&#39; b)    -&gt; b -&gt; s -&gt; (b, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;?~&#39;) :: &#39;Iso&#39; s t a (&#39;Maybe&#39; b)       -&gt; b -&gt; s -&gt; (b, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;?~&#39;) :: &#39;Lens&#39; s t a (&#39;Maybe&#39; b)      -&gt; b -&gt; s -&gt; (b, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;?~&#39;) :: &#39;Traversal&#39; s t a (&#39;Maybe&#39; b) -&gt; b -&gt; s -&gt; (b, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_539_3_539_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_539_3_539_6&#39;)"><span class="mpre">(&lt;?~)</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
</span><a name="loc_539_1_539_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_539_1_539_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_539_3_539_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_539_3_539_6&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;?~</span></span></a><span class="mpre"> </span><a name="loc_539_7_539_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_539_7_539_8&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = \</span><a name="loc_539_12_539_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_539_12_539_13&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_539_7_539_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_539_7_539_8&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">, </span><a href="#loc_379_1_379_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_1_379_4&#39;)"><span class="hl_varref"><span class="mpre">set</span></span></a><span class="mpre"> </span><a href="#loc_539_1_539_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_539_1_539_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_539_7_539_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_539_7_539_8&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">) </span><a href="#loc_539_12_539_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_539_12_539_13&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_539_3_539_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_539_3_539_6&#39;)"><span class="mpre">(&lt;?~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Increment the target(s) of a numerically valued &#39;Lens&#39;, &#39;Setter&#39; or &#39;Traversal&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; _1 +~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a + c,b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; both +~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a + c,b + c)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (1,2) &amp; _2 +~ 1</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (1,3)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; [(a,b),(c,d)] &amp; traverse.both +~ e</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [(a + e,b + e),(c + e,d + e)]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;+~&#39;) :: &#39;Num&#39; a =&gt; &#39;Setter&#39;&#39; s a    -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;+~&#39;) :: &#39;Num&#39; a =&gt; &#39;Iso&#39;&#39; s a       -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;+~&#39;) :: &#39;Num&#39; a =&gt; &#39;Lens&#39;&#39; s a      -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;+~&#39;) :: &#39;Num&#39; a =&gt; &#39;Traversal&#39;&#39; s a -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_563_3_563_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_563_3_563_5&#39;)"><span class="mpre">(+~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 562, srcSpanStartColumn = 9, srcSpanEndLine = 562, srcSpanEndColumn = 17}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 562, srcSpanStartColumn = 15, srcSpanEndLine = 562, srcSpanEndColumn = 17}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/sr"><span class="mpre">Num a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_563_1_563_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_563_1_563_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_563_3_563_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_563_3_563_5&#39;)"><span class="hl_fundecl"><span class="mpre">+~</span></span></a><span class="mpre"> </span><a name="loc_563_6_563_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_563_6_563_7&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_353_1_353_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_1_353_5&#39;)"><span class="hl_varref"><span class="mpre">over</span></span></a><span class="mpre"> </span><a href="#loc_563_1_563_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_563_1_563_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_563_6_563_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_563_6_563_7&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_563_3_563_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_563_3_563_5&#39;)"><span class="mpre">(+~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Multiply the target(s) of a numerically valued &#39;Lens&#39;, &#39;Iso&#39;, &#39;Setter&#39; or &#39;Traversal&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; _1 *~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a * c,b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; both *~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a * c,b * c)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (1,2) &amp; _2 *~ 4</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (1,8)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; Just 24 &amp; mapped *~ 2</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Just 48</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;*~&#39;) :: &#39;Num&#39; a =&gt; &#39;Setter&#39;&#39; s a    -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;*~&#39;) :: &#39;Num&#39; a =&gt; &#39;Iso&#39;&#39; s a       -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;*~&#39;) :: &#39;Num&#39; a =&gt; &#39;Lens&#39;&#39; s a      -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;*~&#39;) :: &#39;Num&#39; a =&gt; &#39;Traversal&#39;&#39; s a -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_587_3_587_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_587_3_587_5&#39;)"><span class="mpre">(*~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 586, srcSpanStartColumn = 9, srcSpanEndLine = 586, srcSpanEndColumn = 17}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 586, srcSpanStartColumn = 15, srcSpanEndLine = 586, srcSpanEndColumn = 17}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/sr"><span class="mpre">Num a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_587_1_587_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_587_1_587_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_587_3_587_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_587_3_587_5&#39;)"><span class="hl_fundecl"><span class="mpre">*~</span></span></a><span class="mpre"> </span><a name="loc_587_6_587_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_587_6_587_7&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_353_1_353_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_1_353_5&#39;)"><span class="hl_varref"><span class="mpre">over</span></span></a><span class="mpre"> </span><a href="#loc_587_1_587_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_587_1_587_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">*</span></span><span class="mpre"> </span><a href="#loc_587_6_587_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_587_6_587_7&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_587_3_587_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_587_3_587_5&#39;)"><span class="mpre">(*~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Decrement the target(s) of a numerically valued &#39;Lens&#39;, &#39;Iso&#39;, &#39;Setter&#39; or &#39;Traversal&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; _1 -~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a - c,b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; both -~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a - c,b - c)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; _1 -~ 2 $ (1,2)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (-1,2)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; mapped.mapped -~ 1 $ [[4,5],[6,7]]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- [[3,4],[5,6]]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;-~&#39;) :: &#39;Num&#39; a =&gt; &#39;Setter&#39;&#39; s a    -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;-~&#39;) :: &#39;Num&#39; a =&gt; &#39;Iso&#39;&#39; s a       -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;-~&#39;) :: &#39;Num&#39; a =&gt; &#39;Lens&#39;&#39; s a      -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;-~&#39;) :: &#39;Num&#39; a =&gt; &#39;Traversal&#39;&#39; s a -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_611_3_611_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_611_3_611_5&#39;)"><span class="mpre">(-~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 610, srcSpanStartColumn = 9, srcSpanEndLine = 610, srcSpanEndColumn = 17}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 610, srcSpanStartColumn = 15, srcSpanEndLine = 610, srcSpanEndColumn = 17}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/sr"><span class="mpre">Num a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_611_1_611_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_611_1_611_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_611_3_611_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_611_3_611_5&#39;)"><span class="hl_fundecl"><span class="mpre">-~</span></span></a><span class="mpre"> </span><a name="loc_611_6_611_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_611_6_611_7&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_353_1_353_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_1_353_5&#39;)"><span class="hl_varref"><span class="mpre">over</span></span></a><span class="mpre"> </span><a href="#loc_611_1_611_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_611_1_611_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">subtract</span></span><span class="mpre"> </span><a href="#loc_611_6_611_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_611_6_611_7&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_611_3_611_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_611_3_611_5&#39;)"><span class="mpre">(-~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Divide the target(s) of a numerically valued &#39;Lens&#39;, &#39;Iso&#39;, &#39;Setter&#39; or &#39;Traversal&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; _1 //~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a / c,b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; both //~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a / c,b / c)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (&quot;Hawaii&quot;,10) &amp; _2 //~ 2</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&quot;Hawaii&quot;,5.0)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;//~&#39;) :: &#39;Fractional&#39; a =&gt; &#39;Setter&#39;&#39; s a    -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;//~&#39;) :: &#39;Fractional&#39; a =&gt; &#39;Iso&#39;&#39; s a       -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;//~&#39;) :: &#39;Fractional&#39; a =&gt; &#39;Lens&#39;&#39; s a      -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;//~&#39;) :: &#39;Fractional&#39; a =&gt; &#39;Traversal&#39;&#39; s a -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_632_3_632_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_632_3_632_6&#39;)"><span class="mpre">(//~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 631, srcSpanStartColumn = 10, srcSpanEndLine = 631, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 631, srcSpanStartColumn = 23, srcSpanEndLine = 631, srcSpanEndColumn = 25}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">Fractional a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_632_1_632_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_632_1_632_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_632_3_632_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_632_3_632_6&#39;)"><span class="hl_fundecl"><span class="mpre">//~</span></span></a><span class="mpre"> </span><a name="loc_632_7_632_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_632_7_632_8&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_353_1_353_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_1_353_5&#39;)"><span class="hl_varref"><span class="mpre">over</span></span></a><span class="mpre"> </span><a href="#loc_632_1_632_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_632_1_632_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">/</span></span><span class="mpre"> </span><a href="#loc_632_7_632_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_632_7_632_8&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_632_3_632_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_632_3_632_6&#39;)"><span class="mpre">(//~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Raise the target(s) of a numerically valued &#39;Lens&#39;, &#39;Setter&#39; or &#39;Traversal&#39; to a non-negative integral power.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (1,3) &amp; _2 ^~ 2</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (1,9)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;^~&#39;) :: (&#39;Num&#39; a, &#39;Integral&#39; e) =&gt; &#39;Setter&#39;&#39; s a    -&gt; e -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;^~&#39;) :: (&#39;Num&#39; a, &#39;Integral&#39; e) =&gt; &#39;Iso&#39;&#39; s a       -&gt; e -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;^~&#39;) :: (&#39;Num&#39; a, &#39;Integral&#39; e) =&gt; &#39;Lens&#39;&#39; s a      -&gt; e -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;^~&#39;) :: (&#39;Num&#39; a, &#39;Integral&#39; e) =&gt; &#39;Traversal&#39;&#39; s a -&gt; e -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_647_3_647_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_647_3_647_5&#39;)"><span class="mpre">(^~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 646, srcSpanStartColumn = 9, srcSpanEndLine = 646, srcSpanEndColumn = 31}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 646, srcSpanStartColumn = 9, srcSpanEndLine = 646, srcSpanEndColumn = 10},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLi"><span class="mpre">(Num a, Integral e) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_647_1_647_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_647_1_647_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_647_3_647_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_647_3_647_5&#39;)"><span class="hl_fundecl"><span class="mpre">^~</span></span></a><span class="mpre"> </span><a name="loc_647_6_647_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_647_6_647_7&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_353_1_353_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_1_353_5&#39;)"><span class="hl_varref"><span class="mpre">over</span></span></a><span class="mpre"> </span><a href="#loc_647_1_647_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_647_1_647_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">^</span></span><span class="mpre"> </span><a href="#loc_647_6_647_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_647_6_647_7&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_647_3_647_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_647_3_647_5&#39;)"><span class="mpre">(^~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Raise the target(s) of a fractionally valued &#39;Lens&#39;, &#39;Setter&#39; or &#39;Traversal&#39; to an integral power.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (1,2) &amp; _2 ^^~ (-1)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (1,0.5)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;^^~&#39;) :: (&#39;Fractional&#39; a, &#39;Integral&#39; e) =&gt; &#39;Setter&#39;&#39; s a    -&gt; e -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;^^~&#39;) :: (&#39;Fractional&#39; a, &#39;Integral&#39; e) =&gt; &#39;Iso&#39;&#39; s a       -&gt; e -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;^^~&#39;) :: (&#39;Fractional&#39; a, &#39;Integral&#39; e) =&gt; &#39;Lens&#39;&#39; s a      -&gt; e -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;^^~&#39;) :: (&#39;Fractional&#39; a, &#39;Integral&#39; e) =&gt; &#39;Traversal&#39;&#39; s a -&gt; e -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_663_3_663_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_663_3_663_6&#39;)"><span class="mpre">(^^~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 662, srcSpanStartColumn = 10, srcSpanEndLine = 662, srcSpanEndColumn = 39}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 662, srcSpanStartColumn = 10, srcSpanEndLine = 662, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStart"><span class="mpre">(Fractional a, Integral e) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_663_1_663_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_663_1_663_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_663_3_663_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_663_3_663_6&#39;)"><span class="hl_fundecl"><span class="mpre">^^~</span></span></a><span class="mpre"> </span><a name="loc_663_7_663_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_663_7_663_8&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_353_1_353_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_1_353_5&#39;)"><span class="hl_varref"><span class="mpre">over</span></span></a><span class="mpre"> </span><a href="#loc_663_1_663_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_663_1_663_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">^^</span></span><span class="mpre"> </span><a href="#loc_663_7_663_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_663_7_663_8&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_663_3_663_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_663_3_663_6&#39;)"><span class="mpre">(^^~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Raise the target(s) of a floating-point valued &#39;Lens&#39;, &#39;Setter&#39; or &#39;Traversal&#39; to an arbitrary power.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; _1 **~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a**c,b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; both **~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a**c,b**c)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; _2 **~ 10 $ (3,2)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (3,1024.0)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;**~&#39;) :: &#39;Floating&#39; a =&gt; &#39;Setter&#39;&#39; s a    -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;**~&#39;) :: &#39;Floating&#39; a =&gt; &#39;Iso&#39;&#39; s a       -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;**~&#39;) :: &#39;Floating&#39; a =&gt; &#39;Lens&#39;&#39; s a      -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;**~&#39;) :: &#39;Floating&#39; a =&gt; &#39;Traversal&#39;&#39; s a -&gt; a -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_684_3_684_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_684_3_684_6&#39;)"><span class="mpre">(**~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 683, srcSpanStartColumn = 10, srcSpanEndLine = 683, srcSpanEndColumn = 23}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 683, srcSpanStartColumn = 21, srcSpanEndLine = 683, srcSpanEndColumn = 23}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">Floating a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_684_1_684_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_684_1_684_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_684_3_684_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_684_3_684_6&#39;)"><span class="hl_fundecl"><span class="mpre">**~</span></span></a><span class="mpre"> </span><a name="loc_684_7_684_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_684_7_684_8&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_353_1_353_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_1_353_5&#39;)"><span class="hl_varref"><span class="mpre">over</span></span></a><span class="mpre"> </span><a href="#loc_684_1_684_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_684_1_684_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">**</span></span><span class="mpre"> </span><a href="#loc_684_7_684_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_684_7_684_8&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_684_3_684_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_684_3_684_6&#39;)"><span class="mpre">(**~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Logically &#39;||&#39; the target(s) of a &#39;Bool&#39;-valued &#39;Lens&#39; or &#39;Setter&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; both ||~ True $ (False,True)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (True,True)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; both ||~ False $ (False,True)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (False,True)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;||~&#39;) :: &#39;Setter&#39;&#39; s &#39;Bool&#39;    -&gt; &#39;Bool&#39; -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;||~&#39;) :: &#39;Iso&#39;&#39; s &#39;Bool&#39;       -&gt; &#39;Bool&#39; -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;||~&#39;) :: &#39;Lens&#39;&#39; s &#39;Bool&#39;      -&gt; &#39;Bool&#39; -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;||~&#39;) :: &#39;Traversal&#39;&#39; s &#39;Bool&#39; -&gt; &#39;Bool&#39; -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_702_3_702_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_3_702_6&#39;)"><span class="mpre">(||~)</span></a><span class="mpre">:: </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_702_1_702_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_1_702_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_702_3_702_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_3_702_6&#39;)"><span class="hl_fundecl"><span class="mpre">||~</span></span></a><span class="mpre"> </span><a name="loc_702_7_702_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_7_702_8&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_353_1_353_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_1_353_5&#39;)"><span class="hl_varref"><span class="mpre">over</span></span></a><span class="mpre"> </span><a href="#loc_702_1_702_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_1_702_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">||</span></span><span class="mpre"> </span><a href="#loc_702_7_702_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_7_702_8&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_702_3_702_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_3_702_6&#39;)"><span class="mpre">(||~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Logically &#39;&amp;&amp;&#39; the target(s) of a &#39;Bool&#39;-valued &#39;Lens&#39; or &#39;Setter&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; both &amp;&amp;~ True $ (False, True)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (False,True)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; both &amp;&amp;~ False $ (False, True)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (False,False)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&amp;&amp;~&#39;) :: &#39;Setter&#39;&#39; s &#39;Bool&#39;    -&gt; &#39;Bool&#39; -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&amp;&amp;~&#39;) :: &#39;Iso&#39;&#39; s &#39;Bool&#39;       -&gt; &#39;Bool&#39; -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&amp;&amp;~&#39;) :: &#39;Lens&#39;&#39; s &#39;Bool&#39;      -&gt; &#39;Bool&#39; -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&amp;&amp;~&#39;) :: &#39;Traversal&#39;&#39; s &#39;Bool&#39; -&gt; &#39;Bool&#39; -&gt; s -&gt; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_720_3_720_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_720_3_720_6&#39;)"><span class="mpre">(&amp;&amp;~)</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_720_1_720_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_720_1_720_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_720_3_720_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_720_3_720_6&#39;)"><span class="hl_fundecl"><span class="mpre">&amp;&amp;~</span></span></a><span class="mpre"> </span><a name="loc_720_7_720_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_720_7_720_8&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_353_1_353_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_1_353_5&#39;)"><span class="hl_varref"><span class="mpre">over</span></span></a><span class="mpre"> </span><a href="#loc_720_1_720_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_720_1_720_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_720_7_720_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_720_7_720_8&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_720_3_720_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_720_3_720_6&#39;)"><span class="mpre">(&amp;&amp;~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Using Setters with State</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Replace the target of a &#39;Lens&#39; or all of the targets of a &#39;Setter&#39; or &#39;Traversal&#39; in our monadic</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- state with a new value, irrespective of the old.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is an alias for (&#39;.=&#39;).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; execState (do assign _1 c; assign _2 d) (a,b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (c,d)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; execState (both .= c) (a,b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (c,c)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;assign&#39; :: &#39;MonadState&#39; s m =&gt; &#39;Iso&#39;&#39; s a       -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;assign&#39; :: &#39;MonadState&#39; s m =&gt; &#39;Lens&#39;&#39; s a      -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;assign&#39; :: &#39;MonadState&#39; s m =&gt; &#39;Traversal&#39;&#39; s a -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;assign&#39; :: &#39;MonadState&#39; s m =&gt; &#39;Setter&#39;&#39; s a    -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_745_1_745_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_745_1_745_7&#39;)"><span class="mpre">assign</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 744, srcSpanStartColumn = 11, srcSpanEndLine = 744, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 744, srcSpanStartColumn = 26, srcSpanEndLine = 744, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_745_1_745_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_745_1_745_7&#39;)"><span class="hl_fundecl"><span class="mpre">assign</span></span></a><span class="mpre"> </span><a name="loc_745_8_745_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_745_8_745_9&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_745_10_745_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_745_10_745_11&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">State.modify</span></span></a><span class="mpre"> (</span><a href="#loc_379_1_379_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_1_379_4&#39;)"><span class="hl_varref"><span class="mpre">set</span></span></a><span class="mpre"> </span><a href="#loc_745_8_745_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_745_8_745_9&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_745_10_745_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_745_10_745_11&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_745_1_745_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_745_1_745_7&#39;)"><span class="mpre">assign</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Replace the target of a &#39;Lens&#39; or all of the targets of a &#39;Setter&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- or &#39;Traversal&#39; in our monadic state with a new value, irrespective of the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- old.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is an infix version of &#39;assign&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; execState (do _1 .= c; _2 .= d) (a,b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (c,d)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; execState (both .= c) (a,b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (c,c)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;.=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Iso&#39;&#39; s a       -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;.=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Lens&#39;&#39; s a      -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;.=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Traversal&#39;&#39; s a -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;.=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Setter&#39;&#39; s a    -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- /It puts the state in the monad or it gets the hose again./</span></span><span class="mpre">
</span><a href="#loc_769_3_769_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_769_3_769_5&#39;)"><span class="mpre">(.=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 768, srcSpanStartColumn = 9, srcSpanEndLine = 768, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 768, srcSpanStartColumn = 24, srcSpanEndLine = 768, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/sr"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_769_1_769_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_769_1_769_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_769_3_769_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_769_3_769_5&#39;)"><span class="hl_fundecl"><span class="mpre">.=</span></span></a><span class="mpre"> </span><a name="loc_769_6_769_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_769_6_769_7&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">State.modify</span></span></a><span class="mpre"> (</span><a href="#loc_769_1_769_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_769_1_769_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_472_1_472_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_472_1_472_5&#39;)"><span class="hl_infix"><span class="mpre">.~</span></span></a><span class="mpre"> </span><a href="#loc_769_6_769_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_769_6_769_7&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_769_3_769_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_769_3_769_5&#39;)"><span class="mpre">(.=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Map over the target of a &#39;Lens&#39; or all of the targets of a &#39;Setter&#39; or &#39;Traversal&#39; in our monadic state.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; execState (do _1 %= f;_2 %= g) (a,b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (f a,g b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; execState (do both %= f) (a,b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (f a,f b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Iso&#39;&#39; s a       -&gt; (a -&gt; a) -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Lens&#39;&#39; s a      -&gt; (a -&gt; a) -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Traversal&#39;&#39; s a -&gt; (a -&gt; a) -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Setter&#39;&#39; s a    -&gt; (a -&gt; a) -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;ASetter&#39; s s a b -&gt; (a -&gt; b) -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_791_3_791_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_791_3_791_5&#39;)"><span class="mpre">(%=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 790, srcSpanStartColumn = 9, srcSpanEndLine = 790, srcSpanEndColumn = 42}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 790, srcSpanStartColumn = 9, srcSpanEndLine = 790, srcSpanEndColumn = 10},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLi"><span class="mpre">(Profunctor p, MonadState s m) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Setting</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_791_1_791_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_791_1_791_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_791_3_791_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_791_3_791_5&#39;)"><span class="hl_fundecl"><span class="mpre">%=</span></span></a><span class="mpre"> </span><a name="loc_791_6_791_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_791_6_791_7&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">State.modify</span></span></a><span class="mpre"> (</span><a href="#loc_791_1_791_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_791_1_791_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_444_1_444_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_444_1_444_5&#39;)"><span class="hl_infix"><span class="mpre">%~</span></span></a><span class="mpre"> </span><a href="#loc_791_6_791_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_791_6_791_7&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_791_3_791_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_791_3_791_5&#39;)"><span class="mpre">(%=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Replace the target of a &#39;Lens&#39; or all of the targets of a &#39;Setter&#39; or &#39;Traversal&#39; in our monadic</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- state with &#39;Just&#39; a new value, irrespective of the old.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; execState (do at 1 ?= a; at 2 ?= b) Map.empty</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [(1,a),(2,b)]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; execState (do _1 ?= b; _2 ?= c) (Just a, Nothing)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (Just b,Just c)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;?=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Iso&#39;&#39; s (&#39;Maybe&#39; a)       -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;?=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Lens&#39;&#39; s (&#39;Maybe&#39; a)      -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;?=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Traversal&#39;&#39; s (&#39;Maybe&#39; a) -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;?=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Setter&#39;&#39; s (&#39;Maybe&#39; a)    -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_810_3_810_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_810_3_810_5&#39;)"><span class="mpre">(?=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 809, srcSpanStartColumn = 9, srcSpanEndLine = 809, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 809, srcSpanStartColumn = 24, srcSpanEndLine = 809, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/sr"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_810_1_810_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_810_1_810_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_810_3_810_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_810_3_810_5&#39;)"><span class="hl_fundecl"><span class="mpre">?=</span></span></a><span class="mpre"> </span><a name="loc_810_6_810_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_810_6_810_7&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">State.modify</span></span></a><span class="mpre"> (</span><a href="#loc_810_1_810_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_810_1_810_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_494_3_494_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_494_3_494_5&#39;)"><span class="hl_infix"><span class="mpre">?~</span></span></a><span class="mpre"> </span><a href="#loc_810_6_810_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_810_6_810_7&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_810_3_810_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_810_3_810_5&#39;)"><span class="mpre">(?=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target(s) of a &#39;Lens&#39;&#39;, &#39;Iso&#39;, &#39;Setter&#39; or &#39;Traversal&#39; by adding a value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Example:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;fresh&#39; :: &#39;MonadState&#39; &#39;Int&#39; m =&gt; m &#39;Int&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;fresh&#39; = do</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   &#39;id&#39; &#39;+=&#39; 1</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   &#39;Control.Lens.Getter.use&#39; &#39;id&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; execState (do _1 += c; _2 += d) (a,b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a + c,b + d)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; execState (do _1.at 1.non 0 += 10) (Map.fromList [(2,100)],&quot;hello&quot;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (fromList [(1,10),(2,100)],&quot;hello&quot;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;+=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Setter&#39;&#39; s a    -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;+=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Iso&#39;&#39; s a       -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;+=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Lens&#39;&#39; s a      -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;+=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Traversal&#39;&#39; s a -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_837_3_837_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_837_3_837_5&#39;)"><span class="mpre">(+=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 836, srcSpanStartColumn = 9, srcSpanEndLine = 836, srcSpanEndColumn = 35}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 836, srcSpanStartColumn = 9, srcSpanEndLine = 836, srcSpanEndColumn = 10},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLi"><span class="mpre">(MonadState s m, Num a) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_837_1_837_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_837_1_837_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_837_3_837_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_837_3_837_5&#39;)"><span class="hl_fundecl"><span class="mpre">+=</span></span></a><span class="mpre"> </span><a name="loc_837_6_837_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_837_6_837_7&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">State.modify</span></span></a><span class="mpre"> (</span><a href="#loc_837_1_837_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_837_1_837_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_563_3_563_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_563_3_563_5&#39;)"><span class="hl_infix"><span class="mpre">+~</span></span></a><span class="mpre"> </span><a href="#loc_837_6_837_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_837_6_837_7&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_837_3_837_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_837_3_837_5&#39;)"><span class="mpre">(+=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target(s) of a &#39;Lens&#39;&#39;, &#39;Iso&#39;, &#39;Setter&#39; or &#39;Traversal&#39; by subtracting a value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; execState (do _1 -= c; _2 -= d) (a,b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a - c,b - d)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;-=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Setter&#39;&#39; s a    -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;-=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Iso&#39;&#39; s a       -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;-=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Lens&#39;&#39; s a      -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;-=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Traversal&#39;&#39; s a -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_852_3_852_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_852_3_852_5&#39;)"><span class="mpre">(-=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 851, srcSpanStartColumn = 9, srcSpanEndLine = 851, srcSpanEndColumn = 35}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 851, srcSpanStartColumn = 9, srcSpanEndLine = 851, srcSpanEndColumn = 10},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLi"><span class="mpre">(MonadState s m, Num a) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_852_1_852_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_852_1_852_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_852_3_852_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_852_3_852_5&#39;)"><span class="hl_fundecl"><span class="mpre">-=</span></span></a><span class="mpre"> </span><a name="loc_852_6_852_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_852_6_852_7&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">State.modify</span></span></a><span class="mpre"> (</span><a href="#loc_852_1_852_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_852_1_852_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_611_3_611_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_611_3_611_5&#39;)"><span class="hl_infix"><span class="mpre">-~</span></span></a><span class="mpre"> </span><a href="#loc_852_6_852_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_852_6_852_7&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_852_3_852_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_852_3_852_5&#39;)"><span class="mpre">(-=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target(s) of a &#39;Lens&#39;&#39;, &#39;Iso&#39;, &#39;Setter&#39; or &#39;Traversal&#39; by multiplying by value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; execState (do _1 *= c; _2 *= d) (a,b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a * c,b * d)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;*=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Setter&#39;&#39; s a    -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;*=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Iso&#39;&#39; s a       -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;*=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Lens&#39;&#39; s a      -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;*=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Traversal&#39;&#39; s a -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_867_3_867_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_867_3_867_5&#39;)"><span class="mpre">(*=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 866, srcSpanStartColumn = 9, srcSpanEndLine = 866, srcSpanEndColumn = 35}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 866, srcSpanStartColumn = 9, srcSpanEndLine = 866, srcSpanEndColumn = 10},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLi"><span class="mpre">(MonadState s m, Num a) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_867_1_867_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_867_1_867_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_867_3_867_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_867_3_867_5&#39;)"><span class="hl_fundecl"><span class="mpre">*=</span></span></a><span class="mpre"> </span><a name="loc_867_6_867_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_867_6_867_7&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">State.modify</span></span></a><span class="mpre"> (</span><a href="#loc_867_1_867_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_867_1_867_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_587_3_587_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_587_3_587_5&#39;)"><span class="hl_infix"><span class="mpre">*~</span></span></a><span class="mpre"> </span><a href="#loc_867_6_867_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_867_6_867_7&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_867_3_867_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_867_3_867_5&#39;)"><span class="mpre">(*=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target(s) of a &#39;Lens&#39;&#39;, &#39;Iso&#39;, &#39;Setter&#39; or &#39;Traversal&#39; by dividing by a value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; execState (do _1 //= c; _2 //= d) (a,b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a / c,b / d)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;//=&#39;) :: (&#39;MonadState&#39; s m, &#39;Fractional&#39; a) =&gt; &#39;Setter&#39;&#39; s a    -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;//=&#39;) :: (&#39;MonadState&#39; s m, &#39;Fractional&#39; a) =&gt; &#39;Iso&#39;&#39; s a       -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;//=&#39;) :: (&#39;MonadState&#39; s m, &#39;Fractional&#39; a) =&gt; &#39;Lens&#39;&#39; s a      -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;//=&#39;) :: (&#39;MonadState&#39; s m, &#39;Fractional&#39; a) =&gt; &#39;Traversal&#39;&#39; s a -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_882_3_882_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_882_3_882_6&#39;)"><span class="mpre">(//=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 881, srcSpanStartColumn = 10, srcSpanEndLine = 881, srcSpanEndColumn = 43}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 881, srcSpanStartColumn = 10, srcSpanEndLine = 881, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStart"><span class="mpre">(MonadState s m, Fractional a) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_882_1_882_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_882_1_882_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_882_3_882_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_882_3_882_6&#39;)"><span class="hl_fundecl"><span class="mpre">//=</span></span></a><span class="mpre"> </span><a name="loc_882_7_882_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_882_7_882_8&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">State.modify</span></span></a><span class="mpre"> (</span><a href="#loc_882_1_882_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_882_1_882_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_632_3_632_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_632_3_632_6&#39;)"><span class="hl_infix"><span class="mpre">//~</span></span></a><span class="mpre"> </span><a href="#loc_882_7_882_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_882_7_882_8&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_882_3_882_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_882_3_882_6&#39;)"><span class="mpre">(//=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Raise the target(s) of a numerically valued &#39;Lens&#39;, &#39;Setter&#39; or &#39;Traversal&#39; to a non-negative integral power.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;^=&#39;) ::  (&#39;MonadState&#39; s m, &#39;Num&#39; a, &#39;Integral&#39; e) =&gt; &#39;Setter&#39;&#39; s a    -&gt; e -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;^=&#39;) ::  (&#39;MonadState&#39; s m, &#39;Num&#39; a, &#39;Integral&#39; e) =&gt; &#39;Iso&#39;&#39; s a       -&gt; e -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;^=&#39;) ::  (&#39;MonadState&#39; s m, &#39;Num&#39; a, &#39;Integral&#39; e) =&gt; &#39;Lens&#39;&#39; s a      -&gt; e -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;^=&#39;) ::  (&#39;MonadState&#39; s m, &#39;Num&#39; a, &#39;Integral&#39; e) =&gt; &#39;Traversal&#39;&#39; s a -&gt; e -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_894_3_894_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_894_3_894_5&#39;)"><span class="mpre">(^=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 893, srcSpanStartColumn = 9, srcSpanEndLine = 893, srcSpanEndColumn = 47}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 893, srcSpanStartColumn = 9, srcSpanEndLine = 893, srcSpanEndColumn = 10},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLi"><span class="mpre">(MonadState s m, Num a, Integral e) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_894_1_894_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_894_1_894_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_894_3_894_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_894_3_894_5&#39;)"><span class="hl_fundecl"><span class="mpre">^=</span></span></a><span class="mpre"> </span><a name="loc_894_6_894_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_894_6_894_7&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> = </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">State.modify</span></span></a><span class="mpre"> (</span><a href="#loc_894_1_894_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_894_1_894_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_647_3_647_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_647_3_647_5&#39;)"><span class="hl_infix"><span class="mpre">^~</span></span></a><span class="mpre"> </span><a href="#loc_894_6_894_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_894_6_894_7&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_894_3_894_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_894_3_894_5&#39;)"><span class="mpre">(^=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Raise the target(s) of a numerically valued &#39;Lens&#39;, &#39;Setter&#39; or &#39;Traversal&#39; to an integral power.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;^^=&#39;) ::  (&#39;MonadState&#39; s m, &#39;Fractional&#39; a, &#39;Integral&#39; e) =&gt; &#39;Setter&#39;&#39; s a    -&gt; e -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;^^=&#39;) ::  (&#39;MonadState&#39; s m, &#39;Fractional&#39; a, &#39;Integral&#39; e) =&gt; &#39;Iso&#39;&#39; s a       -&gt; e -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;^^=&#39;) ::  (&#39;MonadState&#39; s m, &#39;Fractional&#39; a, &#39;Integral&#39; e) =&gt; &#39;Lens&#39;&#39; s a      -&gt; e -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;^^=&#39;) ::  (&#39;MonadState&#39; s m, &#39;Fractional&#39; a, &#39;Integral&#39; e) =&gt; &#39;Traversal&#39;&#39; s a -&gt; e -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_906_3_906_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_906_3_906_6&#39;)"><span class="mpre">(^^=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 905, srcSpanStartColumn = 10, srcSpanEndLine = 905, srcSpanEndColumn = 55}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 905, srcSpanStartColumn = 10, srcSpanEndLine = 905, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStart"><span class="mpre">(MonadState s m, Fractional a, Integral e) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_906_1_906_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_906_1_906_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_906_3_906_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_906_3_906_6&#39;)"><span class="hl_fundecl"><span class="mpre">^^=</span></span></a><span class="mpre"> </span><a name="loc_906_7_906_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_906_7_906_8&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> = </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">State.modify</span></span></a><span class="mpre"> (</span><a href="#loc_906_1_906_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_906_1_906_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_663_3_663_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_663_3_663_6&#39;)"><span class="hl_infix"><span class="mpre">^^~</span></span></a><span class="mpre"> </span><a href="#loc_906_7_906_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_906_7_906_8&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_906_3_906_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_906_3_906_6&#39;)"><span class="mpre">(^^=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Raise the target(s) of a numerically valued &#39;Lens&#39;, &#39;Setter&#39; or &#39;Traversal&#39; to an arbitrary power</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; execState (do _1 **= c; _2 **= d) (a,b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a**c,b**d)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;**=&#39;) ::  (&#39;MonadState&#39; s m, &#39;Floating&#39; a) =&gt; &#39;Setter&#39;&#39; s a    -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;**=&#39;) ::  (&#39;MonadState&#39; s m, &#39;Floating&#39; a) =&gt; &#39;Iso&#39;&#39; s a       -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;**=&#39;) ::  (&#39;MonadState&#39; s m, &#39;Floating&#39; a) =&gt; &#39;Lens&#39;&#39; s a      -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;**=&#39;) ::  (&#39;MonadState&#39; s m, &#39;Floating&#39; a) =&gt; &#39;Traversal&#39;&#39; s a -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_921_3_921_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_921_3_921_6&#39;)"><span class="mpre">(**=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 920, srcSpanStartColumn = 10, srcSpanEndLine = 920, srcSpanEndColumn = 41}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 920, srcSpanStartColumn = 10, srcSpanEndLine = 920, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStart"><span class="mpre">(MonadState s m, Floating a) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_921_1_921_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_921_1_921_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_921_3_921_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_921_3_921_6&#39;)"><span class="hl_fundecl"><span class="mpre">**=</span></span></a><span class="mpre"> </span><a name="loc_921_7_921_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_921_7_921_8&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">State.modify</span></span></a><span class="mpre"> (</span><a href="#loc_921_1_921_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_921_1_921_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_684_3_684_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_684_3_684_6&#39;)"><span class="hl_infix"><span class="mpre">**~</span></span></a><span class="mpre"> </span><a href="#loc_921_7_921_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_921_7_921_8&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_921_3_921_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_921_3_921_6&#39;)"><span class="mpre">(**=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target(s) of a &#39;Lens&#39;&#39;, &#39;Iso&#39;, &#39;Setter&#39; or &#39;Traversal&#39; by taking their logical &#39;&amp;&amp;&#39; with a value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; execState (do _1 &amp;&amp;= True; _2 &amp;&amp;= False; _3 &amp;&amp;= True; _4 &amp;&amp;= False) (True,True,False,False)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (True,False,False,False)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&amp;&amp;=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Setter&#39;&#39; s &#39;Bool&#39;    -&gt; &#39;Bool&#39; -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&amp;&amp;=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Iso&#39;&#39; s &#39;Bool&#39;       -&gt; &#39;Bool&#39; -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&amp;&amp;=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Lens&#39;&#39; s &#39;Bool&#39;      -&gt; &#39;Bool&#39; -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&amp;&amp;=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Traversal&#39;&#39; s &#39;Bool&#39; -&gt; &#39;Bool&#39; -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_936_3_936_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_3_936_6&#39;)"><span class="mpre">(&amp;&amp;=)</span></a><span class="mpre">:: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 935, srcSpanStartColumn = 9, srcSpanEndLine = 935, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 935, srcSpanStartColumn = 24, srcSpanEndLine = 935, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/sr"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_936_1_936_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_1_936_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_936_3_936_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_3_936_6&#39;)"><span class="hl_fundecl"><span class="mpre">&amp;&amp;=</span></span></a><span class="mpre"> </span><a name="loc_936_7_936_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_7_936_8&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">State.modify</span></span></a><span class="mpre"> (</span><a href="#loc_936_1_936_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_1_936_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_720_3_720_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_720_3_720_6&#39;)"><span class="hl_infix"><span class="mpre">&amp;&amp;~</span></span></a><span class="mpre"> </span><a href="#loc_936_7_936_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_7_936_8&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_936_3_936_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_3_936_6&#39;)"><span class="mpre">(&amp;&amp;=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target(s) of a &#39;Lens&#39;&#39;, &#39;Iso, &#39;Setter&#39; or &#39;Traversal&#39; by taking their logical &#39;||&#39; with a value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; execState (do _1 ||= True; _2 ||= False; _3 ||= True; _4 ||= False) (True,True,False,False)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (True,True,True,False)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;||=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Setter&#39;&#39; s &#39;Bool&#39;    -&gt; &#39;Bool&#39; -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;||=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Iso&#39;&#39; s &#39;Bool&#39;       -&gt; &#39;Bool&#39; -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;||=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Lens&#39;&#39; s &#39;Bool&#39;      -&gt; &#39;Bool&#39; -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;||=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Traversal&#39;&#39; s &#39;Bool&#39; -&gt; &#39;Bool&#39; -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_951_3_951_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_951_3_951_6&#39;)"><span class="mpre">(||=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 950, srcSpanStartColumn = 10, srcSpanEndLine = 950, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 950, srcSpanStartColumn = 25, srcSpanEndLine = 950, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_951_1_951_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_951_1_951_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_951_3_951_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_951_3_951_6&#39;)"><span class="hl_fundecl"><span class="mpre">||=</span></span></a><span class="mpre"> </span><a name="loc_951_7_951_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_951_7_951_8&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">State.modify</span></span></a><span class="mpre"> (</span><a href="#loc_951_1_951_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_951_1_951_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_702_3_702_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_702_3_702_6&#39;)"><span class="hl_infix"><span class="mpre">||~</span></span></a><span class="mpre"> </span><a href="#loc_951_7_951_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_951_7_951_8&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_951_3_951_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_951_3_951_6&#39;)"><span class="mpre">(||=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Run a monadic action, and set all of the targets of a &#39;Lens&#39;, &#39;Setter&#39; or &#39;Traversal&#39; to its result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;~&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Iso&#39; s s a b       -&gt; m b -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;~&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Lens&#39; s s a b      -&gt; m b -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;~&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Traversal&#39; s s a b -&gt; m b -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;~&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Setter&#39; s s a b    -&gt; m b -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- As a reasonable mnemonic, this lets you store the result of a monadic action in a &#39;Lens&#39; rather than</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- in a local variable.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- do foo &lt;- bar</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--    ...</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- will store the result in a variable, while</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- do foo &#39;&lt;~&#39; bar</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--    ...</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- will store the result in a &#39;Lens&#39;, &#39;Setter&#39;, or &#39;Traversal&#39;.</span></span><span class="mpre">
</span><a href="#loc_980_3_980_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_980_3_980_5&#39;)"><span class="mpre">(&lt;~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 979, srcSpanStartColumn = 9, srcSpanEndLine = 979, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 979, srcSpanStartColumn = 24, srcSpanEndLine = 979, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/sr"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_980_1_980_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_980_1_980_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_980_3_980_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_980_3_980_5&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;~</span></span></a><span class="mpre"> </span><a name="loc_980_6_980_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_980_6_980_8&#39;)"><span class="hl_vardecl"><span class="mpre">mb</span></span></a><span class="mpre"> = </span><a href="#loc_980_6_980_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_980_6_980_8&#39;)"><span class="hl_varref"><span class="mpre">mb</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> (</span><a href="#loc_980_1_980_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_980_1_980_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_769_3_769_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_769_3_769_5&#39;)"><span class="hl_infix"><span class="mpre">.=</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_980_3_980_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_980_3_980_5&#39;)"><span class="mpre">(&lt;~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Set with pass-through</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is useful for chaining assignment without round-tripping through your &#39;Monad&#39; stack.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- do x &lt;- &#39;Control.Lens.Tuple._2&#39; &#39;&lt;.=&#39; ninety_nine_bottles_of_beer_on_the_wall</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- If you do not need a copy of the intermediate result, then using @l &#39;.=&#39; d@ will avoid unused binding warnings.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;.=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Setter&#39; s s a b    -&gt; b -&gt; m b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;.=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Iso&#39; s s a b       -&gt; b -&gt; m b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;.=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Lens&#39; s s a b      -&gt; b -&gt; m b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;.=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Traversal&#39; s s a b -&gt; b -&gt; m b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1000_3_1000_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1000_3_1000_6&#39;)"><span class="mpre">(&lt;.=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 999, srcSpanStartColumn = 10, srcSpanEndLine = 999, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 999, srcSpanStartColumn = 25, srcSpanEndLine = 999, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_1000_1_1000_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1000_1_1000_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1000_3_1000_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1000_3_1000_6&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;.=</span></span></a><span class="mpre"> </span><a name="loc_1000_7_1000_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1000_7_1000_8&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = do
  </span><a href="#loc_1000_1_1000_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1000_1_1000_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_769_3_769_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_769_3_769_5&#39;)"><span class="hl_infix"><span class="mpre">.=</span></span></a><span class="mpre"> </span><a href="#loc_1000_7_1000_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1000_7_1000_8&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_1000_7_1000_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1000_7_1000_8&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1000_3_1000_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1000_3_1000_6&#39;)"><span class="mpre">(&lt;.=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Set &#39;Just&#39; a value with pass-through</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is useful for chaining assignment without round-tripping through your &#39;Monad&#39; stack.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- do x &lt;- &#39;Control.Lens.At.at&#39; &quot;foo&quot; &#39;&lt;?=&#39; ninety_nine_bottles_of_beer_on_the_wall</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- If you do not need a copy of the intermediate result, then using @l &#39;?=&#39; d@ will avoid unused binding warnings.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;?=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Setter&#39; s s a (&#39;Maybe&#39; b)    -&gt; b -&gt; m b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;?=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Iso&#39; s s a (&#39;Maybe&#39; b)       -&gt; b -&gt; m b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;?=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Lens&#39; s s a (&#39;Maybe&#39; b)      -&gt; b -&gt; m b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;?=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Traversal&#39; s s a (&#39;Maybe&#39; b) -&gt; b -&gt; m b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1022_3_1022_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1022_3_1022_6&#39;)"><span class="mpre">(&lt;?=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1021, srcSpanStartColumn = 10, srcSpanEndLine = 1021, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1021, srcSpanStartColumn = 25, srcSpanEndLine = 1021, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_1022_1_1022_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1022_1_1022_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1022_3_1022_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1022_3_1022_6&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;?=</span></span></a><span class="mpre"> </span><a name="loc_1022_7_1022_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1022_7_1022_8&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = do
  </span><a href="#loc_1022_1_1022_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1022_1_1022_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_810_3_810_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_810_3_810_5&#39;)"><span class="hl_infix"><span class="mpre">?=</span></span></a><span class="mpre"> </span><a href="#loc_1022_7_1022_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1022_7_1022_8&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_1022_7_1022_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1022_7_1022_8&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1022_3_1022_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1022_3_1022_6&#39;)"><span class="mpre">(&lt;?=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target of a monoidally valued by &#39;mappend&#39;ing another value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (Sum a,b) &amp; _1 &lt;&gt;~ Sum c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (Sum {getSum = a + c},b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (Sum a,Sum b) &amp; both &lt;&gt;~ Sum c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (Sum {getSum = a + c},Sum {getSum = b + c})</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; both &lt;&gt;~ &quot;!!!&quot; $ (&quot;hello&quot;,&quot;world&quot;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&quot;hello!!!&quot;,&quot;world!!!&quot;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&gt;~&#39;) :: &#39;Monoid&#39; a =&gt; &#39;Setter&#39; s t a a    -&gt; a -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&gt;~&#39;) :: &#39;Monoid&#39; a =&gt; &#39;Iso&#39; s t a a       -&gt; a -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&gt;~&#39;) :: &#39;Monoid&#39; a =&gt; &#39;Lens&#39; s t a a      -&gt; a -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&gt;~&#39;) :: &#39;Monoid&#39; a =&gt; &#39;Traversal&#39; s t a a -&gt; a -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1045_3_1045_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1045_3_1045_6&#39;)"><span class="mpre">(&lt;&gt;~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1044, srcSpanStartColumn = 10, srcSpanEndLine = 1044, srcSpanEndColumn = 21}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1044, srcSpanStartColumn = 19, srcSpanEndLine = 1044, srcSpanEndColumn = 21}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4"><span class="mpre">Monoid a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_1045_1_1045_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1045_1_1045_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1045_3_1045_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1045_3_1045_6&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&gt;~</span></span></a><span class="mpre"> </span><a name="loc_1045_7_1045_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1045_7_1045_8&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_353_1_353_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_1_353_5&#39;)"><span class="hl_varref"><span class="mpre">over</span></span></a><span class="mpre"> </span><a href="#loc_1045_1_1045_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1045_1_1045_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (</span><a href="Data.Monoid.html#loc_82_9_82_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_82_9_82_16&#39;)"><span class="hl_infix"><span class="mpre">`mappend`</span></span></a><span class="mpre"> </span><a href="#loc_1045_7_1045_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1045_7_1045_8&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1045_3_1045_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1045_3_1045_6&#39;)"><span class="mpre">(&lt;&gt;~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target(s) of a &#39;Lens&#39;&#39;, &#39;Iso&#39;, &#39;Setter&#39; or &#39;Traversal&#39; by &#39;mappend&#39;ing a value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; execState (do _1 &lt;&gt;= Sum c; _2 &lt;&gt;= Product d) (Sum a,Product b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (Sum {getSum = a + c},Product {getProduct = b * d})</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; execState (both &lt;&gt;= &quot;!!!&quot;) (&quot;hello&quot;,&quot;world&quot;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&quot;hello!!!&quot;,&quot;world!!!&quot;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&gt;=&#39;) :: (&#39;MonadState&#39; s m, &#39;Monoid&#39; a) =&gt; &#39;Setter&#39;&#39; s a -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&gt;=&#39;) :: (&#39;MonadState&#39; s m, &#39;Monoid&#39; a) =&gt; &#39;Iso&#39;&#39; s a -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&gt;=&#39;) :: (&#39;MonadState&#39; s m, &#39;Monoid&#39; a) =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&gt;=&#39;) :: (&#39;MonadState&#39; s m, &#39;Monoid&#39; a) =&gt; &#39;Traversal&#39;&#39; s a -&gt; a -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1063_3_1063_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1063_3_1063_6&#39;)"><span class="mpre">(&lt;&gt;=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1062, srcSpanStartColumn = 10, srcSpanEndLine = 1062, srcSpanEndColumn = 39}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1062, srcSpanStartColumn = 10, srcSpanEndLine = 1062, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanS"><span class="mpre">(MonadState s m, Monoid a) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_1063_1_1063_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1063_1_1063_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1063_3_1063_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1063_3_1063_6&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&gt;=</span></span></a><span class="mpre"> </span><a name="loc_1063_7_1063_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1063_7_1063_8&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">State.modify</span></span></a><span class="mpre"> (</span><a href="#loc_1063_1_1063_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1063_1_1063_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_1045_3_1045_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1045_3_1045_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;&gt;~</span></span></a><span class="mpre"> </span><a href="#loc_1063_7_1063_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1063_7_1063_8&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1063_3_1063_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1063_3_1063_6&#39;)"><span class="mpre">(&lt;&gt;=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Writer Operations</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Write to a fragment of a larger &#39;Writer&#39; format.</span></span><span class="mpre">
</span><a href="#loc_1072_1_1072_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1072_1_1072_7&#39;)"><span class="mpre">scribe</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1071, srcSpanStartColumn = 11, srcSpanEndLine = 1071, srcSpanEndColumn = 41}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1071, srcSpanStartColumn = 11, srcSpanEndLine = 1071, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanS"><span class="mpre">(MonadWriter t m, Monoid s) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_1072_1_1072_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1072_1_1072_7&#39;)"><span class="hl_fundecl"><span class="mpre">scribe</span></span></a><span class="mpre"> </span><a name="loc_1072_8_1072_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1072_8_1072_9&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1072_10_1072_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1072_10_1072_11&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Writer.Class.html#loc_73_5_73_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Writer.Class.html#loc_73_5_73_9&#39;)"><span class="hl_varref"><span class="mpre">tell</span></span></a><span class="mpre"> (</span><a href="#loc_379_1_379_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_1_379_4&#39;)"><span class="hl_varref"><span class="mpre">set</span></span></a><span class="mpre"> </span><a href="#loc_1072_8_1072_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1072_8_1072_9&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_1072_10_1072_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1072_10_1072_11&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="Data.Monoid.html#loc_80_9_80_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_80_9_80_15&#39;)"><span class="hl_varref"><span class="mpre">mempty</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1072_1_1072_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1072_1_1072_7&#39;)"><span class="mpre">scribe</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This is a generalization of &#39;pass&#39; that alows you to modify just a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- portion of the resulting &#39;MonadWriter&#39;.</span></span><span class="mpre">
</span><a href="#loc_1078_1_1078_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1078_1_1078_8&#39;)"><span class="mpre">passing</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1077, srcSpanStartColumn = 12, srcSpanEndLine = 1077, srcSpanEndColumn = 30}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1077, srcSpanStartColumn = 28, srcSpanEndLine = 1077, srcSpanEndColumn = 30}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4"><span class="mpre">MonadWriter w m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Setter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">u</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">v</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">u</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">v</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_1078_1_1078_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1078_1_1078_8&#39;)"><span class="hl_fundecl"><span class="mpre">passing</span></span></a><span class="mpre"> </span><a name="loc_1078_9_1078_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1078_9_1078_10&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1078_11_1078_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1078_11_1078_12&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Writer.Class.html#loc_82_5_82_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Writer.Class.html#loc_82_5_82_9&#39;)"><span class="hl_varref"><span class="mpre">pass</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
  (</span><a name="loc_1079_4_1079_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1079_4_1079_5&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">, </span><a name="loc_1079_7_1079_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1079_7_1079_9&#39;)"><span class="hl_vardecl"><span class="mpre">uv</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_1078_11_1078_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1078_11_1078_12&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_1079_4_1079_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1079_4_1079_5&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_353_1_353_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_1_353_5&#39;)"><span class="hl_varref"><span class="mpre">over</span></span></a><span class="mpre"> </span><a href="#loc_1078_9_1078_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1078_9_1078_10&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_1079_7_1079_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1079_7_1079_9&#39;)"><span class="hl_varref"><span class="mpre">uv</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1078_1_1078_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1078_1_1078_8&#39;)"><span class="mpre">passing</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This is a generalization of &#39;pass&#39; that alows you to modify just a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- portion of the resulting &#39;MonadWriter&#39; with access to the index of an</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;IndexedSetter&#39;.</span></span><span class="mpre">
</span><a href="#loc_1087_1_1087_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1087_1_1087_9&#39;)"><span class="mpre">ipassing</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1086, srcSpanStartColumn = 13, srcSpanEndLine = 1086, srcSpanEndColumn = 31}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1086, srcSpanStartColumn = 29, srcSpanEndLine = 1086, srcSpanEndColumn = 31}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4"><span class="mpre">MonadWriter w m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IndexedSetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">u</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">v</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">u</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">v</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_1087_1_1087_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1087_1_1087_9&#39;)"><span class="hl_fundecl"><span class="mpre">ipassing</span></span></a><span class="mpre"> </span><a name="loc_1087_10_1087_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1087_10_1087_11&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1087_12_1087_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1087_12_1087_13&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Writer.Class.html#loc_82_5_82_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Writer.Class.html#loc_82_5_82_9&#39;)"><span class="hl_varref"><span class="mpre">pass</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
  (</span><a name="loc_1088_4_1088_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1088_4_1088_5&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">, </span><a name="loc_1088_7_1088_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1088_7_1088_9&#39;)"><span class="hl_vardecl"><span class="mpre">uv</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_1087_12_1087_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1087_12_1087_13&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_1088_4_1088_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1088_4_1088_5&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_1125_1_1125_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1125_1_1125_6&#39;)"><span class="hl_varref"><span class="mpre">iover</span></span></a><span class="mpre"> </span><a href="#loc_1087_10_1087_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1087_10_1087_11&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_1088_7_1088_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1088_7_1088_9&#39;)"><span class="hl_varref"><span class="mpre">uv</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1087_1_1087_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1087_1_1087_9&#39;)"><span class="mpre">ipassing</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This is a generalization of &#39;censor&#39; that alows you to &#39;censor&#39; just a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- portion of the resulting &#39;MonadWriter&#39;.</span></span><span class="mpre">
</span><a href="#loc_1095_1_1095_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1095_1_1095_10&#39;)"><span class="mpre">censoring</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1094, srcSpanStartColumn = 14, srcSpanEndLine = 1094, srcSpanEndColumn = 32}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1094, srcSpanStartColumn = 30, srcSpanEndLine = 1094, srcSpanEndColumn = 32}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4"><span class="mpre">MonadWriter w m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Setter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">u</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">v</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">u</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">v</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_1095_1_1095_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1095_1_1095_10&#39;)"><span class="hl_fundecl"><span class="mpre">censoring</span></span></a><span class="mpre"> </span><a name="loc_1095_11_1095_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1095_11_1095_12&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1095_13_1095_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1095_13_1095_15&#39;)"><span class="hl_vardecl"><span class="mpre">uv</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Writer.Class.html#loc_99_1_99_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Writer.Class.html#loc_99_1_99_7&#39;)"><span class="hl_varref"><span class="mpre">censor</span></span></a><span class="mpre"> (</span><a href="#loc_353_1_353_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_1_353_5&#39;)"><span class="hl_varref"><span class="mpre">over</span></span></a><span class="mpre"> </span><a href="#loc_1095_11_1095_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1095_11_1095_12&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_1095_13_1095_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1095_13_1095_15&#39;)"><span class="hl_varref"><span class="mpre">uv</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1095_1_1095_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1095_1_1095_10&#39;)"><span class="mpre">censoring</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This is a generalization of &#39;censor&#39; that alows you to &#39;censor&#39; just a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- portion of the resulting &#39;MonadWriter&#39;, with access to the index of an</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;IndexedSetter&#39;.</span></span><span class="mpre">
</span><a href="#loc_1102_1_1102_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_1_1102_11&#39;)"><span class="mpre">icensoring</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1101, srcSpanStartColumn = 15, srcSpanEndLine = 1101, srcSpanEndColumn = 33}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1101, srcSpanStartColumn = 31, srcSpanEndLine = 1101, srcSpanEndColumn = 33}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4"><span class="mpre">MonadWriter w m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IndexedSetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">w</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">u</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">v</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">u</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">v</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_1102_1_1102_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_1_1102_11&#39;)"><span class="hl_fundecl"><span class="mpre">icensoring</span></span></a><span class="mpre"> </span><a name="loc_1102_12_1102_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_12_1102_13&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1102_14_1102_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_14_1102_16&#39;)"><span class="hl_vardecl"><span class="mpre">uv</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Writer.Class.html#loc_99_1_99_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Writer.Class.html#loc_99_1_99_7&#39;)"><span class="hl_varref"><span class="mpre">censor</span></span></a><span class="mpre"> (</span><a href="#loc_1125_1_1125_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1125_1_1125_6&#39;)"><span class="hl_varref"><span class="mpre">iover</span></span></a><span class="mpre"> </span><a href="#loc_1102_12_1102_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_12_1102_13&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_1102_14_1102_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_14_1102_16&#39;)"><span class="hl_varref"><span class="mpre">uv</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1102_1_1102_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_1_1102_11&#39;)"><span class="mpre">icensoring</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Indexed Setters</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------------------</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Map with index. This is an alias for &#39;imapOf&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need access to the index, then &#39;over&#39; is more liberal in what it can accept.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;over&#39; l ≡ &#39;iover&#39; l &#39;.&#39; &#39;const&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;iover&#39; l ≡ &#39;over&#39; l &#39;.&#39; &#39;Indexed&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;iover&#39; :: &#39;IndexedSetter&#39; i s t a b    -&gt; (i -&gt; a -&gt; b) -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;iover&#39; :: &#39;IndexedLens&#39; i s t a b      -&gt; (i -&gt; a -&gt; b) -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;iover&#39; :: &#39;IndexedTraversal&#39; i s t a b -&gt; (i -&gt; a -&gt; b) -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1125_1_1125_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1125_1_1125_6&#39;)"><span class="mpre">iover</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">AnIndexedSetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_1125_1_1125_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1125_1_1125_6&#39;)"><span class="hl_fundecl"><span class="mpre">iover</span></span></a><span class="mpre"> </span><a name="loc_1125_7_1125_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1125_7_1125_8&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> = </span><a href="#loc_353_1_353_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_1_353_5&#39;)"><span class="hl_varref"><span class="mpre">over</span></span></a><span class="mpre"> </span><a href="#loc_1125_7_1125_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1125_7_1125_8&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.#</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Indexed</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1125_1_1125_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1125_1_1125_6&#39;)"><span class="mpre">iover</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Build an &#39;IndexedSetter&#39; from an &#39;Control.Lens.Indexed.imap&#39;-like function.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Your supplied function @f@ is required to satisfy:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- f &#39;id&#39; ≡ &#39;id&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- f g &#39;.&#39; f h ≡ f (g &#39;.&#39; h)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Equational reasoning:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;isets&#39; &#39;.&#39; &#39;iover&#39; ≡ &#39;id&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;iover&#39; &#39;.&#39; &#39;isets&#39; ≡ &#39;id&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Another way to view &#39;sets&#39; is that it takes a \&quot;semantic editor combinator\&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and transforms it into a &#39;Setter&#39;.</span></span><span class="mpre">
</span><a href="#loc_1147_1_1147_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1147_1_1147_6&#39;)"><span class="mpre">isets</span></a><span class="mpre"> :: ((</span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">IndexedSetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_1147_1_1147_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1147_1_1147_6&#39;)"><span class="hl_fundecl"><span class="mpre">isets</span></span></a><span class="mpre"> </span><a name="loc_1147_7_1147_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1147_7_1147_8&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_289_1_289_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_1_289_5&#39;)"><span class="hl_varref"><span class="mpre">sets</span></span></a><span class="mpre"> (</span><a href="#loc_1147_7_1147_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1147_7_1147_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Lens.Internal.Indexed.html#loc_98_3_98_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Internal.Indexed.html#loc_98_3_98_10&#39;)"><span class="hl_varref"><span class="mpre">indexed</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1147_1_1147_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1147_1_1147_6&#39;)"><span class="mpre">isets</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Adjust every target of an &#39;IndexedSetter&#39;, &#39;IndexedLens&#39; or &#39;IndexedTraversal&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- with access to the index.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%@~&#39;) ≡ &#39;imapOf&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need access to the index then (&#39;%@~&#39;) is more liberal in what it can accept.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- l &#39;%~&#39; f ≡ l &#39;%@~&#39; &#39;const&#39; f</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%@~&#39;) :: &#39;IndexedSetter&#39; i s t a b    -&gt; (i -&gt; a -&gt; b) -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%@~&#39;) :: &#39;IndexedLens&#39; i s t a b      -&gt; (i -&gt; a -&gt; b) -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%@~&#39;) :: &#39;IndexedTraversal&#39; i s t a b -&gt; (i -&gt; a -&gt; b) -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1169_3_1169_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1169_3_1169_6&#39;)"><span class="mpre">(%@~)</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">AnIndexedSetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_1169_1_1169_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1169_1_1169_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1169_3_1169_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1169_3_1169_6&#39;)"><span class="hl_fundecl"><span class="mpre">%@~</span></span></a><span class="mpre"> </span><a name="loc_1169_7_1169_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1169_7_1169_8&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_1169_1_1169_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1169_1_1169_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_444_1_444_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_444_1_444_5&#39;)"><span class="hl_infix"><span class="mpre">%~</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Indexed</span></span><span class="mpre"> </span><a href="#loc_1169_7_1169_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1169_7_1169_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1169_3_1169_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1169_3_1169_6&#39;)"><span class="mpre">(%@~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Adjust every target in the current state of an &#39;IndexedSetter&#39;, &#39;IndexedLens&#39; or &#39;IndexedTraversal&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- with access to the index.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need access to the index then (&#39;%=&#39;) is more liberal in what it can accept.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- l &#39;%=&#39; f ≡ l &#39;%@=&#39; &#39;const&#39; f</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%@=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;IndexedSetter&#39; i s s a b    -&gt; (i -&gt; a -&gt; b) -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%@=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;IndexedLens&#39; i s s a b      -&gt; (i -&gt; a -&gt; b) -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%@=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;IndexedTraversal&#39; i s t a b -&gt; (i -&gt; a -&gt; b) -&gt; m ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1187_3_1187_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1187_3_1187_6&#39;)"><span class="mpre">(%@=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1186, srcSpanStartColumn = 10, srcSpanEndLine = 1186, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1186, srcSpanStartColumn = 25, srcSpanEndLine = 1186, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">AnIndexedSetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_1187_1_1187_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1187_1_1187_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1187_3_1187_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1187_3_1187_6&#39;)"><span class="hl_fundecl"><span class="mpre">%@=</span></span></a><span class="mpre"> </span><a name="loc_1187_7_1187_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1187_7_1187_8&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">State.modify</span></span></a><span class="mpre"> (</span><a href="#loc_1187_1_1187_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1187_1_1187_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_1169_3_1169_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1169_3_1169_6&#39;)"><span class="hl_infix"><span class="mpre">%@~</span></span></a><span class="mpre"> </span><a href="#loc_1187_7_1187_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1187_7_1187_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1187_3_1187_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1187_3_1187_6&#39;)"><span class="mpre">(%@=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Arrows</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Run an arrow command and use the output to set all the targets of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- a &#39;Lens&#39;, &#39;Setter&#39; or &#39;Traversal&#39; to the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;assignA&#39; can be used very similarly to (&#39;&lt;~&#39;), except that the type of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the object being modified can change; for example:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- runKleisli action ((), (), ()) where</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   action =      assignA _1 (Kleisli (const getVal1))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--            \&gt;&gt;&gt; assignA _2 (Kleisli (const getVal2))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--            \&gt;&gt;&gt; assignA _3 (Kleisli (const getVal3))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   getVal1 :: Either String Int</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   getVal1 = ...</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   getVal2 :: Either String Bool</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   getVal2 = ...</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   getVal3 :: Either String Char</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   getVal3 = ...</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- has the type @&#39;Either&#39; &#39;String&#39; (&#39;Int&#39;, &#39;Bool&#39;, &#39;Char&#39;)@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;assignA&#39; :: &#39;Arrow&#39; p =&gt; &#39;Iso&#39; s t a b       -&gt; p s b -&gt; p s t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;assignA&#39; :: &#39;Arrow&#39; p =&gt; &#39;Lens&#39; s t a b      -&gt; p s b -&gt; p s t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;assignA&#39; :: &#39;Arrow&#39; p =&gt; &#39;Traversal&#39; s t a b -&gt; p s b -&gt; p s t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;assignA&#39; :: &#39;Arrow&#39; p =&gt; &#39;Setter&#39; s t a b    -&gt; p s b -&gt; p s t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1222_1_1222_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1222_1_1222_8&#39;)"><span class="mpre">assignA</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1221, srcSpanStartColumn = 12, srcSpanEndLine = 1221, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1221, srcSpanStartColumn = 20, srcSpanEndLine = 1221, srcSpanEndColumn = 22}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4"><span class="mpre">Arrow p =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ASetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_1222_1_1222_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1222_1_1222_8&#39;)"><span class="hl_fundecl"><span class="mpre">assignA</span></span></a><span class="mpre"> </span><a name="loc_1222_9_1222_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1222_9_1222_10&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1222_11_1222_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1222_11_1222_12&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = </span><a href="Control.Arrow.html#loc_86_5_86_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Arrow.html#loc_86_5_86_8&#39;)"><span class="hl_varref"><span class="mpre">arr</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">flip</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_379_1_379_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_379_1_379_4&#39;)"><span class="hl_varref"><span class="mpre">set</span></span></a><span class="mpre"> </span><a href="#loc_1222_9_1222_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1222_9_1222_10&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">) </span><a href="Control.Arrow.html#loc_115_5_115_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Arrow.html#loc_115_5_115_10&#39;)"><span class="hl_infix"><span class="mpre">&amp;&amp;&amp;</span></span></a><span class="mpre"> </span><a href="#loc_1222_11_1222_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1222_11_1222_12&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="Control.Category.html#loc_66_3_66_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Category.html#loc_66_3_66_6&#39;)"><span class="hl_infix"><span class="mpre">&gt;&gt;&gt;</span></span></a><span class="mpre"> </span><a href="Control.Arrow.html#loc_86_5_86_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Arrow.html#loc_86_5_86_8&#39;)"><span class="hl_varref"><span class="mpre">arr</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">uncurry</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1222_1_1222_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1222_1_1222_8&#39;)"><span class="mpre">assignA</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Deprecated</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | &#39;mapOf&#39; is a deprecated alias for &#39;over&#39;.</span></span><span class="mpre">
</span><a href="#loc_1231_1_1231_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1231_1_1231_6&#39;)"><span class="mpre">mapOf</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1230, srcSpanStartColumn = 10, srcSpanEndLine = 1230, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1230, srcSpanStartColumn = 23, srcSpanEndLine = 1230, srcSpanEndColumn = 25}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4"><span class="mpre">Profunctor p =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Setting</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_1231_1_1231_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1231_1_1231_6&#39;)"><span class="hl_vardecl"><span class="mpre">mapOf</span></span></a><span class="mpre"> = </span><a href="#loc_353_1_353_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_353_1_353_5&#39;)"><span class="hl_varref"><span class="mpre">over</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1231_1_1231_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1231_1_1231_6&#39;)"><span class="mpre">mapOf</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclDeprPragmaDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1233, srcSpanStartColumn = 1, srcSpanEndLine = 1233, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1233, srcSpanStartColumn = 1, srcSpanEndLine = 1233, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, src"><span class="mpre">{-# DEPRECATED mapOf &quot;Use `over`&quot; #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Map with index. (Deprecated alias for &#39;iover&#39;).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need access to the index, then &#39;mapOf&#39; is more liberal in what it can accept.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;mapOf&#39; l ≡ &#39;imapOf&#39; l &#39;.&#39; &#39;const&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;imapOf&#39; :: &#39;IndexedSetter&#39; i s t a b    -&gt; (i -&gt; a -&gt; b) -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;imapOf&#39; :: &#39;IndexedLens&#39; i s t a b      -&gt; (i -&gt; a -&gt; b) -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;imapOf&#39; :: &#39;IndexedTraversal&#39; i s t a b -&gt; (i -&gt; a -&gt; b) -&gt; s -&gt; t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1249_1_1249_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1249_1_1249_7&#39;)"><span class="mpre">imapOf</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">AnIndexedSetter</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_1249_1_1249_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1249_1_1249_7&#39;)"><span class="hl_vardecl"><span class="mpre">imapOf</span></span></a><span class="mpre"> = </span><a href="#loc_1125_1_1125_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1125_1_1125_6&#39;)"><span class="hl_varref"><span class="mpre">iover</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1249_1_1249_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1249_1_1249_7&#39;)"><span class="mpre">imapOf</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclDeprPragmaDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1251, srcSpanStartColumn = 1, srcSpanEndLine = 1251, srcSpanEndColumn = 40}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, srcSpanStartLine = 1251, srcSpanStartColumn = 1, srcSpanEndLine = 1251, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Setter.hs&quot;, src"><span class="mpre">{-# DEPRECATED imapOf &quot;Use `iover`&quot; #-}</span></span><span class="mpre">
</span></div></body></html>