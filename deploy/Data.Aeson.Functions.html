<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module:      Data.Aeson.Functions</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright:   (c) 2011, 2012 Bryan O&#39;Sullivan</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--              (c) 2011 MailRank, Inc.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License:     Apache</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer:  Bryan O&#39;Sullivan &lt;bos@serpentine.com&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability:   experimental</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability: portable</span></span><span class="mpre">

module Data.Aeson.Functions
    ( mapHashKeyVal
    , hashMapKey
    , mapKeyVal
    , mapKey
    ) where

import Data.Hashable (Hashable)
import qualified Data.HashMap.Strict as H
import qualified Data.Map as M

</span><span class="hl_comment"><span class="mpre">-- | Transform a &#39;M.Map&#39; into a &#39;H.HashMap&#39; while transforming the keys.</span></span><span class="mpre">
</span><a href="#loc_24_1_24_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_1_24_14&#39;)"><span class="mpre">mapHashKeyVal</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/aeson-0.7.0.6/Data/Aeson/Functions.hs&quot;, srcSpanStartLine = 22, srcSpanStartColumn = 18, srcSpanEndLine = 22, srcSpanEndColumn = 41}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/aeson-0.7.0.6/Data/Aeson/Functions.hs&quot;, srcSpanStartLine = 22, srcSpanStartColumn = 18, srcSpanEndLine = 22, srcSpanEndColumn = 19},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/aeson-0.7.0.6/Data/Aeson/Functions.hs&quot;, srcSpanSta"><span class="mpre">(Eq k2, Hashable k2) =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">k1</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">k2</span></span><span class="mpre">) -&gt; (</span><span class="hl_tyvar"><span class="mpre">v1</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">v2</span></span><span class="mpre">)
              -&gt; </span><span class="hl_tyconref"><span class="mpre">M.Map</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">k1</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">v1</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">H.HashMap</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">k2</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">v2</span></span><span class="mpre">
</span><a name="loc_24_1_24_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_1_24_14&#39;)"><span class="hl_fundecl"><span class="mpre">mapHashKeyVal</span></span></a><span class="mpre"> </span><a name="loc_24_15_24_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_15_24_17&#39;)"><span class="hl_vardecl"><span class="mpre">fk</span></span></a><span class="mpre"> </span><a name="loc_24_18_24_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_18_24_20&#39;)"><span class="hl_vardecl"><span class="mpre">kv</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">M.foldrWithKey</span></span><span class="mpre"> (\</span><a name="loc_24_40_24_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_40_24_41&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> </span><a name="loc_24_42_24_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_42_24_43&#39;)"><span class="hl_vardecl"><span class="mpre">v</span></span></a><span class="mpre"> -&gt; </span><a href="Data.HashMap.Strict.html#loc_122_1_122_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.HashMap.Strict.html#loc_122_1_122_7&#39;)"><span class="hl_varref"><span class="mpre">H.insert</span></span></a><span class="mpre"> (</span><a href="#loc_24_15_24_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_15_24_17&#39;)"><span class="hl_varref"><span class="mpre">fk</span></span></a><span class="mpre"> </span><a href="#loc_24_40_24_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_40_24_41&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">) (</span><a href="#loc_24_18_24_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_18_24_20&#39;)"><span class="hl_varref"><span class="mpre">kv</span></span></a><span class="mpre"> </span><a href="#loc_24_42_24_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_42_24_43&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre">)) </span><span class="hl_varref"><span class="mpre">H.empty</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_24_1_24_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_1_24_14&#39;)"><span class="mpre">mapHashKeyVal</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Transform a &#39;M.Map&#39; into a &#39;H.HashMap&#39; while transforming the keys.</span></span><span class="mpre">
</span><a href="#loc_30_1_30_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_1_30_11&#39;)"><span class="mpre">hashMapKey</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxParen (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/aeson-0.7.0.6/Data/Aeson/Functions.hs&quot;, srcSpanStartLine = 28, srcSpanStartColumn = 15, srcSpanEndLine = 28, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/aeson-0.7.0.6/Data/Aeson/Functions.hs&quot;, srcSpanStartLine = 28, srcSpanStartColumn = 15, srcSpanEndLine = 28, srcSpanEndColumn = 16},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/aeson-0.7.0.6/Data/Aeson/Functions.hs&quot;, srcSpanSta"><span class="mpre">(Ord k2) =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">k1</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">k2</span></span><span class="mpre">)
           -&gt; </span><span class="hl_tyconref"><span class="mpre">H.HashMap</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">k1</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">v</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">M.Map</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">k2</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">v</span></span><span class="mpre">
</span><a name="loc_30_1_30_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_1_30_11&#39;)"><span class="hl_fundecl"><span class="mpre">hashMapKey</span></span></a><span class="mpre"> </span><a name="loc_30_12_30_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_12_30_14&#39;)"><span class="hl_vardecl"><span class="mpre">kv</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">H.foldrWithKey</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">M.insert</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_30_12_30_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_12_30_14&#39;)"><span class="hl_varref"><span class="mpre">kv</span></span></a><span class="mpre">) </span><span class="hl_varref"><span class="mpre">M.empty</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_30_1_30_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_1_30_11&#39;)"><span class="mpre">hashMapKey</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Transform the keys and values of a &#39;H.HashMap&#39;.</span></span><span class="mpre">
</span><a href="#loc_36_1_36_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_1_36_10&#39;)"><span class="mpre">mapKeyVal</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/aeson-0.7.0.6/Data/Aeson/Functions.hs&quot;, srcSpanStartLine = 34, srcSpanStartColumn = 14, srcSpanEndLine = 34, srcSpanEndColumn = 37}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/aeson-0.7.0.6/Data/Aeson/Functions.hs&quot;, srcSpanStartLine = 34, srcSpanStartColumn = 14, srcSpanEndLine = 34, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/aeson-0.7.0.6/Data/Aeson/Functions.hs&quot;, srcSpanSta"><span class="mpre">(Eq k2, Hashable k2) =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">k1</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">k2</span></span><span class="mpre">) -&gt; (</span><span class="hl_tyvar"><span class="mpre">v1</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">v2</span></span><span class="mpre">)
          -&gt; </span><span class="hl_tyconref"><span class="mpre">H.HashMap</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">k1</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">v1</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">H.HashMap</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">k2</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">v2</span></span><span class="mpre">
</span><a name="loc_36_1_36_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_1_36_10&#39;)"><span class="hl_fundecl"><span class="mpre">mapKeyVal</span></span></a><span class="mpre"> </span><a name="loc_36_11_36_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_11_36_13&#39;)"><span class="hl_vardecl"><span class="mpre">fk</span></span></a><span class="mpre"> </span><a name="loc_36_14_36_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_14_36_16&#39;)"><span class="hl_vardecl"><span class="mpre">kv</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">H.foldrWithKey</span></span><span class="mpre"> (\</span><a name="loc_36_36_36_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_36_36_37&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> </span><a name="loc_36_38_36_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_38_36_39&#39;)"><span class="hl_vardecl"><span class="mpre">v</span></span></a><span class="mpre"> -&gt; </span><a href="Data.HashMap.Strict.html#loc_122_1_122_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.HashMap.Strict.html#loc_122_1_122_7&#39;)"><span class="hl_varref"><span class="mpre">H.insert</span></span></a><span class="mpre"> (</span><a href="#loc_36_11_36_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_11_36_13&#39;)"><span class="hl_varref"><span class="mpre">fk</span></span></a><span class="mpre"> </span><a href="#loc_36_36_36_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_36_36_37&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">) (</span><a href="#loc_36_14_36_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_14_36_16&#39;)"><span class="hl_varref"><span class="mpre">kv</span></span></a><span class="mpre"> </span><a href="#loc_36_38_36_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_38_36_39&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre">)) </span><span class="hl_varref"><span class="mpre">H.empty</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_36_1_36_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_1_36_10&#39;)"><span class="mpre">mapKeyVal</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Transform the keys of a &#39;H.HashMap&#39;.</span></span><span class="mpre">
</span><a href="#loc_41_1_41_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_1_41_7&#39;)"><span class="mpre">mapKey</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/aeson-0.7.0.6/Data/Aeson/Functions.hs&quot;, srcSpanStartLine = 40, srcSpanStartColumn = 11, srcSpanEndLine = 40, srcSpanEndColumn = 34}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/aeson-0.7.0.6/Data/Aeson/Functions.hs&quot;, srcSpanStartLine = 40, srcSpanStartColumn = 11, srcSpanEndLine = 40, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/aeson-0.7.0.6/Data/Aeson/Functions.hs&quot;, srcSpanSta"><span class="mpre">(Eq k2, Hashable k2) =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">k1</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">k2</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">H.HashMap</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">k1</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">v</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">H.HashMap</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">k2</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">v</span></span><span class="mpre">
</span><a name="loc_41_1_41_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_1_41_7&#39;)"><span class="hl_fundecl"><span class="mpre">mapKey</span></span></a><span class="mpre"> </span><a name="loc_41_8_41_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_8_41_10&#39;)"><span class="hl_vardecl"><span class="mpre">fk</span></span></a><span class="mpre"> = </span><a href="#loc_36_1_36_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_1_36_10&#39;)"><span class="hl_varref"><span class="mpre">mapKeyVal</span></span></a><span class="mpre"> </span><a href="#loc_41_8_41_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_8_41_10&#39;)"><span class="hl_varref"><span class="mpre">fk</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_41_1_41_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_1_41_7&#39;)"><span class="mpre">mapKey</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span></div></body></html>