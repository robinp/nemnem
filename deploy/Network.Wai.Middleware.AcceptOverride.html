<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE OverloadedStrings #-}

module Network.Wai.Middleware.AcceptOverride
    ( acceptOverride
    ) where

import Network.Wai
import Control.Monad (</span><a href="Control.Monad.html#loc_204_1_204_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_204_1_204_5&#39;)"><span class="mpre">join</span></a><span class="mpre">)
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-extra-3.0.0.1/Network/Wai/Middleware/AcceptOverride.hs&quot;, srcSpanStartLine = 9, srcSpanStartColumn = 8, srcSpanEndLine = 9, srcSpanEndColumn = 23}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> (ByteString)

</span><a href="#loc_12_1_12_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_12_1_12_15&#39;)"><span class="mpre">acceptOverride</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Middleware</span></span><span class="mpre">
</span><a name="loc_12_1_12_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_12_1_12_15&#39;)"><span class="hl_fundecl"><span class="mpre">acceptOverride</span></span></a><span class="mpre"> </span><a name="loc_12_16_12_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_12_16_12_19&#39;)"><span class="hl_vardecl"><span class="mpre">app</span></span></a><span class="mpre"> </span><a name="loc_12_20_12_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_12_20_12_23&#39;)"><span class="hl_vardecl"><span class="mpre">req</span></span></a><span class="mpre"> =
    </span><a href="#loc_12_16_12_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_12_16_12_19&#39;)"><span class="hl_varref"><span class="mpre">app</span></span></a><span class="mpre"> </span><a href="#loc_15_5_15_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_15_5_15_9&#39;)"><span class="hl_varref"><span class="mpre">req&#39;</span></span></a><span class="mpre">
  where
    </span><a name="loc_15_5_15_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_15_5_15_9&#39;)"><span class="hl_vardecl"><span class="mpre">req&#39;</span></span></a><span class="mpre"> =
        case </span><a href="Control.Monad.html#loc_204_1_204_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_204_1_204_5&#39;)"><span class="hl_varref"><span class="mpre">join</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">lookup</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;_accept&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Network.Wai.Internal.html#loc_52_6_52_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_52_6_52_17&#39;)"><span class="hl_varref"><span class="mpre">queryString</span></span></a><span class="mpre"> </span><a href="#loc_12_20_12_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_12_20_12_23&#39;)"><span class="hl_varref"><span class="mpre">req</span></span></a><span class="mpre"> of
            </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; </span><a href="#loc_12_20_12_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_12_20_12_23&#39;)"><span class="hl_varref"><span class="mpre">req</span></span></a><span class="mpre">
            </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-extra-3.0.0.1/Network/Wai/Middleware/AcceptOverride.hs&quot;, srcSpanStartLine = 18, srcSpanStartColumn = 23, srcSpanEndLine = 18, srcSpanEndColumn = 88}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-extra-3.0.0.1/Network/Wai/Middleware/AcceptOverride.hs&quot;, srcSpanStartLine = 18, srcSpanStartColumn = 27, srcSpanEndLine = 18, srcSpanEndColumn = 28},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-ex"><span class="mpre">req { requestHeaders = changeVal &quot;Accept&quot; a $ requestHeaders req}</span></span><span class="mpre">

</span><a href="#loc_25_1_25_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_1_25_10&#39;)"><span class="mpre">changeVal</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-extra-3.0.0.1/Network/Wai/Middleware/AcceptOverride.hs&quot;, srcSpanStartLine = 20, srcSpanStartColumn = 14, srcSpanEndLine = 21, srcSpanEndColumn = 13}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/wai-extra-3.0.0.1/Network/Wai/Middleware/AcceptOverride.hs&quot;, srcSpanStartLine = 21, srcSpanStartColumn = 11, srcSpanEndLine = 21, srcSpanEndColumn = 13}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilena"><span class="mpre">Eq a
          =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
          -&gt; </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre">
          -&gt; [(</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre">)]
          -&gt; [(</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">ByteString</span></span><span class="mpre">)]
</span><a name="loc_25_1_25_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_1_25_10&#39;)"><span class="hl_fundecl"><span class="mpre">changeVal</span></span></a><span class="mpre"> </span><a name="loc_25_11_25_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_11_25_14&#39;)"><span class="hl_vardecl"><span class="mpre">key</span></span></a><span class="mpre"> </span><a name="loc_25_15_25_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_15_25_18&#39;)"><span class="hl_vardecl"><span class="mpre">val</span></span></a><span class="mpre"> </span><a name="loc_25_19_25_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_19_25_22&#39;)"><span class="hl_vardecl"><span class="mpre">old</span></span></a><span class="mpre"> = (</span><a href="#loc_25_11_25_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_11_25_14&#39;)"><span class="hl_varref"><span class="mpre">key</span></span></a><span class="mpre">, </span><a href="#loc_25_15_25_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_15_25_18&#39;)"><span class="hl_varref"><span class="mpre">val</span></span></a><span class="mpre">)
                      </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">filter</span></span><span class="mpre"> (\(</span><a name="loc_26_35_26_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_35_26_36&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre">, _) -&gt; </span><a href="#loc_26_35_26_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_35_26_36&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">/=</span></span><span class="mpre"> </span><a href="#loc_25_11_25_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_11_25_14&#39;)"><span class="hl_varref"><span class="mpre">key</span></span></a><span class="mpre">) </span><a href="#loc_25_19_25_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_19_25_22&#39;)"><span class="hl_varref"><span class="mpre">old</span></span></a><span class="mpre">
</span></div></body></html>