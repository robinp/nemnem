<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE BangPatterns, FlexibleInstances, GADTs, OverloadedStrings,
    Rank2Types, RecordWildCards, TypeFamilies, TypeSynonymInstances #-}
{-# OPTIONS_GHC -fno-warn-orphans #-}
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Data.Attoparsec.Text.Internal</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  Bryan O&#39;Sullivan 2007-2014</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  BSD3</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  bos@serpentine.com</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  experimental</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  unknown</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Simple, efficient parser combinators for &#39;Text&#39; strings, loosely</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- based on the Parsec library.</span></span><span class="mpre">

module Data.Attoparsec.Text.Internal
    (
    </span><span class="hl_comment"><span class="mpre">-- * Parser types</span></span><span class="mpre">
      Parser
    , Result

    </span><span class="hl_comment"><span class="mpre">-- * Running parsers</span></span><span class="mpre">
    , parse
    , parseOnly

    </span><span class="hl_comment"><span class="mpre">-- * Combinators</span></span><span class="mpre">
    , module Data.Attoparsec.Combinator

    </span><span class="hl_comment"><span class="mpre">-- * Parsing individual characters</span></span><span class="mpre">
    , satisfy
    , satisfyWith
    , anyChar
    , skip
    , char
    , notChar

    </span><span class="hl_comment"><span class="mpre">-- ** Lookahead</span></span><span class="mpre">
    , peekChar
    , peekChar&#39;

    </span><span class="hl_comment"><span class="mpre">-- ** Character classes</span></span><span class="mpre">
    , inClass
    , notInClass

    </span><span class="hl_comment"><span class="mpre">-- * Efficient string handling</span></span><span class="mpre">
    , skipWhile
    , string
    , stringCI
    , asciiCI
    , take
    , scan
    , runScanner
    , takeWhile
    , takeWhile1
    , takeTill

    </span><span class="hl_comment"><span class="mpre">-- ** Consume all remaining input</span></span><span class="mpre">
    , takeText
    , takeLazyText

    </span><span class="hl_comment"><span class="mpre">-- * Utilities</span></span><span class="mpre">
    , endOfLine
    , endOfInput
    , match
    , atEnd
    ) where

import Control.Applicative (</span><a href="Control.Applicative.html#loc_142_5_142_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_142_5_142_10&#39;)"><span class="mpre">(&lt;|&gt;)</span></a><span class="mpre">, </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="mpre">(&lt;$&gt;)</span></a><span class="mpre">)
import Control.Monad (</span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="mpre">when</span></a><span class="mpre">)
import Data.Attoparsec.Combinator (</span><a href="Data.Attoparsec.Combinator.html#loc_62_3_62_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Combinator.html#loc_62_3_62_6&#39;)"><span class="mpre">(&lt;?&gt;)</span></a><span class="mpre">)
import Data.Attoparsec.Internal
import Data.Attoparsec.Internal.Types hiding (</span><a href="Data.Attoparsec.Internal.Types.html#loc_104_9_104_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_104_9_104_15&#39;)"><span class="mpre">Parser</span></a><span class="mpre">, Failure, Success)
import qualified Data.Attoparsec.Text.Buffer as Buf
import Data.Attoparsec.Text.Buffer (</span><a href="Data.Attoparsec.Text.Buffer.html#loc_54_6_54_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Text.Buffer.html#loc_54_6_54_12&#39;)"><span class="mpre">Buffer</span></a><span class="mpre">, </span><a href="Data.Attoparsec.Text.Buffer.html#loc_69_1_69_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Text.Buffer.html#loc_69_1_69_7&#39;)"><span class="mpre">buffer</span></a><span class="mpre">)
import Data.Char (</span><a href="GHC.Char.html#loc_11_1_11_4" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Char.html#loc_11_1_11_4&#39;)"><span class="mpre">chr</span></a><span class="mpre">, ord)
import Data.String (</span><a href="Data.String.html#loc_34_7_34_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.String.html#loc_34_7_34_15&#39;)"><span class="mpre">IsString</span></a><span class="mpre">(..))
import Data.Text.Internal (</span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="mpre">Text</span></a><span class="mpre">(..))
import Prelude hiding (getChar, length, succ, take, takeWhile)
import qualified Data.Attoparsec.Internal.Types as T
import qualified Data.Attoparsec.Text.FastSet as Set
import qualified Data.Text as T
import qualified Data.Text.Lazy as L
import qualified Data.Text.Unsafe as T

</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/attoparsec-0.12.1.0/Data/Attoparsec/Text/Internal.hs&quot;, srcSpanStartLine = 85, srcSpanStartColumn = 1, srcSpanEndLine = 85, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/attoparsec-0.12.1.0/Data/Attoparsec/Text/Internal.hs&quot;, srcSpanStartLine = 85, srcSpanStartColumn = 1, srcSpanEndLine = 85, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/attoparsec-0.12.1.0/Da"><span class="mpre">type Parser = T.Parser Text</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/attoparsec-0.12.1.0/Data/Attoparsec/Text/Internal.hs&quot;, srcSpanStartLine = 86, srcSpanStartColumn = 1, srcSpanEndLine = 86, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/attoparsec-0.12.1.0/Data/Attoparsec/Text/Internal.hs&quot;, srcSpanStartLine = 86, srcSpanStartColumn = 1, srcSpanEndLine = 86, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/attoparsec-0.12.1.0/Da"><span class="mpre">type Result = IResult Text</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/attoparsec-0.12.1.0/Data/Attoparsec/Text/Internal.hs&quot;, srcSpanStartLine = 87, srcSpanStartColumn = 1, srcSpanEndLine = 87, srcSpanEndColumn = 41}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/attoparsec-0.12.1.0/Data/Attoparsec/Text/Internal.hs&quot;, srcSpanStartLine = 87, srcSpanStartColumn = 1, srcSpanEndLine = 87, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/attoparsec-0.12.1.0/Da"><span class="mpre">type Failure r = T.Failure Text Buffer r</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/attoparsec-0.12.1.0/Data/Attoparsec/Text/Internal.hs&quot;, srcSpanStartLine = 88, srcSpanStartColumn = 1, srcSpanEndLine = 88, srcSpanEndColumn = 45}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/attoparsec-0.12.1.0/Data/Attoparsec/Text/Internal.hs&quot;, srcSpanStartLine = 88, srcSpanStartColumn = 1, srcSpanEndLine = 88, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/attoparsec-0.12.1.0/Da"><span class="mpre">type Success a r = T.Success Text Buffer a r</span></span><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxParen (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/attoparsec-0.12.1.0/Data/Attoparsec/Text/Internal.hs&quot;, srcSpanStartLine = 90, srcSpanStartColumn = 10, srcSpanEndLine = 90, srcSpanEndColumn = 23}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/attoparsec-0.12.1.0/Data/Attoparsec/Text/Internal.hs&quot;, srcSpanStartLine = 90, srcSpanStartColumn = 10, srcSpanEndLine = 90, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/attoparsec-0.12.1.0/"><span class="mpre">(a ~ Text) =&gt;</span></span><span class="mpre"> </span><a href="Data.String.html#loc_34_7_34_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.String.html#loc_34_7_34_15&#39;)"><span class="hl_classref"><span class="mpre">IsString</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) where
    </span><a href="Data.String.html#loc_35_5_35_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.String.html#loc_35_5_35_15&#39;)"><span class="hl_vardecl"><span class="mpre">fromString</span></span></a><span class="mpre"> = </span><a href="#loc_162_1_162_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_1_162_7&#39;)"><span class="hl_varref"><span class="mpre">string</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Text.html#loc_387_1_387_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_387_1_387_5&#39;)"><span class="hl_varref"><span class="mpre">T.pack</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The parser @satisfy p@ succeeds for any character for which the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- predicate @p@ returns &#39;True&#39;. Returns the character that is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- actually parsed.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;digit = satisfy isDigit</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;    where isDigit c = c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39;</span></span><span class="mpre">
</span><a href="#loc_100_1_100_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_1_100_8&#39;)"><span class="mpre">satisfy</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_100_1_100_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_1_100_8&#39;)"><span class="hl_fundecl"><span class="mpre">satisfy</span></span></a><span class="mpre"> </span><a name="loc_100_9_100_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_9_100_10&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = do
  (</span><a name="loc_101_4_101_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_4_101_5&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre">,</span><a name="loc_101_6_101_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_6_101_7&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_474_1_474_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_1_474_7&#39;)"><span class="hl_varref"><span class="mpre">ensure</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">
  let !</span><a name="loc_102_8_102_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_8_102_9&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> = </span><a href="Data.Text.Unsafe.html#loc_43_1_43_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_43_1_43_11&#39;)"><span class="hl_varref"><span class="mpre">T.unsafeHead</span></span></a><span class="mpre"> </span><a href="#loc_101_6_101_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_6_101_7&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
  if </span><a href="#loc_100_9_100_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_9_100_10&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_102_8_102_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_8_102_9&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">
    then </span><a href="#loc_458_1_458_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_1_458_8&#39;)"><span class="hl_varref"><span class="mpre">advance</span></span></a><span class="mpre"> </span><a href="#loc_101_4_101_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_4_101_5&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_102_8_102_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_8_102_9&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">
    else </span><span class="hl_varref"><span class="mpre">fail</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;satisfy&quot;</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_100_1_100_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_1_100_8&#39;)"><span class="mpre">satisfy</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The parser @skip p@ succeeds for any character for which the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- predicate @p@ returns &#39;True&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;skipDigit = skip isDigit</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;    where isDigit c = c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39;</span></span><span class="mpre">
</span><a href="#loc_114_1_114_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_1_114_5&#39;)"><span class="mpre">skip</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_114_1_114_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_1_114_5&#39;)"><span class="hl_fundecl"><span class="mpre">skip</span></span></a><span class="mpre"> </span><a name="loc_114_6_114_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_6_114_7&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = do
  (</span><a name="loc_115_4_115_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_4_115_5&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre">,</span><a name="loc_115_6_115_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_6_115_7&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_474_1_474_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_1_474_7&#39;)"><span class="hl_varref"><span class="mpre">ensure</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">
  if </span><a href="#loc_114_6_114_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_6_114_7&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> (</span><a href="Data.Text.Unsafe.html#loc_43_1_43_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_43_1_43_11&#39;)"><span class="hl_varref"><span class="mpre">T.unsafeHead</span></span></a><span class="mpre"> </span><a href="#loc_115_6_115_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_6_115_7&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
    then </span><a href="#loc_458_1_458_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_1_458_8&#39;)"><span class="hl_varref"><span class="mpre">advance</span></span></a><span class="mpre"> </span><a href="#loc_115_4_115_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_4_115_5&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">
    else </span><span class="hl_varref"><span class="mpre">fail</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;skip&quot;</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The parser @satisfyWith f p@ transforms a character, and succeeds</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- if the predicate @p@ returns &#39;True&#39; on the transformed value. The</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- parser returns the transformed character that was parsed.</span></span><span class="mpre">
</span><a href="#loc_124_1_124_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_1_124_12&#39;)"><span class="mpre">satisfyWith</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_124_1_124_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_1_124_12&#39;)"><span class="hl_fundecl"><span class="mpre">satisfyWith</span></span></a><span class="mpre"> </span><a name="loc_124_13_124_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_13_124_14&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_124_15_124_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_15_124_16&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = do
  (</span><a name="loc_125_4_125_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_4_125_5&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre">,</span><a name="loc_125_6_125_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_6_125_7&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_474_1_474_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_1_474_7&#39;)"><span class="hl_varref"><span class="mpre">ensure</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">
  let </span><a name="loc_126_7_126_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_7_126_8&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = </span><a href="#loc_124_13_124_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_13_124_14&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="Prelude.html#loc_160_3_160_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Prelude.html#loc_160_3_160_5&#39;)"><span class="hl_infix"><span class="mpre">$!</span></span></a><span class="mpre"> </span><a href="Data.Text.Unsafe.html#loc_43_1_43_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_43_1_43_11&#39;)"><span class="hl_varref"><span class="mpre">T.unsafeHead</span></span></a><span class="mpre"> </span><a href="#loc_125_6_125_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_6_125_7&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
  if </span><a href="#loc_124_15_124_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_15_124_16&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_126_7_126_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_7_126_8&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
    then </span><a href="#loc_458_1_458_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_1_458_8&#39;)"><span class="hl_varref"><span class="mpre">advance</span></span></a><span class="mpre"> </span><a href="#loc_125_4_125_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_4_125_5&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_126_7_126_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_7_126_8&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
    else </span><span class="hl_varref"><span class="mpre">fail</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;satisfyWith&quot;</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_124_1_124_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_1_124_12&#39;)"><span class="mpre">satisfyWith</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Consume @n@ characters of input, but succeed only if the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- predicate returns &#39;True&#39;.</span></span><span class="mpre">
</span><a href="#loc_135_1_135_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_9&#39;)"><span class="mpre">takeWith</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; (</span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_135_1_135_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_9&#39;)"><span class="hl_fundecl"><span class="mpre">takeWith</span></span></a><span class="mpre"> </span><a name="loc_135_10_135_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_10_135_11&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_135_12_135_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_12_135_13&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = do
  (</span><a name="loc_136_4_136_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_4_136_5&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre">,</span><a name="loc_136_6_136_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_6_136_7&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_474_1_474_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_1_474_7&#39;)"><span class="hl_varref"><span class="mpre">ensure</span></span></a><span class="mpre"> </span><a href="#loc_135_10_135_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_10_135_11&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">
  if </span><a href="#loc_135_12_135_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_12_135_13&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_136_6_136_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_6_136_7&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
    then </span><a href="#loc_458_1_458_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_1_458_8&#39;)"><span class="hl_varref"><span class="mpre">advance</span></span></a><span class="mpre"> </span><a href="#loc_136_4_136_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_4_136_5&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_136_6_136_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_6_136_7&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
    else </span><span class="hl_varref"><span class="mpre">fail</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;takeWith&quot;</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Consume exactly @n@ characters of input.</span></span><span class="mpre">
</span><a href="#loc_143_1_143_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_5&#39;)"><span class="mpre">take</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_143_1_143_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_5&#39;)"><span class="hl_fundecl"><span class="mpre">take</span></span></a><span class="mpre"> </span><a name="loc_143_6_143_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_6_143_7&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_135_1_135_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_9&#39;)"><span class="hl_varref"><span class="mpre">takeWith</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">max</span></span><span class="mpre"> </span><a href="#loc_143_6_143_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_6_143_7&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_143_1_143_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_5&#39;)"><span class="mpre">take</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | @string s@ parses a sequence of characters that identically match</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @s@. Returns the parsed string (i.e. @s@).  This parser consumes no</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- input if it fails (even if a partial match).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- /Note/: The behaviour of this parser is different to that of the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- similarly-named parser in Parsec, as this one is all-or-nothing.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- To illustrate the difference, the following parser will fail under</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Parsec given an input of @\&quot;for\&quot;@:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;string &quot;foo&quot; &lt;|&gt; string &quot;for&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The reason for its failure is that the first branch is a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- partial match, and will consume the letters @\&#39;f\&#39;@ and @\&#39;o\&#39;@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- before failing.  In attoparsec, the above parser will /succeed/ on</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- that input, because the failed first branch will consume nothing.</span></span><span class="mpre">
</span><a href="#loc_162_1_162_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_1_162_7&#39;)"><span class="mpre">string</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_162_1_162_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_1_162_7&#39;)"><span class="hl_fundecl"><span class="mpre">string</span></span></a><span class="mpre"> </span><a name="loc_162_8_162_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_8_162_9&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><a href="#loc_135_1_135_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_9&#39;)"><span class="hl_varref"><span class="mpre">takeWith</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_554_1_554_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_554_1_554_7&#39;)"><span class="hl_varref"><span class="mpre">T.length</span></span></a><span class="mpre"> </span><a href="#loc_162_8_162_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_8_162_9&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">) (</span><span class="hl_infix"><span class="mpre">==</span></span><a href="#loc_162_8_162_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_8_162_9&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_162_1_162_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_1_162_7&#39;)"><span class="mpre">string</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Satisfy a literal string, ignoring case.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note: this function is currently quite inefficient. Unicode case</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- folding can change the length of a string (\&quot;&amp;#223;\&quot; becomes</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &quot;ss&quot;), which makes a simple, efficient implementation tricky.  We</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- have (for now) chosen simplicity over efficiency.</span></span><span class="mpre">
</span><a href="#loc_172_1_172_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_1_172_9&#39;)"><span class="mpre">stringCI</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_172_1_172_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_1_172_9&#39;)"><span class="hl_fundecl"><span class="mpre">stringCI</span></span></a><span class="mpre"> </span><a name="loc_172_10_172_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_10_172_11&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><a href="#loc_174_5_174_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_5_174_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
  where
    </span><a name="loc_174_5_174_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_5_174_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> !</span><a name="loc_174_9_174_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_9_174_10&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre">
      | </span><a href="#loc_174_9_174_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_9_174_10&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;</span></span><span class="mpre"> </span><a href="Data.Text.html#loc_554_1_554_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_554_1_554_7&#39;)"><span class="hl_varref"><span class="mpre">T.length</span></span></a><span class="mpre"> </span><a href="#loc_181_5_181_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_5_181_7&#39;)"><span class="hl_varref"><span class="mpre">fs</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">fail</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;stringCI&quot;</span></span><span class="mpre">
      | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = do
      (</span><a name="loc_177_8_177_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_8_177_9&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre">,</span><a name="loc_177_10_177_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_10_177_11&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_474_1_474_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_1_474_7&#39;)"><span class="hl_varref"><span class="mpre">ensure</span></span></a><span class="mpre"> </span><a href="#loc_174_9_174_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_9_174_10&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">
      if </span><a href="Data.Text.html#loc_695_1_695_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_695_1_695_11&#39;)"><span class="hl_varref"><span class="mpre">T.toCaseFold</span></span></a><span class="mpre"> </span><a href="#loc_177_10_177_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_10_177_11&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_181_5_181_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_5_181_7&#39;)"><span class="hl_varref"><span class="mpre">fs</span></span></a><span class="mpre">
        then </span><a href="#loc_458_1_458_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_1_458_8&#39;)"><span class="hl_varref"><span class="mpre">advance</span></span></a><span class="mpre"> </span><a href="#loc_177_8_177_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_8_177_9&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_177_10_177_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_10_177_11&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
        else </span><a href="#loc_174_5_174_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_5_174_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="#loc_174_9_174_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_9_174_10&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
    </span><a name="loc_181_5_181_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_5_181_7&#39;)"><span class="hl_vardecl"><span class="mpre">fs</span></span></a><span class="mpre"> = </span><a href="Data.Text.html#loc_695_1_695_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_695_1_695_11&#39;)"><span class="hl_varref"><span class="mpre">T.toCaseFold</span></span></a><span class="mpre"> </span><a href="#loc_172_10_172_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_10_172_11&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_172_1_172_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_1_172_9&#39;)"><span class="mpre">stringCI</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclDeprPragmaDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/attoparsec-0.12.1.0/Data/Attoparsec/Text/Internal.hs&quot;, srcSpanStartLine = 183, srcSpanStartColumn = 1, srcSpanEndLine = 183, srcSpanEndColumn = 76}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/attoparsec-0.12.1.0/Data/Attoparsec/Text/Internal.hs&quot;, srcSpanStartLine = 183, srcSpanStartColumn = 1, srcSpanEndLine = 183, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/attoparsec-"><span class="mpre">{-# DEPRECATED stringCI &quot;this is very inefficient, use asciiCI instead&quot; #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Satisfy a literal string, ignoring case for characters in the ASCII range.</span></span><span class="mpre">
</span><a href="#loc_187_1_187_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_1_187_8&#39;)"><span class="mpre">asciiCI</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_187_1_187_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_1_187_8&#39;)"><span class="hl_fundecl"><span class="mpre">asciiCI</span></span></a><span class="mpre"> </span><a name="loc_187_9_187_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_9_187_14&#39;)"><span class="hl_vardecl"><span class="mpre">input</span></span></a><span class="mpre"> = do
  (</span><a name="loc_188_4_188_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_4_188_5&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre">,</span><a name="loc_188_6_188_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_6_188_7&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_474_1_474_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_1_474_7&#39;)"><span class="hl_varref"><span class="mpre">ensure</span></span></a><span class="mpre"> </span><a href="#loc_193_5_193_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_5_193_6&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">
  if </span><a href="#loc_197_5_197_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_5_197_17&#39;)"><span class="hl_varref"><span class="mpre">asciiToLower</span></span></a><span class="mpre"> </span><a href="#loc_188_6_188_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_6_188_7&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_194_5_194_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_5_194_6&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
    then </span><a href="#loc_458_1_458_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_1_458_8&#39;)"><span class="hl_varref"><span class="mpre">advance</span></span></a><span class="mpre"> </span><a href="#loc_188_4_188_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_4_188_5&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_188_6_188_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_6_188_7&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
    else </span><span class="hl_varref"><span class="mpre">fail</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;asciiCI&quot;</span></span><span class="mpre">
  where
    </span><a name="loc_193_5_193_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_5_193_6&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="Data.Text.html#loc_554_1_554_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_554_1_554_7&#39;)"><span class="hl_varref"><span class="mpre">T.length</span></span></a><span class="mpre"> </span><a href="#loc_187_9_187_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_9_187_14&#39;)"><span class="hl_varref"><span class="mpre">input</span></span></a><span class="mpre">
    </span><a name="loc_194_5_194_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_5_194_6&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><a href="#loc_197_5_197_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_5_197_17&#39;)"><span class="hl_varref"><span class="mpre">asciiToLower</span></span></a><span class="mpre"> </span><a href="#loc_187_9_187_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_9_187_14&#39;)"><span class="hl_varref"><span class="mpre">input</span></span></a><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- convert letters in the ASCII range to lower-case</span></span><span class="mpre">
    </span><a name="loc_197_5_197_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_5_197_17&#39;)"><span class="hl_vardecl"><span class="mpre">asciiToLower</span></span></a><span class="mpre"> = </span><a href="Data.Text.html#loc_608_1_608_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_608_1_608_4&#39;)"><span class="hl_varref"><span class="mpre">T.map</span></span></a><span class="mpre"> </span><a href="#loc_200_9_200_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_200_9_200_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
      where
        </span><a name="loc_199_9_199_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_199_9_199_15&#39;)"><span class="hl_vardecl"><span class="mpre">offset</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">ord</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;a&#39;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ord</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;A&#39;</span></span><span class="mpre">
        </span><a name="loc_200_9_200_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_200_9_200_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_200_11_200_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_200_11_200_12&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> | </span><span class="hl_char"><span class="mpre">&#39;A&#39;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><a href="#loc_200_11_200_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_200_11_200_12&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_200_11_200_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_200_11_200_12&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;Z&#39;</span></span><span class="mpre"> = </span><a href="GHC.Char.html#loc_11_1_11_4" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Char.html#loc_11_1_11_4&#39;)"><span class="hl_varref"><span class="mpre">chr</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">ord</span></span><span class="mpre"> </span><a href="#loc_200_11_200_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_200_11_200_12&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_199_9_199_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_199_9_199_15&#39;)"><span class="hl_varref"><span class="mpre">offset</span></span></a><span class="mpre">)
            | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">            = </span><a href="#loc_200_11_200_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_200_11_200_12&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_187_1_187_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_1_187_8&#39;)"><span class="mpre">asciiCI</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Skip past input for as long as the predicate returns &#39;True&#39;.</span></span><span class="mpre">
</span><a href="#loc_206_1_206_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_10&#39;)"><span class="mpre">skipWhile</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_206_1_206_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_10&#39;)"><span class="hl_fundecl"><span class="mpre">skipWhile</span></span></a><span class="mpre"> </span><a name="loc_206_11_206_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_11_206_12&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = </span><a href="#loc_208_3_208_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_3_208_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">
 where
  </span><a name="loc_208_3_208_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_3_208_5&#39;)"><span class="hl_vardecl"><span class="mpre">go</span></span></a><span class="mpre"> = do
    </span><a name="loc_209_5_209_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_5_209_6&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Text.html#loc_1092_1_1092_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1092_1_1092_10&#39;)"><span class="hl_varref"><span class="mpre">T.takeWhile</span></span></a><span class="mpre"> </span><a href="#loc_206_11_206_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_11_206_12&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_438_1_438_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_1_438_4&#39;)"><span class="hl_varref"><span class="mpre">get</span></span></a><span class="mpre">
    </span><a name="loc_210_5_210_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_5_210_13&#39;)"><span class="hl_vardecl"><span class="mpre">continue</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_448_1_448_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_1_448_17&#39;)"><span class="hl_varref"><span class="mpre">inputSpansChunks</span></span></a><span class="mpre"> (</span><a href="#loc_507_1_507_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_7&#39;)"><span class="hl_varref"><span class="mpre">length</span></span></a><span class="mpre"> </span><a href="#loc_209_5_209_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_5_209_6&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
    </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> </span><a href="#loc_210_5_210_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_5_210_13&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre"> </span><a href="#loc_208_3_208_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_3_208_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_206_1_206_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_10&#39;)"><span class="mpre">skipWhile</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Consume input as long as the predicate returns &#39;False&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (i.e. until it returns &#39;True&#39;), and return the consumed input.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This parser does not fail.  It will return an empty string if the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- predicate returns &#39;True&#39; on the first character of input.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- /Note/: Because this parser does not fail, do not use it with</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- combinators such as &#39;Control.Applicative.many&#39;, because such</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- parsers loop until a failure occurs.  Careless use will thus result</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- in an infinite loop.</span></span><span class="mpre">
</span><a href="#loc_225_1_225_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_1_225_9&#39;)"><span class="mpre">takeTill</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_225_1_225_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_1_225_9&#39;)"><span class="hl_fundecl"><span class="mpre">takeTill</span></span></a><span class="mpre"> </span><a name="loc_225_10_225_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_10_225_11&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = </span><a href="#loc_239_1_239_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_1_239_10&#39;)"><span class="hl_varref"><span class="mpre">takeWhile</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_225_10_225_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_10_225_11&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_225_1_225_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_1_225_9&#39;)"><span class="mpre">takeTill</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Consume input as long as the predicate returns &#39;True&#39;, and return</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the consumed input.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This parser does not fail.  It will return an empty string if the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- predicate returns &#39;False&#39; on the first character of input.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- /Note/: Because this parser does not fail, do not use it with</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- combinators such as &#39;Control.Applicative.many&#39;, because such</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- parsers loop until a failure occurs.  Careless use will thus result</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- in an infinite loop.</span></span><span class="mpre">
</span><a href="#loc_239_1_239_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_1_239_10&#39;)"><span class="mpre">takeWhile</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_239_1_239_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_1_239_10&#39;)"><span class="hl_fundecl"><span class="mpre">takeWhile</span></span></a><span class="mpre"> </span><a name="loc_239_11_239_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_11_239_12&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = (</span><a href="Data.Text.html#loc_849_1_849_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_849_1_849_7&#39;)"><span class="hl_varref"><span class="mpre">T.concat</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">reverse</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">`fmap`</span></span><span class="mpre"> </span><a href="#loc_241_3_241_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_3_241_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> []
 where
  </span><a name="loc_241_3_241_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_3_241_5&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_241_6_241_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_6_241_9&#39;)"><span class="hl_vardecl"><span class="mpre">acc</span></span></a><span class="mpre"> = do
    </span><a name="loc_242_5_242_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_5_242_6&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Text.html#loc_1092_1_1092_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1092_1_1092_10&#39;)"><span class="hl_varref"><span class="mpre">T.takeWhile</span></span></a><span class="mpre"> </span><a href="#loc_239_11_239_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_11_239_12&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_438_1_438_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_1_438_4&#39;)"><span class="hl_varref"><span class="mpre">get</span></span></a><span class="mpre">
    </span><a name="loc_243_5_243_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_243_5_243_13&#39;)"><span class="hl_vardecl"><span class="mpre">continue</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_448_1_448_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_1_448_17&#39;)"><span class="hl_varref"><span class="mpre">inputSpansChunks</span></span></a><span class="mpre"> (</span><a href="#loc_507_1_507_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_7&#39;)"><span class="hl_varref"><span class="mpre">length</span></span></a><span class="mpre"> </span><a href="#loc_242_5_242_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_5_242_6&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">)
    if </span><a href="#loc_243_5_243_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_243_5_243_13&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre">
      then </span><a href="#loc_241_3_241_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_3_241_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="#loc_242_5_242_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_5_242_6&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_241_6_241_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_6_241_9&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre">)
      else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_242_5_242_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_5_242_6&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_241_6_241_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_6_241_9&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre">)

</span><a href="#loc_249_1_249_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_1_249_9&#39;)"><span class="mpre">takeRest</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> [</span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">]
</span><a name="loc_249_1_249_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_1_249_9&#39;)"><span class="hl_vardecl"><span class="mpre">takeRest</span></span></a><span class="mpre"> = </span><a href="#loc_251_3_251_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_251_3_251_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> []
 where
  </span><a name="loc_251_3_251_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_251_3_251_5&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_251_6_251_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_251_6_251_9&#39;)"><span class="hl_vardecl"><span class="mpre">acc</span></span></a><span class="mpre"> = do
    </span><a name="loc_252_5_252_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_5_252_10&#39;)"><span class="hl_vardecl"><span class="mpre">input</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Attoparsec.Internal.html#loc_87_1_87_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.html#loc_87_1_87_10&#39;)"><span class="hl_varref"><span class="mpre">wantInput</span></span></a><span class="mpre">
    if </span><a href="#loc_252_5_252_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_5_252_10&#39;)"><span class="hl_varref"><span class="mpre">input</span></span></a><span class="mpre">
      then do
        </span><a name="loc_255_9_255_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_9_255_10&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_438_1_438_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_1_438_4&#39;)"><span class="hl_varref"><span class="mpre">get</span></span></a><span class="mpre">
        </span><a href="#loc_458_1_458_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_1_458_8&#39;)"><span class="hl_varref"><span class="mpre">advance</span></span></a><span class="mpre"> (</span><a href="#loc_507_1_507_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_7&#39;)"><span class="hl_varref"><span class="mpre">length</span></span></a><span class="mpre"> </span><a href="#loc_255_9_255_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_9_255_10&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
        </span><a href="#loc_251_3_251_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_251_3_251_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="#loc_255_9_255_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_9_255_10&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_251_6_251_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_251_6_251_9&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre">)
      else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">reverse</span></span><span class="mpre"> </span><a href="#loc_251_6_251_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_251_6_251_9&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Consume all remaining input and return it as a single string.</span></span><span class="mpre">
</span><a href="#loc_262_1_262_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_1_262_9&#39;)"><span class="mpre">takeText</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_262_1_262_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_1_262_9&#39;)"><span class="hl_vardecl"><span class="mpre">takeText</span></span></a><span class="mpre"> = </span><a href="Data.Text.html#loc_849_1_849_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_849_1_849_7&#39;)"><span class="hl_varref"><span class="mpre">T.concat</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`fmap`</span></span><span class="mpre"> </span><a href="#loc_249_1_249_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_1_249_9&#39;)"><span class="hl_varref"><span class="mpre">takeRest</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Consume all remaining input and return it as a single string.</span></span><span class="mpre">
</span><a href="#loc_266_1_266_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_266_1_266_13&#39;)"><span class="mpre">takeLazyText</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">L.Text</span></span></a><span class="mpre">
</span><a name="loc_266_1_266_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_266_1_266_13&#39;)"><span class="hl_vardecl"><span class="mpre">takeLazyText</span></span></a><span class="mpre"> = </span><a href="Data.Text.Lazy.html#loc_385_1_385_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Lazy.html#loc_385_1_385_11&#39;)"><span class="hl_varref"><span class="mpre">L.fromChunks</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`fmap`</span></span><span class="mpre"> </span><a href="#loc_249_1_249_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_1_249_9&#39;)"><span class="hl_varref"><span class="mpre">takeRest</span></span></a><span class="mpre">

data </span><span class="hl_tycondecl"><span class="mpre">Scan</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> = </span><a name="loc_268_15_268_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_15_268_23&#39;)"><span class="hl_condecl"><span class="mpre">Continue</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">
            | </span><a name="loc_269_15_269_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_269_15_269_23&#39;)"><span class="hl_condecl"><span class="mpre">Finished</span></span></a><span class="mpre"> {-# UNPACK #-} !</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">

</span><a href="#loc_272_1_272_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_1_272_6&#39;)"><span class="mpre">scan_</span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; [</span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">
</span><a name="loc_272_1_272_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_1_272_6&#39;)"><span class="hl_fundecl"><span class="mpre">scan_</span></span></a><span class="mpre"> </span><a name="loc_272_7_272_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_7_272_8&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_272_9_272_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_9_272_11&#39;)"><span class="hl_vardecl"><span class="mpre">s0</span></span></a><span class="mpre"> </span><a name="loc_272_12_272_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_12_272_13&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = </span><a href="#loc_280_3_280_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_3_280_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> [] </span><a href="#loc_272_9_272_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_9_272_11&#39;)"><span class="hl_varref"><span class="mpre">s0</span></span></a><span class="mpre">
 where
  </span><a name="loc_274_3_274_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_3_274_10&#39;)"><span class="hl_fundecl"><span class="mpre">scanner</span></span></a><span class="mpre"> </span><a name="loc_274_11_274_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_11_274_12&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> !</span><a name="loc_274_14_274_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_14_274_15&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_274_16_274_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_16_274_17&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> =
    case </span><a href="Data.Text.html#loc_467_1_467_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_467_1_467_7&#39;)"><span class="hl_varref"><span class="mpre">T.uncons</span></span></a><span class="mpre"> </span><a href="#loc_274_16_274_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_16_274_17&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> of
      </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> (</span><a name="loc_276_13_276_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_13_276_14&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">,</span><a name="loc_276_15_276_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_15_276_17&#39;)"><span class="hl_vardecl"><span class="mpre">t&#39;</span></span></a><span class="mpre">) -&gt; case </span><a href="#loc_272_12_272_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_12_272_13&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_274_11_274_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_11_274_12&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><a href="#loc_276_13_276_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_13_276_14&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> of
                       </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a name="loc_277_29_277_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_29_277_31&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_274_3_274_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_3_274_10&#39;)"><span class="hl_varref"><span class="mpre">scanner</span></span></a><span class="mpre"> </span><a href="#loc_277_29_277_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_277_29_277_31&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre"> (</span><a href="#loc_274_14_274_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_14_274_15&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><a href="#loc_276_15_276_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_15_276_17&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre">
                       </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_269_15_269_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_269_15_269_23&#39;)"><span class="hl_conref"><span class="mpre">Finished</span></span></a><span class="mpre"> </span><a href="#loc_274_14_274_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_14_274_15&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_274_16_274_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_16_274_17&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
      </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">     -&gt; </span><a href="#loc_268_15_268_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_15_268_23&#39;)"><span class="hl_conref"><span class="mpre">Continue</span></span></a><span class="mpre"> </span><a href="#loc_274_11_274_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_11_274_12&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
  </span><a name="loc_280_3_280_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_3_280_5&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_280_6_280_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_6_280_9&#39;)"><span class="hl_vardecl"><span class="mpre">acc</span></span></a><span class="mpre"> </span><a name="loc_280_10_280_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_10_280_11&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = do
    </span><a name="loc_281_5_281_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_5_281_10&#39;)"><span class="hl_vardecl"><span class="mpre">input</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_438_1_438_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_1_438_4&#39;)"><span class="hl_varref"><span class="mpre">get</span></span></a><span class="mpre">
    case </span><a href="#loc_274_3_274_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_3_274_10&#39;)"><span class="hl_varref"><span class="mpre">scanner</span></span></a><span class="mpre"> </span><a href="#loc_280_10_280_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_10_280_11&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="#loc_281_5_281_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_5_281_10&#39;)"><span class="hl_varref"><span class="mpre">input</span></span></a><span class="mpre"> of
      </span><a href="#loc_268_15_268_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_15_268_23&#39;)"><span class="hl_conref"><span class="mpre">Continue</span></span></a><span class="mpre"> </span><a name="loc_283_16_283_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_16_283_18&#39;)"><span class="hl_vardecl"><span class="mpre">s&#39;</span></span></a><span class="mpre">  -&gt; do </span><a name="loc_283_26_283_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_26_283_34&#39;)"><span class="hl_vardecl"><span class="mpre">continue</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_448_1_448_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_1_448_17&#39;)"><span class="hl_varref"><span class="mpre">inputSpansChunks</span></span></a><span class="mpre"> (</span><a href="#loc_507_1_507_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_7&#39;)"><span class="hl_varref"><span class="mpre">length</span></span></a><span class="mpre"> </span><a href="#loc_281_5_281_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_5_281_10&#39;)"><span class="hl_varref"><span class="mpre">input</span></span></a><span class="mpre">)
                         if </span><a href="#loc_283_26_283_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_26_283_34&#39;)"><span class="hl_varref"><span class="mpre">continue</span></span></a><span class="mpre">
                           then </span><a href="#loc_280_3_280_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_3_280_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="#loc_281_5_281_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_5_281_10&#39;)"><span class="hl_varref"><span class="mpre">input</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_280_6_280_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_6_280_9&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre">) </span><a href="#loc_283_16_283_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_16_283_18&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre">
                           else </span><a href="#loc_272_7_272_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_7_272_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_283_16_283_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_16_283_18&#39;)"><span class="hl_varref"><span class="mpre">s&#39;</span></span></a><span class="mpre"> (</span><a href="#loc_281_5_281_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_5_281_10&#39;)"><span class="hl_varref"><span class="mpre">input</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_280_6_280_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_6_280_9&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre">)
      </span><a href="#loc_269_15_269_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_269_15_269_23&#39;)"><span class="hl_conref"><span class="mpre">Finished</span></span></a><span class="mpre"> </span><a name="loc_287_16_287_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_287_16_287_17&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_287_18_287_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_287_18_287_19&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> -&gt; do </span><a href="#loc_458_1_458_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_1_458_8&#39;)"><span class="hl_varref"><span class="mpre">advance</span></span></a><span class="mpre"> (</span><a href="#loc_507_1_507_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_7&#39;)"><span class="hl_varref"><span class="mpre">length</span></span></a><span class="mpre"> </span><a href="#loc_281_5_281_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_5_281_10&#39;)"><span class="hl_varref"><span class="mpre">input</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="#loc_507_1_507_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_7&#39;)"><span class="hl_varref"><span class="mpre">length</span></span></a><span class="mpre"> </span><a href="#loc_287_18_287_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_287_18_287_19&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
                         </span><a href="#loc_272_7_272_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_7_272_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_280_10_280_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_10_280_11&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_1017_1_1017_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1017_1_1017_5&#39;)"><span class="hl_varref"><span class="mpre">T.take</span></span></a><span class="mpre"> </span><a href="#loc_287_16_287_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_287_16_287_17&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_281_5_281_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_5_281_10&#39;)"><span class="hl_varref"><span class="mpre">input</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_280_6_280_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_6_280_9&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_272_1_272_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_1_272_6&#39;)"><span class="mpre">scan_</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A stateful scanner.  The predicate consumes and transforms a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- state argument, and each transformed state is passed to successive</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- invocations of the predicate on each character of the input until one</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- returns &#39;Nothing&#39; or the input ends.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This parser does not fail.  It will return an empty string if the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- predicate returns &#39;Nothing&#39; on the first character of input.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- /Note/: Because this parser does not fail, do not use it with</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- combinators such as &#39;Control.Applicative.many&#39;, because such</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- parsers loop until a failure occurs.  Careless use will thus result</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- in an infinite loop.</span></span><span class="mpre">
</span><a href="#loc_304_1_304_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_1_304_5&#39;)"><span class="mpre">scan</span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_304_1_304_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_1_304_5&#39;)"><span class="hl_vardecl"><span class="mpre">scan</span></span></a><span class="mpre"> = </span><a href="#loc_272_1_272_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_1_272_6&#39;)"><span class="hl_varref"><span class="mpre">scan_</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \_ </span><a name="loc_304_19_304_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_19_304_25&#39;)"><span class="hl_vardecl"><span class="mpre">chunks</span></span></a><span class="mpre"> -&gt;
  case </span><a href="#loc_304_19_304_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_19_304_25&#39;)"><span class="hl_varref"><span class="mpre">chunks</span></span></a><span class="mpre"> of
    [</span><a name="loc_306_6_306_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_306_6_306_7&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">] -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_306_6_306_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_306_6_306_7&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
    </span><a name="loc_307_5_307_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_5_307_7&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">  -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Text.html#loc_849_1_849_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_849_1_849_7&#39;)"><span class="hl_varref"><span class="mpre">T.concat</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">reverse</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_307_5_307_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_5_307_7&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_304_1_304_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_1_304_5&#39;)"><span class="mpre">scan</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Like &#39;scan&#39;, but generalized to return the final state of the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- scanner.</span></span><span class="mpre">
</span><a href="#loc_313_1_313_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_1_313_11&#39;)"><span class="mpre">runScanner</span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> (</span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">)
</span><a name="loc_313_1_313_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_1_313_11&#39;)"><span class="hl_vardecl"><span class="mpre">runScanner</span></span></a><span class="mpre"> = </span><a href="#loc_272_1_272_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_1_272_6&#39;)"><span class="hl_varref"><span class="mpre">scan_</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_313_23_313_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_23_313_24&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> </span><a name="loc_313_25_313_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_25_313_27&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="Data.Text.html#loc_849_1_849_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_849_1_849_7&#39;)"><span class="hl_varref"><span class="mpre">T.concat</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">reverse</span></span><span class="mpre"> </span><a href="#loc_313_25_313_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_25_313_27&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">), </span><a href="#loc_313_23_313_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_23_313_24&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_313_1_313_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_1_313_11&#39;)"><span class="mpre">runScanner</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Consume input as long as the predicate returns &#39;True&#39;, and return</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the consumed input.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This parser requires the predicate to succeed on at least one</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- character of input: it will fail if the predicate never returns</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;True&#39; or if there is no input left.</span></span><span class="mpre">
</span><a href="#loc_323_1_323_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_1_323_11&#39;)"><span class="mpre">takeWhile1</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_323_1_323_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_1_323_11&#39;)"><span class="hl_fundecl"><span class="mpre">takeWhile1</span></span></a><span class="mpre"> </span><a name="loc_323_12_323_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_12_323_13&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = do
  (</span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_infix"><span class="mpre">`when`</span></span></a><span class="mpre"> </span><a href="Data.Attoparsec.Internal.html#loc_72_1_72_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.html#loc_72_1_72_12&#39;)"><span class="hl_varref"><span class="mpre">demandInput</span></span></a><span class="mpre">) </span><a href="Control.Monad.html#loc_92_3_92_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_92_3_92_6&#39;)"><span class="hl_infix"><span class="mpre">=&lt;&lt;</span></span></a><span class="mpre"> </span><a href="#loc_443_1_443_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_443_1_443_11&#39;)"><span class="hl_varref"><span class="mpre">endOfChunk</span></span></a><span class="mpre">
  </span><a name="loc_325_3_325_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_3_325_4&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> &lt;- </span><a href="Data.Text.html#loc_1092_1_1092_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1092_1_1092_10&#39;)"><span class="hl_varref"><span class="mpre">T.takeWhile</span></span></a><span class="mpre"> </span><a href="#loc_323_12_323_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_12_323_13&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_438_1_438_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_1_438_4&#39;)"><span class="hl_varref"><span class="mpre">get</span></span></a><span class="mpre">
  let </span><a name="loc_326_7_326_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_7_326_10&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> = </span><a href="#loc_507_1_507_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_7&#39;)"><span class="hl_varref"><span class="mpre">length</span></span></a><span class="mpre"> </span><a href="#loc_325_3_325_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_3_325_4&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">
  </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> (</span><a href="#loc_326_7_326_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_7_326_10&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fail</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;takeWhile1&quot;</span></span><span class="mpre">
  </span><a href="#loc_458_1_458_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_1_458_8&#39;)"><span class="hl_varref"><span class="mpre">advance</span></span></a><span class="mpre"> </span><a href="#loc_326_7_326_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_326_7_326_10&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">
  </span><a name="loc_329_3_329_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_3_329_6&#39;)"><span class="hl_vardecl"><span class="mpre">eoc</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_443_1_443_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_443_1_443_11&#39;)"><span class="hl_varref"><span class="mpre">endOfChunk</span></span></a><span class="mpre">
  if </span><a href="#loc_329_3_329_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_3_329_6&#39;)"><span class="hl_varref"><span class="mpre">eoc</span></span></a><span class="mpre">
    then (</span><a href="#loc_325_3_325_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_3_325_4&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><a href="Data.Attoparsec.Internal.Types.html#loc_204_1_204_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_204_1_204_5&#39;)"><span class="hl_infix"><span class="mpre">&lt;&gt;</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">`fmap`</span></span><span class="mpre"> </span><a href="#loc_239_1_239_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_1_239_10&#39;)"><span class="hl_varref"><span class="mpre">takeWhile</span></span></a><span class="mpre"> </span><a href="#loc_323_12_323_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_323_12_323_13&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">
    else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_325_3_325_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_3_325_4&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Match any character in a set.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;vowel = inClass &quot;aeiou&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Range notation is supported.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;halfAlphabet = inClass &quot;a-nA-N&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- To add a literal @\&#39;-\&#39;@ to a set, place it at the beginning or end</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- of the string.</span></span><span class="mpre">
</span><a href="#loc_345_1_345_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_345_1_345_8&#39;)"><span class="mpre">inClass</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_345_1_345_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_345_1_345_8&#39;)"><span class="hl_fundecl"><span class="mpre">inClass</span></span></a><span class="mpre"> </span><a name="loc_345_9_345_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_345_9_345_10&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = (</span><a href="Data.Attoparsec.Text.FastSet.html#loc_49_1_49_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Text.FastSet.html#loc_49_1_49_7&#39;)"><span class="hl_infix"><span class="mpre">`Set.member`</span></span></a><span class="mpre"> </span><a href="#loc_346_11_346_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_346_11_346_16&#39;)"><span class="hl_varref"><span class="mpre">mySet</span></span></a><span class="mpre">)
    where </span><a name="loc_346_11_346_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_346_11_346_16&#39;)"><span class="hl_vardecl"><span class="mpre">mySet</span></span></a><span class="mpre"> = </span><a href="Data.Attoparsec.Text.FastSet.html#loc_60_1_60_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Text.FastSet.html#loc_60_1_60_10&#39;)"><span class="hl_varref"><span class="mpre">Set.charClass</span></span></a><span class="mpre"> </span><a href="#loc_345_9_345_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_345_9_345_10&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
          </span><span class="hl_pragma"><span class="mpre">{-# NOINLINE </span><a href="#loc_346_11_346_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_346_11_346_16&#39;)"><span class="mpre">mySet</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_345_1_345_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_345_1_345_8&#39;)"><span class="mpre">inClass</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Match any character not in a set.</span></span><span class="mpre">
</span><a href="#loc_352_1_352_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_352_1_352_11&#39;)"><span class="mpre">notInClass</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_352_1_352_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_352_1_352_11&#39;)"><span class="hl_fundecl"><span class="mpre">notInClass</span></span></a><span class="mpre"> </span><a name="loc_352_12_352_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_352_12_352_13&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_345_1_345_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_345_1_345_8&#39;)"><span class="hl_varref"><span class="mpre">inClass</span></span></a><span class="mpre"> </span><a href="#loc_352_12_352_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_352_12_352_13&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_352_1_352_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_352_1_352_11&#39;)"><span class="mpre">notInClass</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Match any character.</span></span><span class="mpre">
</span><a href="#loc_357_1_357_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_357_1_357_8&#39;)"><span class="mpre">anyChar</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_357_1_357_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_357_1_357_8&#39;)"><span class="hl_vardecl"><span class="mpre">anyChar</span></span></a><span class="mpre"> = </span><a href="#loc_100_1_100_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_1_100_8&#39;)"><span class="hl_varref"><span class="mpre">satisfy</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_357_1_357_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_357_1_357_8&#39;)"><span class="mpre">anyChar</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Match a specific character.</span></span><span class="mpre">
</span><a href="#loc_362_1_362_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_1_362_5&#39;)"><span class="mpre">char</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_362_1_362_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_1_362_5&#39;)"><span class="hl_fundecl"><span class="mpre">char</span></span></a><span class="mpre"> </span><a name="loc_362_6_362_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_6_362_7&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = </span><a href="#loc_100_1_100_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_1_100_8&#39;)"><span class="hl_varref"><span class="mpre">satisfy</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_362_6_362_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_6_362_7&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">) </span><a href="Data.Attoparsec.Combinator.html#loc_62_3_62_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Combinator.html#loc_62_3_62_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;?&gt;</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_362_6_362_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_6_362_7&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_362_1_362_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_1_362_5&#39;)"><span class="mpre">char</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Match any character except the given one.</span></span><span class="mpre">
</span><a href="#loc_367_1_367_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_367_1_367_8&#39;)"><span class="mpre">notChar</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_367_1_367_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_367_1_367_8&#39;)"><span class="hl_fundecl"><span class="mpre">notChar</span></span></a><span class="mpre"> </span><a name="loc_367_9_367_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_367_9_367_10&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = </span><a href="#loc_100_1_100_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_1_100_8&#39;)"><span class="hl_varref"><span class="mpre">satisfy</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">/=</span></span><span class="mpre"> </span><a href="#loc_367_9_367_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_367_9_367_10&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">) </span><a href="Data.Attoparsec.Combinator.html#loc_62_3_62_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Combinator.html#loc_62_3_62_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;?&gt;</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;not &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_367_9_367_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_367_9_367_10&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_367_1_367_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_367_1_367_8&#39;)"><span class="mpre">notChar</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Match any character, to perform lookahead. Returns &#39;Nothing&#39; if</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- end of input has been reached. Does not consume any input.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- /Note/: Because this parser does not fail, do not use it with</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- combinators such as &#39;Control.Applicative.many&#39;, because such</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- parsers loop until a failure occurs.  Careless use will thus result</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- in an infinite loop.</span></span><span class="mpre">
</span><a href="#loc_378_1_378_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_1_378_9&#39;)"><span class="mpre">peekChar</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">)
</span><a name="loc_378_1_378_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_1_378_9&#39;)"><span class="hl_vardecl"><span class="mpre">peekChar</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">T.Parser</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_378_24_378_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_24_378_25&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_378_26_378_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_26_378_29&#39;)"><span class="hl_vardecl"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a name="loc_378_30_378_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_30_378_34&#39;)"><span class="hl_vardecl"><span class="mpre">more</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_lose</span></span><span class="mpre"> </span><a name="loc_378_41_378_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_41_378_45&#39;)"><span class="hl_vardecl"><span class="mpre">succ</span></span></a><span class="mpre"> -&gt;
  case </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre"> of
    _| </span><a href="#loc_378_26_378_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_26_378_29&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_504_1_504_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_504_1_504_9&#39;)"><span class="hl_varref"><span class="mpre">lengthOf</span></span></a><span class="mpre"> </span><a href="#loc_378_24_378_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_24_378_25&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> -&gt;
       let </span><a href="Data.Text.Unsafe.html#loc_62_13_62_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_62_13_62_17&#39;)"><span class="hl_conref"><span class="mpre">T.Iter</span></span></a><span class="mpre"> !</span><a name="loc_381_20_381_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_381_20_381_21&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> _ = </span><a href="Data.Attoparsec.Text.Buffer.html#loc_132_1_132_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Text.Buffer.html#loc_132_1_132_5&#39;)"><span class="hl_varref"><span class="mpre">Buf.iter</span></span></a><span class="mpre"> </span><a href="#loc_378_24_378_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_24_378_25&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="Data.Attoparsec.Internal.Types.html#loc_43_21_43_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_43_21_43_28&#39;)"><span class="hl_varref"><span class="mpre">fromPos</span></span></a><span class="mpre"> </span><a href="#loc_378_26_378_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_26_378_29&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre">)
       in </span><a href="#loc_378_41_378_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_41_378_45&#39;)"><span class="hl_varref"><span class="mpre">succ</span></span></a><span class="mpre"> </span><a href="#loc_378_24_378_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_24_378_25&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_378_26_378_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_26_378_29&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a href="#loc_378_30_378_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_30_378_34&#39;)"><span class="hl_varref"><span class="mpre">more</span></span></a><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a href="#loc_381_20_381_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_381_20_381_21&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">)
     | </span><a href="#loc_378_30_378_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_30_378_34&#39;)"><span class="hl_varref"><span class="mpre">more</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="Data.Attoparsec.Internal.Types.html#loc_121_13_121_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_121_13_121_21&#39;)"><span class="hl_conref"><span class="mpre">Complete</span></span></a><span class="mpre"> -&gt;
       </span><a href="#loc_378_41_378_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_41_378_45&#39;)"><span class="hl_varref"><span class="mpre">succ</span></span></a><span class="mpre"> </span><a href="#loc_378_24_378_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_24_378_25&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_378_26_378_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_26_378_29&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a href="#loc_378_30_378_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_30_378_34&#39;)"><span class="hl_varref"><span class="mpre">more</span></span></a><span class="mpre"> </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">
     | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> -&gt;
       let </span><a name="loc_386_12_386_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_386_12_386_17&#39;)"><span class="hl_fundecl"><span class="mpre">succ&#39;</span></span></a><span class="mpre"> </span><a name="loc_386_18_386_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_386_18_386_20&#39;)"><span class="hl_vardecl"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a name="loc_386_21_386_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_386_21_386_25&#39;)"><span class="hl_vardecl"><span class="mpre">pos&#39;</span></span></a><span class="mpre"> </span><a name="loc_386_26_386_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_386_26_386_31&#39;)"><span class="hl_vardecl"><span class="mpre">more&#39;</span></span></a><span class="mpre"> =
             let </span><a href="Data.Text.Unsafe.html#loc_62_13_62_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_62_13_62_17&#39;)"><span class="hl_conref"><span class="mpre">T.Iter</span></span></a><span class="mpre"> !</span><a name="loc_387_26_387_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_387_26_387_27&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> _ = </span><a href="Data.Attoparsec.Text.Buffer.html#loc_132_1_132_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Text.Buffer.html#loc_132_1_132_5&#39;)"><span class="hl_varref"><span class="mpre">Buf.iter</span></span></a><span class="mpre"> </span><a href="#loc_386_18_386_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_386_18_386_20&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre"> (</span><a href="Data.Attoparsec.Internal.Types.html#loc_43_21_43_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_43_21_43_28&#39;)"><span class="hl_varref"><span class="mpre">fromPos</span></span></a><span class="mpre"> </span><a href="#loc_386_21_386_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_386_21_386_25&#39;)"><span class="hl_varref"><span class="mpre">pos&#39;</span></span></a><span class="mpre">)
             in </span><a href="#loc_378_41_378_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_41_378_45&#39;)"><span class="hl_varref"><span class="mpre">succ</span></span></a><span class="mpre"> </span><a href="#loc_386_18_386_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_386_18_386_20&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a href="#loc_386_21_386_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_386_21_386_25&#39;)"><span class="hl_varref"><span class="mpre">pos&#39;</span></span></a><span class="mpre"> </span><a href="#loc_386_26_386_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_386_26_386_31&#39;)"><span class="hl_varref"><span class="mpre">more&#39;</span></span></a><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a href="#loc_387_26_387_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_387_26_387_27&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">)
           </span><a name="loc_389_12_389_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_389_12_389_17&#39;)"><span class="hl_fundecl"><span class="mpre">lose&#39;</span></span></a><span class="mpre"> </span><a name="loc_389_18_389_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_389_18_389_20&#39;)"><span class="hl_vardecl"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a name="loc_389_21_389_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_389_21_389_25&#39;)"><span class="hl_vardecl"><span class="mpre">pos&#39;</span></span></a><span class="mpre"> </span><a name="loc_389_26_389_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_389_26_389_31&#39;)"><span class="hl_vardecl"><span class="mpre">more&#39;</span></span></a><span class="mpre"> = </span><a href="#loc_378_41_378_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_41_378_45&#39;)"><span class="hl_varref"><span class="mpre">succ</span></span></a><span class="mpre"> </span><a href="#loc_389_18_389_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_389_18_389_20&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a href="#loc_389_21_389_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_389_21_389_25&#39;)"><span class="hl_varref"><span class="mpre">pos&#39;</span></span></a><span class="mpre"> </span><a href="#loc_389_26_389_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_389_26_389_31&#39;)"><span class="hl_varref"><span class="mpre">more&#39;</span></span></a><span class="mpre"> </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">
       in </span><a href="Data.Attoparsec.Internal.html#loc_52_1_52_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.html#loc_52_1_52_7&#39;)"><span class="hl_varref"><span class="mpre">prompt</span></span></a><span class="mpre"> </span><a href="#loc_378_24_378_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_24_378_25&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_378_26_378_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_26_378_29&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a href="#loc_378_30_378_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_30_378_34&#39;)"><span class="hl_varref"><span class="mpre">more</span></span></a><span class="mpre"> </span><a href="#loc_389_12_389_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_389_12_389_17&#39;)"><span class="hl_varref"><span class="mpre">lose&#39;</span></span></a><span class="mpre"> </span><a href="#loc_386_12_386_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_386_12_386_17&#39;)"><span class="hl_varref"><span class="mpre">succ&#39;</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_378_1_378_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_378_1_378_9&#39;)"><span class="mpre">peekChar</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Match any character, to perform lookahead.  Does not consume any</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- input, but will fail if end of input has been reached.</span></span><span class="mpre">
</span><a href="#loc_396_1_396_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_396_1_396_10&#39;)"><span class="mpre">peekChar&#39;</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_396_1_396_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_396_1_396_10&#39;)"><span class="hl_vardecl"><span class="mpre">peekChar&#39;</span></span></a><span class="mpre"> = do
  (_,</span><a name="loc_397_6_397_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_6_397_7&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_474_1_474_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_1_474_7&#39;)"><span class="hl_varref"><span class="mpre">ensure</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="Prelude.html#loc_160_3_160_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Prelude.html#loc_160_3_160_5&#39;)"><span class="hl_infix"><span class="mpre">$!</span></span></a><span class="mpre"> </span><a href="Data.Text.Unsafe.html#loc_43_1_43_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_43_1_43_11&#39;)"><span class="hl_varref"><span class="mpre">T.unsafeHead</span></span></a><span class="mpre"> </span><a href="#loc_397_6_397_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_6_397_7&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_396_1_396_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_396_1_396_10&#39;)"><span class="mpre">peekChar&#39;</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Match either a single newline character @\&#39;\\n\&#39;@, or a carriage</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- return followed by a newline character @\&quot;\\r\\n\&quot;@.</span></span><span class="mpre">
</span><a href="#loc_404_1_404_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_1_404_10&#39;)"><span class="mpre">endOfLine</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_404_1_404_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_404_1_404_10&#39;)"><span class="hl_vardecl"><span class="mpre">endOfLine</span></span></a><span class="mpre"> = (</span><a href="#loc_362_1_362_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_1_362_5&#39;)"><span class="hl_varref"><span class="mpre">char</span></span></a><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;\n&#39;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">) </span><a href="Control.Applicative.html#loc_142_5_142_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_142_5_142_10&#39;)"><span class="hl_infix"><span class="mpre">&lt;|&gt;</span></span></a><span class="mpre"> (</span><a href="#loc_162_1_162_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_1_162_7&#39;)"><span class="hl_varref"><span class="mpre">string</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;\r\n&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Terminal failure continuation.</span></span><span class="mpre">
</span><a href="#loc_408_1_408_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_1_408_6&#39;)"><span class="mpre">failK</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Failure</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_408_1_408_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_1_408_6&#39;)"><span class="hl_fundecl"><span class="mpre">failK</span></span></a><span class="mpre"> </span><a name="loc_408_7_408_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_7_408_8&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Pos</span></span><span class="mpre"> </span><a name="loc_408_14_408_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_14_408_17&#39;)"><span class="hl_vardecl"><span class="mpre">pos</span></span></a><span class="mpre">) </span><span class="hl_vardecl"><span class="mpre">_more</span></span><span class="mpre"> </span><a name="loc_408_25_408_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_25_408_30&#39;)"><span class="hl_vardecl"><span class="mpre">stack</span></span></a><span class="mpre"> </span><a name="loc_408_31_408_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_31_408_34&#39;)"><span class="hl_vardecl"><span class="mpre">msg</span></span></a><span class="mpre"> = </span><a href="Data.Attoparsec.Internal.Types.html#loc_52_5_52_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_52_5_52_9&#39;)"><span class="hl_conref"><span class="mpre">Fail</span></span></a><span class="mpre"> (</span><a href="Data.Attoparsec.Text.Buffer.html#loc_123_1_123_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Text.Buffer.html#loc_123_1_123_11&#39;)"><span class="hl_varref"><span class="mpre">Buf.dropWord16</span></span></a><span class="mpre"> </span><a href="#loc_408_14_408_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_14_408_17&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a href="#loc_408_7_408_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_7_408_8&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) </span><a href="#loc_408_25_408_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_25_408_30&#39;)"><span class="hl_varref"><span class="mpre">stack</span></span></a><span class="mpre"> </span><a href="#loc_408_31_408_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_31_408_34&#39;)"><span class="hl_varref"><span class="mpre">msg</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_408_1_408_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_1_408_6&#39;)"><span class="mpre">failK</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Terminal success continuation.</span></span><span class="mpre">
</span><a href="#loc_413_1_413_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_413_1_413_9&#39;)"><span class="mpre">successK</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Success</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_413_1_413_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_413_1_413_9&#39;)"><span class="hl_fundecl"><span class="mpre">successK</span></span></a><span class="mpre"> </span><a name="loc_413_10_413_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_413_10_413_11&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Pos</span></span><span class="mpre"> </span><a name="loc_413_17_413_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_413_17_413_20&#39;)"><span class="hl_vardecl"><span class="mpre">pos</span></span></a><span class="mpre">) </span><span class="hl_vardecl"><span class="mpre">_more</span></span><span class="mpre"> </span><a name="loc_413_28_413_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_413_28_413_29&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="Data.Attoparsec.Internal.Types.html#loc_65_5_65_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_65_5_65_9&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre"> (</span><a href="Data.Attoparsec.Text.Buffer.html#loc_123_1_123_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Text.Buffer.html#loc_123_1_123_11&#39;)"><span class="hl_varref"><span class="mpre">Buf.dropWord16</span></span></a><span class="mpre"> </span><a href="#loc_413_17_413_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_413_17_413_20&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a href="#loc_413_10_413_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_413_10_413_11&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) </span><a href="#loc_413_28_413_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_413_28_413_29&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_413_1_413_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_413_1_413_9&#39;)"><span class="mpre">successK</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Run a parser.</span></span><span class="mpre">
</span><a href="#loc_418_1_418_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_1_418_6&#39;)"><span class="mpre">parse</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Result</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_418_1_418_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_1_418_6&#39;)"><span class="hl_fundecl"><span class="mpre">parse</span></span></a><span class="mpre"> </span><a name="loc_418_7_418_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_7_418_8&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> </span><a name="loc_418_9_418_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_9_418_10&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><a href="Data.Attoparsec.Internal.Types.html#loc_105_7_105_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_105_7_105_16&#39;)"><span class="hl_varref"><span class="mpre">runParser</span></span></a><span class="mpre"> </span><a href="#loc_418_7_418_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_7_418_8&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> (</span><a href="Data.Attoparsec.Text.Buffer.html#loc_69_1_69_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Text.Buffer.html#loc_69_1_69_7&#39;)"><span class="hl_varref"><span class="mpre">buffer</span></span></a><span class="mpre"> </span><a href="#loc_418_9_418_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_9_418_10&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">) </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="Data.Attoparsec.Internal.Types.html#loc_121_24_121_34" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_121_24_121_34&#39;)"><span class="hl_conref"><span class="mpre">Incomplete</span></span></a><span class="mpre"> </span><a href="#loc_408_1_408_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_1_408_6&#39;)"><span class="hl_varref"><span class="mpre">failK</span></span></a><span class="mpre"> </span><a href="#loc_413_1_413_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_413_1_413_9&#39;)"><span class="hl_varref"><span class="mpre">successK</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_418_1_418_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_418_1_418_6&#39;)"><span class="mpre">parse</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Run a parser that cannot be resupplied via a &#39;Partial&#39; result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This function does not force a parser to consume all of its input.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Instead, any residual input will be discarded.  To force a parser</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- to consume all of its input, use something like this:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--&#39;parseOnly&#39; (myParser &#39;Control.Applicative.&lt;*&#39; &#39;endOfInput&#39;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_431_1_431_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_431_1_431_10&#39;)"><span class="mpre">parseOnly</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_431_1_431_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_431_1_431_10&#39;)"><span class="hl_fundecl"><span class="mpre">parseOnly</span></span></a><span class="mpre"> </span><a name="loc_431_11_431_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_431_11_431_12&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> </span><a name="loc_431_13_431_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_431_13_431_14&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = case </span><a href="Data.Attoparsec.Internal.Types.html#loc_105_7_105_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_105_7_105_16&#39;)"><span class="hl_varref"><span class="mpre">runParser</span></span></a><span class="mpre"> </span><a href="#loc_431_11_431_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_431_11_431_12&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> (</span><a href="Data.Attoparsec.Text.Buffer.html#loc_69_1_69_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Text.Buffer.html#loc_69_1_69_7&#39;)"><span class="hl_varref"><span class="mpre">buffer</span></span></a><span class="mpre"> </span><a href="#loc_431_13_431_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_431_13_431_14&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">) </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="Data.Attoparsec.Internal.Types.html#loc_121_13_121_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_121_13_121_21&#39;)"><span class="hl_conref"><span class="mpre">Complete</span></span></a><span class="mpre"> </span><a href="#loc_408_1_408_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_1_408_6&#39;)"><span class="hl_varref"><span class="mpre">failK</span></span></a><span class="mpre"> </span><a href="#loc_413_1_413_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_413_1_413_9&#39;)"><span class="hl_varref"><span class="mpre">successK</span></span></a><span class="mpre"> of
                  </span><a href="Data.Attoparsec.Internal.Types.html#loc_52_5_52_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_52_5_52_9&#39;)"><span class="hl_conref"><span class="mpre">Fail</span></span></a><span class="mpre"> _ _ </span><a name="loc_432_28_432_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_432_28_432_31&#39;)"><span class="hl_vardecl"><span class="mpre">err</span></span></a><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a href="#loc_432_28_432_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_432_28_432_31&#39;)"><span class="hl_varref"><span class="mpre">err</span></span></a><span class="mpre">
                  </span><a href="Data.Attoparsec.Internal.Types.html#loc_65_5_65_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_65_5_65_9&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre"> _ </span><a name="loc_433_26_433_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_433_26_433_27&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">     -&gt; </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a href="#loc_433_26_433_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_433_26_433_27&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
                  _            -&gt; </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;parseOnly: impossible error!&quot;</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_431_1_431_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_431_1_431_10&#39;)"><span class="mpre">parseOnly</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_438_1_438_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_1_438_4&#39;)"><span class="mpre">get</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_438_1_438_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_1_438_4&#39;)"><span class="hl_vardecl"><span class="mpre">get</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">T.Parser</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_438_19_438_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_19_438_20&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_438_21_438_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_21_438_24&#39;)"><span class="hl_vardecl"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a name="loc_438_25_438_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_25_438_29&#39;)"><span class="hl_vardecl"><span class="mpre">more</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_lose</span></span><span class="mpre"> </span><a name="loc_438_36_438_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_36_438_40&#39;)"><span class="hl_vardecl"><span class="mpre">succ</span></span></a><span class="mpre"> -&gt;
  </span><a href="#loc_438_36_438_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_36_438_40&#39;)"><span class="hl_varref"><span class="mpre">succ</span></span></a><span class="mpre"> </span><a href="#loc_438_19_438_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_19_438_20&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_438_21_438_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_21_438_24&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a href="#loc_438_25_438_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_25_438_29&#39;)"><span class="hl_varref"><span class="mpre">more</span></span></a><span class="mpre"> (</span><a href="Data.Attoparsec.Text.Buffer.html#loc_123_1_123_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Text.Buffer.html#loc_123_1_123_11&#39;)"><span class="hl_varref"><span class="mpre">Buf.dropWord16</span></span></a><span class="mpre"> (</span><a href="Data.Attoparsec.Internal.Types.html#loc_43_21_43_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_43_21_43_28&#39;)"><span class="hl_varref"><span class="mpre">fromPos</span></span></a><span class="mpre"> </span><a href="#loc_438_21_438_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_21_438_24&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre">) </span><a href="#loc_438_19_438_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_19_438_20&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_438_1_438_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_438_1_438_4&#39;)"><span class="mpre">get</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_443_1_443_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_443_1_443_11&#39;)"><span class="mpre">endOfChunk</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_443_1_443_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_443_1_443_11&#39;)"><span class="hl_vardecl"><span class="mpre">endOfChunk</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">T.Parser</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_443_26_443_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_443_26_443_27&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_443_28_443_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_443_28_443_31&#39;)"><span class="hl_vardecl"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a name="loc_443_32_443_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_443_32_443_36&#39;)"><span class="hl_vardecl"><span class="mpre">more</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_lose</span></span><span class="mpre"> </span><a name="loc_443_43_443_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_443_43_443_47&#39;)"><span class="hl_vardecl"><span class="mpre">succ</span></span></a><span class="mpre"> -&gt;
  </span><a href="#loc_443_43_443_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_443_43_443_47&#39;)"><span class="hl_varref"><span class="mpre">succ</span></span></a><span class="mpre"> </span><a href="#loc_443_26_443_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_443_26_443_27&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_443_28_443_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_443_28_443_31&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a href="#loc_443_32_443_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_443_32_443_36&#39;)"><span class="hl_varref"><span class="mpre">more</span></span></a><span class="mpre"> (</span><a href="#loc_443_28_443_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_443_28_443_31&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_504_1_504_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_504_1_504_9&#39;)"><span class="hl_varref"><span class="mpre">lengthOf</span></span></a><span class="mpre"> </span><a href="#loc_443_26_443_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_443_26_443_27&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_443_1_443_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_443_1_443_11&#39;)"><span class="mpre">endOfChunk</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_448_1_448_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_1_448_17&#39;)"><span class="mpre">inputSpansChunks</span></a><span class="mpre"> :: </span><a href="Data.Attoparsec.Internal.Types.html#loc_43_9_43_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_43_9_43_12&#39;)"><span class="hl_tyconref"><span class="mpre">Pos</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_448_1_448_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_1_448_17&#39;)"><span class="hl_fundecl"><span class="mpre">inputSpansChunks</span></span></a><span class="mpre"> </span><a name="loc_448_18_448_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_18_448_19&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">T.Parser</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_448_34_448_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_34_448_35&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_448_36_448_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_36_448_40&#39;)"><span class="hl_vardecl"><span class="mpre">pos_</span></span></a><span class="mpre"> </span><a name="loc_448_41_448_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_41_448_45&#39;)"><span class="hl_vardecl"><span class="mpre">more</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_lose</span></span><span class="mpre"> </span><a name="loc_448_52_448_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_52_448_56&#39;)"><span class="hl_vardecl"><span class="mpre">succ</span></span></a><span class="mpre"> -&gt;
  let </span><a name="loc_449_7_449_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_449_7_449_10&#39;)"><span class="hl_vardecl"><span class="mpre">pos</span></span></a><span class="mpre"> = </span><a href="#loc_448_36_448_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_36_448_40&#39;)"><span class="hl_varref"><span class="mpre">pos_</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_448_18_448_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_18_448_19&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">
  in if </span><a href="#loc_449_7_449_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_449_7_449_10&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_504_1_504_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_504_1_504_9&#39;)"><span class="hl_varref"><span class="mpre">lengthOf</span></span></a><span class="mpre"> </span><a href="#loc_448_34_448_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_34_448_35&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">||</span></span><span class="mpre"> </span><a href="#loc_448_41_448_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_41_448_45&#39;)"><span class="hl_varref"><span class="mpre">more</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="Data.Attoparsec.Internal.Types.html#loc_121_13_121_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_121_13_121_21&#39;)"><span class="hl_conref"><span class="mpre">Complete</span></span></a><span class="mpre">
     then </span><a href="#loc_448_52_448_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_52_448_56&#39;)"><span class="hl_varref"><span class="mpre">succ</span></span></a><span class="mpre"> </span><a href="#loc_448_34_448_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_34_448_35&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_449_7_449_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_449_7_449_10&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a href="#loc_448_41_448_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_41_448_45&#39;)"><span class="hl_varref"><span class="mpre">more</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
     else let </span><a name="loc_452_15_452_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_452_15_452_20&#39;)"><span class="hl_fundecl"><span class="mpre">lose&#39;</span></span></a><span class="mpre"> </span><a name="loc_452_21_452_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_452_21_452_23&#39;)"><span class="hl_vardecl"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a name="loc_452_24_452_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_452_24_452_28&#39;)"><span class="hl_vardecl"><span class="mpre">pos&#39;</span></span></a><span class="mpre"> </span><a name="loc_452_29_452_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_452_29_452_34&#39;)"><span class="hl_vardecl"><span class="mpre">more&#39;</span></span></a><span class="mpre"> = </span><a href="#loc_448_52_448_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_52_448_56&#39;)"><span class="hl_varref"><span class="mpre">succ</span></span></a><span class="mpre"> </span><a href="#loc_452_21_452_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_452_21_452_23&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a href="#loc_452_24_452_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_452_24_452_28&#39;)"><span class="hl_varref"><span class="mpre">pos&#39;</span></span></a><span class="mpre"> </span><a href="#loc_452_29_452_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_452_29_452_34&#39;)"><span class="hl_varref"><span class="mpre">more&#39;</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
              </span><a name="loc_453_15_453_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_453_15_453_20&#39;)"><span class="hl_fundecl"><span class="mpre">succ&#39;</span></span></a><span class="mpre"> </span><a name="loc_453_21_453_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_453_21_453_23&#39;)"><span class="hl_vardecl"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a name="loc_453_24_453_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_453_24_453_28&#39;)"><span class="hl_vardecl"><span class="mpre">pos&#39;</span></span></a><span class="mpre"> </span><a name="loc_453_29_453_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_453_29_453_34&#39;)"><span class="hl_vardecl"><span class="mpre">more&#39;</span></span></a><span class="mpre"> = </span><a href="#loc_448_52_448_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_52_448_56&#39;)"><span class="hl_varref"><span class="mpre">succ</span></span></a><span class="mpre"> </span><a href="#loc_453_21_453_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_453_21_453_23&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a href="#loc_453_24_453_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_453_24_453_28&#39;)"><span class="hl_varref"><span class="mpre">pos&#39;</span></span></a><span class="mpre"> </span><a href="#loc_453_29_453_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_453_29_453_34&#39;)"><span class="hl_varref"><span class="mpre">more&#39;</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">
          in </span><a href="Data.Attoparsec.Internal.html#loc_52_1_52_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.html#loc_52_1_52_7&#39;)"><span class="hl_varref"><span class="mpre">prompt</span></span></a><span class="mpre"> </span><a href="#loc_448_34_448_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_34_448_35&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_449_7_449_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_449_7_449_10&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a href="#loc_448_41_448_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_41_448_45&#39;)"><span class="hl_varref"><span class="mpre">more</span></span></a><span class="mpre"> </span><a href="#loc_452_15_452_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_452_15_452_20&#39;)"><span class="hl_varref"><span class="mpre">lose&#39;</span></span></a><span class="mpre"> </span><a href="#loc_453_15_453_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_453_15_453_20&#39;)"><span class="hl_varref"><span class="mpre">succ&#39;</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_448_1_448_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_1_448_17&#39;)"><span class="mpre">inputSpansChunks</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_458_1_458_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_1_458_8&#39;)"><span class="mpre">advance</span></a><span class="mpre"> :: </span><a href="Data.Attoparsec.Internal.Types.html#loc_43_9_43_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_43_9_43_12&#39;)"><span class="hl_tyconref"><span class="mpre">Pos</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_458_1_458_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_1_458_8&#39;)"><span class="hl_fundecl"><span class="mpre">advance</span></span></a><span class="mpre"> </span><a name="loc_458_9_458_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_9_458_10&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">T.Parser</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_458_25_458_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_25_458_26&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_458_27_458_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_27_458_30&#39;)"><span class="hl_vardecl"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a name="loc_458_31_458_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_31_458_35&#39;)"><span class="hl_vardecl"><span class="mpre">more</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_lose</span></span><span class="mpre"> </span><a name="loc_458_42_458_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_42_458_46&#39;)"><span class="hl_vardecl"><span class="mpre">succ</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_458_42_458_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_42_458_46&#39;)"><span class="hl_varref"><span class="mpre">succ</span></span></a><span class="mpre"> </span><a href="#loc_458_25_458_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_25_458_26&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="#loc_458_27_458_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_27_458_30&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><a href="#loc_458_9_458_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_9_458_10&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">) </span><a href="#loc_458_31_458_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_31_458_35&#39;)"><span class="hl_varref"><span class="mpre">more</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_458_1_458_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_1_458_8&#39;)"><span class="mpre">advance</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_464_1_464_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_1_464_16&#39;)"><span class="mpre">ensureSuspended</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><a href="Data.Attoparsec.Text.Buffer.html#loc_54_6_54_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Text.Buffer.html#loc_54_6_54_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Attoparsec.Internal.Types.html#loc_43_9_43_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_43_9_43_12&#39;)"><span class="hl_tyconref"><span class="mpre">Pos</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Attoparsec.Internal.Types.html#loc_121_6_121_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_121_6_121_10&#39;)"><span class="hl_tyconref"><span class="mpre">More</span></span></a><span class="mpre">
                -&gt; </span><span class="hl_tyconref"><span class="mpre">Failure</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Success</span></span><span class="mpre"> (</span><a href="Data.Attoparsec.Internal.Types.html#loc_43_9_43_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_43_9_43_12&#39;)"><span class="hl_tyconref"><span class="mpre">Pos</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">
                -&gt; </span><span class="hl_tyconref"><span class="mpre">Result</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">
</span><a name="loc_464_1_464_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_1_464_16&#39;)"><span class="hl_fundecl"><span class="mpre">ensureSuspended</span></span></a><span class="mpre"> </span><a name="loc_464_17_464_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_17_464_18&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_464_19_464_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_19_464_20&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_464_21_464_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_21_464_24&#39;)"><span class="hl_vardecl"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a name="loc_464_25_464_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_25_464_29&#39;)"><span class="hl_vardecl"><span class="mpre">more</span></span></a><span class="mpre"> </span><a name="loc_464_30_464_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_30_464_34&#39;)"><span class="hl_vardecl"><span class="mpre">lose</span></span></a><span class="mpre"> </span><a name="loc_464_35_464_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_35_464_39&#39;)"><span class="hl_vardecl"><span class="mpre">succ</span></span></a><span class="mpre"> =
    </span><a href="Data.Attoparsec.Internal.Types.html#loc_105_7_105_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_105_7_105_16&#39;)"><span class="hl_varref"><span class="mpre">runParser</span></span></a><span class="mpre"> (</span><a href="Data.Attoparsec.Internal.html#loc_72_1_72_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.html#loc_72_1_72_12&#39;)"><span class="hl_varref"><span class="mpre">demandInput</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_466_9_466_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_9_466_11&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">) </span><a href="#loc_464_19_464_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_19_464_20&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_464_21_464_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_21_464_24&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a href="#loc_464_25_464_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_25_464_29&#39;)"><span class="hl_varref"><span class="mpre">more</span></span></a><span class="mpre"> </span><a href="#loc_464_30_464_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_30_464_34&#39;)"><span class="hl_varref"><span class="mpre">lose</span></span></a><span class="mpre"> </span><a href="#loc_464_35_464_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_35_464_39&#39;)"><span class="hl_varref"><span class="mpre">succ</span></span></a><span class="mpre">
  where </span><a name="loc_466_9_466_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_9_466_11&#39;)"><span class="hl_vardecl"><span class="mpre">go</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">T.Parser</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_466_26_466_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_26_466_28&#39;)"><span class="hl_vardecl"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a name="loc_466_29_466_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_29_466_33&#39;)"><span class="hl_vardecl"><span class="mpre">pos&#39;</span></span></a><span class="mpre"> </span><a name="loc_466_34_466_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_34_466_39&#39;)"><span class="hl_vardecl"><span class="mpre">more&#39;</span></span></a><span class="mpre"> </span><a name="loc_466_40_466_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_40_466_45&#39;)"><span class="hl_vardecl"><span class="mpre">lose&#39;</span></span></a><span class="mpre"> </span><a name="loc_466_46_466_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_46_466_51&#39;)"><span class="hl_vardecl"><span class="mpre">succ&#39;</span></span></a><span class="mpre"> -&gt;
          case </span><a href="#loc_491_1_491_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_491_1_491_14&#39;)"><span class="hl_varref"><span class="mpre">lengthAtLeast</span></span></a><span class="mpre"> </span><a href="#loc_466_29_466_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_29_466_33&#39;)"><span class="hl_varref"><span class="mpre">pos&#39;</span></span></a><span class="mpre"> </span><a href="#loc_464_17_464_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_17_464_18&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_466_26_466_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_26_466_28&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre"> of
            </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a name="loc_468_18_468_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_468_18_468_20&#39;)"><span class="hl_vardecl"><span class="mpre">n&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_466_46_466_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_46_466_51&#39;)"><span class="hl_varref"><span class="mpre">succ&#39;</span></span></a><span class="mpre"> </span><a href="#loc_466_26_466_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_26_466_28&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a href="#loc_466_29_466_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_29_466_33&#39;)"><span class="hl_varref"><span class="mpre">pos&#39;</span></span></a><span class="mpre"> </span><a href="#loc_466_34_466_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_34_466_39&#39;)"><span class="hl_varref"><span class="mpre">more&#39;</span></span></a><span class="mpre"> (</span><a href="#loc_468_18_468_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_468_18_468_20&#39;)"><span class="hl_varref"><span class="mpre">n&#39;</span></span></a><span class="mpre">, </span><a href="#loc_500_1_500_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_500_1_500_10&#39;)"><span class="hl_varref"><span class="mpre">substring</span></span></a><span class="mpre"> </span><a href="#loc_464_21_464_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_21_464_24&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a href="#loc_468_18_468_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_468_18_468_20&#39;)"><span class="hl_varref"><span class="mpre">n&#39;</span></span></a><span class="mpre"> </span><a href="#loc_466_26_466_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_26_466_28&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre">)
            </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Attoparsec.Internal.Types.html#loc_105_7_105_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_105_7_105_16&#39;)"><span class="hl_varref"><span class="mpre">runParser</span></span></a><span class="mpre"> (</span><a href="Data.Attoparsec.Internal.html#loc_72_1_72_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.html#loc_72_1_72_12&#39;)"><span class="hl_varref"><span class="mpre">demandInput</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_466_9_466_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_9_466_11&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">) </span><a href="#loc_466_26_466_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_26_466_28&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a href="#loc_466_29_466_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_29_466_33&#39;)"><span class="hl_varref"><span class="mpre">pos&#39;</span></span></a><span class="mpre"> </span><a href="#loc_466_34_466_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_34_466_39&#39;)"><span class="hl_varref"><span class="mpre">more&#39;</span></span></a><span class="mpre"> </span><a href="#loc_466_40_466_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_40_466_45&#39;)"><span class="hl_varref"><span class="mpre">lose&#39;</span></span></a><span class="mpre"> </span><a href="#loc_466_46_466_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_466_46_466_51&#39;)"><span class="hl_varref"><span class="mpre">succ&#39;</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | If at least @n@ elements of input are available, return the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- current input, otherwise fail.</span></span><span class="mpre">
</span><a href="#loc_474_1_474_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_1_474_7&#39;)"><span class="mpre">ensure</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> (</span><a href="Data.Attoparsec.Internal.Types.html#loc_43_9_43_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_43_9_43_12&#39;)"><span class="hl_tyconref"><span class="mpre">Pos</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">)
</span><a name="loc_474_1_474_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_1_474_7&#39;)"><span class="hl_fundecl"><span class="mpre">ensure</span></span></a><span class="mpre"> </span><a name="loc_474_8_474_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_8_474_9&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">T.Parser</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_474_24_474_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_24_474_25&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_474_26_474_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_26_474_29&#39;)"><span class="hl_vardecl"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a name="loc_474_30_474_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_30_474_34&#39;)"><span class="hl_vardecl"><span class="mpre">more</span></span></a><span class="mpre"> </span><a name="loc_474_35_474_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_35_474_39&#39;)"><span class="hl_vardecl"><span class="mpre">lose</span></span></a><span class="mpre"> </span><a name="loc_474_40_474_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_40_474_44&#39;)"><span class="hl_vardecl"><span class="mpre">succ</span></span></a><span class="mpre"> -&gt;
    case </span><a href="#loc_491_1_491_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_491_1_491_14&#39;)"><span class="hl_varref"><span class="mpre">lengthAtLeast</span></span></a><span class="mpre"> </span><a href="#loc_474_26_474_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_26_474_29&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a href="#loc_474_8_474_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_8_474_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_474_24_474_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_24_474_25&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> of
      </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a name="loc_476_12_476_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_12_476_14&#39;)"><span class="hl_vardecl"><span class="mpre">n&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_474_40_474_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_40_474_44&#39;)"><span class="hl_varref"><span class="mpre">succ</span></span></a><span class="mpre"> </span><a href="#loc_474_24_474_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_24_474_25&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_474_26_474_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_26_474_29&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a href="#loc_474_30_474_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_30_474_34&#39;)"><span class="hl_varref"><span class="mpre">more</span></span></a><span class="mpre"> (</span><a href="#loc_476_12_476_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_12_476_14&#39;)"><span class="hl_varref"><span class="mpre">n&#39;</span></span></a><span class="mpre">, </span><a href="#loc_500_1_500_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_500_1_500_10&#39;)"><span class="hl_varref"><span class="mpre">substring</span></span></a><span class="mpre"> </span><a href="#loc_474_26_474_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_26_474_29&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a href="#loc_476_12_476_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_476_12_476_14&#39;)"><span class="hl_varref"><span class="mpre">n&#39;</span></span></a><span class="mpre"> </span><a href="#loc_474_24_474_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_24_474_25&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
      </span><span class="hl_comment"><span class="mpre">-- The uncommon case is kept out-of-line to reduce code size:</span></span><span class="mpre">
      </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_464_1_464_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_1_464_16&#39;)"><span class="hl_varref"><span class="mpre">ensureSuspended</span></span></a><span class="mpre"> </span><a href="#loc_474_8_474_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_8_474_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_474_24_474_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_24_474_25&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_474_26_474_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_26_474_29&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a href="#loc_474_30_474_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_30_474_34&#39;)"><span class="hl_varref"><span class="mpre">more</span></span></a><span class="mpre"> </span><a href="#loc_474_35_474_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_35_474_39&#39;)"><span class="hl_varref"><span class="mpre">lose</span></span></a><span class="mpre"> </span><a href="#loc_474_40_474_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_40_474_44&#39;)"><span class="hl_varref"><span class="mpre">succ</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Non-recursive so the bounds check can be inlined:</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_474_1_474_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_474_1_474_7&#39;)"><span class="mpre">ensure</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Return both the result of a parse and the portion of the input</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- that was consumed while it was being parsed.</span></span><span class="mpre">
</span><a href="#loc_485_1_485_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_485_1_485_6&#39;)"><span class="mpre">match</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Parser</span></span><span class="mpre"> (</span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
</span><a name="loc_485_1_485_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_485_1_485_6&#39;)"><span class="hl_fundecl"><span class="mpre">match</span></span></a><span class="mpre"> </span><a name="loc_485_7_485_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_485_7_485_8&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">T.Parser</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_485_23_485_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_485_23_485_24&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_485_25_485_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_485_25_485_28&#39;)"><span class="hl_vardecl"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a name="loc_485_29_485_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_485_29_485_33&#39;)"><span class="hl_vardecl"><span class="mpre">more</span></span></a><span class="mpre"> </span><a name="loc_485_34_485_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_485_34_485_38&#39;)"><span class="hl_vardecl"><span class="mpre">lose</span></span></a><span class="mpre"> </span><a name="loc_485_39_485_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_485_39_485_43&#39;)"><span class="hl_vardecl"><span class="mpre">succ</span></span></a><span class="mpre"> -&gt;
  let </span><a name="loc_486_7_486_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_7_486_12&#39;)"><span class="hl_fundecl"><span class="mpre">succ&#39;</span></span></a><span class="mpre"> </span><a name="loc_486_13_486_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_13_486_15&#39;)"><span class="hl_vardecl"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a name="loc_486_16_486_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_16_486_20&#39;)"><span class="hl_vardecl"><span class="mpre">pos&#39;</span></span></a><span class="mpre"> </span><a name="loc_486_21_486_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_21_486_26&#39;)"><span class="hl_vardecl"><span class="mpre">more&#39;</span></span></a><span class="mpre"> </span><a name="loc_486_27_486_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_27_486_28&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="#loc_485_39_485_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_485_39_485_43&#39;)"><span class="hl_varref"><span class="mpre">succ</span></span></a><span class="mpre"> </span><a href="#loc_486_13_486_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_13_486_15&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a href="#loc_486_16_486_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_16_486_20&#39;)"><span class="hl_varref"><span class="mpre">pos&#39;</span></span></a><span class="mpre"> </span><a href="#loc_486_21_486_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_21_486_26&#39;)"><span class="hl_varref"><span class="mpre">more&#39;</span></span></a><span class="mpre">
                              (</span><a href="#loc_500_1_500_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_500_1_500_10&#39;)"><span class="hl_varref"><span class="mpre">substring</span></span></a><span class="mpre"> </span><a href="#loc_485_25_485_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_485_25_485_28&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> (</span><a href="#loc_486_16_486_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_16_486_20&#39;)"><span class="hl_varref"><span class="mpre">pos&#39;</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><a href="#loc_485_25_485_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_485_25_485_28&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre">) </span><a href="#loc_486_13_486_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_13_486_15&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre">, </span><a href="#loc_486_27_486_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_27_486_28&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
  in </span><a href="Data.Attoparsec.Internal.Types.html#loc_105_7_105_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_105_7_105_16&#39;)"><span class="hl_varref"><span class="mpre">runParser</span></span></a><span class="mpre"> </span><a href="#loc_485_7_485_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_485_7_485_8&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_485_23_485_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_485_23_485_24&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_485_25_485_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_485_25_485_28&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a href="#loc_485_29_485_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_485_29_485_33&#39;)"><span class="hl_varref"><span class="mpre">more</span></span></a><span class="mpre"> </span><a href="#loc_485_34_485_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_485_34_485_38&#39;)"><span class="hl_varref"><span class="mpre">lose</span></span></a><span class="mpre"> </span><a href="#loc_486_7_486_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_7_486_12&#39;)"><span class="hl_varref"><span class="mpre">succ&#39;</span></span></a><span class="mpre">

</span><a href="#loc_491_1_491_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_491_1_491_14&#39;)"><span class="mpre">lengthAtLeast</span></a><span class="mpre"> :: </span><a href="Data.Attoparsec.Internal.Types.html#loc_43_9_43_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_43_9_43_12&#39;)"><span class="hl_tyconref"><span class="mpre">Pos</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><a href="Data.Attoparsec.Text.Buffer.html#loc_54_6_54_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Text.Buffer.html#loc_54_6_54_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><a href="Data.Attoparsec.Internal.Types.html#loc_43_9_43_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_43_9_43_12&#39;)"><span class="hl_tyconref"><span class="mpre">Pos</span></span></a><span class="mpre">
</span><a name="loc_491_1_491_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_491_1_491_14&#39;)"><span class="hl_fundecl"><span class="mpre">lengthAtLeast</span></span></a><span class="mpre"> </span><a name="loc_491_15_491_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_491_15_491_18&#39;)"><span class="hl_vardecl"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a name="loc_491_19_491_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_491_19_491_20&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_491_21_491_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_491_21_491_22&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="#loc_492_9_492_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_9_492_11&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> (</span><a href="Data.Attoparsec.Internal.Types.html#loc_43_21_43_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_43_21_43_28&#39;)"><span class="hl_varref"><span class="mpre">fromPos</span></span></a><span class="mpre"> </span><a href="#loc_491_15_491_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_491_15_491_18&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre">)
  where </span><a name="loc_492_9_492_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_9_492_11&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_492_12_492_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_12_492_13&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> !</span><a name="loc_492_15_492_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_15_492_16&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">
          | </span><a href="#loc_492_12_492_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_12_492_13&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_491_19_491_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_491_19_491_20&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">    = </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Pos</span></span><span class="mpre"> </span><a href="#loc_492_15_492_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_15_492_16&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="#loc_491_15_491_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_491_15_491_18&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre">)
          | </span><a href="#loc_492_15_492_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_15_492_16&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_496_13_496_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_496_13_496_16&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">  = </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">
          | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_492_9_492_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_9_492_11&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="#loc_492_12_492_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_12_492_13&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) (</span><a href="#loc_492_15_492_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_15_492_16&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="Data.Attoparsec.Text.Buffer.html#loc_144_1_144_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Text.Buffer.html#loc_144_1_144_6&#39;)"><span class="hl_varref"><span class="mpre">Buf.iter_</span></span></a><span class="mpre"> </span><a href="#loc_491_21_491_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_491_21_491_22&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_492_15_492_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_15_492_16&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">)
        </span><span class="hl_conref"><span class="mpre">Pos</span></span><span class="mpre"> </span><a name="loc_496_13_496_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_496_13_496_16&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> = </span><a href="#loc_504_1_504_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_504_1_504_9&#39;)"><span class="hl_varref"><span class="mpre">lengthOf</span></span></a><span class="mpre"> </span><a href="#loc_491_21_491_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_491_21_491_22&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_491_1_491_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_491_1_491_14&#39;)"><span class="mpre">lengthAtLeast</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_500_1_500_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_500_1_500_10&#39;)"><span class="mpre">substring</span></a><span class="mpre"> :: </span><a href="Data.Attoparsec.Internal.Types.html#loc_43_9_43_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_43_9_43_12&#39;)"><span class="hl_tyconref"><span class="mpre">Pos</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Attoparsec.Internal.Types.html#loc_43_9_43_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_43_9_43_12&#39;)"><span class="hl_tyconref"><span class="mpre">Pos</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Attoparsec.Text.Buffer.html#loc_54_6_54_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Text.Buffer.html#loc_54_6_54_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_500_1_500_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_500_1_500_10&#39;)"><span class="hl_fundecl"><span class="mpre">substring</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Pos</span></span><span class="mpre"> </span><a name="loc_500_16_500_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_500_16_500_19&#39;)"><span class="hl_vardecl"><span class="mpre">pos</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">Pos</span></span><span class="mpre"> </span><a name="loc_500_26_500_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_500_26_500_27&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre">) = </span><a href="Data.Attoparsec.Text.Buffer.html#loc_116_1_116_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Text.Buffer.html#loc_116_1_116_10&#39;)"><span class="hl_varref"><span class="mpre">Buf.substring</span></span></a><span class="mpre"> </span><a href="#loc_500_16_500_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_500_16_500_19&#39;)"><span class="hl_varref"><span class="mpre">pos</span></span></a><span class="mpre"> </span><a href="#loc_500_26_500_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_500_26_500_27&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_500_1_500_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_500_1_500_10&#39;)"><span class="mpre">substring</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_504_1_504_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_504_1_504_9&#39;)"><span class="mpre">lengthOf</span></a><span class="mpre"> :: </span><a href="Data.Attoparsec.Text.Buffer.html#loc_54_6_54_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Text.Buffer.html#loc_54_6_54_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Attoparsec.Internal.Types.html#loc_43_9_43_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_43_9_43_12&#39;)"><span class="hl_tyconref"><span class="mpre">Pos</span></span></a><span class="mpre">
</span><a name="loc_504_1_504_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_504_1_504_9&#39;)"><span class="hl_vardecl"><span class="mpre">lengthOf</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Pos</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Attoparsec.Text.Buffer.html#loc_112_1_112_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Text.Buffer.html#loc_112_1_112_7&#39;)"><span class="hl_varref"><span class="mpre">Buf.length</span></span></a><span class="mpre">

</span><a href="#loc_507_1_507_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_7&#39;)"><span class="mpre">length</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Attoparsec.Internal.Types.html#loc_43_9_43_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Attoparsec.Internal.Types.html#loc_43_9_43_12&#39;)"><span class="hl_tyconref"><span class="mpre">Pos</span></span></a><span class="mpre">
</span><a name="loc_507_1_507_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_7&#39;)"><span class="hl_vardecl"><span class="mpre">length</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Pos</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Text.html#loc_554_1_554_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_554_1_554_7&#39;)"><span class="hl_varref"><span class="mpre">T.length</span></span></a><span class="mpre">
</span></div></body></html>