<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE MagicHash, UnboxedTuples #-}

</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      : Data.Primitive.Addr</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   : (c) Roman Leshchinskiy 2009-2012</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     : BSD-style</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  : Roman Leshchinskiy &lt;rl@cse.unsw.edu.au&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability : non-portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Primitive operations on machine addresses</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">

module Data.Primitive.Addr (
  </span><span class="hl_comment"><span class="mpre">-- * Types</span></span><span class="mpre">
  Addr(..),

  </span><span class="hl_comment"><span class="mpre">-- * Address arithmetic</span></span><span class="mpre">
  nullAddr, plusAddr, minusAddr, remAddr,

  </span><span class="hl_comment"><span class="mpre">-- * Element access</span></span><span class="mpre">
  indexOffAddr, readOffAddr, writeOffAddr,

  </span><span class="hl_comment"><span class="mpre">-- * Block operations</span></span><span class="mpre">
  copyAddr, moveAddr, setAddr
) where

import Control.Monad.Primitive
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, srcSpanStartLine = 29, srcSpanStartColumn = 8, srcSpanEndLine = 29, srcSpanEndColumn = 28}, srcInfoPoints = []}) &quot;Data.Primitive.Types&quot;"><span class="mpre">Data.Primitive.Types</span></span><span class="mpre">

import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, srcSpanStartLine = 31, srcSpanStartColumn = 8, srcSpanEndLine = 31, srcSpanEndColumn = 16}, srcInfoPoints = []}) &quot;GHC.Base&quot;"><span class="mpre">GHC.Base</span></span><span class="mpre"> ( Int(..) )
import GHC.Prim

import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, srcSpanStartLine = 34, srcSpanStartColumn = 8, srcSpanEndLine = 34, srcSpanEndColumn = 15}, srcInfoPoints = []}) &quot;GHC.Ptr&quot;"><span class="mpre">GHC.Ptr</span></span><span class="mpre">
import Foreign.Marshal.Utils


</span><span class="hl_comment"><span class="mpre">-- | The null address</span></span><span class="mpre">
</span><a href="#loc_40_1_40_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_1_40_9&#39;)"><span class="mpre">nullAddr</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Addr</span></span><span class="mpre">
</span><a name="loc_40_1_40_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_1_40_9&#39;)"><span class="hl_vardecl"><span class="mpre">nullAddr</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Addr</span></span><span class="mpre"> </span><a href="GHC.Prim.html#loc_2284_1_2284_10" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_2284_1_2284_10&#39;)"><span class="hl_varref"><span class="mpre">nullAddr#</span></span></a><span class="mpre">

</span><span class="warning" data-warning="DeclInfixDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, srcSpanStartLine = 42, srcSpanStartColumn = 1, srcSpanEndLine = 42, srcSpanEndColumn = 33}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, srcSpanStartLine = 42, srcSpanStartColumn = 8, srcSpanEndLine = 42, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, sr"><span class="mpre">infixl 6 `plusAddr`, `minusAddr`</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclInfixDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, srcSpanStartLine = 43, srcSpanStartColumn = 1, srcSpanEndLine = 43, srcSpanEndColumn = 19}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, srcSpanStartLine = 43, srcSpanStartColumn = 8, srcSpanEndLine = 43, srcSpanEndColumn = 9}]}) (AssocLeft (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/pri"><span class="mpre">infixl 7 `remAddr`</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Offset an address by the given number of bytes</span></span><span class="mpre">
</span><a href="#loc_47_1_47_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_1_47_9&#39;)"><span class="mpre">plusAddr</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Addr</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Addr</span></span><span class="mpre">
</span><a name="loc_47_1_47_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_1_47_9&#39;)"><span class="hl_fundecl"><span class="mpre">plusAddr</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Addr</span></span><span class="mpre"> </span><a name="loc_47_16_47_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_16_47_18&#39;)"><span class="hl_vardecl"><span class="mpre">a#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_47_24_47_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_24_47_26&#39;)"><span class="hl_vardecl"><span class="mpre">i#</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">Addr</span></span><span class="mpre"> (</span><a href="GHC.Prim.html#loc_2287_1_2287_10" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_2287_1_2287_10&#39;)"><span class="hl_varref"><span class="mpre">plusAddr#</span></span></a><span class="mpre"> </span><a href="#loc_47_16_47_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_16_47_18&#39;)"><span class="hl_varref"><span class="mpre">a#</span></span></a><span class="mpre"> </span><a href="#loc_47_24_47_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_24_47_26&#39;)"><span class="hl_varref"><span class="mpre">i#</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Distance in bytes between two addresses. The result is only valid if the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- difference fits in an &#39;Int&#39;.</span></span><span class="mpre">
</span><a href="#loc_52_1_52_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_1_52_10&#39;)"><span class="mpre">minusAddr</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Addr</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Addr</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
</span><a name="loc_52_1_52_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_1_52_10&#39;)"><span class="hl_fundecl"><span class="mpre">minusAddr</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Addr</span></span><span class="mpre"> </span><a name="loc_52_17_52_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_17_52_19&#39;)"><span class="hl_vardecl"><span class="mpre">a#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">Addr</span></span><span class="mpre"> </span><a name="loc_52_27_52_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_27_52_29&#39;)"><span class="hl_vardecl"><span class="mpre">b#</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> (</span><a href="GHC.Prim.html#loc_2293_1_2293_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_2293_1_2293_11&#39;)"><span class="hl_varref"><span class="mpre">minusAddr#</span></span></a><span class="mpre"> </span><a href="#loc_52_17_52_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_17_52_19&#39;)"><span class="hl_varref"><span class="mpre">a#</span></span></a><span class="mpre"> </span><a href="#loc_52_27_52_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_27_52_29&#39;)"><span class="hl_varref"><span class="mpre">b#</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | The remainder of the address and the integer.</span></span><span class="mpre">
</span><a href="#loc_56_1_56_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_1_56_8&#39;)"><span class="mpre">remAddr</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Addr</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
</span><a name="loc_56_1_56_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_1_56_8&#39;)"><span class="hl_fundecl"><span class="mpre">remAddr</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Addr</span></span><span class="mpre"> </span><a name="loc_56_15_56_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_15_56_17&#39;)"><span class="hl_vardecl"><span class="mpre">a#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_56_23_56_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_23_56_25&#39;)"><span class="hl_vardecl"><span class="mpre">i#</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> (</span><a href="GHC.Prim.html#loc_2299_1_2299_9" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_2299_1_2299_9&#39;)"><span class="hl_varref"><span class="mpre">remAddr#</span></span></a><span class="mpre"> </span><a href="#loc_56_15_56_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_15_56_17&#39;)"><span class="hl_varref"><span class="mpre">a#</span></span></a><span class="mpre"> </span><a href="#loc_56_23_56_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_23_56_25&#39;)"><span class="hl_varref"><span class="mpre">i#</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Read a value from a memory position given by an address and an offset.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The memory block the address refers to must be immutable. The offset is in</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- elements of type @a@ rather than in bytes.</span></span><span class="mpre">
</span><a href="#loc_63_1_63_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_1_63_13&#39;)"><span class="mpre">indexOffAddr</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, srcSpanStartLine = 61, srcSpanStartColumn = 17, srcSpanEndLine = 61, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, srcSpanStartLine = 61, srcSpanStartColumn = 24, srcSpanEndLine = 61, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/prim"><span class="mpre">Prim a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Addr</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_63_1_63_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_1_63_13&#39;)"><span class="mpre">indexOffAddr</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a name="loc_63_1_63_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_1_63_13&#39;)"><span class="hl_fundecl"><span class="mpre">indexOffAddr</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Addr</span></span><span class="mpre"> </span><a name="loc_63_20_63_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_20_63_25&#39;)"><span class="hl_vardecl"><span class="mpre">addr#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_63_31_63_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_31_63_33&#39;)"><span class="hl_vardecl"><span class="mpre">i#</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">indexOffAddr#</span></span><span class="mpre"> </span><a href="#loc_63_20_63_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_20_63_25&#39;)"><span class="hl_varref"><span class="mpre">addr#</span></span></a><span class="mpre"> </span><a href="#loc_63_31_63_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_31_63_33&#39;)"><span class="hl_varref"><span class="mpre">i#</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Read a value from a memory position given by an address and an offset.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The offset is in elements of type @a@ rather than in bytes.</span></span><span class="mpre">
</span><a href="#loc_69_1_69_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_12&#39;)"><span class="mpre">readOffAddr</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, srcSpanStartLine = 67, srcSpanStartColumn = 16, srcSpanEndLine = 67, srcSpanEndColumn = 40}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, srcSpanStartLine = 67, srcSpanStartColumn = 16, srcSpanEndLine = 67, srcSpanEndColumn = 17},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, s"><span class="mpre">(Prim a, PrimMonad m) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Addr</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_69_1_69_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_12&#39;)"><span class="mpre">readOffAddr</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a name="loc_69_1_69_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_1_69_12&#39;)"><span class="hl_fundecl"><span class="mpre">readOffAddr</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Addr</span></span><span class="mpre"> </span><a name="loc_69_19_69_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_19_69_24&#39;)"><span class="hl_vardecl"><span class="mpre">addr#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_69_30_69_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_30_69_32&#39;)"><span class="hl_vardecl"><span class="mpre">i#</span></span></a><span class="mpre">) = </span><a href="Control.Monad.Primitive.html#loc_37_3_37_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Primitive.html#loc_37_3_37_12&#39;)"><span class="hl_varref"><span class="mpre">primitive</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">readOffAddr#</span></span><span class="mpre"> </span><a href="#loc_69_19_69_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_19_69_24&#39;)"><span class="hl_varref"><span class="mpre">addr#</span></span></a><span class="mpre"> </span><a href="#loc_69_30_69_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_30_69_32&#39;)"><span class="hl_varref"><span class="mpre">i#</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Write a value to a memory position given by an address and an offset.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The offset is in elements of type @a@ rather than in bytes.</span></span><span class="mpre">
</span><a href="#loc_75_1_75_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_1_75_13&#39;)"><span class="mpre">writeOffAddr</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, srcSpanStartLine = 73, srcSpanStartColumn = 17, srcSpanEndLine = 73, srcSpanEndColumn = 41}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, srcSpanStartLine = 73, srcSpanStartColumn = 17, srcSpanEndLine = 73, srcSpanEndColumn = 18},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, s"><span class="mpre">(Prim a, PrimMonad m) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Addr</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_75_1_75_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_1_75_13&#39;)"><span class="mpre">writeOffAddr</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a name="loc_75_1_75_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_1_75_13&#39;)"><span class="hl_fundecl"><span class="mpre">writeOffAddr</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Addr</span></span><span class="mpre"> </span><a name="loc_75_20_75_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_20_75_25&#39;)"><span class="hl_vardecl"><span class="mpre">addr#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_75_31_75_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_31_75_33&#39;)"><span class="hl_vardecl"><span class="mpre">i#</span></span></a><span class="mpre">) </span><a name="loc_75_35_75_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_35_75_36&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Primitive.html#loc_47_1_47_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Primitive.html#loc_47_1_47_11&#39;)"><span class="hl_varref"><span class="mpre">primitive_</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">writeOffAddr#</span></span><span class="mpre"> </span><a href="#loc_75_20_75_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_20_75_25&#39;)"><span class="hl_varref"><span class="mpre">addr#</span></span></a><span class="mpre"> </span><a href="#loc_75_31_75_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_31_75_33&#39;)"><span class="hl_varref"><span class="mpre">i#</span></span></a><span class="mpre"> </span><a href="#loc_75_35_75_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_35_75_36&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Copy the given number of bytes from the second &#39;Addr&#39; to the first. The</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- areas may not overlap.</span></span><span class="mpre">
</span><a href="#loc_84_1_84_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_1_84_9&#39;)"><span class="mpre">copyAddr</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, srcSpanStartLine = 79, srcSpanStartColumn = 13, srcSpanEndLine = 79, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, srcSpanStartLine = 79, srcSpanStartColumn = 25, srcSpanEndLine = 79, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/prim"><span class="mpre">PrimMonad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Addr</span></span><span class="mpre">         </span><span class="hl_comment"><span class="mpre">-- ^ destination address</span></span><span class="mpre">
                        -&gt; </span><span class="hl_tyconref"><span class="mpre">Addr</span></span><span class="mpre">         </span><span class="hl_comment"><span class="mpre">-- ^ source address</span></span><span class="mpre">
                        -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">          </span><span class="hl_comment"><span class="mpre">-- ^ number of bytes</span></span><span class="mpre">
                        -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_84_1_84_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_1_84_9&#39;)"><span class="mpre">copyAddr</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a name="loc_84_1_84_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_1_84_9&#39;)"><span class="hl_fundecl"><span class="mpre">copyAddr</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Addr</span></span><span class="mpre"> </span><a name="loc_84_16_84_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_16_84_20&#39;)"><span class="hl_vardecl"><span class="mpre">dst#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">Addr</span></span><span class="mpre"> </span><a name="loc_84_28_84_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_28_84_32&#39;)"><span class="hl_vardecl"><span class="mpre">src#</span></span></a><span class="mpre">) </span><a name="loc_84_34_84_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_34_84_35&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre">
  = </span><a href="Control.Monad.Primitive.html#loc_83_1_83_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Primitive.html#loc_83_1_83_17&#39;)"><span class="hl_varref"><span class="mpre">unsafePrimToPrim</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Foreign.Marshal.Utils.html#loc_154_1_154_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.Marshal.Utils.html#loc_154_1_154_10&#39;)"><span class="hl_varref"><span class="mpre">copyBytes</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Ptr</span></span><span class="mpre"> </span><a href="#loc_84_16_84_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_16_84_20&#39;)"><span class="hl_varref"><span class="mpre">dst#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">Ptr</span></span><span class="mpre"> </span><a href="#loc_84_28_84_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_28_84_32&#39;)"><span class="hl_varref"><span class="mpre">src#</span></span></a><span class="mpre">) </span><a href="#loc_84_34_84_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_34_84_35&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Copy the given number of bytes from the second &#39;Addr&#39; to the first. The</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- areas may overlap.</span></span><span class="mpre">
</span><a href="#loc_94_1_94_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_1_94_9&#39;)"><span class="mpre">moveAddr</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, srcSpanStartLine = 89, srcSpanStartColumn = 13, srcSpanEndLine = 89, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, srcSpanStartLine = 89, srcSpanStartColumn = 25, srcSpanEndLine = 89, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/prim"><span class="mpre">PrimMonad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Addr</span></span><span class="mpre">         </span><span class="hl_comment"><span class="mpre">-- ^ destination address</span></span><span class="mpre">
                        -&gt; </span><span class="hl_tyconref"><span class="mpre">Addr</span></span><span class="mpre">         </span><span class="hl_comment"><span class="mpre">-- ^ source address</span></span><span class="mpre">
                        -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">          </span><span class="hl_comment"><span class="mpre">-- ^ number of bytes</span></span><span class="mpre">
                        -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_94_1_94_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_1_94_9&#39;)"><span class="mpre">moveAddr</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a name="loc_94_1_94_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_1_94_9&#39;)"><span class="hl_fundecl"><span class="mpre">moveAddr</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Addr</span></span><span class="mpre"> </span><a name="loc_94_16_94_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_16_94_20&#39;)"><span class="hl_vardecl"><span class="mpre">dst#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">Addr</span></span><span class="mpre"> </span><a name="loc_94_28_94_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_28_94_32&#39;)"><span class="hl_vardecl"><span class="mpre">src#</span></span></a><span class="mpre">) </span><a name="loc_94_34_94_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_34_94_35&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre">
  = </span><a href="Control.Monad.Primitive.html#loc_83_1_83_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Primitive.html#loc_83_1_83_17&#39;)"><span class="hl_varref"><span class="mpre">unsafePrimToPrim</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Foreign.Marshal.Utils.html#loc_161_1_161_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.Marshal.Utils.html#loc_161_1_161_10&#39;)"><span class="hl_varref"><span class="mpre">moveBytes</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Ptr</span></span><span class="mpre"> </span><a href="#loc_94_16_94_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_16_94_20&#39;)"><span class="hl_varref"><span class="mpre">dst#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">Ptr</span></span><span class="mpre"> </span><a href="#loc_94_28_94_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_28_94_32&#39;)"><span class="hl_varref"><span class="mpre">src#</span></span></a><span class="mpre">) </span><a href="#loc_94_34_94_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_34_94_35&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Fill a memory block of with the given value. The length is in</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- elements of type @a@ rather than in bytes.</span></span><span class="mpre">
</span><a href="#loc_101_1_101_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_1_101_8&#39;)"><span class="mpre">setAddr</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, srcSpanStartLine = 99, srcSpanStartColumn = 12, srcSpanEndLine = 99, srcSpanEndColumn = 36}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, srcSpanStartLine = 99, srcSpanStartColumn = 12, srcSpanEndLine = 99, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/primitive-0.5.3.0/Data/Primitive/Addr.hs&quot;, s"><span class="mpre">(Prim a, PrimMonad m) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Addr</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_101_1_101_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_1_101_8&#39;)"><span class="mpre">setAddr</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a name="loc_101_1_101_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_1_101_8&#39;)"><span class="hl_fundecl"><span class="mpre">setAddr</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Addr</span></span><span class="mpre"> </span><a name="loc_101_15_101_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_15_101_20&#39;)"><span class="hl_vardecl"><span class="mpre">addr#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">I#</span></span><span class="mpre"> </span><a name="loc_101_26_101_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_26_101_28&#39;)"><span class="hl_vardecl"><span class="mpre">n#</span></span></a><span class="mpre">) </span><a name="loc_101_30_101_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_30_101_31&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Primitive.html#loc_47_1_47_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Primitive.html#loc_47_1_47_11&#39;)"><span class="hl_varref"><span class="mpre">primitive_</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">setOffAddr#</span></span><span class="mpre"> </span><a href="#loc_101_15_101_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_15_101_20&#39;)"><span class="hl_varref"><span class="mpre">addr#</span></span></a><span class="mpre"> 0# </span><a href="#loc_101_26_101_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_26_101_28&#39;)"><span class="hl_varref"><span class="mpre">n#</span></span></a><span class="mpre"> </span><a href="#loc_101_30_101_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_30_101_31&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)

</span></div></body></html>