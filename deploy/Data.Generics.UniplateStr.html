<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">{- |
/DEPRECATED/: Use &quot;Data.Generics.Uniplate.Operations&quot; instead.

This is the main Uniplate module, which defines all the essential operations
in a Haskell 98 compatible manner.

Most functions have an example of a possible use for the function.
To illustate, I have used the @Expr@ type as below:

&gt; data Expr = Val Int
&gt;           | Neg Expr
&gt;           | Add Expr Expr
-}</span></span><span class="mpre">


module Data.Generics.UniplateStr
    </span><span class="hl_comment"><span class="mpre">{- DEPRECATED &quot;Use Data.Generics.Uniplate.Operations instead&quot; -}</span></span><span class="mpre">
    (
    module Data.Generics.UniplateStr,
    module Data.Generics.Str
    ) where

import Control.Monad hiding (</span><a href="Control.Monad.html#loc_111_1_111_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_111_1_111_5&#39;)"><span class="mpre">mapM</span></a><span class="mpre">)
import Data.Traversable
import Prelude hiding (</span><a href="Control.Monad.html#loc_111_1_111_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_111_1_111_5&#39;)"><span class="mpre">mapM</span></a><span class="mpre">)

import Data.Generics.Uniplate.Internal.Utils
import Data.Generics.Str


</span><span class="hl_comment"><span class="mpre">-- * The Class</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The type of replacing all the children of a node</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   Taking a value, the function should return all the immediate children</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   of the same type, and a function to replace them.</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 37, srcSpanStartColumn = 1, srcSpanEndLine = 37, srcSpanEndColumn = 52}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 37, srcSpanStartColumn = 1, srcSpanEndLine = 37, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Uniplate"><span class="mpre">type UniplateType on = on -&gt; (Str on, Str on -&gt; on)</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The standard Uniplate class, all operations require this.</span></span><span class="mpre">
class </span><span class="hl_classdecl"><span class="mpre">Uniplate</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> where
    </span><span class="hl_comment"><span class="mpre">-- | The underlying method in the class.</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--   Given @uniplate x = (cs, gen)@</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--   @cs@ should be a @Str on@, constructed of @Zero@, @One@ and @Two@,</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--   containing all @x@&#39;s direct children of the same type as @x@. @gen@</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--   should take a @Str on@ with exactly the same structure as @cs@,</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--   and generate a new element with the children replaced.</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--   Example instance:</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- &gt; instance Uniplate Expr where</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- &gt;     uniplate (Val i  ) = (Zero               , \Zero                  -&gt; Val i  )</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- &gt;     uniplate (Neg a  ) = (One a              , \(One a)               -&gt; Neg a  )</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- &gt;     uniplate (Add a b) = (Two (One a) (One b), \(Two (One a) (One b)) -&gt; Add a b)</span></span><span class="mpre">
    </span><a name="loc_56_5_56_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_5_56_13&#39;)"><span class="mpre">uniplate</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">UniplateType</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Compatibility method, for direct users of the old list-based &#39;uniplate&#39; function</span></span><span class="mpre">
</span><a href="#loc_61_1_61_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_1_61_13&#39;)"><span class="mpre">uniplateList</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 60, srcSpanStartColumn = 17, srcSpanEndLine = 60, srcSpanEndColumn = 31}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 60, srcSpanStartColumn = 29, srcSpanEndLine = 60, srcSpanEndColumn = 31}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Uniplate on =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; ([</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">], [</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">] -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">)
</span><a name="loc_61_1_61_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_1_61_13&#39;)"><span class="hl_fundecl"><span class="mpre">uniplateList</span></span></a><span class="mpre"> </span><a name="loc_61_14_61_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_14_61_15&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = (</span><a href="#loc_64_10_64_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_10_64_11&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">, </span><a href="#loc_63_12_63_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_12_63_13&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_64_12_64_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_12_64_13&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre">)
    where
        (</span><a name="loc_63_10_63_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_10_63_11&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">,</span><a name="loc_63_12_63_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_12_63_13&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">) = </span><a href="#loc_56_5_56_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_5_56_13&#39;)"><span class="hl_varref"><span class="mpre">uniplate</span></span></a><span class="mpre"> </span><a href="#loc_61_14_61_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_14_61_15&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
        (</span><a name="loc_64_10_64_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_10_64_11&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">,</span><a name="loc_64_12_64_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_12_64_13&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre">) = </span><a href="Data.Generics.Str.html#loc_93_1_93_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Str.html#loc_93_1_93_13&#39;)"><span class="hl_varref"><span class="mpre">strStructure</span></span></a><span class="mpre"> </span><a href="#loc_63_10_63_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_10_63_11&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- * The Operations</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- ** Queries</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Get all the children of a node, including itself and all children.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; universe (Add (Val 1) (Neg (Val 2))) =</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;     [Add (Val 1) (Neg (Val 2)), Val 1, Neg (Val 2), Val 2]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This method is often combined with a list comprehension, for example:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; vals x = [i | Val i &lt;- universe x]</span></span><span class="mpre">
</span><a href="#loc_80_1_80_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_1_80_9&#39;)"><span class="mpre">universe</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 79, srcSpanStartColumn = 13, srcSpanEndLine = 79, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 79, srcSpanStartColumn = 25, srcSpanEndLine = 79, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Uniplate on =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">]
</span><a name="loc_80_1_80_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_1_80_9&#39;)"><span class="hl_fundecl"><span class="mpre">universe</span></span></a><span class="mpre"> </span><a name="loc_80_10_80_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_10_80_11&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Data.Generics.Uniplate.Internal.Utils.html#loc_35_1_35_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Uniplate.Internal.Utils.html#loc_35_1_35_8&#39;)"><span class="hl_varref"><span class="mpre">builder</span></span></a><span class="mpre"> </span><a href="#loc_82_9_82_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_9_82_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
    where
        </span><a name="loc_82_9_82_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_9_82_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_82_11_82_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_11_82_15&#39;)"><span class="hl_vardecl"><span class="mpre">cons</span></span></a><span class="mpre"> </span><a name="loc_82_16_82_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_16_82_19&#39;)"><span class="hl_vardecl"><span class="mpre">nil</span></span></a><span class="mpre"> = </span><a href="#loc_83_9_83_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_9_83_10&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_82_11_82_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_11_82_15&#39;)"><span class="hl_varref"><span class="mpre">cons</span></span></a><span class="mpre"> </span><a href="#loc_82_16_82_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_16_82_19&#39;)"><span class="hl_varref"><span class="mpre">nil</span></span></a><span class="mpre"> (</span><a href="Data.Generics.Str.html#loc_21_21_21_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Str.html#loc_21_21_21_24&#39;)"><span class="hl_conref"><span class="mpre">One</span></span></a><span class="mpre"> </span><a href="#loc_80_10_80_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_10_80_11&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) </span><a href="#loc_82_16_82_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_16_82_19&#39;)"><span class="hl_varref"><span class="mpre">nil</span></span></a><span class="mpre">
        </span><a name="loc_83_9_83_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_9_83_10&#39;)"><span class="hl_fundecl"><span class="mpre">g</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">cons</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">nil</span></span><span class="mpre"> </span><a href="Data.Generics.Str.html#loc_21_14_21_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Str.html#loc_21_14_21_18&#39;)"><span class="hl_conref"><span class="mpre">Zero</span></span></a><span class="mpre"> </span><a name="loc_83_25_83_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_25_83_28&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> = </span><a href="#loc_83_25_83_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_25_83_28&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre">
        </span><a href="#loc_83_9_83_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_9_83_10&#39;)"><span class="hl_fundecl"><span class="mpre">g</span></span></a><span class="mpre"> </span><a name="loc_84_11_84_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_11_84_15&#39;)"><span class="hl_vardecl"><span class="mpre">cons</span></span></a><span class="mpre"> </span><a name="loc_84_16_84_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_16_84_19&#39;)"><span class="hl_vardecl"><span class="mpre">nil</span></span></a><span class="mpre"> (</span><a href="Data.Generics.Str.html#loc_21_21_21_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Str.html#loc_21_21_21_24&#39;)"><span class="hl_conref"><span class="mpre">One</span></span></a><span class="mpre"> </span><a name="loc_84_25_84_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_25_84_26&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) </span><a name="loc_84_28_84_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_28_84_31&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> = </span><a href="#loc_84_25_84_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_25_84_26&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="#loc_84_11_84_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_11_84_15&#39;)"><span class="hl_infix"><span class="mpre">`cons`</span></span></a><span class="mpre"> </span><a href="#loc_83_9_83_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_9_83_10&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_84_11_84_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_11_84_15&#39;)"><span class="hl_varref"><span class="mpre">cons</span></span></a><span class="mpre"> </span><a href="#loc_84_16_84_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_16_84_19&#39;)"><span class="hl_varref"><span class="mpre">nil</span></span></a><span class="mpre"> (</span><a href="Data.Tuple.html#loc_48_1_48_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Tuple.html#loc_48_1_48_4&#39;)"><span class="hl_varref"><span class="mpre">fst</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_56_5_56_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_5_56_13&#39;)"><span class="hl_varref"><span class="mpre">uniplate</span></span></a><span class="mpre"> </span><a href="#loc_84_25_84_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_25_84_26&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) </span><a href="#loc_84_28_84_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_28_84_31&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre">
        </span><a href="#loc_83_9_83_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_9_83_10&#39;)"><span class="hl_fundecl"><span class="mpre">g</span></span></a><span class="mpre"> </span><a name="loc_85_11_85_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_11_85_15&#39;)"><span class="hl_vardecl"><span class="mpre">cons</span></span></a><span class="mpre"> </span><a name="loc_85_16_85_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_16_85_19&#39;)"><span class="hl_vardecl"><span class="mpre">nil</span></span></a><span class="mpre"> (</span><a href="Data.Generics.Str.html#loc_21_29_21_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Str.html#loc_21_29_21_32&#39;)"><span class="hl_conref"><span class="mpre">Two</span></span></a><span class="mpre"> </span><a name="loc_85_25_85_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_25_85_26&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_85_27_85_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_27_85_28&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) </span><a name="loc_85_30_85_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_30_85_33&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> = </span><a href="#loc_83_9_83_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_9_83_10&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_85_11_85_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_11_85_15&#39;)"><span class="hl_varref"><span class="mpre">cons</span></span></a><span class="mpre"> </span><a href="#loc_85_16_85_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_16_85_19&#39;)"><span class="hl_varref"><span class="mpre">nil</span></span></a><span class="mpre"> </span><a href="#loc_85_25_85_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_25_85_26&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> (</span><a href="#loc_83_9_83_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_9_83_10&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_85_11_85_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_11_85_15&#39;)"><span class="hl_varref"><span class="mpre">cons</span></span></a><span class="mpre"> </span><a href="#loc_85_16_85_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_16_85_19&#39;)"><span class="hl_varref"><span class="mpre">nil</span></span></a><span class="mpre"> </span><a href="#loc_85_27_85_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_27_85_28&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> </span><a href="#loc_85_30_85_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_30_85_33&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre">)



</span><span class="hl_comment"><span class="mpre">-- | Get the direct children of a node. Usually using &#39;universe&#39; is more appropriate.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @children = fst . &#39;uniplate&#39;@</span></span><span class="mpre">
</span><a href="#loc_93_1_93_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_9&#39;)"><span class="mpre">children</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 92, srcSpanStartColumn = 13, srcSpanEndLine = 92, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 92, srcSpanStartColumn = 25, srcSpanEndLine = 92, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/p"><span class="mpre">Uniplate on =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">]
</span><a name="loc_93_1_93_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_9&#39;)"><span class="hl_fundecl"><span class="mpre">children</span></span></a><span class="mpre"> </span><a name="loc_93_10_93_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_10_93_11&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Data.Generics.Uniplate.Internal.Utils.html#loc_35_1_35_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Uniplate.Internal.Utils.html#loc_35_1_35_8&#39;)"><span class="hl_varref"><span class="mpre">builder</span></span></a><span class="mpre"> </span><a href="#loc_95_9_95_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_9_95_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
    where
        </span><a name="loc_95_9_95_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_9_95_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_95_11_95_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_11_95_15&#39;)"><span class="hl_vardecl"><span class="mpre">cons</span></span></a><span class="mpre"> </span><a name="loc_95_16_95_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_16_95_19&#39;)"><span class="hl_vardecl"><span class="mpre">nil</span></span></a><span class="mpre"> = </span><a href="#loc_96_9_96_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_9_96_10&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_95_11_95_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_11_95_15&#39;)"><span class="hl_varref"><span class="mpre">cons</span></span></a><span class="mpre"> </span><a href="#loc_95_16_95_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_16_95_19&#39;)"><span class="hl_varref"><span class="mpre">nil</span></span></a><span class="mpre"> (</span><a href="Data.Tuple.html#loc_48_1_48_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Tuple.html#loc_48_1_48_4&#39;)"><span class="hl_varref"><span class="mpre">fst</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_56_5_56_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_5_56_13&#39;)"><span class="hl_varref"><span class="mpre">uniplate</span></span></a><span class="mpre"> </span><a href="#loc_93_10_93_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_10_93_11&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) </span><a href="#loc_95_16_95_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_16_95_19&#39;)"><span class="hl_varref"><span class="mpre">nil</span></span></a><span class="mpre">
        </span><a name="loc_96_9_96_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_9_96_10&#39;)"><span class="hl_fundecl"><span class="mpre">g</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">cons</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">nil</span></span><span class="mpre"> </span><a href="Data.Generics.Str.html#loc_21_14_21_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Str.html#loc_21_14_21_18&#39;)"><span class="hl_conref"><span class="mpre">Zero</span></span></a><span class="mpre"> </span><a name="loc_96_25_96_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_25_96_28&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> = </span><a href="#loc_96_25_96_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_25_96_28&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre">
        </span><a href="#loc_96_9_96_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_9_96_10&#39;)"><span class="hl_fundecl"><span class="mpre">g</span></span></a><span class="mpre"> </span><a name="loc_97_11_97_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_11_97_15&#39;)"><span class="hl_vardecl"><span class="mpre">cons</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">nil</span></span><span class="mpre"> (</span><a href="Data.Generics.Str.html#loc_21_21_21_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Str.html#loc_21_21_21_24&#39;)"><span class="hl_conref"><span class="mpre">One</span></span></a><span class="mpre"> </span><a name="loc_97_25_97_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_25_97_26&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) </span><a name="loc_97_28_97_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_28_97_31&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> = </span><a href="#loc_97_25_97_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_25_97_26&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="#loc_97_11_97_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_11_97_15&#39;)"><span class="hl_infix"><span class="mpre">`cons`</span></span></a><span class="mpre"> </span><a href="#loc_97_28_97_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_28_97_31&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre">
        </span><a href="#loc_96_9_96_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_9_96_10&#39;)"><span class="hl_fundecl"><span class="mpre">g</span></span></a><span class="mpre"> </span><a name="loc_98_11_98_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_11_98_15&#39;)"><span class="hl_vardecl"><span class="mpre">cons</span></span></a><span class="mpre"> </span><a name="loc_98_16_98_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_16_98_19&#39;)"><span class="hl_vardecl"><span class="mpre">nil</span></span></a><span class="mpre"> (</span><a href="Data.Generics.Str.html#loc_21_29_21_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Str.html#loc_21_29_21_32&#39;)"><span class="hl_conref"><span class="mpre">Two</span></span></a><span class="mpre"> </span><a name="loc_98_25_98_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_25_98_26&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_98_27_98_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_27_98_28&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) </span><a name="loc_98_30_98_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_30_98_33&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> = </span><a href="#loc_96_9_96_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_9_96_10&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_98_11_98_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_11_98_15&#39;)"><span class="hl_varref"><span class="mpre">cons</span></span></a><span class="mpre"> </span><a href="#loc_98_16_98_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_16_98_19&#39;)"><span class="hl_varref"><span class="mpre">nil</span></span></a><span class="mpre"> </span><a href="#loc_98_25_98_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_25_98_26&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> (</span><a href="#loc_96_9_96_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_9_96_10&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_98_11_98_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_11_98_15&#39;)"><span class="hl_varref"><span class="mpre">cons</span></span></a><span class="mpre"> </span><a href="#loc_98_16_98_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_16_98_19&#39;)"><span class="hl_varref"><span class="mpre">nil</span></span></a><span class="mpre"> </span><a href="#loc_98_27_98_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_27_98_28&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> </span><a href="#loc_98_30_98_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_30_98_33&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">-- ** Transformations</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Transform every element in the tree, in a bottom-up manner.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- For example, replacing negative literals with literals:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; negLits = transform f</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;    where f (Neg (Lit i)) = Lit (negate i)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;          f x = x</span></span><span class="mpre">
</span><a href="#loc_112_1_112_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_1_112_10&#39;)"><span class="mpre">transform</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 111, srcSpanStartColumn = 14, srcSpanEndLine = 111, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 111, srcSpanStartColumn = 26, srcSpanEndLine = 111, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemn"><span class="mpre">Uniplate on =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">
</span><a name="loc_112_1_112_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_1_112_10&#39;)"><span class="hl_fundecl"><span class="mpre">transform</span></span></a><span class="mpre"> </span><a name="loc_112_11_112_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_11_112_12&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_112_11_112_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_11_112_12&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_143_1_143_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_8&#39;)"><span class="hl_varref"><span class="mpre">descend</span></span></a><span class="mpre"> (</span><a href="#loc_112_1_112_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_1_112_10&#39;)"><span class="hl_varref"><span class="mpre">transform</span></span></a><span class="mpre"> </span><a href="#loc_112_11_112_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_11_112_12&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">-- | Monadic variant of &#39;transform&#39;</span></span><span class="mpre">
</span><a href="#loc_117_1_117_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_11&#39;)"><span class="mpre">transformM</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 116, srcSpanStartColumn = 15, srcSpanEndLine = 116, srcSpanEndColumn = 40}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 116, srcSpanStartColumn = 15, srcSpanEndLine = 116, srcSpanEndColumn = 16},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Un"><span class="mpre">(Monad m, Uniplate on) =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">
</span><a name="loc_117_1_117_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_11&#39;)"><span class="hl_fundecl"><span class="mpre">transformM</span></span></a><span class="mpre"> </span><a name="loc_117_12_117_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_12_117_13&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_117_14_117_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_14_117_15&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_117_12_117_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_12_117_13&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="Control.Monad.html#loc_92_3_92_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_92_3_92_6&#39;)"><span class="hl_infix"><span class="mpre">=&lt;&lt;</span></span></a><span class="mpre"> </span><a href="#loc_149_1_149_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_1_149_9&#39;)"><span class="hl_varref"><span class="mpre">descendM</span></span></a><span class="mpre"> (</span><a href="#loc_117_1_117_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_11&#39;)"><span class="hl_varref"><span class="mpre">transformM</span></span></a><span class="mpre"> </span><a href="#loc_117_12_117_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_12_117_13&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) </span><a href="#loc_117_14_117_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_14_117_15&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Rewrite by applying a rule everywhere you can. Ensures that the rule cannot</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- be applied anywhere in the result:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; propRewrite r x = all (isNothing . r) (universe (rewrite r x))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Usually &#39;transform&#39; is more appropriate, but &#39;rewrite&#39; can give better</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- compositionality. Given two single transformations @f@ and @g@, you can</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- construct @f `mplus` g@ which performs both rewrites until a fixed point.</span></span><span class="mpre">
</span><a href="#loc_129_1_129_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_1_129_8&#39;)"><span class="mpre">rewrite</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 128, srcSpanStartColumn = 12, srcSpanEndLine = 128, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 128, srcSpanStartColumn = 24, srcSpanEndLine = 128, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemn"><span class="mpre">Uniplate on =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">
</span><a name="loc_129_1_129_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_1_129_8&#39;)"><span class="hl_fundecl"><span class="mpre">rewrite</span></span></a><span class="mpre"> </span><a name="loc_129_9_129_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_9_129_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_112_1_112_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_1_112_10&#39;)"><span class="hl_varref"><span class="mpre">transform</span></span></a><span class="mpre"> </span><a href="#loc_130_11_130_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_11_130_12&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">
    where </span><a name="loc_130_11_130_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_11_130_12&#39;)"><span class="hl_fundecl"><span class="mpre">g</span></span></a><span class="mpre"> </span><a name="loc_130_13_130_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_13_130_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Data.Maybe.html#loc_74_1_74_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_74_1_74_6&#39;)"><span class="hl_varref"><span class="mpre">maybe</span></span></a><span class="mpre"> </span><a href="#loc_130_13_130_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_13_130_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> (</span><a href="#loc_129_1_129_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_1_129_8&#39;)"><span class="hl_varref"><span class="mpre">rewrite</span></span></a><span class="mpre"> </span><a href="#loc_129_9_129_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_9_129_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) (</span><a href="#loc_129_9_129_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_9_129_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_130_13_130_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_13_130_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">-- | Monadic variant of &#39;rewrite&#39;</span></span><span class="mpre">
</span><a href="#loc_135_1_135_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_9&#39;)"><span class="mpre">rewriteM</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 134, srcSpanStartColumn = 13, srcSpanEndLine = 134, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 134, srcSpanStartColumn = 13, srcSpanEndLine = 134, srcSpanEndColumn = 14},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Un"><span class="mpre">(Monad m, Uniplate on) =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">)) -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">
</span><a name="loc_135_1_135_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_9&#39;)"><span class="hl_fundecl"><span class="mpre">rewriteM</span></span></a><span class="mpre"> </span><a name="loc_135_10_135_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_10_135_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_117_1_117_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_11&#39;)"><span class="hl_varref"><span class="mpre">transformM</span></span></a><span class="mpre"> </span><a href="#loc_136_11_136_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_11_136_12&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">
    where </span><a name="loc_136_11_136_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_11_136_12&#39;)"><span class="hl_fundecl"><span class="mpre">g</span></span></a><span class="mpre"> </span><a name="loc_136_13_136_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_13_136_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_135_10_135_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_10_135_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_136_13_136_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_13_136_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_74_1_74_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_74_1_74_6&#39;)"><span class="hl_varref"><span class="mpre">maybe</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_136_13_136_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_13_136_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) (</span><a href="#loc_135_1_135_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_9&#39;)"><span class="hl_varref"><span class="mpre">rewriteM</span></span></a><span class="mpre"> </span><a href="#loc_135_10_135_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_10_135_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">-- | Perform a transformation on all the immediate children, then combine them back.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This operation allows additional information to be passed downwards, and can be</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- used to provide a top-down transformation.</span></span><span class="mpre">
</span><a href="#loc_143_1_143_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_8&#39;)"><span class="mpre">descend</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 142, srcSpanStartColumn = 12, srcSpanEndLine = 142, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 142, srcSpanStartColumn = 24, srcSpanEndLine = 142, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemn"><span class="mpre">Uniplate on =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">
</span><a name="loc_143_1_143_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_8&#39;)"><span class="hl_fundecl"><span class="mpre">descend</span></span></a><span class="mpre"> </span><a name="loc_143_9_143_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_9_143_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_143_11_143_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_11_143_12&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_144_21_144_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_21_144_29&#39;)"><span class="hl_varref"><span class="mpre">generate</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_143_9_143_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_9_143_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_144_12_144_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_12_144_19&#39;)"><span class="hl_varref"><span class="mpre">current</span></span></a><span class="mpre">
    where (</span><a name="loc_144_12_144_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_12_144_19&#39;)"><span class="hl_vardecl"><span class="mpre">current</span></span></a><span class="mpre">, </span><a name="loc_144_21_144_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_21_144_29&#39;)"><span class="hl_vardecl"><span class="mpre">generate</span></span></a><span class="mpre">) = </span><a href="#loc_56_5_56_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_5_56_13&#39;)"><span class="hl_varref"><span class="mpre">uniplate</span></span></a><span class="mpre"> </span><a href="#loc_143_11_143_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_11_143_12&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Monadic variant of &#39;descend&#39;    </span></span><span class="mpre">
</span><a href="#loc_149_1_149_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_1_149_9&#39;)"><span class="mpre">descendM</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 148, srcSpanStartColumn = 13, srcSpanEndLine = 148, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 148, srcSpanStartColumn = 13, srcSpanEndLine = 148, srcSpanEndColumn = 14},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/Un"><span class="mpre">(Monad m, Uniplate on) =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">
</span><a name="loc_149_1_149_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_1_149_9&#39;)"><span class="hl_fundecl"><span class="mpre">descendM</span></span></a><span class="mpre"> </span><a name="loc_149_10_149_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_10_149_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_149_12_149_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_12_149_13&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_varref"><span class="mpre">liftM</span></span></a><span class="mpre"> </span><a href="#loc_150_21_150_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_21_150_29&#39;)"><span class="hl_varref"><span class="mpre">generate</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Traversable.html#loc_160_5_160_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Traversable.html#loc_160_5_160_9&#39;)"><span class="hl_varref"><span class="mpre">mapM</span></span></a><span class="mpre"> </span><a href="#loc_149_10_149_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_10_149_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_150_12_150_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_12_150_19&#39;)"><span class="hl_varref"><span class="mpre">current</span></span></a><span class="mpre">
    where (</span><a name="loc_150_12_150_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_12_150_19&#39;)"><span class="hl_vardecl"><span class="mpre">current</span></span></a><span class="mpre">, </span><a name="loc_150_21_150_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_21_150_29&#39;)"><span class="hl_vardecl"><span class="mpre">generate</span></span></a><span class="mpre">) = </span><a href="#loc_56_5_56_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_5_56_13&#39;)"><span class="hl_varref"><span class="mpre">uniplate</span></span></a><span class="mpre"> </span><a href="#loc_149_12_149_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_12_149_13&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- ** Others</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Return all the contexts and holes.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; propUniverse x = universe x == map fst (contexts x)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; propId x = all (== x) [b a | (a,b) &lt;- contexts x]</span></span><span class="mpre">
</span><a href="#loc_159_1_159_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_1_159_9&#39;)"><span class="mpre">contexts</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 158, srcSpanStartColumn = 13, srcSpanEndLine = 158, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 158, srcSpanStartColumn = 25, srcSpanEndLine = 158, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemn"><span class="mpre">Uniplate on =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; [(</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">)]
</span><a name="loc_159_1_159_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_1_159_9&#39;)"><span class="hl_fundecl"><span class="mpre">contexts</span></span></a><span class="mpre"> </span><a name="loc_159_10_159_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_10_159_11&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = (</span><a href="#loc_159_10_159_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_10_159_11&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">,</span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_161_5_161_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_5_161_6&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_171_1_171_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_1_171_6&#39;)"><span class="hl_varref"><span class="mpre">holes</span></span></a><span class="mpre"> </span><a href="#loc_159_10_159_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_10_159_11&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)
  where
    </span><a name="loc_161_5_161_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_5_161_6&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_161_7_161_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_7_161_9&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> = [ (</span><a href="#loc_163_15_163_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_15_163_16&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">, </span><a href="#loc_162_22_162_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_22_162_25&#39;)"><span class="hl_varref"><span class="mpre">ctx</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_163_18_163_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_18_163_25&#39;)"><span class="hl_varref"><span class="mpre">context</span></span></a><span class="mpre">)
           | (</span><a name="loc_162_15_162_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_15_162_20&#39;)"><span class="hl_vardecl"><span class="mpre">child</span></span></a><span class="mpre">, </span><a name="loc_162_22_162_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_22_162_25&#39;)"><span class="hl_vardecl"><span class="mpre">ctx</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_161_7_161_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_7_161_9&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
           , (</span><a name="loc_163_15_163_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_15_163_16&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">, </span><a name="loc_163_18_163_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_18_163_25&#39;)"><span class="hl_vardecl"><span class="mpre">context</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_159_1_159_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_1_159_9&#39;)"><span class="hl_varref"><span class="mpre">contexts</span></span></a><span class="mpre"> </span><a href="#loc_162_15_162_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_15_162_20&#39;)"><span class="hl_varref"><span class="mpre">child</span></span></a><span class="mpre">]


</span><span class="hl_comment"><span class="mpre">-- | The one depth version of &#39;contexts&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; propChildren x = children x == map fst (holes x)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; propId x = all (== x) [b a | (a,b) &lt;- holes x]</span></span><span class="mpre">
</span><a href="#loc_171_1_171_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_1_171_6&#39;)"><span class="mpre">holes</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 170, srcSpanStartColumn = 10, srcSpanEndLine = 170, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 170, srcSpanStartColumn = 22, srcSpanEndLine = 170, srcSpanEndColumn = 24}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemn"><span class="mpre">Uniplate on =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; [(</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre">)]
</span><a name="loc_171_1_171_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_1_171_6&#39;)"><span class="hl_fundecl"><span class="mpre">holes</span></span></a><span class="mpre"> </span><a name="loc_171_7_171_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_7_171_8&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Data.Tuple.html#loc_60_1_60_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Tuple.html#loc_60_1_60_8&#39;)"><span class="hl_varref"><span class="mpre">uncurry</span></span></a><span class="mpre"> </span><a href="#loc_172_9_172_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_9_172_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_56_5_56_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_5_56_13&#39;)"><span class="hl_varref"><span class="mpre">uniplate</span></span></a><span class="mpre"> </span><a href="#loc_171_7_171_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_7_171_8&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)
  where </span><a name="loc_172_9_172_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_9_172_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="Data.Generics.Str.html#loc_21_14_21_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Str.html#loc_21_14_21_18&#39;)"><span class="hl_conref"><span class="mpre">Zero</span></span></a><span class="mpre"> _ = []
        </span><a href="#loc_172_9_172_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_9_172_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="Data.Generics.Str.html#loc_21_21_21_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Str.html#loc_21_21_21_24&#39;)"><span class="hl_conref"><span class="mpre">One</span></span></a><span class="mpre"> </span><a name="loc_173_16_173_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_16_173_17&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre">) </span><a name="loc_173_19_173_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_19_173_27&#39;)"><span class="hl_vardecl"><span class="mpre">generate</span></span></a><span class="mpre"> = [(</span><a href="#loc_173_16_173_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_16_173_17&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">, </span><a href="#loc_173_19_173_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_19_173_27&#39;)"><span class="hl_varref"><span class="mpre">generate</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Generics.Str.html#loc_21_21_21_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Str.html#loc_21_21_21_24&#39;)"><span class="hl_conref"><span class="mpre">One</span></span></a><span class="mpre">)]
        </span><a href="#loc_172_9_172_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_9_172_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="Data.Generics.Str.html#loc_21_29_21_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Str.html#loc_21_29_21_32&#39;)"><span class="hl_conref"><span class="mpre">Two</span></span></a><span class="mpre"> </span><a name="loc_174_16_174_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_16_174_17&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_174_18_174_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_18_174_19&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">) </span><a name="loc_174_21_174_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_21_174_24&#39;)"><span class="hl_vardecl"><span class="mpre">gen</span></span></a><span class="mpre"> = </span><a href="#loc_172_9_172_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_9_172_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_174_16_174_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_16_174_17&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (</span><a href="#loc_174_21_174_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_21_174_24&#39;)"><span class="hl_varref"><span class="mpre">gen</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (\</span><a name="loc_174_40_174_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_40_174_41&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Generics.Str.html#loc_21_29_21_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Str.html#loc_21_29_21_32&#39;)"><span class="hl_conref"><span class="mpre">Two</span></span></a><span class="mpre"> </span><a href="#loc_174_40_174_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_40_174_41&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_174_18_174_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_18_174_19&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">))
                       </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_172_9_172_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_9_172_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_174_18_174_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_18_174_19&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre"> (</span><a href="#loc_174_21_174_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_21_174_24&#39;)"><span class="hl_varref"><span class="mpre">gen</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (\</span><a name="loc_175_40_175_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_40_175_41&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Generics.Str.html#loc_21_29_21_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Str.html#loc_21_29_21_32&#39;)"><span class="hl_conref"><span class="mpre">Two</span></span></a><span class="mpre"> </span><a href="#loc_174_16_174_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_16_174_17&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_175_40_175_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_40_175_41&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">))

</span><span class="hl_comment"><span class="mpre">-- | Perform a fold-like computation on each value,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   technically a paramorphism</span></span><span class="mpre">
</span><a href="#loc_180_1_180_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_1_180_5&#39;)"><span class="mpre">para</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 179, srcSpanStartColumn = 9, srcSpanEndLine = 179, srcSpanEndColumn = 23}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/uniplate-1.6.12/Data/Generics/UniplateStr.hs&quot;, srcSpanStartLine = 179, srcSpanStartColumn = 21, srcSpanEndLine = 179, srcSpanEndColumn = 23}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemne"><span class="mpre">Uniplate on =&gt;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">] -&gt; </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">on</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">
</span><a name="loc_180_1_180_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_1_180_5&#39;)"><span class="hl_fundecl"><span class="mpre">para</span></span></a><span class="mpre"> </span><a name="loc_180_6_180_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_6_180_8&#39;)"><span class="hl_vardecl"><span class="mpre">op</span></span></a><span class="mpre"> </span><a name="loc_180_9_180_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_9_180_10&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_180_6_180_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_6_180_8&#39;)"><span class="hl_varref"><span class="mpre">op</span></span></a><span class="mpre"> </span><a href="#loc_180_9_180_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_9_180_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><a href="#loc_180_1_180_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_1_180_5&#39;)"><span class="hl_varref"><span class="mpre">para</span></span></a><span class="mpre"> </span><a href="#loc_180_6_180_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_6_180_8&#39;)"><span class="hl_varref"><span class="mpre">op</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_93_1_93_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_9&#39;)"><span class="hl_varref"><span class="mpre">children</span></span></a><span class="mpre"> </span><a href="#loc_180_9_180_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_9_180_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
</span></div></body></html>