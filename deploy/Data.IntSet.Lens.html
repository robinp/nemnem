<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE Rank2Types #-}
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Data.IntSet.Lens</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (C) 2012-14 Edward Kmett</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  BSD-style (see the file LICENSE)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  provisional</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------------------</span></span><span class="mpre">
module Data.IntSet.Lens
  ( members
  , setmapped
  , setOf
  ) where

import Control.Lens
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/IntSet/Lens.hs&quot;, srcSpanStartLine = 19, srcSpanStartColumn = 8, srcSpanEndLine = 19, srcSpanEndColumn = 19}, srcInfoPoints = []}) &quot;Data.IntSet&quot;"><span class="mpre">Data.IntSet</span></span><span class="mpre"> as IntSet

</span><span class="hl_comment"><span class="mpre">-- $setup</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; :set -XNoOverloadedStrings</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; import Control.Lens</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | IntSet isn&#39;t Foldable, but this &#39;Fold&#39; can be used to access the members of an &#39;IntSet&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; sumOf members $ setOf folded [1,2,3,4]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- 10</span></span><span class="mpre">
</span><a href="#loc_30_1_30_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_1_30_8&#39;)"><span class="mpre">members</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Fold</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IntSet</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
</span><a name="loc_30_1_30_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_1_30_8&#39;)"><span class="hl_vardecl"><span class="mpre">members</span></span></a><span class="mpre"> = </span><a href="Control.Lens.Fold.html#loc_200_1_200_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Fold.html#loc_200_1_200_8&#39;)"><span class="hl_varref"><span class="mpre">folding</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">IntSet.toAscList</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_30_1_30_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_1_30_8&#39;)"><span class="mpre">members</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This &#39;Setter&#39; can be used to change the contents of an &#39;IntSet&#39; by mapping</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the elements to new values.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Sadly, you can&#39;t create a valid &#39;Traversal&#39; for a &#39;Set&#39;, because the number of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- elements might change but you can manipulate it by reading using &#39;folded&#39; and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- reindexing it via &#39;setmapped&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; over setmapped (+1) (fromList [1,2,3,4])</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [2,3,4,5]</span></span><span class="mpre">
</span><a href="#loc_43_1_43_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_1_43_10&#39;)"><span class="mpre">setmapped</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IndexPreservingSetter&#39;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IntSet</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
</span><a name="loc_43_1_43_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_1_43_10&#39;)"><span class="hl_vardecl"><span class="mpre">setmapped</span></span></a><span class="mpre"> = </span><a href="Control.Lens.Setter.html#loc_280_1_280_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Setter.html#loc_280_1_280_8&#39;)"><span class="hl_varref"><span class="mpre">setting</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">IntSet.map</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_43_1_43_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_1_43_10&#39;)"><span class="mpre">setmapped</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Construct an &#39;IntSet&#39; from a &#39;Getter&#39;, &#39;Fold&#39;, &#39;Traversal&#39;, &#39;Lens&#39; or &#39;Iso&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; setOf folded [1,2,3,4]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [1,2,3,4]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; setOf (folded._2) [(&quot;hello&quot;,1),(&quot;world&quot;,2),(&quot;!!!&quot;,3)]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fromList [1,2,3]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;setOf&#39; :: &#39;Getter&#39; s &#39;Int&#39;     -&gt; s -&gt; &#39;IntSet&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;setOf&#39; :: &#39;Fold&#39; s &#39;Int&#39;       -&gt; s -&gt; &#39;IntSet&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;setOf&#39; :: &#39;Iso&#39;&#39; s &#39;Int&#39;       -&gt; s -&gt; &#39;IntSet&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;setOf&#39; :: &#39;Lens&#39;&#39; s &#39;Int&#39;      -&gt; s -&gt; &#39;IntSet&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;setOf&#39; :: &#39;Traversal&#39;&#39; s &#39;Int&#39; -&gt; s -&gt; &#39;IntSet&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_62_1_62_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_1_62_6&#39;)"><span class="mpre">setOf</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Getting</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IntSet</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IntSet</span></span><span class="mpre">
</span><a name="loc_62_1_62_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_1_62_6&#39;)"><span class="hl_fundecl"><span class="mpre">setOf</span></span></a><span class="mpre"> </span><a name="loc_62_7_62_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_7_62_8&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> = </span><a href="Control.Lens.Getter.html#loc_243_1_243_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Getter.html#loc_243_1_243_6&#39;)"><span class="hl_varref"><span class="mpre">views</span></span></a><span class="mpre"> </span><a href="#loc_62_7_62_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_7_62_8&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">IntSet.singleton</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_62_1_62_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_1_62_6&#39;)"><span class="mpre">setOf</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span></div></body></html>