<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE Unsafe #-}
{-# LANGUAGE ExistentialQuantification, NoImplicitPrelude #-}

module GHC.Event.Internal
    (
    </span><span class="hl_comment"><span class="mpre">-- * Event back end</span></span><span class="mpre">
      Backend
    , backend
    , delete
    , poll
    , modifyFd
    , modifyFdOnce
    </span><span class="hl_comment"><span class="mpre">-- * Event type</span></span><span class="mpre">
    , Event
    , evtRead
    , evtWrite
    , evtClose
    , eventIs
    </span><span class="hl_comment"><span class="mpre">-- * Timeout type</span></span><span class="mpre">
    , Timeout(..)
    </span><span class="hl_comment"><span class="mpre">-- * Helpers</span></span><span class="mpre">
    , throwErrnoIfMinus1NoRetry
    ) where

import Data.Bits ((.|.), (.&amp;.))
import Data.List (</span><a href="Data.List.html#loc_993_1_993_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_993_1_993_7&#39;)"><span class="mpre">foldl&#39;</span></a><span class="mpre">, </span><a href="Data.List.html#loc_443_1_443_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_443_1_443_12&#39;)"><span class="mpre">intercalate</span></a><span class="mpre">)
import Data.Maybe (</span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="mpre">Maybe</span></a><span class="mpre">(..))
import Data.Monoid (</span><a href="Data.Monoid.html#loc_79_7_79_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_79_7_79_13&#39;)"><span class="mpre">Monoid</span></a><span class="mpre">(..))
import Foreign.C.Error (</span><a href="Foreign.C.Error.html#loc_171_1_171_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.C.Error.html#loc_171_1_171_6&#39;)"><span class="mpre">eINTR</span></a><span class="mpre">, </span><a href="Foreign.C.Error.html#loc_262_1_262_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.C.Error.html#loc_262_1_262_9&#39;)"><span class="mpre">getErrno</span></a><span class="mpre">, </span><a href="Foreign.C.Error.html#loc_280_1_280_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.C.Error.html#loc_280_1_280_11&#39;)"><span class="mpre">throwErrno</span></a><span class="mpre">)
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/Event/Internal.hs&quot;, srcSpanStartLine = 30, srcSpanStartColumn = 8, srcSpanEndLine = 30, srcSpanEndColumn = 26}, srcInfoPoints = []}) &quot;System.Posix.Types&quot;"><span class="mpre">System.Posix.Types</span></span><span class="mpre"> (Fd)
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/Event/Internal.hs&quot;, srcSpanStartLine = 31, srcSpanStartColumn = 8, srcSpanEndLine = 31, srcSpanEndColumn = 16}, srcInfoPoints = []}) &quot;GHC.Base&quot;"><span class="mpre">GHC.Base</span></span><span class="mpre">
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/Event/Internal.hs&quot;, srcSpanStartLine = 32, srcSpanStartColumn = 8, srcSpanEndLine = 32, srcSpanEndColumn = 15}, srcInfoPoints = []}) &quot;GHC.Num&quot;"><span class="mpre">GHC.Num</span></span><span class="mpre"> (Num(..))
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/Event/Internal.hs&quot;, srcSpanStartLine = 33, srcSpanStartColumn = 8, srcSpanEndLine = 33, srcSpanEndColumn = 16}, srcInfoPoints = []}) &quot;GHC.Show&quot;"><span class="mpre">GHC.Show</span></span><span class="mpre"> (Show(..))
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/Event/Internal.hs&quot;, srcSpanStartLine = 34, srcSpanStartColumn = 8, srcSpanEndLine = 34, srcSpanEndColumn = 16}, srcInfoPoints = []}) &quot;GHC.List&quot;"><span class="mpre">GHC.List</span></span><span class="mpre"> (filter, null)

</span><span class="hl_comment"><span class="mpre">-- | An I\/O event.</span></span><span class="mpre">
newtype </span><a name="loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tycondecl"><span class="mpre">Event</span></span></a><span class="mpre"> = </span><a name="loc_37_17_37_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_17_37_22&#39;)"><span class="hl_condecl"><span class="mpre">Event</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
    </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/Event/Internal.hs&quot;, srcSpanStartLine = 38, srcSpanStartColumn = 5, srcSpanEndLine = 38, srcSpanEndColumn = 18}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/Event/Internal.hs&quot;, srcSpanStartLine = 38, srcSpanStartColumn = 5, srcSpanEndLine = 38, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/Event/Internal.hs&quot;, srcSpanStartLine = 3"><span class="mpre">deriving (Eq)</span></span><span class="mpre">

</span><a href="#loc_41_1_41_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_1_41_11&#39;)"><span class="mpre">evtNothing</span></a><span class="mpre"> :: </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre">
</span><a name="loc_41_1_41_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_1_41_11&#39;)"><span class="hl_vardecl"><span class="mpre">evtNothing</span></span></a><span class="mpre"> = </span><a href="#loc_37_17_37_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_17_37_22&#39;)"><span class="hl_conref"><span class="mpre">Event</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_41_1_41_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_1_41_11&#39;)"><span class="mpre">evtNothing</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Data is available to be read.</span></span><span class="mpre">
</span><a href="#loc_46_1_46_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_1_46_8&#39;)"><span class="mpre">evtRead</span></a><span class="mpre"> :: </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre">
</span><a name="loc_46_1_46_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_1_46_8&#39;)"><span class="hl_vardecl"><span class="mpre">evtRead</span></span></a><span class="mpre"> = </span><a href="#loc_37_17_37_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_17_37_22&#39;)"><span class="hl_conref"><span class="mpre">Event</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_46_1_46_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_1_46_8&#39;)"><span class="mpre">evtRead</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The file descriptor is ready to accept a write.</span></span><span class="mpre">
</span><a href="#loc_51_1_51_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_1_51_9&#39;)"><span class="mpre">evtWrite</span></a><span class="mpre"> :: </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre">
</span><a name="loc_51_1_51_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_1_51_9&#39;)"><span class="hl_vardecl"><span class="mpre">evtWrite</span></span></a><span class="mpre"> = </span><a href="#loc_37_17_37_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_17_37_22&#39;)"><span class="hl_conref"><span class="mpre">Event</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_51_1_51_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_1_51_9&#39;)"><span class="mpre">evtWrite</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Another thread closed the file descriptor.</span></span><span class="mpre">
</span><a href="#loc_56_1_56_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_1_56_9&#39;)"><span class="mpre">evtClose</span></a><span class="mpre"> :: </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre">
</span><a name="loc_56_1_56_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_1_56_9&#39;)"><span class="hl_vardecl"><span class="mpre">evtClose</span></span></a><span class="mpre"> = </span><a href="#loc_37_17_37_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_17_37_22&#39;)"><span class="hl_conref"><span class="mpre">Event</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_56_1_56_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_1_56_9&#39;)"><span class="mpre">evtClose</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_60_1_60_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_1_60_8&#39;)"><span class="mpre">eventIs</span></a><span class="mpre"> :: </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_60_1_60_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_1_60_8&#39;)"><span class="hl_fundecl"><span class="mpre">eventIs</span></span></a><span class="mpre"> (</span><a href="#loc_37_17_37_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_17_37_22&#39;)"><span class="hl_conref"><span class="mpre">Event</span></span></a><span class="mpre"> </span><a name="loc_60_16_60_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_16_60_17&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">) (</span><a href="#loc_37_17_37_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_17_37_22&#39;)"><span class="hl_conref"><span class="mpre">Event</span></span></a><span class="mpre"> </span><a name="loc_60_26_60_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_26_60_27&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">) = </span><a href="#loc_60_16_60_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_16_60_17&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.&amp;.</span></span><span class="mpre"> </span><a href="#loc_60_26_60_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_26_60_27&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">/=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">

instance </span><span class="hl_classref"><span class="mpre">Show</span></span><span class="mpre"> </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre"> where
    </span><span class="hl_fundecl"><span class="mpre">show</span></span><span class="mpre"> </span><a name="loc_63_10_63_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_10_63_11&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> = </span><span class="hl_char"><span class="mpre">&#39;[&#39;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> (</span><a href="Data.List.html#loc_443_1_443_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_443_1_443_12&#39;)"><span class="hl_varref"><span class="mpre">intercalate</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;,&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">filter</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
                    [</span><a href="#loc_46_1_46_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_1_46_8&#39;)"><span class="hl_varref"><span class="mpre">evtRead</span></span></a><span class="mpre"> </span><a href="#loc_67_18_67_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_18_67_22&#39;)"><span class="hl_infix"><span class="mpre">`so`</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;evtRead&quot;</span></span><span class="mpre">,
                     </span><a href="#loc_51_1_51_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_1_51_9&#39;)"><span class="hl_varref"><span class="mpre">evtWrite</span></span></a><span class="mpre"> </span><a href="#loc_67_18_67_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_18_67_22&#39;)"><span class="hl_infix"><span class="mpre">`so`</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;evtWrite&quot;</span></span><span class="mpre">,
                     </span><a href="#loc_56_1_56_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_1_56_9&#39;)"><span class="hl_varref"><span class="mpre">evtClose</span></span></a><span class="mpre"> </span><a href="#loc_67_18_67_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_18_67_22&#39;)"><span class="hl_infix"><span class="mpre">`so`</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;evtClose&quot;</span></span><span class="mpre">]) </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;]&quot;</span></span><span class="mpre">
        where </span><a name="loc_67_15_67_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_15_67_17&#39;)"><span class="hl_vardecl"><span class="mpre">ev</span></span></a><span class="mpre"> </span><a name="loc_67_18_67_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_18_67_22&#39;)"><span class="hl_fundecl"><span class="mpre">`so`</span></span></a><span class="mpre"> </span><a name="loc_67_23_67_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_23_67_27&#39;)"><span class="hl_vardecl"><span class="mpre">disp</span></span></a><span class="mpre"> | </span><a href="#loc_63_10_63_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_10_63_11&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre"> </span><a href="#loc_60_1_60_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_1_60_8&#39;)"><span class="hl_infix"><span class="mpre">`eventIs`</span></span></a><span class="mpre"> </span><a href="#loc_67_15_67_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_15_67_17&#39;)"><span class="hl_varref"><span class="mpre">ev</span></span></a><span class="mpre"> = </span><a href="#loc_67_23_67_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_23_67_27&#39;)"><span class="hl_varref"><span class="mpre">disp</span></span></a><span class="mpre">
                           | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">      = </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">

instance </span><a href="Data.Monoid.html#loc_79_7_79_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_79_7_79_13&#39;)"><span class="hl_classref"><span class="mpre">Monoid</span></span></a><span class="mpre"> </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre"> where
    </span><a href="Data.Monoid.html#loc_80_9_80_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_80_9_80_15&#39;)"><span class="hl_vardecl"><span class="mpre">mempty</span></span></a><span class="mpre">  = </span><a href="#loc_41_1_41_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_1_41_11&#39;)"><span class="hl_varref"><span class="mpre">evtNothing</span></span></a><span class="mpre">
    </span><a href="Data.Monoid.html#loc_82_9_82_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_82_9_82_16&#39;)"><span class="hl_vardecl"><span class="mpre">mappend</span></span></a><span class="mpre"> = </span><a href="#loc_76_1_76_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_1_76_11&#39;)"><span class="hl_varref"><span class="mpre">evtCombine</span></span></a><span class="mpre">
    </span><a href="Data.Monoid.html#loc_84_9_84_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_84_9_84_16&#39;)"><span class="hl_vardecl"><span class="mpre">mconcat</span></span></a><span class="mpre"> = </span><a href="#loc_80_1_80_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_1_80_10&#39;)"><span class="hl_varref"><span class="mpre">evtConcat</span></span></a><span class="mpre">

</span><a href="#loc_76_1_76_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_1_76_11&#39;)"><span class="mpre">evtCombine</span></a><span class="mpre"> :: </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre">
</span><a name="loc_76_1_76_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_1_76_11&#39;)"><span class="hl_fundecl"><span class="mpre">evtCombine</span></span></a><span class="mpre"> (</span><a href="#loc_37_17_37_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_17_37_22&#39;)"><span class="hl_conref"><span class="mpre">Event</span></span></a><span class="mpre"> </span><a name="loc_76_19_76_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_19_76_20&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">) (</span><a href="#loc_37_17_37_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_17_37_22&#39;)"><span class="hl_conref"><span class="mpre">Event</span></span></a><span class="mpre"> </span><a name="loc_76_29_76_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_29_76_30&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">) = </span><a href="#loc_37_17_37_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_17_37_22&#39;)"><span class="hl_conref"><span class="mpre">Event</span></span></a><span class="mpre"> (</span><a href="#loc_76_19_76_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_19_76_20&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.|.</span></span><span class="mpre"> </span><a href="#loc_76_29_76_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_29_76_30&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_76_1_76_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_1_76_11&#39;)"><span class="mpre">evtCombine</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_80_1_80_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_1_80_10&#39;)"><span class="mpre">evtConcat</span></a><span class="mpre"> :: [</span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre">] -&gt; </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre">
</span><a name="loc_80_1_80_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_1_80_10&#39;)"><span class="hl_vardecl"><span class="mpre">evtConcat</span></span></a><span class="mpre"> = </span><a href="Data.List.html#loc_993_1_993_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_993_1_993_7&#39;)"><span class="hl_varref"><span class="mpre">foldl&#39;</span></span></a><span class="mpre"> </span><a href="#loc_76_1_76_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_1_76_11&#39;)"><span class="hl_varref"><span class="mpre">evtCombine</span></span></a><span class="mpre"> </span><a href="#loc_41_1_41_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_1_41_11&#39;)"><span class="hl_varref"><span class="mpre">evtNothing</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_80_1_80_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_1_80_10&#39;)"><span class="mpre">evtConcat</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A type alias for timeouts, specified in seconds.</span></span><span class="mpre">
data </span><a name="loc_84_6_84_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_6_84_13&#39;)"><span class="hl_tycondecl"><span class="mpre">Timeout</span></span></a><span class="mpre"> = </span><a name="loc_84_16_84_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_16_84_23&#39;)"><span class="hl_condecl"><span class="mpre">Timeout</span></span></a><span class="mpre"> {-# UNPACK #-} !</span><span class="hl_tyconref"><span class="mpre">Double</span></span><span class="mpre">
             | </span><a name="loc_85_16_85_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_16_85_23&#39;)"><span class="hl_condecl"><span class="mpre">Forever</span></span></a><span class="mpre">
               </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/Event/Internal.hs&quot;, srcSpanStartLine = 86, srcSpanStartColumn = 16, srcSpanEndLine = 86, srcSpanEndColumn = 31}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/Event/Internal.hs&quot;, srcSpanStartLine = 86, srcSpanStartColumn = 16, srcSpanEndLine = 86, srcSpanEndColumn = 24},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/Event/Internal.hs&quot;, srcSpanStartLine ="><span class="mpre">deriving (Show)</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Event notification backend.</span></span><span class="mpre">
data </span><a name="loc_89_6_89_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_6_89_13&#39;)"><span class="hl_tycondecl"><span class="mpre">Backend</span></span></a><span class="mpre"> = forall a. </span><a name="loc_89_26_89_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_26_89_33&#39;)"><span class="hl_condecl"><span class="mpre">Backend</span></span></a><span class="mpre"> {
      </span><span class="hl_fielddecl"><span class="mpre">_beState</span></span><span class="mpre"> :: !</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- | Poll backend for new events.  The provided callback is called</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- once per file descriptor with new events.</span></span><span class="mpre">
    , </span><span class="hl_fielddecl"><span class="mpre">_bePoll</span></span><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">                          </span><span class="hl_comment"><span class="mpre">-- backend state</span></span><span class="mpre">
              -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><a href="#loc_84_6_84_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_6_84_13&#39;)"><span class="hl_tyconref"><span class="mpre">Timeout</span></span></a><span class="mpre">              </span><span class="hl_comment"><span class="mpre">-- timeout in milliseconds (&#39;Nothing&#39; for non-blocking poll)</span></span><span class="mpre">
              -&gt; (</span><span class="hl_tyconref"><span class="mpre">Fd</span></span><span class="mpre"> -&gt; </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">)     </span><span class="hl_comment"><span class="mpre">-- I/O callback</span></span><span class="mpre">
              -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- | Register, modify, or unregister interest in the given events</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- on the given file descriptor.</span></span><span class="mpre">
    , </span><span class="hl_fielddecl"><span class="mpre">_beModifyFd</span></span><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
                  -&gt; </span><span class="hl_tyconref"><span class="mpre">Fd</span></span><span class="mpre">       </span><span class="hl_comment"><span class="mpre">-- file descriptor</span></span><span class="mpre">
                  -&gt; </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre">    </span><span class="hl_comment"><span class="mpre">-- old events to watch for (&#39;mempty&#39; for new)</span></span><span class="mpre">
                  -&gt; </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre">    </span><span class="hl_comment"><span class="mpre">-- new events to watch for (&#39;mempty&#39; to delete)</span></span><span class="mpre">
                  -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">

    , </span><span class="hl_fielddecl"><span class="mpre">_beModifyFdOnce</span></span><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
                         -&gt; </span><span class="hl_tyconref"><span class="mpre">Fd</span></span><span class="mpre">    </span><span class="hl_comment"><span class="mpre">-- file descriptor</span></span><span class="mpre">
                         -&gt; </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- new events to watch</span></span><span class="mpre">
                         -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">

    , </span><span class="hl_fielddecl"><span class="mpre">_beDelete</span></span><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
    }

</span><a href="#loc_121_1_121_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_1_121_8&#39;)"><span class="mpre">backend</span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><a href="#loc_84_6_84_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_6_84_13&#39;)"><span class="hl_tyconref"><span class="mpre">Timeout</span></span></a><span class="mpre"> -&gt; (</span><span class="hl_tyconref"><span class="mpre">Fd</span></span><span class="mpre"> -&gt; </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">)
        -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Fd</span></span><span class="mpre"> -&gt; </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">)
        -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Fd</span></span><span class="mpre"> -&gt; </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">)
        -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">)
        -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
        -&gt; </span><a href="#loc_89_6_89_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_6_89_13&#39;)"><span class="hl_tyconref"><span class="mpre">Backend</span></span></a><span class="mpre">
</span><a name="loc_121_1_121_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_1_121_8&#39;)"><span class="hl_fundecl"><span class="mpre">backend</span></span></a><span class="mpre"> </span><a name="loc_121_9_121_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_9_121_14&#39;)"><span class="hl_vardecl"><span class="mpre">bPoll</span></span></a><span class="mpre"> </span><a name="loc_121_15_121_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_15_121_24&#39;)"><span class="hl_vardecl"><span class="mpre">bModifyFd</span></span></a><span class="mpre"> </span><a name="loc_121_25_121_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_25_121_38&#39;)"><span class="hl_vardecl"><span class="mpre">bModifyFdOnce</span></span></a><span class="mpre"> </span><a name="loc_121_39_121_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_39_121_46&#39;)"><span class="hl_vardecl"><span class="mpre">bDelete</span></span></a><span class="mpre"> </span><a name="loc_121_47_121_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_47_121_52&#39;)"><span class="hl_vardecl"><span class="mpre">state</span></span></a><span class="mpre"> =
  </span><a href="#loc_89_26_89_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_26_89_33&#39;)"><span class="hl_conref"><span class="mpre">Backend</span></span></a><span class="mpre"> </span><a href="#loc_121_47_121_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_47_121_52&#39;)"><span class="hl_varref"><span class="mpre">state</span></span></a><span class="mpre"> </span><a href="#loc_121_9_121_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_9_121_14&#39;)"><span class="hl_varref"><span class="mpre">bPoll</span></span></a><span class="mpre"> </span><a href="#loc_121_15_121_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_15_121_24&#39;)"><span class="hl_varref"><span class="mpre">bModifyFd</span></span></a><span class="mpre"> </span><a href="#loc_121_25_121_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_25_121_38&#39;)"><span class="hl_varref"><span class="mpre">bModifyFdOnce</span></span></a><span class="mpre"> </span><a href="#loc_121_39_121_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_39_121_46&#39;)"><span class="hl_varref"><span class="mpre">bDelete</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_121_1_121_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_1_121_8&#39;)"><span class="mpre">backend</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_126_1_126_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_1_126_5&#39;)"><span class="mpre">poll</span></a><span class="mpre"> :: </span><a href="#loc_89_6_89_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_6_89_13&#39;)"><span class="hl_tyconref"><span class="mpre">Backend</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><a href="#loc_84_6_84_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_6_84_13&#39;)"><span class="hl_tyconref"><span class="mpre">Timeout</span></span></a><span class="mpre"> -&gt; (</span><span class="hl_tyconref"><span class="mpre">Fd</span></span><span class="mpre"> -&gt; </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
</span><a name="loc_126_1_126_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_1_126_5&#39;)"><span class="hl_fundecl"><span class="mpre">poll</span></span></a><span class="mpre"> (</span><a href="#loc_89_26_89_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_26_89_33&#39;)"><span class="hl_conref"><span class="mpre">Backend</span></span></a><span class="mpre"> </span><a name="loc_126_15_126_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_15_126_21&#39;)"><span class="hl_vardecl"><span class="mpre">bState</span></span></a><span class="mpre"> </span><a name="loc_126_22_126_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_22_126_27&#39;)"><span class="hl_vardecl"><span class="mpre">bPoll</span></span></a><span class="mpre"> _ _ _) = </span><a href="#loc_126_22_126_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_22_126_27&#39;)"><span class="hl_varref"><span class="mpre">bPoll</span></span></a><span class="mpre"> </span><a href="#loc_126_15_126_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_15_126_21&#39;)"><span class="hl_varref"><span class="mpre">bState</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_126_1_126_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_126_1_126_5&#39;)"><span class="mpre">poll</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Returns &#39;True&#39; if the modification succeeded.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Returns &#39;False&#39; if this backend does not support</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- event notifications on this type of file.</span></span><span class="mpre">
</span><a href="#loc_133_1_133_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_1_133_9&#39;)"><span class="mpre">modifyFd</span></a><span class="mpre"> :: </span><a href="#loc_89_6_89_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_6_89_13&#39;)"><span class="hl_tyconref"><span class="mpre">Backend</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Fd</span></span><span class="mpre"> -&gt; </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_133_1_133_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_1_133_9&#39;)"><span class="hl_fundecl"><span class="mpre">modifyFd</span></span></a><span class="mpre"> (</span><a href="#loc_89_26_89_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_26_89_33&#39;)"><span class="hl_conref"><span class="mpre">Backend</span></span></a><span class="mpre"> </span><a name="loc_133_19_133_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_19_133_25&#39;)"><span class="hl_vardecl"><span class="mpre">bState</span></span></a><span class="mpre"> _ </span><a name="loc_133_28_133_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_28_133_37&#39;)"><span class="hl_vardecl"><span class="mpre">bModifyFd</span></span></a><span class="mpre"> _ _) = </span><a href="#loc_133_28_133_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_28_133_37&#39;)"><span class="hl_varref"><span class="mpre">bModifyFd</span></span></a><span class="mpre"> </span><a href="#loc_133_19_133_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_19_133_25&#39;)"><span class="hl_varref"><span class="mpre">bState</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_133_1_133_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_1_133_9&#39;)"><span class="mpre">modifyFd</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Returns &#39;True&#39; if the modification succeeded.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Returns &#39;False&#39; if this backend does not support</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- event notifications on this type of file.</span></span><span class="mpre">
</span><a href="#loc_140_1_140_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_1_140_13&#39;)"><span class="mpre">modifyFdOnce</span></a><span class="mpre"> :: </span><a href="#loc_89_6_89_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_6_89_13&#39;)"><span class="hl_tyconref"><span class="mpre">Backend</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Fd</span></span><span class="mpre"> -&gt; </span><a href="#loc_37_9_37_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_37_9_37_14&#39;)"><span class="hl_tyconref"><span class="mpre">Event</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_140_1_140_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_1_140_13&#39;)"><span class="hl_fundecl"><span class="mpre">modifyFdOnce</span></span></a><span class="mpre"> (</span><a href="#loc_89_26_89_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_26_89_33&#39;)"><span class="hl_conref"><span class="mpre">Backend</span></span></a><span class="mpre"> </span><a name="loc_140_23_140_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_23_140_29&#39;)"><span class="hl_vardecl"><span class="mpre">bState</span></span></a><span class="mpre"> _ _ </span><a name="loc_140_34_140_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_34_140_47&#39;)"><span class="hl_vardecl"><span class="mpre">bModifyFdOnce</span></span></a><span class="mpre"> _) = </span><a href="#loc_140_34_140_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_34_140_47&#39;)"><span class="hl_varref"><span class="mpre">bModifyFdOnce</span></span></a><span class="mpre"> </span><a href="#loc_140_23_140_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_23_140_29&#39;)"><span class="hl_varref"><span class="mpre">bState</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_140_1_140_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_1_140_13&#39;)"><span class="mpre">modifyFdOnce</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_144_1_144_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_1_144_7&#39;)"><span class="mpre">delete</span></a><span class="mpre"> :: </span><a href="#loc_89_6_89_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_6_89_13&#39;)"><span class="hl_tyconref"><span class="mpre">Backend</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_144_1_144_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_1_144_7&#39;)"><span class="hl_fundecl"><span class="mpre">delete</span></span></a><span class="mpre"> (</span><a href="#loc_89_26_89_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_26_89_33&#39;)"><span class="hl_conref"><span class="mpre">Backend</span></span></a><span class="mpre"> </span><a name="loc_144_17_144_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_17_144_23&#39;)"><span class="hl_vardecl"><span class="mpre">bState</span></span></a><span class="mpre"> _ _ _ </span><a name="loc_144_30_144_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_30_144_37&#39;)"><span class="hl_vardecl"><span class="mpre">bDelete</span></span></a><span class="mpre">) = </span><a href="#loc_144_30_144_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_30_144_37&#39;)"><span class="hl_varref"><span class="mpre">bDelete</span></span></a><span class="mpre"> </span><a href="#loc_144_17_144_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_17_144_23&#39;)"><span class="hl_varref"><span class="mpre">bState</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_144_1_144_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_1_144_7&#39;)"><span class="mpre">delete</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Throw an &#39;IOError&#39; corresponding to the current value of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;getErrno&#39; if the result value of the &#39;IO&#39; action is -1 and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;getErrno&#39; is not &#39;eINTR&#39;.  If the result value is -1 and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;getErrno&#39; returns &#39;eINTR&#39; 0 is returned.  Otherwise the result</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- value is returned.</span></span><span class="mpre">
</span><a href="#loc_153_1_153_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_1_153_26&#39;)"><span class="mpre">throwErrnoIfMinus1NoRetry</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/Event/Internal.hs&quot;, srcSpanStartLine = 152, srcSpanStartColumn = 30, srcSpanEndLine = 152, srcSpanEndColumn = 46}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/Event/Internal.hs&quot;, srcSpanStartLine = 152, srcSpanStartColumn = 30, srcSpanEndLine = 152, srcSpanEndColumn = 31},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/Event/Internal.hs&quot;, srcSpanStartLin"><span class="mpre">(Eq a, Num a) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_153_1_153_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_1_153_26&#39;)"><span class="hl_fundecl"><span class="mpre">throwErrnoIfMinus1NoRetry</span></span></a><span class="mpre"> </span><a name="loc_153_27_153_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_27_153_30&#39;)"><span class="hl_vardecl"><span class="mpre">loc</span></span></a><span class="mpre"> </span><a name="loc_153_31_153_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_31_153_32&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = do
    </span><a name="loc_154_5_154_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_5_154_8&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_153_31_153_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_31_153_32&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
    if </span><a href="#loc_154_5_154_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_5_154_8&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> -</span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">
        then do
            </span><a name="loc_157_13_157_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_13_157_16&#39;)"><span class="hl_vardecl"><span class="mpre">err</span></span></a><span class="mpre"> &lt;- </span><a href="Foreign.C.Error.html#loc_262_1_262_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.C.Error.html#loc_262_1_262_9&#39;)"><span class="hl_varref"><span class="mpre">getErrno</span></span></a><span class="mpre">
            if </span><a href="#loc_157_13_157_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_13_157_16&#39;)"><span class="hl_varref"><span class="mpre">err</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="Foreign.C.Error.html#loc_171_1_171_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.C.Error.html#loc_171_1_171_6&#39;)"><span class="hl_varref"><span class="mpre">eINTR</span></span></a><span class="mpre"> then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> else </span><a href="Foreign.C.Error.html#loc_280_1_280_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Foreign.C.Error.html#loc_280_1_280_11&#39;)"><span class="hl_varref"><span class="mpre">throwErrno</span></span></a><span class="mpre"> </span><a href="#loc_153_27_153_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_27_153_30&#39;)"><span class="hl_varref"><span class="mpre">loc</span></span></a><span class="mpre">
        else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_154_5_154_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_5_154_8&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre">
</span></div></body></html>