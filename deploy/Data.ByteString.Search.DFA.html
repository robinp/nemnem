<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE BangPatterns #-}
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module         : Data.ByteString.Search.DFA</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright      : Daniel Fischer</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Licence        : BSD3</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer     : Daniel Fischer &lt;daniel.is.fischer@googlemail.com&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability      : Provisional</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability    : non-portable (BangPatterns)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Fast search of strict &#39;S.ByteString&#39; values. Breaking, splitting and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- replacing using a deterministic finite automaton.</span></span><span class="mpre">

module Data.ByteString.Search.DFA ( </span><span class="hl_comment"><span class="mpre">-- * Overview</span></span><span class="mpre">
                                    </span><span class="hl_comment"><span class="mpre">-- $overview</span></span><span class="mpre">

                                    </span><span class="hl_comment"><span class="mpre">-- ** Complexity and performance</span></span><span class="mpre">
                                    </span><span class="hl_comment"><span class="mpre">-- $complexity</span></span><span class="mpre">

                                    </span><span class="hl_comment"><span class="mpre">-- ** Partial application</span></span><span class="mpre">
                                    </span><span class="hl_comment"><span class="mpre">-- $partial</span></span><span class="mpre">

                                    </span><span class="hl_comment"><span class="mpre">-- * Finding substrings</span></span><span class="mpre">
                                    indices
                                  , nonOverlappingIndices
                                    </span><span class="hl_comment"><span class="mpre">-- * Breaking on substrings</span></span><span class="mpre">
                                  , breakOn
                                  , breakAfter
                                    </span><span class="hl_comment"><span class="mpre">-- * Replacing</span></span><span class="mpre">
                                  , replace
                                    </span><span class="hl_comment"><span class="mpre">-- * Splitting</span></span><span class="mpre">
                                  , split
                                  , splitKeepEnd
                                  , splitKeepFront
                                  ) where

import Data.ByteString.Search.Internal.Utils (</span><a href="Data.ByteString.Search.Internal.Utils.html#loc_45_1_45_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Search.Internal.Utils.html#loc_45_1_45_10&#39;)"><span class="mpre">automaton</span></a><span class="mpre">)
import Data.ByteString.Search.Substitution

import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/stringsearch-0.3.6.5/Data/ByteString/Search/DFA.hs&quot;, srcSpanStartLine = 39, srcSpanStartColumn = 18, srcSpanEndLine = 39, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> as S
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/stringsearch-0.3.6.5/Data/ByteString/Search/DFA.hs&quot;, srcSpanStartLine = 40, srcSpanStartColumn = 18, srcSpanEndLine = 40, srcSpanEndColumn = 38}, srcInfoPoints = []}) &quot;Data.ByteString.Lazy&quot;"><span class="mpre">Data.ByteString.Lazy</span></span><span class="mpre"> as L
import qualified Data.ByteString.Lazy.Internal as LI
import Data.ByteString.Unsafe (</span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="mpre">unsafeIndex</span></a><span class="mpre">)

import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/stringsearch-0.3.6.5/Data/ByteString/Search/DFA.hs&quot;, srcSpanStartLine = 44, srcSpanStartColumn = 8, srcSpanEndLine = 44, srcSpanEndColumn = 23}, srcInfoPoints = []}) &quot;Data.Array.Base&quot;"><span class="mpre">Data.Array.Base</span></span><span class="mpre"> (unsafeAt)
</span><span class="hl_comment"><span class="mpre">--import Data.Array.Unboxed</span></span><span class="mpre">

import Data.Bits

</span><span class="hl_comment"><span class="mpre">-- $overview</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This module provides functions related to searching a substring within</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- a string. The searching algorithm uses a deterministic finite automaton</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- based on the Knuth-Morris-Pratt algorithm.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The automaton is implemented as an array of @(patternLength + 1) * &amp;#963;@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- state transitions, where &amp;#963; is the alphabet size (256), so it is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- only suitable for short enough patterns.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When searching a pattern in a UTF-8-encoded &#39;S.ByteString&#39;, be aware that</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- these functions work on bytes, not characters, so the indices are</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- byte-offsets, not character offsets.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- $complexity</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The time and space complexity of the preprocessing phase is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- /O/(@patternLength * &amp;#963;@).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The searching phase is /O/(@targetLength@), each target character is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- inspected only once.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- In general the functions in this module are slightly faster than the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- corresponding functions using the Knuth-Morris-Pratt algorithm but</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- considerably slower than the Boyer-Moore functions. For very short</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- patterns or, in the case of &#39;indices&#39;, patterns with a short period</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- which occur often, however, times are close to or even below the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Boyer-Moore times.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- $partial</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- All functions can usefully be partially applied. Given only a pattern,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the automaton is constructed only once, allowing efficient re-use.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--                            Exported Functions                            --</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | @&#39;indices&#39;@ finds the starting indices of all possibly overlapping</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   occurrences of the pattern in the target string.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   If the pattern is empty, the result is @[0 .. &#39;length&#39; target]@.</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_92_1_92_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_1_92_8&#39;)"><span class="mpre">indices</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a href="#loc_92_1_92_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_1_92_8&#39;)"><span class="mpre">indices</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">     </span><span class="hl_comment"><span class="mpre">-- ^ Pattern to find</span></span><span class="mpre">
        -&gt; </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">     </span><span class="hl_comment"><span class="mpre">-- ^ String to search</span></span><span class="mpre">
        -&gt; [</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">]            </span><span class="hl_comment"><span class="mpre">-- ^ Offsets of matches</span></span><span class="mpre">
</span><a name="loc_92_1_92_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_1_92_8&#39;)"><span class="hl_vardecl"><span class="mpre">indices</span></span></a><span class="mpre"> = </span><a href="#loc_297_1_297_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_1_297_15&#39;)"><span class="hl_varref"><span class="mpre">strictSearcher</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | @&#39;nonOverlappingIndices&#39;@ finds the starting indices of all</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   non-overlapping occurrences of the pattern in the target string.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   It is more efficient than removing indices from the list produced</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   by &#39;indices&#39;.</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_102_1_102_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_1_102_22&#39;)"><span class="mpre">nonOverlappingIndices</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a href="#loc_102_1_102_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_1_102_22&#39;)"><span class="mpre">nonOverlappingIndices</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">   </span><span class="hl_comment"><span class="mpre">-- ^ Pattern to find</span></span><span class="mpre">
                      -&gt; </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">   </span><span class="hl_comment"><span class="mpre">-- ^ String to search</span></span><span class="mpre">
                      -&gt; [</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">]          </span><span class="hl_comment"><span class="mpre">-- ^ Offsets of matches</span></span><span class="mpre">
</span><a name="loc_102_1_102_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_1_102_22&#39;)"><span class="hl_vardecl"><span class="mpre">nonOverlappingIndices</span></span></a><span class="mpre"> = </span><a href="#loc_297_1_297_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_1_297_15&#39;)"><span class="hl_varref"><span class="mpre">strictSearcher</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | @&#39;breakOn&#39; pattern target@ splits @target@ at the first occurrence</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   of @pattern@. If the pattern does not occur in the target, the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   second component of the result is empty, otherwise it starts with</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   @pattern@. If the pattern is empty, the first component is empty.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   &#39;uncurry&#39; &#39;S.append&#39; . &#39;breakOn&#39; pattern = &#39;id&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_116_1_116_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_1_116_8&#39;)"><span class="mpre">breakOn</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^ String to search for</span></span><span class="mpre">
        -&gt; </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^ String to search in</span></span><span class="mpre">
        -&gt; (</span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">)
                         </span><span class="hl_comment"><span class="mpre">-- ^ Head and tail of string broken at substring</span></span><span class="mpre">
</span><a name="loc_116_1_116_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_1_116_8&#39;)"><span class="hl_fundecl"><span class="mpre">breakOn</span></span></a><span class="mpre"> </span><a name="loc_116_9_116_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_9_116_12&#39;)"><span class="hl_vardecl"><span class="mpre">pat</span></span></a><span class="mpre"> = </span><a href="#loc_119_5_119_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_5_119_12&#39;)"><span class="hl_varref"><span class="mpre">breaker</span></span></a><span class="mpre">
  where
    </span><a name="loc_118_5_118_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_5_118_13&#39;)"><span class="hl_vardecl"><span class="mpre">searcher</span></span></a><span class="mpre"> = </span><a href="#loc_297_1_297_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_1_297_15&#39;)"><span class="hl_varref"><span class="mpre">strictSearcher</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre"> </span><a href="#loc_116_9_116_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_9_116_12&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">
    </span><a name="loc_119_5_119_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_5_119_12&#39;)"><span class="hl_fundecl"><span class="mpre">breaker</span></span></a><span class="mpre"> </span><a name="loc_119_13_119_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_13_119_16&#39;)"><span class="hl_vardecl"><span class="mpre">str</span></span></a><span class="mpre"> = case </span><a href="#loc_118_5_118_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_5_118_13&#39;)"><span class="hl_varref"><span class="mpre">searcher</span></span></a><span class="mpre"> </span><a href="#loc_119_13_119_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_13_119_16&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre"> of
                    []      -&gt; (</span><a href="#loc_119_13_119_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_13_119_16&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">, </span><span class="hl_varref"><span class="mpre">S.empty</span></span><span class="mpre">)
                    (</span><a name="loc_121_22_121_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_22_121_23&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">_)   -&gt; </span><span class="hl_varref"><span class="mpre">S.splitAt</span></span><span class="mpre"> </span><a href="#loc_121_22_121_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_22_121_23&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_119_13_119_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_13_119_16&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | @&#39;breakAfter&#39; pattern target@ splits @target@ behind the first occurrence</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   of @pattern@. An empty second component means that either the pattern</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   does not occur in the target or the first occurrence of pattern is at</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   the very end of target. To discriminate between those cases, use e.g.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   &#39;S.isSuffixOf&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   &#39;uncurry&#39; &#39;S.append&#39; . &#39;breakAfter&#39; pattern = &#39;id&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_136_1_136_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_1_136_11&#39;)"><span class="mpre">breakAfter</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^ String to search for</span></span><span class="mpre">
           -&gt; </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^ String to search in</span></span><span class="mpre">
           -&gt; (</span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">)
                            </span><span class="hl_comment"><span class="mpre">-- ^ Head and tail of string broken after substring</span></span><span class="mpre">
</span><a name="loc_136_1_136_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_1_136_11&#39;)"><span class="hl_fundecl"><span class="mpre">breakAfter</span></span></a><span class="mpre"> </span><a name="loc_136_12_136_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_12_136_15&#39;)"><span class="hl_vardecl"><span class="mpre">pat</span></span></a><span class="mpre"> = </span><a href="#loc_140_5_140_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_5_140_12&#39;)"><span class="hl_varref"><span class="mpre">breaker</span></span></a><span class="mpre">
  where
    !</span><a name="loc_138_6_138_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_6_138_12&#39;)"><span class="hl_vardecl"><span class="mpre">patLen</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">S.length</span></span><span class="mpre"> </span><a href="#loc_136_12_136_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_12_136_15&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">
    </span><a name="loc_139_5_139_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_5_139_13&#39;)"><span class="hl_vardecl"><span class="mpre">searcher</span></span></a><span class="mpre"> = </span><a href="#loc_297_1_297_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_1_297_15&#39;)"><span class="hl_varref"><span class="mpre">strictSearcher</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre"> </span><a href="#loc_136_12_136_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_12_136_15&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">
    </span><a name="loc_140_5_140_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_5_140_12&#39;)"><span class="hl_fundecl"><span class="mpre">breaker</span></span></a><span class="mpre"> </span><a name="loc_140_13_140_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_13_140_16&#39;)"><span class="hl_vardecl"><span class="mpre">str</span></span></a><span class="mpre"> = case </span><a href="#loc_139_5_139_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_5_139_13&#39;)"><span class="hl_varref"><span class="mpre">searcher</span></span></a><span class="mpre"> </span><a href="#loc_140_13_140_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_13_140_16&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre"> of
                    []      -&gt; (</span><a href="#loc_140_13_140_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_13_140_16&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">, </span><span class="hl_varref"><span class="mpre">S.empty</span></span><span class="mpre">)
                    (</span><a name="loc_142_22_142_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_22_142_23&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">_)   -&gt; </span><span class="hl_varref"><span class="mpre">S.splitAt</span></span><span class="mpre"> (</span><a href="#loc_142_22_142_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_22_142_23&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_138_6_138_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_6_138_12&#39;)"><span class="hl_varref"><span class="mpre">patLen</span></span></a><span class="mpre">) </span><a href="#loc_140_13_140_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_13_140_16&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | @&#39;replace&#39; pat sub text@ replaces all (non-overlapping) occurrences of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   @pat@ in @text@ with @sub@. If occurrences of @pat@ overlap, the first</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   occurrence that does not overlap with a replaced previous occurrence</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   is substituted. Occurrences of @pat@ arising from a substitution</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   will not be substituted. For example:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   &#39;replace&#39; \&quot;ana\&quot; \&quot;olog\&quot; \&quot;banana\&quot; = \&quot;bologna\&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   &#39;replace&#39; \&quot;ana\&quot; \&quot;o\&quot; \&quot;bananana\&quot; = \&quot;bono\&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   &#39;replace&#39; \&quot;aab\&quot; \&quot;abaa\&quot; \&quot;aaabb\&quot; = \&quot;aabaab\&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   The result is a /lazy/ &#39;L.ByteString&#39;,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   which is lazily produced, without copying.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   Equality of pattern and substitution is not checked, but</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   &#39;S.concat&#39; . &#39;L.toChunks&#39; $ &#39;replace&#39; pat pat text == text</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   holds. If the pattern is empty but not the substitution, the result</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   is equivalent to (were they &#39;String&#39;s) @&#39;cycle&#39; sub@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   For non-empty @pat@ and @sub@ a strict &#39;S.ByteString&#39;,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   &#39;L.fromChunks&#39; . &#39;Data.List.intersperse&#39; sub . &#39;split&#39; pat = &#39;replace&#39; pat sub</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   and analogous relations hold for other types of @sub@.</span></span><span class="mpre">
</span><a href="#loc_180_1_180_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_1_180_8&#39;)"><span class="mpre">replace</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/stringsearch-0.3.6.5/Data/ByteString/Search/DFA.hs&quot;, srcSpanStartLine = 175, srcSpanStartColumn = 12, srcSpanEndLine = 176, srcSpanEndColumn = 11}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/stringsearch-0.3.6.5/Data/ByteString/Search/DFA.hs&quot;, srcSpanStartLine = 176, srcSpanStartColumn = 9, srcSpanEndLine = 176, srcSpanEndColumn = 11}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/v"><span class="mpre">Substitution rep
        =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">     </span><span class="hl_comment"><span class="mpre">-- ^ Substring to replace</span></span><span class="mpre">
        -&gt; </span><span class="hl_tyvar"><span class="mpre">rep</span></span><span class="mpre">              </span><span class="hl_comment"><span class="mpre">-- ^ Replacement string</span></span><span class="mpre">
        -&gt; </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">     </span><span class="hl_comment"><span class="mpre">-- ^ String to modify</span></span><span class="mpre">
        -&gt; </span><span class="hl_tyconref"><span class="mpre">L.ByteString</span></span><span class="mpre">     </span><span class="hl_comment"><span class="mpre">-- ^ Lazy result</span></span><span class="mpre">
</span><a name="loc_180_1_180_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_1_180_8&#39;)"><span class="hl_fundecl"><span class="mpre">replace</span></span></a><span class="mpre"> </span><a name="loc_180_9_180_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_9_180_12&#39;)"><span class="hl_vardecl"><span class="mpre">pat</span></span></a><span class="mpre">
  | </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_180_9_180_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_9_180_12&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre"> = \</span><a name="loc_181_19_181_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_19_181_22&#39;)"><span class="hl_vardecl"><span class="mpre">sub</span></span></a><span class="mpre"> -&gt; </span><a href="Data.ByteString.Search.Substitution.html#loc_34_5_34_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Search.Substitution.html#loc_34_5_34_17&#39;)"><span class="hl_varref"><span class="mpre">prependCycle</span></span></a><span class="mpre"> </span><a href="#loc_181_19_181_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_19_181_22&#39;)"><span class="hl_varref"><span class="mpre">sub</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">flip</span></span><span class="mpre"> </span><a href="Data.ByteString.Lazy.Internal.html#loc_173_1_173_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Lazy.Internal.html#loc_173_1_173_6&#39;)"><span class="hl_varref"><span class="mpre">LI.chunk</span></span></a><span class="mpre"> </span><a href="Data.ByteString.Lazy.Internal.html#loc_82_19_82_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Lazy.Internal.html#loc_82_19_82_24&#39;)"><span class="hl_conref"><span class="mpre">LI.Empty</span></span></a><span class="mpre">
  | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> =
    let !</span><a name="loc_183_10_183_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_10_183_16&#39;)"><span class="hl_vardecl"><span class="mpre">patLen</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">S.length</span></span><span class="mpre"> </span><a href="#loc_180_9_180_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_9_180_12&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">
        </span><a name="loc_184_9_184_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_9_184_17&#39;)"><span class="hl_vardecl"><span class="mpre">searcher</span></span></a><span class="mpre"> = </span><a href="#loc_297_1_297_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_1_297_15&#39;)"><span class="hl_varref"><span class="mpre">strictSearcher</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre"> </span><a href="#loc_180_9_180_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_9_180_12&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">
        </span><a name="loc_185_9_185_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_9_185_13&#39;)"><span class="hl_fundecl"><span class="mpre">repl</span></span></a><span class="mpre"> </span><a name="loc_185_14_185_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_14_185_17&#39;)"><span class="hl_vardecl"><span class="mpre">sub</span></span></a><span class="mpre"> =
          let </span><span class="hl_pragma"><span class="mpre">{-# NOINLINE </span><a href="#loc_187_16_187_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_16_187_21&#39;)"><span class="mpre">subst</span></a><span class="mpre"> #-}</span></span><span class="mpre">
              !</span><a name="loc_187_16_187_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_16_187_21&#39;)"><span class="hl_vardecl"><span class="mpre">subst</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Search.Substitution.html#loc_23_5_23_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Search.Substitution.html#loc_23_5_23_17&#39;)"><span class="hl_varref"><span class="mpre">substitution</span></span></a><span class="mpre"> </span><a href="#loc_185_14_185_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_14_185_17&#39;)"><span class="hl_varref"><span class="mpre">sub</span></span></a><span class="mpre">
              </span><a name="loc_188_15_188_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_15_188_23&#39;)"><span class="hl_fundecl"><span class="mpre">replacer</span></span></a><span class="mpre"> </span><a name="loc_188_24_188_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_24_188_27&#39;)"><span class="hl_vardecl"><span class="mpre">str</span></span></a><span class="mpre">
                | </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_188_24_188_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_24_188_27&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">    = []
                | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">     =
                  case </span><a href="#loc_184_9_184_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_9_184_17&#39;)"><span class="hl_varref"><span class="mpre">searcher</span></span></a><span class="mpre"> </span><a href="#loc_188_24_188_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_24_188_27&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre"> of
                    []              -&gt; [</span><a href="#loc_188_24_188_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_24_188_27&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">]
                    (</span><a name="loc_193_22_193_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_22_193_23&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">_)
                        | </span><a href="#loc_193_22_193_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_22_193_23&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">    -&gt; </span><a href="#loc_187_16_187_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_16_187_21&#39;)"><span class="hl_varref"><span class="mpre">subst</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_188_15_188_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_15_188_23&#39;)"><span class="hl_varref"><span class="mpre">replacer</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">S.drop</span></span><span class="mpre"> </span><a href="#loc_183_10_183_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_10_183_16&#39;)"><span class="hl_varref"><span class="mpre">patLen</span></span></a><span class="mpre"> </span><a href="#loc_188_24_188_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_24_188_27&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">)
                        | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">S.take</span></span><span class="mpre"> </span><a href="#loc_193_22_193_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_22_193_23&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_188_24_188_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_24_188_27&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_187_16_187_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_16_187_21&#39;)"><span class="hl_varref"><span class="mpre">subst</span></span></a><span class="mpre">
                                        (</span><a href="#loc_188_15_188_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_15_188_23&#39;)"><span class="hl_varref"><span class="mpre">replacer</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">S.drop</span></span><span class="mpre"> (</span><a href="#loc_193_22_193_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_22_193_23&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_183_10_183_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_10_183_16&#39;)"><span class="hl_varref"><span class="mpre">patLen</span></span></a><span class="mpre">) </span><a href="#loc_188_24_188_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_24_188_27&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">))
          in </span><a href="#loc_188_15_188_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_15_188_23&#39;)"><span class="hl_varref"><span class="mpre">replacer</span></span></a><span class="mpre">
    in \</span><a name="loc_198_9_198_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_9_198_12&#39;)"><span class="hl_vardecl"><span class="mpre">sub</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">L.fromChunks</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_185_9_185_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_9_185_13&#39;)"><span class="hl_varref"><span class="mpre">repl</span></span></a><span class="mpre"> </span><a href="#loc_198_9_198_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_9_198_12&#39;)"><span class="hl_varref"><span class="mpre">sub</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | @&#39;split&#39; pattern target@ splits @target@ at each (non-overlapping)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   occurrence of @pattern@, removing @pattern@. If @pattern@ is empty,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   the result is an infinite list of empty &#39;S.ByteString&#39;s, if @target@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   is empty but not @pattern@, the result is an empty list, otherwise</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   the following relations hold:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   &#39;S.concat&#39; . &#39;Data.List.intersperse&#39; pat . &#39;split&#39; pat = &#39;id&#39;,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   &#39;length&#39; (&#39;split&#39; pattern target) ==</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--               &#39;length&#39; (&#39;nonOverlappingIndices&#39; pattern target) + 1,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   no fragment in the result contains an occurrence of @pattern@.</span></span><span class="mpre">
</span><a href="#loc_216_1_216_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_1_216_6&#39;)"><span class="mpre">split</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">   </span><span class="hl_comment"><span class="mpre">-- ^ Pattern to split on</span></span><span class="mpre">
      -&gt; </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">   </span><span class="hl_comment"><span class="mpre">-- ^ String to split</span></span><span class="mpre">
      -&gt; [</span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">] </span><span class="hl_comment"><span class="mpre">-- ^ Fragments of string</span></span><span class="mpre">
</span><a name="loc_216_1_216_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_1_216_6&#39;)"><span class="hl_fundecl"><span class="mpre">split</span></span></a><span class="mpre"> </span><a name="loc_216_7_216_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_7_216_10&#39;)"><span class="hl_vardecl"><span class="mpre">pat</span></span></a><span class="mpre">
  | </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_216_7_216_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_7_216_10&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">  = </span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">repeat</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.empty</span></span><span class="mpre">)
</span><a href="#loc_216_1_216_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_1_216_6&#39;)"><span class="hl_fundecl"><span class="mpre">split</span></span></a><span class="mpre"> </span><a name="loc_218_7_218_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_7_218_10&#39;)"><span class="hl_vardecl"><span class="mpre">pat</span></span></a><span class="mpre"> = </span><a href="#loc_222_5_222_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_5_222_13&#39;)"><span class="hl_varref"><span class="mpre">splitter</span></span></a><span class="mpre">
  where
    !</span><a name="loc_220_6_220_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_6_220_12&#39;)"><span class="hl_vardecl"><span class="mpre">patLen</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">S.length</span></span><span class="mpre"> </span><a href="#loc_218_7_218_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_7_218_10&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">
    </span><a name="loc_221_5_221_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_5_221_13&#39;)"><span class="hl_vardecl"><span class="mpre">searcher</span></span></a><span class="mpre"> = </span><a href="#loc_297_1_297_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_1_297_15&#39;)"><span class="hl_varref"><span class="mpre">strictSearcher</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre"> </span><a href="#loc_218_7_218_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_7_218_10&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">
    </span><a name="loc_222_5_222_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_5_222_13&#39;)"><span class="hl_fundecl"><span class="mpre">splitter</span></span></a><span class="mpre"> </span><a name="loc_222_14_222_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_14_222_17&#39;)"><span class="hl_vardecl"><span class="mpre">str</span></span></a><span class="mpre">
      | </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_222_14_222_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_14_222_17&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre"> = []
      | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">  = </span><a href="#loc_225_5_225_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_5_225_14&#39;)"><span class="hl_varref"><span class="mpre">splitter&#39;</span></span></a><span class="mpre"> </span><a href="#loc_222_14_222_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_14_222_17&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">
    </span><a name="loc_225_5_225_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_5_225_14&#39;)"><span class="hl_fundecl"><span class="mpre">splitter&#39;</span></span></a><span class="mpre"> </span><a name="loc_225_15_225_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_15_225_18&#39;)"><span class="hl_vardecl"><span class="mpre">str</span></span></a><span class="mpre">
      | </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_225_15_225_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_15_225_18&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre"> = [</span><span class="hl_varref"><span class="mpre">S.empty</span></span><span class="mpre">]
      | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">  =
        case </span><a href="#loc_221_5_221_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_5_221_13&#39;)"><span class="hl_varref"><span class="mpre">searcher</span></span></a><span class="mpre"> </span><a href="#loc_225_15_225_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_15_225_18&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre"> of
          []    -&gt; [</span><a href="#loc_225_15_225_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_15_225_18&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">]
          (</span><a name="loc_230_12_230_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_12_230_13&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">_) -&gt; </span><span class="hl_varref"><span class="mpre">S.take</span></span><span class="mpre"> </span><a href="#loc_230_12_230_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_12_230_13&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_225_15_225_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_15_225_18&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_225_5_225_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_5_225_14&#39;)"><span class="hl_varref"><span class="mpre">splitter&#39;</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">S.drop</span></span><span class="mpre"> (</span><a href="#loc_230_12_230_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_12_230_13&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_220_6_220_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_6_220_12&#39;)"><span class="hl_varref"><span class="mpre">patLen</span></span></a><span class="mpre">) </span><a href="#loc_225_15_225_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_15_225_18&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | @&#39;splitKeepEnd&#39; pattern target@ splits @target@ after each (non-overlapping)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   occurrence of @pattern@. If @pattern@ is empty, the result is an</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   infinite list of empty &#39;S.ByteString&#39;s, otherwise the following</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   relations hold:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   &#39;S.concat&#39; . &#39;splitKeepEnd&#39; pattern = &#39;id&#39;,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   all fragments in the result except possibly the last end with</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   @pattern@, no fragment contains more than one occurrence of @pattern@.</span></span><span class="mpre">
</span><a href="#loc_246_1_246_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_1_246_13&#39;)"><span class="mpre">splitKeepEnd</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">    </span><span class="hl_comment"><span class="mpre">-- ^ Pattern to split on</span></span><span class="mpre">
             -&gt; </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">    </span><span class="hl_comment"><span class="mpre">-- ^ String to split</span></span><span class="mpre">
             -&gt; [</span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">]  </span><span class="hl_comment"><span class="mpre">-- ^ Fragments of string</span></span><span class="mpre">
</span><a name="loc_246_1_246_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_1_246_13&#39;)"><span class="hl_fundecl"><span class="mpre">splitKeepEnd</span></span></a><span class="mpre"> </span><a name="loc_246_14_246_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_14_246_17&#39;)"><span class="hl_vardecl"><span class="mpre">pat</span></span></a><span class="mpre">
  | </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_246_14_246_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_14_246_17&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">repeat</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.empty</span></span><span class="mpre">)
</span><a href="#loc_246_1_246_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_1_246_13&#39;)"><span class="hl_fundecl"><span class="mpre">splitKeepEnd</span></span></a><span class="mpre"> </span><a name="loc_248_14_248_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_14_248_17&#39;)"><span class="hl_vardecl"><span class="mpre">pat</span></span></a><span class="mpre"> = </span><a href="#loc_252_5_252_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_5_252_13&#39;)"><span class="hl_varref"><span class="mpre">splitter</span></span></a><span class="mpre">
  where
    !</span><a name="loc_250_6_250_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_6_250_12&#39;)"><span class="hl_vardecl"><span class="mpre">patLen</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">S.length</span></span><span class="mpre"> </span><a href="#loc_248_14_248_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_14_248_17&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">
    </span><a name="loc_251_5_251_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_251_5_251_13&#39;)"><span class="hl_vardecl"><span class="mpre">searcher</span></span></a><span class="mpre"> = </span><a href="#loc_297_1_297_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_1_297_15&#39;)"><span class="hl_varref"><span class="mpre">strictSearcher</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre"> </span><a href="#loc_248_14_248_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_14_248_17&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">
    </span><a name="loc_252_5_252_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_5_252_13&#39;)"><span class="hl_fundecl"><span class="mpre">splitter</span></span></a><span class="mpre"> </span><a name="loc_252_14_252_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_14_252_17&#39;)"><span class="hl_vardecl"><span class="mpre">str</span></span></a><span class="mpre">
      | </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_252_14_252_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_14_252_17&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">  = []
      | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">   =
        case </span><a href="#loc_251_5_251_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_251_5_251_13&#39;)"><span class="hl_varref"><span class="mpre">searcher</span></span></a><span class="mpre"> </span><a href="#loc_252_14_252_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_14_252_17&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre"> of
          []    -&gt; [</span><a href="#loc_252_14_252_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_14_252_17&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">]
          (</span><a name="loc_257_12_257_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_257_12_257_13&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">_) -&gt; </span><span class="hl_varref"><span class="mpre">S.take</span></span><span class="mpre"> (</span><a href="#loc_257_12_257_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_257_12_257_13&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_250_6_250_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_6_250_12&#39;)"><span class="hl_varref"><span class="mpre">patLen</span></span></a><span class="mpre">) </span><a href="#loc_252_14_252_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_14_252_17&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">
                        </span><a href="#loc_252_5_252_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_5_252_13&#39;)"><span class="hl_varref"><span class="mpre">splitter</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">S.drop</span></span><span class="mpre"> (</span><a href="#loc_257_12_257_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_257_12_257_13&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_250_6_250_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_6_250_12&#39;)"><span class="hl_varref"><span class="mpre">patLen</span></span></a><span class="mpre">) </span><a href="#loc_252_14_252_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_14_252_17&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | @&#39;splitKeepFront&#39;@ is like &#39;splitKeepEnd&#39;, except that @target@ is split</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   before each occurrence of @pattern@ and hence all fragments</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   with the possible exception of the first begin with @pattern@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   No fragment contains more than one non-overlapping occurrence</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   of @pattern@.</span></span><span class="mpre">
</span><a href="#loc_268_1_268_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_1_268_15&#39;)"><span class="mpre">splitKeepFront</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">    </span><span class="hl_comment"><span class="mpre">-- ^ Pattern to split on</span></span><span class="mpre">
               -&gt; </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">    </span><span class="hl_comment"><span class="mpre">-- ^ String to split</span></span><span class="mpre">
               -&gt; [</span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">]  </span><span class="hl_comment"><span class="mpre">-- ^ Fragments of string</span></span><span class="mpre">
</span><a name="loc_268_1_268_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_1_268_15&#39;)"><span class="hl_fundecl"><span class="mpre">splitKeepFront</span></span></a><span class="mpre"> </span><a name="loc_268_16_268_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_16_268_19&#39;)"><span class="hl_vardecl"><span class="mpre">pat</span></span></a><span class="mpre">
  | </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_268_16_268_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_16_268_19&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">  = </span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">repeat</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.empty</span></span><span class="mpre">)
</span><a href="#loc_268_1_268_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_1_268_15&#39;)"><span class="hl_fundecl"><span class="mpre">splitKeepFront</span></span></a><span class="mpre"> </span><a name="loc_270_16_270_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_16_270_19&#39;)"><span class="hl_vardecl"><span class="mpre">pat</span></span></a><span class="mpre"> = </span><a href="#loc_274_5_274_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_5_274_13&#39;)"><span class="hl_varref"><span class="mpre">splitter</span></span></a><span class="mpre">
  where
    !</span><a name="loc_272_6_272_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_6_272_12&#39;)"><span class="hl_vardecl"><span class="mpre">patLen</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">S.length</span></span><span class="mpre"> </span><a href="#loc_270_16_270_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_16_270_19&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">
    </span><a name="loc_273_5_273_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_273_5_273_13&#39;)"><span class="hl_vardecl"><span class="mpre">searcher</span></span></a><span class="mpre"> = </span><a href="#loc_297_1_297_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_1_297_15&#39;)"><span class="hl_varref"><span class="mpre">strictSearcher</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre"> </span><a href="#loc_270_16_270_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_16_270_19&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">
    </span><a name="loc_274_5_274_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_5_274_13&#39;)"><span class="hl_fundecl"><span class="mpre">splitter</span></span></a><span class="mpre"> </span><a name="loc_274_14_274_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_14_274_17&#39;)"><span class="hl_vardecl"><span class="mpre">str</span></span></a><span class="mpre">
      | </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_274_14_274_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_14_274_17&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">  = []
      | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">   =
        case </span><a href="#loc_273_5_273_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_273_5_273_13&#39;)"><span class="hl_varref"><span class="mpre">searcher</span></span></a><span class="mpre"> </span><a href="#loc_274_14_274_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_14_274_17&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre"> of
          []            -&gt; [</span><a href="#loc_274_14_274_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_14_274_17&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">]
          (</span><a name="loc_279_12_279_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_12_279_13&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_279_14_279_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_14_279_17&#39;)"><span class="hl_vardecl"><span class="mpre">rst</span></span></a><span class="mpre">)
            | </span><a href="#loc_279_12_279_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_12_279_13&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">    -&gt; case </span><a href="#loc_279_14_279_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_14_279_17&#39;)"><span class="hl_varref"><span class="mpre">rst</span></span></a><span class="mpre"> of
                             []     -&gt; [</span><a href="#loc_274_14_274_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_14_274_17&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">]
                             (</span><a name="loc_282_31_282_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_31_282_32&#39;)"><span class="hl_vardecl"><span class="mpre">j</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">_)  -&gt; </span><span class="hl_varref"><span class="mpre">S.take</span></span><span class="mpre"> </span><a href="#loc_282_31_282_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_31_282_32&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_274_14_274_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_14_274_17&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_284_5_284_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_5_284_14&#39;)"><span class="hl_varref"><span class="mpre">splitter&#39;</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">S.drop</span></span><span class="mpre"> </span><a href="#loc_282_31_282_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_31_282_32&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><a href="#loc_274_14_274_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_14_274_17&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">)
            | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">S.take</span></span><span class="mpre"> </span><a href="#loc_279_12_279_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_12_279_13&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_274_14_274_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_14_274_17&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_284_5_284_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_5_284_14&#39;)"><span class="hl_varref"><span class="mpre">splitter&#39;</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">S.drop</span></span><span class="mpre"> </span><a href="#loc_279_12_279_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_12_279_13&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_274_14_274_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_14_274_17&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">)
    </span><a name="loc_284_5_284_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_5_284_14&#39;)"><span class="hl_fundecl"><span class="mpre">splitter&#39;</span></span></a><span class="mpre"> </span><a name="loc_284_15_284_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_15_284_18&#39;)"><span class="hl_vardecl"><span class="mpre">str</span></span></a><span class="mpre">
      | </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_284_15_284_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_15_284_18&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">  = []
      | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">   =
        case </span><a href="#loc_273_5_273_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_273_5_273_13&#39;)"><span class="hl_varref"><span class="mpre">searcher</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">S.drop</span></span><span class="mpre"> </span><a href="#loc_272_6_272_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_6_272_12&#39;)"><span class="hl_varref"><span class="mpre">patLen</span></span></a><span class="mpre"> </span><a href="#loc_284_15_284_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_15_284_18&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">) of
          []    -&gt; [</span><a href="#loc_284_15_284_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_15_284_18&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">]
          (</span><a name="loc_289_12_289_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_12_289_13&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">_) -&gt; </span><span class="hl_varref"><span class="mpre">S.take</span></span><span class="mpre"> (</span><a href="#loc_289_12_289_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_12_289_13&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_272_6_272_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_6_272_12&#39;)"><span class="hl_varref"><span class="mpre">patLen</span></span></a><span class="mpre">) </span><a href="#loc_284_15_284_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_15_284_18&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">
                        </span><a href="#loc_284_5_284_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_5_284_14&#39;)"><span class="hl_varref"><span class="mpre">splitter&#39;</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">S.drop</span></span><span class="mpre"> (</span><a href="#loc_289_12_289_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_12_289_13&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_272_6_272_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_6_272_12&#39;)"><span class="hl_varref"><span class="mpre">patLen</span></span></a><span class="mpre">) </span><a href="#loc_284_15_284_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_15_284_18&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--                            Searching Function                            --</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">

</span><a href="#loc_297_1_297_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_1_297_15&#39;)"><span class="mpre">strictSearcher</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">]
</span><a name="loc_297_1_297_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_1_297_15&#39;)"><span class="hl_fundecl"><span class="mpre">strictSearcher</span></span></a><span class="mpre"> _ !</span><a name="loc_297_19_297_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_19_297_22&#39;)"><span class="hl_vardecl"><span class="mpre">pat</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">S.null</span></span><span class="mpre"> </span><a href="#loc_297_19_297_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_19_297_22&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">enumFromTo</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">S.length</span></span><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">S.length</span></span><span class="mpre"> </span><a href="#loc_297_19_297_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_19_297_22&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre"> = let !</span><a name="loc_299_32_299_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_32_299_33&#39;)"><span class="hl_vardecl"><span class="mpre">w</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">S.head</span></span><span class="mpre"> </span><a href="#loc_297_19_297_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_19_297_22&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre"> in </span><span class="hl_varref"><span class="mpre">S.elemIndices</span></span><span class="mpre"> </span><a href="#loc_299_32_299_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_32_299_33&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre">
</span><a href="#loc_297_1_297_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_1_297_15&#39;)"><span class="hl_fundecl"><span class="mpre">strictSearcher</span></span></a><span class="mpre"> !</span><a name="loc_300_17_300_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_17_300_24&#39;)"><span class="hl_vardecl"><span class="mpre">overlap</span></span></a><span class="mpre"> </span><a name="loc_300_25_300_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_25_300_28&#39;)"><span class="hl_vardecl"><span class="mpre">pat</span></span></a><span class="mpre"> = </span><a href="#loc_306_5_306_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_306_5_306_11&#39;)"><span class="hl_varref"><span class="mpre">search</span></span></a><span class="mpre">
  where
    !</span><a name="loc_302_6_302_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_6_302_12&#39;)"><span class="hl_vardecl"><span class="mpre">patLen</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">S.length</span></span><span class="mpre"> </span><a href="#loc_300_25_300_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_25_300_28&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">
    !</span><a name="loc_303_6_303_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_6_303_10&#39;)"><span class="hl_vardecl"><span class="mpre">auto</span></span></a><span class="mpre">   = </span><a href="Data.ByteString.Search.Internal.Utils.html#loc_45_1_45_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Search.Internal.Utils.html#loc_45_1_45_10&#39;)"><span class="hl_varref"><span class="mpre">automaton</span></span></a><span class="mpre"> </span><a href="#loc_300_25_300_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_25_300_28&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">
    !</span><a name="loc_304_6_304_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_6_304_8&#39;)"><span class="hl_vardecl"><span class="mpre">p0</span></span></a><span class="mpre">     = </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_300_25_300_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_25_300_28&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
    !</span><a name="loc_305_6_305_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_6_305_9&#39;)"><span class="hl_vardecl"><span class="mpre">ams</span></span></a><span class="mpre">    = if </span><a href="#loc_300_17_300_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_17_300_24&#39;)"><span class="hl_varref"><span class="mpre">overlap</span></span></a><span class="mpre"> then </span><a href="#loc_302_6_302_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_6_302_12&#39;)"><span class="hl_varref"><span class="mpre">patLen</span></span></a><span class="mpre"> else </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
    </span><a name="loc_306_5_306_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_306_5_306_11&#39;)"><span class="hl_fundecl"><span class="mpre">search</span></span></a><span class="mpre"> </span><a name="loc_306_12_306_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_306_12_306_15&#39;)"><span class="hl_vardecl"><span class="mpre">str</span></span></a><span class="mpre"> = </span><a href="#loc_312_9_312_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_9_312_14&#39;)"><span class="hl_varref"><span class="mpre">match</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
      where
        !</span><a name="loc_308_10_308_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_10_308_16&#39;)"><span class="hl_vardecl"><span class="mpre">strLen</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">S.length</span></span><span class="mpre"> </span><a href="#loc_306_12_306_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_306_12_306_15&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">
        </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_311_9_311_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_9_311_14&#39;)"><span class="mpre">strAt</span></a><span class="mpre"> #-}</span></span><span class="mpre">
        </span><a href="#loc_311_9_311_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_9_311_14&#39;)"><span class="mpre">strAt</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
        </span><a name="loc_311_9_311_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_9_311_14&#39;)"><span class="hl_fundecl"><span class="mpre">strAt</span></span></a><span class="mpre"> !</span><a name="loc_311_16_311_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_16_311_17&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> (</span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_306_12_306_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_306_12_306_15&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre"> </span><a href="#loc_311_16_311_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_16_311_17&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">)
        </span><a name="loc_312_9_312_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_9_312_14&#39;)"><span class="hl_fundecl"><span class="mpre">match</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a name="loc_312_17_312_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_17_312_20&#39;)"><span class="hl_vardecl"><span class="mpre">idx</span></span></a><span class="mpre">
          | </span><a href="#loc_312_17_312_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_17_312_20&#39;)"><span class="hl_varref"><span class="mpre">idx</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_308_10_308_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_10_308_16&#39;)"><span class="hl_varref"><span class="mpre">strLen</span></span></a><span class="mpre">               = []
          | </span><a href="Data.ByteString.Unsafe.html#loc_135_1_135_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_135_1_135_12&#39;)"><span class="hl_varref"><span class="mpre">unsafeIndex</span></span></a><span class="mpre"> </span><a href="#loc_306_12_306_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_306_12_306_15&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre"> </span><a href="#loc_312_17_312_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_17_312_20&#39;)"><span class="hl_varref"><span class="mpre">idx</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_304_6_304_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_6_304_8&#39;)"><span class="hl_varref"><span class="mpre">p0</span></span></a><span class="mpre">   = </span><a href="#loc_312_9_312_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_9_312_14&#39;)"><span class="hl_varref"><span class="mpre">match</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre"> (</span><a href="#loc_312_17_312_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_17_312_20&#39;)"><span class="hl_varref"><span class="mpre">idx</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
          | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">                   = </span><a href="#loc_312_9_312_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_9_312_14&#39;)"><span class="hl_varref"><span class="mpre">match</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> (</span><a href="#loc_312_17_312_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_17_312_20&#39;)"><span class="hl_varref"><span class="mpre">idx</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
        </span><a href="#loc_312_9_312_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_9_312_14&#39;)"><span class="hl_fundecl"><span class="mpre">match</span></span></a><span class="mpre"> </span><a name="loc_316_15_316_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_15_316_20&#39;)"><span class="hl_vardecl"><span class="mpre">state</span></span></a><span class="mpre"> </span><a name="loc_316_21_316_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_21_316_24&#39;)"><span class="hl_vardecl"><span class="mpre">idx</span></span></a><span class="mpre">
          | </span><a href="#loc_316_21_316_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_21_316_24&#39;)"><span class="hl_varref"><span class="mpre">idx</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_308_10_308_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_308_10_308_16&#39;)"><span class="hl_varref"><span class="mpre">strLen</span></span></a><span class="mpre">   = []
          | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">       =
            let !</span><a name="loc_319_18_319_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_18_319_24&#39;)"><span class="hl_vardecl"><span class="mpre">nstate</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">unsafeAt</span></span><span class="mpre"> </span><a href="#loc_303_6_303_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_6_303_10&#39;)"><span class="hl_varref"><span class="mpre">auto</span></span></a><span class="mpre"> ((</span><a href="#loc_316_15_316_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_15_316_20&#39;)"><span class="hl_varref"><span class="mpre">state</span></span></a><span class="mpre"> </span><a href="Data.Bits.html#loc_200_5_200_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Bits.html#loc_200_5_200_11&#39;)"><span class="hl_infix"><span class="mpre">`shiftL`</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">8</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_311_9_311_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_311_9_311_14&#39;)"><span class="hl_varref"><span class="mpre">strAt</span></span></a><span class="mpre"> </span><a href="#loc_316_21_316_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_21_316_24&#39;)"><span class="hl_varref"><span class="mpre">idx</span></span></a><span class="mpre">)
                !</span><a name="loc_320_18_320_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_320_18_320_24&#39;)"><span class="hl_vardecl"><span class="mpre">nxtIdx</span></span></a><span class="mpre"> = </span><a href="#loc_316_21_316_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_21_316_24&#39;)"><span class="hl_varref"><span class="mpre">idx</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">
            in if </span><a href="#loc_319_18_319_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_18_319_24&#39;)"><span class="hl_varref"><span class="mpre">nstate</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_302_6_302_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_6_302_12&#39;)"><span class="hl_varref"><span class="mpre">patLen</span></span></a><span class="mpre">
                then (</span><a href="#loc_320_18_320_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_320_18_320_24&#39;)"><span class="hl_varref"><span class="mpre">nxtIdx</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="#loc_302_6_302_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_6_302_12&#39;)"><span class="hl_varref"><span class="mpre">patLen</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_312_9_312_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_9_312_14&#39;)"><span class="hl_varref"><span class="mpre">match</span></span></a><span class="mpre"> </span><a href="#loc_305_6_305_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_6_305_9&#39;)"><span class="hl_varref"><span class="mpre">ams</span></span></a><span class="mpre"> </span><a href="#loc_320_18_320_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_320_18_320_24&#39;)"><span class="hl_varref"><span class="mpre">nxtIdx</span></span></a><span class="mpre">
                else </span><a href="#loc_312_9_312_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_9_312_14&#39;)"><span class="hl_varref"><span class="mpre">match</span></span></a><span class="mpre"> </span><a href="#loc_319_18_319_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_18_319_24&#39;)"><span class="hl_varref"><span class="mpre">nstate</span></span></a><span class="mpre"> </span><a href="#loc_320_18_320_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_320_18_320_24&#39;)"><span class="hl_varref"><span class="mpre">nxtIdx</span></span></a><span class="mpre">

</span></div></body></html>