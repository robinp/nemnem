<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Distribution.Simple.Compiler</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  Isaac Jones 2003-2004</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  cabal-devel@haskell.org</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This should be a much more sophisticated abstraction than it is. Currently</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- it&#39;s just a bit of data about the compiler, like it&#39;s flavour and name and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- version. The reason it&#39;s just data is because currently it has to be in</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Read&#39; and &#39;Show&#39; so it can be saved along with the &#39;LocalBuildInfo&#39;. The</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- only interesting bit of info it contains is a mapping between language</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- extensions and compiler command line flags. This module also defines a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;PackageDB&#39; type which is used to refer to package databases. Most compilers</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- only know about a single global package collection but GHC has a global and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- per-user one and it lets you create arbitrary other package databases. We do</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- not yet fully support this latter feature.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{- All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.

    * Redistributions in binary form must reproduce the above
      copyright notice, this list of conditions and the following
      disclaimer in the documentation and/or other materials provided
      with the distribution.

    * Neither the name of Isaac Jones nor the names of other
      contributors may be used to endorse or promote products derived
      from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
&quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -}</span></span><span class="mpre">

module Distribution.Simple.Compiler (
        </span><span class="hl_comment"><span class="mpre">-- * Haskell implementations</span></span><span class="mpre">
        module Distribution.Compiler,
        Compiler(..),
        showCompilerId, compilerFlavor, compilerVersion,

        </span><span class="hl_comment"><span class="mpre">-- * Support for package databases</span></span><span class="mpre">
        PackageDB(..),
        PackageDBStack,
        registrationPackageDB,
        absolutePackageDBPaths,
        absolutePackageDBPath,

        </span><span class="hl_comment"><span class="mpre">-- * Support for optimisation levels</span></span><span class="mpre">
        OptimisationLevel(..),
        flagToOptimisationLevel,

        </span><span class="hl_comment"><span class="mpre">-- * Support for language extensions</span></span><span class="mpre">
        Flag,
        languageToFlags,
        unsupportedLanguages,
        extensionsToFlags,
        unsupportedExtensions
  ) where

import Distribution.Compiler
import Distribution.Version (</span><a href="Data.Version.html#loc_68_6_68_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Version.html#loc_68_6_68_13&#39;)"><span class="mpre">Version</span></a><span class="mpre">(..))
import Distribution.Text (</span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="mpre">display</span></a><span class="mpre">)
import Language.Haskell.Extension (</span><a href="Language.Haskell.Extension.html#loc_69_6_69_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_69_6_69_14&#39;)"><span class="mpre">Language</span></a><span class="mpre">(</span><a href="Language.Haskell.Extension.html#loc_73_6_73_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_73_6_73_15&#39;)"><span class="mpre">Haskell98</span></a><span class="mpre">), </span><a href="Language.Haskell.Extension.html#loc_118_6_118_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_118_6_118_15&#39;)"><span class="mpre">Extension</span></a><span class="mpre">)

import Control.Monad (</span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="mpre">liftM</span></a><span class="mpre">)
import Data.List (</span><a href="Data.List.html#loc_314_1_314_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_314_1_314_4&#39;)"><span class="mpre">nub</span></a><span class="mpre">)
import Data.Maybe (</span><a href="Data.Maybe.html#loc_115_1_115_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_115_1_115_10&#39;)"><span class="mpre">catMaybes</span></a><span class="mpre">, </span><a href="Data.Maybe.html#loc_85_1_85_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_85_1_85_10&#39;)"><span class="mpre">isNothing</span></a><span class="mpre">)
import System.Directory (</span><a href="System.Directory.html#loc_561_1_561_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_561_1_561_17&#39;)"><span class="mpre">canonicalizePath</span></a><span class="mpre">)

data </span><a name="loc_85_6_85_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_6_85_14&#39;)"><span class="hl_tycondecl"><span class="mpre">Compiler</span></span></a><span class="mpre"> = </span><span class="hl_condecl"><span class="mpre">Compiler</span></span><span class="mpre"> {
        </span><a name="loc_86_9_86_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_9_86_19&#39;)"><span class="hl_fielddecl"><span class="mpre">compilerId</span></span></a><span class="mpre">              :: </span><a href="Distribution.Compiler.html#loc_154_6_154_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_154_6_154_16&#39;)"><span class="hl_tyconref"><span class="mpre">CompilerId</span></span></a><span class="mpre">,
        </span><a name="loc_87_9_87_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_9_87_26&#39;)"><span class="hl_fielddecl"><span class="mpre">compilerLanguages</span></span></a><span class="mpre">       :: [(</span><a href="Language.Haskell.Extension.html#loc_69_6_69_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_69_6_69_14&#39;)"><span class="hl_tyconref"><span class="mpre">Language</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Flag</span></span><span class="mpre">)],
        </span><a name="loc_88_9_88_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_9_88_27&#39;)"><span class="hl_fielddecl"><span class="mpre">compilerExtensions</span></span></a><span class="mpre">      :: [(</span><a href="Language.Haskell.Extension.html#loc_118_6_118_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_118_6_118_15&#39;)"><span class="hl_tyconref"><span class="mpre">Extension</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Flag</span></span><span class="mpre">)]
    }
    </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Compiler.hs&quot;, srcSpanStartLine = 90, srcSpanStartColumn = 5, srcSpanEndLine = 90, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Compiler.hs&quot;, srcSpanStartLine = 90, srcSpanStartColumn = 5, srcSpanEndLine = 90, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simpl"><span class="mpre">deriving (Show, Read)</span></span><span class="mpre">

</span><a href="#loc_93_1_93_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_15&#39;)"><span class="mpre">showCompilerId</span></a><span class="mpre"> :: </span><a href="#loc_85_6_85_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_6_85_14&#39;)"><span class="hl_tyconref"><span class="mpre">Compiler</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
</span><a name="loc_93_1_93_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_15&#39;)"><span class="hl_vardecl"><span class="mpre">showCompilerId</span></span></a><span class="mpre"> = </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_86_9_86_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_9_86_19&#39;)"><span class="hl_varref"><span class="mpre">compilerId</span></span></a><span class="mpre">

</span><a href="#loc_96_1_96_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_1_96_15&#39;)"><span class="mpre">compilerFlavor</span></a><span class="mpre"> ::  </span><a href="#loc_85_6_85_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_6_85_14&#39;)"><span class="hl_tyconref"><span class="mpre">Compiler</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Compiler.html#loc_81_6_81_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_6_81_20&#39;)"><span class="hl_tyconref"><span class="mpre">CompilerFlavor</span></span></a><span class="mpre">
</span><a name="loc_96_1_96_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_1_96_15&#39;)"><span class="hl_vardecl"><span class="mpre">compilerFlavor</span></span></a><span class="mpre"> = (\(</span><a href="Distribution.Compiler.html#loc_154_19_154_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_154_19_154_29&#39;)"><span class="hl_conref"><span class="mpre">CompilerId</span></span></a><span class="mpre"> </span><a name="loc_96_32_96_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_32_96_33&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> _) -&gt; </span><a href="#loc_96_32_96_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_32_96_33&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_86_9_86_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_9_86_19&#39;)"><span class="hl_varref"><span class="mpre">compilerId</span></span></a><span class="mpre">

</span><a href="#loc_99_1_99_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_1_99_16&#39;)"><span class="mpre">compilerVersion</span></a><span class="mpre"> :: </span><a href="#loc_85_6_85_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_6_85_14&#39;)"><span class="hl_tyconref"><span class="mpre">Compiler</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Version.html#loc_68_6_68_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Version.html#loc_68_6_68_13&#39;)"><span class="hl_tyconref"><span class="mpre">Version</span></span></a><span class="mpre">
</span><a name="loc_99_1_99_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_1_99_16&#39;)"><span class="hl_vardecl"><span class="mpre">compilerVersion</span></span></a><span class="mpre"> = (\(</span><a href="Distribution.Compiler.html#loc_154_19_154_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_154_19_154_29&#39;)"><span class="hl_conref"><span class="mpre">CompilerId</span></span></a><span class="mpre"> _ </span><a name="loc_99_35_99_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_35_99_36&#39;)"><span class="hl_vardecl"><span class="mpre">v</span></span></a><span class="mpre">) -&gt; </span><a href="#loc_99_35_99_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_35_99_36&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_86_9_86_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_9_86_19&#39;)"><span class="hl_varref"><span class="mpre">compilerId</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- ------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * Package databases</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- ------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |Some compilers have a notion of a database of available packages.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- For some there is just one global db of packages, other compilers</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- support a per-user or an arbitrary db specified at some location in</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the file system. This can be used to build isloated environments of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- packages, for example to build a collection of related packages</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- without installing them globally.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
data </span><a name="loc_112_6_112_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_6_112_15&#39;)"><span class="hl_tycondecl"><span class="mpre">PackageDB</span></span></a><span class="mpre"> = </span><a name="loc_112_18_112_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_18_112_33&#39;)"><span class="hl_condecl"><span class="mpre">GlobalPackageDB</span></span></a><span class="mpre">
               | </span><a name="loc_113_18_113_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_18_113_31&#39;)"><span class="hl_condecl"><span class="mpre">UserPackageDB</span></span></a><span class="mpre">
               | </span><a name="loc_114_18_114_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_18_114_35&#39;)"><span class="hl_condecl"><span class="mpre">SpecificPackageDB</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
    </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Compiler.hs&quot;, srcSpanStartLine = 115, srcSpanStartColumn = 5, srcSpanEndLine = 115, srcSpanEndColumn = 35}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Compiler.hs&quot;, srcSpanStartLine = 115, srcSpanStartColumn = 5, srcSpanEndLine = 115, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/S"><span class="mpre">deriving (Eq, Ord, Show, Read)</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | We typically get packages from several databases, and stack them</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- together. This type lets us be explicit about that stacking. For example</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- typical stacks include:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; [GlobalPackageDB]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; [GlobalPackageDB, UserPackageDB]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; [GlobalPackageDB, SpecificPackageDB &quot;package.conf.inplace&quot;]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note that the &#39;GlobalPackageDB&#39; is invariably at the bottom since it</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- contains the rts, base and other special compiler-specific packages.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- We are not restricted to using just the above combinations. In particular</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- we can use several custom package dbs and the user package db together.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When it comes to writing, the top most (last) package is used.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Compiler.hs&quot;, srcSpanStartLine = 133, srcSpanStartColumn = 1, srcSpanEndLine = 133, srcSpanEndColumn = 34}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Compiler.hs&quot;, srcSpanStartLine = 133, srcSpanStartColumn = 1, srcSpanEndLine = 133, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Si"><span class="mpre">type PackageDBStack = [PackageDB]</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Return the package that we should register into. This is the package db at</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the top of the stack.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_139_1_139_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_1_139_22&#39;)"><span class="mpre">registrationPackageDB</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">PackageDBStack</span></span><span class="mpre"> -&gt; </span><a href="#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_6_112_15&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDB</span></span></a><span class="mpre">
</span><a name="loc_139_1_139_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_1_139_22&#39;)"><span class="hl_fundecl"><span class="mpre">registrationPackageDB</span></span></a><span class="mpre"> []  = </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;internal error: empty package db set&quot;</span></span><span class="mpre">
</span><a href="#loc_139_1_139_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_1_139_22&#39;)"><span class="hl_fundecl"><span class="mpre">registrationPackageDB</span></span></a><span class="mpre"> </span><a name="loc_140_23_140_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_23_140_26&#39;)"><span class="hl_vardecl"><span class="mpre">dbs</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">last</span></span><span class="mpre"> </span><a href="#loc_140_23_140_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_23_140_26&#39;)"><span class="hl_varref"><span class="mpre">dbs</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Make package paths absolute</span></span><span class="mpre">


</span><a href="#loc_146_1_146_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_23&#39;)"><span class="mpre">absolutePackageDBPaths</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">PackageDBStack</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">PackageDBStack</span></span><span class="mpre">
</span><a name="loc_146_1_146_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_23&#39;)"><span class="hl_vardecl"><span class="mpre">absolutePackageDBPaths</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">mapM</span></span><span class="mpre"> </span><a href="#loc_149_1_149_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_1_149_22&#39;)"><span class="hl_varref"><span class="mpre">absolutePackageDBPath</span></span></a><span class="mpre">

</span><a href="#loc_149_1_149_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_1_149_22&#39;)"><span class="mpre">absolutePackageDBPath</span></a><span class="mpre"> :: </span><a href="#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_6_112_15&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDB</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_6_112_15&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDB</span></span></a><span class="mpre">
</span><a name="loc_149_1_149_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_1_149_22&#39;)"><span class="hl_fundecl"><span class="mpre">absolutePackageDBPath</span></span></a><span class="mpre"> </span><a href="#loc_112_18_112_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_18_112_33&#39;)"><span class="hl_conref"><span class="mpre">GlobalPackageDB</span></span></a><span class="mpre">        = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_112_18_112_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_18_112_33&#39;)"><span class="hl_conref"><span class="mpre">GlobalPackageDB</span></span></a><span class="mpre">
</span><a href="#loc_149_1_149_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_1_149_22&#39;)"><span class="hl_fundecl"><span class="mpre">absolutePackageDBPath</span></span></a><span class="mpre"> </span><a href="#loc_113_18_113_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_18_113_31&#39;)"><span class="hl_conref"><span class="mpre">UserPackageDB</span></span></a><span class="mpre">          = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_113_18_113_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_18_113_31&#39;)"><span class="hl_conref"><span class="mpre">UserPackageDB</span></span></a><span class="mpre">
</span><a href="#loc_149_1_149_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_1_149_22&#39;)"><span class="hl_fundecl"><span class="mpre">absolutePackageDBPath</span></span></a><span class="mpre"> (</span><a href="#loc_114_18_114_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_18_114_35&#39;)"><span class="hl_conref"><span class="mpre">SpecificPackageDB</span></span></a><span class="mpre"> </span><a name="loc_151_42_151_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_42_151_44&#39;)"><span class="hl_vardecl"><span class="mpre">db</span></span></a><span class="mpre">) =
  </span><a href="#loc_114_18_114_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_18_114_35&#39;)"><span class="hl_conref"><span class="mpre">SpecificPackageDB</span></span></a><span class="mpre"> </span><a href="Control.Monad.html#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_274_1_274_6&#39;)"><span class="hl_infix"><span class="mpre">`liftM`</span></span></a><span class="mpre"> </span><a href="System.Directory.html#loc_561_1_561_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_561_1_561_17&#39;)"><span class="hl_varref"><span class="mpre">canonicalizePath</span></span></a><span class="mpre"> </span><a href="#loc_151_42_151_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_42_151_44&#39;)"><span class="hl_varref"><span class="mpre">db</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- ------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * Optimisation levels</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- ------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Some compilers support optimising. Some have different levels.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- For compliers that do not the level is just capped to the level</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- they do support.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
data </span><a name="loc_162_6_162_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_6_162_23&#39;)"><span class="hl_tycondecl"><span class="mpre">OptimisationLevel</span></span></a><span class="mpre"> = </span><a name="loc_162_26_162_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_26_162_40&#39;)"><span class="hl_condecl"><span class="mpre">NoOptimisation</span></span></a><span class="mpre">
                       | </span><a name="loc_163_26_163_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_26_163_44&#39;)"><span class="hl_condecl"><span class="mpre">NormalOptimisation</span></span></a><span class="mpre">
                       | </span><a name="loc_164_26_164_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_26_164_45&#39;)"><span class="hl_condecl"><span class="mpre">MaximumOptimisation</span></span></a><span class="mpre">
    </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Compiler.hs&quot;, srcSpanStartLine = 165, srcSpanStartColumn = 5, srcSpanEndLine = 165, srcSpanEndColumn = 45}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Compiler.hs&quot;, srcSpanStartLine = 165, srcSpanStartColumn = 5, srcSpanEndLine = 165, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/S"><span class="mpre">deriving (Eq, Show, Read, Enum, Bounded)</span></span><span class="mpre">

</span><a href="#loc_168_1_168_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_1_168_24&#39;)"><span class="mpre">flagToOptimisationLevel</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><a href="#loc_162_6_162_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_6_162_23&#39;)"><span class="hl_tyconref"><span class="mpre">OptimisationLevel</span></span></a><span class="mpre">
</span><a name="loc_168_1_168_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_1_168_24&#39;)"><span class="hl_fundecl"><span class="mpre">flagToOptimisationLevel</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">  = </span><a href="#loc_163_26_163_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_26_163_44&#39;)"><span class="hl_conref"><span class="mpre">NormalOptimisation</span></span></a><span class="mpre">
</span><a href="#loc_168_1_168_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_1_168_24&#39;)"><span class="hl_fundecl"><span class="mpre">flagToOptimisationLevel</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_169_31_169_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_31_169_32&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) = case </span><span class="hl_varref"><span class="mpre">reads</span></span><span class="mpre"> </span><a href="#loc_169_31_169_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_31_169_32&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
  [(</span><a name="loc_170_5_170_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_5_170_6&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">)]
    | </span><a href="#loc_170_5_170_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_5_170_6&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromEnum</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">minBound</span></span><span class="mpre"> :: </span><a href="#loc_162_6_162_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_6_162_23&#39;)"><span class="hl_tyconref"><span class="mpre">OptimisationLevel</span></span></a><span class="mpre">)
   </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_170_5_170_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_5_170_6&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromEnum</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">maxBound</span></span><span class="mpre"> :: </span><a href="#loc_162_6_162_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_6_162_23&#39;)"><span class="hl_tyconref"><span class="mpre">OptimisationLevel</span></span></a><span class="mpre">)
                -&gt; </span><span class="hl_varref"><span class="mpre">toEnum</span></span><span class="mpre"> </span><a href="#loc_170_5_170_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_5_170_6&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Bad optimisation level: &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_170_5_170_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_5_170_6&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">
                        </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;. Valid values are 0..2&quot;</span></span><span class="mpre">
  _             -&gt; </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Can&#39;t parse optimisation level &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_169_31_169_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_31_169_32&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- ------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * Languages and Extensions</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- ------------------------------------------------------------</span></span><span class="mpre">

</span><a href="#loc_183_1_183_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_1_183_21&#39;)"><span class="mpre">unsupportedLanguages</span></a><span class="mpre"> :: </span><a href="#loc_85_6_85_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_6_85_14&#39;)"><span class="hl_tyconref"><span class="mpre">Compiler</span></span></a><span class="mpre"> -&gt; [</span><a href="Language.Haskell.Extension.html#loc_69_6_69_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_69_6_69_14&#39;)"><span class="hl_tyconref"><span class="mpre">Language</span></span></a><span class="mpre">] -&gt; [</span><a href="Language.Haskell.Extension.html#loc_69_6_69_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_69_6_69_14&#39;)"><span class="hl_tyconref"><span class="mpre">Language</span></span></a><span class="mpre">]
</span><a name="loc_183_1_183_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_1_183_21&#39;)"><span class="hl_fundecl"><span class="mpre">unsupportedLanguages</span></span></a><span class="mpre"> </span><a name="loc_183_22_183_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_22_183_26&#39;)"><span class="hl_vardecl"><span class="mpre">comp</span></span></a><span class="mpre"> </span><a name="loc_183_27_183_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_27_183_32&#39;)"><span class="hl_vardecl"><span class="mpre">langs</span></span></a><span class="mpre"> =
  [ </span><a href="#loc_184_12_184_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_12_184_16&#39;)"><span class="hl_varref"><span class="mpre">lang</span></span></a><span class="mpre"> | </span><a name="loc_184_12_184_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_12_184_16&#39;)"><span class="hl_vardecl"><span class="mpre">lang</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_183_27_183_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_27_183_32&#39;)"><span class="hl_varref"><span class="mpre">langs</span></span></a><span class="mpre">
         , </span><a href="Data.Maybe.html#loc_85_1_85_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_85_1_85_10&#39;)"><span class="hl_varref"><span class="mpre">isNothing</span></span></a><span class="mpre"> (</span><a href="#loc_193_1_193_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_1_193_15&#39;)"><span class="hl_varref"><span class="mpre">languageToFlag</span></span></a><span class="mpre"> </span><a href="#loc_183_22_183_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_22_183_26&#39;)"><span class="hl_varref"><span class="mpre">comp</span></span></a><span class="mpre"> </span><a href="#loc_184_12_184_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_12_184_16&#39;)"><span class="hl_varref"><span class="mpre">lang</span></span></a><span class="mpre">) ]

</span><a href="#loc_188_1_188_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_1_188_16&#39;)"><span class="mpre">languageToFlags</span></a><span class="mpre"> :: </span><a href="#loc_85_6_85_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_6_85_14&#39;)"><span class="hl_tyconref"><span class="mpre">Compiler</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Language.Haskell.Extension.html#loc_69_6_69_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_69_6_69_14&#39;)"><span class="hl_tyconref"><span class="mpre">Language</span></span></a><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">Flag</span></span><span class="mpre">]
</span><a name="loc_188_1_188_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_1_188_16&#39;)"><span class="hl_fundecl"><span class="mpre">languageToFlags</span></span></a><span class="mpre"> </span><a name="loc_188_17_188_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_17_188_21&#39;)"><span class="hl_vardecl"><span class="mpre">comp</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">filter</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre">)
                     </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_115_1_115_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_115_1_115_10&#39;)"><span class="hl_varref"><span class="mpre">catMaybes</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><a href="#loc_193_1_193_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_1_193_15&#39;)"><span class="hl_varref"><span class="mpre">languageToFlag</span></span></a><span class="mpre"> </span><a href="#loc_188_17_188_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_188_17_188_21&#39;)"><span class="hl_varref"><span class="mpre">comp</span></span></a><span class="mpre">)
                     </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> [</span><a href="Language.Haskell.Extension.html#loc_73_6_73_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_73_6_73_15&#39;)"><span class="hl_conref"><span class="mpre">Haskell98</span></span></a><span class="mpre">] (\</span><a name="loc_190_44_190_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_44_190_45&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">-&gt;[</span><a href="#loc_190_44_190_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_44_190_45&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">])

</span><a href="#loc_193_1_193_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_1_193_15&#39;)"><span class="mpre">languageToFlag</span></a><span class="mpre"> :: </span><a href="#loc_85_6_85_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_6_85_14&#39;)"><span class="hl_tyconref"><span class="mpre">Compiler</span></span></a><span class="mpre"> -&gt; </span><a href="Language.Haskell.Extension.html#loc_69_6_69_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_69_6_69_14&#39;)"><span class="hl_tyconref"><span class="mpre">Language</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Flag</span></span><span class="mpre">
</span><a name="loc_193_1_193_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_1_193_15&#39;)"><span class="hl_fundecl"><span class="mpre">languageToFlag</span></span></a><span class="mpre"> </span><a name="loc_193_16_193_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_16_193_20&#39;)"><span class="hl_vardecl"><span class="mpre">comp</span></span></a><span class="mpre"> </span><a name="loc_193_21_193_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_21_193_24&#39;)"><span class="hl_vardecl"><span class="mpre">ext</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">lookup</span></span><span class="mpre"> </span><a href="#loc_193_21_193_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_21_193_24&#39;)"><span class="hl_varref"><span class="mpre">ext</span></span></a><span class="mpre"> (</span><a href="#loc_87_9_87_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_9_87_26&#39;)"><span class="hl_varref"><span class="mpre">compilerLanguages</span></span></a><span class="mpre"> </span><a href="#loc_193_16_193_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_16_193_20&#39;)"><span class="hl_varref"><span class="mpre">comp</span></span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">-- |For the given compiler, return the extensions it does not support.</span></span><span class="mpre">
</span><a href="#loc_198_1_198_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_1_198_22&#39;)"><span class="mpre">unsupportedExtensions</span></a><span class="mpre"> :: </span><a href="#loc_85_6_85_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_6_85_14&#39;)"><span class="hl_tyconref"><span class="mpre">Compiler</span></span></a><span class="mpre"> -&gt; [</span><a href="Language.Haskell.Extension.html#loc_118_6_118_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_118_6_118_15&#39;)"><span class="hl_tyconref"><span class="mpre">Extension</span></span></a><span class="mpre">] -&gt; [</span><a href="Language.Haskell.Extension.html#loc_118_6_118_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_118_6_118_15&#39;)"><span class="hl_tyconref"><span class="mpre">Extension</span></span></a><span class="mpre">]
</span><a name="loc_198_1_198_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_1_198_22&#39;)"><span class="hl_fundecl"><span class="mpre">unsupportedExtensions</span></span></a><span class="mpre"> </span><a name="loc_198_23_198_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_23_198_27&#39;)"><span class="hl_vardecl"><span class="mpre">comp</span></span></a><span class="mpre"> </span><a name="loc_198_28_198_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_28_198_32&#39;)"><span class="hl_vardecl"><span class="mpre">exts</span></span></a><span class="mpre"> =
  [ </span><a href="#loc_199_11_199_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_199_11_199_14&#39;)"><span class="hl_varref"><span class="mpre">ext</span></span></a><span class="mpre"> | </span><a name="loc_199_11_199_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_199_11_199_14&#39;)"><span class="hl_vardecl"><span class="mpre">ext</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_198_28_198_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_28_198_32&#39;)"><span class="hl_varref"><span class="mpre">exts</span></span></a><span class="mpre">
        , </span><a href="Data.Maybe.html#loc_85_1_85_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_85_1_85_10&#39;)"><span class="hl_varref"><span class="mpre">isNothing</span></span></a><span class="mpre"> (</span><a href="#loc_210_1_210_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_1_210_16&#39;)"><span class="hl_varref"><span class="mpre">extensionToFlag</span></span></a><span class="mpre"> </span><a href="#loc_198_23_198_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_23_198_27&#39;)"><span class="hl_varref"><span class="mpre">comp</span></span></a><span class="mpre"> </span><a href="#loc_199_11_199_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_199_11_199_14&#39;)"><span class="hl_varref"><span class="mpre">ext</span></span></a><span class="mpre">) ]

</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Compiler.hs&quot;, srcSpanStartLine = 202, srcSpanStartColumn = 1, srcSpanEndLine = 202, srcSpanEndColumn = 19}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Compiler.hs&quot;, srcSpanStartLine = 202, srcSpanStartColumn = 1, srcSpanEndLine = 202, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Si"><span class="mpre">type Flag = String</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |For the given compiler, return the flags for the supported extensions.</span></span><span class="mpre">
</span><a href="#loc_206_1_206_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_18&#39;)"><span class="mpre">extensionsToFlags</span></a><span class="mpre"> :: </span><a href="#loc_85_6_85_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_6_85_14&#39;)"><span class="hl_tyconref"><span class="mpre">Compiler</span></span></a><span class="mpre"> -&gt; [</span><a href="Language.Haskell.Extension.html#loc_118_6_118_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_118_6_118_15&#39;)"><span class="hl_tyconref"><span class="mpre">Extension</span></span></a><span class="mpre">] -&gt; [</span><span class="hl_tyconref"><span class="mpre">Flag</span></span><span class="mpre">]
</span><a name="loc_206_1_206_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_18&#39;)"><span class="hl_fundecl"><span class="mpre">extensionsToFlags</span></span></a><span class="mpre"> </span><a name="loc_206_19_206_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_19_206_23&#39;)"><span class="hl_vardecl"><span class="mpre">comp</span></span></a><span class="mpre"> = </span><a href="Data.List.html#loc_314_1_314_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_314_1_314_4&#39;)"><span class="hl_varref"><span class="mpre">nub</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">filter</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre">)
                       </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_115_1_115_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_115_1_115_10&#39;)"><span class="hl_varref"><span class="mpre">catMaybes</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><a href="#loc_210_1_210_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_1_210_16&#39;)"><span class="hl_varref"><span class="mpre">extensionToFlag</span></span></a><span class="mpre"> </span><a href="#loc_206_19_206_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_19_206_23&#39;)"><span class="hl_varref"><span class="mpre">comp</span></span></a><span class="mpre">)

</span><a href="#loc_210_1_210_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_1_210_16&#39;)"><span class="mpre">extensionToFlag</span></a><span class="mpre"> :: </span><a href="#loc_85_6_85_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_6_85_14&#39;)"><span class="hl_tyconref"><span class="mpre">Compiler</span></span></a><span class="mpre"> -&gt; </span><a href="Language.Haskell.Extension.html#loc_118_6_118_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_118_6_118_15&#39;)"><span class="hl_tyconref"><span class="mpre">Extension</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Flag</span></span><span class="mpre">
</span><a name="loc_210_1_210_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_1_210_16&#39;)"><span class="hl_fundecl"><span class="mpre">extensionToFlag</span></span></a><span class="mpre"> </span><a name="loc_210_17_210_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_17_210_21&#39;)"><span class="hl_vardecl"><span class="mpre">comp</span></span></a><span class="mpre"> </span><a name="loc_210_22_210_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_22_210_25&#39;)"><span class="hl_vardecl"><span class="mpre">ext</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">lookup</span></span><span class="mpre"> </span><a href="#loc_210_22_210_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_22_210_25&#39;)"><span class="hl_varref"><span class="mpre">ext</span></span></a><span class="mpre"> (</span><a href="#loc_88_9_88_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_9_88_27&#39;)"><span class="hl_varref"><span class="mpre">compilerExtensions</span></span></a><span class="mpre"> </span><a href="#loc_210_17_210_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_17_210_21&#39;)"><span class="hl_varref"><span class="mpre">comp</span></span></a><span class="mpre">)
</span></div></body></html>