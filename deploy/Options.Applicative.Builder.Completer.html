<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">module Options.Applicative.Builder.Completer
  ( Completer
  , mkCompleter
  , listIOCompleter
  , listCompleter
  , bashCompleter
  ) where

import Control.Applicative (</span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="mpre">(&lt;$&gt;)</span></a><span class="mpre">, </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="mpre">pure</span></a><span class="mpre">)
import Control.Exception (</span><a href="GHC.IO.Exception.html#loc_238_6_238_17" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Exception.html#loc_238_6_238_17&#39;)"><span class="mpre">IOException</span></a><span class="mpre">, </span><a href="Control.Exception.Base.html#loc_212_1_212_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Base.html#loc_212_1_212_4&#39;)"><span class="mpre">try</span></a><span class="mpre">)
import Data.List (</span><a href="Data.List.html#loc_286_1_286_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_286_1_286_11&#39;)"><span class="mpre">isPrefixOf</span></a><span class="mpre">)
import System.Process (</span><a href="System.Process.html#loc_429_1_429_12" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Process.html#loc_429_1_429_12&#39;)"><span class="mpre">readProcess</span></a><span class="mpre">)

import Options.Applicative.Types

</span><a href="#loc_17_1_17_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_17_1_17_16&#39;)"><span class="mpre">listIOCompleter</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">] -&gt; </span><a href="Options.Applicative.Types.html#loc_225_9_225_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Options.Applicative.Types.html#loc_225_9_225_18&#39;)"><span class="hl_tyconref"><span class="mpre">Completer</span></span></a><span class="mpre">
</span><a name="loc_17_1_17_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_17_1_17_16&#39;)"><span class="hl_fundecl"><span class="mpre">listIOCompleter</span></span></a><span class="mpre"> </span><a name="loc_17_17_17_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_17_17_17_19&#39;)"><span class="hl_vardecl"><span class="mpre">ss</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Completer</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_17_35_17_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_17_35_17_36&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> -&gt;
  </span><span class="hl_varref"><span class="mpre">filter</span></span><span class="mpre"> (</span><a href="Data.List.html#loc_286_1_286_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_286_1_286_11&#39;)"><span class="hl_varref"><span class="mpre">isPrefixOf</span></span></a><span class="mpre"> </span><a href="#loc_17_35_17_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_17_35_17_36&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">) </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_17_17_17_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_17_17_17_19&#39;)"><span class="hl_varref"><span class="mpre">ss</span></span></a><span class="mpre">

</span><a href="#loc_21_1_21_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_21_1_21_14&#39;)"><span class="mpre">listCompleter</span></a><span class="mpre"> :: [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">] -&gt; </span><a href="Options.Applicative.Types.html#loc_225_9_225_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Options.Applicative.Types.html#loc_225_9_225_18&#39;)"><span class="hl_tyconref"><span class="mpre">Completer</span></span></a><span class="mpre">
</span><a name="loc_21_1_21_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_21_1_21_14&#39;)"><span class="hl_vardecl"><span class="mpre">listCompleter</span></span></a><span class="mpre"> = </span><a href="#loc_17_1_17_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_17_1_17_16&#39;)"><span class="hl_varref"><span class="mpre">listIOCompleter</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_varref"><span class="mpre">pure</span></span></a><span class="mpre">

</span><a href="#loc_24_1_24_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_1_24_14&#39;)"><span class="mpre">bashCompleter</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><a href="Options.Applicative.Types.html#loc_225_9_225_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Options.Applicative.Types.html#loc_225_9_225_18&#39;)"><span class="hl_tyconref"><span class="mpre">Completer</span></span></a><span class="mpre">
</span><a name="loc_24_1_24_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_1_24_14&#39;)"><span class="hl_fundecl"><span class="mpre">bashCompleter</span></span></a><span class="mpre"> </span><a name="loc_24_15_24_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_15_24_21&#39;)"><span class="hl_vardecl"><span class="mpre">action</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Completer</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_24_37_24_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_37_24_41&#39;)"><span class="hl_vardecl"><span class="mpre">word</span></span></a><span class="mpre"> -&gt; do
  let </span><a name="loc_25_7_25_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_7_25_10&#39;)"><span class="hl_vardecl"><span class="mpre">cmd</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">unwords</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;compgen&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;-A&quot;</span></span><span class="mpre">, </span><a href="#loc_24_15_24_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_15_24_21&#39;)"><span class="hl_varref"><span class="mpre">action</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;--&quot;</span></span><span class="mpre">, </span><a href="#loc_24_37_24_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_24_37_24_41&#39;)"><span class="hl_varref"><span class="mpre">word</span></span></a><span class="mpre">]
  </span><a name="loc_26_3_26_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_3_26_9&#39;)"><span class="hl_vardecl"><span class="mpre">result</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_30_1_30_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_1_30_6&#39;)"><span class="hl_varref"><span class="mpre">tryIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="System.Process.html#loc_429_1_429_12" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Process.html#loc_429_1_429_12&#39;)"><span class="hl_varref"><span class="mpre">readProcess</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;bash&quot;</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-c&quot;</span></span><span class="mpre">, </span><a href="#loc_25_7_25_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_25_7_25_10&#39;)"><span class="hl_varref"><span class="mpre">cmd</span></span></a><span class="mpre">] </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">lines</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">either</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre"> []) </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_26_3_26_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_26_3_26_9&#39;)"><span class="hl_varref"><span class="mpre">result</span></span></a><span class="mpre">

</span><a href="#loc_30_1_30_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_1_30_6&#39;)"><span class="mpre">tryIO</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><a href="GHC.IO.Exception.html#loc_238_6_238_17" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Exception.html#loc_238_6_238_17&#39;)"><span class="hl_tyconref"><span class="mpre">IOException</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
</span><a name="loc_30_1_30_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_1_30_6&#39;)"><span class="hl_vardecl"><span class="mpre">tryIO</span></span></a><span class="mpre"> = </span><a href="Control.Exception.Base.html#loc_212_1_212_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Base.html#loc_212_1_212_4&#39;)"><span class="hl_varref"><span class="mpre">try</span></span></a><span class="mpre">
</span></div></body></html>