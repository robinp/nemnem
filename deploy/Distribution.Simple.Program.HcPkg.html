<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Distribution.Simple.Program.HcPkg</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  Duncan Coutts 2009, 2013</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  cabal-devel@haskell.org</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This module provides an library interface to the @hc-pkg@ program.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Currently only GHC and LHC have hc-pkg programs.</span></span><span class="mpre">

module Distribution.Simple.Program.HcPkg (
    init,
    invoke,
    register,
    reregister,
    unregister,
    expose,
    hide,
    dump,
    list,

    </span><span class="hl_comment"><span class="mpre">-- * Program invocations</span></span><span class="mpre">
    initInvocation,
    registerInvocation,
    reregisterInvocation,
    unregisterInvocation,
    exposeInvocation,
    hideInvocation,
    dumpInvocation,
    listInvocation,
  ) where

import Prelude hiding (init)
import Distribution.Package
         ( PackageId, </span><a href="Distribution.Package.html#loc_130_9_130_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_130_9_130_27&#39;)"><span class="mpre">InstalledPackageId</span></a><span class="mpre">(..) )
import Distribution.InstalledPackageInfo
         ( InstalledPackageInfo, </span><a href="Distribution.InstalledPackageInfo.html#loc_92_6_92_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_92_6_92_27&#39;)"><span class="mpre">InstalledPackageInfo_</span></a><span class="mpre">(..)
         , </span><a href="Distribution.InstalledPackageInfo.html#loc_185_1_185_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_185_1_185_25&#39;)"><span class="mpre">showInstalledPackageInfo</span></a><span class="mpre">
         , </span><a href="Distribution.InstalledPackageInfo.html#loc_136_1_136_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_136_1_136_26&#39;)"><span class="mpre">emptyInstalledPackageInfo</span></a><span class="mpre">, </span><a href="Distribution.InstalledPackageInfo.html#loc_197_1_197_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_197_1_197_27&#39;)"><span class="mpre">fieldsInstalledPackageInfo</span></a><span class="mpre"> )
import Distribution.ParseUtils
import Distribution.Simple.Compiler
         ( </span><a href="Distribution.Simple.Compiler.html#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_6_112_15&#39;)"><span class="mpre">PackageDB</span></a><span class="mpre">(..), PackageDBStack )
import Distribution.Simple.Program.Types
         ( </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="mpre">ConfiguredProgram</span></a><span class="mpre">(</span><a href="Distribution.Simple.Program.Types.html#loc_79_8_79_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_79_8_79_17&#39;)"><span class="mpre">programId</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Types.html#loc_82_8_82_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_82_8_82_22&#39;)"><span class="mpre">programVersion</span></a><span class="mpre">) )
import Distribution.Simple.Program.Run
         ( </span><a href="Distribution.Simple.Program.Run.html#loc_51_6_51_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_51_6_51_23&#39;)"><span class="mpre">ProgramInvocation</span></a><span class="mpre">(..), </span><a href="Distribution.Simple.Program.Run.html#loc_61_6_61_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_61_6_61_16&#39;)"><span class="mpre">IOEncoding</span></a><span class="mpre">(..), </span><a href="Distribution.Simple.Program.Run.html#loc_84_1_84_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_84_1_84_18&#39;)"><span class="mpre">programInvocation</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Program.Run.html#loc_95_1_95_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_95_1_95_21&#39;)"><span class="mpre">runProgramInvocation</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Run.html#loc_145_1_145_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_145_1_145_27&#39;)"><span class="mpre">getProgramInvocationOutput</span></a><span class="mpre"> )
import Distribution.Version
         ( </span><a href="Data.Version.html#loc_68_6_68_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Version.html#loc_68_6_68_13&#39;)"><span class="mpre">Version</span></a><span class="mpre">(..) )
import Distribution.Text
         ( </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="mpre">display</span></a><span class="mpre">, </span><a href="Distribution.Text.html#loc_39_1_39_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_39_1_39_12&#39;)"><span class="mpre">simpleParse</span></a><span class="mpre"> )
import Distribution.Simple.Utils
         ( </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="mpre">die</span></a><span class="mpre"> )
import Distribution.Verbosity
         ( </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="mpre">Verbosity</span></a><span class="mpre">, </span><a href="Distribution.Verbosity.html#loc_76_1_76_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_76_1_76_10&#39;)"><span class="mpre">deafening</span></a><span class="mpre">, </span><a href="Distribution.Verbosity.html#loc_63_1_63_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_63_1_63_7&#39;)"><span class="mpre">silent</span></a><span class="mpre"> )
import Distribution.Compat.Exception
         ( </span><a href="Distribution.Compat.Exception.html#loc_17_1_17_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compat.Exception.html#loc_17_1_17_10&#39;)"><span class="mpre">catchExit</span></a><span class="mpre"> )

import Data.Char
         ( </span><a href="GHC.Unicode.html#loc_72_1_72_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Unicode.html#loc_72_1_72_8&#39;)"><span class="mpre">isSpace</span></a><span class="mpre"> )
import Data.Maybe
         ( </span><a href="Data.Maybe.html#loc_98_1_98_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_98_1_98_10&#39;)"><span class="mpre">fromMaybe</span></a><span class="mpre"> )
import Data.List
         ( </span><a href="Data.List.html#loc_241_1_241_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_241_1_241_12&#39;)"><span class="mpre">stripPrefix</span></a><span class="mpre"> )
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/HcPkg.hs&quot;, srcSpanStartLine = 66, srcSpanStartColumn = 8, srcSpanEndLine = 66, srcSpanEndColumn = 23}, srcInfoPoints = []}) &quot;System.FilePath&quot;"><span class="mpre">System.FilePath</span></span><span class="mpre"> as FilePath
         ( (&lt;/&gt;), splitPath, splitDirectories, joinPath, isPathSeparator )
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/HcPkg.hs&quot;, srcSpanStartLine = 68, srcSpanStartColumn = 18, srcSpanEndLine = 68, srcSpanEndColumn = 39}, srcInfoPoints = []}) &quot;System.FilePath.Posix&quot;"><span class="mpre">System.FilePath.Posix</span></span><span class="mpre"> as FilePath.Posix


</span><span class="hl_comment"><span class="mpre">-- | Call @hc-pkg@ to initialise a package database at the location {path}.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; hc-pkg init {path}</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_76_1_76_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_1_76_5&#39;)"><span class="mpre">init</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_76_1_76_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_1_76_5&#39;)"><span class="hl_fundecl"><span class="mpre">init</span></span></a><span class="mpre"> </span><a name="loc_76_6_76_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_6_76_15&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_76_16_76_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_16_76_21&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a name="loc_76_22_76_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_22_76_26&#39;)"><span class="hl_vardecl"><span class="mpre">path</span></span></a><span class="mpre"> =
  </span><a href="Distribution.Simple.Program.Run.html#loc_95_1_95_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_95_1_95_21&#39;)"><span class="hl_varref"><span class="mpre">runProgramInvocation</span></span></a><span class="mpre"> </span><a href="#loc_76_6_76_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_6_76_15&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
    (</span><a href="#loc_285_1_285_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_1_285_15&#39;)"><span class="hl_varref"><span class="mpre">initInvocation</span></span></a><span class="mpre"> </span><a href="#loc_76_16_76_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_16_76_21&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_76_6_76_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_6_76_15&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_76_22_76_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_22_76_26&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Run @hc-pkg@ using a given package DB stack, directly forwarding the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- provided command-line arguments to it.</span></span><span class="mpre">
</span><a href="#loc_83_1_83_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_1_83_7&#39;)"><span class="mpre">invoke</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">PackageDBStack</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_83_1_83_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_1_83_7&#39;)"><span class="hl_fundecl"><span class="mpre">invoke</span></span></a><span class="mpre"> </span><a name="loc_83_8_83_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_8_83_17&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_83_18_83_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_18_83_23&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a name="loc_83_24_83_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_24_83_31&#39;)"><span class="hl_vardecl"><span class="mpre">dbStack</span></span></a><span class="mpre"> </span><a name="loc_83_32_83_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_32_83_41&#39;)"><span class="hl_vardecl"><span class="mpre">extraArgs</span></span></a><span class="mpre"> =
  </span><a href="Distribution.Simple.Program.Run.html#loc_95_1_95_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_95_1_95_21&#39;)"><span class="hl_varref"><span class="mpre">runProgramInvocation</span></span></a><span class="mpre"> </span><a href="#loc_83_8_83_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_8_83_17&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_87_5_87_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_5_87_15&#39;)"><span class="hl_varref"><span class="mpre">invocation</span></span></a><span class="mpre">
  where
    </span><a name="loc_86_5_86_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_5_86_9&#39;)"><span class="hl_vardecl"><span class="mpre">args</span></span></a><span class="mpre">       = </span><a href="#loc_376_1_376_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_1_376_19&#39;)"><span class="hl_varref"><span class="mpre">packageDbStackOpts</span></span></a><span class="mpre"> </span><a href="#loc_83_18_83_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_18_83_23&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_83_24_83_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_24_83_31&#39;)"><span class="hl_varref"><span class="mpre">dbStack</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_83_32_83_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_32_83_41&#39;)"><span class="hl_varref"><span class="mpre">extraArgs</span></span></a><span class="mpre">
    </span><a name="loc_87_5_87_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_5_87_15&#39;)"><span class="hl_vardecl"><span class="mpre">invocation</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Program.Run.html#loc_84_1_84_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_84_1_84_18&#39;)"><span class="hl_varref"><span class="mpre">programInvocation</span></span></a><span class="mpre"> </span><a href="#loc_83_18_83_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_18_83_23&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_86_5_86_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_5_86_9&#39;)"><span class="hl_varref"><span class="mpre">args</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Call @hc-pkg@ to register a package.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; hc-pkg register {filename | -} [--user | --global | --package-db]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_97_1_97_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_9&#39;)"><span class="mpre">register</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">PackageDBStack</span></span><span class="mpre">
         -&gt; </span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
                   </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre">
         -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_97_1_97_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_9&#39;)"><span class="hl_fundecl"><span class="mpre">register</span></span></a><span class="mpre"> </span><a name="loc_97_10_97_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_10_97_19&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_97_20_97_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_20_97_25&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a name="loc_97_26_97_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_26_97_35&#39;)"><span class="hl_vardecl"><span class="mpre">packagedb</span></span></a><span class="mpre"> </span><a name="loc_97_36_97_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_36_97_43&#39;)"><span class="hl_vardecl"><span class="mpre">pkgFile</span></span></a><span class="mpre"> =
  </span><a href="Distribution.Simple.Program.Run.html#loc_95_1_95_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_95_1_95_21&#39;)"><span class="hl_varref"><span class="mpre">runProgramInvocation</span></span></a><span class="mpre"> </span><a href="#loc_97_10_97_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_10_97_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
    (</span><a href="#loc_295_1_295_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_295_1_295_19&#39;)"><span class="hl_varref"><span class="mpre">registerInvocation</span></span></a><span class="mpre"> </span><a href="#loc_97_20_97_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_20_97_25&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_97_10_97_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_10_97_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_97_26_97_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_26_97_35&#39;)"><span class="hl_varref"><span class="mpre">packagedb</span></span></a><span class="mpre"> </span><a href="#loc_97_36_97_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_36_97_43&#39;)"><span class="hl_varref"><span class="mpre">pkgFile</span></span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">-- | Call @hc-pkg@ to re-register a package.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; hc-pkg register {filename | -} [--user | --global | --package-db]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_110_1_110_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_1_110_11&#39;)"><span class="mpre">reregister</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">PackageDBStack</span></span><span class="mpre">
           -&gt; </span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
                     </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre">
           -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_110_1_110_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_1_110_11&#39;)"><span class="hl_fundecl"><span class="mpre">reregister</span></span></a><span class="mpre"> </span><a name="loc_110_12_110_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_12_110_21&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_110_22_110_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_22_110_27&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a name="loc_110_28_110_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_28_110_37&#39;)"><span class="hl_vardecl"><span class="mpre">packagedb</span></span></a><span class="mpre"> </span><a name="loc_110_38_110_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_38_110_45&#39;)"><span class="hl_vardecl"><span class="mpre">pkgFile</span></span></a><span class="mpre"> =
  </span><a href="Distribution.Simple.Program.Run.html#loc_95_1_95_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_95_1_95_21&#39;)"><span class="hl_varref"><span class="mpre">runProgramInvocation</span></span></a><span class="mpre"> </span><a href="#loc_110_12_110_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_12_110_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
    (</span><a href="#loc_296_1_296_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_296_1_296_21&#39;)"><span class="hl_varref"><span class="mpre">reregisterInvocation</span></span></a><span class="mpre"> </span><a href="#loc_110_22_110_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_22_110_27&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_110_12_110_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_12_110_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_110_28_110_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_28_110_37&#39;)"><span class="hl_varref"><span class="mpre">packagedb</span></span></a><span class="mpre"> </span><a href="#loc_110_38_110_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_38_110_45&#39;)"><span class="hl_varref"><span class="mpre">pkgFile</span></span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">-- | Call @hc-pkg@ to unregister a package</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; hc-pkg unregister [pkgid] [--user | --global | --package-db]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_120_1_120_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_1_120_11&#39;)"><span class="mpre">unregister</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Compiler.html#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_6_112_15&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDB</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">PackageId</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_120_1_120_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_1_120_11&#39;)"><span class="hl_fundecl"><span class="mpre">unregister</span></span></a><span class="mpre"> </span><a name="loc_120_12_120_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_12_120_21&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_120_22_120_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_22_120_27&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a name="loc_120_28_120_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_28_120_37&#39;)"><span class="hl_vardecl"><span class="mpre">packagedb</span></span></a><span class="mpre"> </span><a name="loc_120_38_120_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_38_120_43&#39;)"><span class="hl_vardecl"><span class="mpre">pkgid</span></span></a><span class="mpre"> =
  </span><a href="Distribution.Simple.Program.Run.html#loc_95_1_95_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_95_1_95_21&#39;)"><span class="hl_varref"><span class="mpre">runProgramInvocation</span></span></a><span class="mpre"> </span><a href="#loc_120_12_120_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_12_120_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
    (</span><a href="#loc_328_1_328_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_1_328_21&#39;)"><span class="hl_varref"><span class="mpre">unregisterInvocation</span></span></a><span class="mpre"> </span><a href="#loc_120_22_120_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_22_120_27&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_120_12_120_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_12_120_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_120_28_120_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_28_120_37&#39;)"><span class="hl_varref"><span class="mpre">packagedb</span></span></a><span class="mpre"> </span><a href="#loc_120_38_120_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_120_38_120_43&#39;)"><span class="hl_varref"><span class="mpre">pkgid</span></span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">-- | Call @hc-pkg@ to expose a package.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; hc-pkg expose [pkgid] [--user | --global | --package-db]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_130_1_130_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_1_130_7&#39;)"><span class="mpre">expose</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Compiler.html#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_6_112_15&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDB</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">PackageId</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_130_1_130_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_1_130_7&#39;)"><span class="hl_fundecl"><span class="mpre">expose</span></span></a><span class="mpre"> </span><a name="loc_130_8_130_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_8_130_17&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_130_18_130_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_18_130_23&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a name="loc_130_24_130_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_24_130_33&#39;)"><span class="hl_vardecl"><span class="mpre">packagedb</span></span></a><span class="mpre"> </span><a name="loc_130_34_130_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_34_130_39&#39;)"><span class="hl_vardecl"><span class="mpre">pkgid</span></span></a><span class="mpre"> =
  </span><a href="Distribution.Simple.Program.Run.html#loc_95_1_95_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_95_1_95_21&#39;)"><span class="hl_varref"><span class="mpre">runProgramInvocation</span></span></a><span class="mpre"> </span><a href="#loc_130_8_130_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_8_130_17&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
    (</span><a href="#loc_336_1_336_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_1_336_17&#39;)"><span class="hl_varref"><span class="mpre">exposeInvocation</span></span></a><span class="mpre"> </span><a href="#loc_130_18_130_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_18_130_23&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_130_8_130_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_8_130_17&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_130_24_130_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_24_130_33&#39;)"><span class="hl_varref"><span class="mpre">packagedb</span></span></a><span class="mpre"> </span><a href="#loc_130_34_130_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_34_130_39&#39;)"><span class="hl_varref"><span class="mpre">pkgid</span></span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">-- | Call @hc-pkg@ to expose a package.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; hc-pkg expose [pkgid] [--user | --global | --package-db]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_140_1_140_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_1_140_5&#39;)"><span class="mpre">hide</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Compiler.html#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_6_112_15&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDB</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">PackageId</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_140_1_140_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_1_140_5&#39;)"><span class="hl_fundecl"><span class="mpre">hide</span></span></a><span class="mpre"> </span><a name="loc_140_6_140_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_6_140_15&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_140_16_140_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_16_140_21&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a name="loc_140_22_140_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_22_140_31&#39;)"><span class="hl_vardecl"><span class="mpre">packagedb</span></span></a><span class="mpre"> </span><a name="loc_140_32_140_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_32_140_37&#39;)"><span class="hl_vardecl"><span class="mpre">pkgid</span></span></a><span class="mpre"> =
  </span><a href="Distribution.Simple.Program.Run.html#loc_95_1_95_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_95_1_95_21&#39;)"><span class="hl_varref"><span class="mpre">runProgramInvocation</span></span></a><span class="mpre"> </span><a href="#loc_140_6_140_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_6_140_15&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
    (</span><a href="#loc_344_1_344_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_344_1_344_15&#39;)"><span class="hl_varref"><span class="mpre">hideInvocation</span></span></a><span class="mpre"> </span><a href="#loc_140_16_140_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_16_140_21&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_140_6_140_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_6_140_15&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_140_22_140_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_22_140_31&#39;)"><span class="hl_varref"><span class="mpre">packagedb</span></span></a><span class="mpre"> </span><a href="#loc_140_32_140_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_32_140_37&#39;)"><span class="hl_varref"><span class="mpre">pkgid</span></span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">-- | Call @hc-pkg@ to get all the details of all the packages in the given</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- package database.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_149_1_149_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_1_149_5&#39;)"><span class="mpre">dump</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Compiler.html#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_6_112_15&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDB</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> [</span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre">]
</span><a name="loc_149_1_149_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_1_149_5&#39;)"><span class="hl_fundecl"><span class="mpre">dump</span></span></a><span class="mpre"> </span><a name="loc_149_6_149_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_6_149_15&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_149_16_149_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_16_149_21&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a name="loc_149_22_149_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_22_149_31&#39;)"><span class="hl_vardecl"><span class="mpre">packagedb</span></span></a><span class="mpre"> = do

  </span><a name="loc_151_3_151_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_3_151_9&#39;)"><span class="hl_vardecl"><span class="mpre">output</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.Simple.Program.Run.html#loc_145_1_145_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_145_1_145_27&#39;)"><span class="hl_varref"><span class="mpre">getProgramInvocationOutput</span></span></a><span class="mpre"> </span><a href="#loc_149_6_149_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_6_149_15&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
              (</span><a href="#loc_352_1_352_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_352_1_352_15&#39;)"><span class="hl_varref"><span class="mpre">dumpInvocation</span></span></a><span class="mpre"> </span><a href="#loc_149_16_149_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_16_149_21&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_149_6_149_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_6_149_15&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_149_22_149_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_22_149_31&#39;)"><span class="hl_varref"><span class="mpre">packagedb</span></span></a><span class="mpre">)
    </span><a href="Distribution.Compat.Exception.html#loc_17_1_17_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compat.Exception.html#loc_17_1_17_10&#39;)"><span class="hl_infix"><span class="mpre">`catchExit`</span></span></a><span class="mpre"> \_ -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_79_8_79_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_79_8_79_17&#39;)"><span class="hl_varref"><span class="mpre">programId</span></span></a><span class="mpre"> </span><a href="#loc_149_16_149_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_16_149_21&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; dump failed&quot;</span></span><span class="mpre">

  case </span><a href="#loc_161_5_161_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_5_161_18&#39;)"><span class="hl_varref"><span class="mpre">parsePackages</span></span></a><span class="mpre"> </span><a href="#loc_151_3_151_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_3_151_9&#39;)"><span class="hl_varref"><span class="mpre">output</span></span></a><span class="mpre"> of
    </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_156_10_156_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_10_156_12&#39;)"><span class="hl_vardecl"><span class="mpre">ok</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_156_10_156_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_10_156_12&#39;)"><span class="hl_varref"><span class="mpre">ok</span></span></a><span class="mpre">
    _       -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;failed to parse output of &#39;&quot;</span></span><span class="mpre">
                  </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_79_8_79_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_79_8_79_17&#39;)"><span class="hl_varref"><span class="mpre">programId</span></span></a><span class="mpre"> </span><a href="#loc_149_16_149_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_16_149_21&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; dump&#39;&quot;</span></span><span class="mpre">

  where
    </span><a name="loc_161_5_161_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_5_161_18&#39;)"><span class="hl_fundecl"><span class="mpre">parsePackages</span></span></a><span class="mpre"> </span><a name="loc_161_19_161_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_19_161_22&#39;)"><span class="hl_vardecl"><span class="mpre">str</span></span></a><span class="mpre"> =
      let </span><a name="loc_162_11_162_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_11_162_17&#39;)"><span class="hl_vardecl"><span class="mpre">parsed</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_170_5_170_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_5_170_31&#39;)"><span class="hl_varref"><span class="mpre">parseInstalledPackageInfo&#39;</span></span></a><span class="mpre"> (</span><a href="#loc_187_5_187_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_5_187_14&#39;)"><span class="hl_varref"><span class="mpre">splitPkgs</span></span></a><span class="mpre"> </span><a href="#loc_161_19_161_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_19_161_22&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">)
       in case [ </span><a href="#loc_163_36_163_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_36_163_39&#39;)"><span class="hl_varref"><span class="mpre">msg</span></span></a><span class="mpre"> | </span><a href="Distribution.ParseUtils.html#loc_116_22_116_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ParseUtils.html#loc_116_22_116_33&#39;)"><span class="hl_conref"><span class="mpre">ParseFailed</span></span></a><span class="mpre"> </span><a name="loc_163_36_163_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_36_163_39&#39;)"><span class="hl_vardecl"><span class="mpre">msg</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_162_11_162_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_11_162_17&#39;)"><span class="hl_varref"><span class="mpre">parsed</span></span></a><span class="mpre"> ] of
            []   -&gt; </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> [   </span><a href="#loc_240_1_240_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_1_240_22&#39;)"><span class="hl_varref"><span class="mpre">setInstalledPackageId</span></span></a><span class="mpre">
                           </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_74_1_74_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_74_1_74_6&#39;)"><span class="hl_varref"><span class="mpre">maybe</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre"> </span><a href="#loc_204_1_204_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_1_204_18&#39;)"><span class="hl_varref"><span class="mpre">mungePackagePaths</span></span></a><span class="mpre"> </span><a href="#loc_167_39_167_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_39_167_46&#39;)"><span class="hl_varref"><span class="mpre">pkgroot</span></span></a><span class="mpre">
                           </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_167_48_167_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_48_167_51&#39;)"><span class="hl_varref"><span class="mpre">pkg</span></span></a><span class="mpre">
                         | </span><a href="Distribution.ParseUtils.html#loc_116_43_116_50" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ParseUtils.html#loc_116_43_116_50&#39;)"><span class="hl_conref"><span class="mpre">ParseOk</span></span></a><span class="mpre"> _ (</span><a name="loc_167_39_167_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_39_167_46&#39;)"><span class="hl_vardecl"><span class="mpre">pkgroot</span></span></a><span class="mpre">, </span><a name="loc_167_48_167_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_48_167_51&#39;)"><span class="hl_vardecl"><span class="mpre">pkg</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_162_11_162_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_11_162_17&#39;)"><span class="hl_varref"><span class="mpre">parsed</span></span></a><span class="mpre"> ]
            </span><a name="loc_168_13_168_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_13_168_17&#39;)"><span class="hl_vardecl"><span class="mpre">msgs</span></span></a><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a href="#loc_168_13_168_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_13_168_17&#39;)"><span class="hl_varref"><span class="mpre">msgs</span></span></a><span class="mpre">

    </span><a name="loc_170_5_170_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_5_170_31&#39;)"><span class="hl_vardecl"><span class="mpre">parseInstalledPackageInfo&#39;</span></span></a><span class="mpre"> =
        </span><a href="Distribution.ParseUtils.html#loc_305_1_305_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ParseUtils.html#loc_305_1_305_16&#39;)"><span class="hl_varref"><span class="mpre">parseFieldsFlat</span></span></a><span class="mpre"> </span><a href="#loc_173_9_173_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_9_173_15&#39;)"><span class="hl_varref"><span class="mpre">fields</span></span></a><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">, </span><a href="Distribution.InstalledPackageInfo.html#loc_136_1_136_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_136_1_136_26&#39;)"><span class="hl_varref"><span class="mpre">emptyInstalledPackageInfo</span></span></a><span class="mpre">)
      where
        </span><a name="loc_173_9_173_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_9_173_15&#39;)"><span class="hl_vardecl"><span class="mpre">fields</span></span></a><span class="mpre"> =     </span><a href="#loc_181_9_181_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_9_181_21&#39;)"><span class="hl_varref"><span class="mpre">liftFieldFst</span></span></a><span class="mpre"> </span><a href="#loc_176_9_176_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_9_176_21&#39;)"><span class="hl_varref"><span class="mpre">pkgrootField</span></span></a><span class="mpre">
               </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_182_9_182_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_9_182_21&#39;)"><span class="hl_varref"><span class="mpre">liftFieldSnd</span></span></a><span class="mpre"> </span><a href="Distribution.InstalledPackageInfo.html#loc_197_1_197_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_197_1_197_27&#39;)"><span class="hl_varref"><span class="mpre">fieldsInstalledPackageInfo</span></span></a><span class="mpre">

        </span><a name="loc_176_9_176_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_9_176_21&#39;)"><span class="hl_vardecl"><span class="mpre">pkgrootField</span></span></a><span class="mpre"> =
          </span><a href="Distribution.ParseUtils.html#loc_217_1_217_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ParseUtils.html#loc_217_1_217_12&#39;)"><span class="hl_varref"><span class="mpre">simpleField</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;pkgroot&quot;</span></span><span class="mpre">
            </span><a href="Distribution.ParseUtils.html#loc_714_1_714_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ParseUtils.html#loc_714_1_714_13&#39;)"><span class="hl_varref"><span class="mpre">showFilePath</span></span></a><span class="mpre">    </span><a href="Distribution.ParseUtils.html#loc_606_1_606_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ParseUtils.html#loc_606_1_606_15&#39;)"><span class="hl_varref"><span class="mpre">parseFilePathQ</span></span></a><span class="mpre">
            (</span><a href="Data.Maybe.html#loc_98_1_98_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_98_1_98_10&#39;)"><span class="hl_varref"><span class="mpre">fromMaybe</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">)  (\</span><a name="loc_179_31_179_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_31_179_32&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> _ -&gt; </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a href="#loc_179_31_179_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_31_179_32&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)

        </span><a name="loc_181_9_181_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_9_181_21&#39;)"><span class="hl_vardecl"><span class="mpre">liftFieldFst</span></span></a><span class="mpre"> = </span><a href="Distribution.ParseUtils.html#loc_206_1_206_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ParseUtils.html#loc_206_1_206_10&#39;)"><span class="hl_varref"><span class="mpre">liftField</span></span></a><span class="mpre"> </span><a href="Data.Tuple.html#loc_48_1_48_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Tuple.html#loc_48_1_48_4&#39;)"><span class="hl_varref"><span class="mpre">fst</span></span></a><span class="mpre"> (\</span><a name="loc_181_40_181_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_40_181_41&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> (</span><span class="hl_vardecl"><span class="mpre">_x</span></span><span class="mpre">,</span><a name="loc_181_46_181_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_46_181_47&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) -&gt; (</span><a href="#loc_181_40_181_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_40_181_41&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">,</span><a href="#loc_181_46_181_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_181_46_181_47&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">))
        </span><a name="loc_182_9_182_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_9_182_21&#39;)"><span class="hl_vardecl"><span class="mpre">liftFieldSnd</span></span></a><span class="mpre"> = </span><a href="Distribution.ParseUtils.html#loc_206_1_206_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ParseUtils.html#loc_206_1_206_10&#39;)"><span class="hl_varref"><span class="mpre">liftField</span></span></a><span class="mpre"> </span><a href="Data.Tuple.html#loc_52_1_52_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Tuple.html#loc_52_1_52_4&#39;)"><span class="hl_varref"><span class="mpre">snd</span></span></a><span class="mpre"> (\</span><a name="loc_182_40_182_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_40_182_41&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre"> (</span><a name="loc_182_43_182_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_43_182_44&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">,</span><span class="hl_vardecl"><span class="mpre">_y</span></span><span class="mpre">) -&gt; (</span><a href="#loc_182_43_182_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_43_182_44&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">,</span><a href="#loc_182_40_182_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_40_182_41&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">))

    </span><span class="hl_comment"><span class="mpre">--TODO: this could be a lot faster. We&#39;re doing normaliseLineEndings twice</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- and converting back and forth with lines/unlines.</span></span><span class="mpre">
    </span><a href="#loc_187_5_187_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_5_187_14&#39;)"><span class="mpre">splitPkgs</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
    </span><a name="loc_187_5_187_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_5_187_14&#39;)"><span class="hl_vardecl"><span class="mpre">splitPkgs</span></span></a><span class="mpre"> = </span><a href="#loc_190_9_190_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_9_190_19&#39;)"><span class="hl_varref"><span class="mpre">checkEmpty</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="Data.List.html#loc_1060_1_1060_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_1060_1_1060_8&#39;)"><span class="hl_varref"><span class="mpre">unlines</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_194_9_194_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_9_194_18&#39;)"><span class="hl_varref"><span class="mpre">splitWith</span></span></a><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;---&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.List.html#loc_1044_1_1044_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_1044_1_1044_6&#39;)"><span class="hl_varref"><span class="mpre">lines</span></span></a><span class="mpre">
      where
        </span><span class="hl_comment"><span class="mpre">-- Handle the case of there being no packages at all.</span></span><span class="mpre">
        </span><a name="loc_190_9_190_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_9_190_19&#39;)"><span class="hl_fundecl"><span class="mpre">checkEmpty</span></span></a><span class="mpre"> [</span><a name="loc_190_21_190_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_21_190_22&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">] | </span><span class="hl_varref"><span class="mpre">all</span></span><span class="mpre"> </span><a href="GHC.Unicode.html#loc_72_1_72_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Unicode.html#loc_72_1_72_8&#39;)"><span class="hl_varref"><span class="mpre">isSpace</span></span></a><span class="mpre"> </span><a href="#loc_190_21_190_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_21_190_22&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> = []
        </span><a href="#loc_190_9_190_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_9_190_19&#39;)"><span class="hl_fundecl"><span class="mpre">checkEmpty</span></span></a><span class="mpre"> </span><a name="loc_191_20_191_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_20_191_22&#39;)"><span class="hl_vardecl"><span class="mpre">ss</span></span></a><span class="mpre">                  = </span><a href="#loc_191_20_191_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_20_191_22&#39;)"><span class="hl_varref"><span class="mpre">ss</span></span></a><span class="mpre">

        </span><a href="#loc_194_9_194_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_9_194_18&#39;)"><span class="mpre">splitWith</span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">] -&gt; [[</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">]]
        </span><a name="loc_194_9_194_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_9_194_18&#39;)"><span class="hl_fundecl"><span class="mpre">splitWith</span></span></a><span class="mpre"> </span><a name="loc_194_19_194_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_19_194_20&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a name="loc_194_21_194_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_21_194_23&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> = </span><a href="#loc_197_18_197_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_18_197_20&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> case </span><a href="#loc_197_21_197_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_21_197_23&#39;)"><span class="hl_varref"><span class="mpre">zs</span></span></a><span class="mpre"> of
                           []   -&gt; []
                           _</span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_196_30_196_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_30_196_32&#39;)"><span class="hl_vardecl"><span class="mpre">ws</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_194_9_194_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_9_194_18&#39;)"><span class="hl_varref"><span class="mpre">splitWith</span></span></a><span class="mpre"> </span><a href="#loc_194_19_194_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_19_194_20&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_196_30_196_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_30_196_32&#39;)"><span class="hl_varref"><span class="mpre">ws</span></span></a><span class="mpre">
          where (</span><a name="loc_197_18_197_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_18_197_20&#39;)"><span class="hl_vardecl"><span class="mpre">ys</span></span></a><span class="mpre">,</span><a name="loc_197_21_197_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_21_197_23&#39;)"><span class="hl_vardecl"><span class="mpre">zs</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">break</span></span><span class="mpre"> </span><a href="#loc_194_19_194_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_19_194_20&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_194_21_194_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_21_194_23&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">

</span><a href="#loc_204_1_204_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_1_204_18&#39;)"><span class="mpre">mungePackagePaths</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Perform path/URL variable substitution as per the Cabal ${pkgroot} spec</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (http://www.haskell.org/pipermail/libraries/2009-May/011772.html)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Paths/URLs can be relative to ${pkgroot} or ${pkgrooturl}.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The &quot;pkgroot&quot; is the directory containing the package database.</span></span><span class="mpre">
</span><a name="loc_204_1_204_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_1_204_18&#39;)"><span class="hl_fundecl"><span class="mpre">mungePackagePaths</span></span></a><span class="mpre"> </span><a name="loc_204_19_204_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_19_204_26&#39;)"><span class="hl_vardecl"><span class="mpre">pkgroot</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">pkginfo</span></span><span class="mpre"> =
    </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/HcPkg.hs&quot;, srcSpanStartLine = 205, srcSpanStartColumn = 5, srcSpanEndLine = 212, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/HcPkg.hs&quot;, srcSpanStartLine = 205, srcSpanStartColumn = 13, srcSpanEndLine = 205, srcSpanEndColumn = 14},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Dis"><span class="mpre">pkginfo {
      importDirs        = mungePaths (importDirs  pkginfo),
      includeDirs       = mungePaths (includeDirs pkginfo),
      libraryDirs       = mungePaths (libraryDirs pkginfo),
      frameworkDirs     = mungePaths (frameworkDirs pkginfo),
      haddockInterfaces = mungePaths (haddockInterfaces pkginfo),
      haddockHTMLs      = mungeUrls  (haddockHTMLs pkginfo)
    }</span></span><span class="mpre">
  where
    </span><span class="hl_vardecl"><span class="mpre">mungePaths</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_217_5_217_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_5_217_14&#39;)"><span class="hl_varref"><span class="mpre">mungePath</span></span></a><span class="mpre">
    </span><span class="hl_vardecl"><span class="mpre">mungeUrls</span></span><span class="mpre">  = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_221_5_221_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_5_221_13&#39;)"><span class="hl_varref"><span class="mpre">mungeUrl</span></span></a><span class="mpre">

    </span><a name="loc_217_5_217_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_5_217_14&#39;)"><span class="hl_fundecl"><span class="mpre">mungePath</span></span></a><span class="mpre"> </span><a name="loc_217_15_217_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_15_217_16&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = case </span><a href="#loc_229_5_229_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_5_229_19&#39;)"><span class="hl_varref"><span class="mpre">stripVarPrefix</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;${pkgroot}&quot;</span></span><span class="mpre"> </span><a href="#loc_217_15_217_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_15_217_16&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> of
      </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a name="loc_218_12_218_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_12_218_14&#39;)"><span class="hl_vardecl"><span class="mpre">p&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_204_19_204_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_19_204_26&#39;)"><span class="hl_varref"><span class="mpre">pkgroot</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_218_12_218_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_12_218_14&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre">
      </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_217_15_217_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_15_217_16&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">

    </span><a name="loc_221_5_221_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_5_221_13&#39;)"><span class="hl_fundecl"><span class="mpre">mungeUrl</span></span></a><span class="mpre"> </span><a name="loc_221_14_221_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_14_221_15&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = case </span><a href="#loc_229_5_229_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_5_229_19&#39;)"><span class="hl_varref"><span class="mpre">stripVarPrefix</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;${pkgrooturl}&quot;</span></span><span class="mpre"> </span><a href="#loc_221_14_221_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_14_221_15&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> of
      </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a name="loc_222_12_222_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_12_222_14&#39;)"><span class="hl_vardecl"><span class="mpre">p&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_225_5_225_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_5_225_14&#39;)"><span class="hl_varref"><span class="mpre">toUrlPath</span></span></a><span class="mpre"> </span><a href="#loc_204_19_204_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_19_204_26&#39;)"><span class="hl_varref"><span class="mpre">pkgroot</span></span></a><span class="mpre"> </span><a href="#loc_222_12_222_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_222_12_222_14&#39;)"><span class="hl_varref"><span class="mpre">p&#39;</span></span></a><span class="mpre">
      </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_221_14_221_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_221_14_221_15&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">

    </span><a name="loc_225_5_225_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_5_225_14&#39;)"><span class="hl_fundecl"><span class="mpre">toUrlPath</span></span></a><span class="mpre"> </span><a name="loc_225_15_225_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_15_225_16&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> </span><a name="loc_225_17_225_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_17_225_18&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;file:///&quot;</span></span><span class="mpre">
                 </span><span class="hl_comment"><span class="mpre">-- URLs always use posix style &#39;/&#39; separators:</span></span><span class="mpre">
                 </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">FilePath.Posix.joinPath</span></span><span class="mpre"> (</span><a href="#loc_225_15_225_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_15_225_16&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">FilePath.splitDirectories</span></span><span class="mpre"> </span><a href="#loc_225_17_225_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_17_225_18&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">)

    </span><a name="loc_229_5_229_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_5_229_19&#39;)"><span class="hl_fundecl"><span class="mpre">stripVarPrefix</span></span></a><span class="mpre"> </span><a name="loc_229_20_229_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_20_229_23&#39;)"><span class="hl_vardecl"><span class="mpre">var</span></span></a><span class="mpre"> </span><a name="loc_229_24_229_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_24_229_25&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> =
      case </span><span class="hl_varref"><span class="mpre">splitPath</span></span><span class="mpre"> </span><a href="#loc_229_24_229_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_24_229_25&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> of
        (</span><a name="loc_231_10_231_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_10_231_14&#39;)"><span class="hl_vardecl"><span class="mpre">root</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_231_15_231_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_15_231_20&#39;)"><span class="hl_vardecl"><span class="mpre">path&#39;</span></span></a><span class="mpre">) -&gt; case </span><a href="Data.List.html#loc_241_1_241_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_241_1_241_12&#39;)"><span class="hl_varref"><span class="mpre">stripPrefix</span></span></a><span class="mpre"> </span><a href="#loc_229_20_229_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_20_229_23&#39;)"><span class="hl_varref"><span class="mpre">var</span></span></a><span class="mpre"> </span><a href="#loc_231_10_231_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_10_231_14&#39;)"><span class="hl_varref"><span class="mpre">root</span></span></a><span class="mpre"> of
          </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> [</span><a name="loc_232_17_232_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_17_232_20&#39;)"><span class="hl_vardecl"><span class="mpre">sep</span></span></a><span class="mpre">] | </span><span class="hl_varref"><span class="mpre">isPathSeparator</span></span><span class="mpre"> </span><a href="#loc_232_17_232_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_17_232_20&#39;)"><span class="hl_varref"><span class="mpre">sep</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">joinPath</span></span><span class="mpre"> </span><a href="#loc_231_15_231_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_15_231_20&#39;)"><span class="hl_varref"><span class="mpre">path&#39;</span></span></a><span class="mpre">)
          _                                -&gt; </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">
        _                                  -&gt; </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- Older installed package info files did not have the installedPackageId</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- field, so if it is missing then we fill it as the source package ID.</span></span><span class="mpre">
</span><a href="#loc_240_1_240_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_1_240_22&#39;)"><span class="mpre">setInstalledPackageId</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre">
</span><a name="loc_240_1_240_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_1_240_22&#39;)"><span class="hl_fundecl"><span class="mpre">setInstalledPackageId</span></span></a><span class="mpre"> </span><span class="hl_specname"><span class="mpre">pkginfo</span></span><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/HcPkg.hs&quot;, srcSpanStartLine = 240, srcSpanStartColumn = 31, srcSpanEndLine = 243, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/HcPkg.hs&quot;, srcSpanStartLine = 240, srcSpanStartColumn = 52, srcSpanEndLine = 240, srcSpanEndColumn = 53},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distri"><span class="mpre">InstalledPackageInfo {
                        installedPackageId = InstalledPackageId &quot;&quot;,
                        sourcePackageId    = pkgid
                      }</span></span><span class="mpre">
                    = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/HcPkg.hs&quot;, srcSpanStartLine = 244, srcSpanStartColumn = 23, srcSpanEndLine = 248, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/HcPkg.hs&quot;, srcSpanStartLine = 244, srcSpanStartColumn = 31, srcSpanEndLine = 244, srcSpanEndColumn = 32},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/D"><span class="mpre">pkginfo {
                        </span><span class="hl_comment"><span class="mpre">--TODO use a proper named function for the conversion</span></span><span class="mpre">
                        </span><span class="hl_comment"><span class="mpre">-- from source package id to installed package id</span></span><span class="mpre">
                        installedPackageId = InstalledPackageId (display pkgid)
                      }</span></span><span class="mpre">
</span><a href="#loc_240_1_240_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_1_240_22&#39;)"><span class="hl_fundecl"><span class="mpre">setInstalledPackageId</span></span></a><span class="mpre"> </span><a name="loc_249_23_249_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_23_249_30&#39;)"><span class="hl_vardecl"><span class="mpre">pkginfo</span></span></a><span class="mpre"> = </span><a href="#loc_249_23_249_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_23_249_30&#39;)"><span class="hl_varref"><span class="mpre">pkginfo</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Call @hc-pkg@ to get the source package Id of all the packages in the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- given package database.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is much less information than with &#39;dump&#39;, but also rather quicker.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note in particular that it does not include the &#39;InstalledPackageId&#39;, just</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the source &#39;PackageId&#39; which is not necessarily unique in any package db.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_260_1_260_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_1_260_5&#39;)"><span class="mpre">list</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Compiler.html#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_6_112_15&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDB</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> [</span><span class="hl_tyconref"><span class="mpre">PackageId</span></span><span class="mpre">]
</span><a name="loc_260_1_260_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_1_260_5&#39;)"><span class="hl_fundecl"><span class="mpre">list</span></span></a><span class="mpre"> </span><a name="loc_260_6_260_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_6_260_15&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_260_16_260_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_16_260_21&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a name="loc_260_22_260_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_22_260_31&#39;)"><span class="hl_vardecl"><span class="mpre">packagedb</span></span></a><span class="mpre"> = do

  </span><a name="loc_262_3_262_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_3_262_9&#39;)"><span class="hl_vardecl"><span class="mpre">output</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.Simple.Program.Run.html#loc_145_1_145_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_145_1_145_27&#39;)"><span class="hl_varref"><span class="mpre">getProgramInvocationOutput</span></span></a><span class="mpre"> </span><a href="#loc_260_6_260_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_6_260_15&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
              (</span><a href="#loc_364_1_364_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_364_1_364_15&#39;)"><span class="hl_varref"><span class="mpre">listInvocation</span></span></a><span class="mpre"> </span><a href="#loc_260_16_260_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_16_260_21&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_260_6_260_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_6_260_15&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_260_22_260_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_22_260_31&#39;)"><span class="hl_varref"><span class="mpre">packagedb</span></span></a><span class="mpre">)
    </span><a href="Distribution.Compat.Exception.html#loc_17_1_17_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compat.Exception.html#loc_17_1_17_10&#39;)"><span class="hl_infix"><span class="mpre">`catchExit`</span></span></a><span class="mpre"> \_ -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_79_8_79_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_79_8_79_17&#39;)"><span class="hl_varref"><span class="mpre">programId</span></span></a><span class="mpre"> </span><a href="#loc_260_16_260_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_16_260_21&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; list failed&quot;</span></span><span class="mpre">

  case </span><a href="#loc_272_5_272_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_5_272_20&#39;)"><span class="hl_varref"><span class="mpre">parsePackageIds</span></span></a><span class="mpre"> </span><a href="#loc_262_3_262_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_3_262_9&#39;)"><span class="hl_varref"><span class="mpre">output</span></span></a><span class="mpre"> of
    </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a name="loc_267_10_267_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_10_267_12&#39;)"><span class="hl_vardecl"><span class="mpre">ok</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_267_10_267_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_10_267_12&#39;)"><span class="hl_varref"><span class="mpre">ok</span></span></a><span class="mpre">
    _       -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;failed to parse output of &#39;&quot;</span></span><span class="mpre">
                  </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_79_8_79_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_79_8_79_17&#39;)"><span class="hl_varref"><span class="mpre">programId</span></span></a><span class="mpre"> </span><a href="#loc_260_16_260_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_16_260_21&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; list&#39;&quot;</span></span><span class="mpre">

  where
    </span><a name="loc_272_5_272_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_5_272_20&#39;)"><span class="hl_fundecl"><span class="mpre">parsePackageIds</span></span></a><span class="mpre"> </span><a name="loc_272_21_272_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_21_272_24&#39;)"><span class="hl_vardecl"><span class="mpre">str</span></span></a><span class="mpre"> =
      let </span><a name="loc_273_11_273_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_273_11_273_17&#39;)"><span class="hl_vardecl"><span class="mpre">parsed</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="Distribution.Text.html#loc_39_1_39_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_39_1_39_12&#39;)"><span class="hl_varref"><span class="mpre">simpleParse</span></span></a><span class="mpre"> (</span><a href="Data.List.html#loc_1071_1_1071_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_1071_1_1071_6&#39;)"><span class="hl_varref"><span class="mpre">words</span></span></a><span class="mpre"> </span><a href="#loc_272_21_272_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_21_272_24&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">)
       in case [ </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre"> | </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_273_11_273_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_273_11_273_17&#39;)"><span class="hl_varref"><span class="mpre">parsed</span></span></a><span class="mpre"> ] of
            [] -&gt; </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> [ </span><a href="#loc_275_39_275_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_39_275_44&#39;)"><span class="hl_varref"><span class="mpre">pkgid</span></span></a><span class="mpre"> | </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a name="loc_275_39_275_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_39_275_44&#39;)"><span class="hl_vardecl"><span class="mpre">pkgid</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_273_11_273_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_273_11_273_17&#39;)"><span class="hl_varref"><span class="mpre">parsed</span></span></a><span class="mpre"> ]
            _  -&gt; </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">--------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The program invocations</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">

</span><a href="#loc_285_1_285_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_1_285_15&#39;)"><span class="mpre">initInvocation</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre">
               -&gt; </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Run.html#loc_51_6_51_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_51_6_51_23&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramInvocation</span></span></a><span class="mpre">
</span><a name="loc_285_1_285_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_1_285_15&#39;)"><span class="hl_fundecl"><span class="mpre">initInvocation</span></span></a><span class="mpre"> </span><a name="loc_285_16_285_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_16_285_21&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a name="loc_285_22_285_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_22_285_31&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_285_32_285_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_32_285_36&#39;)"><span class="hl_vardecl"><span class="mpre">path</span></span></a><span class="mpre"> =
    </span><a href="Distribution.Simple.Program.Run.html#loc_84_1_84_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_84_1_84_18&#39;)"><span class="hl_varref"><span class="mpre">programInvocation</span></span></a><span class="mpre"> </span><a href="#loc_285_16_285_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_16_285_21&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_288_5_288_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_288_5_288_9&#39;)"><span class="hl_varref"><span class="mpre">args</span></span></a><span class="mpre">
  where
    </span><a name="loc_288_5_288_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_288_5_288_9&#39;)"><span class="hl_vardecl"><span class="mpre">args</span></span></a><span class="mpre"> = [</span><span class="hl_string"><span class="mpre">&quot;init&quot;</span></span><span class="mpre">, </span><a href="#loc_285_32_285_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_32_285_36&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre">]
        </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_403_1_403_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_1_403_14&#39;)"><span class="hl_varref"><span class="mpre">verbosityOpts</span></span></a><span class="mpre"> </span><a href="#loc_285_16_285_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_16_285_21&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_285_22_285_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_285_22_285_31&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">

</span><a href="#loc_295_1_295_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_295_1_295_19&#39;)"><span class="mpre">registerInvocation</span></a><span class="mpre">, </span><a href="#loc_296_1_296_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_296_1_296_21&#39;)"><span class="mpre">reregisterInvocation</span></a><span class="mpre">
  :: </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">PackageDBStack</span></span><span class="mpre">
  -&gt; </span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre">
  -&gt; </span><a href="Distribution.Simple.Program.Run.html#loc_51_6_51_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_51_6_51_23&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramInvocation</span></span></a><span class="mpre">
</span><a name="loc_295_1_295_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_295_1_295_19&#39;)"><span class="hl_vardecl"><span class="mpre">registerInvocation</span></span></a><span class="mpre">   = </span><a href="#loc_303_1_303_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_1_303_20&#39;)"><span class="hl_varref"><span class="mpre">registerInvocation&#39;</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;register&quot;</span></span><span class="mpre">
</span><a name="loc_296_1_296_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_296_1_296_21&#39;)"><span class="hl_vardecl"><span class="mpre">reregisterInvocation</span></span></a><span class="mpre"> = </span><a href="#loc_303_1_303_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_1_303_20&#39;)"><span class="hl_varref"><span class="mpre">registerInvocation&#39;</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;update&quot;</span></span><span class="mpre">


</span><a href="#loc_303_1_303_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_1_303_20&#39;)"><span class="mpre">registerInvocation&#39;</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
                    -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">PackageDBStack</span></span><span class="mpre">
                    -&gt; </span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre">
                    -&gt; </span><a href="Distribution.Simple.Program.Run.html#loc_51_6_51_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_51_6_51_23&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramInvocation</span></span></a><span class="mpre">
</span><a name="loc_303_1_303_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_1_303_20&#39;)"><span class="hl_fundecl"><span class="mpre">registerInvocation&#39;</span></span></a><span class="mpre"> </span><a name="loc_303_21_303_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_21_303_28&#39;)"><span class="hl_vardecl"><span class="mpre">cmdname</span></span></a><span class="mpre"> </span><a name="loc_303_29_303_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_29_303_34&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a name="loc_303_35_303_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_35_303_44&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_303_45_303_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_45_303_55&#39;)"><span class="hl_vardecl"><span class="mpre">packagedbs</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_303_62_303_69" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_62_303_69&#39;)"><span class="hl_vardecl"><span class="mpre">pkgFile</span></span></a><span class="mpre">) =
    </span><a href="Distribution.Simple.Program.Run.html#loc_84_1_84_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_84_1_84_18&#39;)"><span class="hl_varref"><span class="mpre">programInvocation</span></span></a><span class="mpre"> </span><a href="#loc_303_29_303_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_29_303_34&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_306_5_306_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_306_5_306_9&#39;)"><span class="hl_varref"><span class="mpre">args</span></span></a><span class="mpre">
  where
    </span><a name="loc_306_5_306_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_306_5_306_9&#39;)"><span class="hl_vardecl"><span class="mpre">args</span></span></a><span class="mpre"> = [</span><a href="#loc_303_21_303_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_21_303_28&#39;)"><span class="hl_varref"><span class="mpre">cmdname</span></span></a><span class="mpre">, </span><a href="#loc_303_62_303_69" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_62_303_69&#39;)"><span class="hl_varref"><span class="mpre">pkgFile</span></span></a><span class="mpre">]
        </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> (if </span><a href="#loc_416_1_416_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_416_1_416_14&#39;)"><span class="hl_varref"><span class="mpre">legacyVersion</span></span></a><span class="mpre"> </span><a href="#loc_303_29_303_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_29_303_34&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre">
              then [</span><a href="#loc_398_1_398_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_1_398_14&#39;)"><span class="hl_varref"><span class="mpre">packageDbOpts</span></span></a><span class="mpre"> </span><a href="#loc_303_29_303_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_29_303_34&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">last</span></span><span class="mpre"> </span><a href="#loc_303_45_303_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_45_303_55&#39;)"><span class="hl_varref"><span class="mpre">packagedbs</span></span></a><span class="mpre">)]
              else </span><a href="#loc_376_1_376_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_1_376_19&#39;)"><span class="hl_varref"><span class="mpre">packageDbStackOpts</span></span></a><span class="mpre"> </span><a href="#loc_303_29_303_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_29_303_34&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_303_45_303_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_45_303_55&#39;)"><span class="hl_varref"><span class="mpre">packagedbs</span></span></a><span class="mpre">)
        </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_403_1_403_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_1_403_14&#39;)"><span class="hl_varref"><span class="mpre">verbosityOpts</span></span></a><span class="mpre"> </span><a href="#loc_303_29_303_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_29_303_34&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_303_35_303_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_35_303_44&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">

</span><a href="#loc_303_1_303_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_1_303_20&#39;)"><span class="hl_fundecl"><span class="mpre">registerInvocation&#39;</span></span></a><span class="mpre"> </span><a name="loc_312_21_312_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_21_312_28&#39;)"><span class="hl_vardecl"><span class="mpre">cmdname</span></span></a><span class="mpre"> </span><a name="loc_312_29_312_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_29_312_34&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a name="loc_312_35_312_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_35_312_44&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_312_45_312_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_45_312_55&#39;)"><span class="hl_vardecl"><span class="mpre">packagedbs</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">pkgInfo</span></span><span class="mpre">) =
    </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/HcPkg.hs&quot;, srcSpanStartLine = 313, srcSpanStartColumn = 5, srcSpanEndLine = 316, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/HcPkg.hs&quot;, srcSpanStartLine = 313, srcSpanStartColumn = 36, srcSpanEndLine = 313, srcSpanEndColumn = 37},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Dis"><span class="mpre">(programInvocation hcPkg args) {
      progInvokeInput         = Just (showInstalledPackageInfo pkgInfo),
      progInvokeInputEncoding = IOEncodingUTF8
    }</span></span><span class="mpre">
  where
    </span><span class="hl_vardecl"><span class="mpre">args</span></span><span class="mpre"> = [</span><a href="#loc_312_21_312_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_21_312_28&#39;)"><span class="hl_varref"><span class="mpre">cmdname</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;-&quot;</span></span><span class="mpre">]
        </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> (if </span><a href="#loc_416_1_416_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_416_1_416_14&#39;)"><span class="hl_varref"><span class="mpre">legacyVersion</span></span></a><span class="mpre"> </span><a href="#loc_312_29_312_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_29_312_34&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre">
              then [</span><a href="#loc_398_1_398_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_1_398_14&#39;)"><span class="hl_varref"><span class="mpre">packageDbOpts</span></span></a><span class="mpre"> </span><a href="#loc_312_29_312_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_29_312_34&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">last</span></span><span class="mpre"> </span><a href="#loc_312_45_312_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_45_312_55&#39;)"><span class="hl_varref"><span class="mpre">packagedbs</span></span></a><span class="mpre">)]
              else </span><a href="#loc_376_1_376_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_1_376_19&#39;)"><span class="hl_varref"><span class="mpre">packageDbStackOpts</span></span></a><span class="mpre"> </span><a href="#loc_312_29_312_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_29_312_34&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_312_45_312_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_45_312_55&#39;)"><span class="hl_varref"><span class="mpre">packagedbs</span></span></a><span class="mpre">)
        </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_403_1_403_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_1_403_14&#39;)"><span class="hl_varref"><span class="mpre">verbosityOpts</span></span></a><span class="mpre"> </span><a href="#loc_312_29_312_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_29_312_34&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_312_35_312_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_312_35_312_44&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">


</span><a href="#loc_328_1_328_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_1_328_21&#39;)"><span class="mpre">unregisterInvocation</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre">
                     -&gt; </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Compiler.html#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_6_112_15&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDB</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">PackageId</span></span><span class="mpre">
                     -&gt; </span><a href="Distribution.Simple.Program.Run.html#loc_51_6_51_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_51_6_51_23&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramInvocation</span></span></a><span class="mpre">
</span><a name="loc_328_1_328_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_1_328_21&#39;)"><span class="hl_fundecl"><span class="mpre">unregisterInvocation</span></span></a><span class="mpre"> </span><a name="loc_328_22_328_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_22_328_27&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a name="loc_328_28_328_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_28_328_37&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_328_38_328_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_38_328_47&#39;)"><span class="hl_vardecl"><span class="mpre">packagedb</span></span></a><span class="mpre"> </span><a name="loc_328_48_328_53" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_48_328_53&#39;)"><span class="hl_vardecl"><span class="mpre">pkgid</span></span></a><span class="mpre"> =
  </span><a href="Distribution.Simple.Program.Run.html#loc_84_1_84_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_84_1_84_18&#39;)"><span class="hl_varref"><span class="mpre">programInvocation</span></span></a><span class="mpre"> </span><a href="#loc_328_22_328_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_22_328_27&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
       [</span><span class="hl_string"><span class="mpre">&quot;unregister&quot;</span></span><span class="mpre">, </span><a href="#loc_398_1_398_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_1_398_14&#39;)"><span class="hl_varref"><span class="mpre">packageDbOpts</span></span></a><span class="mpre"> </span><a href="#loc_328_22_328_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_22_328_27&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_328_38_328_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_38_328_47&#39;)"><span class="hl_varref"><span class="mpre">packagedb</span></span></a><span class="mpre">, </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><a href="#loc_328_48_328_53" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_48_328_53&#39;)"><span class="hl_varref"><span class="mpre">pkgid</span></span></a><span class="mpre">]
    </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_403_1_403_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_1_403_14&#39;)"><span class="hl_varref"><span class="mpre">verbosityOpts</span></span></a><span class="mpre"> </span><a href="#loc_328_22_328_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_22_328_27&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_328_28_328_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_328_28_328_37&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">


</span><a href="#loc_336_1_336_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_1_336_17&#39;)"><span class="mpre">exposeInvocation</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre">
                 -&gt; </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Compiler.html#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_6_112_15&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDB</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">PackageId</span></span><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Run.html#loc_51_6_51_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_51_6_51_23&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramInvocation</span></span></a><span class="mpre">
</span><a name="loc_336_1_336_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_1_336_17&#39;)"><span class="hl_fundecl"><span class="mpre">exposeInvocation</span></span></a><span class="mpre"> </span><a name="loc_336_18_336_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_18_336_23&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a name="loc_336_24_336_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_24_336_33&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_336_34_336_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_34_336_43&#39;)"><span class="hl_vardecl"><span class="mpre">packagedb</span></span></a><span class="mpre"> </span><a name="loc_336_44_336_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_44_336_49&#39;)"><span class="hl_vardecl"><span class="mpre">pkgid</span></span></a><span class="mpre"> =
  </span><a href="Distribution.Simple.Program.Run.html#loc_84_1_84_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_84_1_84_18&#39;)"><span class="hl_varref"><span class="mpre">programInvocation</span></span></a><span class="mpre"> </span><a href="#loc_336_18_336_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_18_336_23&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
       [</span><span class="hl_string"><span class="mpre">&quot;expose&quot;</span></span><span class="mpre">, </span><a href="#loc_398_1_398_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_1_398_14&#39;)"><span class="hl_varref"><span class="mpre">packageDbOpts</span></span></a><span class="mpre"> </span><a href="#loc_336_18_336_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_18_336_23&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_336_34_336_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_34_336_43&#39;)"><span class="hl_varref"><span class="mpre">packagedb</span></span></a><span class="mpre">, </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><a href="#loc_336_44_336_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_44_336_49&#39;)"><span class="hl_varref"><span class="mpre">pkgid</span></span></a><span class="mpre">]
    </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_403_1_403_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_1_403_14&#39;)"><span class="hl_varref"><span class="mpre">verbosityOpts</span></span></a><span class="mpre"> </span><a href="#loc_336_18_336_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_18_336_23&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_336_24_336_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_24_336_33&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">


</span><a href="#loc_344_1_344_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_344_1_344_15&#39;)"><span class="mpre">hideInvocation</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre">
               -&gt; </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Compiler.html#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_6_112_15&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDB</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">PackageId</span></span><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Run.html#loc_51_6_51_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_51_6_51_23&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramInvocation</span></span></a><span class="mpre">
</span><a name="loc_344_1_344_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_344_1_344_15&#39;)"><span class="hl_fundecl"><span class="mpre">hideInvocation</span></span></a><span class="mpre"> </span><a name="loc_344_16_344_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_344_16_344_21&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a name="loc_344_22_344_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_344_22_344_31&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_344_32_344_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_344_32_344_41&#39;)"><span class="hl_vardecl"><span class="mpre">packagedb</span></span></a><span class="mpre"> </span><a name="loc_344_42_344_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_344_42_344_47&#39;)"><span class="hl_vardecl"><span class="mpre">pkgid</span></span></a><span class="mpre"> =
  </span><a href="Distribution.Simple.Program.Run.html#loc_84_1_84_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_84_1_84_18&#39;)"><span class="hl_varref"><span class="mpre">programInvocation</span></span></a><span class="mpre"> </span><a href="#loc_344_16_344_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_344_16_344_21&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
       [</span><span class="hl_string"><span class="mpre">&quot;hide&quot;</span></span><span class="mpre">, </span><a href="#loc_398_1_398_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_1_398_14&#39;)"><span class="hl_varref"><span class="mpre">packageDbOpts</span></span></a><span class="mpre"> </span><a href="#loc_344_16_344_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_344_16_344_21&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_344_32_344_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_344_32_344_41&#39;)"><span class="hl_varref"><span class="mpre">packagedb</span></span></a><span class="mpre">, </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><a href="#loc_344_42_344_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_344_42_344_47&#39;)"><span class="hl_varref"><span class="mpre">pkgid</span></span></a><span class="mpre">]
    </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_403_1_403_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_1_403_14&#39;)"><span class="hl_varref"><span class="mpre">verbosityOpts</span></span></a><span class="mpre"> </span><a href="#loc_344_16_344_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_344_16_344_21&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_344_22_344_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_344_22_344_31&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">


</span><a href="#loc_352_1_352_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_352_1_352_15&#39;)"><span class="mpre">dumpInvocation</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre">
               -&gt; </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Compiler.html#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_6_112_15&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDB</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Run.html#loc_51_6_51_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_51_6_51_23&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramInvocation</span></span></a><span class="mpre">
</span><a name="loc_352_1_352_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_352_1_352_15&#39;)"><span class="hl_fundecl"><span class="mpre">dumpInvocation</span></span></a><span class="mpre"> </span><a name="loc_352_16_352_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_352_16_352_21&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_verbosity</span></span><span class="mpre"> </span><a name="loc_352_33_352_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_352_33_352_42&#39;)"><span class="hl_vardecl"><span class="mpre">packagedb</span></span></a><span class="mpre"> =
    </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/HcPkg.hs&quot;, srcSpanStartLine = 353, srcSpanStartColumn = 5, srcSpanEndLine = 355, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/HcPkg.hs&quot;, srcSpanStartLine = 353, srcSpanStartColumn = 36, srcSpanEndLine = 353, srcSpanEndColumn = 37},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Dis"><span class="mpre">(programInvocation hcPkg args) {
      progInvokeOutputEncoding = IOEncodingUTF8
    }</span></span><span class="mpre">
  where
    </span><span class="hl_vardecl"><span class="mpre">args</span></span><span class="mpre"> = [</span><span class="hl_string"><span class="mpre">&quot;dump&quot;</span></span><span class="mpre">, </span><a href="#loc_398_1_398_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_1_398_14&#39;)"><span class="hl_varref"><span class="mpre">packageDbOpts</span></span></a><span class="mpre"> </span><a href="#loc_352_16_352_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_352_16_352_21&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_352_33_352_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_352_33_352_42&#39;)"><span class="hl_varref"><span class="mpre">packagedb</span></span></a><span class="mpre">]
        </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_403_1_403_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_1_403_14&#39;)"><span class="hl_varref"><span class="mpre">verbosityOpts</span></span></a><span class="mpre"> </span><a href="#loc_352_16_352_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_352_16_352_21&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="Distribution.Verbosity.html#loc_63_1_63_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_63_1_63_7&#39;)"><span class="hl_varref"><span class="mpre">silent</span></span></a><span class="mpre">
           </span><span class="hl_comment"><span class="mpre">-- We use verbosity level &#39;silent&#39; because it is important that we</span></span><span class="mpre">
           </span><span class="hl_comment"><span class="mpre">-- do not contaminate the output with info/debug messages.</span></span><span class="mpre">

</span><a href="#loc_364_1_364_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_364_1_364_15&#39;)"><span class="mpre">listInvocation</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre">
               -&gt; </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Compiler.html#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_6_112_15&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDB</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Run.html#loc_51_6_51_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_51_6_51_23&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramInvocation</span></span></a><span class="mpre">
</span><a name="loc_364_1_364_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_364_1_364_15&#39;)"><span class="hl_fundecl"><span class="mpre">listInvocation</span></span></a><span class="mpre"> </span><a name="loc_364_16_364_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_364_16_364_21&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_verbosity</span></span><span class="mpre"> </span><a name="loc_364_33_364_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_364_33_364_42&#39;)"><span class="hl_vardecl"><span class="mpre">packagedb</span></span></a><span class="mpre"> =
    </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/HcPkg.hs&quot;, srcSpanStartLine = 365, srcSpanStartColumn = 5, srcSpanEndLine = 367, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program/HcPkg.hs&quot;, srcSpanStartLine = 365, srcSpanStartColumn = 36, srcSpanEndLine = 365, srcSpanEndColumn = 37},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Dis"><span class="mpre">(programInvocation hcPkg args) {
      progInvokeOutputEncoding = IOEncodingUTF8
    }</span></span><span class="mpre">
  where
    </span><span class="hl_vardecl"><span class="mpre">args</span></span><span class="mpre"> = [</span><span class="hl_string"><span class="mpre">&quot;list&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;--simple-output&quot;</span></span><span class="mpre">, </span><a href="#loc_398_1_398_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_1_398_14&#39;)"><span class="hl_varref"><span class="mpre">packageDbOpts</span></span></a><span class="mpre"> </span><a href="#loc_364_16_364_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_364_16_364_21&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="#loc_364_33_364_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_364_33_364_42&#39;)"><span class="hl_varref"><span class="mpre">packagedb</span></span></a><span class="mpre">]
        </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_403_1_403_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_1_403_14&#39;)"><span class="hl_varref"><span class="mpre">verbosityOpts</span></span></a><span class="mpre"> </span><a href="#loc_364_16_364_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_364_16_364_21&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a href="Distribution.Verbosity.html#loc_63_1_63_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_63_1_63_7&#39;)"><span class="hl_varref"><span class="mpre">silent</span></span></a><span class="mpre">
           </span><span class="hl_comment"><span class="mpre">-- We use verbosity level &#39;silent&#39; because it is important that we</span></span><span class="mpre">
           </span><span class="hl_comment"><span class="mpre">-- do not contaminate the output with info/debug messages.</span></span><span class="mpre">


</span><a href="#loc_376_1_376_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_1_376_19&#39;)"><span class="mpre">packageDbStackOpts</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">PackageDBStack</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_376_1_376_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_1_376_19&#39;)"><span class="hl_fundecl"><span class="mpre">packageDbStackOpts</span></span></a><span class="mpre"> </span><a name="loc_376_20_376_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_20_376_25&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a name="loc_376_26_376_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_26_376_33&#39;)"><span class="hl_vardecl"><span class="mpre">dbstack</span></span></a><span class="mpre"> = case </span><a href="#loc_376_26_376_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_26_376_33&#39;)"><span class="hl_varref"><span class="mpre">dbstack</span></span></a><span class="mpre"> of
  (</span><a href="Distribution.Simple.Compiler.html#loc_112_18_112_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_18_112_33&#39;)"><span class="hl_conref"><span class="mpre">GlobalPackageDB</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a href="Distribution.Simple.Compiler.html#loc_113_18_113_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_113_18_113_31&#39;)"><span class="hl_conref"><span class="mpre">UserPackageDB</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_377_34_377_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_377_34_377_37&#39;)"><span class="hl_vardecl"><span class="mpre">dbs</span></span></a><span class="mpre">) -&gt; </span><span class="hl_string"><span class="mpre">&quot;--global&quot;</span></span><span class="mpre">
                                       </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;--user&quot;</span></span><span class="mpre">
                                       </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_385_5_385_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_5_385_13&#39;)"><span class="hl_varref"><span class="mpre">specific</span></span></a><span class="mpre"> </span><a href="#loc_377_34_377_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_377_34_377_37&#39;)"><span class="hl_varref"><span class="mpre">dbs</span></span></a><span class="mpre">
  (</span><a href="Distribution.Simple.Compiler.html#loc_112_18_112_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_18_112_33&#39;)"><span class="hl_conref"><span class="mpre">GlobalPackageDB</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_380_20_380_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_380_20_380_23&#39;)"><span class="hl_vardecl"><span class="mpre">dbs</span></span></a><span class="mpre">)               -&gt; </span><span class="hl_string"><span class="mpre">&quot;--global&quot;</span></span><span class="mpre">
                                       </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;--no-user-&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_391_1_391_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_1_391_14&#39;)"><span class="hl_varref"><span class="mpre">packageDbFlag</span></span></a><span class="mpre"> </span><a href="#loc_376_20_376_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_20_376_25&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre">)
                                       </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_385_5_385_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_5_385_13&#39;)"><span class="hl_varref"><span class="mpre">specific</span></span></a><span class="mpre"> </span><a href="#loc_380_20_380_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_380_20_380_23&#39;)"><span class="hl_varref"><span class="mpre">dbs</span></span></a><span class="mpre">
  _                                   -&gt; </span><a href="#loc_388_5_388_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_388_5_388_11&#39;)"><span class="hl_varref"><span class="mpre">ierror</span></span></a><span class="mpre">
  where
    </span><a name="loc_385_5_385_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_5_385_13&#39;)"><span class="hl_fundecl"><span class="mpre">specific</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.Compiler.html#loc_114_18_114_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_114_18_114_35&#39;)"><span class="hl_conref"><span class="mpre">SpecificPackageDB</span></span></a><span class="mpre"> </span><a name="loc_385_33_385_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_33_385_35&#39;)"><span class="hl_vardecl"><span class="mpre">db</span></span></a><span class="mpre">) = </span><span class="hl_string"><span class="mpre">&quot;--&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_391_1_391_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_1_391_14&#39;)"><span class="hl_varref"><span class="mpre">packageDbFlag</span></span></a><span class="mpre"> </span><a href="#loc_376_20_376_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_20_376_25&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;=&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_385_33_385_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_33_385_35&#39;)"><span class="hl_varref"><span class="mpre">db</span></span></a><span class="mpre">
    </span><a href="#loc_385_5_385_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_5_385_13&#39;)"><span class="hl_fundecl"><span class="mpre">specific</span></span></a><span class="mpre"> _ = </span><a href="#loc_388_5_388_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_388_5_388_11&#39;)"><span class="hl_varref"><span class="mpre">ierror</span></span></a><span class="mpre">
    </span><a href="#loc_388_5_388_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_388_5_388_11&#39;)"><span class="mpre">ierror</span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
    </span><a name="loc_388_5_388_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_388_5_388_11&#39;)"><span class="hl_vardecl"><span class="mpre">ierror</span></span></a><span class="mpre">     = </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;internal error: unexpected package db stack: &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_376_26_376_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_26_376_33&#39;)"><span class="hl_varref"><span class="mpre">dbstack</span></span></a><span class="mpre">)

</span><a href="#loc_391_1_391_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_1_391_14&#39;)"><span class="mpre">packageDbFlag</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
</span><a name="loc_391_1_391_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_1_391_14&#39;)"><span class="hl_fundecl"><span class="mpre">packageDbFlag</span></span></a><span class="mpre"> </span><a name="loc_391_15_391_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_15_391_20&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre">
  | </span><a href="Distribution.Simple.Program.Types.html#loc_82_8_82_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_82_8_82_22&#39;)"><span class="hl_varref"><span class="mpre">programVersion</span></span></a><span class="mpre"> </span><a href="#loc_391_15_391_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_15_391_20&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Version</span></span><span class="mpre"> [</span><span class="hl_num"><span class="mpre">7</span></span><span class="mpre">,</span><span class="hl_num"><span class="mpre">5</span></span><span class="mpre">] [])
  = </span><span class="hl_string"><span class="mpre">&quot;package-conf&quot;</span></span><span class="mpre">
  | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">
  = </span><span class="hl_string"><span class="mpre">&quot;package-db&quot;</span></span><span class="mpre">

</span><a href="#loc_398_1_398_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_1_398_14&#39;)"><span class="mpre">packageDbOpts</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Compiler.html#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_6_112_15&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDB</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
</span><a name="loc_398_1_398_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_1_398_14&#39;)"><span class="hl_fundecl"><span class="mpre">packageDbOpts</span></span></a><span class="mpre"> _ </span><a href="Distribution.Simple.Compiler.html#loc_112_18_112_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_18_112_33&#39;)"><span class="hl_conref"><span class="mpre">GlobalPackageDB</span></span></a><span class="mpre">        = </span><span class="hl_string"><span class="mpre">&quot;--global&quot;</span></span><span class="mpre">
</span><a href="#loc_398_1_398_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_1_398_14&#39;)"><span class="hl_fundecl"><span class="mpre">packageDbOpts</span></span></a><span class="mpre"> _ </span><a href="Distribution.Simple.Compiler.html#loc_113_18_113_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_113_18_113_31&#39;)"><span class="hl_conref"><span class="mpre">UserPackageDB</span></span></a><span class="mpre">          = </span><span class="hl_string"><span class="mpre">&quot;--user&quot;</span></span><span class="mpre">
</span><a href="#loc_398_1_398_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_1_398_14&#39;)"><span class="hl_fundecl"><span class="mpre">packageDbOpts</span></span></a><span class="mpre"> </span><a name="loc_400_15_400_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_400_15_400_20&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.Compiler.html#loc_114_18_114_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_114_18_114_35&#39;)"><span class="hl_conref"><span class="mpre">SpecificPackageDB</span></span></a><span class="mpre"> </span><a name="loc_400_40_400_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_400_40_400_42&#39;)"><span class="hl_vardecl"><span class="mpre">db</span></span></a><span class="mpre">) = </span><span class="hl_string"><span class="mpre">&quot;--&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_391_1_391_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_1_391_14&#39;)"><span class="hl_varref"><span class="mpre">packageDbFlag</span></span></a><span class="mpre"> </span><a href="#loc_400_15_400_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_400_15_400_20&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;=&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_400_40_400_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_400_40_400_42&#39;)"><span class="hl_varref"><span class="mpre">db</span></span></a><span class="mpre">

</span><a href="#loc_403_1_403_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_1_403_14&#39;)"><span class="mpre">verbosityOpts</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_403_1_403_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_1_403_14&#39;)"><span class="hl_fundecl"><span class="mpre">verbosityOpts</span></span></a><span class="mpre"> </span><a name="loc_403_15_403_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_15_403_20&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><a name="loc_403_21_403_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_21_403_22&#39;)"><span class="hl_vardecl"><span class="mpre">v</span></span></a><span class="mpre">

  </span><span class="hl_comment"><span class="mpre">-- ghc-pkg &lt; 6.11 does not support -v</span></span><span class="mpre">
  | </span><a href="Distribution.Simple.Program.Types.html#loc_79_8_79_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_79_8_79_17&#39;)"><span class="hl_varref"><span class="mpre">programId</span></span></a><span class="mpre"> </span><a href="#loc_403_15_403_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_15_403_20&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;ghc-pkg&quot;</span></span><span class="mpre">
 </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_82_8_82_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_82_8_82_22&#39;)"><span class="hl_varref"><span class="mpre">programVersion</span></span></a><span class="mpre"> </span><a href="#loc_403_15_403_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_15_403_20&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Version</span></span><span class="mpre"> [</span><span class="hl_num"><span class="mpre">6</span></span><span class="mpre">,</span><span class="hl_num"><span class="mpre">11</span></span><span class="mpre">] [])
                   = []

  | </span><a href="#loc_403_21_403_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_21_403_22&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="Distribution.Verbosity.html#loc_76_1_76_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_76_1_76_10&#39;)"><span class="hl_varref"><span class="mpre">deafening</span></span></a><span class="mpre"> = [</span><span class="hl_string"><span class="mpre">&quot;-v2&quot;</span></span><span class="mpre">]
  | </span><a href="#loc_403_21_403_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_403_21_403_22&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="Distribution.Verbosity.html#loc_63_1_63_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_63_1_63_7&#39;)"><span class="hl_varref"><span class="mpre">silent</span></span></a><span class="mpre">    = [</span><span class="hl_string"><span class="mpre">&quot;-v0&quot;</span></span><span class="mpre">]
  | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">      = []

</span><span class="hl_comment"><span class="mpre">-- Handle quirks in ghc-pkg 6.8 and older</span></span><span class="mpre">
</span><a href="#loc_416_1_416_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_416_1_416_14&#39;)"><span class="mpre">legacyVersion</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_416_1_416_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_416_1_416_14&#39;)"><span class="hl_fundecl"><span class="mpre">legacyVersion</span></span></a><span class="mpre"> </span><a name="loc_416_15_416_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_416_15_416_20&#39;)"><span class="hl_vardecl"><span class="mpre">hcPkg</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Program.Types.html#loc_79_8_79_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_79_8_79_17&#39;)"><span class="hl_varref"><span class="mpre">programId</span></span></a><span class="mpre"> </span><a href="#loc_416_15_416_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_416_15_416_20&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;ghc-pkg&quot;</span></span><span class="mpre">
                   </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_82_8_82_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_82_8_82_22&#39;)"><span class="hl_varref"><span class="mpre">programVersion</span></span></a><span class="mpre"> </span><a href="#loc_416_15_416_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_416_15_416_20&#39;)"><span class="hl_varref"><span class="mpre">hcPkg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Version</span></span><span class="mpre"> [</span><span class="hl_num"><span class="mpre">6</span></span><span class="mpre">,</span><span class="hl_num"><span class="mpre">9</span></span><span class="mpre">] [])
</span></div></body></html>