<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP #-}
{-# LANGUAGE Rank2Types #-}
{-# LANGUAGE GADTs #-}
#if __GLASGOW_HASKELL__ &gt;= 707
{-# LANGUAGE DeriveDataTypeable #-}
#endif
{-# OPTIONS_GHC -Wall #-}
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Control.Applicative.Trans.Free</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (C) 2012-2013 Edward Kmett</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  BSD-style (see the file LICENSE)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  provisional</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  GADTs, Rank2Types</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Applicative&#39; functor transformers for free</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------------------</span></span><span class="mpre">
module Control.Applicative.Trans.Free
  (
  </span><span class="hl_comment"><span class="mpre">-- | Compared to the free monad transformers, they are less expressive. However, they are also more</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- flexible to inspect and interpret, as the number of ways in which</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- the values can be nested is more limited.</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- See &lt;http://paolocapriotti.com/assets/applicative.pdf Free Applicative Functors&gt;,</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- by Paolo Capriotti and Ambrus Kaposi, for some applications.</span></span><span class="mpre">
    ApT(..)
  , ApF(..)
  , liftApT
  , liftApO
  , runApT
  , runApF
  , runApT_
  , hoistApT
  , hoistApF
  , transApT
  , transApF
  </span><span class="hl_comment"><span class="mpre">-- * Free Applicative</span></span><span class="mpre">
  , Ap
  , runAp
  , runAp_
  , retractAp
  </span><span class="hl_comment"><span class="mpre">-- * Free Alternative</span></span><span class="mpre">
  , Alt
  , runAlt
  ) where

import Control.Applicative
import Data.Functor.Apply
import Data.Functor.Identity
import Data.Typeable
import Data.Monoid
import qualified Data.Foldable as F

</span><span class="hl_comment"><span class="mpre">-- | The free &#39;Applicative&#39; for a &#39;Functor&#39; @f@.</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclGDataDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 57, srcSpanStartColumn = 1, srcSpanEndLine = 61, srcSpanEndColumn = 20}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 57, srcSpanStartColumn = 16, srcSpanEndLine = 57, srcSpanEndColumn = 21},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicativ"><span class="mpre">data ApF f g a where
  Pure :: a -&gt; ApF f g a
  Ap   :: f a -&gt; ApT f g (a -&gt; b) -&gt; ApF f g b
#if __GLASGOW_HASKELL__ &gt;= 707
  deriving Typeable</span></span><span class="mpre">
#endif

</span><span class="hl_comment"><span class="mpre">-- | The free &#39;Applicative&#39; transformer for a &#39;Functor&#39; @f@ over</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Applicative&#39; @g@.</span></span><span class="mpre">
newtype </span><a name="loc_66_9_66_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_9_66_12&#39;)"><span class="hl_tycondecl"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> = </span><a name="loc_66_21_66_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_24&#39;)"><span class="hl_condecl"><span class="mpre">ApT</span></span></a><span class="mpre"> { </span><a name="loc_66_27_66_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_27_66_33&#39;)"><span class="hl_fielddecl"><span class="mpre">getApT</span></span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">ApF</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) }
#if __GLASGOW_HASKELL__ &gt;= 707
  </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 68, srcSpanStartColumn = 3, srcSpanEndLine = 68, srcSpanEndColumn = 20}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 68, srcSpanStartColumn = 3, srcSpanEndLine = 68, srcSpanEndColumn = 11}]}) [IHead (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/"><span class="mpre">deriving Typeable</span></span><span class="mpre">
#endif

instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 71, srcSpanStartColumn = 10, srcSpanEndLine = 71, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 71, srcSpanStartColumn = 20, srcSpanEndLine = 71, srcSpanEndColumn = 22}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemn"><span class="mpre">Functor g =&gt;</span></span><span class="mpre"> </span><span class="hl_classref"><span class="mpre">Functor</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">ApF</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre">) where
  </span><a name="loc_72_3_72_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_3_72_7&#39;)"><span class="hl_fundecl"><span class="mpre">fmap</span></span></a><span class="mpre"> </span><a name="loc_72_8_72_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_8_72_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Pure</span></span><span class="mpre"> </span><a name="loc_72_16_72_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_16_72_17&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">Pure</span></span><span class="mpre"> (</span><a href="#loc_72_8_72_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_8_72_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_72_16_72_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_16_72_17&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
  </span><a href="#loc_72_3_72_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_3_72_7&#39;)"><span class="hl_fundecl"><span class="mpre">fmap</span></span></a><span class="mpre"> </span><a name="loc_73_8_73_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_8_73_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Ap</span></span><span class="mpre"> </span><a name="loc_73_14_73_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_14_73_15&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_73_16_73_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_16_73_17&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre">) = </span><a href="#loc_73_14_73_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_14_73_15&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`Ap`</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><a href="#loc_73_8_73_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_8_73_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre">) </span><a href="#loc_73_16_73_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_16_73_17&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 75, srcSpanStartColumn = 10, srcSpanEndLine = 75, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 75, srcSpanStartColumn = 20, srcSpanEndLine = 75, srcSpanEndColumn = 22}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemn"><span class="mpre">Functor g =&gt;</span></span><span class="mpre"> </span><span class="hl_classref"><span class="mpre">Functor</span></span><span class="mpre"> (</span><a href="#loc_66_9_66_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_9_66_12&#39;)"><span class="hl_tyconref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre">) where
  </span><span class="hl_fundecl"><span class="mpre">fmap</span></span><span class="mpre"> </span><a name="loc_76_8_76_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_8_76_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_66_21_66_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_24&#39;)"><span class="hl_conref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><a name="loc_76_15_76_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_15_76_16&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre">) = </span><a href="#loc_66_21_66_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_24&#39;)"><span class="hl_conref"><span class="mpre">ApT</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_76_8_76_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_8_76_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_76_15_76_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_15_76_16&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">)

instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 78, srcSpanStartColumn = 10, srcSpanEndLine = 78, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 78, srcSpanStartColumn = 24, srcSpanEndLine = 78, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemn"><span class="mpre">Applicative g =&gt;</span></span><span class="mpre"> </span><a href="Control.Applicative.html#loc_113_20_113_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_113_20_113_31&#39;)"><span class="hl_classref"><span class="mpre">Applicative</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">ApF</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre">) where
  </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_vardecl"><span class="mpre">pure</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Pure</span></span><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="mpre">pure</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><span class="hl_conref"><span class="mpre">Pure</span></span><span class="mpre"> </span><a name="loc_81_8_81_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_8_81_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre">   </span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;*&gt;</span></span></a><span class="mpre"> </span><a name="loc_81_16_81_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_16_81_17&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">       = </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_81_8_81_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_8_81_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_81_16_81_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_16_81_17&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">      </span><span class="hl_comment"><span class="mpre">-- fmap</span></span><span class="mpre">
  </span><a name="loc_82_3_82_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_3_82_4&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">        </span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;*&gt;</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Pure</span></span><span class="mpre"> </span><a name="loc_82_21_82_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_21_82_22&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">  = </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_82_21_82_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_21_82_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">) </span><a href="#loc_82_3_82_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_3_82_4&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- interchange</span></span><span class="mpre">
  </span><span class="hl_conref"><span class="mpre">Ap</span></span><span class="mpre"> </span><a name="loc_83_6_83_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_6_83_7&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_83_8_83_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_8_83_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre">   </span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;*&gt;</span></span></a><span class="mpre"> </span><a name="loc_83_16_83_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_16_83_17&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">       = </span><a href="#loc_83_6_83_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_6_83_7&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`Ap`</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">flip</span></span><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_83_8_83_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_8_83_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="hl_infix"><span class="mpre">&lt;*&gt;</span></span></a><span class="mpre"> </span><a href="#loc_66_21_66_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_24&#39;)"><span class="hl_conref"><span class="mpre">ApT</span></span></a><span class="mpre"> (</span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_varref"><span class="mpre">pure</span></span></a><span class="mpre"> </span><a href="#loc_83_16_83_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_16_83_17&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">))
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="mpre">(&lt;*&gt;)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 86, srcSpanStartColumn = 10, srcSpanEndLine = 86, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 86, srcSpanStartColumn = 24, srcSpanEndLine = 86, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemn"><span class="mpre">Applicative g =&gt;</span></span><span class="mpre"> </span><a href="Control.Applicative.html#loc_113_20_113_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_113_20_113_31&#39;)"><span class="hl_classref"><span class="mpre">Applicative</span></span></a><span class="mpre"> (</span><a href="#loc_66_9_66_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_9_66_12&#39;)"><span class="hl_tyconref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre">) where
  </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_vardecl"><span class="mpre">pure</span></span></a><span class="mpre"> = </span><a href="#loc_66_21_66_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_24&#39;)"><span class="hl_conref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_varref"><span class="mpre">pure</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_varref"><span class="mpre">pure</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="mpre">pure</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><a href="#loc_66_21_66_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_24&#39;)"><span class="hl_conref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><a name="loc_89_7_89_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_7_89_9&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;*&gt;</span></span></a><span class="mpre"> </span><a href="#loc_66_21_66_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_24&#39;)"><span class="hl_conref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><a name="loc_89_18_89_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_18_89_20&#39;)"><span class="hl_vardecl"><span class="mpre">ys</span></span></a><span class="mpre"> = </span><a href="#loc_66_21_66_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_24&#39;)"><span class="hl_conref"><span class="mpre">ApT</span></span></a><span class="mpre"> (</span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="hl_varref"><span class="mpre">(&lt;*&gt;)</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_89_7_89_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_7_89_9&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="hl_infix"><span class="mpre">&lt;*&gt;</span></span></a><span class="mpre"> </span><a href="#loc_89_18_89_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_18_89_20&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="mpre">(&lt;*&gt;)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 92, srcSpanStartColumn = 10, srcSpanEndLine = 92, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 92, srcSpanStartColumn = 24, srcSpanEndLine = 92, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemn"><span class="mpre">Applicative g =&gt;</span></span><span class="mpre"> </span><a href="Data.Functor.Bind.html#loc_98_20_98_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Bind.html#loc_98_20_98_25&#39;)"><span class="hl_classref"><span class="mpre">Apply</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">ApF</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre">) where
  </span><span class="hl_vardecl"><span class="mpre">(&lt;.&gt;)</span></span><span class="mpre"> = </span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="hl_varref"><span class="mpre">(&lt;*&gt;)</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE (&lt;.&gt;) #-}</span></span><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 96, srcSpanStartColumn = 10, srcSpanEndLine = 96, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 96, srcSpanStartColumn = 24, srcSpanEndLine = 96, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemn"><span class="mpre">Applicative g =&gt;</span></span><span class="mpre"> </span><a href="Data.Functor.Bind.html#loc_98_20_98_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Bind.html#loc_98_20_98_25&#39;)"><span class="hl_classref"><span class="mpre">Apply</span></span></a><span class="mpre"> (</span><a href="#loc_66_9_66_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_9_66_12&#39;)"><span class="hl_tyconref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre">) where
  </span><span class="hl_vardecl"><span class="mpre">(&lt;.&gt;)</span></span><span class="mpre"> = </span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="hl_varref"><span class="mpre">(&lt;*&gt;)</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE (&lt;.&gt;) #-}</span></span><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 100, srcSpanStartColumn = 10, srcSpanEndLine = 100, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 100, srcSpanStartColumn = 24, srcSpanEndLine = 100, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/"><span class="mpre">Alternative g =&gt;</span></span><span class="mpre"> </span><a href="Control.Applicative.html#loc_138_24_138_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_138_24_138_35&#39;)"><span class="hl_classref"><span class="mpre">Alternative</span></span></a><span class="mpre"> (</span><a href="#loc_66_9_66_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_9_66_12&#39;)"><span class="hl_tyconref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre">) where
  </span><a href="Control.Applicative.html#loc_140_5_140_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_140_5_140_10&#39;)"><span class="hl_vardecl"><span class="mpre">empty</span></span></a><span class="mpre"> = </span><a href="#loc_66_21_66_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_24&#39;)"><span class="hl_conref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_140_5_140_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_140_5_140_10&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Control.Applicative.html#loc_140_5_140_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_140_5_140_10&#39;)"><span class="mpre">empty</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><a href="#loc_66_21_66_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_24&#39;)"><span class="hl_conref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><a name="loc_103_7_103_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_7_103_8&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_142_5_142_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_142_5_142_10&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;|&gt;</span></span></a><span class="mpre"> </span><a href="#loc_66_21_66_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_24&#39;)"><span class="hl_conref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><a name="loc_103_17_103_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_17_103_18&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> = </span><a href="#loc_66_21_66_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_24&#39;)"><span class="hl_conref"><span class="mpre">ApT</span></span></a><span class="mpre"> (</span><a href="#loc_103_7_103_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_7_103_8&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_142_5_142_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_142_5_142_10&#39;)"><span class="hl_infix"><span class="mpre">&lt;|&gt;</span></span></a><span class="mpre"> </span><a href="#loc_103_17_103_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_17_103_18&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">)
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Control.Applicative.html#loc_142_5_142_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_142_5_142_10&#39;)"><span class="mpre">(&lt;|&gt;)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A version of &#39;lift&#39; that can be used with no constraint for @f@.</span></span><span class="mpre">
</span><a href="#loc_108_1_108_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_108_1_108_8&#39;)"><span class="mpre">liftApT</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 107, srcSpanStartColumn = 12, srcSpanEndLine = 107, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 107, srcSpanStartColumn = 26, srcSpanEndLine = 107, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/"><span class="mpre">Applicative g =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_66_9_66_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_9_66_12&#39;)"><span class="hl_tyconref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_108_1_108_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_108_1_108_8&#39;)"><span class="hl_fundecl"><span class="mpre">liftApT</span></span></a><span class="mpre"> </span><a name="loc_108_9_108_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_108_9_108_10&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_66_21_66_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_24&#39;)"><span class="hl_conref"><span class="mpre">ApT</span></span></a><span class="mpre"> (</span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_varref"><span class="mpre">pure</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Ap</span></span><span class="mpre"> </span><a href="#loc_108_9_108_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_108_9_108_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> (</span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_varref"><span class="mpre">pure</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">)))

</span><span class="hl_comment"><span class="mpre">-- | Lift an action of the \&quot;outer\&quot; &#39;Functor&#39; @g a@ to @&#39;ApT&#39; f g a@.</span></span><span class="mpre">
</span><a href="#loc_112_1_112_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_1_112_8&#39;)"><span class="mpre">liftApO</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 111, srcSpanStartColumn = 12, srcSpanEndLine = 111, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 111, srcSpanStartColumn = 22, srcSpanEndLine = 111, srcSpanEndColumn = 24}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/"><span class="mpre">Functor g =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_66_9_66_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_9_66_12&#39;)"><span class="hl_tyconref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_112_1_112_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_1_112_8&#39;)"><span class="hl_fundecl"><span class="mpre">liftApO</span></span></a><span class="mpre"> </span><a name="loc_112_9_112_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_9_112_10&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> = </span><a href="#loc_66_21_66_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_24&#39;)"><span class="hl_conref"><span class="mpre">ApT</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Pure</span></span><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_112_9_112_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_9_112_10&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Given natural transformations @f ~&gt; h@ and @g . h ~&gt; h@ this gives</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- a natural transformation @ApF f g ~&gt; h@.</span></span><span class="mpre">
</span><a href="#loc_117_1_117_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_7&#39;)"><span class="mpre">runApF</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 116, srcSpanStartColumn = 11, srcSpanEndLine = 116, srcSpanEndColumn = 40}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 116, srcSpanStartColumn = 11, srcSpanEndLine = 116, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applica"><span class="mpre">(Applicative h, Functor g) =&gt;</span></span><span class="mpre"> (forall </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">. </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">h</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; (forall </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">. </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">h</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">h</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">ApF</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">h</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_117_1_117_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_7&#39;)"><span class="hl_fundecl"><span class="mpre">runApF</span></span></a><span class="mpre"> _ _ (</span><span class="hl_conref"><span class="mpre">Pure</span></span><span class="mpre"> </span><a name="loc_117_18_117_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_18_117_19&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_varref"><span class="mpre">pure</span></span></a><span class="mpre"> </span><a href="#loc_117_18_117_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_18_117_19&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
</span><a href="#loc_117_1_117_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_7&#39;)"><span class="hl_fundecl"><span class="mpre">runApF</span></span></a><span class="mpre"> </span><a name="loc_118_8_118_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_8_118_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_118_10_118_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_10_118_11&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Ap</span></span><span class="mpre"> </span><a name="loc_118_16_118_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_16_118_17&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_118_18_118_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_18_118_19&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) = </span><a href="#loc_118_8_118_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_8_118_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_118_16_118_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_16_118_17&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_308_1_308_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_308_1_308_7&#39;)"><span class="hl_infix"><span class="mpre">&lt;**&gt;</span></span></a><span class="mpre"> </span><a href="#loc_123_1_123_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_1_123_7&#39;)"><span class="hl_varref"><span class="mpre">runApT</span></span></a><span class="mpre"> </span><a href="#loc_118_8_118_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_8_118_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_118_10_118_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_10_118_11&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_118_18_118_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_18_118_19&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Given natural transformations @f ~&gt; h@ and @g . h ~&gt; h@ this gives</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- a natural transformation @ApT f g ~&gt; h@.</span></span><span class="mpre">
</span><a href="#loc_123_1_123_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_1_123_7&#39;)"><span class="mpre">runApT</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 122, srcSpanStartColumn = 11, srcSpanEndLine = 122, srcSpanEndColumn = 40}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 122, srcSpanStartColumn = 11, srcSpanEndLine = 122, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applica"><span class="mpre">(Applicative h, Functor g) =&gt;</span></span><span class="mpre"> (forall </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">. </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">h</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; (forall </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">. </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">h</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">h</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><a href="#loc_66_9_66_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_9_66_12&#39;)"><span class="hl_tyconref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">h</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_123_1_123_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_1_123_7&#39;)"><span class="hl_fundecl"><span class="mpre">runApT</span></span></a><span class="mpre"> </span><a name="loc_123_8_123_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_8_123_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_123_10_123_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_10_123_11&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> (</span><a href="#loc_66_21_66_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_24&#39;)"><span class="hl_conref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><a name="loc_123_17_123_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_17_123_18&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">) = </span><a href="#loc_123_10_123_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_10_123_11&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> (</span><a href="#loc_117_1_117_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_117_1_117_7&#39;)"><span class="hl_varref"><span class="mpre">runApF</span></span></a><span class="mpre"> </span><a href="#loc_123_8_123_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_8_123_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_123_10_123_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_10_123_11&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_123_17_123_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_17_123_18&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Perform a monoidal analysis over @&#39;ApT&#39; f g b@ value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Examples:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- height :: (&#39;Functor&#39; g, &#39;F.Foldable&#39; g) =&gt; &#39;ApT&#39; f g a -&gt; &#39;Int&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- height = &#39;getSum&#39; . runApT_ (\_ -&gt; &#39;Sum&#39; 1) &#39;F.maximum&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- size :: (&#39;Functor&#39; g, &#39;F.Foldable&#39; g) =&gt; &#39;ApT&#39; f g a -&gt; &#39;Int&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- size = &#39;getSum&#39; . runApT_ (\_ -&gt; &#39;Sum&#39; 1) &#39;F.fold&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_139_1_139_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_1_139_8&#39;)"><span class="mpre">runApT_</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 138, srcSpanStartColumn = 12, srcSpanEndLine = 138, srcSpanEndColumn = 36}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 138, srcSpanStartColumn = 12, srcSpanEndLine = 138, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applica"><span class="mpre">(Functor g, Monoid m) =&gt;</span></span><span class="mpre"> (forall </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">. </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) -&gt; (</span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) -&gt; </span><a href="#loc_66_9_66_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_9_66_12&#39;)"><span class="hl_tyconref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">
</span><a name="loc_139_1_139_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_1_139_8&#39;)"><span class="hl_fundecl"><span class="mpre">runApT_</span></span></a><span class="mpre"> </span><a name="loc_139_9_139_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_9_139_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_139_11_139_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_11_139_12&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> = </span><a href="Control.Applicative.html#loc_236_29_236_37" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_236_29_236_37&#39;)"><span class="hl_varref"><span class="mpre">getConst</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_123_1_123_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_1_123_7&#39;)"><span class="hl_varref"><span class="mpre">runApT</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Const</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_139_9_139_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_9_139_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">Const</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_139_11_139_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_11_139_12&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="Control.Applicative.html#loc_236_29_236_37" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_236_29_236_37&#39;)"><span class="hl_varref"><span class="mpre">getConst</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Given a natural transformation from @f@ to @f&#39;@ this gives a monoidal natural transformation from @ApF f g@ to @ApF f&#39; g@.</span></span><span class="mpre">
</span><a href="#loc_143_1_143_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_9&#39;)"><span class="mpre">hoistApF</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 142, srcSpanStartColumn = 13, srcSpanEndLine = 142, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 142, srcSpanStartColumn = 23, srcSpanEndLine = 142, srcSpanEndColumn = 25}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/"><span class="mpre">Functor g =&gt;</span></span><span class="mpre"> (forall </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">. </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">ApF</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ApF</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_143_1_143_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_9&#39;)"><span class="hl_fundecl"><span class="mpre">hoistApF</span></span></a><span class="mpre"> _ (</span><span class="hl_conref"><span class="mpre">Pure</span></span><span class="mpre"> </span><a name="loc_143_18_143_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_18_143_19&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">Pure</span></span><span class="mpre"> </span><a href="#loc_143_18_143_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_18_143_19&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
</span><a href="#loc_143_1_143_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_9&#39;)"><span class="hl_fundecl"><span class="mpre">hoistApF</span></span></a><span class="mpre"> </span><a name="loc_144_10_144_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_10_144_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Ap</span></span><span class="mpre"> </span><a name="loc_144_16_144_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_16_144_17&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_144_18_144_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_18_144_19&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) = </span><a href="#loc_144_10_144_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_10_144_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_144_16_144_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_16_144_17&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`Ap`</span></span><span class="mpre"> </span><a href="#loc_148_1_148_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_1_148_9&#39;)"><span class="hl_varref"><span class="mpre">hoistApT</span></span></a><span class="mpre"> </span><a href="#loc_144_10_144_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_10_144_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_144_18_144_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_18_144_19&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Given a natural transformation from @f@ to @f&#39;@ this gives a monoidal natural transformation from @ApT f g@ to @ApT f&#39; g@.</span></span><span class="mpre">
</span><a href="#loc_148_1_148_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_1_148_9&#39;)"><span class="mpre">hoistApT</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 147, srcSpanStartColumn = 13, srcSpanEndLine = 147, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 147, srcSpanStartColumn = 23, srcSpanEndLine = 147, srcSpanEndColumn = 25}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/"><span class="mpre">Functor g =&gt;</span></span><span class="mpre"> (forall </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">. </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><a href="#loc_66_9_66_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_9_66_12&#39;)"><span class="hl_tyconref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><a href="#loc_66_9_66_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_9_66_12&#39;)"><span class="hl_tyconref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_148_1_148_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_1_148_9&#39;)"><span class="hl_fundecl"><span class="mpre">hoistApT</span></span></a><span class="mpre"> </span><a name="loc_148_10_148_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_10_148_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_66_21_66_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_24&#39;)"><span class="hl_conref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><a name="loc_148_17_148_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_17_148_18&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre">) = </span><a href="#loc_66_21_66_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_24&#39;)"><span class="hl_conref"><span class="mpre">ApT</span></span></a><span class="mpre"> (</span><a href="#loc_143_1_143_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_9&#39;)"><span class="hl_varref"><span class="mpre">hoistApF</span></span></a><span class="mpre"> </span><a href="#loc_148_10_148_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_10_148_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_148_17_148_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_148_17_148_18&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Given a natural transformation from @g@ to @g&#39;@ this gives a monoidal natural transformation from @ApF f g@ to @ApF f g&#39;@.</span></span><span class="mpre">
</span><a href="#loc_152_1_152_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_1_152_9&#39;)"><span class="mpre">transApF</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 151, srcSpanStartColumn = 13, srcSpanEndLine = 151, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 151, srcSpanStartColumn = 23, srcSpanEndLine = 151, srcSpanEndColumn = 25}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/"><span class="mpre">Functor g =&gt;</span></span><span class="mpre"> (forall </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">. </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">g&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">ApF</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ApF</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_152_1_152_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_1_152_9&#39;)"><span class="hl_fundecl"><span class="mpre">transApF</span></span></a><span class="mpre"> _ (</span><span class="hl_conref"><span class="mpre">Pure</span></span><span class="mpre"> </span><a name="loc_152_18_152_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_18_152_19&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">Pure</span></span><span class="mpre"> </span><a href="#loc_152_18_152_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_18_152_19&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
</span><a href="#loc_152_1_152_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_1_152_9&#39;)"><span class="hl_fundecl"><span class="mpre">transApF</span></span></a><span class="mpre"> </span><a name="loc_153_10_153_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_10_153_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Ap</span></span><span class="mpre"> </span><a name="loc_153_16_153_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_16_153_17&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_153_18_153_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_18_153_19&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) = </span><a href="#loc_153_16_153_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_16_153_17&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`Ap`</span></span><span class="mpre"> </span><a href="#loc_157_1_157_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_1_157_9&#39;)"><span class="hl_varref"><span class="mpre">transApT</span></span></a><span class="mpre"> </span><a href="#loc_153_10_153_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_10_153_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_153_18_153_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_153_18_153_19&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Given a natural transformation from @g@ to @g&#39;@ this gives a monoidal natural transformation from @ApT f g@ to @ApT f g&#39;@.</span></span><span class="mpre">
</span><a href="#loc_157_1_157_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_1_157_9&#39;)"><span class="mpre">transApT</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 156, srcSpanStartColumn = 13, srcSpanEndLine = 156, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 156, srcSpanStartColumn = 23, srcSpanEndLine = 156, srcSpanEndColumn = 25}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/"><span class="mpre">Functor g =&gt;</span></span><span class="mpre"> (forall </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">. </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">g&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><a href="#loc_66_9_66_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_9_66_12&#39;)"><span class="hl_tyconref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><a href="#loc_66_9_66_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_9_66_12&#39;)"><span class="hl_tyconref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_157_1_157_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_1_157_9&#39;)"><span class="hl_fundecl"><span class="mpre">transApT</span></span></a><span class="mpre"> </span><a name="loc_157_10_157_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_10_157_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_66_21_66_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_24&#39;)"><span class="hl_conref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><a name="loc_157_17_157_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_17_157_18&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre">) = </span><a href="#loc_66_21_66_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_24&#39;)"><span class="hl_conref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_157_10_157_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_10_157_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_152_1_152_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_1_152_9&#39;)"><span class="hl_varref"><span class="mpre">transApF</span></span></a><span class="mpre"> </span><a href="#loc_157_10_157_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_10_157_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_157_17_157_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_17_157_18&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | The free &#39;Applicative&#39; for a &#39;Functor&#39; @f@.</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 160, srcSpanStartColumn = 1, srcSpanEndLine = 160, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 160, srcSpanStartColumn = 1, srcSpanEndLine = 160, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicati"><span class="mpre">type Ap f = ApT f Identity</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Given a natural transformation from @f@ to @g@, this gives a canonical monoidal natural transformation from @&#39;Ap&#39; f@ to @g@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- prop&gt; runAp t == retractApp . hoistApp t</span></span><span class="mpre">
</span><a href="#loc_166_1_166_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_1_166_6&#39;)"><span class="mpre">runAp</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 165, srcSpanStartColumn = 10, srcSpanEndLine = 165, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 165, srcSpanStartColumn = 24, srcSpanEndLine = 165, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/"><span class="mpre">Applicative g =&gt;</span></span><span class="mpre"> (forall </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">. </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Ap</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_166_1_166_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_1_166_6&#39;)"><span class="hl_fundecl"><span class="mpre">runAp</span></span></a><span class="mpre"> </span><a name="loc_166_7_166_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_7_166_8&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_123_1_123_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_1_123_7&#39;)"><span class="hl_varref"><span class="mpre">runApT</span></span></a><span class="mpre"> </span><a href="#loc_166_7_166_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_7_166_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Perform a monoidal analysis over free applicative value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Example:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- count :: &#39;Ap&#39; f a -&gt; &#39;Int&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- count = &#39;getSum&#39; . runAp_ (\\_ -&gt; &#39;Sum&#39; 1)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_177_1_177_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_1_177_7&#39;)"><span class="mpre">runAp_</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 176, srcSpanStartColumn = 11, srcSpanEndLine = 176, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 176, srcSpanStartColumn = 20, srcSpanEndLine = 176, srcSpanEndColumn = 22}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/"><span class="mpre">Monoid m =&gt;</span></span><span class="mpre"> (forall </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">. </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Ap</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">
</span><a name="loc_177_1_177_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_1_177_7&#39;)"><span class="hl_fundecl"><span class="mpre">runAp_</span></span></a><span class="mpre"> </span><a name="loc_177_8_177_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_8_177_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_139_1_139_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_139_1_139_8&#39;)"><span class="hl_varref"><span class="mpre">runApT_</span></span></a><span class="mpre"> </span><a href="#loc_177_8_177_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_8_177_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="Data.Functor.Identity.html#loc_35_33_35_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_35_33_35_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Interprets the free applicative functor over f using the semantics for</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   `pure` and `&lt;*&gt;` given by the Applicative instance for f.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   prop&gt; retractApp == runAp id</span></span><span class="mpre">
</span><a href="#loc_184_1_184_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_1_184_10&#39;)"><span class="mpre">retractAp</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 183, srcSpanStartColumn = 14, srcSpanEndLine = 183, srcSpanEndColumn = 30}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 183, srcSpanStartColumn = 28, srcSpanEndLine = 183, srcSpanEndColumn = 30}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/"><span class="mpre">Applicative f =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Ap</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_184_1_184_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_1_184_10&#39;)"><span class="hl_vardecl"><span class="mpre">retractAp</span></span></a><span class="mpre"> = </span><a href="#loc_166_1_166_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_166_1_166_6&#39;)"><span class="hl_varref"><span class="mpre">runAp</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The free &#39;Alternative&#39; for a &#39;Functor&#39; @f@.</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 187, srcSpanStartColumn = 1, srcSpanEndLine = 187, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 187, srcSpanStartColumn = 1, srcSpanEndLine = 187, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicati"><span class="mpre">type Alt f = ApT f []</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Given a natural transformation from @f@ to @g@, this gives a canonical monoidal natural transformation from @&#39;Alt&#39; f@ to @g@.</span></span><span class="mpre">
</span><a href="#loc_191_1_191_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_1_191_7&#39;)"><span class="mpre">runAlt</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 190, srcSpanStartColumn = 11, srcSpanEndLine = 190, srcSpanEndColumn = 43}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 190, srcSpanStartColumn = 11, srcSpanEndLine = 190, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applica"><span class="mpre">(Alternative g, F.Foldable t) =&gt;</span></span><span class="mpre"> (forall </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">. </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">x</span></span><span class="mpre">) -&gt; </span><a href="#loc_66_9_66_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_9_66_12&#39;)"><span class="hl_tyconref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_191_1_191_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_1_191_7&#39;)"><span class="hl_fundecl"><span class="mpre">runAlt</span></span></a><span class="mpre"> </span><a name="loc_191_8_191_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_8_191_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_66_21_66_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_21_66_24&#39;)"><span class="hl_conref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><a name="loc_191_15_191_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_15_191_17&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) = </span><a href="Data.Foldable.html#loc_110_5_110_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Foldable.html#loc_110_5_110_10&#39;)"><span class="hl_varref"><span class="mpre">F.foldr</span></span></a><span class="mpre"> (\</span><a name="loc_191_31_191_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_31_191_32&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_191_33_191_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_33_191_36&#39;)"><span class="hl_vardecl"><span class="mpre">acc</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_193_5_193_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_5_193_6&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><a href="#loc_191_31_191_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_31_191_32&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_142_5_142_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_142_5_142_10&#39;)"><span class="hl_infix"><span class="mpre">&lt;|&gt;</span></span></a><span class="mpre"> </span><a href="#loc_191_33_191_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_33_191_36&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre">) </span><a href="Control.Applicative.html#loc_140_5_140_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_140_5_140_10&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre"> </span><a href="#loc_191_15_191_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_15_191_17&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
  where
    </span><a name="loc_193_5_193_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_5_193_6&#39;)"><span class="hl_fundecl"><span class="mpre">h</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Pure</span></span><span class="mpre"> </span><a name="loc_193_13_193_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_13_193_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_varref"><span class="mpre">pure</span></span></a><span class="mpre"> </span><a href="#loc_193_13_193_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_13_193_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
    </span><a href="#loc_193_5_193_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_193_5_193_6&#39;)"><span class="hl_fundecl"><span class="mpre">h</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Ap</span></span><span class="mpre"> </span><a name="loc_194_11_194_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_11_194_12&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_194_13_194_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_13_194_14&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre">) = </span><a href="#loc_191_8_191_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_8_191_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_194_11_194_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_11_194_12&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_308_1_308_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_308_1_308_7&#39;)"><span class="hl_infix"><span class="mpre">&lt;**&gt;</span></span></a><span class="mpre"> </span><a href="#loc_191_1_191_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_1_191_7&#39;)"><span class="hl_varref"><span class="mpre">runAlt</span></span></a><span class="mpre"> </span><a href="#loc_191_8_191_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_8_191_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_194_13_194_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_13_194_14&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">

#if __GLASGOW_HASKELL__ &lt; 707
instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 197, srcSpanStartColumn = 10, srcSpanEndLine = 197, srcSpanEndColumn = 39}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 197, srcSpanStartColumn = 10, srcSpanEndLine = 197, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applica"><span class="mpre">(Typeable1 f, Typeable1 g) =&gt;</span></span><span class="mpre"> </span><span class="hl_classref"><span class="mpre">Typeable1</span></span><span class="mpre"> (</span><a href="#loc_66_9_66_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_9_66_12&#39;)"><span class="hl_tyconref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre">) where
  </span><a href="Data.Typeable.Internal.html#loc_212_1_212_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Typeable.Internal.html#loc_212_1_212_8&#39;)"><span class="hl_fundecl"><span class="mpre">typeOf1</span></span></a><span class="mpre"> </span><a name="loc_198_11_198_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_11_198_12&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Typeable.Internal.html#loc_122_1_122_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Typeable.Internal.html#loc_122_1_122_11&#39;)"><span class="hl_varref"><span class="mpre">mkTyConApp</span></span></a><span class="mpre"> </span><a href="#loc_209_1_209_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_1_209_9&#39;)"><span class="hl_varref"><span class="mpre">apTTyCon</span></span></a><span class="mpre"> [</span><a href="Data.Typeable.Internal.html#loc_212_1_212_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Typeable.Internal.html#loc_212_1_212_8&#39;)"><span class="hl_varref"><span class="mpre">typeOf1</span></span></a><span class="mpre"> (</span><a href="#loc_200_5_200_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_200_5_200_6&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_198_11_198_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_11_198_12&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)] where
    </span><a href="#loc_200_5_200_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_200_5_200_6&#39;)"><span class="mpre">f</span></a><span class="mpre"> :: </span><a href="#loc_66_9_66_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_9_66_12&#39;)"><span class="hl_tyconref"><span class="mpre">ApT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
    </span><a name="loc_200_5_200_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_200_5_200_6&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre">

instance </span><span class="warning" data-warning="InstDecl ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 202, srcSpanStartColumn = 10, srcSpanEndLine = 202, srcSpanEndColumn = 39}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applicative/Trans/Free.hs&quot;, srcSpanStartLine = 202, srcSpanStartColumn = 10, srcSpanEndLine = 202, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/free-4.9/src/Control/Applica"><span class="mpre">(Typeable1 f, Typeable1 g) =&gt;</span></span><span class="mpre"> </span><span class="hl_classref"><span class="mpre">Typeable1</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">ApF</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre">) where
  </span><a href="Data.Typeable.Internal.html#loc_212_1_212_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Typeable.Internal.html#loc_212_1_212_8&#39;)"><span class="hl_fundecl"><span class="mpre">typeOf1</span></span></a><span class="mpre"> </span><a name="loc_203_11_203_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_11_203_12&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Typeable.Internal.html#loc_122_1_122_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Typeable.Internal.html#loc_122_1_122_11&#39;)"><span class="hl_varref"><span class="mpre">mkTyConApp</span></span></a><span class="mpre"> </span><a href="#loc_210_1_210_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_1_210_9&#39;)"><span class="hl_varref"><span class="mpre">apFTyCon</span></span></a><span class="mpre"> [</span><a href="Data.Typeable.Internal.html#loc_212_1_212_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Typeable.Internal.html#loc_212_1_212_8&#39;)"><span class="hl_varref"><span class="mpre">typeOf1</span></span></a><span class="mpre"> (</span><a href="#loc_205_5_205_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_205_5_205_6&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_203_11_203_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_11_203_12&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)] where
    </span><a href="#loc_205_5_205_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_205_5_205_6&#39;)"><span class="mpre">f</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ApF</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">g</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
    </span><a name="loc_205_5_205_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_205_5_205_6&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">undefined</span></span><span class="mpre">

</span><a href="#loc_209_1_209_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_1_209_9&#39;)"><span class="mpre">apTTyCon</span></a><span class="mpre">, </span><a href="#loc_210_1_210_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_1_210_9&#39;)"><span class="mpre">apFTyCon</span></a><span class="mpre"> :: </span><a href="Data.Typeable.Internal.html#loc_89_6_89_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Typeable.Internal.html#loc_89_6_89_11&#39;)"><span class="hl_tyconref"><span class="mpre">TyCon</span></span></a><span class="mpre">
#if __GLASGOW_HASKELL__ &lt; 704
</span><a name="loc_209_1_209_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_1_209_9&#39;)"><span class="hl_vardecl"><span class="mpre">apTTyCon</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">mkTyCon</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Control.Applicative.Trans.Free.ApT&quot;</span></span><span class="mpre">
</span><a name="loc_210_1_210_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_1_210_9&#39;)"><span class="hl_vardecl"><span class="mpre">apFTyCon</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">mkTyCon</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Control.Applicative.Trans.Free.ApF&quot;</span></span><span class="mpre">
#else
</span><span class="hl_vardecl"><span class="mpre">apTTyCon</span></span><span class="mpre"> = </span><a href="Data.Typeable.Internal.html#loc_170_1_170_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Typeable.Internal.html#loc_170_1_170_9&#39;)"><span class="hl_varref"><span class="mpre">mkTyCon3</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;free&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Control.Applicative.Trans.Free&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;ApT&quot;</span></span><span class="mpre">
</span><span class="hl_vardecl"><span class="mpre">apFTyCon</span></span><span class="mpre"> = </span><a href="Data.Typeable.Internal.html#loc_170_1_170_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Typeable.Internal.html#loc_170_1_170_9&#39;)"><span class="hl_varref"><span class="mpre">mkTyCon3</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;free&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Control.Applicative.Trans.Free&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;ApF&quot;</span></span><span class="mpre">
#endif
</span><span class="hl_pragma"><span class="mpre">{-# NOINLINE </span><a href="#loc_209_1_209_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_1_209_9&#39;)"><span class="mpre">apTTyCon</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# NOINLINE </span><a href="#loc_210_1_210_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_1_210_9&#39;)"><span class="mpre">apFTyCon</span></a><span class="mpre"> #-}</span></span><span class="mpre">
#endif
</span></div></body></html>