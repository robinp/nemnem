<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE DeriveDataTypeable #-}
</span><span class="hl_comment"><span class="mpre">-- | This is a middle-level wrapper around the zlib C API. It allows you to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- work fully with bytestrings and not touch the FFI at all, but is still</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- low-level enough to allow you to implement high-level abstractions such as</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- enumerators. Significantly, it does not use lazy IO.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- You&#39;ll probably need to reference the docs a bit to understand the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- WindowBits parameters below, but a basic rule of thumb is 15 is for zlib</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- compression, and 31 for gzip compression.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- A simple streaming compressor in pseudo-code would look like:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; def &lt;- initDeflate ...</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; popper &lt;- feedDeflate def rawContent</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; pullPopper popper</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; ...</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; finishDeflate def sendCompressedData</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- You can see a more complete example is available in the included</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- file-test.hs.</span></span><span class="mpre">
module Codec.Zlib
    ( </span><span class="hl_comment"><span class="mpre">-- * Inflate</span></span><span class="mpre">
      Inflate
    , initInflate
    , initInflateWithDictionary
    , feedInflate
    , finishInflate
    , flushInflate
      </span><span class="hl_comment"><span class="mpre">-- * Deflate</span></span><span class="mpre">
    , Deflate
    , initDeflate
    , initDeflateWithDictionary
    , feedDeflate
    , finishDeflate
    , flushDeflate
      </span><span class="hl_comment"><span class="mpre">-- * Data types</span></span><span class="mpre">
    , WindowBits (..)
    , defaultWindowBits
    , ZlibException (..)
    , Popper
    ) where

import Codec.Zlib.Lowlevel
import Foreign.ForeignPtr
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/zlib-bindings-0.1.1.5/Codec/Zlib.hs&quot;, srcSpanStartLine = 45, srcSpanStartColumn = 8, srcSpanEndLine = 45, srcSpanEndColumn = 23}, srcInfoPoints = []}) &quot;Foreign.C.Types&quot;"><span class="mpre">Foreign.C.Types</span></span><span class="mpre">
import Data.ByteString.Unsafe
import Codec.Compression.Zlib (WindowBits(WindowBits), defaultWindowBits)
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/zlib-bindings-0.1.1.5/Codec/Zlib.hs&quot;, srcSpanStartLine = 48, srcSpanStartColumn = 18, srcSpanEndLine = 48, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> as S
import Data.ByteString.Lazy.Internal (</span><a href="Data.ByteString.Lazy.Internal.html#loc_208_1_208_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Lazy.Internal.html#loc_208_1_208_17&#39;)"><span class="mpre">defaultChunkSize</span></a><span class="mpre">)
import Control.Monad (</span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="mpre">when</span></a><span class="mpre">)
import Data.Typeable (</span><a href="Data.Typeable.Internal.html#loc_196_7_196_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Typeable.Internal.html#loc_196_7_196_15&#39;)"><span class="mpre">Typeable</span></a><span class="mpre">)
import Control.Exception (Exception, </span><a href="GHC.IO.html#loc_304_1_304_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_304_1_304_8&#39;)"><span class="mpre">throwIO</span></a><span class="mpre">)

</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/zlib-bindings-0.1.1.5/Codec/Zlib.hs&quot;, srcSpanStartLine = 54, srcSpanStartColumn = 1, srcSpanEndLine = 54, srcSpanEndColumn = 64}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/zlib-bindings-0.1.1.5/Codec/Zlib.hs&quot;, srcSpanStartLine = 54, srcSpanStartColumn = 1, srcSpanEndLine = 54, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/zlib-bindings-0.1.1.5/Codec/Zlib.hs&quot;, srcSpanStartLine ="><span class="mpre">type ZStreamPair = (ForeignPtr ZStreamStruct, ForeignPtr CChar)</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The state of an inflation (eg, decompression) process. All allocated</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- memory is automatically reclaimed by the garbage collector.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Also can contain the inflation dictionary that is used for decompression.</span></span><span class="mpre">
newtype </span><a name="loc_59_9_59_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_9_59_16&#39;)"><span class="hl_tycondecl"><span class="mpre">Inflate</span></span></a><span class="mpre"> = </span><a name="loc_59_19_59_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_19_59_26&#39;)"><span class="hl_condecl"><span class="mpre">Inflate</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">ZStreamPair</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | The state of a deflation (eg, compression) process. All allocated memory</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- is automatically reclaimed by the garbage collector.</span></span><span class="mpre">
newtype </span><a name="loc_63_9_63_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_9_63_16&#39;)"><span class="hl_tycondecl"><span class="mpre">Deflate</span></span></a><span class="mpre"> = </span><a name="loc_63_19_63_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_19_63_26&#39;)"><span class="hl_condecl"><span class="mpre">Deflate</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ZStreamPair</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Exception that can be thrown from the FFI code. The parameter is the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- numerical error code from the zlib library. Quoting the zlib.h file</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- directly:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * #define Z_OK            0</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * #define Z_STREAM_END    1</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * #define Z_NEED_DICT     2</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * #define Z_ERRNO        (-1)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * #define Z_STREAM_ERROR (-2)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * #define Z_DATA_ERROR   (-3)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * #define Z_MEM_ERROR    (-4)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * #define Z_BUF_ERROR    (-5)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * #define Z_VERSION_ERROR (-6)</span></span><span class="mpre">

data </span><a name="loc_87_6_87_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_6_87_19&#39;)"><span class="hl_tycondecl"><span class="mpre">ZlibException</span></span></a><span class="mpre"> = </span><a name="loc_87_22_87_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_22_87_35&#39;)"><span class="hl_condecl"><span class="mpre">ZlibException</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
    </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/zlib-bindings-0.1.1.5/Codec/Zlib.hs&quot;, srcSpanStartLine = 88, srcSpanStartColumn = 5, srcSpanEndLine = 88, srcSpanEndColumn = 30}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/zlib-bindings-0.1.1.5/Codec/Zlib.hs&quot;, srcSpanStartLine = 88, srcSpanStartColumn = 5, srcSpanEndLine = 88, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/zlib-bindings-0.1.1.5/Codec/Zlib.hs&quot;, srcSpanStartLine "><span class="mpre">deriving (Show, Typeable)</span></span><span class="mpre">
instance </span><span class="hl_classref"><span class="mpre">Exception</span></span><span class="mpre"> </span><a href="#loc_87_6_87_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_6_87_19&#39;)"><span class="hl_tyconref"><span class="mpre">ZlibException</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Some constants for the error codes, used internally</span></span><span class="mpre">
</span><a href="#loc_93_1_93_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_10&#39;)"><span class="mpre">zNeedDict</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">CInt</span></span><span class="mpre">
</span><a name="loc_93_1_93_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_10&#39;)"><span class="hl_vardecl"><span class="mpre">zNeedDict</span></span></a><span class="mpre"> = </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">

</span><a href="#loc_96_1_96_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_1_96_10&#39;)"><span class="mpre">zBufError</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">CInt</span></span><span class="mpre">
</span><a name="loc_96_1_96_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_1_96_10&#39;)"><span class="hl_vardecl"><span class="mpre">zBufError</span></span></a><span class="mpre"> = -</span><span class="hl_num"><span class="mpre">5</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Initialize an inflation process with the given &#39;WindowBits&#39;. You will need</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- to call &#39;feedInflate&#39; to feed compressed data to this and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;finishInflate&#39; to extract the final chunk of decompressed data.</span></span><span class="mpre">
</span><a href="#loc_102_1_102_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_1_102_12&#39;)"><span class="mpre">initInflate</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">WindowBits</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="#loc_59_9_59_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_9_59_16&#39;)"><span class="hl_tyconref"><span class="mpre">Inflate</span></span></a><span class="mpre">
</span><a name="loc_102_1_102_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_1_102_12&#39;)"><span class="hl_fundecl"><span class="mpre">initInflate</span></span></a><span class="mpre"> </span><a name="loc_102_13_102_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_13_102_14&#39;)"><span class="hl_vardecl"><span class="mpre">w</span></span></a><span class="mpre"> = do
    </span><a name="loc_103_5_103_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_5_103_9&#39;)"><span class="hl_vardecl"><span class="mpre">zstr</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">zstreamNew</span></span><span class="mpre">
    </span><a href="Codec.Zlib.Lowlevel.html#loc_57_1_57_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Codec.Zlib.Lowlevel.html#loc_57_1_57_13&#39;)"><span class="hl_varref"><span class="mpre">inflateInit2</span></span></a><span class="mpre"> </span><a href="#loc_103_5_103_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_5_103_9&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre"> </span><a href="#loc_102_13_102_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_13_102_14&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre">
    </span><a name="loc_105_5_105_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_5_105_10&#39;)"><span class="hl_vardecl"><span class="mpre">fzstr</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">newForeignPtr</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">c_free_z_stream_inflate</span></span><span class="mpre"> </span><a href="#loc_103_5_103_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_5_103_9&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre">
    </span><a name="loc_106_5_106_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_5_106_10&#39;)"><span class="hl_vardecl"><span class="mpre">fbuff</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">mallocForeignPtrBytes</span></span><span class="mpre"> </span><a href="Data.ByteString.Lazy.Internal.html#loc_208_1_208_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Lazy.Internal.html#loc_208_1_208_17&#39;)"><span class="hl_varref"><span class="mpre">defaultChunkSize</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">withForeignPtr</span></span><span class="mpre"> </span><a href="#loc_106_5_106_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_5_106_10&#39;)"><span class="hl_varref"><span class="mpre">fbuff</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_107_29_107_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_29_107_33&#39;)"><span class="hl_vardecl"><span class="mpre">buff</span></span></a><span class="mpre"> -&gt;
        </span><span class="hl_varref"><span class="mpre">c_set_avail_out</span></span><span class="mpre"> </span><a href="#loc_103_5_103_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_5_103_9&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre"> </span><a href="#loc_107_29_107_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_29_107_33&#39;)"><span class="hl_varref"><span class="mpre">buff</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="Data.ByteString.Lazy.Internal.html#loc_208_1_208_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Lazy.Internal.html#loc_208_1_208_17&#39;)"><span class="hl_varref"><span class="mpre">defaultChunkSize</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_59_19_59_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_19_59_26&#39;)"><span class="hl_conref"><span class="mpre">Inflate</span></span></a><span class="mpre"> ((</span><a href="#loc_105_5_105_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_5_105_10&#39;)"><span class="hl_varref"><span class="mpre">fzstr</span></span></a><span class="mpre">, </span><a href="#loc_106_5_106_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_5_106_10&#39;)"><span class="hl_varref"><span class="mpre">fbuff</span></span></a><span class="mpre">), </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Initialize an inflation process with the given &#39;WindowBits&#39;. </span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Unlike initInflate a dictionary for inflation is set which must</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- match the one set during compression.</span></span><span class="mpre">
</span><a href="#loc_115_1_115_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_1_115_26&#39;)"><span class="mpre">initInflateWithDictionary</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">WindowBits</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="#loc_59_9_59_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_9_59_16&#39;)"><span class="hl_tyconref"><span class="mpre">Inflate</span></span></a><span class="mpre">
</span><a name="loc_115_1_115_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_1_115_26&#39;)"><span class="hl_fundecl"><span class="mpre">initInflateWithDictionary</span></span></a><span class="mpre"> </span><a name="loc_115_27_115_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_27_115_28&#39;)"><span class="hl_vardecl"><span class="mpre">w</span></span></a><span class="mpre"> </span><a name="loc_115_29_115_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_29_115_31&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> = do
    </span><a name="loc_116_5_116_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_5_116_9&#39;)"><span class="hl_vardecl"><span class="mpre">zstr</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">zstreamNew</span></span><span class="mpre">
    </span><a href="Codec.Zlib.Lowlevel.html#loc_57_1_57_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Codec.Zlib.Lowlevel.html#loc_57_1_57_13&#39;)"><span class="hl_varref"><span class="mpre">inflateInit2</span></span></a><span class="mpre"> </span><a href="#loc_116_5_116_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_5_116_9&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre"> </span><a href="#loc_115_27_115_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_27_115_28&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre">
    </span><a name="loc_118_5_118_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_5_118_10&#39;)"><span class="hl_vardecl"><span class="mpre">fzstr</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">newForeignPtr</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">c_free_z_stream_inflate</span></span><span class="mpre"> </span><a href="#loc_116_5_116_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_5_116_9&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre">
    </span><a name="loc_119_5_119_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_5_119_10&#39;)"><span class="hl_vardecl"><span class="mpre">fbuff</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">mallocForeignPtrBytes</span></span><span class="mpre"> </span><a href="Data.ByteString.Lazy.Internal.html#loc_208_1_208_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Lazy.Internal.html#loc_208_1_208_17&#39;)"><span class="hl_varref"><span class="mpre">defaultChunkSize</span></span></a><span class="mpre">

    </span><span class="hl_varref"><span class="mpre">withForeignPtr</span></span><span class="mpre"> </span><a href="#loc_119_5_119_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_5_119_10&#39;)"><span class="hl_varref"><span class="mpre">fbuff</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_121_29_121_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_29_121_33&#39;)"><span class="hl_vardecl"><span class="mpre">buff</span></span></a><span class="mpre"> -&gt;
        </span><span class="hl_varref"><span class="mpre">c_set_avail_out</span></span><span class="mpre"> </span><a href="#loc_116_5_116_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_5_116_9&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre"> </span><a href="#loc_121_29_121_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_29_121_33&#39;)"><span class="hl_varref"><span class="mpre">buff</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="Data.ByteString.Lazy.Internal.html#loc_208_1_208_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Lazy.Internal.html#loc_208_1_208_17&#39;)"><span class="hl_varref"><span class="mpre">defaultChunkSize</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_59_19_59_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_19_59_26&#39;)"><span class="hl_conref"><span class="mpre">Inflate</span></span></a><span class="mpre"> ((</span><a href="#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_118_5_118_10&#39;)"><span class="hl_varref"><span class="mpre">fzstr</span></span></a><span class="mpre">, </span><a href="#loc_119_5_119_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_119_5_119_10&#39;)"><span class="hl_varref"><span class="mpre">fbuff</span></span></a><span class="mpre">), </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_115_29_115_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_29_115_31&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Initialize a deflation process with the given compression level and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;WindowBits&#39;. You will need to call &#39;feedDeflate&#39; to feed uncompressed</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- data to this and &#39;finishDeflate&#39; to extract the final chunks of compressed</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- data.</span></span><span class="mpre">
</span><a href="#loc_131_1_131_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_1_131_12&#39;)"><span class="mpre">initDeflate</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ Compression level</span></span><span class="mpre">
            -&gt; </span><span class="hl_tyconref"><span class="mpre">WindowBits</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="#loc_63_9_63_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_9_63_16&#39;)"><span class="hl_tyconref"><span class="mpre">Deflate</span></span></a><span class="mpre">
</span><a name="loc_131_1_131_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_1_131_12&#39;)"><span class="hl_fundecl"><span class="mpre">initDeflate</span></span></a><span class="mpre"> </span><a name="loc_131_13_131_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_13_131_18&#39;)"><span class="hl_vardecl"><span class="mpre">level</span></span></a><span class="mpre"> </span><a name="loc_131_19_131_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_19_131_20&#39;)"><span class="hl_vardecl"><span class="mpre">w</span></span></a><span class="mpre"> = do
    </span><a name="loc_132_5_132_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_5_132_9&#39;)"><span class="hl_vardecl"><span class="mpre">zstr</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">zstreamNew</span></span><span class="mpre">
    </span><a href="Codec.Zlib.Lowlevel.html#loc_48_1_48_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Codec.Zlib.Lowlevel.html#loc_48_1_48_13&#39;)"><span class="hl_varref"><span class="mpre">deflateInit2</span></span></a><span class="mpre"> </span><a href="#loc_132_5_132_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_5_132_9&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre"> </span><a href="#loc_131_13_131_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_13_131_18&#39;)"><span class="hl_varref"><span class="mpre">level</span></span></a><span class="mpre"> </span><a href="#loc_131_19_131_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_19_131_20&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">8</span></span><span class="mpre"> </span><a href="Codec.Zlib.Lowlevel.html#loc_33_7_33_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Codec.Zlib.Lowlevel.html#loc_33_7_33_22&#39;)"><span class="hl_conref"><span class="mpre">StrategyDefault</span></span></a><span class="mpre">
    </span><a name="loc_134_5_134_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_5_134_10&#39;)"><span class="hl_vardecl"><span class="mpre">fzstr</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">newForeignPtr</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">c_free_z_stream_deflate</span></span><span class="mpre"> </span><a href="#loc_132_5_132_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_5_132_9&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre">
    </span><a name="loc_135_5_135_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_5_135_10&#39;)"><span class="hl_vardecl"><span class="mpre">fbuff</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">mallocForeignPtrBytes</span></span><span class="mpre"> </span><a href="Data.ByteString.Lazy.Internal.html#loc_208_1_208_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Lazy.Internal.html#loc_208_1_208_17&#39;)"><span class="hl_varref"><span class="mpre">defaultChunkSize</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">withForeignPtr</span></span><span class="mpre"> </span><a href="#loc_135_5_135_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_5_135_10&#39;)"><span class="hl_varref"><span class="mpre">fbuff</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_136_29_136_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_29_136_33&#39;)"><span class="hl_vardecl"><span class="mpre">buff</span></span></a><span class="mpre"> -&gt;
        </span><span class="hl_varref"><span class="mpre">c_set_avail_out</span></span><span class="mpre"> </span><a href="#loc_132_5_132_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_5_132_9&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre"> </span><a href="#loc_136_29_136_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_29_136_33&#39;)"><span class="hl_varref"><span class="mpre">buff</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="Data.ByteString.Lazy.Internal.html#loc_208_1_208_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Lazy.Internal.html#loc_208_1_208_17&#39;)"><span class="hl_varref"><span class="mpre">defaultChunkSize</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_63_19_63_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_19_63_26&#39;)"><span class="hl_conref"><span class="mpre">Deflate</span></span></a><span class="mpre"> (</span><a href="#loc_134_5_134_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_5_134_10&#39;)"><span class="hl_varref"><span class="mpre">fzstr</span></span></a><span class="mpre">, </span><a href="#loc_135_5_135_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_5_135_10&#39;)"><span class="hl_varref"><span class="mpre">fbuff</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Initialize an deflation process with the given compression level and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;WindowBits&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Unlike initDeflate a dictionary for deflation is set.</span></span><span class="mpre">
</span><a href="#loc_146_1_146_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_26&#39;)"><span class="mpre">initDeflateWithDictionary</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ Compression level</span></span><span class="mpre">
                          -&gt; </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ Deflate dictionary</span></span><span class="mpre">
                          -&gt; </span><span class="hl_tyconref"><span class="mpre">WindowBits</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="#loc_63_9_63_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_9_63_16&#39;)"><span class="hl_tyconref"><span class="mpre">Deflate</span></span></a><span class="mpre">
</span><a name="loc_146_1_146_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_26&#39;)"><span class="hl_fundecl"><span class="mpre">initDeflateWithDictionary</span></span></a><span class="mpre"> </span><a name="loc_146_27_146_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_27_146_32&#39;)"><span class="hl_vardecl"><span class="mpre">level</span></span></a><span class="mpre"> </span><a name="loc_146_33_146_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_33_146_35&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> </span><a name="loc_146_36_146_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_36_146_37&#39;)"><span class="hl_vardecl"><span class="mpre">w</span></span></a><span class="mpre"> = do
    </span><a name="loc_147_5_147_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_5_147_9&#39;)"><span class="hl_vardecl"><span class="mpre">zstr</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">zstreamNew</span></span><span class="mpre">
    </span><a href="Codec.Zlib.Lowlevel.html#loc_48_1_48_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Codec.Zlib.Lowlevel.html#loc_48_1_48_13&#39;)"><span class="hl_varref"><span class="mpre">deflateInit2</span></span></a><span class="mpre"> </span><a href="#loc_147_5_147_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_5_147_9&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre"> </span><a href="#loc_146_27_146_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_27_146_32&#39;)"><span class="hl_varref"><span class="mpre">level</span></span></a><span class="mpre"> </span><a href="#loc_146_36_146_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_36_146_37&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">8</span></span><span class="mpre"> </span><a href="Codec.Zlib.Lowlevel.html#loc_33_7_33_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Codec.Zlib.Lowlevel.html#loc_33_7_33_22&#39;)"><span class="hl_conref"><span class="mpre">StrategyDefault</span></span></a><span class="mpre">
    </span><a name="loc_149_5_149_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_5_149_10&#39;)"><span class="hl_vardecl"><span class="mpre">fzstr</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">newForeignPtr</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">c_free_z_stream_deflate</span></span><span class="mpre"> </span><a href="#loc_147_5_147_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_5_147_9&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre">
    </span><a name="loc_150_5_150_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_5_150_10&#39;)"><span class="hl_vardecl"><span class="mpre">fbuff</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">mallocForeignPtrBytes</span></span><span class="mpre"> </span><a href="Data.ByteString.Lazy.Internal.html#loc_208_1_208_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Lazy.Internal.html#loc_208_1_208_17&#39;)"><span class="hl_varref"><span class="mpre">defaultChunkSize</span></span></a><span class="mpre">

    </span><a href="Data.ByteString.Unsafe.html#loc_311_1_311_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_311_1_311_22&#39;)"><span class="hl_varref"><span class="mpre">unsafeUseAsCStringLen</span></span></a><span class="mpre"> </span><a href="#loc_146_33_146_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_33_146_35&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \(</span><a name="loc_152_34_152_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_34_152_38&#39;)"><span class="hl_vardecl"><span class="mpre">cstr</span></span></a><span class="mpre">, </span><a name="loc_152_40_152_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_40_152_43&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre">) -&gt; do
        </span><span class="hl_varref"><span class="mpre">c_call_deflate_set_dictionary</span></span><span class="mpre"> </span><a href="#loc_147_5_147_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_5_147_9&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre"> </span><a href="#loc_152_34_152_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_34_152_38&#39;)"><span class="hl_varref"><span class="mpre">cstr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_152_40_152_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_40_152_43&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">

    </span><span class="hl_varref"><span class="mpre">withForeignPtr</span></span><span class="mpre"> </span><a href="#loc_150_5_150_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_5_150_10&#39;)"><span class="hl_varref"><span class="mpre">fbuff</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_155_29_155_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_29_155_33&#39;)"><span class="hl_vardecl"><span class="mpre">buff</span></span></a><span class="mpre"> -&gt;
        </span><span class="hl_varref"><span class="mpre">c_set_avail_out</span></span><span class="mpre"> </span><a href="#loc_147_5_147_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_5_147_9&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre"> </span><a href="#loc_155_29_155_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_29_155_33&#39;)"><span class="hl_varref"><span class="mpre">buff</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="Data.ByteString.Lazy.Internal.html#loc_208_1_208_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Lazy.Internal.html#loc_208_1_208_17&#39;)"><span class="hl_varref"><span class="mpre">defaultChunkSize</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_63_19_63_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_19_63_26&#39;)"><span class="hl_conref"><span class="mpre">Deflate</span></span></a><span class="mpre"> (</span><a href="#loc_149_5_149_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_149_5_149_10&#39;)"><span class="hl_varref"><span class="mpre">fzstr</span></span></a><span class="mpre">, </span><a href="#loc_150_5_150_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_5_150_10&#39;)"><span class="hl_varref"><span class="mpre">fbuff</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Feed the given &#39;S.ByteString&#39; to the inflater. Return a &#39;Popper&#39;,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- an IO action that returns the decompressed data a chunk at a time.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The &#39;Popper&#39; must be called to exhaustion before using the &#39;Inflate&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- object again.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note that this function automatically buffers the output to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;defaultChunkSize&#39;, and therefore you won&#39;t get any data from the popper</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- until that much decompressed data is available. After you have fed all of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the compressed data to this function, you can extract your final chunk of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- decompressed data using &#39;finishInflate&#39;.</span></span><span class="mpre">
</span><a href="#loc_173_1_173_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_1_173_12&#39;)"><span class="mpre">feedInflate</span></a><span class="mpre">
    :: </span><a href="#loc_59_9_59_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_9_59_16&#39;)"><span class="hl_tyconref"><span class="mpre">Inflate</span></span></a><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Popper</span></span><span class="mpre">
</span><a name="loc_173_1_173_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_1_173_12&#39;)"><span class="hl_fundecl"><span class="mpre">feedInflate</span></span></a><span class="mpre"> (</span><a href="#loc_59_19_59_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_19_59_26&#39;)"><span class="hl_conref"><span class="mpre">Inflate</span></span></a><span class="mpre"> ((</span><a name="loc_173_24_173_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_24_173_29&#39;)"><span class="hl_vardecl"><span class="mpre">fzstr</span></span></a><span class="mpre">, </span><a name="loc_173_31_173_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_31_173_36&#39;)"><span class="hl_vardecl"><span class="mpre">fbuff</span></span></a><span class="mpre">), </span><a name="loc_173_39_173_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_39_173_56&#39;)"><span class="hl_vardecl"><span class="mpre">inflateDictionary</span></span></a><span class="mpre">)) </span><a name="loc_173_59_173_61" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_59_173_61&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> = do
    </span><span class="hl_varref"><span class="mpre">withForeignPtr</span></span><span class="mpre"> </span><a href="#loc_173_24_173_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_24_173_29&#39;)"><span class="hl_varref"><span class="mpre">fzstr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_174_29_174_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_29_174_33&#39;)"><span class="hl_vardecl"><span class="mpre">zstr</span></span></a><span class="mpre"> -&gt;
        </span><a href="Data.ByteString.Unsafe.html#loc_311_1_311_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_311_1_311_22&#39;)"><span class="hl_varref"><span class="mpre">unsafeUseAsCStringLen</span></span></a><span class="mpre"> </span><a href="#loc_173_59_173_61" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_59_173_61&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \(</span><a name="loc_175_38_175_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_38_175_42&#39;)"><span class="hl_vardecl"><span class="mpre">cstr</span></span></a><span class="mpre">, </span><a name="loc_175_44_175_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_44_175_47&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre">) -&gt;
            </span><span class="hl_varref"><span class="mpre">c_set_avail_in</span></span><span class="mpre"> </span><a href="#loc_174_29_174_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_29_174_33&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre"> </span><a href="#loc_175_38_175_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_38_175_42&#39;)"><span class="hl_varref"><span class="mpre">cstr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_175_44_175_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_44_175_47&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_204_1_204_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_1_204_6&#39;)"><span class="hl_varref"><span class="mpre">drain</span></span></a><span class="mpre"> </span><a href="#loc_173_31_173_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_31_173_36&#39;)"><span class="hl_varref"><span class="mpre">fbuff</span></span></a><span class="mpre"> </span><a href="#loc_173_24_173_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_24_173_29&#39;)"><span class="hl_varref"><span class="mpre">fzstr</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_173_59_173_61" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_59_173_61&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">) </span><a href="#loc_179_5_179_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_5_179_12&#39;)"><span class="hl_varref"><span class="mpre">inflate</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
  where
    </span><a name="loc_179_5_179_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_5_179_12&#39;)"><span class="hl_fundecl"><span class="mpre">inflate</span></span></a><span class="mpre"> </span><a name="loc_179_13_179_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_13_179_17&#39;)"><span class="hl_vardecl"><span class="mpre">zstr</span></span></a><span class="mpre"> = do
        </span><a name="loc_180_9_180_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_9_180_12&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">c_call_inflate_noflush</span></span><span class="mpre"> </span><a href="#loc_179_13_179_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_13_179_17&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre">
        if (</span><a href="#loc_180_9_180_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_9_180_12&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_93_1_93_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_10&#39;)"><span class="hl_varref"><span class="mpre">zNeedDict</span></span></a><span class="mpre">)
            then </span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> (</span><a href="GHC.IO.html#loc_304_1_304_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_304_1_304_8&#39;)"><span class="hl_varref"><span class="mpre">throwIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_87_22_87_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_22_87_35&#39;)"><span class="hl_conref"><span class="mpre">ZlibException</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_93_1_93_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_93_1_93_10&#39;)"><span class="hl_varref"><span class="mpre">zNeedDict</span></span></a><span class="mpre">) </span><span class="hl_comment"><span class="mpre">-- no dictionary supplied so throw error</span></span><span class="mpre">
                       (\</span><a name="loc_183_26_183_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_26_183_30&#39;)"><span class="hl_vardecl"><span class="mpre">dict</span></span></a><span class="mpre"> -&gt; (</span><a href="Data.ByteString.Unsafe.html#loc_311_1_311_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_311_1_311_22&#39;)"><span class="hl_varref"><span class="mpre">unsafeUseAsCStringLen</span></span></a><span class="mpre"> </span><a href="#loc_183_26_183_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_26_183_30&#39;)"><span class="hl_varref"><span class="mpre">dict</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \(</span><a name="loc_183_66_183_70" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_66_183_70&#39;)"><span class="hl_vardecl"><span class="mpre">cstr</span></span></a><span class="mpre">, </span><a name="loc_183_72_183_75" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_72_183_75&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre">) -&gt; do
                                    </span><span class="hl_varref"><span class="mpre">c_call_inflate_set_dictionary</span></span><span class="mpre"> </span><a href="#loc_179_13_179_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_13_179_17&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre"> </span><a href="#loc_183_66_183_70" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_66_183_70&#39;)"><span class="hl_varref"><span class="mpre">cstr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_183_72_183_75" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_72_183_75&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">
                                    </span><span class="hl_varref"><span class="mpre">c_call_inflate_noflush</span></span><span class="mpre"> </span><a href="#loc_179_13_179_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_13_179_17&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre">))
                       </span><a href="#loc_173_39_173_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_39_173_56&#39;)"><span class="hl_varref"><span class="mpre">inflateDictionary</span></span></a><span class="mpre">
            else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_180_9_180_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_9_180_12&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | An IO action that returns the next chunk of data, returning &#39;Nothing&#39; when</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- there is no more data to be popped.</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/zlib-bindings-0.1.1.5/Codec/Zlib.hs&quot;, srcSpanStartLine = 191, srcSpanStartColumn = 1, srcSpanEndLine = 191, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/zlib-bindings-0.1.1.5/Codec/Zlib.hs&quot;, srcSpanStartLine = 191, srcSpanStartColumn = 1, srcSpanEndLine = 191, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/zlib-bindings-0.1.1.5/Codec/Zlib.hs&quot;, srcSpanStartLi"><span class="mpre">type Popper = IO (Maybe S.ByteString)</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Ensure that the given @ByteString@ is not deallocated.</span></span><span class="mpre">
</span><a href="#loc_195_1_195_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_1_195_10&#39;)"><span class="mpre">keepAlive</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_195_1_195_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_1_195_10&#39;)"><span class="hl_fundecl"><span class="mpre">keepAlive</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">
</span><a href="#loc_195_1_195_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_1_195_10&#39;)"><span class="hl_fundecl"><span class="mpre">keepAlive</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_196_17_196_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_17_196_19&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre">) = </span><a href="Data.ByteString.Unsafe.html#loc_311_1_311_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_311_1_311_22&#39;)"><span class="hl_varref"><span class="mpre">unsafeUseAsCStringLen</span></span></a><span class="mpre"> </span><a href="#loc_196_17_196_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_196_17_196_19&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre">

</span><a href="#loc_204_1_204_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_1_204_6&#39;)"><span class="mpre">drain</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ForeignPtr</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">CChar</span></span><span class="mpre">
      -&gt; </span><span class="hl_tyconref"><span class="mpre">ForeignPtr</span></span><span class="mpre"> </span><a href="Codec.Zlib.Lowlevel.html#loc_29_6_29_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Codec.Zlib.Lowlevel.html#loc_29_6_29_19&#39;)"><span class="hl_tyconref"><span class="mpre">ZStreamStruct</span></span></a><span class="mpre">
      -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">
      -&gt; (</span><span class="hl_tyconref"><span class="mpre">ZStream&#39;</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">CInt</span></span><span class="mpre">)
      -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
      -&gt; </span><span class="hl_tyconref"><span class="mpre">Popper</span></span><span class="mpre">
</span><a name="loc_204_1_204_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_1_204_6&#39;)"><span class="hl_fundecl"><span class="mpre">drain</span></span></a><span class="mpre"> </span><a name="loc_204_7_204_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_7_204_12&#39;)"><span class="hl_vardecl"><span class="mpre">fbuff</span></span></a><span class="mpre"> </span><a name="loc_204_13_204_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_13_204_18&#39;)"><span class="hl_vardecl"><span class="mpre">fzstr</span></span></a><span class="mpre"> </span><a name="loc_204_19_204_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_19_204_22&#39;)"><span class="hl_vardecl"><span class="mpre">mbs</span></span></a><span class="mpre"> </span><a name="loc_204_23_204_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_23_204_27&#39;)"><span class="hl_vardecl"><span class="mpre">func</span></span></a><span class="mpre"> </span><a name="loc_204_28_204_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_28_204_36&#39;)"><span class="hl_vardecl"><span class="mpre">isFinish</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">withForeignPtr</span></span><span class="mpre"> </span><a href="#loc_204_13_204_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_13_204_18&#39;)"><span class="hl_varref"><span class="mpre">fzstr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_204_63_204_67" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_63_204_67&#39;)"><span class="hl_vardecl"><span class="mpre">zstr</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_195_1_195_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_1_195_10&#39;)"><span class="hl_varref"><span class="mpre">keepAlive</span></span></a><span class="mpre"> </span><a href="#loc_204_19_204_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_19_204_22&#39;)"><span class="hl_varref"><span class="mpre">mbs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
    </span><a name="loc_205_5_205_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_205_5_205_8&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_204_23_204_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_23_204_27&#39;)"><span class="hl_varref"><span class="mpre">func</span></span></a><span class="mpre"> </span><a href="#loc_204_63_204_67" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_63_204_67&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre">
    </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> (</span><a href="#loc_205_5_205_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_205_5_205_8&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_205_5_205_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_205_5_205_8&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">/=</span></span><span class="mpre"> </span><a href="#loc_96_1_96_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_1_96_10&#39;)"><span class="hl_varref"><span class="mpre">zBufError</span></span></a><span class="mpre">)
        </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.html#loc_304_1_304_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_304_1_304_8&#39;)"><span class="hl_varref"><span class="mpre">throwIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_87_22_87_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_22_87_35&#39;)"><span class="hl_conref"><span class="mpre">ZlibException</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_205_5_205_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_205_5_205_8&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre">
    </span><a name="loc_208_5_208_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_5_208_10&#39;)"><span class="hl_vardecl"><span class="mpre">avail</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">c_get_avail_out</span></span><span class="mpre"> </span><a href="#loc_204_63_204_67" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_63_204_67&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre">
    let </span><a name="loc_209_9_209_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_9_209_13&#39;)"><span class="hl_vardecl"><span class="mpre">size</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Lazy.Internal.html#loc_208_1_208_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Lazy.Internal.html#loc_208_1_208_17&#39;)"><span class="hl_varref"><span class="mpre">defaultChunkSize</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_208_5_208_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_5_208_10&#39;)"><span class="hl_varref"><span class="mpre">avail</span></span></a><span class="mpre">
        </span><a name="loc_210_9_210_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_9_210_17&#39;)"><span class="hl_vardecl"><span class="mpre">toOutput</span></span></a><span class="mpre"> = </span><a href="#loc_208_5_208_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_5_208_10&#39;)"><span class="hl_varref"><span class="mpre">avail</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">||</span></span><span class="mpre"> (</span><a href="#loc_204_28_204_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_28_204_36&#39;)"><span class="hl_varref"><span class="mpre">isFinish</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_209_9_209_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_9_209_13&#39;)"><span class="hl_varref"><span class="mpre">size</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">/=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">)
    if </span><a href="#loc_210_9_210_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_9_210_17&#39;)"><span class="hl_varref"><span class="mpre">toOutput</span></span></a><span class="mpre">
        then </span><span class="hl_varref"><span class="mpre">withForeignPtr</span></span><span class="mpre"> </span><a href="#loc_204_7_204_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_7_204_12&#39;)"><span class="hl_varref"><span class="mpre">fbuff</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_212_38_212_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_38_212_42&#39;)"><span class="hl_vardecl"><span class="mpre">buff</span></span></a><span class="mpre"> -&gt; do
            </span><a name="loc_213_13_213_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_13_213_15&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">S.packCStringLen</span></span><span class="mpre"> (</span><a href="#loc_212_38_212_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_38_212_42&#39;)"><span class="hl_varref"><span class="mpre">buff</span></span></a><span class="mpre">, </span><a href="#loc_209_9_209_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_9_209_13&#39;)"><span class="hl_varref"><span class="mpre">size</span></span></a><span class="mpre">)
            </span><span class="hl_varref"><span class="mpre">c_set_avail_out</span></span><span class="mpre"> </span><a href="#loc_204_63_204_67" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_63_204_67&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre"> </span><a href="#loc_212_38_212_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_38_212_42&#39;)"><span class="hl_varref"><span class="mpre">buff</span></span></a><span class="mpre">
                </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="Data.ByteString.Lazy.Internal.html#loc_208_1_208_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Lazy.Internal.html#loc_208_1_208_17&#39;)"><span class="hl_varref"><span class="mpre">defaultChunkSize</span></span></a><span class="mpre">
            </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_213_13_213_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_13_213_15&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
        else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | As explained in &#39;feedInflate&#39;, inflation buffers your decompressed</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- data. After you call &#39;feedInflate&#39; with your last chunk of compressed</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- data, you will likely have some data still sitting in the buffer. This</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- function will return it to you.</span></span><span class="mpre">
</span><a href="#loc_225_1_225_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_1_225_14&#39;)"><span class="mpre">finishInflate</span></a><span class="mpre"> :: </span><a href="#loc_59_9_59_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_9_59_16&#39;)"><span class="hl_tyconref"><span class="mpre">Inflate</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">
</span><a name="loc_225_1_225_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_1_225_14&#39;)"><span class="hl_fundecl"><span class="mpre">finishInflate</span></span></a><span class="mpre"> (</span><a href="#loc_59_19_59_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_19_59_26&#39;)"><span class="hl_conref"><span class="mpre">Inflate</span></span></a><span class="mpre"> ((</span><a name="loc_225_26_225_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_26_225_31&#39;)"><span class="hl_vardecl"><span class="mpre">fzstr</span></span></a><span class="mpre">, </span><a name="loc_225_33_225_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_33_225_38&#39;)"><span class="hl_vardecl"><span class="mpre">fbuff</span></span></a><span class="mpre">), _)) =
    </span><span class="hl_varref"><span class="mpre">withForeignPtr</span></span><span class="mpre"> </span><a href="#loc_225_26_225_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_26_225_31&#39;)"><span class="hl_varref"><span class="mpre">fzstr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_226_29_226_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_29_226_33&#39;)"><span class="hl_vardecl"><span class="mpre">zstr</span></span></a><span class="mpre"> -&gt;
        </span><span class="hl_varref"><span class="mpre">withForeignPtr</span></span><span class="mpre"> </span><a href="#loc_225_33_225_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_33_225_38&#39;)"><span class="hl_varref"><span class="mpre">fbuff</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_227_33_227_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_33_227_37&#39;)"><span class="hl_vardecl"><span class="mpre">buff</span></span></a><span class="mpre"> -&gt; do
            </span><a name="loc_228_13_228_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_13_228_18&#39;)"><span class="hl_vardecl"><span class="mpre">avail</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">c_get_avail_out</span></span><span class="mpre"> </span><a href="#loc_226_29_226_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_29_226_33&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre">
            let </span><a name="loc_229_17_229_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_17_229_21&#39;)"><span class="hl_vardecl"><span class="mpre">size</span></span></a><span class="mpre"> = </span><a href="Data.ByteString.Lazy.Internal.html#loc_208_1_208_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Lazy.Internal.html#loc_208_1_208_17&#39;)"><span class="hl_varref"><span class="mpre">defaultChunkSize</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_228_13_228_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_13_228_18&#39;)"><span class="hl_varref"><span class="mpre">avail</span></span></a><span class="mpre">
            </span><a name="loc_230_13_230_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_13_230_15&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">S.packCStringLen</span></span><span class="mpre"> (</span><a href="#loc_227_33_227_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_33_227_37&#39;)"><span class="hl_varref"><span class="mpre">buff</span></span></a><span class="mpre">, </span><a href="#loc_229_17_229_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_17_229_21&#39;)"><span class="hl_varref"><span class="mpre">size</span></span></a><span class="mpre">)
            </span><span class="hl_varref"><span class="mpre">c_set_avail_out</span></span><span class="mpre"> </span><a href="#loc_226_29_226_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_29_226_33&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre"> </span><a href="#loc_227_33_227_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_33_227_37&#39;)"><span class="hl_varref"><span class="mpre">buff</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="Data.ByteString.Lazy.Internal.html#loc_208_1_208_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Lazy.Internal.html#loc_208_1_208_17&#39;)"><span class="hl_varref"><span class="mpre">defaultChunkSize</span></span></a><span class="mpre">
            </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_230_13_230_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_13_230_15&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Flush the inflation buffer. Useful for interactive application.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is actually a synonym for &#39;finishInflate&#39;. It is provided for its more</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- semantic name.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.0.3</span></span><span class="mpre">
</span><a href="#loc_241_1_241_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_1_241_13&#39;)"><span class="mpre">flushInflate</span></a><span class="mpre"> :: </span><a href="#loc_59_9_59_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_9_59_16&#39;)"><span class="hl_tyconref"><span class="mpre">Inflate</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre">
</span><a name="loc_241_1_241_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_1_241_13&#39;)"><span class="hl_vardecl"><span class="mpre">flushInflate</span></span></a><span class="mpre"> = </span><a href="#loc_225_1_225_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_1_225_14&#39;)"><span class="hl_varref"><span class="mpre">finishInflate</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Feed the given &#39;S.ByteString&#39; to the deflater. Return a &#39;Popper&#39;,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- an IO action that returns the compressed data a chunk at a time.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The &#39;Popper&#39; must be called to exhaustion before using the &#39;Deflate&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- object again.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note that this function automatically buffers the output to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;defaultChunkSize&#39;, and therefore you won&#39;t get any data from the popper</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- until that much compressed data is available. After you have fed all of the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- decompressed data to this function, you can extract your final chunks of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- compressed data using &#39;finishDeflate&#39;.</span></span><span class="mpre">
</span><a href="#loc_254_1_254_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_1_254_12&#39;)"><span class="mpre">feedDeflate</span></a><span class="mpre"> :: </span><a href="#loc_63_9_63_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_9_63_16&#39;)"><span class="hl_tyconref"><span class="mpre">Deflate</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">S.ByteString</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Popper</span></span><span class="mpre">
</span><a name="loc_254_1_254_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_1_254_12&#39;)"><span class="hl_fundecl"><span class="mpre">feedDeflate</span></span></a><span class="mpre"> (</span><a href="#loc_63_19_63_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_19_63_26&#39;)"><span class="hl_conref"><span class="mpre">Deflate</span></span></a><span class="mpre"> (</span><a name="loc_254_23_254_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_23_254_28&#39;)"><span class="hl_vardecl"><span class="mpre">fzstr</span></span></a><span class="mpre">, </span><a name="loc_254_30_254_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_30_254_35&#39;)"><span class="hl_vardecl"><span class="mpre">fbuff</span></span></a><span class="mpre">)) </span><a name="loc_254_38_254_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_38_254_40&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> = do
    </span><span class="hl_varref"><span class="mpre">withForeignPtr</span></span><span class="mpre"> </span><a href="#loc_254_23_254_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_23_254_28&#39;)"><span class="hl_varref"><span class="mpre">fzstr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_255_29_255_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_29_255_33&#39;)"><span class="hl_vardecl"><span class="mpre">zstr</span></span></a><span class="mpre"> -&gt;
        </span><a href="Data.ByteString.Unsafe.html#loc_311_1_311_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_311_1_311_22&#39;)"><span class="hl_varref"><span class="mpre">unsafeUseAsCStringLen</span></span></a><span class="mpre"> </span><a href="#loc_254_38_254_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_38_254_40&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \(</span><a name="loc_256_38_256_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_256_38_256_42&#39;)"><span class="hl_vardecl"><span class="mpre">cstr</span></span></a><span class="mpre">, </span><a name="loc_256_44_256_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_256_44_256_47&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre">) -&gt; do
            </span><span class="hl_varref"><span class="mpre">c_set_avail_in</span></span><span class="mpre"> </span><a href="#loc_255_29_255_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_29_255_33&#39;)"><span class="hl_varref"><span class="mpre">zstr</span></span></a><span class="mpre"> </span><a href="#loc_256_38_256_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_256_38_256_42&#39;)"><span class="hl_varref"><span class="mpre">cstr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_256_44_256_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_256_44_256_47&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_204_1_204_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_1_204_6&#39;)"><span class="hl_varref"><span class="mpre">drain</span></span></a><span class="mpre"> </span><a href="#loc_254_30_254_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_30_254_35&#39;)"><span class="hl_varref"><span class="mpre">fbuff</span></span></a><span class="mpre"> </span><a href="#loc_254_23_254_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_23_254_28&#39;)"><span class="hl_varref"><span class="mpre">fzstr</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_254_38_254_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_38_254_40&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">) </span><span class="hl_varref"><span class="mpre">c_call_deflate_noflush</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | As explained in &#39;feedDeflate&#39;, deflation buffers your compressed</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- data. After you call &#39;feedDeflate&#39; with your last chunk of uncompressed</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- data, use this to flush the rest of the data and signal end of input.</span></span><span class="mpre">
</span><a href="#loc_264_1_264_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_1_264_14&#39;)"><span class="mpre">finishDeflate</span></a><span class="mpre"> :: </span><a href="#loc_63_9_63_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_9_63_16&#39;)"><span class="hl_tyconref"><span class="mpre">Deflate</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Popper</span></span><span class="mpre">
</span><a name="loc_264_1_264_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_1_264_14&#39;)"><span class="hl_fundecl"><span class="mpre">finishDeflate</span></span></a><span class="mpre"> (</span><a href="#loc_63_19_63_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_19_63_26&#39;)"><span class="hl_conref"><span class="mpre">Deflate</span></span></a><span class="mpre"> (</span><a name="loc_264_25_264_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_25_264_30&#39;)"><span class="hl_vardecl"><span class="mpre">fzstr</span></span></a><span class="mpre">, </span><a name="loc_264_32_264_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_32_264_37&#39;)"><span class="hl_vardecl"><span class="mpre">fbuff</span></span></a><span class="mpre">)) =
    </span><a href="#loc_204_1_204_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_1_204_6&#39;)"><span class="hl_varref"><span class="mpre">drain</span></span></a><span class="mpre"> </span><a href="#loc_264_32_264_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_32_264_37&#39;)"><span class="hl_varref"><span class="mpre">fbuff</span></span></a><span class="mpre"> </span><a href="#loc_264_25_264_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_25_264_30&#39;)"><span class="hl_varref"><span class="mpre">fzstr</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">c_call_deflate_finish</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Flush the deflation buffer. Useful for interactive application.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Internally this passes Z_SYNC_FLUSH to the zlib library.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Unlike &#39;finishDeflate&#39;, &#39;flushDeflate&#39; does not signal end of input,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- meaning you can feed more uncompressed data afterward.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 0.0.3</span></span><span class="mpre">
</span><a href="#loc_275_1_275_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_1_275_13&#39;)"><span class="mpre">flushDeflate</span></a><span class="mpre"> :: </span><a href="#loc_63_9_63_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_9_63_16&#39;)"><span class="hl_tyconref"><span class="mpre">Deflate</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Popper</span></span><span class="mpre">
</span><a name="loc_275_1_275_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_1_275_13&#39;)"><span class="hl_fundecl"><span class="mpre">flushDeflate</span></span></a><span class="mpre"> (</span><a href="#loc_63_19_63_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_19_63_26&#39;)"><span class="hl_conref"><span class="mpre">Deflate</span></span></a><span class="mpre"> (</span><a name="loc_275_24_275_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_24_275_29&#39;)"><span class="hl_vardecl"><span class="mpre">fzstr</span></span></a><span class="mpre">, </span><a name="loc_275_31_275_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_31_275_36&#39;)"><span class="hl_vardecl"><span class="mpre">fbuff</span></span></a><span class="mpre">)) =
    </span><a href="#loc_204_1_204_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_1_204_6&#39;)"><span class="hl_varref"><span class="mpre">drain</span></span></a><span class="mpre"> </span><a href="#loc_275_31_275_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_31_275_36&#39;)"><span class="hl_varref"><span class="mpre">fbuff</span></span></a><span class="mpre"> </span><a href="#loc_275_24_275_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_24_275_29&#39;)"><span class="hl_varref"><span class="mpre">fzstr</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">c_call_deflate_flush</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">
</span></div></body></html>