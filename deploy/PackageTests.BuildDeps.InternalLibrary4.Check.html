<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">module PackageTests.BuildDeps.InternalLibrary4.Check where

import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/tests/PackageTests/BuildDeps/InternalLibrary4/Check.hs&quot;, srcSpanStartLine = 3, srcSpanStartColumn = 18, srcSpanEndLine = 3, srcSpanEndColumn = 39}, srcInfoPoints = []}) &quot;Data.ByteString.Char8&quot;"><span class="mpre">Data.ByteString.Char8</span></span><span class="mpre"> as C
import PackageTests.PackageTester
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/tests/PackageTests/BuildDeps/InternalLibrary4/Check.hs&quot;, srcSpanStartLine = 5, srcSpanStartColumn = 8, srcSpanEndLine = 5, srcSpanEndColumn = 23}, srcInfoPoints = []}) &quot;System.FilePath&quot;"><span class="mpre">System.FilePath</span></span><span class="mpre">
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/tests/PackageTests/BuildDeps/InternalLibrary4/Check.hs&quot;, srcSpanStartLine = 6, srcSpanStartColumn = 8, srcSpanEndLine = 6, srcSpanEndColumn = 18}, srcInfoPoints = []}) &quot;Test.HUnit&quot;"><span class="mpre">Test.HUnit</span></span><span class="mpre">


</span><a href="#loc_10_1_10_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_10_1_10_6&#39;)"><span class="mpre">suite</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Test</span></span><span class="mpre">
</span><a name="loc_10_1_10_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_10_1_10_6&#39;)"><span class="hl_fundecl"><span class="mpre">suite</span></span></a><span class="mpre"> </span><a name="loc_10_7_10_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_10_7_10_14&#39;)"><span class="hl_vardecl"><span class="mpre">ghcPath</span></span></a><span class="mpre"> </span><a name="loc_10_15_10_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_10_15_10_25&#39;)"><span class="hl_vardecl"><span class="mpre">ghcPkgPath</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">TestCase</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
    let </span><a name="loc_11_9_11_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_9_11_13&#39;)"><span class="hl_vardecl"><span class="mpre">spec</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">PackageSpec</span></span><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;PackageTests&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;BuildDeps&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;InternalLibrary4&quot;</span></span><span class="mpre">) []
    let </span><a name="loc_12_9_12_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_12_9_12_15&#39;)"><span class="hl_vardecl"><span class="mpre">specTI</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">PackageSpec</span></span><span class="mpre"> (</span><a href="PackageTests.PackageTester.html#loc_50_7_50_16" onmouseover="nemnem.highlightLocalToRemote(&#39;PackageTests.PackageTester.html#loc_50_7_50_16&#39;)"><span class="hl_varref"><span class="mpre">directory</span></span></a><span class="mpre"> </span><a href="#loc_11_9_11_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_9_11_13&#39;)"><span class="hl_varref"><span class="mpre">spec</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;to-install&quot;</span></span><span class="mpre">) []

    </span><a href="PackageTests.PackageTester.html#loc_116_1_116_11" onmouseover="nemnem.highlightLocalToRemote(&#39;PackageTests.PackageTester.html#loc_116_1_116_11&#39;)"><span class="hl_varref"><span class="mpre">unregister</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;InternalLibrary4&quot;</span></span><span class="mpre"> </span><a href="#loc_10_15_10_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_10_15_10_25&#39;)"><span class="hl_varref"><span class="mpre">ghcPkgPath</span></span></a><span class="mpre">
    </span><a name="loc_15_5_15_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_15_5_15_12&#39;)"><span class="hl_vardecl"><span class="mpre">iResult</span></span></a><span class="mpre"> &lt;- </span><a href="PackageTests.PackageTester.html#loc_124_1_124_14" onmouseover="nemnem.highlightLocalToRemote(&#39;PackageTests.PackageTester.html#loc_124_1_124_14&#39;)"><span class="hl_varref"><span class="mpre">cabal_install</span></span></a><span class="mpre"> </span><a href="#loc_12_9_12_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_12_9_12_15&#39;)"><span class="hl_varref"><span class="mpre">specTI</span></span></a><span class="mpre"> </span><a href="#loc_10_7_10_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_10_7_10_14&#39;)"><span class="hl_varref"><span class="mpre">ghcPath</span></span></a><span class="mpre">
    </span><a href="PackageTests.PackageTester.html#loc_243_1_243_23" onmouseover="nemnem.highlightLocalToRemote(&#39;PackageTests.PackageTester.html#loc_243_1_243_23&#39;)"><span class="hl_varref"><span class="mpre">assertInstallSucceeded</span></span></a><span class="mpre"> </span><a href="#loc_15_5_15_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_15_5_15_12&#39;)"><span class="hl_varref"><span class="mpre">iResult</span></span></a><span class="mpre">
    </span><a name="loc_17_5_17_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_17_5_17_12&#39;)"><span class="hl_vardecl"><span class="mpre">bResult</span></span></a><span class="mpre"> &lt;- </span><a href="PackageTests.PackageTester.html#loc_110_1_110_12" onmouseover="nemnem.highlightLocalToRemote(&#39;PackageTests.PackageTester.html#loc_110_1_110_12&#39;)"><span class="hl_varref"><span class="mpre">cabal_build</span></span></a><span class="mpre"> </span><a href="#loc_11_9_11_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_9_11_13&#39;)"><span class="hl_varref"><span class="mpre">spec</span></span></a><span class="mpre"> </span><a href="#loc_10_7_10_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_10_7_10_14&#39;)"><span class="hl_varref"><span class="mpre">ghcPath</span></span></a><span class="mpre">
    </span><a href="PackageTests.PackageTester.html#loc_225_1_225_21" onmouseover="nemnem.highlightLocalToRemote(&#39;PackageTests.PackageTester.html#loc_225_1_225_21&#39;)"><span class="hl_varref"><span class="mpre">assertBuildSucceeded</span></span></a><span class="mpre"> </span><a href="#loc_17_5_17_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_17_5_17_12&#39;)"><span class="hl_varref"><span class="mpre">bResult</span></span></a><span class="mpre">
    </span><a href="PackageTests.PackageTester.html#loc_116_1_116_11" onmouseover="nemnem.highlightLocalToRemote(&#39;PackageTests.PackageTester.html#loc_116_1_116_11&#39;)"><span class="hl_varref"><span class="mpre">unregister</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;InternalLibrary4&quot;</span></span><span class="mpre"> </span><a href="#loc_10_15_10_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_10_15_10_25&#39;)"><span class="hl_varref"><span class="mpre">ghcPkgPath</span></span></a><span class="mpre">

    (_, _, </span><a name="loc_21_12_21_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_21_12_21_18&#39;)"><span class="hl_vardecl"><span class="mpre">output</span></span></a><span class="mpre">) &lt;- </span><a href="PackageTests.PackageTester.html#loc_177_1_177_4" onmouseover="nemnem.highlightLocalToRemote(&#39;PackageTests.PackageTester.html#loc_177_1_177_4&#39;)"><span class="hl_varref"><span class="mpre">run</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="PackageTests.PackageTester.html#loc_50_7_50_16" onmouseover="nemnem.highlightLocalToRemote(&#39;PackageTests.PackageTester.html#loc_50_7_50_16&#39;)"><span class="hl_varref"><span class="mpre">directory</span></span></a><span class="mpre"> </span><a href="#loc_11_9_11_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_9_11_13&#39;)"><span class="hl_varref"><span class="mpre">spec</span></span></a><span class="mpre">) (</span><a href="PackageTests.PackageTester.html#loc_50_7_50_16" onmouseover="nemnem.highlightLocalToRemote(&#39;PackageTests.PackageTester.html#loc_50_7_50_16&#39;)"><span class="hl_varref"><span class="mpre">directory</span></span></a><span class="mpre"> </span><a href="#loc_11_9_11_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_9_11_13&#39;)"><span class="hl_varref"><span class="mpre">spec</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;dist&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;build&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;lemon&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;lemon&quot;</span></span><span class="mpre">) []
    </span><span class="hl_varref"><span class="mpre">C.appendFile</span></span><span class="mpre"> (</span><a href="PackageTests.PackageTester.html#loc_50_7_50_16" onmouseover="nemnem.highlightLocalToRemote(&#39;PackageTests.PackageTester.html#loc_50_7_50_16&#39;)"><span class="hl_varref"><span class="mpre">directory</span></span></a><span class="mpre"> </span><a href="#loc_11_9_11_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_11_9_11_13&#39;)"><span class="hl_varref"><span class="mpre">spec</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;test-log.txt&quot;</span></span><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">C.pack</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;\ndist/build/lemon/lemon\n&quot;</span></span><span class="hl_infix"><span class="mpre">++</span></span><a href="#loc_21_12_21_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_21_12_21_18&#39;)"><span class="hl_varref"><span class="mpre">output</span></span></a><span class="mpre">)
    </span><span class="hl_varref"><span class="mpre">assertEqual</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;executable should have linked with the installed library&quot;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;myLibFunc installed&quot;</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">lines</span></span><span class="mpre"> </span><a href="#loc_21_12_21_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_21_12_21_18&#39;)"><span class="hl_varref"><span class="mpre">output</span></span></a><span class="mpre">)

</span></div></body></html>