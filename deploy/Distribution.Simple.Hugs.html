<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Distribution.Simple.Hugs</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  Isaac Jones 2003-2006</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--                Duncan Coutts 2009</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  cabal-devel@haskell.org</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This module contains most of the NHC-specific code for configuring, building</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and installing packages.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{- Copyright (c) 2003-2005, Isaac Jones
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.

    * Redistributions in binary form must reproduce the above
      copyright notice, this list of conditions and the following
      disclaimer in the documentation and/or other materials provided
      with the distribution.

    * Neither the name of Isaac Jones nor the names of other
      contributors may be used to endorse or promote products derived
      from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
&quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -}</span></span><span class="mpre">

module Distribution.Simple.Hugs (
    configure,
    getInstalledPackages,
    buildLib,
    buildExe,
    install,
    registerPackage,
  ) where

import Distribution.Package
         ( </span><a href="Distribution.Package.html#loc_80_9_80_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_80_9_80_20&#39;)"><a href="Distribution.Package.html#loc_80_23_80_34" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_80_23_80_34&#39;)"><span class="mpre">PackageName</span></a></a><span class="mpre">, </span><a href="Distribution.Package.html#loc_102_6_102_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_102_6_102_23&#39;)"><span class="mpre">PackageIdentifier</span></a><span class="mpre">(..), </span><a href="Distribution.Package.html#loc_130_9_130_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_130_9_130_27&#39;)"><span class="mpre">InstalledPackageId</span></a><span class="mpre">(..)
         , </span><a href="Distribution.Package.html#loc_187_1_187_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_187_1_187_12&#39;)"><span class="mpre">packageName</span></a><span class="mpre"> )
import Distribution.InstalledPackageInfo
         ( InstalledPackageInfo, </span><a href="Distribution.InstalledPackageInfo.html#loc_136_1_136_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_136_1_136_26&#39;)"><span class="mpre">emptyInstalledPackageInfo</span></a><span class="mpre">
         , </span><a href="Distribution.InstalledPackageInfo.html#loc_92_6_92_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_92_6_92_27&#39;)"><span class="mpre">InstalledPackageInfo_</span></a><span class="mpre">( InstalledPackageInfo, </span><a href="Distribution.InstalledPackageInfo.html#loc_95_9_95_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_95_9_95_27&#39;)"><span class="mpre">installedPackageId</span></a><span class="mpre">
                                , </span><a href="Distribution.InstalledPackageInfo.html#loc_96_9_96_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_96_9_96_24&#39;)"><span class="mpre">sourcePackageId</span></a><span class="mpre"> )
         , </span><a href="Distribution.InstalledPackageInfo.html#loc_178_1_178_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_178_1_178_26&#39;)"><span class="mpre">parseInstalledPackageInfo</span></a><span class="mpre">, </span><a href="Distribution.InstalledPackageInfo.html#loc_185_1_185_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_185_1_185_25&#39;)"><span class="mpre">showInstalledPackageInfo</span></a><span class="mpre"> )
import Distribution.PackageDescription
         ( </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="mpre">PackageDescription</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="mpre">BuildInfo</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_778_1_778_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_778_1_778_10&#39;)"><span class="mpre">hcOptions</span></a><span class="mpre">, </span><a href="Distribution.PackageDescription.html#loc_762_1_762_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_762_1_762_14&#39;)"><span class="mpre">allExtensions</span></a><span class="mpre">
         , </span><a href="Distribution.PackageDescription.html#loc_347_6_347_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_347_6_347_16&#39;)"><span class="mpre">Executable</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_383_1_383_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_383_1_383_8&#39;)"><span class="mpre">withExe</span></a><span class="mpre">, </span><a href="Distribution.PackageDescription.html#loc_299_6_299_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_299_6_299_13&#39;)"><span class="mpre">Library</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_336_1_336_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_336_1_336_8&#39;)"><span class="mpre">withLib</span></a><span class="mpre">, </span><a href="Distribution.PackageDescription.html#loc_341_1_341_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_341_1_341_11&#39;)"><span class="mpre">libModules</span></a><span class="mpre"> )
import Distribution.ModuleName (</span><a href="Distribution.ModuleName.html#loc_67_9_67_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_67_9_67_19&#39;)"><span class="mpre">ModuleName</span></a><span class="mpre">)
import qualified Distribution.ModuleName as ModuleName
import Distribution.Simple.Compiler
         ( </span><a href="Distribution.Compiler.html#loc_81_6_81_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_6_81_20&#39;)"><span class="mpre">CompilerFlavor</span></a><span class="mpre">(..), </span><a href="Distribution.Compiler.html#loc_154_6_154_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_154_6_154_16&#39;)"><span class="mpre">CompilerId</span></a><span class="mpre">(..)
         , </span><a href="Distribution.Simple.Compiler.html#loc_85_6_85_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_85_6_85_14&#39;)"><span class="mpre">Compiler</span></a><span class="mpre">(..), Flag, </span><a href="Distribution.Simple.Compiler.html#loc_188_1_188_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_188_1_188_16&#39;)"><span class="mpre">languageToFlags</span></a><span class="mpre">, </span><a href="Distribution.Simple.Compiler.html#loc_206_1_206_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_206_1_206_18&#39;)"><span class="mpre">extensionsToFlags</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Compiler.html#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_6_112_15&#39;)"><span class="mpre">PackageDB</span></a><span class="mpre">(..), PackageDBStack )
import qualified Distribution.Simple.PackageIndex as PackageIndex
import Distribution.Simple.PackageIndex (</span><a href="Distribution.Simple.PackageIndex.html#loc_94_6_94_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PackageIndex.html#loc_94_6_94_18&#39;)"><span class="mpre">PackageIndex</span></a><span class="mpre">)
import Distribution.Simple.Program
         ( </span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="mpre">Program</span></a><span class="mpre">(programFindVersion)
         , ProgramConfiguration, </span><a href="Distribution.Simple.Program.Db.html#loc_203_1_203_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_203_1_203_21&#39;)"><span class="mpre">userMaybeSpecifyPath</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Program.Db.html#loc_371_1_371_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_371_1_371_15&#39;)"><span class="mpre">requireProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Db.html#loc_399_1_399_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_399_1_399_22&#39;)"><span class="mpre">requireProgramVersion</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Program.html#loc_205_1_205_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_205_1_205_21&#39;)"><span class="mpre">rawSystemProgramConf</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Types.html#loc_115_1_115_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_115_1_115_12&#39;)"><span class="mpre">programPath</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Program.Builtin.html#loc_176_1_176_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_176_1_176_15&#39;)"><span class="mpre">ffihugsProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Builtin.html#loc_173_1_173_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_173_1_173_12&#39;)"><span class="mpre">hugsProgram</span></a><span class="mpre"> )
import Distribution.Version
         ( </span><a href="Data.Version.html#loc_68_6_68_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Version.html#loc_68_6_68_13&#39;)"><span class="mpre">Version</span></a><span class="mpre">(..), </span><a href="Distribution.Version.html#loc_182_1_182_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Version.html#loc_182_1_182_15&#39;)"><span class="mpre">orLaterVersion</span></a><span class="mpre"> )
import Distribution.Simple.PreProcess   ( </span><a href="Distribution.Simple.PreProcess.html#loc_362_1_362_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PreProcess.html#loc_362_1_362_6&#39;)"><span class="mpre">ppCpp</span></a><span class="mpre">, </span><a href="Distribution.Simple.PreProcess.html#loc_171_1_171_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PreProcess.html#loc_171_1_171_22&#39;)"><span class="mpre">runSimplePreProcessor</span></a><span class="mpre"> )
import Distribution.Simple.PreProcess.Unlit
                                ( </span><a href="Distribution.Simple.PreProcess.Unlit.html#loc_66_1_66_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PreProcess.Unlit.html#loc_66_1_66_6&#39;)"><span class="mpre">unlit</span></a><span class="mpre"> )
import Distribution.Simple.LocalBuildInfo
         ( </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="mpre">LocalBuildInfo</span></a><span class="mpre">(..), </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29&#39;)"><span class="mpre">ComponentLocalBuildInfo</span></a><span class="mpre">(..)
         , </span><a href="Distribution.Simple.InstallDirs.html#loc_105_6_105_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.InstallDirs.html#loc_105_6_105_17&#39;)"><span class="mpre">InstallDirs</span></a><span class="mpre">(..), </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_416_1_416_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_416_1_416_20&#39;)"><span class="mpre">absoluteInstallDirs</span></a><span class="mpre"> )
import Distribution.Simple.BuildPaths
                                ( </span><a href="Distribution.Simple.BuildPaths.html#loc_101_1_101_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_101_1_101_18&#39;)"><span class="mpre">autogenModuleName</span></a><span class="mpre">, </span><a href="Distribution.Simple.BuildPaths.html#loc_94_1_94_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_94_1_94_18&#39;)"><span class="mpre">autogenModulesDir</span></a><span class="mpre">,
                                  </span><a href="Distribution.Simple.BuildPaths.html#loc_148_1_148_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_148_1_148_13&#39;)"><span class="mpre">dllExtension</span></a><span class="mpre"> )
import Distribution.Simple.Setup
         ( </span><a href="Distribution.Simple.InstallDirs.html#loc_330_6_330_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.InstallDirs.html#loc_330_6_330_14&#39;)"><span class="mpre">CopyDest</span></a><span class="mpre">(..) )
import Distribution.Simple.Utils
         ( </span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="mpre">createDirectoryIfMissingVerbose</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Utils.html#loc_949_1_949_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_949_1_949_21&#39;)"><span class="mpre">installOrdinaryFiles</span></a><span class="mpre">, </span><a href="Distribution.Compat.CopyFile.html#loc_49_1_49_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compat.CopyFile.html#loc_49_1_49_18&#39;)"><span class="mpre">setFileExecutable</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Utils.html#loc_1249_1_1249_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1249_1_1249_21&#39;)"><span class="mpre">withUTF8FileContents</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_1071_1_1071_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1071_1_1071_16&#39;)"><span class="mpre">writeFileAtomic</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_1260_1_1260_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1260_1_1260_14&#39;)"><span class="mpre">writeUTF8File</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Utils.html#loc_868_1_868_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_868_1_868_16&#39;)"><span class="mpre">copyFileVerbose</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_646_1_646_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_646_1_646_9&#39;)"><span class="mpre">findFile</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_660_1_660_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_660_1_660_22&#39;)"><span class="mpre">findFileWithExtension</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_695_1_695_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_695_1_695_16&#39;)"><span class="mpre">findModuleFiles</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Utils.html#loc_520_1_520_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_520_1_520_18&#39;)"><span class="mpre">rawSystemStdInOut</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="mpre">die</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_305_1_305_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_305_1_305_5&#39;)"><span class="mpre">info</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_292_1_292_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_292_1_292_7&#39;)"><span class="mpre">notice</span></a><span class="mpre"> )
import Language.Haskell.Extension
         ( </span><a href="Language.Haskell.Extension.html#loc_69_6_69_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_69_6_69_14&#39;)"><span class="mpre">Language</span></a><span class="mpre">(</span><a href="Language.Haskell.Extension.html#loc_73_6_73_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_73_6_73_15&#39;)"><span class="mpre">Haskell98</span></a><span class="mpre">), </span><a href="Language.Haskell.Extension.html#loc_118_6_118_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_118_6_118_15&#39;)"><span class="mpre">Extension</span></a><span class="mpre">(..), </span><a href="Language.Haskell.Extension.html#loc_131_6_131_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_131_6_131_20&#39;)"><span class="mpre">KnownExtension</span></a><span class="mpre">(..) )
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Hugs.hs&quot;, srcSpanStartLine = 100, srcSpanStartColumn = 8, srcSpanEndLine = 100, srcSpanEndColumn = 23}, srcInfoPoints = []}) &quot;System.FilePath&quot;"><span class="mpre">System.FilePath</span></span><span class="mpre">          ( (&lt;/&gt;), takeExtension, (&lt;.&gt;),
                                  searchPathSeparator, normalise, takeDirectory )
import Distribution.System
         ( </span><a href="Distribution.System.html#loc_66_6_66_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_66_6_66_8&#39;)"><span class="mpre">OS</span></a><span class="mpre">(..), </span><a href="Distribution.System.html#loc_112_1_112_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_112_1_112_8&#39;)"><span class="mpre">buildOS</span></a><span class="mpre"> )
import Distribution.Text
         ( </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="mpre">display</span></a><span class="mpre">, </span><a href="Distribution.Text.html#loc_39_1_39_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_39_1_39_12&#39;)"><span class="mpre">simpleParse</span></a><span class="mpre"> )
import Distribution.ParseUtils
         ( </span><a href="Distribution.ParseUtils.html#loc_116_6_116_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ParseUtils.html#loc_116_6_116_17&#39;)"><span class="mpre">ParseResult</span></a><span class="mpre">(..) )
import Distribution.Verbosity

import Data.Char                ( </span><a href="GHC.Unicode.html#loc_72_1_72_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Unicode.html#loc_72_1_72_8&#39;)"><span class="mpre">isSpace</span></a><span class="mpre"> )
import Data.Maybe               ( </span><a href="Data.Maybe.html#loc_123_1_123_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_123_1_123_9&#39;)"><span class="mpre">mapMaybe</span></a><span class="mpre">, </span><a href="Data.Maybe.html#loc_115_1_115_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_115_1_115_10&#39;)"><span class="mpre">catMaybes</span></a><span class="mpre"> )
import Data.Monoid              ( </span><a href="Data.Monoid.html#loc_79_7_79_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_79_7_79_13&#39;)"><span class="mpre">Monoid</span></a><span class="mpre">(..) )
import Control.Monad            ( </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="mpre">unless</span></a><span class="mpre">, </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="mpre">when</span></a><span class="mpre">, </span><a href="Control.Monad.html#loc_154_1_154_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_154_1_154_8&#39;)"><span class="mpre">filterM</span></a><span class="mpre"> )
import Data.List                ( </span><a href="Data.List.html#loc_314_1_314_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_314_1_314_4&#39;)"><span class="mpre">nub</span></a><span class="mpre">, </span><a href="Data.List.html#loc_809_1_809_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_809_1_809_5&#39;)"><span class="mpre">sort</span></a><span class="mpre">, </span><a href="Data.List.html#loc_294_1_294_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_294_1_294_11&#39;)"><span class="mpre">isSuffixOf</span></a><span class="mpre"> )
import System.Directory
         ( </span><a href="System.Directory.html#loc_726_1_726_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_726_1_726_14&#39;)"><span class="mpre">doesFileExist</span></a><span class="mpre">, </span><a href="System.Directory.html#loc_717_1_717_19" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_717_1_717_19&#39;)"><span class="mpre">doesDirectoryExist</span></a><span class="mpre">, </span><a href="System.Directory.html#loc_628_1_628_21" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_628_1_628_21&#39;)"><span class="mpre">getDirectoryContents</span></a><span class="mpre">
         , </span><a href="System.Directory.html#loc_351_1_351_25" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_351_1_351_25&#39;)"><span class="mpre">removeDirectoryRecursive</span></a><span class="mpre">, </span><a href="System.Directory.html#loc_809_1_809_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_809_1_809_17&#39;)"><span class="mpre">getHomeDirectory</span></a><span class="mpre"> )
import System.Exit
         ( </span><a href="GHC.IO.Exception.html#loc_205_6_205_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Exception.html#loc_205_6_205_14&#39;)"><span class="mpre">ExitCode</span></a><span class="mpre">(</span><a href="GHC.IO.Exception.html#loc_206_5_206_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Exception.html#loc_206_5_206_16&#39;)"><span class="mpre">ExitSuccess</span></a><span class="mpre">) )
import Distribution.Compat.Exception
import Distribution.System ( </span><a href="Distribution.System.html#loc_164_6_164_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_164_6_164_14&#39;)"><a href="Distribution.System.html#loc_164_17_164_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_164_17_164_25&#39;)"><span class="mpre">Platform</span></a></a><span class="mpre"> )

import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Hugs.hs&quot;, srcSpanStartLine = 123, srcSpanStartColumn = 18, srcSpanEndLine = 123, srcSpanEndColumn = 44}, srcInfoPoints = []}) &quot;Data.ByteString.Lazy.Char8&quot;"><span class="mpre">Data.ByteString.Lazy.Char8</span></span><span class="mpre"> as BS.Char8

</span><span class="hl_comment"><span class="mpre">-- -----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Configuring</span></span><span class="mpre">

</span><a href="#loc_130_1_130_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_1_130_10&#39;)"><span class="mpre">configure</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
          -&gt; </span><span class="hl_tyconref"><span class="mpre">ProgramConfiguration</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><a href="Distribution.Simple.Compiler.html#loc_85_6_85_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_85_6_85_14&#39;)"><span class="hl_tyconref"><span class="mpre">Compiler</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Distribution.System.html#loc_164_6_164_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_164_6_164_14&#39;)"><span class="hl_tyconref"><span class="mpre">Platform</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">ProgramConfiguration</span></span><span class="mpre">)
</span><a name="loc_130_1_130_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_1_130_10&#39;)"><span class="hl_fundecl"><span class="mpre">configure</span></span></a><span class="mpre"> </span><a name="loc_130_11_130_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_11_130_20&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_130_21_130_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_21_130_27&#39;)"><span class="hl_vardecl"><span class="mpre">hcPath</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_hcPkgPath</span></span><span class="mpre"> </span><a name="loc_130_39_130_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_39_130_43&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre"> = do

  (</span><span class="hl_vardecl"><span class="mpre">_ffihugsProg</span></span><span class="mpre">, </span><a name="loc_132_18_132_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_18_132_23&#39;)"><span class="hl_vardecl"><span class="mpre">conf&#39;</span></span></a><span class="mpre">) &lt;- </span><a href="Distribution.Simple.Program.Db.html#loc_371_1_371_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_371_1_371_15&#39;)"><span class="hl_varref"><span class="mpre">requireProgram</span></span></a><span class="mpre"> </span><a href="#loc_130_11_130_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_11_130_20&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_176_1_176_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_176_1_176_15&#39;)"><span class="hl_varref"><span class="mpre">ffihugsProgram</span></span></a><span class="mpre">
                            (</span><a href="Distribution.Simple.Program.Db.html#loc_203_1_203_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_203_1_203_21&#39;)"><span class="hl_varref"><span class="mpre">userMaybeSpecifyPath</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;ffihugs&quot;</span></span><span class="mpre"> </span><a href="#loc_130_21_130_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_21_130_27&#39;)"><span class="hl_varref"><span class="mpre">hcPath</span></span></a><span class="mpre"> </span><a href="#loc_130_39_130_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_39_130_43&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">)
  (</span><span class="hl_vardecl"><span class="mpre">_hugsProg</span></span><span class="mpre">, </span><span class="hl_vardecl"><span class="mpre">version</span></span><span class="mpre">, </span><a name="loc_134_24_134_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_24_134_30&#39;)"><span class="hl_vardecl"><span class="mpre">conf&#39;&#39;</span></span></a><span class="mpre">)
                        &lt;- </span><a href="Distribution.Simple.Program.Db.html#loc_399_1_399_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_399_1_399_22&#39;)"><span class="hl_varref"><span class="mpre">requireProgramVersion</span></span></a><span class="mpre"> </span><a href="#loc_130_11_130_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_11_130_20&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_147_5_147_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_5_147_17&#39;)"><span class="hl_varref"><span class="mpre">hugsProgram&#39;</span></span></a><span class="mpre">
                            (</span><a href="Distribution.Version.html#loc_182_1_182_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Version.html#loc_182_1_182_15&#39;)"><span class="hl_varref"><span class="mpre">orLaterVersion</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Version</span></span><span class="mpre"> [</span><span class="hl_num"><span class="mpre">2006</span></span><span class="mpre">] [])) </span><a href="#loc_132_18_132_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_18_132_23&#39;)"><span class="hl_varref"><span class="mpre">conf&#39;</span></span></a><span class="mpre">

  let </span><a name="loc_138_7_138_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_7_138_11&#39;)"><span class="hl_vardecl"><span class="mpre">comp</span></span></a><span class="mpre"> = </span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Hugs.hs&quot;, srcSpanStartLine = 138, srcSpanStartColumn = 14, srcSpanEndLine = 142, srcSpanEndColumn = 8}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Hugs.hs&quot;, srcSpanStartLine = 138, srcSpanStartColumn = 23, srcSpanEndLine = 138, srcSpanEndColumn = 24},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/"><span class="mpre">Compiler {
        compilerId             = CompilerId Hugs version,
        compilerLanguages      = hugsLanguages,
        compilerExtensions     = hugsLanguageExtensions
      }</span></span><span class="mpre">
      </span><a name="loc_143_7_143_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_7_143_19&#39;)"><span class="hl_vardecl"><span class="mpre">compPlatform</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_138_7_138_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_7_138_11&#39;)"><span class="hl_varref"><span class="mpre">comp</span></span></a><span class="mpre">, </span><a href="#loc_143_7_143_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_7_143_19&#39;)"><span class="hl_varref"><span class="mpre">compPlatform</span></span></a><span class="mpre">, </span><a href="#loc_134_24_134_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_24_134_30&#39;)"><span class="hl_varref"><span class="mpre">conf&#39;&#39;</span></span></a><span class="mpre">)

  where
    </span><a name="loc_147_5_147_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_147_5_147_17&#39;)"><span class="hl_vardecl"><span class="mpre">hugsProgram&#39;</span></span></a><span class="mpre"> = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Hugs.hs&quot;, srcSpanStartLine = 147, srcSpanStartColumn = 20, srcSpanEndLine = 147, srcSpanEndColumn = 67}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Hugs.hs&quot;, srcSpanStartLine = 147, srcSpanStartColumn = 32, srcSpanEndLine = 147, srcSpanEndColumn = 33},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple"><span class="mpre">hugsProgram { programFindVersion = getVersion }</span></span><span class="mpre">

</span><a href="#loc_150_1_150_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_11&#39;)"><span class="mpre">getVersion</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Data.Version.html#loc_68_6_68_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Version.html#loc_68_6_68_13&#39;)"><span class="hl_tyconref"><span class="mpre">Version</span></span></a><span class="mpre">)
</span><a name="loc_150_1_150_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_11&#39;)"><span class="hl_fundecl"><span class="mpre">getVersion</span></span></a><span class="mpre"> </span><a name="loc_150_12_150_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_12_150_21&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_150_22_150_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_22_150_30&#39;)"><span class="hl_vardecl"><span class="mpre">hugsPath</span></span></a><span class="mpre"> = do
  (</span><a name="loc_151_4_151_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_4_151_10&#39;)"><span class="hl_vardecl"><span class="mpre">output</span></span></a><span class="mpre">, </span><span class="hl_vardecl"><span class="mpre">_err</span></span><span class="mpre">, </span><a name="loc_151_18_151_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_18_151_22&#39;)"><span class="hl_vardecl"><span class="mpre">exit</span></span></a><span class="mpre">) &lt;- </span><a href="Distribution.Simple.Utils.html#loc_520_1_520_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_520_1_520_18&#39;)"><span class="hl_varref"><span class="mpre">rawSystemStdInOut</span></span></a><span class="mpre"> </span><a href="#loc_150_12_150_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_12_150_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_150_22_150_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_22_150_30&#39;)"><span class="hl_varref"><span class="mpre">hugsPath</span></span></a><span class="mpre"> []
                              </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
                              (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;:quit&quot;</span></span><span class="mpre">, </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">)) </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
  if </span><a href="#loc_151_18_151_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_18_151_22&#39;)"><span class="hl_varref"><span class="mpre">exit</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="GHC.IO.Exception.html#loc_206_5_206_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Exception.html#loc_206_5_206_16&#39;)"><span class="hl_conref"><span class="mpre">ExitSuccess</span></span></a><span class="mpre">
    then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_159_5_159_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_5_159_16&#39;)"><span class="hl_varref"><span class="mpre">findVersion</span></span></a><span class="mpre"> </span><a href="#loc_151_4_151_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_151_4_151_10&#39;)"><span class="hl_varref"><span class="mpre">output</span></span></a><span class="mpre">
    else </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">

  where
    </span><a name="loc_159_5_159_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_5_159_16&#39;)"><span class="hl_fundecl"><span class="mpre">findVersion</span></span></a><span class="mpre"> </span><a name="loc_159_17_159_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_17_159_23&#39;)"><span class="hl_vardecl"><span class="mpre">output</span></span></a><span class="mpre"> = do
      (</span><a name="loc_160_8_160_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_8_160_16&#39;)"><span class="hl_vardecl"><span class="mpre">monthStr</span></span></a><span class="mpre">, </span><a name="loc_160_18_160_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_18_160_25&#39;)"><span class="hl_vardecl"><span class="mpre">yearStr</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_165_5_165_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_5_165_16&#39;)"><span class="hl_varref"><span class="mpre">selectWords</span></span></a><span class="mpre"> </span><a href="#loc_159_17_159_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_159_17_159_23&#39;)"><span class="hl_varref"><span class="mpre">output</span></span></a><span class="mpre">
      </span><a name="loc_161_7_161_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_7_161_11&#39;)"><span class="hl_vardecl"><span class="mpre">year</span></span></a><span class="mpre">  &lt;- </span><a href="#loc_170_5_170_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_5_170_16&#39;)"><span class="hl_varref"><span class="mpre">convertYear</span></span></a><span class="mpre"> </span><a href="#loc_160_18_160_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_18_160_25&#39;)"><span class="hl_varref"><span class="mpre">yearStr</span></span></a><span class="mpre">
      </span><a name="loc_162_7_162_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_7_162_12&#39;)"><span class="hl_vardecl"><span class="mpre">month</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_173_5_173_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_5_173_17&#39;)"><span class="hl_varref"><span class="mpre">convertMonth</span></span></a><span class="mpre"> </span><a href="#loc_160_8_160_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_160_8_160_16&#39;)"><span class="hl_varref"><span class="mpre">monthStr</span></span></a><span class="mpre">
      </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Version</span></span><span class="mpre"> [</span><a href="#loc_161_7_161_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_7_161_11&#39;)"><span class="hl_varref"><span class="mpre">year</span></span></a><span class="mpre">, </span><a href="#loc_162_7_162_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_162_7_162_12&#39;)"><span class="hl_varref"><span class="mpre">month</span></span></a><span class="mpre">] [])

    </span><a name="loc_165_5_165_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_5_165_16&#39;)"><span class="hl_fundecl"><span class="mpre">selectWords</span></span></a><span class="mpre"> </span><a name="loc_165_17_165_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_17_165_23&#39;)"><span class="hl_vardecl"><span class="mpre">output</span></span></a><span class="mpre"> =
      case [ (</span><a href="#loc_167_31_167_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_31_167_36&#39;)"><span class="hl_varref"><span class="mpre">month</span></span></a><span class="mpre">, </span><a href="#loc_167_38_167_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_38_167_42&#39;)"><span class="hl_varref"><span class="mpre">year</span></span></a><span class="mpre">)
           | [_,_,</span><span class="hl_string"><span class="mpre">&quot;Version:&quot;</span></span><span class="mpre">, </span><a name="loc_167_31_167_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_31_167_36&#39;)"><span class="hl_vardecl"><span class="mpre">month</span></span></a><span class="mpre">, </span><a name="loc_167_38_167_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_38_167_42&#39;)"><span class="hl_vardecl"><span class="mpre">year</span></span></a><span class="mpre">,_] &lt;- </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">words</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">lines</span></span><span class="mpre"> </span><a href="#loc_165_17_165_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_17_165_23&#39;)"><span class="hl_varref"><span class="mpre">output</span></span></a><span class="mpre">) ] of
        [(</span><a name="loc_168_11_168_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_11_168_16&#39;)"><span class="hl_vardecl"><span class="mpre">month</span></span></a><span class="mpre">, </span><a name="loc_168_18_168_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_18_168_22&#39;)"><span class="hl_vardecl"><span class="mpre">year</span></span></a><span class="mpre">)] -&gt; </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><a href="#loc_168_11_168_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_11_168_16&#39;)"><span class="hl_varref"><span class="mpre">month</span></span></a><span class="mpre">, </span><a href="#loc_168_18_168_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_18_168_22&#39;)"><span class="hl_varref"><span class="mpre">year</span></span></a><span class="mpre">)
        _               -&gt; </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
    </span><a name="loc_170_5_170_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_5_170_16&#39;)"><span class="hl_fundecl"><span class="mpre">convertYear</span></span></a><span class="mpre"> </span><a name="loc_170_17_170_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_17_170_21&#39;)"><span class="hl_vardecl"><span class="mpre">year</span></span></a><span class="mpre"> = case </span><span class="hl_varref"><span class="mpre">reads</span></span><span class="mpre"> </span><a href="#loc_170_17_170_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_17_170_21&#39;)"><span class="hl_varref"><span class="mpre">year</span></span></a><span class="mpre"> of
      [(</span><a name="loc_171_9_171_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_9_171_10&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">, [])] | </span><a href="#loc_171_9_171_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_9_171_10&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1999</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_171_9_171_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_9_171_10&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">2020</span></span><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_171_9_171_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_9_171_10&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">
      _                                 -&gt; </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
    </span><a name="loc_173_5_173_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_5_173_17&#39;)"><span class="hl_fundecl"><span class="mpre">convertMonth</span></span></a><span class="mpre"> </span><a name="loc_173_18_173_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_18_173_23&#39;)"><span class="hl_vardecl"><span class="mpre">month</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">lookup</span></span><span class="mpre"> </span><a href="#loc_173_18_173_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_18_173_23&#39;)"><span class="hl_varref"><span class="mpre">month</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">zip</span></span><span class="mpre"> </span><a href="#loc_174_5_174_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_5_174_11&#39;)"><span class="hl_varref"><span class="mpre">months</span></span></a><span class="mpre"> </span><span class="warning" data-warning="ExpEnumFrom (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Hugs.hs&quot;, srcSpanStartLine = 173, srcSpanStartColumn = 51, srcSpanEndLine = 173, srcSpanEndColumn = 56}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Hugs.hs&quot;, srcSpanStartLine = 173, srcSpanStartColumn = 51, srcSpanEndLine = 173, srcSpanEndColumn = 52},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/"><span class="mpre">[1..]</span></span><span class="mpre">)
    </span><a name="loc_174_5_174_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_5_174_11&#39;)"><span class="hl_vardecl"><span class="mpre">months</span></span></a><span class="mpre"> = [ </span><span class="hl_string"><span class="mpre">&quot;January&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;February&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;March&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;April&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;May&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;June&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;July&quot;</span></span><span class="mpre">
             , </span><span class="hl_string"><span class="mpre">&quot;August&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;September&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;October&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;November&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;December&quot;</span></span><span class="mpre"> ]

</span><a href="#loc_178_1_178_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_1_178_14&#39;)"><span class="mpre">hugsLanguages</span></a><span class="mpre"> :: [(</span><a href="Language.Haskell.Extension.html#loc_69_6_69_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_69_6_69_14&#39;)"><span class="hl_tyconref"><span class="mpre">Language</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Flag</span></span><span class="mpre">)]
</span><a name="loc_178_1_178_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_1_178_14&#39;)"><span class="hl_vardecl"><span class="mpre">hugsLanguages</span></span></a><span class="mpre"> = [(</span><a href="Language.Haskell.Extension.html#loc_73_6_73_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_73_6_73_15&#39;)"><span class="hl_conref"><span class="mpre">Haskell98</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">)] </span><span class="hl_comment"><span class="mpre">--default is 98 mode</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The flags for the supported extensions</span></span><span class="mpre">
</span><a href="#loc_182_1_182_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_1_182_23&#39;)"><span class="mpre">hugsLanguageExtensions</span></a><span class="mpre"> :: [(</span><a href="Language.Haskell.Extension.html#loc_118_6_118_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_118_6_118_15&#39;)"><span class="hl_tyconref"><span class="mpre">Extension</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Flag</span></span><span class="mpre">)]
</span><a name="loc_182_1_182_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_1_182_23&#39;)"><span class="hl_vardecl"><span class="mpre">hugsLanguageExtensions</span></span></a><span class="mpre"> =
    let </span><a name="loc_183_9_183_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_9_183_15&#39;)"><span class="hl_fundecl"><span class="mpre">doFlag</span></span></a><span class="mpre"> (</span><a name="loc_183_17_183_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_17_183_18&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre">, (</span><a name="loc_183_21_183_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_21_183_27&#39;)"><span class="hl_vardecl"><span class="mpre">enable</span></span></a><span class="mpre">, </span><a name="loc_183_29_183_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_29_183_36&#39;)"><span class="hl_vardecl"><span class="mpre">disable</span></span></a><span class="mpre">)) = [(</span><a href="Language.Haskell.Extension.html#loc_120_5_120_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_120_5_120_20&#39;)"><span class="hl_conref"><span class="mpre">EnableExtension</span></span></a><span class="mpre">  </span><a href="#loc_183_17_183_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_17_183_18&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">, </span><a href="#loc_183_21_183_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_21_183_27&#39;)"><span class="hl_varref"><span class="mpre">enable</span></span></a><span class="mpre">),
                                         (</span><a href="Language.Haskell.Extension.html#loc_123_5_123_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_123_5_123_21&#39;)"><span class="hl_conref"><span class="mpre">DisableExtension</span></span></a><span class="mpre"> </span><a href="#loc_183_17_183_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_17_183_18&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">, </span><a href="#loc_183_29_183_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_29_183_36&#39;)"><span class="hl_varref"><span class="mpre">disable</span></span></a><span class="mpre">)]
        </span><a name="loc_185_9_185_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_9_185_17&#39;)"><span class="hl_vardecl"><span class="mpre">alwaysOn</span></span></a><span class="mpre"> = (</span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="hl_comment"><span class="mpre">{- wrong -}</span></span><span class="mpre">)
        </span><a name="loc_186_9_186_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_9_186_14&#39;)"><span class="hl_vardecl"><span class="mpre">ext98</span></span></a><span class="mpre"> = (</span><span class="hl_string"><span class="mpre">&quot;-98&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="hl_comment"><span class="mpre">{- wrong -}</span></span><span class="mpre">)
    in </span><span class="hl_varref"><span class="mpre">concatMap</span></span><span class="mpre"> </span><a href="#loc_183_9_183_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_9_183_15&#39;)"><span class="hl_varref"><span class="mpre">doFlag</span></span></a><span class="mpre">
    [(</span><a href="Language.Haskell.Extension.html#loc_137_5_137_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_137_5_137_25&#39;)"><span class="hl_conref"><span class="mpre">OverlappingInstances</span></span></a><span class="mpre">       , (</span><span class="hl_string"><span class="mpre">&quot;+o&quot;</span></span><span class="mpre">,  </span><span class="hl_string"><span class="mpre">&quot;-o&quot;</span></span><span class="mpre">))
    ,(</span><a href="Language.Haskell.Extension.html#loc_153_5_153_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_153_5_153_24&#39;)"><span class="hl_conref"><span class="mpre">IncoherentInstances</span></span></a><span class="mpre">        , (</span><span class="hl_string"><span class="mpre">&quot;+oO&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;-O&quot;</span></span><span class="mpre">))
    ,(</span><a href="Language.Haskell.Extension.html#loc_335_5_335_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_335_5_335_18&#39;)"><span class="hl_conref"><span class="mpre">HereDocuments</span></span></a><span class="mpre">              , (</span><span class="hl_string"><span class="mpre">&quot;+H&quot;</span></span><span class="mpre">,  </span><span class="hl_string"><span class="mpre">&quot;-H&quot;</span></span><span class="mpre">))
    ,(</span><a href="Language.Haskell.Extension.html#loc_266_5_266_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_266_5_266_25&#39;)"><span class="hl_conref"><span class="mpre">TypeSynonymInstances</span></span></a><span class="mpre">       , </span><a href="#loc_186_9_186_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_9_186_14&#39;)"><span class="hl_varref"><span class="mpre">ext98</span></span></a><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_163_5_163_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_163_5_163_16&#39;)"><span class="hl_conref"><span class="mpre">RecursiveDo</span></span></a><span class="mpre">                , </span><a href="#loc_186_9_186_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_9_186_14&#39;)"><span class="hl_varref"><span class="mpre">ext98</span></span></a><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_170_5_170_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_170_5_170_21&#39;)"><span class="hl_conref"><span class="mpre">ParallelListComp</span></span></a><span class="mpre">           , </span><a href="#loc_186_9_186_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_9_186_14&#39;)"><span class="hl_varref"><span class="mpre">ext98</span></span></a><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_175_5_175_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_175_5_175_26&#39;)"><span class="hl_conref"><span class="mpre">MultiParamTypeClasses</span></span></a><span class="mpre">      , </span><a href="#loc_186_9_186_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_9_186_14&#39;)"><span class="hl_varref"><span class="mpre">ext98</span></span></a><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_189_5_189_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_189_5_189_27&#39;)"><span class="hl_conref"><span class="mpre">FunctionalDependencies</span></span></a><span class="mpre">     , </span><a href="#loc_186_9_186_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_9_186_14&#39;)"><span class="hl_varref"><span class="mpre">ext98</span></span></a><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_195_5_195_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_195_5_195_15&#39;)"><span class="hl_conref"><span class="mpre">Rank2Types</span></span></a><span class="mpre">                 , </span><a href="#loc_186_9_186_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_9_186_14&#39;)"><span class="hl_varref"><span class="mpre">ext98</span></span></a><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_207_5_207_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_207_5_207_26&#39;)"><span class="hl_conref"><span class="mpre">PolymorphicComponents</span></span></a><span class="mpre">      , </span><a href="#loc_186_9_186_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_9_186_14&#39;)"><span class="hl_varref"><span class="mpre">ext98</span></span></a><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_212_5_212_30" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_212_5_212_30&#39;)"><span class="hl_conref"><span class="mpre">ExistentialQuantification</span></span></a><span class="mpre">  , </span><a href="#loc_186_9_186_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_9_186_14&#39;)"><span class="hl_varref"><span class="mpre">ext98</span></span></a><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_219_5_219_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_219_5_219_24&#39;)"><span class="hl_conref"><span class="mpre">ScopedTypeVariables</span></span></a><span class="mpre">        , </span><a href="#loc_186_9_186_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_9_186_14&#39;)"><span class="hl_varref"><span class="mpre">ext98</span></span></a><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_227_5_227_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_227_5_227_19&#39;)"><span class="hl_conref"><span class="mpre">ImplicitParams</span></span></a><span class="mpre">             , </span><a href="#loc_186_9_186_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_9_186_14&#39;)"><span class="hl_varref"><span class="mpre">ext98</span></span></a><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_322_5_322_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_322_5_322_22&#39;)"><span class="hl_conref"><span class="mpre">ExtensibleRecords</span></span></a><span class="mpre">          , </span><a href="#loc_186_9_186_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_9_186_14&#39;)"><span class="hl_varref"><span class="mpre">ext98</span></span></a><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_329_5_329_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_329_5_329_27&#39;)"><span class="hl_conref"><span class="mpre">RestrictedTypeSynonyms</span></span></a><span class="mpre">     , </span><a href="#loc_186_9_186_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_9_186_14&#39;)"><span class="hl_varref"><span class="mpre">ext98</span></span></a><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_233_5_233_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_233_5_233_21&#39;)"><span class="hl_conref"><span class="mpre">FlexibleContexts</span></span></a><span class="mpre">           , </span><a href="#loc_186_9_186_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_9_186_14&#39;)"><span class="hl_varref"><span class="mpre">ext98</span></span></a><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_239_5_239_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_239_5_239_22&#39;)"><span class="hl_conref"><span class="mpre">FlexibleInstances</span></span></a><span class="mpre">          , </span><a href="#loc_186_9_186_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_9_186_14&#39;)"><span class="hl_varref"><span class="mpre">ext98</span></span></a><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_279_5_279_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_279_5_279_29&#39;)"><span class="hl_conref"><span class="mpre">ForeignFunctionInterface</span></span></a><span class="mpre">   , </span><a href="#loc_185_9_185_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_9_185_17&#39;)"><span class="hl_varref"><span class="mpre">alwaysOn</span></span></a><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_244_5_244_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_244_5_244_19&#39;)"><span class="hl_conref"><span class="mpre">EmptyDataDecls</span></span></a><span class="mpre">             , </span><a href="#loc_185_9_185_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_9_185_17&#39;)"><span class="hl_varref"><span class="mpre">alwaysOn</span></span></a><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_249_5_249_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_249_5_249_8&#39;)"><span class="hl_conref"><span class="mpre">CPP</span></span></a><span class="mpre">                        , </span><a href="#loc_185_9_185_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_9_185_17&#39;)"><span class="hl_varref"><span class="mpre">alwaysOn</span></span></a><span class="mpre">)
    ]

</span><a href="#loc_212_1_212_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_1_212_21&#39;)"><span class="mpre">getInstalledPackages</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">PackageDBStack</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ProgramConfiguration</span></span><span class="mpre">
                     -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="Distribution.Simple.PackageIndex.html#loc_94_6_94_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PackageIndex.html#loc_94_6_94_18&#39;)"><span class="hl_tyconref"><span class="mpre">PackageIndex</span></span></a><span class="mpre">
</span><a name="loc_212_1_212_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_1_212_21&#39;)"><span class="hl_fundecl"><span class="mpre">getInstalledPackages</span></span></a><span class="mpre"> </span><a name="loc_212_22_212_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_22_212_31&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_212_32_212_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_32_212_42&#39;)"><span class="hl_vardecl"><span class="mpre">packagedbs</span></span></a><span class="mpre"> </span><a name="loc_212_43_212_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_43_212_47&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre"> = do
  </span><a name="loc_213_3_213_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_3_213_10&#39;)"><span class="hl_vardecl"><span class="mpre">homedir</span></span></a><span class="mpre">       &lt;- </span><a href="System.Directory.html#loc_809_1_809_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_809_1_809_17&#39;)"><span class="hl_varref"><span class="mpre">getHomeDirectory</span></span></a><span class="mpre">
  (</span><a name="loc_214_4_214_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_4_214_12&#39;)"><span class="hl_vardecl"><span class="mpre">hugsProg</span></span></a><span class="mpre">, _) &lt;- </span><a href="Distribution.Simple.Program.Db.html#loc_371_1_371_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_371_1_371_15&#39;)"><span class="hl_varref"><span class="mpre">requireProgram</span></span></a><span class="mpre"> </span><a href="#loc_212_22_212_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_22_212_31&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_173_1_173_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_173_1_173_12&#39;)"><span class="hl_varref"><span class="mpre">hugsProgram</span></span></a><span class="mpre"> </span><a href="#loc_212_43_212_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_43_212_47&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">
  let </span><a name="loc_215_7_215_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_7_215_17&#39;)"><span class="hl_vardecl"><span class="mpre">hugsbindir</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">takeDirectory</span></span><span class="mpre"> (</span><a href="Distribution.Simple.Program.Types.html#loc_115_1_115_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_115_1_115_12&#39;)"><span class="hl_varref"><span class="mpre">programPath</span></span></a><span class="mpre"> </span><a href="#loc_214_4_214_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_4_214_12&#39;)"><span class="hl_varref"><span class="mpre">hugsProg</span></span></a><span class="mpre">)
      </span><a name="loc_216_7_216_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_7_216_17&#39;)"><span class="hl_vardecl"><span class="mpre">hugslibdir</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">takeDirectory</span></span><span class="mpre"> </span><a href="#loc_215_7_215_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_7_215_17&#39;)"><span class="hl_varref"><span class="mpre">hugsbindir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;lib&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;hugs&quot;</span></span><span class="mpre">
      </span><a name="loc_217_7_217_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_7_217_13&#39;)"><span class="hl_vardecl"><span class="mpre">dbdirs</span></span></a><span class="mpre"> = </span><a href="Data.List.html#loc_314_1_314_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_314_1_314_4&#39;)"><span class="hl_varref"><span class="mpre">nub</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">concatMap</span></span><span class="mpre"> (</span><a href="#loc_231_1_231_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_1_231_15&#39;)"><span class="hl_varref"><span class="mpre">packageDbPaths</span></span></a><span class="mpre"> </span><a href="#loc_213_3_213_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_3_213_10&#39;)"><span class="hl_varref"><span class="mpre">homedir</span></span></a><span class="mpre"> </span><a href="#loc_216_7_216_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_7_216_17&#39;)"><span class="hl_varref"><span class="mpre">hugslibdir</span></span></a><span class="mpre">) </span><a href="#loc_212_32_212_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_32_212_42&#39;)"><span class="hl_varref"><span class="mpre">packagedbs</span></span></a><span class="mpre">)
  </span><a name="loc_218_3_218_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_3_218_10&#39;)"><span class="hl_vardecl"><span class="mpre">indexes</span></span></a><span class="mpre">  &lt;- </span><span class="hl_varref"><span class="mpre">mapM</span></span><span class="mpre"> </span><a href="#loc_223_5_223_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_223_5_223_28&#39;)"><span class="hl_varref"><span class="mpre">getIndividualDBPackages</span></span></a><span class="mpre"> </span><a href="#loc_217_7_217_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_7_217_13&#39;)"><span class="hl_varref"><span class="mpre">dbdirs</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="Data.Monoid.html#loc_84_9_84_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_84_9_84_16&#39;)"><span class="hl_varref"><span class="mpre">mconcat</span></span></a><span class="mpre"> </span><a href="#loc_218_3_218_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_3_218_10&#39;)"><span class="hl_varref"><span class="mpre">indexes</span></span></a><span class="mpre">

  where
    </span><a href="#loc_223_5_223_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_223_5_223_28&#39;)"><span class="mpre">getIndividualDBPackages</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="Distribution.Simple.PackageIndex.html#loc_94_6_94_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PackageIndex.html#loc_94_6_94_18&#39;)"><span class="hl_tyconref"><span class="mpre">PackageIndex</span></span></a><span class="mpre">
    </span><a name="loc_223_5_223_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_223_5_223_28&#39;)"><span class="hl_fundecl"><span class="mpre">getIndividualDBPackages</span></span></a><span class="mpre"> </span><a name="loc_223_29_223_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_223_29_223_34&#39;)"><span class="hl_vardecl"><span class="mpre">dbdir</span></span></a><span class="mpre"> = do
      </span><a name="loc_224_7_224_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_224_7_224_14&#39;)"><span class="hl_vardecl"><span class="mpre">pkgdirs</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_238_1_238_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_1_238_17&#39;)"><span class="hl_varref"><span class="mpre">getPackageDbDirs</span></span></a><span class="mpre"> </span><a href="#loc_223_29_223_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_223_29_223_34&#39;)"><span class="hl_varref"><span class="mpre">dbdir</span></span></a><span class="mpre">
      </span><a name="loc_225_7_225_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_7_225_11&#39;)"><span class="hl_vardecl"><span class="mpre">pkgs</span></span></a><span class="mpre">    &lt;- </span><span class="hl_varref"><span class="mpre">sequence</span></span><span class="mpre"> [ </span><a href="#loc_253_1_253_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_1_253_20&#39;)"><span class="hl_varref"><span class="mpre">getInstalledPackage</span></span></a><span class="mpre"> </span><a href="#loc_226_30_226_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_30_226_37&#39;)"><span class="hl_varref"><span class="mpre">pkgname</span></span></a><span class="mpre"> </span><a href="#loc_226_39_226_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_39_226_45&#39;)"><span class="hl_varref"><span class="mpre">pkgdir</span></span></a><span class="mpre">
                          | (</span><a name="loc_226_30_226_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_30_226_37&#39;)"><span class="hl_vardecl"><span class="mpre">pkgname</span></span></a><span class="mpre">, </span><a name="loc_226_39_226_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_39_226_45&#39;)"><span class="hl_vardecl"><span class="mpre">pkgdir</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_224_7_224_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_224_7_224_14&#39;)"><span class="hl_varref"><span class="mpre">pkgdirs</span></span></a><span class="mpre"> ]
      let </span><a name="loc_227_11_227_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_11_227_16&#39;)"><span class="hl_vardecl"><span class="mpre">pkgs&#39;</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_307_1_307_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_1_307_22&#39;)"><span class="hl_varref"><span class="mpre">setInstalledPackageId</span></span></a><span class="mpre"> (</span><a href="Data.Maybe.html#loc_115_1_115_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_115_1_115_10&#39;)"><span class="hl_varref"><span class="mpre">catMaybes</span></span></a><span class="mpre"> </span><a href="#loc_225_7_225_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_225_7_225_11&#39;)"><span class="hl_varref"><span class="mpre">pkgs</span></span></a><span class="mpre">)
      </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="Distribution.Simple.PackageIndex.html#loc_160_1_160_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PackageIndex.html#loc_160_1_160_9&#39;)"><span class="hl_varref"><span class="mpre">PackageIndex.fromList</span></span></a><span class="mpre"> </span><a href="#loc_227_11_227_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_11_227_16&#39;)"><span class="hl_varref"><span class="mpre">pkgs&#39;</span></span></a><span class="mpre">)

</span><a href="#loc_231_1_231_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_1_231_15&#39;)"><span class="mpre">packageDbPaths</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Compiler.html#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_6_112_15&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDB</span></span></a><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">]
</span><a name="loc_231_1_231_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_1_231_15&#39;)"><span class="hl_fundecl"><span class="mpre">packageDbPaths</span></span></a><span class="mpre"> </span><a name="loc_231_16_231_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_16_231_20&#39;)"><span class="hl_vardecl"><span class="mpre">home</span></span></a><span class="mpre"> </span><a name="loc_231_21_231_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_21_231_31&#39;)"><span class="hl_vardecl"><span class="mpre">hugslibdir</span></span></a><span class="mpre"> </span><a name="loc_231_32_231_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_32_231_34&#39;)"><span class="hl_vardecl"><span class="mpre">db</span></span></a><span class="mpre"> = case </span><a href="#loc_231_32_231_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_32_231_34&#39;)"><span class="hl_varref"><span class="mpre">db</span></span></a><span class="mpre"> of
  </span><a href="Distribution.Simple.Compiler.html#loc_112_18_112_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_18_112_33&#39;)"><span class="hl_conref"><span class="mpre">GlobalPackageDB</span></span></a><span class="mpre">        -&gt; [ </span><a href="#loc_231_21_231_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_21_231_31&#39;)"><span class="hl_varref"><span class="mpre">hugslibdir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;packages&quot;</span></span><span class="mpre">
                            , </span><span class="hl_string"><span class="mpre">&quot;/usr/local/lib/hugs/packages&quot;</span></span><span class="mpre"> ]
  </span><a href="Distribution.Simple.Compiler.html#loc_113_18_113_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_113_18_113_31&#39;)"><span class="hl_conref"><span class="mpre">UserPackageDB</span></span></a><span class="mpre">          -&gt; [ </span><a href="#loc_231_16_231_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_16_231_20&#39;)"><span class="hl_varref"><span class="mpre">home</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;lib/hugs/packages&quot;</span></span><span class="mpre"> ]
  </span><a href="Distribution.Simple.Compiler.html#loc_114_18_114_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_114_18_114_35&#39;)"><span class="hl_conref"><span class="mpre">SpecificPackageDB</span></span></a><span class="mpre"> </span><a name="loc_235_21_235_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_21_235_25&#39;)"><span class="hl_vardecl"><span class="mpre">path</span></span></a><span class="mpre"> -&gt; [ </span><a href="#loc_235_21_235_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_235_21_235_25&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre"> ]

</span><a href="#loc_238_1_238_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_1_238_17&#39;)"><span class="mpre">getPackageDbDirs</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> [(</span><a href="Distribution.Package.html#loc_80_9_80_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_80_9_80_20&#39;)"><span class="hl_tyconref"><span class="mpre">PackageName</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">)]
</span><a name="loc_238_1_238_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_1_238_17&#39;)"><span class="hl_fundecl"><span class="mpre">getPackageDbDirs</span></span></a><span class="mpre"> </span><a name="loc_238_18_238_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_18_238_23&#39;)"><span class="hl_vardecl"><span class="mpre">dbdir</span></span></a><span class="mpre"> = do
  </span><a name="loc_239_3_239_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_3_239_11&#39;)"><span class="hl_vardecl"><span class="mpre">dbexists</span></span></a><span class="mpre"> &lt;- </span><a href="System.Directory.html#loc_717_1_717_19" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_717_1_717_19&#39;)"><span class="hl_varref"><span class="mpre">doesDirectoryExist</span></span></a><span class="mpre"> </span><a href="#loc_238_18_238_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_18_238_23&#39;)"><span class="hl_varref"><span class="mpre">dbdir</span></span></a><span class="mpre">
  if </span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><a href="#loc_239_3_239_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_3_239_11&#39;)"><span class="hl_varref"><span class="mpre">dbexists</span></span></a><span class="mpre">
    then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> []
    else do
      </span><a name="loc_243_7_243_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_243_7_243_14&#39;)"><span class="hl_vardecl"><span class="mpre">entries</span></span></a><span class="mpre">  &lt;- </span><a href="System.Directory.html#loc_628_1_628_21" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_628_1_628_21&#39;)"><span class="hl_varref"><span class="mpre">getDirectoryContents</span></span></a><span class="mpre"> </span><a href="#loc_238_18_238_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_18_238_23&#39;)"><span class="hl_varref"><span class="mpre">dbdir</span></span></a><span class="mpre">
      </span><a name="loc_244_7_244_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_244_7_244_14&#39;)"><span class="hl_vardecl"><span class="mpre">pkgdirs</span></span></a><span class="mpre">  &lt;- </span><span class="hl_varref"><span class="mpre">sequence</span></span><span class="mpre">
        [ do </span><a name="loc_245_14_245_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_245_14_245_26&#39;)"><span class="hl_vardecl"><span class="mpre">pkgdirExists</span></span></a><span class="mpre"> &lt;- </span><a href="System.Directory.html#loc_717_1_717_19" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_717_1_717_19&#39;)"><span class="hl_varref"><span class="mpre">doesDirectoryExist</span></span></a><span class="mpre"> </span><a href="#loc_249_15_249_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_15_249_21&#39;)"><span class="hl_varref"><span class="mpre">pkgdir</span></span></a><span class="mpre">
             </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_247_24_247_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_247_24_247_31&#39;)"><span class="hl_varref"><span class="mpre">pkgname</span></span></a><span class="mpre">, </span><a href="#loc_249_15_249_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_15_249_21&#39;)"><span class="hl_varref"><span class="mpre">pkgdir</span></span></a><span class="mpre">, </span><a href="#loc_245_14_245_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_245_14_245_26&#39;)"><span class="hl_varref"><span class="mpre">pkgdirExists</span></span></a><span class="mpre">)
        | (</span><a name="loc_247_12_247_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_247_12_247_17&#39;)"><span class="hl_vardecl"><span class="mpre">entry</span></span></a><span class="mpre">, </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_247_24_247_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_247_24_247_31&#39;)"><span class="hl_vardecl"><span class="mpre">pkgname</span></span></a><span class="mpre">) &lt;- [ (</span><a href="#loc_248_38_248_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_38_248_43&#39;)"><span class="hl_varref"><span class="mpre">entry</span></span></a><span class="mpre">, </span><a href="Distribution.Text.html#loc_39_1_39_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_39_1_39_12&#39;)"><span class="hl_varref"><span class="mpre">simpleParse</span></span></a><span class="mpre"> </span><a href="#loc_248_38_248_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_38_248_43&#39;)"><span class="hl_varref"><span class="mpre">entry</span></span></a><span class="mpre">)
                                   | </span><a name="loc_248_38_248_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_38_248_43&#39;)"><span class="hl_vardecl"><span class="mpre">entry</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_243_7_243_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_243_7_243_14&#39;)"><span class="hl_varref"><span class="mpre">entries</span></span></a><span class="mpre"> ]
        , let </span><a name="loc_249_15_249_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_15_249_21&#39;)"><span class="hl_vardecl"><span class="mpre">pkgdir</span></span></a><span class="mpre"> = </span><a href="#loc_238_18_238_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_18_238_23&#39;)"><span class="hl_varref"><span class="mpre">dbdir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_247_12_247_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_247_12_247_17&#39;)"><span class="hl_varref"><span class="mpre">entry</span></span></a><span class="mpre"> ]
      </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> [ (</span><a href="#loc_250_37_250_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_37_250_44&#39;)"><span class="hl_varref"><span class="mpre">pkgname</span></span></a><span class="mpre">, </span><a href="#loc_250_46_250_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_46_250_52&#39;)"><span class="hl_varref"><span class="mpre">pkgdir</span></span></a><span class="mpre">) | (</span><a name="loc_250_37_250_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_37_250_44&#39;)"><span class="hl_vardecl"><span class="mpre">pkgname</span></span></a><span class="mpre">, </span><a name="loc_250_46_250_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_250_46_250_52&#39;)"><span class="hl_vardecl"><span class="mpre">pkgdir</span></span></a><span class="mpre">, </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">) &lt;- </span><a href="#loc_244_7_244_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_244_7_244_14&#39;)"><span class="hl_varref"><span class="mpre">pkgdirs</span></span></a><span class="mpre"> ]

</span><a href="#loc_253_1_253_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_1_253_20&#39;)"><span class="mpre">getInstalledPackage</span></a><span class="mpre"> :: </span><a href="Distribution.Package.html#loc_80_9_80_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_80_9_80_20&#39;)"><span class="hl_tyconref"><span class="mpre">PackageName</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre">)
</span><a name="loc_253_1_253_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_1_253_20&#39;)"><span class="hl_fundecl"><span class="mpre">getInstalledPackage</span></span></a><span class="mpre"> </span><a name="loc_253_21_253_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_21_253_28&#39;)"><span class="hl_vardecl"><span class="mpre">pkgname</span></span></a><span class="mpre"> </span><a name="loc_253_29_253_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_29_253_35&#39;)"><span class="hl_vardecl"><span class="mpre">pkgdir</span></span></a><span class="mpre"> = do
  let </span><a name="loc_254_7_254_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_7_254_18&#39;)"><span class="hl_vardecl"><span class="mpre">pkgconfFile</span></span></a><span class="mpre"> = </span><a href="#loc_253_29_253_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_29_253_35&#39;)"><span class="hl_varref"><span class="mpre">pkgdir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;package.conf&quot;</span></span><span class="mpre">
  </span><a name="loc_255_3_255_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_3_255_16&#39;)"><span class="hl_vardecl"><span class="mpre">pkgconfExists</span></span></a><span class="mpre"> &lt;- </span><a href="System.Directory.html#loc_726_1_726_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_726_1_726_14&#39;)"><span class="hl_varref"><span class="mpre">doesFileExist</span></span></a><span class="mpre"> </span><a href="#loc_254_7_254_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_7_254_18&#39;)"><span class="hl_varref"><span class="mpre">pkgconfFile</span></span></a><span class="mpre">

  let </span><a name="loc_257_7_257_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_257_7_257_18&#39;)"><span class="hl_vardecl"><span class="mpre">pathsModule</span></span></a><span class="mpre"> = </span><a href="#loc_253_29_253_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_29_253_35&#39;)"><span class="hl_varref"><span class="mpre">pkgdir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;Paths_&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><a href="#loc_253_21_253_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_21_253_28&#39;)"><span class="hl_varref"><span class="mpre">pkgname</span></span></a><span class="mpre">)  </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;hs&quot;</span></span><span class="mpre">
  </span><a name="loc_258_3_258_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_258_3_258_20&#39;)"><span class="hl_vardecl"><span class="mpre">pathsModuleExists</span></span></a><span class="mpre"> &lt;- </span><a href="System.Directory.html#loc_726_1_726_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_726_1_726_14&#39;)"><span class="hl_varref"><span class="mpre">doesFileExist</span></span></a><span class="mpre"> </span><a href="#loc_257_7_257_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_257_7_257_18&#39;)"><span class="hl_varref"><span class="mpre">pathsModule</span></span></a><span class="mpre">

  case </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre"> of
    _ | </span><a href="#loc_255_3_255_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_3_255_16&#39;)"><span class="hl_varref"><span class="mpre">pkgconfExists</span></span></a><span class="mpre">     -&gt; </span><a href="#loc_267_1_267_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_1_267_28&#39;)"><span class="hl_varref"><span class="mpre">getFullInstalledPackageInfo</span></span></a><span class="mpre"> </span><a href="#loc_253_21_253_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_21_253_28&#39;)"><span class="hl_varref"><span class="mpre">pkgname</span></span></a><span class="mpre"> </span><a href="#loc_254_7_254_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_7_254_18&#39;)"><span class="hl_varref"><span class="mpre">pkgconfFile</span></span></a><span class="mpre">
      | </span><a href="#loc_258_3_258_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_258_3_258_20&#39;)"><span class="hl_varref"><span class="mpre">pathsModuleExists</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_282_1_282_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_1_282_29&#39;)"><span class="hl_varref"><span class="mpre">getPhonyInstalledPackageInfo</span></span></a><span class="mpre"> </span><a href="#loc_253_21_253_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_21_253_28&#39;)"><span class="hl_varref"><span class="mpre">pkgname</span></span></a><span class="mpre"> </span><a href="#loc_257_7_257_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_257_7_257_18&#39;)"><span class="hl_varref"><span class="mpre">pathsModule</span></span></a><span class="mpre">
      | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">         -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">

</span><a href="#loc_267_1_267_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_1_267_28&#39;)"><span class="mpre">getFullInstalledPackageInfo</span></a><span class="mpre"> :: </span><a href="Distribution.Package.html#loc_80_9_80_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_80_9_80_20&#39;)"><span class="hl_tyconref"><span class="mpre">PackageName</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
                            -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre">)
</span><a name="loc_267_1_267_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_1_267_28&#39;)"><span class="hl_fundecl"><span class="mpre">getFullInstalledPackageInfo</span></span></a><span class="mpre"> </span><a name="loc_267_29_267_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_29_267_36&#39;)"><span class="hl_vardecl"><span class="mpre">pkgname</span></span></a><span class="mpre"> </span><a name="loc_267_37_267_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_37_267_48&#39;)"><span class="hl_vardecl"><span class="mpre">pkgconfFile</span></span></a><span class="mpre"> =
  </span><a href="Distribution.Simple.Utils.html#loc_1249_1_1249_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1249_1_1249_21&#39;)"><span class="hl_varref"><span class="mpre">withUTF8FileContents</span></span></a><span class="mpre"> </span><a href="#loc_267_37_267_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_37_267_48&#39;)"><span class="hl_varref"><span class="mpre">pkgconfFile</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_268_39_268_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_39_268_47&#39;)"><span class="hl_vardecl"><span class="mpre">contents</span></span></a><span class="mpre"> -&gt;
    case </span><a href="Distribution.InstalledPackageInfo.html#loc_178_1_178_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_178_1_178_26&#39;)"><span class="hl_varref"><span class="mpre">parseInstalledPackageInfo</span></span></a><span class="mpre"> </span><a href="#loc_268_39_268_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_39_268_47&#39;)"><span class="hl_varref"><span class="mpre">contents</span></span></a><span class="mpre"> of
      </span><a href="Distribution.ParseUtils.html#loc_116_43_116_50" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ParseUtils.html#loc_116_43_116_50&#39;)"><span class="hl_conref"><span class="mpre">ParseOk</span></span></a><span class="mpre"> _ </span><a name="loc_270_17_270_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_17_270_24&#39;)"><span class="hl_vardecl"><span class="mpre">pkginfo</span></span></a><span class="mpre"> | </span><a href="Distribution.Package.html#loc_187_1_187_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_187_1_187_12&#39;)"><span class="hl_varref"><span class="mpre">packageName</span></span></a><span class="mpre"> </span><a href="#loc_270_17_270_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_17_270_24&#39;)"><span class="hl_varref"><span class="mpre">pkginfo</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_267_29_267_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_29_267_36&#39;)"><span class="hl_varref"><span class="mpre">pkgname</span></span></a><span class="mpre">
                        -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_270_17_270_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_17_270_24&#39;)"><span class="hl_varref"><span class="mpre">pkginfo</span></span></a><span class="mpre">)
      _                 -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This is a backup option for existing versions of Hugs which do not supply</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- proper installed package info files for the bundled libs. Instead we look</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- for the Paths_pkgname.hs file and extract the package version from that.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- We don&#39;t know any other details for such packages, in particular we pretend</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- that they have no dependencies.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_282_1_282_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_1_282_29&#39;)"><span class="mpre">getPhonyInstalledPackageInfo</span></a><span class="mpre"> :: </span><a href="Distribution.Package.html#loc_80_9_80_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_80_9_80_20&#39;)"><span class="hl_tyconref"><span class="mpre">PackageName</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
                             -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre">)
</span><a name="loc_282_1_282_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_1_282_29&#39;)"><span class="hl_fundecl"><span class="mpre">getPhonyInstalledPackageInfo</span></span></a><span class="mpre"> </span><a name="loc_282_30_282_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_30_282_37&#39;)"><span class="hl_vardecl"><span class="mpre">pkgname</span></span></a><span class="mpre"> </span><a name="loc_282_38_282_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_38_282_49&#39;)"><span class="hl_vardecl"><span class="mpre">pathsModule</span></span></a><span class="mpre"> = do
  </span><a name="loc_283_3_283_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_3_283_10&#39;)"><span class="hl_vardecl"><span class="mpre">content</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">readFile</span></span><span class="mpre"> </span><a href="#loc_282_38_282_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_38_282_49&#39;)"><span class="hl_varref"><span class="mpre">pathsModule</span></span></a><span class="mpre">
  case </span><a href="#loc_297_5_297_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_5_297_19&#39;)"><span class="hl_varref"><span class="mpre">extractVersion</span></span></a><span class="mpre"> </span><a href="#loc_283_3_283_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_283_3_283_10&#39;)"><span class="hl_varref"><span class="mpre">content</span></span></a><span class="mpre"> of
    </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">      -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
    </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_286_10_286_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_10_286_17&#39;)"><span class="hl_vardecl"><span class="mpre">version</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_289_9_289_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_9_289_16&#39;)"><span class="hl_varref"><span class="mpre">pkginfo</span></span></a><span class="mpre">)
      where
        </span><span class="hl_vardecl"><span class="mpre">pkgid</span></span><span class="mpre">   = </span><span class="hl_conref"><span class="mpre">PackageIdentifier</span></span><span class="mpre"> </span><a href="#loc_282_30_282_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_30_282_37&#39;)"><span class="hl_varref"><span class="mpre">pkgname</span></span></a><span class="mpre"> </span><a href="#loc_286_10_286_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_10_286_17&#39;)"><span class="hl_varref"><span class="mpre">version</span></span></a><span class="mpre">
        </span><a name="loc_289_9_289_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_9_289_16&#39;)"><span class="hl_vardecl"><span class="mpre">pkginfo</span></span></a><span class="mpre"> = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Hugs.hs&quot;, srcSpanStartLine = 289, srcSpanStartColumn = 19, srcSpanEndLine = 289, srcSpanEndColumn = 72}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Hugs.hs&quot;, srcSpanStartLine = 289, srcSpanStartColumn = 45, srcSpanEndLine = 289, srcSpanEndColumn = 46},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple"><span class="mpre">emptyInstalledPackageInfo { sourcePackageId = pkgid }</span></span><span class="mpre">
  where
    </span><span class="hl_comment"><span class="mpre">-- search through the Paths_pkgname.hs file, looking for a line like:</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- &gt; version = Version {versionBranch = [2,0], versionTags = []}</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- and parse it using &#39;Read&#39;. Yes we are that evil.</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
    </span><a name="loc_297_5_297_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_5_297_19&#39;)"><span class="hl_fundecl"><span class="mpre">extractVersion</span></span></a><span class="mpre"> </span><a name="loc_297_20_297_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_20_297_27&#39;)"><span class="hl_vardecl"><span class="mpre">content</span></span></a><span class="mpre"> =
      case [ </span><a href="#loc_300_15_300_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_15_300_22&#39;)"><span class="hl_varref"><span class="mpre">version</span></span></a><span class="mpre">
           | (</span><span class="hl_string"><span class="mpre">&quot;version&quot;</span></span><span class="hl_infix"><span class="mpre">:</span></span><span class="hl_string"><span class="mpre">&quot;=&quot;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_299_29_299_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_29_299_33&#39;)"><span class="hl_vardecl"><span class="mpre">rest</span></span></a><span class="mpre">) &lt;- </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">words</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">lines</span></span><span class="mpre"> </span><a href="#loc_297_20_297_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_20_297_27&#39;)"><span class="hl_varref"><span class="mpre">content</span></span></a><span class="mpre">)
           , (</span><a name="loc_300_15_300_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_15_300_22&#39;)"><span class="hl_vardecl"><span class="mpre">version</span></span></a><span class="mpre">, []) &lt;- </span><span class="hl_varref"><span class="mpre">reads</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre"> </span><a href="#loc_299_29_299_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_29_299_33&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre">) ] of
        [</span><a name="loc_301_10_301_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_10_301_17&#39;)"><span class="hl_vardecl"><span class="mpre">version</span></span></a><span class="mpre">] -&gt; </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_301_10_301_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_10_301_17&#39;)"><span class="hl_varref"><span class="mpre">version</span></span></a><span class="mpre">
        _         -&gt; </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- Older installed package info files did not have the installedPackageId</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- field, so if it is missing then we fill it as the source package ID.</span></span><span class="mpre">
</span><a href="#loc_307_1_307_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_1_307_22&#39;)"><span class="mpre">setInstalledPackageId</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre">
</span><a name="loc_307_1_307_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_1_307_22&#39;)"><span class="hl_fundecl"><span class="mpre">setInstalledPackageId</span></span></a><span class="mpre"> </span><span class="hl_specname"><span class="mpre">pkginfo</span></span><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Hugs.hs&quot;, srcSpanStartLine = 307, srcSpanStartColumn = 31, srcSpanEndLine = 310, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Hugs.hs&quot;, srcSpanStartLine = 307, srcSpanStartColumn = 52, srcSpanEndLine = 307, srcSpanEndColumn = 53},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Hugs"><span class="mpre">InstalledPackageInfo {
                        installedPackageId = InstalledPackageId &quot;&quot;,
                        sourcePackageId    = pkgid
                      }</span></span><span class="mpre">
                    = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Hugs.hs&quot;, srcSpanStartLine = 311, srcSpanStartColumn = 23, srcSpanEndLine = 315, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Hugs.hs&quot;, srcSpanStartLine = 311, srcSpanStartColumn = 31, srcSpanEndLine = 311, srcSpanEndColumn = 32},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple"><span class="mpre">pkginfo {
                        </span><span class="hl_comment"><span class="mpre">--TODO use a proper named function for the conversion</span></span><span class="mpre">
                        </span><span class="hl_comment"><span class="mpre">-- from source package id to installed package id</span></span><span class="mpre">
                        installedPackageId = InstalledPackageId (display pkgid)
                      }</span></span><span class="mpre">
</span><a href="#loc_307_1_307_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_1_307_22&#39;)"><span class="hl_fundecl"><span class="mpre">setInstalledPackageId</span></span></a><span class="mpre"> </span><a name="loc_316_23_316_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_23_316_30&#39;)"><span class="hl_vardecl"><span class="mpre">pkginfo</span></span></a><span class="mpre"> = </span><a href="#loc_316_23_316_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_23_316_30&#39;)"><span class="hl_varref"><span class="mpre">pkginfo</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- -----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Building</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |Building a package for Hugs.</span></span><span class="mpre">
</span><a href="#loc_324_1_324_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_1_324_9&#39;)"><span class="mpre">buildLib</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre">
                      -&gt; </span><a href="Distribution.PackageDescription.html#loc_299_6_299_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_299_6_299_13&#39;)"><span class="hl_tyconref"><span class="mpre">Library</span></span></a><span class="mpre">            -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29&#39;)"><span class="hl_tyconref"><span class="mpre">ComponentLocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_324_1_324_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_1_324_9&#39;)"><span class="hl_fundecl"><span class="mpre">buildLib</span></span></a><span class="mpre"> </span><a name="loc_324_10_324_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_10_324_19&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_324_20_324_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_20_324_29&#39;)"><span class="hl_vardecl"><span class="mpre">pkg_descr</span></span></a><span class="mpre"> </span><a name="loc_324_30_324_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_30_324_33&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_324_34_324_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_34_324_37&#39;)"><span class="hl_vardecl"><span class="mpre">lib</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_clbi</span></span><span class="mpre"> = do
    let </span><a name="loc_325_9_325_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_9_325_13&#39;)"><span class="hl_vardecl"><span class="mpre">pref</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_134_9_134_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_134_9_134_19&#39;)"><span class="hl_varref"><span class="mpre">scratchDir</span></span></a><span class="mpre"> </span><a href="#loc_324_30_324_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_30_324_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
    </span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="hl_varref"><span class="mpre">createDirectoryIfMissingVerbose</span></span></a><span class="mpre"> </span><a href="#loc_324_10_324_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_10_324_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> </span><a href="#loc_325_9_325_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_9_325_13&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre">
    </span><a href="Distribution.Simple.Utils.html#loc_868_1_868_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_868_1_868_16&#39;)"><span class="hl_varref"><span class="mpre">copyFileVerbose</span></span></a><span class="mpre"> </span><a href="#loc_324_10_324_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_10_324_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.BuildPaths.html#loc_94_1_94_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_94_1_94_18&#39;)"><span class="hl_varref"><span class="mpre">autogenModulesDir</span></span></a><span class="mpre"> </span><a href="#loc_324_30_324_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_30_324_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_331_5_331_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_331_5_331_21&#39;)"><span class="hl_varref"><span class="mpre">paths_modulename</span></span></a><span class="mpre">)
                              (</span><a href="#loc_325_9_325_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_9_325_13&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_331_5_331_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_331_5_331_21&#39;)"><span class="hl_varref"><span class="mpre">paths_modulename</span></span></a><span class="mpre">)
    </span><a href="#loc_369_1_369_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_1_369_17&#39;)"><span class="hl_varref"><span class="mpre">compileBuildInfo</span></span></a><span class="mpre"> </span><a href="#loc_324_10_324_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_10_324_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_325_9_325_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_325_9_325_13&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre"> [] (</span><a href="Distribution.PackageDescription.html#loc_341_1_341_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_341_1_341_11&#39;)"><span class="hl_varref"><span class="mpre">libModules</span></span></a><span class="mpre"> </span><a href="#loc_324_34_324_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_34_324_37&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre">) (</span><a href="Distribution.PackageDescription.html#loc_302_9_302_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_302_9_302_21&#39;)"><span class="hl_varref"><span class="mpre">libBuildInfo</span></span></a><span class="mpre"> </span><a href="#loc_324_34_324_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_34_324_37&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre">) </span><a href="#loc_324_30_324_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_30_324_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
  where
    </span><a name="loc_331_5_331_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_331_5_331_21&#39;)"><span class="hl_vardecl"><span class="mpre">paths_modulename</span></span></a><span class="mpre"> = </span><a href="Distribution.ModuleName.html#loc_133_1_133_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_133_1_133_11&#39;)"><span class="hl_varref"><span class="mpre">ModuleName.toFilePath</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.BuildPaths.html#loc_101_1_101_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_101_1_101_18&#39;)"><span class="hl_varref"><span class="mpre">autogenModuleName</span></span></a><span class="mpre"> </span><a href="#loc_324_20_324_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_20_324_29&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre">)
                         </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;.hs&quot;</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--TODO: switch to using autogenModulesDir as a search dir, rather than</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--      always copying the file over.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |Building an executable for Hugs.</span></span><span class="mpre">
</span><a href="#loc_339_1_339_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_1_339_9&#39;)"><span class="mpre">buildExe</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre">
                      -&gt; </span><a href="Distribution.PackageDescription.html#loc_347_6_347_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_347_6_347_16&#39;)"><span class="hl_tyconref"><span class="mpre">Executable</span></span></a><span class="mpre">         -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29&#39;)"><span class="hl_tyconref"><span class="mpre">ComponentLocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_339_1_339_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_1_339_9&#39;)"><span class="hl_fundecl"><span class="mpre">buildExe</span></span></a><span class="mpre"> </span><a name="loc_339_10_339_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_10_339_19&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_339_20_339_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_20_339_29&#39;)"><span class="hl_vardecl"><span class="mpre">pkg_descr</span></span></a><span class="mpre"> </span><a name="loc_339_30_339_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_30_339_33&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre">
  </span><a name="loc_340_3_340_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_340_3_340_6&#39;)"><span class="hl_specname"><span class="mpre">exe</span></span></a><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Hugs.hs&quot;, srcSpanStartLine = 340, srcSpanStartColumn = 7, srcSpanEndLine = 340, srcSpanEndColumn = 53}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Hugs.hs&quot;, srcSpanStartLine = 340, srcSpanStartColumn = 18, srcSpanEndLine = 340, srcSpanEndColumn = 19},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Hugs."><span class="mpre">Executable {modulePath=mainPath, buildInfo=bi}</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_clbi</span></span><span class="mpre"> = do
    let </span><a name="loc_341_9_341_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_341_9_341_13&#39;)"><span class="hl_vardecl"><span class="mpre">pref</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_134_9_134_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_134_9_134_19&#39;)"><span class="hl_varref"><span class="mpre">scratchDir</span></span></a><span class="mpre"> </span><a href="#loc_339_30_339_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_30_339_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
    </span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="hl_varref"><span class="mpre">createDirectoryIfMissingVerbose</span></span></a><span class="mpre"> </span><a href="#loc_339_10_339_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_10_339_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> </span><a href="#loc_341_9_341_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_341_9_341_13&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre">
    
    let </span><a name="loc_344_9_344_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_344_9_344_16&#39;)"><span class="hl_vardecl"><span class="mpre">destDir</span></span></a><span class="mpre"> = </span><a href="#loc_341_9_341_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_341_9_341_13&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;programs&quot;</span></span><span class="mpre">
    let </span><a name="loc_345_9_345_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_345_9_345_16&#39;)"><span class="hl_vardecl"><span class="mpre">exeMods</span></span></a><span class="mpre"> = </span><a href="Distribution.PackageDescription.html#loc_646_9_646_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_646_9_646_21&#39;)"><span class="hl_varref"><span class="mpre">otherModules</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">bi</span></span><span class="mpre">
    </span><a name="loc_346_5_346_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_346_5_346_16&#39;)"><span class="hl_vardecl"><span class="mpre">srcMainFile</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.Simple.Utils.html#loc_646_1_646_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_646_1_646_9&#39;)"><span class="hl_varref"><span class="mpre">findFile</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_645_9_645_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_645_9_645_21&#39;)"><span class="hl_varref"><span class="mpre">hsSourceDirs</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">bi</span></span><span class="mpre">) </span><span class="hl_varref"><span class="mpre">mainPath</span></span><span class="mpre">
    let </span><a name="loc_347_9_347_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_9_347_15&#39;)"><span class="hl_vardecl"><span class="mpre">exeDir</span></span></a><span class="mpre"> = </span><a href="#loc_344_9_344_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_344_9_344_16&#39;)"><span class="hl_varref"><span class="mpre">destDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_348_9_348_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_348_9_348_16&#39;)"><span class="hl_varref"><span class="mpre">exeName</span></span></a><span class="mpre"> </span><a href="#loc_340_3_340_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_340_3_340_6&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre">
    let </span><a name="loc_348_9_348_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_9_348_21&#39;)"><span class="hl_vardecl"><span class="mpre">destMainFile</span></span></a><span class="mpre"> = </span><a href="#loc_347_9_347_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_9_347_15&#39;)"><span class="hl_varref"><span class="mpre">exeDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_615_1_615_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_615_1_615_17&#39;)"><span class="hl_varref"><span class="mpre">hugsMainFilename</span></span></a><span class="mpre"> </span><a href="#loc_340_3_340_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_340_3_340_6&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre">
    </span><a href="#loc_395_1_395_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_1_395_11&#39;)"><span class="hl_varref"><span class="mpre">copyModule</span></span></a><span class="mpre"> </span><a href="#loc_339_10_339_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_10_339_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> (</span><a href="Language.Haskell.Extension.html#loc_120_5_120_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_120_5_120_20&#39;)"><span class="hl_conref"><span class="mpre">EnableExtension</span></span></a><span class="mpre"> </span><a href="Language.Haskell.Extension.html#loc_249_5_249_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_249_5_249_8&#39;)"><span class="hl_conref"><span class="mpre">CPP</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`elem`</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_762_1_762_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_762_1_762_14&#39;)"><span class="hl_varref"><span class="mpre">allExtensions</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">bi</span></span><span class="mpre">) </span><span class="hl_varref"><span class="mpre">bi</span></span><span class="mpre"> </span><a href="#loc_339_30_339_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_30_339_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a href="#loc_346_5_346_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_346_5_346_16&#39;)"><span class="hl_varref"><span class="mpre">srcMainFile</span></span></a><span class="mpre"> </span><a href="#loc_348_9_348_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_9_348_21&#39;)"><span class="hl_varref"><span class="mpre">destMainFile</span></span></a><span class="mpre">
    let </span><a name="loc_350_9_350_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_9_350_22&#39;)"><span class="hl_vardecl"><span class="mpre">destPathsFile</span></span></a><span class="mpre"> = </span><a href="#loc_347_9_347_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_9_347_15&#39;)"><span class="hl_varref"><span class="mpre">exeDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_358_5_358_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_358_5_358_21&#39;)"><span class="hl_varref"><span class="mpre">paths_modulename</span></span></a><span class="mpre">
    </span><a href="Distribution.Simple.Utils.html#loc_868_1_868_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_868_1_868_16&#39;)"><span class="hl_varref"><span class="mpre">copyFileVerbose</span></span></a><span class="mpre"> </span><a href="#loc_339_10_339_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_10_339_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.BuildPaths.html#loc_94_1_94_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_94_1_94_18&#39;)"><span class="hl_varref"><span class="mpre">autogenModulesDir</span></span></a><span class="mpre"> </span><a href="#loc_339_30_339_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_30_339_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_358_5_358_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_358_5_358_21&#39;)"><span class="hl_varref"><span class="mpre">paths_modulename</span></span></a><span class="mpre">)
                              </span><a href="#loc_350_9_350_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_9_350_22&#39;)"><span class="hl_varref"><span class="mpre">destPathsFile</span></span></a><span class="mpre">
    </span><a href="#loc_369_1_369_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_1_369_17&#39;)"><span class="hl_varref"><span class="mpre">compileBuildInfo</span></span></a><span class="mpre"> </span><a href="#loc_339_10_339_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_10_339_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_347_9_347_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_9_347_15&#39;)"><span class="hl_varref"><span class="mpre">exeDir</span></span></a><span class="mpre"> 
      (</span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> [] (</span><a href="Distribution.PackageDescription.html#loc_645_9_645_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_645_9_645_21&#39;)"><span class="hl_varref"><span class="mpre">hsSourceDirs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_302_9_302_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_302_9_302_21&#39;)"><span class="hl_varref"><span class="mpre">libBuildInfo</span></span></a><span class="mpre">) (</span><a href="Distribution.PackageDescription.html#loc_190_9_190_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_190_9_190_16&#39;)"><span class="hl_varref"><span class="mpre">library</span></span></a><span class="mpre"> </span><a href="#loc_339_20_339_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_20_339_29&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre">)) </span><a href="#loc_345_9_345_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_345_9_345_16&#39;)"><span class="hl_varref"><span class="mpre">exeMods</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">bi</span></span><span class="mpre"> </span><a href="#loc_339_30_339_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_30_339_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
    </span><a href="#loc_406_1_406_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_1_406_13&#39;)"><span class="hl_varref"><span class="mpre">compileFiles</span></span></a><span class="mpre"> </span><a href="#loc_339_10_339_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_10_339_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">bi</span></span><span class="mpre"> </span><a href="#loc_339_30_339_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_30_339_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a href="#loc_347_9_347_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_9_347_15&#39;)"><span class="hl_varref"><span class="mpre">exeDir</span></span></a><span class="mpre"> [</span><a href="#loc_348_9_348_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_9_348_21&#39;)"><span class="hl_varref"><span class="mpre">destMainFile</span></span></a><span class="mpre">, </span><a href="#loc_350_9_350_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_350_9_350_22&#39;)"><span class="hl_varref"><span class="mpre">destPathsFile</span></span></a><span class="mpre">]

  where
    </span><a name="loc_358_5_358_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_358_5_358_21&#39;)"><span class="hl_vardecl"><span class="mpre">paths_modulename</span></span></a><span class="mpre"> = </span><a href="Distribution.ModuleName.html#loc_133_1_133_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_133_1_133_11&#39;)"><span class="hl_varref"><span class="mpre">ModuleName.toFilePath</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.BuildPaths.html#loc_101_1_101_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_101_1_101_18&#39;)"><span class="hl_varref"><span class="mpre">autogenModuleName</span></span></a><span class="mpre"> </span><a href="#loc_339_20_339_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_20_339_29&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre">)
                         </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;.hs&quot;</span></span><span class="mpre">

</span><a href="#loc_369_1_369_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_1_369_17&#39;)"><span class="mpre">compileBuildInfo</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">
                 -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^output directory</span></span><span class="mpre">
                 -&gt; [</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">] </span><span class="hl_comment"><span class="mpre">-- ^library source dirs, if building exes</span></span><span class="mpre">
                 -&gt; [</span><a href="Distribution.ModuleName.html#loc_67_9_67_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_67_9_67_19&#39;)"><span class="hl_tyconref"><span class="mpre">ModuleName</span></span></a><span class="mpre">] </span><span class="hl_comment"><span class="mpre">-- ^Modules</span></span><span class="mpre">
                 -&gt; </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre">
                 -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre">
                 -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--TODO: should not be using mLibSrcDirs at all</span></span><span class="mpre">
</span><a name="loc_369_1_369_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_1_369_17&#39;)"><span class="hl_fundecl"><span class="mpre">compileBuildInfo</span></span></a><span class="mpre"> </span><a name="loc_369_18_369_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_18_369_27&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_369_28_369_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_28_369_35&#39;)"><span class="hl_vardecl"><span class="mpre">destDir</span></span></a><span class="mpre"> </span><a name="loc_369_36_369_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_36_369_47&#39;)"><span class="hl_vardecl"><span class="mpre">mLibSrcDirs</span></span></a><span class="mpre"> </span><a name="loc_369_48_369_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_48_369_52&#39;)"><span class="hl_vardecl"><span class="mpre">mods</span></span></a><span class="mpre"> </span><a name="loc_369_53_369_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_53_369_55&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a name="loc_369_56_369_59" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_56_369_59&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> = do
    </span><span class="hl_comment"><span class="mpre">-- Pass 1: copy or cpp files from build directory to scratch directory</span></span><span class="mpre">
    let </span><a name="loc_371_9_371_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_371_9_371_15&#39;)"><span class="hl_vardecl"><span class="mpre">useCpp</span></span></a><span class="mpre"> = </span><a href="Language.Haskell.Extension.html#loc_120_5_120_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_120_5_120_20&#39;)"><span class="hl_conref"><span class="mpre">EnableExtension</span></span></a><span class="mpre"> </span><a href="Language.Haskell.Extension.html#loc_249_5_249_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_249_5_249_8&#39;)"><span class="hl_conref"><span class="mpre">CPP</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`elem`</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_762_1_762_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_762_1_762_14&#39;)"><span class="hl_varref"><span class="mpre">allExtensions</span></span></a><span class="mpre"> </span><a href="#loc_369_53_369_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_53_369_55&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">
    let </span><a name="loc_372_9_372_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_9_372_15&#39;)"><span class="hl_vardecl"><span class="mpre">srcDir</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17&#39;)"><span class="hl_varref"><span class="mpre">buildDir</span></span></a><span class="mpre"> </span><a href="#loc_369_56_369_59" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_56_369_59&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
        </span><a name="loc_373_9_373_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_373_9_373_16&#39;)"><span class="hl_vardecl"><span class="mpre">srcDirs</span></span></a><span class="mpre"> = </span><a href="Data.List.html#loc_314_1_314_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_314_1_314_4&#39;)"><span class="hl_varref"><span class="mpre">nub</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_372_9_372_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_372_9_372_15&#39;)"><span class="hl_varref"><span class="mpre">srcDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_645_9_645_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_645_9_645_21&#39;)"><span class="hl_varref"><span class="mpre">hsSourceDirs</span></span></a><span class="mpre"> </span><a href="#loc_369_53_369_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_53_369_55&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_369_36_369_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_36_369_47&#39;)"><span class="hl_varref"><span class="mpre">mLibSrcDirs</span></span></a><span class="mpre">
    </span><a href="Distribution.Simple.Utils.html#loc_305_1_305_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_305_1_305_5&#39;)"><span class="hl_varref"><span class="mpre">info</span></span></a><span class="mpre"> </span><a href="#loc_369_18_369_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_18_369_27&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Source directories: &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_373_9_373_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_373_9_373_16&#39;)"><span class="hl_varref"><span class="mpre">srcDirs</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">flip</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">mapM_</span></span><span class="mpre"> </span><a href="#loc_369_48_369_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_48_369_52&#39;)"><span class="hl_varref"><span class="mpre">mods</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \ </span><a name="loc_375_25_375_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_375_25_375_26&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> -&gt; do
        </span><a name="loc_376_9_376_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_9_376_11&#39;)"><span class="hl_vardecl"><span class="mpre">fs</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.Simple.Utils.html#loc_660_1_660_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_660_1_660_22&#39;)"><span class="hl_varref"><span class="mpre">findFileWithExtension</span></span></a><span class="mpre"> </span><a href="#loc_391_1_391_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_1_391_9&#39;)"><span class="hl_varref"><span class="mpre">suffixes</span></span></a><span class="mpre"> </span><a href="#loc_373_9_373_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_373_9_373_16&#39;)"><span class="hl_varref"><span class="mpre">srcDirs</span></span></a><span class="mpre"> (</span><a href="Distribution.ModuleName.html#loc_133_1_133_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_133_1_133_11&#39;)"><span class="hl_varref"><span class="mpre">ModuleName.toFilePath</span></span></a><span class="mpre"> </span><a href="#loc_375_25_375_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_375_25_375_26&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">)
        case </span><a href="#loc_376_9_376_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_376_9_376_11&#39;)"><span class="hl_varref"><span class="mpre">fs</span></span></a><span class="mpre"> of
          </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt;
            </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;can&#39;t find source for module &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><a href="#loc_375_25_375_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_375_25_375_26&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">)
          </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_380_16_380_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_380_16_380_23&#39;)"><span class="hl_vardecl"><span class="mpre">srcFile</span></span></a><span class="mpre"> -&gt; do
            let </span><a name="loc_381_17_381_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_381_17_381_20&#39;)"><span class="hl_vardecl"><span class="mpre">ext</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">takeExtension</span></span><span class="mpre"> </span><a href="#loc_380_16_380_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_380_16_380_23&#39;)"><span class="hl_varref"><span class="mpre">srcFile</span></span></a><span class="mpre">
            </span><a href="#loc_395_1_395_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_1_395_11&#39;)"><span class="hl_varref"><span class="mpre">copyModule</span></span></a><span class="mpre"> </span><a href="#loc_369_18_369_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_18_369_27&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_371_9_371_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_371_9_371_15&#39;)"><span class="hl_varref"><span class="mpre">useCpp</span></span></a><span class="mpre"> </span><a href="#loc_369_53_369_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_53_369_55&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a href="#loc_369_56_369_59" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_56_369_59&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a href="#loc_380_16_380_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_380_16_380_23&#39;)"><span class="hl_varref"><span class="mpre">srcFile</span></span></a><span class="mpre">
                (</span><a href="#loc_369_28_369_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_28_369_35&#39;)"><span class="hl_varref"><span class="mpre">destDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="Distribution.ModuleName.html#loc_133_1_133_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_133_1_133_11&#39;)"><span class="hl_varref"><span class="mpre">ModuleName.toFilePath</span></span></a><span class="mpre"> </span><a href="#loc_375_25_375_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_375_25_375_26&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre"> </span><a href="#loc_381_17_381_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_381_17_381_20&#39;)"><span class="hl_varref"><span class="mpre">ext</span></span></a><span class="mpre">)
    </span><span class="hl_comment"><span class="mpre">-- Pass 2: compile foreign stubs in scratch directory</span></span><span class="mpre">
    </span><a name="loc_385_5_385_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_5_385_19&#39;)"><span class="hl_vardecl"><span class="mpre">stubsFileLists</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_115_1_115_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_115_1_115_10&#39;)"><span class="hl_varref"><span class="mpre">catMaybes</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">sequence</span></span><span class="mpre">
      [ </span><a href="Distribution.Simple.Utils.html#loc_660_1_660_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_660_1_660_22&#39;)"><span class="hl_varref"><span class="mpre">findFileWithExtension</span></span></a><span class="mpre"> </span><a href="#loc_391_1_391_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_1_391_9&#39;)"><span class="hl_varref"><span class="mpre">suffixes</span></span></a><span class="mpre"> [</span><a href="#loc_369_28_369_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_28_369_35&#39;)"><span class="hl_varref"><span class="mpre">destDir</span></span></a><span class="mpre">] (</span><a href="Distribution.ModuleName.html#loc_133_1_133_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_133_1_133_11&#39;)"><span class="hl_varref"><span class="mpre">ModuleName.toFilePath</span></span></a><span class="mpre"> </span><a href="#loc_387_9_387_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_387_9_387_13&#39;)"><span class="hl_varref"><span class="mpre">modu</span></span></a><span class="mpre">)
      | </span><a name="loc_387_9_387_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_387_9_387_13&#39;)"><span class="hl_vardecl"><span class="mpre">modu</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_369_48_369_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_48_369_52&#39;)"><span class="hl_varref"><span class="mpre">mods</span></span></a><span class="mpre">]
    </span><a href="#loc_406_1_406_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_1_406_13&#39;)"><span class="hl_varref"><span class="mpre">compileFiles</span></span></a><span class="mpre"> </span><a href="#loc_369_18_369_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_18_369_27&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_369_53_369_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_53_369_55&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a href="#loc_369_56_369_59" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_56_369_59&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a href="#loc_369_28_369_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_28_369_35&#39;)"><span class="hl_varref"><span class="mpre">destDir</span></span></a><span class="mpre"> </span><a href="#loc_385_5_385_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_5_385_19&#39;)"><span class="hl_varref"><span class="mpre">stubsFileLists</span></span></a><span class="mpre">

</span><a href="#loc_391_1_391_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_1_391_9&#39;)"><span class="mpre">suffixes</span></a><span class="mpre"> :: [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_391_1_391_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_391_1_391_9&#39;)"><span class="hl_vardecl"><span class="mpre">suffixes</span></span></a><span class="mpre"> = [</span><span class="hl_string"><span class="mpre">&quot;hs&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;lhs&quot;</span></span><span class="mpre">]

</span><span class="hl_comment"><span class="mpre">-- Copy or cpp a file from the source directory to the build directory.</span></span><span class="mpre">
</span><a href="#loc_395_1_395_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_1_395_11&#39;)"><span class="mpre">copyModule</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_395_1_395_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_1_395_11&#39;)"><span class="hl_fundecl"><span class="mpre">copyModule</span></span></a><span class="mpre"> </span><a name="loc_395_12_395_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_12_395_21&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_395_22_395_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_22_395_28&#39;)"><span class="hl_vardecl"><span class="mpre">cppAll</span></span></a><span class="mpre"> </span><a name="loc_395_29_395_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_29_395_31&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a name="loc_395_32_395_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_32_395_35&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_395_36_395_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_36_395_43&#39;)"><span class="hl_vardecl"><span class="mpre">srcFile</span></span></a><span class="mpre"> </span><a name="loc_395_44_395_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_44_395_52&#39;)"><span class="hl_vardecl"><span class="mpre">destFile</span></span></a><span class="mpre"> = do
    </span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="hl_varref"><span class="mpre">createDirectoryIfMissingVerbose</span></span></a><span class="mpre"> </span><a href="#loc_395_12_395_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_12_395_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">takeDirectory</span></span><span class="mpre"> </span><a href="#loc_395_44_395_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_44_395_52&#39;)"><span class="hl_varref"><span class="mpre">destFile</span></span></a><span class="mpre">)
    (</span><a name="loc_397_6_397_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_6_397_10&#39;)"><span class="hl_vardecl"><span class="mpre">exts</span></span></a><span class="mpre">, </span><a name="loc_397_12_397_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_12_397_16&#39;)"><span class="hl_vardecl"><span class="mpre">opts</span></span></a><span class="mpre">, _) &lt;- </span><a href="#loc_482_1_482_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_1_482_21&#39;)"><span class="hl_varref"><span class="mpre">getOptionsFromSource</span></span></a><span class="mpre"> </span><a href="#loc_395_36_395_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_36_395_43&#39;)"><span class="hl_varref"><span class="mpre">srcFile</span></span></a><span class="mpre">
    let </span><a name="loc_398_9_398_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_9_398_16&#39;)"><span class="hl_vardecl"><span class="mpre">ghcOpts</span></span></a><span class="mpre"> = [ </span><a href="#loc_398_46_398_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_46_398_48&#39;)"><span class="hl_varref"><span class="mpre">op</span></span></a><span class="mpre"> | (</span><a href="Distribution.Compiler.html#loc_81_23_81_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_23_81_26&#39;)"><span class="hl_conref"><span class="mpre">GHC</span></span></a><span class="mpre">, </span><a name="loc_398_32_398_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_32_398_35&#39;)"><span class="hl_vardecl"><span class="mpre">ops</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_397_12_397_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_12_397_16&#39;)"><span class="hl_varref"><span class="mpre">opts</span></span></a><span class="mpre">, </span><a name="loc_398_46_398_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_46_398_48&#39;)"><span class="hl_vardecl"><span class="mpre">op</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_398_32_398_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_32_398_35&#39;)"><span class="hl_varref"><span class="mpre">ops</span></span></a><span class="mpre"> ]
    if </span><a href="#loc_395_22_395_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_22_395_28&#39;)"><span class="hl_varref"><span class="mpre">cppAll</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">||</span></span><span class="mpre"> </span><a href="Language.Haskell.Extension.html#loc_120_5_120_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_120_5_120_20&#39;)"><span class="hl_conref"><span class="mpre">EnableExtension</span></span></a><span class="mpre"> </span><a href="Language.Haskell.Extension.html#loc_249_5_249_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_249_5_249_8&#39;)"><span class="hl_conref"><span class="mpre">CPP</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`elem`</span></span><span class="mpre"> </span><a href="#loc_397_6_397_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_397_6_397_10&#39;)"><span class="hl_varref"><span class="mpre">exts</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">||</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;-cpp&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`elem`</span></span><span class="mpre"> </span><a href="#loc_398_9_398_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_9_398_16&#39;)"><span class="hl_varref"><span class="mpre">ghcOpts</span></span></a><span class="mpre"> then do
        </span><a href="Distribution.Simple.PreProcess.html#loc_171_1_171_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PreProcess.html#loc_171_1_171_22&#39;)"><span class="hl_varref"><span class="mpre">runSimplePreProcessor</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.PreProcess.html#loc_362_1_362_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PreProcess.html#loc_362_1_362_6&#39;)"><span class="hl_varref"><span class="mpre">ppCpp</span></span></a><span class="mpre"> </span><a href="#loc_395_29_395_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_29_395_31&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a href="#loc_395_32_395_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_32_395_35&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) </span><a href="#loc_395_36_395_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_36_395_43&#39;)"><span class="hl_varref"><span class="mpre">srcFile</span></span></a><span class="mpre"> </span><a href="#loc_395_44_395_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_44_395_52&#39;)"><span class="hl_varref"><span class="mpre">destFile</span></span></a><span class="mpre"> </span><a href="#loc_395_12_395_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_12_395_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
      else
        </span><a href="Distribution.Simple.Utils.html#loc_868_1_868_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_868_1_868_16&#39;)"><span class="hl_varref"><span class="mpre">copyFileVerbose</span></span></a><span class="mpre"> </span><a href="#loc_395_12_395_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_12_395_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_395_36_395_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_36_395_43&#39;)"><span class="hl_varref"><span class="mpre">srcFile</span></span></a><span class="mpre"> </span><a href="#loc_395_44_395_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_44_395_52&#39;)"><span class="hl_varref"><span class="mpre">destFile</span></span></a><span class="mpre">

</span><a href="#loc_406_1_406_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_1_406_13&#39;)"><span class="mpre">compileFiles</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_406_1_406_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_1_406_13&#39;)"><span class="hl_fundecl"><span class="mpre">compileFiles</span></span></a><span class="mpre"> </span><a name="loc_406_14_406_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_14_406_23&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_406_24_406_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_24_406_26&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a name="loc_406_27_406_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_27_406_30&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_406_31_406_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_31_406_37&#39;)"><span class="hl_vardecl"><span class="mpre">modDir</span></span></a><span class="mpre"> </span><a name="loc_406_38_406_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_38_406_46&#39;)"><span class="hl_vardecl"><span class="mpre">fileList</span></span></a><span class="mpre"> = do
    </span><a name="loc_407_5_407_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_407_5_407_16&#39;)"><span class="hl_vardecl"><span class="mpre">ffiFileList</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.html#loc_154_1_154_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_154_1_154_8&#39;)"><span class="hl_varref"><span class="mpre">filterM</span></span></a><span class="mpre"> </span><a href="#loc_414_1_414_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_414_1_414_8&#39;)"><span class="hl_varref"><span class="mpre">testFFI</span></span></a><span class="mpre"> </span><a href="#loc_406_38_406_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_38_406_46&#39;)"><span class="hl_varref"><span class="mpre">fileList</span></span></a><span class="mpre">
    </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> </span><a href="#loc_407_5_407_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_407_5_407_16&#39;)"><span class="hl_varref"><span class="mpre">ffiFileList</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
        </span><a href="Distribution.Simple.Utils.html#loc_292_1_292_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_292_1_292_7&#39;)"><span class="hl_varref"><span class="mpre">notice</span></span></a><span class="mpre"> </span><a href="#loc_406_14_406_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_14_406_23&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Compiling FFI stubs&quot;</span></span><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">mapM_</span></span><span class="mpre"> (</span><a href="#loc_419_1_419_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_1_419_11&#39;)"><span class="hl_varref"><span class="mpre">compileFFI</span></span></a><span class="mpre"> </span><a href="#loc_406_14_406_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_14_406_23&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_406_24_406_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_24_406_26&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a href="#loc_406_27_406_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_27_406_30&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a href="#loc_406_31_406_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_406_31_406_37&#39;)"><span class="hl_varref"><span class="mpre">modDir</span></span></a><span class="mpre">) </span><a href="#loc_407_5_407_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_407_5_407_16&#39;)"><span class="hl_varref"><span class="mpre">ffiFileList</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- Only compile FFI stubs for a file if it contains some FFI stuff</span></span><span class="mpre">
</span><a href="#loc_414_1_414_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_414_1_414_8&#39;)"><span class="mpre">testFFI</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_414_1_414_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_414_1_414_8&#39;)"><span class="hl_fundecl"><span class="mpre">testFFI</span></span></a><span class="mpre"> </span><a name="loc_414_9_414_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_414_9_414_13&#39;)"><span class="hl_vardecl"><span class="mpre">file</span></span></a><span class="mpre"> =
  </span><a href="#loc_464_1_464_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_1_464_16&#39;)"><span class="hl_varref"><span class="mpre">withHaskellFile</span></span></a><span class="mpre"> </span><a href="#loc_414_9_414_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_414_9_414_13&#39;)"><span class="hl_varref"><span class="mpre">file</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_415_27_415_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_415_27_415_30&#39;)"><span class="hl_vardecl"><span class="mpre">inp</span></span></a><span class="mpre"> -&gt;
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;foreign&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`elem`</span></span><span class="mpre"> </span><a href="#loc_458_1_458_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_1_458_8&#39;)"><span class="hl_varref"><span class="mpre">symbols</span></span></a><span class="mpre"> (</span><a href="#loc_525_1_525_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_525_1_525_14&#39;)"><span class="hl_varref"><span class="mpre">stripComments</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre"> </span><a href="#loc_415_27_415_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_415_27_415_30&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre">)

</span><a href="#loc_419_1_419_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_1_419_11&#39;)"><span class="mpre">compileFFI</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_419_1_419_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_1_419_11&#39;)"><span class="hl_fundecl"><span class="mpre">compileFFI</span></span></a><span class="mpre"> </span><a name="loc_419_12_419_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_12_419_21&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_419_22_419_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_22_419_24&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a name="loc_419_25_419_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_25_419_28&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_419_29_419_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_29_419_35&#39;)"><span class="hl_vardecl"><span class="mpre">modDir</span></span></a><span class="mpre"> </span><a name="loc_419_36_419_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_36_419_40&#39;)"><span class="hl_vardecl"><span class="mpre">file</span></span></a><span class="mpre"> = do
    (_, </span><a name="loc_420_9_420_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_420_9_420_13&#39;)"><span class="hl_vardecl"><span class="mpre">opts</span></span></a><span class="mpre">, </span><a name="loc_420_15_420_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_420_15_420_24&#39;)"><span class="hl_vardecl"><span class="mpre">file_incs</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_482_1_482_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_1_482_21&#39;)"><span class="hl_varref"><span class="mpre">getOptionsFromSource</span></span></a><span class="mpre"> </span><a href="#loc_419_36_419_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_36_419_40&#39;)"><span class="hl_varref"><span class="mpre">file</span></span></a><span class="mpre">
    let </span><a name="loc_421_9_421_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_421_9_421_16&#39;)"><span class="hl_vardecl"><span class="mpre">ghcOpts</span></span></a><span class="mpre"> = [ </span><a href="#loc_421_46_421_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_421_46_421_48&#39;)"><span class="hl_varref"><span class="mpre">op</span></span></a><span class="mpre"> | (</span><a href="Distribution.Compiler.html#loc_81_23_81_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_23_81_26&#39;)"><span class="hl_conref"><span class="mpre">GHC</span></span></a><span class="mpre">, </span><a name="loc_421_32_421_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_421_32_421_35&#39;)"><span class="hl_vardecl"><span class="mpre">ops</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_420_9_420_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_420_9_420_13&#39;)"><span class="hl_varref"><span class="mpre">opts</span></span></a><span class="mpre">, </span><a name="loc_421_46_421_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_421_46_421_48&#39;)"><span class="hl_vardecl"><span class="mpre">op</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_421_32_421_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_421_32_421_35&#39;)"><span class="hl_varref"><span class="mpre">ops</span></span></a><span class="mpre"> ]
    let </span><a name="loc_422_9_422_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_422_9_422_17&#39;)"><span class="hl_vardecl"><span class="mpre">pkg_incs</span></span></a><span class="mpre"> = [</span><span class="hl_string"><span class="mpre">&quot;\&quot;&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_422_43_422_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_422_43_422_46&#39;)"><span class="hl_varref"><span class="mpre">inc</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;\&quot;&quot;</span></span><span class="mpre"> | </span><a name="loc_422_43_422_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_422_43_422_46&#39;)"><span class="hl_vardecl"><span class="mpre">inc</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_657_9_657_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_657_9_657_17&#39;)"><span class="hl_varref"><span class="mpre">includes</span></span></a><span class="mpre"> </span><a href="#loc_419_22_419_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_22_419_24&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">]
    let </span><a name="loc_423_9_423_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_423_9_423_13&#39;)"><span class="hl_vardecl"><span class="mpre">incs</span></span></a><span class="mpre"> = </span><a href="Data.List.html#loc_314_1_314_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_314_1_314_4&#39;)"><span class="hl_varref"><span class="mpre">nub</span></span></a><span class="mpre"> (</span><a href="Data.List.html#loc_809_1_809_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_809_1_809_5&#39;)"><span class="hl_varref"><span class="mpre">sort</span></span></a><span class="mpre"> (</span><a href="#loc_420_15_420_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_420_15_420_24&#39;)"><span class="hl_varref"><span class="mpre">file_incs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_439_1_439_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_439_1_439_12&#39;)"><span class="hl_varref"><span class="mpre">includeOpts</span></span></a><span class="mpre"> </span><a href="#loc_421_9_421_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_421_9_421_16&#39;)"><span class="hl_varref"><span class="mpre">ghcOpts</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_422_9_422_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_422_9_422_17&#39;)"><span class="hl_varref"><span class="mpre">pkg_incs</span></span></a><span class="mpre">))
    let </span><a name="loc_424_9_424_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_424_9_424_17&#39;)"><span class="hl_vardecl"><span class="mpre">pathFlag</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;-P&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_419_29_419_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_29_419_35&#39;)"><span class="hl_varref"><span class="mpre">modDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_varref"><span class="mpre">searchPathSeparator</span></span><span class="mpre">]
    let </span><a name="loc_425_9_425_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_9_425_17&#39;)"><span class="hl_vardecl"><span class="mpre">hugsArgs</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;-98&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_424_9_424_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_424_9_424_17&#39;)"><span class="hl_varref"><span class="mpre">pathFlag</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;-i&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre">) </span><a href="#loc_423_9_423_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_423_9_423_13&#39;)"><span class="hl_varref"><span class="mpre">incs</span></span></a><span class="mpre">
    </span><a name="loc_426_5_426_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_426_5_426_11&#39;)"><span class="hl_vardecl"><span class="mpre">cfiles</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_445_1_445_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_1_445_10&#39;)"><span class="hl_varref"><span class="mpre">getCFiles</span></span></a><span class="mpre"> </span><a href="#loc_419_36_419_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_36_419_40&#39;)"><span class="hl_varref"><span class="mpre">file</span></span></a><span class="mpre">
    let </span><a name="loc_427_9_427_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_427_9_427_14&#39;)"><span class="hl_vardecl"><span class="mpre">cArgs</span></span></a><span class="mpre"> =
            [</span><span class="hl_string"><span class="mpre">&quot;-I&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_428_28_428_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_428_28_428_31&#39;)"><span class="hl_varref"><span class="mpre">dir</span></span></a><span class="mpre"> | </span><a name="loc_428_28_428_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_428_28_428_31&#39;)"><span class="hl_vardecl"><span class="mpre">dir</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_656_9_656_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_656_9_656_20&#39;)"><span class="hl_varref"><span class="mpre">includeDirs</span></span></a><span class="mpre"> </span><a href="#loc_419_22_419_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_22_419_24&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">] </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre">
            </span><a href="Distribution.PackageDescription.html#loc_640_9_640_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_640_9_640_18&#39;)"><span class="hl_varref"><span class="mpre">ccOptions</span></span></a><span class="mpre"> </span><a href="#loc_419_22_419_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_22_419_24&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre">
            </span><a href="#loc_426_5_426_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_426_5_426_11&#39;)"><span class="hl_varref"><span class="mpre">cfiles</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre">
            [</span><span class="hl_string"><span class="mpre">&quot;-L&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_431_28_431_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_431_28_431_31&#39;)"><span class="hl_varref"><span class="mpre">dir</span></span></a><span class="mpre"> | </span><a name="loc_431_28_431_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_431_28_431_31&#39;)"><span class="hl_vardecl"><span class="mpre">dir</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_655_9_655_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_655_9_655_21&#39;)"><span class="hl_varref"><span class="mpre">extraLibDirs</span></span></a><span class="mpre"> </span><a href="#loc_419_22_419_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_22_419_24&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">] </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre">
            </span><a href="Distribution.PackageDescription.html#loc_641_9_641_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_641_9_641_18&#39;)"><span class="hl_varref"><span class="mpre">ldOptions</span></span></a><span class="mpre"> </span><a href="#loc_419_22_419_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_22_419_24&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre">
            [</span><span class="hl_string"><span class="mpre">&quot;-l&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_433_28_433_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_433_28_433_31&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre"> | </span><a name="loc_433_28_433_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_433_28_433_31&#39;)"><span class="hl_vardecl"><span class="mpre">lib</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_654_9_654_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_654_9_654_18&#39;)"><span class="hl_varref"><span class="mpre">extraLibs</span></span></a><span class="mpre"> </span><a href="#loc_419_22_419_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_22_419_24&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">] </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre">
            </span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre"> [[</span><span class="hl_string"><span class="mpre">&quot;-framework&quot;</span></span><span class="mpre">, </span><a href="#loc_434_41_434_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_434_41_434_42&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">] | </span><a name="loc_434_41_434_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_434_41_434_42&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> &lt;- </span><a href="Distribution.PackageDescription.html#loc_643_9_643_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_643_9_643_19&#39;)"><span class="hl_varref"><span class="mpre">frameworks</span></span></a><span class="mpre"> </span><a href="#loc_419_22_419_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_22_419_24&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">]
    </span><a href="Distribution.Simple.Program.html#loc_205_1_205_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_205_1_205_21&#39;)"><span class="hl_varref"><span class="mpre">rawSystemProgramConf</span></span></a><span class="mpre"> </span><a href="#loc_419_12_419_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_12_419_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_176_1_176_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_176_1_176_15&#39;)"><span class="hl_varref"><span class="mpre">ffihugsProgram</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21&#39;)"><span class="hl_varref"><span class="mpre">withPrograms</span></span></a><span class="mpre"> </span><a href="#loc_419_25_419_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_25_419_28&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">)
      (</span><a href="#loc_425_9_425_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_9_425_17&#39;)"><span class="hl_varref"><span class="mpre">hugsArgs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_419_36_419_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_419_36_419_40&#39;)"><span class="hl_varref"><span class="mpre">file</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_427_9_427_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_427_9_427_14&#39;)"><span class="hl_varref"><span class="mpre">cArgs</span></span></a><span class="mpre">)

</span><a href="#loc_439_1_439_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_439_1_439_12&#39;)"><span class="mpre">includeOpts</span></a><span class="mpre"> :: [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">] -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_439_1_439_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_439_1_439_12&#39;)"><span class="hl_fundecl"><span class="mpre">includeOpts</span></span></a><span class="mpre"> [] = []
</span><a href="#loc_439_1_439_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_439_1_439_12&#39;)"><span class="hl_fundecl"><span class="mpre">includeOpts</span></span></a><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;-#include&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a name="loc_440_28_440_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_440_28_440_31&#39;)"><span class="hl_vardecl"><span class="mpre">arg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a name="loc_440_34_440_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_440_34_440_38&#39;)"><span class="hl_vardecl"><span class="mpre">opts</span></span></a><span class="mpre">) = </span><a href="#loc_440_28_440_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_440_28_440_31&#39;)"><span class="hl_varref"><span class="mpre">arg</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_439_1_439_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_439_1_439_12&#39;)"><span class="hl_varref"><span class="mpre">includeOpts</span></span></a><span class="mpre"> </span><a href="#loc_440_34_440_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_440_34_440_38&#39;)"><span class="hl_varref"><span class="mpre">opts</span></span></a><span class="mpre">
</span><a href="#loc_439_1_439_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_439_1_439_12&#39;)"><span class="hl_fundecl"><span class="mpre">includeOpts</span></span></a><span class="mpre"> (_ </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a name="loc_441_18_441_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_441_18_441_22&#39;)"><span class="hl_vardecl"><span class="mpre">opts</span></span></a><span class="mpre">) = </span><a href="#loc_439_1_439_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_439_1_439_12&#39;)"><span class="hl_varref"><span class="mpre">includeOpts</span></span></a><span class="mpre"> </span><a href="#loc_441_18_441_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_441_18_441_22&#39;)"><span class="hl_varref"><span class="mpre">opts</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- get C file names from CFILES pragmas throughout the source file</span></span><span class="mpre">
</span><a href="#loc_445_1_445_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_1_445_10&#39;)"><span class="mpre">getCFiles</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_445_1_445_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_1_445_10&#39;)"><span class="hl_fundecl"><span class="mpre">getCFiles</span></span></a><span class="mpre"> </span><a name="loc_445_11_445_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_11_445_15&#39;)"><span class="hl_vardecl"><span class="mpre">file</span></span></a><span class="mpre"> =
  </span><a href="#loc_464_1_464_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_1_464_16&#39;)"><span class="hl_varref"><span class="mpre">withHaskellFile</span></span></a><span class="mpre"> </span><a href="#loc_445_11_445_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_445_11_445_15&#39;)"><span class="hl_varref"><span class="mpre">file</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_446_27_446_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_446_27_446_30&#39;)"><span class="hl_vardecl"><span class="mpre">inp</span></span></a><span class="mpre"> -&gt;
    let </span><a name="loc_447_9_447_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_447_9_447_15&#39;)"><span class="hl_vardecl"><span class="mpre">cfiles</span></span></a><span class="mpre"> =
          [ </span><span class="hl_varref"><span class="mpre">normalise</span></span><span class="mpre"> </span><a href="#loc_453_13_453_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_453_13_453_18&#39;)"><span class="hl_varref"><span class="mpre">cfile</span></span></a><span class="mpre">
          | </span><span class="hl_string"><span class="mpre">&quot;{-#&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;CFILES&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a name="loc_449_32_449_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_449_32_449_36&#39;)"><span class="hl_vardecl"><span class="mpre">rest</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">words</span></span><span class="mpre">
                                     </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">lines</span></span><span class="mpre">
                                     </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_525_1_525_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_525_1_525_14&#39;)"><span class="hl_varref"><span class="mpre">stripComments</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> </span><a href="#loc_446_27_446_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_446_27_446_30&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre">
          , </span><span class="hl_varref"><span class="mpre">last</span></span><span class="mpre"> </span><a href="#loc_449_32_449_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_449_32_449_36&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;#-}&quot;</span></span><span class="mpre">
          , </span><a name="loc_453_13_453_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_453_13_453_18&#39;)"><span class="hl_vardecl"><span class="mpre">cfile</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">init</span></span><span class="mpre"> </span><a href="#loc_449_32_449_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_449_32_449_36&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre">]
     in </span><span class="hl_varref"><span class="mpre">seq</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">length</span></span><span class="mpre"> </span><a href="#loc_447_9_447_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_447_9_447_15&#39;)"><span class="hl_varref"><span class="mpre">cfiles</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_447_9_447_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_447_9_447_15&#39;)"><span class="hl_varref"><span class="mpre">cfiles</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- List of terminal symbols in a source file.</span></span><span class="mpre">
</span><a href="#loc_458_1_458_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_1_458_8&#39;)"><span class="mpre">symbols</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_458_1_458_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_1_458_8&#39;)"><span class="hl_fundecl"><span class="mpre">symbols</span></span></a><span class="mpre"> </span><a name="loc_458_9_458_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_9_458_11&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre"> = case </span><span class="hl_varref"><span class="mpre">lex</span></span><span class="mpre"> </span><a href="#loc_458_9_458_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_9_458_11&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre"> of
    (</span><a name="loc_459_6_459_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_459_6_459_9&#39;)"><span class="hl_vardecl"><span class="mpre">sym</span></span></a><span class="mpre">, </span><a name="loc_459_11_459_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_459_11_459_14&#39;)"><span class="hl_vardecl"><span class="mpre">cs&#39;</span></span></a><span class="mpre">)</span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">_ | </span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> </span><a href="#loc_459_6_459_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_459_6_459_9&#39;)"><span class="hl_varref"><span class="mpre">sym</span></span></a><span class="mpre">) -&gt; </span><a href="#loc_459_6_459_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_459_6_459_9&#39;)"><span class="hl_varref"><span class="mpre">sym</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_458_1_458_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_458_1_458_8&#39;)"><span class="hl_varref"><span class="mpre">symbols</span></span></a><span class="mpre"> </span><a href="#loc_459_11_459_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_459_11_459_14&#39;)"><span class="hl_varref"><span class="mpre">cs&#39;</span></span></a><span class="mpre">
    _ -&gt; []

</span><span class="hl_comment"><span class="mpre">-- Get the non-literate source of a Haskell module.</span></span><span class="mpre">
</span><a href="#loc_464_1_464_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_1_464_16&#39;)"><span class="mpre">withHaskellFile</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_464_1_464_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_1_464_16&#39;)"><span class="hl_fundecl"><span class="mpre">withHaskellFile</span></span></a><span class="mpre"> </span><a name="loc_464_17_464_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_17_464_21&#39;)"><span class="hl_vardecl"><span class="mpre">file</span></span></a><span class="mpre"> </span><a name="loc_464_22_464_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_22_464_28&#39;)"><span class="hl_vardecl"><span class="mpre">action</span></span></a><span class="mpre"> =
    </span><a href="Distribution.Simple.Utils.html#loc_1249_1_1249_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1249_1_1249_21&#39;)"><span class="hl_varref"><span class="mpre">withUTF8FileContents</span></span></a><span class="mpre"> </span><a href="#loc_464_17_464_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_17_464_21&#39;)"><span class="hl_varref"><span class="mpre">file</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_465_34_465_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_465_34_465_38&#39;)"><span class="hl_vardecl"><span class="mpre">text</span></span></a><span class="mpre"> -&gt;
        if </span><span class="hl_string"><span class="mpre">&quot;.lhs&quot;</span></span><span class="mpre"> </span><a href="Data.List.html#loc_294_1_294_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_294_1_294_11&#39;)"><span class="hl_infix"><span class="mpre">`isSuffixOf`</span></span></a><span class="mpre"> </span><a href="#loc_464_17_464_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_17_464_21&#39;)"><span class="hl_varref"><span class="mpre">file</span></span></a><span class="mpre">
          then </span><span class="hl_varref"><span class="mpre">either</span></span><span class="mpre"> </span><a href="#loc_464_22_464_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_22_464_28&#39;)"><span class="hl_varref"><span class="mpre">action</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.PreProcess.Unlit.html#loc_66_1_66_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PreProcess.Unlit.html#loc_66_1_66_6&#39;)"><span class="hl_varref"><span class="mpre">unlit</span></span></a><span class="mpre"> </span><a href="#loc_464_17_464_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_17_464_21&#39;)"><span class="hl_varref"><span class="mpre">file</span></span></a><span class="mpre"> </span><a href="#loc_465_34_465_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_465_34_465_38&#39;)"><span class="hl_varref"><span class="mpre">text</span></span></a><span class="mpre">)
          else </span><a href="#loc_464_22_464_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_22_464_28&#39;)"><span class="hl_varref"><span class="mpre">action</span></span></a><span class="mpre"> </span><a href="#loc_465_34_465_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_465_34_465_38&#39;)"><span class="hl_varref"><span class="mpre">text</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- ------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * options in source files</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- ------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |Read the initial part of a source file, before any Haskell code,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and return the contents of any LANGUAGE, OPTIONS and INCLUDE pragmas.</span></span><span class="mpre">
</span><a href="#loc_482_1_482_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_1_482_21&#39;)"><span class="mpre">getOptionsFromSource</span></a><span class="mpre">
    :: </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> ([</span><a href="Language.Haskell.Extension.html#loc_118_6_118_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_118_6_118_15&#39;)"><span class="hl_tyconref"><span class="mpre">Extension</span></span></a><span class="mpre">],                 </span><span class="hl_comment"><span class="mpre">-- LANGUAGE pragma, if any</span></span><span class="mpre">
           [(</span><a href="Distribution.Compiler.html#loc_81_6_81_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_6_81_20&#39;)"><span class="hl_tyconref"><span class="mpre">CompilerFlavor</span></span></a><span class="mpre">,[</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">])], </span><span class="hl_comment"><span class="mpre">-- OPTIONS_FOO pragmas</span></span><span class="mpre">
           [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]                     </span><span class="hl_comment"><span class="mpre">-- INCLUDE pragmas</span></span><span class="mpre">
          )
</span><a name="loc_482_1_482_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_1_482_21&#39;)"><span class="hl_fundecl"><span class="mpre">getOptionsFromSource</span></span></a><span class="mpre"> </span><a name="loc_482_22_482_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_22_482_26&#39;)"><span class="hl_vardecl"><span class="mpre">file</span></span></a><span class="mpre"> =
    </span><a href="#loc_464_1_464_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_464_1_464_16&#39;)"><span class="hl_varref"><span class="mpre">withHaskellFile</span></span></a><span class="mpre"> </span><a href="#loc_482_22_482_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_482_22_482_26&#39;)"><span class="hl_varref"><span class="mpre">file</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
        (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre">)
      </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">foldr</span></span><span class="mpre"> </span><a href="#loc_512_9_512_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_512_9_512_22&#39;)"><span class="hl_varref"><span class="mpre">appendOptions</span></span></a><span class="mpre"> ([],[],[]) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_499_9_499_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_499_9_499_19&#39;)"><span class="hl_varref"><span class="mpre">getOptions</span></span></a><span class="mpre">
      </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_517_1_517_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_517_1_517_14&#39;)"><span class="hl_varref"><span class="mpre">takeWhileJust</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_495_9_495_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_495_9_495_18&#39;)"><span class="hl_varref"><span class="mpre">getPragma</span></span></a><span class="mpre">
      </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">filter</span></span><span class="mpre"> </span><a href="#loc_490_9_490_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_490_9_490_17&#39;)"><span class="hl_varref"><span class="mpre">textLine</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">dropWhile</span></span><span class="mpre"> </span><a href="GHC.Unicode.html#loc_72_1_72_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Unicode.html#loc_72_1_72_8&#39;)"><span class="hl_varref"><span class="mpre">isSpace</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">lines</span></span><span class="mpre">
      </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_525_1_525_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_525_1_525_14&#39;)"><span class="hl_varref"><span class="mpre">stripComments</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">

  where </span><a name="loc_490_9_490_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_490_9_490_17&#39;)"><span class="hl_fundecl"><span class="mpre">textLine</span></span></a><span class="mpre"> [] = </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
        </span><a href="#loc_490_9_490_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_490_9_490_17&#39;)"><span class="hl_fundecl"><span class="mpre">textLine</span></span></a><span class="mpre"> (</span><span class="hl_char"><span class="mpre">&#39;#&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">_) = </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
        </span><a href="#loc_490_9_490_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_490_9_490_17&#39;)"><span class="hl_fundecl"><span class="mpre">textLine</span></span></a><span class="mpre"> _ = </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">

        </span><a href="#loc_495_9_495_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_495_9_495_18&#39;)"><span class="mpre">getPragma</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
        </span><a name="loc_495_9_495_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_495_9_495_18&#39;)"><span class="hl_fundecl"><span class="mpre">getPragma</span></span></a><span class="mpre"> </span><a name="loc_495_19_495_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_495_19_495_23&#39;)"><span class="hl_vardecl"><span class="mpre">line</span></span></a><span class="mpre"> = case </span><span class="hl_varref"><span class="mpre">words</span></span><span class="mpre"> </span><a href="#loc_495_19_495_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_495_19_495_23&#39;)"><span class="hl_varref"><span class="mpre">line</span></span></a><span class="mpre"> of
            (</span><span class="hl_string"><span class="mpre">&quot;{-#&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a name="loc_496_22_496_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_496_22_496_26&#39;)"><span class="hl_vardecl"><span class="mpre">rest</span></span></a><span class="mpre">) | </span><span class="hl_varref"><span class="mpre">last</span></span><span class="mpre"> </span><a href="#loc_496_22_496_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_496_22_496_26&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;#-}&quot;</span></span><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">init</span></span><span class="mpre"> </span><a href="#loc_496_22_496_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_496_22_496_26&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre">)
            _ -&gt; </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">

        </span><a name="loc_499_9_499_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_499_9_499_19&#39;)"><span class="hl_fundecl"><span class="mpre">getOptions</span></span></a><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;OPTIONS&quot;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_499_31_499_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_499_31_499_35&#39;)"><span class="hl_vardecl"><span class="mpre">opts</span></span></a><span class="mpre">) = ([], [(</span><a href="Distribution.Compiler.html#loc_81_23_81_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_23_81_26&#39;)"><span class="hl_conref"><span class="mpre">GHC</span></span></a><span class="mpre">, </span><a href="#loc_499_31_499_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_499_31_499_35&#39;)"><span class="hl_varref"><span class="mpre">opts</span></span></a><span class="mpre">)], [])
        </span><a href="#loc_499_9_499_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_499_9_499_19&#39;)"><span class="hl_fundecl"><span class="mpre">getOptions</span></span></a><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;OPTIONS_GHC&quot;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_500_35_500_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_500_35_500_39&#39;)"><span class="hl_vardecl"><span class="mpre">opts</span></span></a><span class="mpre">) = ([], [(</span><a href="Distribution.Compiler.html#loc_81_23_81_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_23_81_26&#39;)"><span class="hl_conref"><span class="mpre">GHC</span></span></a><span class="mpre">, </span><a href="#loc_500_35_500_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_500_35_500_39&#39;)"><span class="hl_varref"><span class="mpre">opts</span></span></a><span class="mpre">)], [])
        </span><a href="#loc_499_9_499_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_499_9_499_19&#39;)"><span class="hl_fundecl"><span class="mpre">getOptions</span></span></a><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;OPTIONS_NHC98&quot;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_501_37_501_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_501_37_501_41&#39;)"><span class="hl_vardecl"><span class="mpre">opts</span></span></a><span class="mpre">) = ([], [(</span><a href="Distribution.Compiler.html#loc_81_29_81_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_29_81_32&#39;)"><span class="hl_conref"><span class="mpre">NHC</span></span></a><span class="mpre">, </span><a href="#loc_501_37_501_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_501_37_501_41&#39;)"><span class="hl_varref"><span class="mpre">opts</span></span></a><span class="mpre">)], [])
        </span><a href="#loc_499_9_499_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_499_9_499_19&#39;)"><span class="hl_fundecl"><span class="mpre">getOptions</span></span></a><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;OPTIONS_HUGS&quot;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_502_36_502_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_502_36_502_40&#39;)"><span class="hl_vardecl"><span class="mpre">opts</span></span></a><span class="mpre">) = ([], [(</span><a href="Distribution.Compiler.html#loc_81_41_81_45" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_41_81_45&#39;)"><span class="hl_conref"><span class="mpre">Hugs</span></span></a><span class="mpre">, </span><a href="#loc_502_36_502_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_502_36_502_40&#39;)"><span class="hl_varref"><span class="mpre">opts</span></span></a><span class="mpre">)], [])
        </span><a href="#loc_499_9_499_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_499_9_499_19&#39;)"><span class="hl_fundecl"><span class="mpre">getOptions</span></span></a><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;LANGUAGE&quot;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_503_32_503_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_503_32_503_34&#39;)"><span class="hl_vardecl"><span class="mpre">ws</span></span></a><span class="mpre">) = (</span><a href="Data.Maybe.html#loc_123_1_123_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_123_1_123_9&#39;)"><span class="hl_varref"><span class="mpre">mapMaybe</span></span></a><span class="mpre"> </span><a href="#loc_505_17_505_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_505_17_505_30&#39;)"><span class="hl_varref"><span class="mpre">readExtension</span></span></a><span class="mpre"> </span><a href="#loc_503_32_503_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_503_32_503_34&#39;)"><span class="hl_varref"><span class="mpre">ws</span></span></a><span class="mpre">, [], [])
          where </span><a href="#loc_505_17_505_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_505_17_505_30&#39;)"><span class="mpre">readExtension</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Language.Haskell.Extension.html#loc_118_6_118_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_118_6_118_15&#39;)"><span class="hl_tyconref"><span class="mpre">Extension</span></span></a><span class="mpre">
                </span><a name="loc_505_17_505_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_505_17_505_30&#39;)"><span class="hl_fundecl"><span class="mpre">readExtension</span></span></a><span class="mpre"> </span><a name="loc_505_31_505_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_505_31_505_32&#39;)"><span class="hl_vardecl"><span class="mpre">w</span></span></a><span class="mpre"> = case </span><span class="hl_varref"><span class="mpre">reads</span></span><span class="mpre"> </span><a href="#loc_505_31_505_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_505_31_505_32&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre"> of
                    [(</span><a name="loc_506_23_506_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_506_23_506_26&#39;)"><span class="hl_vardecl"><span class="mpre">ext</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">)] -&gt; </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_506_23_506_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_506_23_506_26&#39;)"><span class="hl_varref"><span class="mpre">ext</span></span></a><span class="mpre">
                    [(</span><a name="loc_507_23_507_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_23_507_26&#39;)"><span class="hl_vardecl"><span class="mpre">ext</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;,&quot;</span></span><span class="mpre">)] -&gt; </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_507_23_507_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_23_507_26&#39;)"><span class="hl_varref"><span class="mpre">ext</span></span></a><span class="mpre">
                    _ -&gt; </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
        </span><a href="#loc_499_9_499_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_499_9_499_19&#39;)"><span class="hl_fundecl"><span class="mpre">getOptions</span></span></a><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;INCLUDE&quot;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_509_31_509_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_509_31_509_33&#39;)"><span class="hl_vardecl"><span class="mpre">ws</span></span></a><span class="mpre">) = ([], [], </span><a href="#loc_509_31_509_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_509_31_509_33&#39;)"><span class="hl_varref"><span class="mpre">ws</span></span></a><span class="mpre">)
        </span><a href="#loc_499_9_499_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_499_9_499_19&#39;)"><span class="hl_fundecl"><span class="mpre">getOptions</span></span></a><span class="mpre"> _ = ([], [], [])

        </span><a name="loc_512_9_512_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_512_9_512_22&#39;)"><span class="hl_fundecl"><span class="mpre">appendOptions</span></span></a><span class="mpre"> (</span><a name="loc_512_24_512_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_512_24_512_28&#39;)"><span class="hl_vardecl"><span class="mpre">exts</span></span></a><span class="mpre">, </span><a name="loc_512_30_512_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_512_30_512_34&#39;)"><span class="hl_vardecl"><span class="mpre">opts</span></span></a><span class="mpre">, </span><a name="loc_512_36_512_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_512_36_512_40&#39;)"><span class="hl_vardecl"><span class="mpre">incs</span></span></a><span class="mpre">) (</span><a name="loc_512_43_512_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_512_43_512_48&#39;)"><span class="hl_vardecl"><span class="mpre">exts&#39;</span></span></a><span class="mpre">, </span><a name="loc_512_50_512_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_512_50_512_55&#39;)"><span class="hl_vardecl"><span class="mpre">opts&#39;</span></span></a><span class="mpre">, </span><a name="loc_512_57_512_62" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_512_57_512_62&#39;)"><span class="hl_vardecl"><span class="mpre">incs&#39;</span></span></a><span class="mpre">)
          = (</span><a href="#loc_512_24_512_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_512_24_512_28&#39;)"><span class="hl_varref"><span class="mpre">exts</span></span></a><span class="hl_infix"><span class="mpre">++</span></span><a href="#loc_512_43_512_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_512_43_512_48&#39;)"><span class="hl_varref"><span class="mpre">exts&#39;</span></span></a><span class="mpre">, </span><a href="#loc_512_30_512_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_512_30_512_34&#39;)"><span class="hl_varref"><span class="mpre">opts</span></span></a><span class="hl_infix"><span class="mpre">++</span></span><a href="#loc_512_50_512_55" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_512_50_512_55&#39;)"><span class="hl_varref"><span class="mpre">opts&#39;</span></span></a><span class="mpre">, </span><a href="#loc_512_36_512_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_512_36_512_40&#39;)"><span class="hl_varref"><span class="mpre">incs</span></span></a><span class="hl_infix"><span class="mpre">++</span></span><a href="#loc_512_57_512_62" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_512_57_512_62&#39;)"><span class="hl_varref"><span class="mpre">incs&#39;</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- takeWhileJust f = map fromJust . takeWhile isJust</span></span><span class="mpre">
</span><a href="#loc_517_1_517_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_517_1_517_14&#39;)"><span class="mpre">takeWhileJust</span></a><span class="mpre"> :: [</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">] -&gt; [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">]
</span><a name="loc_517_1_517_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_517_1_517_14&#39;)"><span class="hl_fundecl"><span class="mpre">takeWhileJust</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_517_21_517_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_517_21_517_22&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_517_23_517_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_517_23_517_25&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) = </span><a href="#loc_517_21_517_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_517_21_517_22&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_517_1_517_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_517_1_517_14&#39;)"><span class="hl_varref"><span class="mpre">takeWhileJust</span></span></a><span class="mpre"> </span><a href="#loc_517_23_517_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_517_23_517_25&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
</span><a href="#loc_517_1_517_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_517_1_517_14&#39;)"><span class="hl_fundecl"><span class="mpre">takeWhileJust</span></span></a><span class="mpre"> _ = []

</span><span class="hl_comment"><span class="mpre">-- |Strip comments from Haskell source.</span></span><span class="mpre">
</span><a href="#loc_525_1_525_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_525_1_525_14&#39;)"><span class="mpre">stripComments</span></a><span class="mpre">
    :: </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">     </span><span class="hl_comment"><span class="mpre">-- ^ preserve pragmas?</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">   </span><span class="hl_comment"><span class="mpre">-- ^ input source text</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
</span><a name="loc_525_1_525_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_525_1_525_14&#39;)"><span class="hl_fundecl"><span class="mpre">stripComments</span></span></a><span class="mpre"> </span><a name="loc_525_15_525_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_525_15_525_26&#39;)"><span class="hl_vardecl"><span class="mpre">keepPragmas</span></span></a><span class="mpre"> = </span><a href="#loc_527_9_527_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_9_527_27&#39;)"><span class="hl_varref"><span class="mpre">stripCommentsLevel</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
  where </span><a href="#loc_527_9_527_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_9_527_27&#39;)"><span class="mpre">stripCommentsLevel</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
        </span><a name="loc_527_9_527_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_9_527_27&#39;)"><span class="hl_fundecl"><span class="mpre">stripCommentsLevel</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> (</span><span class="hl_char"><span class="mpre">&#39;&quot;&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_527_35_527_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_35_527_37&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre">) = </span><span class="hl_char"><span class="mpre">&#39;&quot;&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_538_9_538_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_9_538_19&#39;)"><span class="hl_varref"><span class="mpre">copyString</span></span></a><span class="mpre"> </span><a href="#loc_527_35_527_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_35_527_37&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">
        </span><a href="#loc_527_9_527_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_9_527_27&#39;)"><span class="hl_fundecl"><span class="mpre">stripCommentsLevel</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> (</span><span class="hl_char"><span class="mpre">&#39;-&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><span class="hl_char"><span class="mpre">&#39;-&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_528_39_528_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_528_39_528_41&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre">) =     </span><span class="hl_comment"><span class="mpre">-- FIX: symbols like --&gt;</span></span><span class="mpre">
            </span><a href="#loc_527_9_527_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_9_527_27&#39;)"><span class="hl_varref"><span class="mpre">stripCommentsLevel</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">dropWhile</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">/=</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;\n&#39;</span></span><span class="mpre">) </span><a href="#loc_528_39_528_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_528_39_528_41&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">)
        </span><a href="#loc_527_9_527_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_9_527_27&#39;)"><span class="hl_fundecl"><span class="mpre">stripCommentsLevel</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> (</span><span class="hl_char"><span class="mpre">&#39;{&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><span class="hl_char"><span class="mpre">&#39;-&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><span class="hl_char"><span class="mpre">&#39;#&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_530_43_530_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_530_43_530_45&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre">)
          | </span><a href="#loc_525_15_525_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_525_15_525_26&#39;)"><span class="hl_varref"><span class="mpre">keepPragmas</span></span></a><span class="mpre"> = </span><span class="hl_char"><span class="mpre">&#39;{&#39;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;-&#39;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;#&#39;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_543_9_543_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_543_9_543_19&#39;)"><span class="hl_varref"><span class="mpre">copyPragma</span></span></a><span class="mpre"> </span><a href="#loc_530_43_530_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_530_43_530_45&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">
        </span><a href="#loc_527_9_527_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_9_527_27&#39;)"><span class="hl_fundecl"><span class="mpre">stripCommentsLevel</span></span></a><span class="mpre"> </span><a name="loc_532_28_532_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_532_28_532_29&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> (</span><span class="hl_char"><span class="mpre">&#39;{&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><span class="hl_char"><span class="mpre">&#39;-&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_532_39_532_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_532_39_532_41&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre">) = </span><a href="#loc_527_9_527_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_9_527_27&#39;)"><span class="hl_varref"><span class="mpre">stripCommentsLevel</span></span></a><span class="mpre"> (</span><a href="#loc_532_28_532_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_532_28_532_29&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><a href="#loc_532_39_532_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_532_39_532_41&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">
        </span><a href="#loc_527_9_527_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_9_527_27&#39;)"><span class="hl_fundecl"><span class="mpre">stripCommentsLevel</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> (</span><a name="loc_533_31_533_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_533_31_533_32&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_533_33_533_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_533_33_533_35&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre">) = </span><a href="#loc_533_31_533_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_533_31_533_32&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_527_9_527_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_9_527_27&#39;)"><span class="hl_varref"><span class="mpre">stripCommentsLevel</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="#loc_533_33_533_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_533_33_533_35&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">
        </span><a href="#loc_527_9_527_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_9_527_27&#39;)"><span class="hl_fundecl"><span class="mpre">stripCommentsLevel</span></span></a><span class="mpre"> </span><a name="loc_534_28_534_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_534_28_534_29&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> (</span><span class="hl_char"><span class="mpre">&#39;-&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><span class="hl_char"><span class="mpre">&#39;}&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_534_39_534_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_534_39_534_41&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre">) = </span><a href="#loc_527_9_527_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_9_527_27&#39;)"><span class="hl_varref"><span class="mpre">stripCommentsLevel</span></span></a><span class="mpre"> (</span><a href="#loc_534_28_534_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_534_28_534_29&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><a href="#loc_534_39_534_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_534_39_534_41&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">
        </span><a href="#loc_527_9_527_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_9_527_27&#39;)"><span class="hl_fundecl"><span class="mpre">stripCommentsLevel</span></span></a><span class="mpre"> </span><a name="loc_535_28_535_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_535_28_535_29&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> (_</span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_535_33_535_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_535_33_535_35&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre">) = </span><a href="#loc_527_9_527_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_9_527_27&#39;)"><span class="hl_varref"><span class="mpre">stripCommentsLevel</span></span></a><span class="mpre"> </span><a href="#loc_535_28_535_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_535_28_535_29&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_535_33_535_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_535_33_535_35&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">
        </span><a href="#loc_527_9_527_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_9_527_27&#39;)"><span class="hl_fundecl"><span class="mpre">stripCommentsLevel</span></span></a><span class="mpre"> _ [] = []

        </span><a name="loc_538_9_538_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_9_538_19&#39;)"><span class="hl_fundecl"><span class="mpre">copyString</span></span></a><span class="mpre"> (</span><span class="hl_char"><span class="mpre">&#39;\\&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_538_26_538_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_26_538_27&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_538_28_538_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_28_538_30&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre">) = </span><span class="hl_char"><span class="mpre">&#39;\\&#39;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_538_26_538_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_26_538_27&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_538_9_538_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_9_538_19&#39;)"><span class="hl_varref"><span class="mpre">copyString</span></span></a><span class="mpre"> </span><a href="#loc_538_28_538_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_28_538_30&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">
        </span><a href="#loc_538_9_538_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_9_538_19&#39;)"><span class="hl_fundecl"><span class="mpre">copyString</span></span></a><span class="mpre"> (</span><span class="hl_char"><span class="mpre">&#39;&quot;&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_539_25_539_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_539_25_539_27&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre">) = </span><span class="hl_char"><span class="mpre">&#39;&quot;&#39;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_527_9_527_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_9_527_27&#39;)"><span class="hl_varref"><span class="mpre">stripCommentsLevel</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="#loc_539_25_539_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_539_25_539_27&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">
        </span><a href="#loc_538_9_538_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_9_538_19&#39;)"><span class="hl_fundecl"><span class="mpre">copyString</span></span></a><span class="mpre"> (</span><a name="loc_540_21_540_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_540_21_540_22&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_540_23_540_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_540_23_540_25&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre">) = </span><a href="#loc_540_21_540_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_540_21_540_22&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_538_9_538_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_9_538_19&#39;)"><span class="hl_varref"><span class="mpre">copyString</span></span></a><span class="mpre"> </span><a href="#loc_540_23_540_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_540_23_540_25&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">
        </span><a href="#loc_538_9_538_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_9_538_19&#39;)"><span class="hl_fundecl"><span class="mpre">copyString</span></span></a><span class="mpre"> [] = []

        </span><a name="loc_543_9_543_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_543_9_543_19&#39;)"><span class="hl_fundecl"><span class="mpre">copyPragma</span></span></a><span class="mpre"> (</span><span class="hl_char"><span class="mpre">&#39;#&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><span class="hl_char"><span class="mpre">&#39;-&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><span class="hl_char"><span class="mpre">&#39;}&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_543_33_543_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_543_33_543_35&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre">) = </span><span class="hl_char"><span class="mpre">&#39;#&#39;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;-&#39;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;}&#39;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_527_9_527_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_527_9_527_27&#39;)"><span class="hl_varref"><span class="mpre">stripCommentsLevel</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="#loc_543_33_543_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_543_33_543_35&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">
        </span><a href="#loc_543_9_543_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_543_9_543_19&#39;)"><span class="hl_fundecl"><span class="mpre">copyPragma</span></span></a><span class="mpre"> (</span><a name="loc_544_21_544_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_544_21_544_22&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_544_23_544_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_544_23_544_25&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre">) = </span><a href="#loc_544_21_544_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_544_21_544_22&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_543_9_543_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_543_9_543_19&#39;)"><span class="hl_varref"><span class="mpre">copyPragma</span></span></a><span class="mpre"> </span><a href="#loc_544_23_544_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_544_23_544_25&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">
        </span><a href="#loc_543_9_543_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_543_9_543_19&#39;)"><span class="hl_fundecl"><span class="mpre">copyPragma</span></span></a><span class="mpre"> [] = []

</span><span class="hl_comment"><span class="mpre">-- -----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |Install for Hugs.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- For install, copy-prefix = prefix, but for copy they&#39;re different.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The library goes in \&lt;copy-prefix&gt;\/lib\/hugs\/packages\/\&lt;pkgname&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (i.e. \&lt;prefix&gt;\/lib\/hugs\/packages\/\&lt;pkgname&gt; on the target system).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Each executable goes in \&lt;copy-prefix&gt;\/lib\/hugs\/programs\/\&lt;exename&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (i.e. \&lt;prefix&gt;\/lib\/hugs\/programs\/\&lt;exename&gt; on the target system)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- with a script \&lt;copy-prefix&gt;\/bin\/\&lt;exename&gt; pointing at</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- \&lt;prefix&gt;\/lib\/hugs\/programs\/\&lt;exename&gt;.</span></span><span class="mpre">
</span><a href="#loc_568_1_568_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_1_568_8&#39;)"><span class="mpre">install</span></a><span class="mpre">
    :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^verbosity</span></span><span class="mpre">
    -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^Library install location</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^Program install location</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^Executable install location</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^Program location on target system</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^Build location</span></span><span class="mpre">
    -&gt; (</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">)  </span><span class="hl_comment"><span class="mpre">-- ^Executable (prefix,suffix)</span></span><span class="mpre">
    -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre">
    -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--FIXME: this script should be generated at build time, just installed at this stage</span></span><span class="mpre">
</span><a name="loc_568_1_568_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_1_568_8&#39;)"><span class="hl_fundecl"><span class="mpre">install</span></span></a><span class="mpre"> </span><a name="loc_568_9_568_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_9_568_18&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_568_19_568_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_19_568_22&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_568_23_568_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_23_568_29&#39;)"><span class="hl_vardecl"><span class="mpre">libDir</span></span></a><span class="mpre"> </span><a name="loc_568_30_568_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_30_568_44&#39;)"><span class="hl_vardecl"><span class="mpre">installProgDir</span></span></a><span class="mpre"> </span><a name="loc_568_45_568_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_45_568_51&#39;)"><span class="hl_vardecl"><span class="mpre">binDir</span></span></a><span class="mpre"> </span><a name="loc_568_52_568_65" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_52_568_65&#39;)"><span class="hl_vardecl"><span class="mpre">targetProgDir</span></span></a><span class="mpre"> </span><a name="loc_568_66_568_75" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_66_568_75&#39;)"><span class="hl_vardecl"><span class="mpre">buildPref</span></span></a><span class="mpre"> (</span><a name="loc_568_77_568_87" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_77_568_87&#39;)"><span class="hl_vardecl"><span class="mpre">progprefix</span></span></a><span class="mpre">,</span><a name="loc_568_88_568_98" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_88_568_98&#39;)"><span class="hl_vardecl"><span class="mpre">progsuffix</span></span></a><span class="mpre">) </span><a name="loc_568_100_568_109" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_100_568_109&#39;)"><span class="hl_vardecl"><span class="mpre">pkg_descr</span></span></a><span class="mpre"> = do
    </span><a href="System.Directory.html#loc_351_1_351_25" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_351_1_351_25&#39;)"><span class="hl_varref"><span class="mpre">removeDirectoryRecursive</span></span></a><span class="mpre"> </span><a href="#loc_568_23_568_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_23_568_29&#39;)"><span class="hl_varref"><span class="mpre">libDir</span></span></a><span class="mpre"> </span><a href="Distribution.Compat.Exception.html#loc_14_1_14_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compat.Exception.html#loc_14_1_14_8&#39;)"><span class="hl_infix"><span class="mpre">`catchIO`</span></span></a><span class="mpre"> \_ -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
    </span><a href="Distribution.PackageDescription.html#loc_336_1_336_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_336_1_336_8&#39;)"><span class="hl_varref"><span class="mpre">withLib</span></span></a><span class="mpre"> </span><a href="#loc_568_100_568_109" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_100_568_109&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \ </span><a name="loc_570_27_570_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_570_27_570_30&#39;)"><span class="hl_vardecl"><span class="mpre">lib</span></span></a><span class="mpre"> -&gt;
      </span><a href="Distribution.Simple.Utils.html#loc_695_1_695_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_695_1_695_16&#39;)"><span class="hl_varref"><span class="mpre">findModuleFiles</span></span></a><span class="mpre"> [</span><a href="#loc_568_66_568_75" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_66_568_75&#39;)"><span class="hl_varref"><span class="mpre">buildPref</span></span></a><span class="mpre">] </span><a href="#loc_609_1_609_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_609_1_609_20&#39;)"><span class="hl_varref"><span class="mpre">hugsInstallSuffixes</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_341_1_341_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_341_1_341_11&#39;)"><span class="hl_varref"><span class="mpre">libModules</span></span></a><span class="mpre"> </span><a href="#loc_570_27_570_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_570_27_570_30&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre">)
        </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Distribution.Simple.Utils.html#loc_949_1_949_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_949_1_949_21&#39;)"><span class="hl_varref"><span class="mpre">installOrdinaryFiles</span></span></a><span class="mpre"> </span><a href="#loc_568_9_568_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_9_568_18&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_568_23_568_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_23_568_29&#39;)"><span class="hl_varref"><span class="mpre">libDir</span></span></a><span class="mpre">
    let </span><a name="loc_573_9_573_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_573_9_573_21&#39;)"><span class="hl_vardecl"><span class="mpre">buildProgDir</span></span></a><span class="mpre"> = </span><a href="#loc_568_66_568_75" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_66_568_75&#39;)"><span class="hl_varref"><span class="mpre">buildPref</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;programs&quot;</span></span><span class="mpre">
    </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">any</span></span><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_637_9_637_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_637_9_637_18&#39;)"><span class="hl_varref"><span class="mpre">buildable</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_350_9_350_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_350_9_350_18&#39;)"><span class="hl_varref"><span class="mpre">buildInfo</span></span></a><span class="mpre">) (</span><a href="Distribution.PackageDescription.html#loc_191_9_191_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_191_9_191_20&#39;)"><span class="hl_varref"><span class="mpre">executables</span></span></a><span class="mpre"> </span><a href="#loc_568_100_568_109" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_100_568_109&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre">)) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
        </span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="hl_varref"><span class="mpre">createDirectoryIfMissingVerbose</span></span></a><span class="mpre"> </span><a href="#loc_568_9_568_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_9_568_18&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> </span><a href="#loc_568_45_568_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_45_568_51&#39;)"><span class="hl_varref"><span class="mpre">binDir</span></span></a><span class="mpre">
    </span><a href="Distribution.PackageDescription.html#loc_383_1_383_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_383_1_383_8&#39;)"><span class="hl_varref"><span class="mpre">withExe</span></span></a><span class="mpre"> </span><a href="#loc_568_100_568_109" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_100_568_109&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \ </span><a name="loc_576_27_576_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_27_576_30&#39;)"><span class="hl_vardecl"><span class="mpre">exe</span></span></a><span class="mpre"> -&gt; do
        let </span><a name="loc_577_13_577_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_577_13_577_15&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre"> = </span><a href="Distribution.PackageDescription.html#loc_350_9_350_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_350_9_350_18&#39;)"><span class="hl_varref"><span class="mpre">buildInfo</span></span></a><span class="mpre"> </span><a href="#loc_576_27_576_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_27_576_30&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre">
        let </span><a name="loc_578_13_578_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_578_13_578_24&#39;)"><span class="hl_vardecl"><span class="mpre">theBuildDir</span></span></a><span class="mpre"> = </span><a href="#loc_573_9_573_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_573_9_573_21&#39;)"><span class="hl_varref"><span class="mpre">buildProgDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_348_9_348_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_348_9_348_16&#39;)"><span class="hl_varref"><span class="mpre">exeName</span></span></a><span class="mpre"> </span><a href="#loc_576_27_576_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_27_576_30&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre">
        let </span><a name="loc_579_13_579_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_579_13_579_23&#39;)"><span class="hl_vardecl"><span class="mpre">installDir</span></span></a><span class="mpre"> = </span><a href="#loc_568_30_568_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_30_568_44&#39;)"><span class="hl_varref"><span class="mpre">installProgDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_348_9_348_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_348_9_348_16&#39;)"><span class="hl_varref"><span class="mpre">exeName</span></span></a><span class="mpre"> </span><a href="#loc_576_27_576_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_27_576_30&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre">
        let </span><a name="loc_580_13_580_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_580_13_580_22&#39;)"><span class="hl_vardecl"><span class="mpre">targetDir</span></span></a><span class="mpre"> = </span><a href="#loc_568_52_568_65" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_52_568_65&#39;)"><span class="hl_varref"><span class="mpre">targetProgDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_348_9_348_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_348_9_348_16&#39;)"><span class="hl_varref"><span class="mpre">exeName</span></span></a><span class="mpre"> </span><a href="#loc_576_27_576_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_27_576_30&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre">
        </span><a href="System.Directory.html#loc_351_1_351_25" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_351_1_351_25&#39;)"><span class="hl_varref"><span class="mpre">removeDirectoryRecursive</span></span></a><span class="mpre"> </span><a href="#loc_579_13_579_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_579_13_579_23&#39;)"><span class="hl_varref"><span class="mpre">installDir</span></span></a><span class="mpre"> </span><a href="Distribution.Compat.Exception.html#loc_14_1_14_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compat.Exception.html#loc_14_1_14_8&#39;)"><span class="hl_infix"><span class="mpre">`catchIO`</span></span></a><span class="mpre"> \_ -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
        </span><a href="Distribution.Simple.Utils.html#loc_695_1_695_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_695_1_695_16&#39;)"><span class="hl_varref"><span class="mpre">findModuleFiles</span></span></a><span class="mpre"> [</span><a href="#loc_578_13_578_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_578_13_578_24&#39;)"><span class="hl_varref"><span class="mpre">theBuildDir</span></span></a><span class="mpre">] </span><a href="#loc_609_1_609_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_609_1_609_20&#39;)"><span class="hl_varref"><span class="mpre">hugsInstallSuffixes</span></span></a><span class="mpre">
                        (</span><a href="Distribution.ModuleName.html#loc_118_1_118_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_118_1_118_5&#39;)"><span class="hl_varref"><span class="mpre">ModuleName.main</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_101_1_101_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_101_1_101_18&#39;)"><span class="hl_varref"><span class="mpre">autogenModuleName</span></span></a><span class="mpre"> </span><a href="#loc_568_100_568_109" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_100_568_109&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre">
                                         </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_646_9_646_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_646_9_646_21&#39;)"><span class="hl_varref"><span class="mpre">otherModules</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_350_9_350_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_350_9_350_18&#39;)"><span class="hl_varref"><span class="mpre">buildInfo</span></span></a><span class="mpre"> </span><a href="#loc_576_27_576_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_27_576_30&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre">))
          </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Distribution.Simple.Utils.html#loc_949_1_949_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_949_1_949_21&#39;)"><span class="hl_varref"><span class="mpre">installOrdinaryFiles</span></span></a><span class="mpre"> </span><a href="#loc_568_9_568_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_9_568_18&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_579_13_579_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_579_13_579_23&#39;)"><span class="hl_varref"><span class="mpre">installDir</span></span></a><span class="mpre">
        let </span><a name="loc_586_13_586_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_586_13_586_23&#39;)"><span class="hl_vardecl"><span class="mpre">targetName</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;\&quot;&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> (</span><a href="#loc_580_13_580_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_580_13_580_22&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_615_1_615_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_615_1_615_17&#39;)"><span class="hl_varref"><span class="mpre">hugsMainFilename</span></span></a><span class="mpre"> </span><a href="#loc_576_27_576_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_27_576_30&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;\&quot;&quot;</span></span><span class="mpre">
        let </span><a name="loc_587_13_587_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_587_13_587_24&#39;)"><span class="hl_vardecl"><span class="mpre">hugsOptions</span></span></a><span class="mpre"> = </span><a href="Distribution.PackageDescription.html#loc_778_1_778_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_778_1_778_10&#39;)"><span class="hl_varref"><span class="mpre">hcOptions</span></span></a><span class="mpre"> </span><a href="Distribution.Compiler.html#loc_81_41_81_45" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_41_81_45&#39;)"><span class="hl_conref"><span class="mpre">Hugs</span></span></a><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_350_9_350_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_350_9_350_18&#39;)"><span class="hl_varref"><span class="mpre">buildInfo</span></span></a><span class="mpre"> </span><a href="#loc_576_27_576_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_27_576_30&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre">)
                       </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.Compiler.html#loc_188_1_188_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_188_1_188_16&#39;)"><span class="hl_varref"><span class="mpre">languageToFlags</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> </span><a href="#loc_568_19_568_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_19_568_22&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) (</span><a href="Distribution.PackageDescription.html#loc_648_9_648_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_648_9_648_24&#39;)"><span class="hl_varref"><span class="mpre">defaultLanguage</span></span></a><span class="mpre"> </span><a href="#loc_577_13_577_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_577_13_577_15&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">)
                       </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.Compiler.html#loc_206_1_206_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_206_1_206_18&#39;)"><span class="hl_varref"><span class="mpre">extensionsToFlags</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> </span><a href="#loc_568_19_568_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_19_568_22&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) (</span><a href="Distribution.PackageDescription.html#loc_762_1_762_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_762_1_762_14&#39;)"><span class="hl_varref"><span class="mpre">allExtensions</span></span></a><span class="mpre"> </span><a href="#loc_577_13_577_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_577_13_577_15&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">)
            </span><span class="hl_comment"><span class="mpre">--TODO: also need to consider options, extensions etc of deps</span></span><span class="mpre">
            </span><span class="hl_comment"><span class="mpre">--      see ticket #43</span></span><span class="mpre">
        let </span><a name="loc_592_13_592_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_592_13_592_24&#39;)"><span class="hl_vardecl"><span class="mpre">baseExeFile</span></span></a><span class="mpre"> = </span><a href="#loc_568_77_568_87" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_77_568_87&#39;)"><span class="hl_varref"><span class="mpre">progprefix</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_348_9_348_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_348_9_348_16&#39;)"><span class="hl_varref"><span class="mpre">exeName</span></span></a><span class="mpre"> </span><a href="#loc_576_27_576_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_27_576_30&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_568_88_568_98" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_88_568_98&#39;)"><span class="hl_varref"><span class="mpre">progsuffix</span></span></a><span class="mpre">
        let </span><a name="loc_593_13_593_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_13_593_20&#39;)"><span class="hl_vardecl"><span class="mpre">exeFile</span></span></a><span class="mpre"> = case </span><a href="Distribution.System.html#loc_112_1_112_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_112_1_112_8&#39;)"><span class="hl_varref"><span class="mpre">buildOS</span></span></a><span class="mpre"> of
                          </span><a href="Distribution.System.html#loc_66_19_66_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_66_19_66_26&#39;)"><span class="hl_conref"><span class="mpre">Windows</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_568_45_568_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_45_568_51&#39;)"><span class="hl_varref"><span class="mpre">binDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_592_13_592_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_592_13_592_24&#39;)"><span class="hl_varref"><span class="mpre">baseExeFile</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;.bat&quot;</span></span><span class="mpre">
                          _       -&gt; </span><a href="#loc_568_45_568_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_568_45_568_51&#39;)"><span class="hl_varref"><span class="mpre">binDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_592_13_592_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_592_13_592_24&#39;)"><span class="hl_varref"><span class="mpre">baseExeFile</span></span></a><span class="mpre">
        let </span><a name="loc_596_13_596_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_596_13_596_19&#39;)"><span class="hl_vardecl"><span class="mpre">script</span></span></a><span class="mpre"> = case </span><a href="Distribution.System.html#loc_112_1_112_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_112_1_112_8&#39;)"><span class="hl_varref"><span class="mpre">buildOS</span></span></a><span class="mpre"> of
                         </span><a href="Distribution.System.html#loc_66_19_66_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_66_19_66_26&#39;)"><span class="hl_conref"><span class="mpre">Windows</span></span></a><span class="mpre"> -&gt;
                             let </span><a name="loc_598_34_598_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_598_34_598_38&#39;)"><span class="hl_vardecl"><span class="mpre">args</span></span></a><span class="mpre"> = </span><a href="#loc_587_13_587_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_587_13_587_24&#39;)"><span class="hl_varref"><span class="mpre">hugsOptions</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><a href="#loc_586_13_586_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_586_13_586_23&#39;)"><span class="hl_varref"><span class="mpre">targetName</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;%*&quot;</span></span><span class="mpre">]
                             in </span><span class="hl_varref"><span class="mpre">unlines</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;@echo off&quot;</span></span><span class="mpre">,
                                         </span><span class="hl_varref"><span class="mpre">unwords</span></span><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;runhugs&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_598_34_598_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_598_34_598_38&#39;)"><span class="hl_varref"><span class="mpre">args</span></span></a><span class="mpre">)]
                         _ -&gt;
                             let </span><a name="loc_602_34_602_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_602_34_602_38&#39;)"><span class="hl_vardecl"><span class="mpre">args</span></span></a><span class="mpre"> = </span><a href="#loc_587_13_587_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_587_13_587_24&#39;)"><span class="hl_varref"><span class="mpre">hugsOptions</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><a href="#loc_586_13_586_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_586_13_586_23&#39;)"><span class="hl_varref"><span class="mpre">targetName</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;\&quot;$@\&quot;&quot;</span></span><span class="mpre">]
                             in </span><span class="hl_varref"><span class="mpre">unlines</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;#! /bin/sh&quot;</span></span><span class="mpre">,
                                         </span><span class="hl_varref"><span class="mpre">unwords</span></span><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;runhugs&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_602_34_602_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_602_34_602_38&#39;)"><span class="hl_varref"><span class="mpre">args</span></span></a><span class="mpre">)]
        </span><a href="Distribution.Simple.Utils.html#loc_1071_1_1071_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1071_1_1071_16&#39;)"><span class="hl_varref"><span class="mpre">writeFileAtomic</span></span></a><span class="mpre"> </span><a href="#loc_593_13_593_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_13_593_20&#39;)"><span class="hl_varref"><span class="mpre">exeFile</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">BS.Char8.pack</span></span><span class="mpre"> </span><a href="#loc_596_13_596_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_596_13_596_19&#39;)"><span class="hl_varref"><span class="mpre">script</span></span></a><span class="mpre">)
        </span><a href="Distribution.Compat.CopyFile.html#loc_49_1_49_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compat.CopyFile.html#loc_49_1_49_18&#39;)"><span class="hl_varref"><span class="mpre">setFileExecutable</span></span></a><span class="mpre"> </span><a href="#loc_593_13_593_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_593_13_593_20&#39;)"><span class="hl_varref"><span class="mpre">exeFile</span></span></a><span class="mpre">

</span><a href="#loc_609_1_609_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_609_1_609_20&#39;)"><span class="mpre">hugsInstallSuffixes</span></a><span class="mpre"> :: [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_609_1_609_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_609_1_609_20&#39;)"><span class="hl_vardecl"><span class="mpre">hugsInstallSuffixes</span></span></a><span class="mpre"> = [</span><span class="hl_string"><span class="mpre">&quot;.hs&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;.lhs&quot;</span></span><span class="mpre">, </span><a href="Distribution.Simple.BuildPaths.html#loc_148_1_148_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_148_1_148_13&#39;)"><span class="hl_varref"><span class="mpre">dllExtension</span></span></a><span class="mpre">]

</span><span class="hl_comment"><span class="mpre">-- |Filename used by Hugs for the main module of an executable.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is a simple filename, so that Hugs will look for any auxiliary</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- modules it uses relative to the directory it&#39;s in.</span></span><span class="mpre">
</span><a href="#loc_615_1_615_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_615_1_615_17&#39;)"><span class="mpre">hugsMainFilename</span></a><span class="mpre"> :: </span><a href="Distribution.PackageDescription.html#loc_347_6_347_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_347_6_347_16&#39;)"><span class="hl_tyconref"><span class="mpre">Executable</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
</span><a name="loc_615_1_615_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_615_1_615_17&#39;)"><span class="hl_fundecl"><span class="mpre">hugsMainFilename</span></span></a><span class="mpre"> </span><a name="loc_615_18_615_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_615_18_615_21&#39;)"><span class="hl_vardecl"><span class="mpre">exe</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;Main&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre"> </span><a href="#loc_616_9_616_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_616_9_616_12&#39;)"><span class="hl_varref"><span class="mpre">ext</span></span></a><span class="mpre">
  where </span><a name="loc_616_9_616_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_616_9_616_12&#39;)"><span class="hl_vardecl"><span class="mpre">ext</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">takeExtension</span></span><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_349_9_349_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_349_9_349_19&#39;)"><span class="hl_varref"><span class="mpre">modulePath</span></span></a><span class="mpre"> </span><a href="#loc_615_18_615_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_615_18_615_21&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- -----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Registering</span></span><span class="mpre">

</span><a href="#loc_629_1_629_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_1_629_16&#39;)"><span class="mpre">registerPackage</span></a><span class="mpre">
  :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">
  -&gt; </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre">
  -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre">
  -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre">
  -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
  -&gt; </span><span class="hl_tyconref"><span class="mpre">PackageDBStack</span></span><span class="mpre">
  -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_629_1_629_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_1_629_16&#39;)"><span class="hl_fundecl"><span class="mpre">registerPackage</span></span></a><span class="mpre"> </span><a name="loc_629_17_629_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_17_629_26&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_629_27_629_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_27_629_43&#39;)"><span class="hl_vardecl"><span class="mpre">installedPkgInfo</span></span></a><span class="mpre"> </span><a name="loc_629_44_629_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_44_629_47&#39;)"><span class="hl_vardecl"><span class="mpre">pkg</span></span></a><span class="mpre"> </span><a name="loc_629_48_629_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_48_629_51&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_629_52_629_59" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_52_629_59&#39;)"><span class="hl_vardecl"><span class="mpre">inplace</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_packageDbs</span></span><span class="mpre"> = do
  </span><span class="hl_comment"><span class="mpre">--TODO: prefer to have it based on the packageDbs, but how do we know</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- the package subdir based on the name? the user can set crazy libsubdir</span></span><span class="mpre">
  let </span><a name="loc_632_7_632_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_632_7_632_18&#39;)"><span class="hl_vardecl"><span class="mpre">installDirs</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_416_1_416_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_416_1_416_20&#39;)"><span class="hl_varref"><span class="mpre">absoluteInstallDirs</span></span></a><span class="mpre"> </span><a href="#loc_629_44_629_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_44_629_47&#39;)"><span class="hl_varref"><span class="mpre">pkg</span></span></a><span class="mpre"> </span><a href="#loc_629_48_629_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_48_629_51&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">NoCopyDest</span></span><span class="mpre">
      </span><a name="loc_633_7_633_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_633_7_633_13&#39;)"><span class="hl_vardecl"><span class="mpre">pkgdir</span></span></a><span class="mpre">  | </span><a href="#loc_629_52_629_59" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_52_629_59&#39;)"><span class="hl_varref"><span class="mpre">inplace</span></span></a><span class="mpre">   = </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17&#39;)"><span class="hl_varref"><span class="mpre">buildDir</span></span></a><span class="mpre"> </span><a href="#loc_629_48_629_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_48_629_51&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
              | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="Distribution.Simple.InstallDirs.html#loc_108_9_108_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.InstallDirs.html#loc_108_9_108_15&#39;)"><span class="hl_varref"><span class="mpre">libdir</span></span></a><span class="mpre"> </span><a href="#loc_632_7_632_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_632_7_632_18&#39;)"><span class="hl_varref"><span class="mpre">installDirs</span></span></a><span class="mpre">
  </span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="hl_varref"><span class="mpre">createDirectoryIfMissingVerbose</span></span></a><span class="mpre"> </span><a href="#loc_629_17_629_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_17_629_26&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> </span><a href="#loc_633_7_633_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_633_7_633_13&#39;)"><span class="hl_varref"><span class="mpre">pkgdir</span></span></a><span class="mpre">
  </span><a href="Distribution.Simple.Utils.html#loc_1260_1_1260_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1260_1_1260_14&#39;)"><span class="hl_varref"><span class="mpre">writeUTF8File</span></span></a><span class="mpre"> (</span><a href="#loc_633_7_633_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_633_7_633_13&#39;)"><span class="hl_varref"><span class="mpre">pkgdir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;package.conf&quot;</span></span><span class="mpre">)
                (</span><a href="Distribution.InstalledPackageInfo.html#loc_185_1_185_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_185_1_185_25&#39;)"><span class="hl_varref"><span class="mpre">showInstalledPackageInfo</span></span></a><span class="mpre"> </span><a href="#loc_629_27_629_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_629_27_629_43&#39;)"><span class="hl_varref"><span class="mpre">installedPkgInfo</span></span></a><span class="mpre">)
</span></div></body></html>