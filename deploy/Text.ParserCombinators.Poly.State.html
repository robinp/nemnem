<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">module Text.ParserCombinators.Poly.State
  ( </span><span class="hl_comment"><span class="mpre">-- * The Parser datatype</span></span><span class="mpre">
    Parser(P)        </span><span class="hl_comment"><span class="mpre">-- datatype, instance of: Functor, Monad, PolyParse</span></span><span class="mpre">
  , Result(..)        </span><span class="hl_comment"><span class="mpre">-- internal to the parser monad</span></span><span class="mpre">
  , runParser        </span><span class="hl_comment"><span class="mpre">-- :: Parser s t a -&gt; s -&gt; [t] -&gt; (Either String a, s, [t])</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- ** Basic parsers</span></span><span class="mpre">
  , next        </span><span class="hl_comment"><span class="mpre">-- :: Parser s t t</span></span><span class="mpre">
  , eof                </span><span class="hl_comment"><span class="mpre">-- :: Parser s t ()</span></span><span class="mpre">
  , satisfy        </span><span class="hl_comment"><span class="mpre">-- :: (t-&gt;Bool) -&gt; Parser s t t</span></span><span class="mpre">
  , onFail        </span><span class="hl_comment"><span class="mpre">-- :: Parser s t a -&gt; Parser s t a -&gt; Parser s t a</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- ** State-handling</span></span><span class="mpre">
  , stUpdate    </span><span class="hl_comment"><span class="mpre">-- :: (s-&gt;s) -&gt; Parser s t ()</span></span><span class="mpre">
  , stQuery     </span><span class="hl_comment"><span class="mpre">-- :: (s-&gt;a) -&gt; Parser s t a</span></span><span class="mpre">
  , stGet       </span><span class="hl_comment"><span class="mpre">-- :: Parser s t s</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- ** Re-parsing</span></span><span class="mpre">
  , reparse        </span><span class="hl_comment"><span class="mpre">-- :: [t] -&gt; Parser s t ()</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- * Re-export all more general combinators</span></span><span class="mpre">
  , module Text.ParserCombinators.Poly.Base
  , module Control.Applicative
  ) where


import Text.ParserCombinators.Poly.Base
import Text.ParserCombinators.Poly.Result
import Text.ParserCombinators.Poly.StateParser
import Control.Applicative

</span><span class="hl_comment"><span class="mpre">-- The only differences between a State and a StateLazy parser are the instance</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- of Applicative, and the type (and implementation) of runParser.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Apply a parser to an input token sequence.</span></span><span class="mpre">
</span><a href="#loc_33_1_33_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_1_33_10&#39;)"><span class="mpre">runParser</span></a><span class="mpre"> :: </span><a href="Text.ParserCombinators.Poly.StateParser.html#loc_30_9_30_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.StateParser.html#loc_30_9_30_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">] -&gt; (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">, [</span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">])
</span><a name="loc_33_1_33_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_1_33_10&#39;)"><span class="hl_fundecl"><span class="mpre">runParser</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.StateParser.html#loc_30_24_30_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.StateParser.html#loc_30_24_30_25&#39;)"><span class="hl_conref"><span class="mpre">P</span></span></a><span class="mpre"> </span><a name="loc_33_14_33_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_14_33_15&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">) = \</span><a name="loc_33_20_33_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_20_33_21&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">-&gt; </span><a href="#loc_35_5_35_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_5_35_12&#39;)"><span class="hl_varref"><span class="mpre">reTuple</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Text.ParserCombinators.Poly.Result.html#loc_24_1_24_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Result.html#loc_24_1_24_15&#39;)"><span class="hl_varref"><span class="mpre">resultToEither</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_33_14_33_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_14_33_15&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_33_20_33_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_20_33_21&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
  where
    </span><a name="loc_35_5_35_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_5_35_12&#39;)"><span class="hl_fundecl"><span class="mpre">reTuple</span></span></a><span class="mpre"> (</span><a name="loc_35_14_35_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_14_35_20&#39;)"><span class="hl_vardecl"><span class="mpre">either</span></span></a><span class="mpre">, (</span><a name="loc_35_23_35_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_23_35_24&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre">,</span><a name="loc_35_25_35_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_25_35_26&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">)) = (</span><a href="#loc_35_14_35_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_14_35_20&#39;)"><span class="hl_varref"><span class="mpre">either</span></span></a><span class="mpre">, </span><a href="#loc_35_25_35_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_25_35_26&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">, </span><a href="#loc_35_23_35_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_23_35_24&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre">)

instance </span><a href="Control.Applicative.html#loc_113_20_113_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_113_20_113_31&#39;)"><span class="hl_classref"><span class="mpre">Applicative</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.StateParser.html#loc_30_9_30_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.StateParser.html#loc_30_9_30_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) where
    </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_fundecl"><span class="mpre">pure</span></span></a><span class="mpre"> </span><a name="loc_38_10_38_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_10_38_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre">    = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_38_10_38_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_38_10_38_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
    </span><a name="loc_39_5_39_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_5_39_7&#39;)"><span class="hl_vardecl"><span class="mpre">pf</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;*&gt;</span></span></a><span class="mpre"> </span><a name="loc_39_12_39_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_12_39_14&#39;)"><span class="hl_vardecl"><span class="mpre">px</span></span></a><span class="mpre"> = do { </span><a name="loc_39_22_39_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_22_39_23&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_39_5_39_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_5_39_7&#39;)"><span class="hl_varref"><span class="mpre">pf</span></span></a><span class="mpre">; </span><a name="loc_39_31_39_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_31_39_32&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_39_12_39_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_12_39_14&#39;)"><span class="hl_varref"><span class="mpre">px</span></span></a><span class="mpre">; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_39_22_39_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_22_39_23&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_39_31_39_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_31_39_32&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) }
#if defined(GLASGOW_HASKELL) &amp;&amp; GLASGOW_HASKELL &gt; 610
    </span><a name="loc_41_5_41_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_5_41_6&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">  </span><a href="Control.Applicative.html#loc_125_5_125_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_125_5_125_9&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;*</span></span></a><span class="mpre">  </span><a name="loc_41_12_41_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_12_41_13&#39;)"><span class="hl_vardecl"><span class="mpre">q</span></span></a><span class="mpre">  = </span><a href="#loc_41_5_41_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_5_41_6&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="Text.ParserCombinators.Poly.Base.html#loc_79_4_79_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Base.html#loc_79_4_79_13&#39;)"><span class="hl_infix"><span class="mpre">`discard`</span></span></a><span class="mpre"> </span><a href="#loc_41_12_41_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_12_41_13&#39;)"><span class="hl_varref"><span class="mpre">q</span></span></a><span class="mpre">
#endif

instance </span><a href="Control.Applicative.html#loc_138_24_138_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_138_24_138_35&#39;)"><span class="hl_classref"><span class="mpre">Alternative</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.StateParser.html#loc_30_9_30_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.StateParser.html#loc_30_9_30_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) where
    </span><a href="Control.Applicative.html#loc_140_5_140_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_140_5_140_10&#39;)"><span class="hl_vardecl"><span class="mpre">empty</span></span></a><span class="mpre">     = </span><span class="hl_varref"><span class="mpre">fail</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;no parse&quot;</span></span><span class="mpre">
    </span><a name="loc_46_5_46_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_5_46_6&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_142_5_142_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_142_5_142_10&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;|&gt;</span></span></a><span class="mpre"> </span><a name="loc_46_11_46_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_11_46_12&#39;)"><span class="hl_vardecl"><span class="mpre">q</span></span></a><span class="mpre">   = </span><a href="#loc_46_5_46_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_5_46_6&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="Text.ParserCombinators.Poly.StateParser.html#loc_77_7_77_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.StateParser.html#loc_77_7_77_15&#39;)"><span class="hl_infix"><span class="mpre">`onFail`</span></span></a><span class="mpre"> </span><a href="#loc_46_11_46_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_11_46_12&#39;)"><span class="hl_varref"><span class="mpre">q</span></span></a><span class="mpre">

instance </span><a href="Text.ParserCombinators.Poly.Base.html#loc_66_7_66_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.Base.html#loc_66_7_66_16&#39;)"><span class="hl_classref"><span class="mpre">PolyParse</span></span></a><span class="mpre"> (</span><a href="Text.ParserCombinators.Poly.StateParser.html#loc_30_9_30_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Text.ParserCombinators.Poly.StateParser.html#loc_30_9_30_15&#39;)"><span class="hl_tyconref"><span class="mpre">Parser</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------</span></span><span class="mpre">
</span></div></body></html>