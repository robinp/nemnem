<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP, NoImplicitPrelude, FlexibleContexts, RankNTypes #-}

#if __GLASGOW_HASKELL__ &gt;= 702
{-# LANGUAGE Trustworthy #-}
#endif

</span><span class="hl_comment"><span class="mpre">{- |
Module      :  Control.Concurrent.Lifted
Copyright   :  Bas van Dijk
License     :  BSD-style

Maintainer  :  Bas van Dijk &lt;v.dijk.bas@gmail.com&gt;
Stability   :  experimental

This is a wrapped version of &quot;Control.Concurrent&quot; with types generalized
from &#39;IO&#39; to all monads in either &#39;MonadBase&#39; or &#39;MonadBaseControl&#39;.
-}</span></span><span class="mpre">

module Control.Concurrent.Lifted
    ( </span><span class="hl_comment"><span class="mpre">-- * Concurrent Haskell</span></span><span class="mpre">
      ThreadId

      </span><span class="hl_comment"><span class="mpre">-- * Basic concurrency operations</span></span><span class="mpre">
    , myThreadId
    , fork
#if MIN_VERSION_base(4,4,0)
    , forkWithUnmask
#endif
#if MIN_VERSION_base(4,6,0)
    , forkFinally
#endif
    , killThread
    , throwTo

#if MIN_VERSION_base(4,4,0)
      </span><span class="hl_comment"><span class="mpre">-- ** Threads with affinity</span></span><span class="mpre">
    , forkOn
    , forkOnWithUnmask
    , getNumCapabilities
#if MIN_VERSION_base(4,6,0)
    , setNumCapabilities
#endif
    , threadCapability
#endif

      </span><span class="hl_comment"><span class="mpre">-- * Scheduling</span></span><span class="mpre">
    , yield

      </span><span class="hl_comment"><span class="mpre">-- ** Blocking</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- ** Waiting</span></span><span class="mpre">
    , threadDelay
    , threadWaitRead
    , threadWaitWrite

      </span><span class="hl_comment"><span class="mpre">-- * Communication abstractions</span></span><span class="mpre">
    , module Control.Concurrent.MVar.Lifted
    , module Control.Concurrent.Chan.Lifted
    , module Control.Concurrent.QSem.Lifted
    , module Control.Concurrent.QSemN.Lifted
#if !MIN_VERSION_base(4,7,0)
    , module Control.Concurrent.SampleVar.Lifted
#endif

#if !MIN_VERSION_base(4,6,0)
      </span><span class="hl_comment"><span class="mpre">-- * Merging of streams</span></span><span class="mpre">
    , merge
    , nmerge
#endif

      </span><span class="hl_comment"><span class="mpre">-- * Bound Threads</span></span><span class="mpre">
    , C.rtsSupportsBoundThreads
    , forkOS
    , isCurrentThreadBound
    , runInBoundThread
    , runInUnboundThread

#if MIN_VERSION_base(4,6,0)
      </span><span class="hl_comment"><span class="mpre">-- * Weak references to ThreadIds</span></span><span class="mpre">
    , mkWeakThreadId
#endif
    ) where


</span><span class="hl_comment"><span class="mpre">--------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Imports</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- from base:</span></span><span class="mpre">
import Prelude            ( (.) )
import Data.Bool          ( Bool )
import Data.Int           ( Int )
import Data.Function      ( ($) )
import System.IO          ( IO )
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 94, srcSpanStartColumn = 8, srcSpanEndLine = 94, srcSpanEndColumn = 26}, srcInfoPoints = []}) &quot;System.Posix.Types&quot;"><span class="mpre">System.Posix.Types</span></span><span class="mpre"> ( Fd )
#if MIN_VERSION_base(4,6,0)
import Control.Monad      ( (&gt;&gt;=) )
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 97, srcSpanStartColumn = 8, srcSpanEndLine = 97, srcSpanEndColumn = 19}, srcInfoPoints = []}) &quot;Data.Either&quot;"><span class="mpre">Data.Either</span></span><span class="mpre">        ( Either )
import System.Mem.Weak    ( Weak )
#endif

import           </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 101, srcSpanStartColumn = 18, srcSpanEndLine = 101, srcSpanEndColumn = 36}, srcInfoPoints = []}) &quot;Control.Concurrent&quot;"><span class="mpre">Control.Concurrent</span></span><span class="mpre"> ( ThreadId )
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 102, srcSpanStartColumn = 18, srcSpanEndLine = 102, srcSpanEndColumn = 36}, srcInfoPoints = []}) &quot;Control.Concurrent&quot;"><span class="mpre">Control.Concurrent</span></span><span class="mpre"> as C

</span><span class="hl_comment"><span class="mpre">-- from transformers-base:</span></span><span class="mpre">
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 105, srcSpanStartColumn = 8, srcSpanEndLine = 105, srcSpanEndColumn = 26}, srcInfoPoints = []}) &quot;Control.Monad.Base&quot;"><span class="mpre">Control.Monad.Base</span></span><span class="mpre"> ( MonadBase, liftBase )

</span><span class="hl_comment"><span class="mpre">-- from monad-control:</span></span><span class="mpre">
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 108, srcSpanStartColumn = 8, srcSpanEndLine = 108, srcSpanEndColumn = 35}, srcInfoPoints = []}) &quot;Control.Monad.Trans.Control&quot;"><span class="mpre">Control.Monad.Trans.Control</span></span><span class="mpre"> ( MonadBaseControl, liftBaseOp_, liftBaseDiscard )

#if MIN_VERSION_base(4,4,0)
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 111, srcSpanStartColumn = 8, srcSpanEndLine = 111, srcSpanEndColumn = 35}, srcInfoPoints = []}) &quot;Control.Monad.Trans.Control&quot;"><span class="mpre">Control.Monad.Trans.Control</span></span><span class="mpre"> ( liftBaseWith )
import Control.Monad               ( </span><a href="Control.Monad.html#loc_195_1_195_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_195_1_195_5&#39;)"><span class="mpre">void</span></a><span class="mpre"> )
#endif

</span><span class="hl_comment"><span class="mpre">-- from lifted-base (this package):</span></span><span class="mpre">
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 116, srcSpanStartColumn = 8, srcSpanEndLine = 116, srcSpanEndColumn = 38}, srcInfoPoints = []}) &quot;Control.Concurrent.MVar.Lifted&quot;"><span class="mpre">Control.Concurrent.MVar.Lifted</span></span><span class="mpre">
import Control.Concurrent.Chan.Lifted
import Control.Concurrent.QSem.Lifted
import Control.Concurrent.QSemN.Lifted
#if !MIN_VERSION_base(4,7,0)
import Control.Concurrent.SampleVar.Lifted
#endif
import Control.Exception.Lifted ( </span><a href="Control.Exception.Lifted.html#loc_150_1_150_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Lifted.html#loc_150_1_150_8&#39;)"><span class="mpre">throwTo</span></a><span class="mpre">
#if MIN_VERSION_base(4,6,0)
                                , SomeException, </span><a href="Control.Exception.Lifted.html#loc_239_1_239_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Lifted.html#loc_239_1_239_4&#39;)"><span class="mpre">try</span></a><span class="mpre">, </span><a href="Control.Exception.Lifted.html#loc_268_1_268_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Lifted.html#loc_268_1_268_5&#39;)"><span class="mpre">mask</span></a><span class="mpre">
#endif
                                )
#include &quot;inlinable.h&quot;


</span><span class="hl_comment"><span class="mpre">--------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Control.Concurrent</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;C.myThreadId&#39;.</span></span><span class="mpre">
</span><a href="#loc_137_1_137_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_1_137_11&#39;)"><span class="mpre">myThreadId</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 136, srcSpanStartColumn = 15, srcSpanEndLine = 136, srcSpanEndColumn = 32}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 136, srcSpanStartColumn = 30, srcSpanEndLine = 136, srcSpanEndColumn = 32}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">MonadBase IO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ThreadId</span></span><span class="mpre">
</span><a name="loc_137_1_137_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_1_137_11&#39;)"><span class="hl_vardecl"><span class="mpre">myThreadId</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBase</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">C.myThreadId</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE myThreadId #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;C.forkIO&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note that, while the forked computation @m ()@ has access to the captured</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- state, all its side-effects in @m@ are discarded. It is run only for its</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- side-effects in &#39;IO&#39;.</span></span><span class="mpre">
</span><a href="#loc_146_1_146_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_5&#39;)"><span class="mpre">fork</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 145, srcSpanStartColumn = 9, srcSpanEndLine = 145, srcSpanEndColumn = 33}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 145, srcSpanStartColumn = 31, srcSpanEndLine = 145, srcSpanEndColumn = 33}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagra"><span class="mpre">MonadBaseControl IO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ThreadId</span></span><span class="mpre">
</span><a name="loc_146_1_146_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_5&#39;)"><span class="hl_vardecl"><span class="mpre">fork</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBaseDiscard</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">C.forkIO</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE fork #-}</span></span><span class="mpre">

#if MIN_VERSION_base(4,4,0)
</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;C.forkIOWithUnmask&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note that, while the forked computation @m ()@ has access to the captured</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- state, all its side-effects in @m@ are discarded. It is run only for its</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- side-effects in &#39;IO&#39;.</span></span><span class="mpre">
</span><a href="#loc_156_1_156_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_1_156_15&#39;)"><span class="mpre">forkWithUnmask</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 155, srcSpanStartColumn = 19, srcSpanEndLine = 155, srcSpanEndColumn = 43}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 155, srcSpanStartColumn = 41, srcSpanEndLine = 155, srcSpanEndColumn = 43}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">MonadBaseControl IO m =&gt;</span></span><span class="mpre"> ((forall </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">. </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ThreadId</span></span><span class="mpre">
</span><a name="loc_156_1_156_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_1_156_15&#39;)"><span class="hl_fundecl"><span class="mpre">forkWithUnmask</span></span></a><span class="mpre"> </span><a name="loc_156_16_156_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_16_156_17&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBaseWith</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_156_36_156_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_36_156_43&#39;)"><span class="hl_vardecl"><span class="mpre">runInIO</span></span></a><span class="mpre"> -&gt;
                     </span><span class="hl_varref"><span class="mpre">C.forkIOWithUnmask</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_157_44_157_50" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_44_157_50&#39;)"><span class="hl_vardecl"><span class="mpre">unmask</span></span></a><span class="mpre"> -&gt;
                       </span><a href="Control.Monad.html#loc_195_1_195_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_195_1_195_5&#39;)"><span class="hl_varref"><span class="mpre">void</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_156_36_156_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_36_156_43&#39;)"><span class="hl_varref"><span class="mpre">runInIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_156_16_156_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_16_156_17&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">liftBaseOp_</span></span><span class="mpre"> </span><a href="#loc_157_44_157_50" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_157_44_157_50&#39;)"><span class="hl_varref"><span class="mpre">unmask</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE forkWithUnmask #-}</span></span><span class="mpre">
#endif

#if MIN_VERSION_base(4,6,0)
</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;C.forkFinally&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note that in @forkFinally action and_then@, while the forked</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @action@ and the @and_then@ function have access to the captured</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- state, all their side-effects in @m@ are discarded. They&#39;re run</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- only for their side-effects in &#39;IO&#39;.</span></span><span class="mpre">
</span><a href="#loc_171_1_171_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_1_171_12&#39;)"><span class="mpre">forkFinally</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 169, srcSpanStartColumn = 16, srcSpanEndLine = 170, srcSpanEndColumn = 15}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 170, srcSpanStartColumn = 13, srcSpanEndLine = 170, srcSpanEndColumn = 15}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">MonadBaseControl IO m
            =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">SomeException</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ThreadId</span></span><span class="mpre">
</span><a name="loc_171_1_171_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_1_171_12&#39;)"><span class="hl_fundecl"><span class="mpre">forkFinally</span></span></a><span class="mpre"> </span><a name="loc_171_13_171_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_13_171_19&#39;)"><span class="hl_vardecl"><span class="mpre">action</span></span></a><span class="mpre"> </span><a name="loc_171_20_171_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_20_171_28&#39;)"><span class="hl_vardecl"><span class="mpre">and_then</span></span></a><span class="mpre"> =
    </span><a href="Control.Exception.Lifted.html#loc_268_1_268_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Lifted.html#loc_268_1_268_5&#39;)"><span class="hl_varref"><span class="mpre">mask</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_172_13_172_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_13_172_20&#39;)"><span class="hl_vardecl"><span class="mpre">restore</span></span></a><span class="mpre"> -&gt;
      </span><a href="#loc_146_1_146_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_5&#39;)"><span class="hl_varref"><span class="mpre">fork</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Exception.Lifted.html#loc_239_1_239_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Lifted.html#loc_239_1_239_4&#39;)"><span class="hl_varref"><span class="mpre">try</span></span></a><span class="mpre"> (</span><a href="#loc_172_13_172_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_13_172_20&#39;)"><span class="hl_varref"><span class="mpre">restore</span></span></a><span class="mpre"> </span><a href="#loc_171_13_171_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_13_171_19&#39;)"><span class="hl_varref"><span class="mpre">action</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="#loc_171_20_171_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_20_171_28&#39;)"><span class="hl_varref"><span class="mpre">and_then</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE forkFinally #-}</span></span><span class="mpre">
#endif

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;C.killThread&#39;.</span></span><span class="mpre">
</span><a href="#loc_179_1_179_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_1_179_11&#39;)"><span class="mpre">killThread</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 178, srcSpanStartColumn = 15, srcSpanEndLine = 178, srcSpanEndColumn = 32}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 178, srcSpanStartColumn = 30, srcSpanEndLine = 178, srcSpanEndColumn = 32}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">MonadBase IO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ThreadId</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_179_1_179_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_179_1_179_11&#39;)"><span class="hl_vardecl"><span class="mpre">killThread</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBase</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">C.killThread</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE  killThread #-}</span></span><span class="mpre">

#if MIN_VERSION_base(4,4,0)
</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;C.forkOn&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note that, while the forked computation @m ()@ has access to the captured</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- state, all its side-effects in @m@ are discarded. It is run only for its</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- side-effects in &#39;IO&#39;.</span></span><span class="mpre">
</span><a href="#loc_189_1_189_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_189_1_189_7&#39;)"><span class="mpre">forkOn</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 188, srcSpanStartColumn = 11, srcSpanEndLine = 188, srcSpanEndColumn = 35}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 188, srcSpanStartColumn = 33, srcSpanEndLine = 188, srcSpanEndColumn = 35}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">MonadBaseControl IO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ThreadId</span></span><span class="mpre">
</span><a name="loc_189_1_189_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_189_1_189_7&#39;)"><span class="hl_vardecl"><span class="mpre">forkOn</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBaseDiscard</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">C.forkOn</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE forkOn #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;C.forkOnWithUnmask&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note that, while the forked computation @m ()@ has access to the captured</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- state, all its side-effects in @m@ are discarded. It is run only for its</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- side-effects in &#39;IO&#39;.</span></span><span class="mpre">
</span><a href="#loc_198_1_198_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_1_198_17&#39;)"><span class="mpre">forkOnWithUnmask</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 197, srcSpanStartColumn = 21, srcSpanEndLine = 197, srcSpanEndColumn = 45}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 197, srcSpanStartColumn = 43, srcSpanEndLine = 197, srcSpanEndColumn = 45}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">MonadBaseControl IO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; ((forall </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">. </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ThreadId</span></span><span class="mpre">
</span><a name="loc_198_1_198_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_1_198_17&#39;)"><span class="hl_fundecl"><span class="mpre">forkOnWithUnmask</span></span></a><span class="mpre"> </span><a name="loc_198_18_198_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_18_198_21&#39;)"><span class="hl_vardecl"><span class="mpre">cap</span></span></a><span class="mpre"> </span><a name="loc_198_22_198_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_22_198_23&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBaseWith</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_198_42_198_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_42_198_49&#39;)"><span class="hl_vardecl"><span class="mpre">runInIO</span></span></a><span class="mpre"> -&gt;
                           </span><span class="hl_varref"><span class="mpre">C.forkOnWithUnmask</span></span><span class="mpre"> </span><a href="#loc_198_18_198_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_18_198_21&#39;)"><span class="hl_varref"><span class="mpre">cap</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_199_54_199_60" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_199_54_199_60&#39;)"><span class="hl_vardecl"><span class="mpre">unmask</span></span></a><span class="mpre"> -&gt;
                             </span><a href="Control.Monad.html#loc_195_1_195_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_195_1_195_5&#39;)"><span class="hl_varref"><span class="mpre">void</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_198_42_198_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_42_198_49&#39;)"><span class="hl_varref"><span class="mpre">runInIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_198_22_198_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_22_198_23&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">liftBaseOp_</span></span><span class="mpre"> </span><a href="#loc_199_54_199_60" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_199_54_199_60&#39;)"><span class="hl_varref"><span class="mpre">unmask</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE forkOnWithUnmask #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;C.getNumCapabilities&#39;.</span></span><span class="mpre">
</span><a href="#loc_205_1_205_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_205_1_205_19&#39;)"><span class="mpre">getNumCapabilities</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 204, srcSpanStartColumn = 23, srcSpanEndLine = 204, srcSpanEndColumn = 40}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 204, srcSpanStartColumn = 38, srcSpanEndLine = 204, srcSpanEndColumn = 40}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">MonadBase IO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
</span><a name="loc_205_1_205_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_205_1_205_19&#39;)"><span class="hl_vardecl"><span class="mpre">getNumCapabilities</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBase</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">C.getNumCapabilities</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE getNumCapabilities #-}</span></span><span class="mpre">

#if MIN_VERSION_base(4,6,0)
</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;C.setNumCapabilities&#39;.</span></span><span class="mpre">
</span><a href="#loc_211_1_211_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_1_211_19&#39;)"><span class="mpre">setNumCapabilities</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 210, srcSpanStartColumn = 23, srcSpanEndLine = 210, srcSpanEndColumn = 40}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 210, srcSpanStartColumn = 38, srcSpanEndLine = 210, srcSpanEndColumn = 40}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">MonadBase IO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_211_1_211_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_1_211_19&#39;)"><span class="hl_vardecl"><span class="mpre">setNumCapabilities</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBase</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">C.setNumCapabilities</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE setNumCapabilities #-}</span></span><span class="mpre">
#endif

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;C.threadCapability&#39;.</span></span><span class="mpre">
</span><a href="#loc_217_1_217_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_1_217_17&#39;)"><span class="mpre">threadCapability</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 216, srcSpanStartColumn = 21, srcSpanEndLine = 216, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 216, srcSpanStartColumn = 36, srcSpanEndLine = 216, srcSpanEndColumn = 38}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">MonadBase IO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ThreadId</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">)
</span><a name="loc_217_1_217_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_1_217_17&#39;)"><span class="hl_vardecl"><span class="mpre">threadCapability</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBase</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">C.threadCapability</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE threadCapability #-}</span></span><span class="mpre">
#endif

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;C.yield&#39;.</span></span><span class="mpre">
</span><a href="#loc_223_1_223_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_223_1_223_6&#39;)"><span class="mpre">yield</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 222, srcSpanStartColumn = 10, srcSpanEndLine = 222, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 222, srcSpanStartColumn = 25, srcSpanEndLine = 222, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">MonadBase IO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_223_1_223_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_223_1_223_6&#39;)"><span class="hl_vardecl"><span class="mpre">yield</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBase</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">C.yield</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE yield #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;C.threadDelay&#39;.</span></span><span class="mpre">
</span><a href="#loc_228_1_228_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_1_228_12&#39;)"><span class="mpre">threadDelay</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 227, srcSpanStartColumn = 16, srcSpanEndLine = 227, srcSpanEndColumn = 33}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 227, srcSpanStartColumn = 31, srcSpanEndLine = 227, srcSpanEndColumn = 33}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">MonadBase IO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_228_1_228_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_1_228_12&#39;)"><span class="hl_vardecl"><span class="mpre">threadDelay</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBase</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre">  </span><span class="hl_varref"><span class="mpre">C.threadDelay</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE threadDelay #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;C.threadWaitRead&#39;.</span></span><span class="mpre">
</span><a href="#loc_233_1_233_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_233_1_233_15&#39;)"><span class="mpre">threadWaitRead</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 232, srcSpanStartColumn = 19, srcSpanEndLine = 232, srcSpanEndColumn = 36}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 232, srcSpanStartColumn = 34, srcSpanEndLine = 232, srcSpanEndColumn = 36}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">MonadBase IO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Fd</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_233_1_233_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_233_1_233_15&#39;)"><span class="hl_vardecl"><span class="mpre">threadWaitRead</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBase</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">C.threadWaitRead</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE threadWaitRead #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;C.threadWaitWrite&#39;.</span></span><span class="mpre">
</span><a href="#loc_238_1_238_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_1_238_16&#39;)"><span class="mpre">threadWaitWrite</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 237, srcSpanStartColumn = 20, srcSpanEndLine = 237, srcSpanEndColumn = 37}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 237, srcSpanStartColumn = 35, srcSpanEndLine = 237, srcSpanEndColumn = 37}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">MonadBase IO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Fd</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_238_1_238_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_1_238_16&#39;)"><span class="hl_vardecl"><span class="mpre">threadWaitWrite</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBase</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">C.threadWaitWrite</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE threadWaitWrite #-}</span></span><span class="mpre">

#if !MIN_VERSION_base(4,6,0)
</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;C.mergeIO&#39;.</span></span><span class="mpre">
</span><a href="#loc_244_1_244_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_244_1_244_6&#39;)"><span class="mpre">merge</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 243, srcSpanStartColumn = 10, srcSpanEndLine = 243, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 243, srcSpanStartColumn = 25, srcSpanEndLine = 243, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">MonadBase IO m =&gt;</span></span><span class="mpre"> [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">] -&gt; [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">] -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">]
</span><a name="loc_244_1_244_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_244_1_244_6&#39;)"><span class="hl_fundecl"><span class="mpre">merge</span></span></a><span class="mpre"> </span><a name="loc_244_7_244_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_244_7_244_9&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> </span><a name="loc_244_10_244_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_244_10_244_12&#39;)"><span class="hl_vardecl"><span class="mpre">ys</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBase</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">C.mergeIO</span></span><span class="mpre"> </span><a href="#loc_244_7_244_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_244_7_244_9&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre"> </span><a href="#loc_244_10_244_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_244_10_244_12&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE merge #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;C.nmergeIO&#39;.</span></span><span class="mpre">
</span><a href="#loc_249_1_249_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_1_249_7&#39;)"><span class="mpre">nmerge</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 248, srcSpanStartColumn = 11, srcSpanEndLine = 248, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 248, srcSpanStartColumn = 26, srcSpanEndLine = 248, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">MonadBase IO m =&gt;</span></span><span class="mpre"> [[</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">]] -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> [</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">]
</span><a name="loc_249_1_249_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_1_249_7&#39;)"><span class="hl_vardecl"><span class="mpre">nmerge</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBase</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">C.nmergeIO</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE nmerge #-}</span></span><span class="mpre">
#endif

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;C.forkOS&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note that, while the forked computation @m ()@ has access to the captured</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- state, all its side-effects in @m@ are discarded. It is run only for its</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- side-effects in &#39;IO&#39;.</span></span><span class="mpre">
</span><a href="#loc_259_1_259_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_259_1_259_7&#39;)"><span class="mpre">forkOS</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 258, srcSpanStartColumn = 11, srcSpanEndLine = 258, srcSpanEndColumn = 35}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 258, srcSpanStartColumn = 33, srcSpanEndLine = 258, srcSpanEndColumn = 35}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">MonadBaseControl IO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ThreadId</span></span><span class="mpre">
</span><a name="loc_259_1_259_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_259_1_259_7&#39;)"><span class="hl_vardecl"><span class="mpre">forkOS</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBaseDiscard</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">C.forkOS</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE forkOS #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;C.isCurrentThreadBound&#39;.</span></span><span class="mpre">
</span><a href="#loc_264_1_264_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_1_264_21&#39;)"><span class="mpre">isCurrentThreadBound</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 263, srcSpanStartColumn = 25, srcSpanEndLine = 263, srcSpanEndColumn = 42}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 263, srcSpanStartColumn = 40, srcSpanEndLine = 263, srcSpanEndColumn = 42}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">MonadBase IO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_264_1_264_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_1_264_21&#39;)"><span class="hl_vardecl"><span class="mpre">isCurrentThreadBound</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBase</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">C.isCurrentThreadBound</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE isCurrentThreadBound #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;C.runInBoundThread&#39;.</span></span><span class="mpre">
</span><a href="#loc_269_1_269_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_269_1_269_17&#39;)"><span class="mpre">runInBoundThread</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 268, srcSpanStartColumn = 21, srcSpanEndLine = 268, srcSpanEndColumn = 45}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 268, srcSpanStartColumn = 43, srcSpanEndLine = 268, srcSpanEndColumn = 45}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">MonadBaseControl IO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_269_1_269_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_269_1_269_17&#39;)"><span class="hl_vardecl"><span class="mpre">runInBoundThread</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBaseOp_</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">C.runInBoundThread</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE runInBoundThread #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Generalized version of &#39;C.runInUnboundThread&#39;.</span></span><span class="mpre">
</span><a href="#loc_274_1_274_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_1_274_19&#39;)"><span class="mpre">runInUnboundThread</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 273, srcSpanStartColumn = 23, srcSpanEndLine = 273, srcSpanEndColumn = 47}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 273, srcSpanStartColumn = 45, srcSpanEndLine = 273, srcSpanEndColumn = 47}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">MonadBaseControl IO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_274_1_274_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_1_274_19&#39;)"><span class="hl_vardecl"><span class="mpre">runInUnboundThread</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBaseOp_</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">C.runInUnboundThread</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE runInUnboundThread #-}</span></span><span class="mpre">

#if MIN_VERSION_base(4,6,0)
</span><span class="hl_comment"><span class="mpre">-- | Generalized versio  of &#39;C.mkWeakThreadId&#39;.</span></span><span class="mpre">
</span><a href="#loc_280_1_280_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_1_280_15&#39;)"><span class="mpre">mkWeakThreadId</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 279, srcSpanStartColumn = 19, srcSpanEndLine = 279, srcSpanEndColumn = 36}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lifted-base-0.2.3.0/Control/Concurrent/Lifted.hs&quot;, srcSpanStartLine = 279, srcSpanStartColumn = 34, srcSpanEndLine = 279, srcSpanEndColumn = 36}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">MonadBase IO m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ThreadId</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Weak</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ThreadId</span></span><span class="mpre">)
</span><a name="loc_280_1_280_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_1_280_15&#39;)"><span class="hl_vardecl"><span class="mpre">mkWeakThreadId</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">liftBase</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">C.mkWeakThreadId</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-# INLINABLE mkWeakThreadId #-}</span></span><span class="mpre">
#endif
</span></div></body></html>