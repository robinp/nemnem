<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE PatternGuards, ScopedTypeVariables, ExistentialQuantification, DeriveDataTypeable #-}

</span><span class="hl_comment"><span class="mpre">-- | This module captures annotations on a value, and builds a &#39;Capture&#39; value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   This module has two ways of writing annotations:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   /Impure/: The impure method of writing annotations is susceptible to over-optimisation by GHC</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   - sometimes @\{\-\# OPTIONS_GHC -fno-cse \#\-\}@ will be required.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   /Pure/: The pure method is more verbose, and lacks some type safety.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   As an example of the two styles:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; data Foo = Foo {foo :: Int, bar :: Int}</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   @ impure = &#39;capture&#39; $ Foo {foo = 12, bar = &#39;many&#39; [1 &#39;&amp;=&#39; \&quot;inner\&quot;, 2]} &#39;&amp;=&#39; \&quot;top\&quot;@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   @ pure = &#39;capture_&#39; $ &#39;record&#39; Foo{} [foo := 12, bar :=+ [&#39;atom&#39; 1 &#39;+=&#39; \&quot;inner\&quot;, &#39;atom&#39; 2]] &#39;+=&#39; \&quot;top\&quot;@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   Both evaluate to:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; Capture (Ann &quot;top&quot;) (Ctor (Foo 12 1) [Value 12, Many [Ann &quot;inner&quot; (Value 1), Value 2]]</span></span><span class="mpre">
module System.Console.CmdArgs.Annotate(
    </span><span class="hl_comment"><span class="mpre">-- * Capture framework</span></span><span class="mpre">
    Capture(..), Any(..), fromCapture, defaultMissing,
    </span><span class="hl_comment"><span class="mpre">-- * Impure</span></span><span class="mpre">
    capture, many, (&amp;=),
    </span><span class="hl_comment"><span class="mpre">-- * Pure</span></span><span class="mpre">
    capture_, many_, (+=), atom, record, Annotate((:=),(:=+))
    ) where

import Control.Monad
import Control.Monad.Trans.State
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 33, srcSpanStartColumn = 8, srcSpanEndLine = 33, srcSpanEndColumn = 17}, srcInfoPoints = []}) &quot;Data.Data&quot;"><span class="mpre">Data.Data</span></span><span class="mpre">(Data,Typeable)
import Data.List
import Data.Maybe
import Data.IORef
import System.IO.Unsafe
import Control.Exception
import Data.Generics.Any

</span><span class="warning" data-warning="DeclInfixDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 41, srcSpanStartColumn = 1, srcSpanEndLine = 41, srcSpanEndColumn = 16}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 41, srcSpanStartColumn = 8, srcSpanEndLine = 41, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Conso"><span class="mpre">infixl 2 &amp;=, +=</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclInfixDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 42, srcSpanStartColumn = 1, srcSpanEndLine = 42, srcSpanEndColumn = 11}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 42, srcSpanStartColumn = 7, srcSpanEndLine = 42, srcSpanEndColumn = 8}]}) (AssocNone (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagra"><span class="mpre">infix 3 :=</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | The result of capturing some annotations.</span></span><span class="mpre">
data </span><a name="loc_46_6_46_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_13&#39;)"><span class="hl_tycondecl"><span class="mpre">Capture</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre">
    = </span><a name="loc_47_7_47_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_7_47_11&#39;)"><span class="hl_condecl"><span class="mpre">Many</span></span></a><span class="mpre"> [</span><a href="#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Capture</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre">] </span><span class="hl_comment"><span class="mpre">-- ^ Many values collapsed (&#39;many&#39; or &#39;many_&#39;)</span></span><span class="mpre">
    | </span><a name="loc_48_7_48_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_7_48_10&#39;)"><span class="hl_condecl"><span class="mpre">Ann</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre"> (</span><a href="#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Capture</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre">) </span><span class="hl_comment"><span class="mpre">-- ^ An annotation attached to a value (&#39;&amp;=&#39; or &#39;+=&#39;)</span></span><span class="mpre">
    | </span><a name="loc_49_7_49_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_7_49_12&#39;)"><span class="hl_condecl"><span class="mpre">Value</span></span></a><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_26_6_26_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_6_26_9&#39;)"><span class="hl_tyconref"><span class="mpre">Any</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ A value (just a value, or &#39;atom&#39;)</span></span><span class="mpre">
    | </span><a name="loc_50_7_50_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_7_50_14&#39;)"><span class="hl_condecl"><span class="mpre">Missing</span></span></a><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_26_6_26_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_6_26_9&#39;)"><span class="hl_tyconref"><span class="mpre">Any</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ A missing field (a &#39;RecConError&#39; exception, or missing from &#39;record&#39;)</span></span><span class="mpre">
    | </span><a name="loc_51_7_51_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_7_51_11&#39;)"><span class="hl_condecl"><span class="mpre">Ctor</span></span></a><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_26_6_26_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_6_26_9&#39;)"><span class="hl_tyconref"><span class="mpre">Any</span></span></a><span class="mpre"> [</span><a href="#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Capture</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre">] </span><span class="hl_comment"><span class="mpre">-- ^ A constructor (a constructor, or &#39;record&#39;)</span></span><span class="mpre">
      </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 52, srcSpanStartColumn = 7, srcSpanEndLine = 52, srcSpanEndColumn = 20}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 52, srcSpanStartColumn = 7, srcSpanEndLine = 52, srcSpanEndColumn = 15}]}) [IHead (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/n"><span class="mpre">deriving Show</span></span><span class="mpre">

instance </span><span class="hl_classref"><span class="mpre">Functor</span></span><span class="mpre"> </span><a href="#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Capture</span></span></a><span class="mpre"> where
    </span><a name="loc_55_5_55_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_5_55_9&#39;)"><span class="hl_fundecl"><span class="mpre">fmap</span></span></a><span class="mpre"> </span><a name="loc_55_10_55_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_10_55_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_47_7_47_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_7_47_11&#39;)"><span class="hl_conref"><span class="mpre">Many</span></span></a><span class="mpre"> </span><a name="loc_55_18_55_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_18_55_20&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) = </span><a href="#loc_47_7_47_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_7_47_11&#39;)"><span class="hl_conref"><span class="mpre">Many</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_55_10_55_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_10_55_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) </span><a href="#loc_55_18_55_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_18_55_20&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
    </span><a href="#loc_55_5_55_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_5_55_9&#39;)"><span class="hl_fundecl"><span class="mpre">fmap</span></span></a><span class="mpre"> </span><a name="loc_56_10_56_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_10_56_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_48_7_48_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_7_48_10&#39;)"><span class="hl_conref"><span class="mpre">Ann</span></span></a><span class="mpre"> </span><a name="loc_56_17_56_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_17_56_18&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_56_19_56_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_19_56_20&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><a href="#loc_48_7_48_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_7_48_10&#39;)"><span class="hl_conref"><span class="mpre">Ann</span></span></a><span class="mpre"> (</span><a href="#loc_56_10_56_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_10_56_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_56_17_56_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_17_56_18&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_56_10_56_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_10_56_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_56_19_56_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_56_19_56_20&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
    </span><a href="#loc_55_5_55_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_5_55_9&#39;)"><span class="hl_fundecl"><span class="mpre">fmap</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">f</span></span><span class="mpre"> (</span><a href="#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_7_49_12&#39;)"><span class="hl_conref"><span class="mpre">Value</span></span></a><span class="mpre"> </span><a name="loc_57_19_57_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_19_57_20&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><a href="#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_7_49_12&#39;)"><span class="hl_conref"><span class="mpre">Value</span></span></a><span class="mpre"> </span><a href="#loc_57_19_57_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_19_57_20&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
    </span><a href="#loc_55_5_55_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_5_55_9&#39;)"><span class="hl_fundecl"><span class="mpre">fmap</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">f</span></span><span class="mpre"> (</span><a href="#loc_50_7_50_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_7_50_14&#39;)"><span class="hl_conref"><span class="mpre">Missing</span></span></a><span class="mpre"> </span><a name="loc_58_21_58_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_21_58_22&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><a href="#loc_50_7_50_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_7_50_14&#39;)"><span class="hl_conref"><span class="mpre">Missing</span></span></a><span class="mpre"> </span><a href="#loc_58_21_58_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_21_58_22&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
    </span><a href="#loc_55_5_55_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_55_5_55_9&#39;)"><span class="hl_fundecl"><span class="mpre">fmap</span></span></a><span class="mpre"> </span><a name="loc_59_10_59_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_10_59_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_51_7_51_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_7_51_11&#39;)"><span class="hl_conref"><span class="mpre">Ctor</span></span></a><span class="mpre"> </span><a name="loc_59_18_59_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_18_59_19&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_59_20_59_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_20_59_22&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) = </span><a href="#loc_51_7_51_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_7_51_11&#39;)"><span class="hl_conref"><span class="mpre">Ctor</span></span></a><span class="mpre"> </span><a href="#loc_59_18_59_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_18_59_19&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_59_10_59_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_10_59_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) </span><a href="#loc_59_20_59_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_20_59_22&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Return the value inside a capture.</span></span><span class="mpre">
</span><a href="#loc_64_1_64_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_1_64_12&#39;)"><span class="mpre">fromCapture</span></a><span class="mpre"> :: </span><a href="#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Capture</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre"> -&gt; </span><a href="Data.Generics.Any.html#loc_26_6_26_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_6_26_9&#39;)"><span class="hl_tyconref"><span class="mpre">Any</span></span></a><span class="mpre">
</span><a name="loc_64_1_64_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_1_64_12&#39;)"><span class="hl_fundecl"><span class="mpre">fromCapture</span></span></a><span class="mpre"> (</span><a href="#loc_47_7_47_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_7_47_11&#39;)"><span class="hl_conref"><span class="mpre">Many</span></span></a><span class="mpre"> (</span><a name="loc_64_20_64_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_20_64_21&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">_)) = </span><a href="#loc_64_1_64_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_1_64_12&#39;)"><span class="hl_varref"><span class="mpre">fromCapture</span></span></a><span class="mpre"> </span><a href="#loc_64_20_64_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_20_64_21&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
</span><a href="#loc_64_1_64_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_1_64_12&#39;)"><span class="hl_fundecl"><span class="mpre">fromCapture</span></span></a><span class="mpre"> (</span><a href="#loc_48_7_48_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_7_48_10&#39;)"><span class="hl_conref"><span class="mpre">Ann</span></span></a><span class="mpre"> _ </span><a name="loc_65_20_65_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_20_65_21&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><a href="#loc_64_1_64_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_1_64_12&#39;)"><span class="hl_varref"><span class="mpre">fromCapture</span></span></a><span class="mpre"> </span><a href="#loc_65_20_65_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_20_65_21&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
</span><a href="#loc_64_1_64_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_1_64_12&#39;)"><span class="hl_fundecl"><span class="mpre">fromCapture</span></span></a><span class="mpre"> (</span><a href="#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_7_49_12&#39;)"><span class="hl_conref"><span class="mpre">Value</span></span></a><span class="mpre"> </span><a name="loc_66_20_66_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_20_66_21&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><a href="#loc_66_20_66_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_20_66_21&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
</span><a href="#loc_64_1_64_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_1_64_12&#39;)"><span class="hl_fundecl"><span class="mpre">fromCapture</span></span></a><span class="mpre"> (</span><a href="#loc_50_7_50_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_7_50_14&#39;)"><span class="hl_conref"><span class="mpre">Missing</span></span></a><span class="mpre"> </span><a name="loc_67_22_67_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_22_67_23&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><a href="#loc_67_22_67_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_22_67_23&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
</span><a href="#loc_64_1_64_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_1_64_12&#39;)"><span class="hl_fundecl"><span class="mpre">fromCapture</span></span></a><span class="mpre"> (</span><a href="#loc_51_7_51_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_7_51_11&#39;)"><span class="hl_conref"><span class="mpre">Ctor</span></span></a><span class="mpre"> </span><a name="loc_68_19_68_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_19_68_20&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> _) = </span><a href="#loc_68_19_68_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_19_68_20&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Remove all Missing values by using any previous instances as default values</span></span><span class="mpre">
</span><a href="#loc_73_1_73_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_1_73_15&#39;)"><span class="mpre">defaultMissing</span></a><span class="mpre"> :: </span><a href="#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Capture</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre"> -&gt; </span><a href="#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Capture</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre">
</span><a name="loc_73_1_73_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_1_73_15&#39;)"><span class="hl_fundecl"><span class="mpre">defaultMissing</span></span></a><span class="mpre"> </span><a name="loc_73_16_73_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_16_73_17&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Trans.State.Lazy.html#loc_107_1_107_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.State.Lazy.html#loc_107_1_107_10&#39;)"><span class="hl_varref"><span class="mpre">evalState</span></span></a><span class="mpre"> (</span><a href="#loc_75_9_75_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_9_75_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> </span><a href="#loc_73_16_73_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_16_73_17&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) []
    where
        </span><a name="loc_75_9_75_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_9_75_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_75_11_75_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_11_75_15&#39;)"><span class="hl_vardecl"><span class="mpre">ctor</span></span></a><span class="mpre"> </span><a name="loc_75_16_75_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_16_75_21&#39;)"><span class="hl_vardecl"><span class="mpre">field</span></span></a><span class="mpre"> (</span><a href="#loc_47_7_47_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_7_47_11&#39;)"><span class="hl_conref"><span class="mpre">Many</span></span></a><span class="mpre"> </span><a name="loc_75_28_75_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_28_75_30&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_47_7_47_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_7_47_11&#39;)"><span class="hl_conref"><span class="mpre">Many</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.html#loc_111_1_111_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_111_1_111_5&#39;)"><span class="hl_varref"><span class="mpre">mapM</span></span></a><span class="mpre"> (</span><a href="#loc_75_9_75_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_9_75_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_75_11_75_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_11_75_15&#39;)"><span class="hl_varref"><span class="mpre">ctor</span></span></a><span class="mpre"> </span><a href="#loc_75_16_75_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_16_75_21&#39;)"><span class="hl_varref"><span class="mpre">field</span></span></a><span class="mpre">) </span><a href="#loc_75_28_75_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_28_75_30&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
        </span><a href="#loc_75_9_75_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_9_75_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_76_11_76_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_11_76_15&#39;)"><span class="hl_vardecl"><span class="mpre">ctor</span></span></a><span class="mpre"> </span><a name="loc_76_16_76_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_16_76_21&#39;)"><span class="hl_vardecl"><span class="mpre">field</span></span></a><span class="mpre"> (</span><a href="#loc_48_7_48_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_7_48_10&#39;)"><span class="hl_conref"><span class="mpre">Ann</span></span></a><span class="mpre"> </span><a name="loc_76_27_76_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_27_76_28&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_76_29_76_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_29_76_30&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><a href="#loc_48_7_48_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_7_48_10&#39;)"><span class="hl_conref"><span class="mpre">Ann</span></span></a><span class="mpre"> </span><a href="#loc_76_27_76_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_27_76_28&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_75_9_75_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_9_75_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_76_11_76_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_11_76_15&#39;)"><span class="hl_varref"><span class="mpre">ctor</span></span></a><span class="mpre"> </span><a href="#loc_76_16_76_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_16_76_21&#39;)"><span class="hl_varref"><span class="mpre">field</span></span></a><span class="mpre"> </span><a href="#loc_76_29_76_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_29_76_30&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
        </span><a href="#loc_75_9_75_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_9_75_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">ctor</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">field</span></span><span class="mpre"> (</span><a href="#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_7_49_12&#39;)"><span class="hl_conref"><span class="mpre">Value</span></span></a><span class="mpre"> </span><a name="loc_77_29_77_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_29_77_30&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_7_49_12&#39;)"><span class="hl_conref"><span class="mpre">Value</span></span></a><span class="mpre"> </span><a href="#loc_77_29_77_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_29_77_30&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
        </span><a href="#loc_75_9_75_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_9_75_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a name="loc_78_17_78_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_17_78_21&#39;)"><span class="hl_vardecl"><span class="mpre">ctor</span></span></a><span class="mpre">) (</span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a name="loc_78_29_78_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_29_78_34&#39;)"><span class="hl_vardecl"><span class="mpre">field</span></span></a><span class="mpre">) (</span><a href="#loc_50_7_50_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_7_50_14&#39;)"><span class="hl_conref"><span class="mpre">Missing</span></span></a><span class="mpre"> </span><a name="loc_78_45_78_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_45_78_46&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = do
            </span><a name="loc_79_13_79_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_13_79_14&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.Trans.State.Lazy.html#loc_212_1_212_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.State.Lazy.html#loc_212_1_212_4&#39;)"><span class="hl_varref"><span class="mpre">get</span></span></a><span class="mpre">
            </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">head</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
                [</span><a href="#loc_81_37_81_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_37_81_39&#39;)"><span class="hl_varref"><span class="mpre">x2</span></span></a><span class="mpre"> | (</span><a name="loc_81_24_81_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_24_81_29&#39;)"><span class="hl_vardecl"><span class="mpre">ctor2</span></span></a><span class="mpre">,</span><a name="loc_81_30_81_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_30_81_36&#39;)"><span class="hl_vardecl"><span class="mpre">field2</span></span></a><span class="mpre">,</span><a name="loc_81_37_81_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_37_81_39&#39;)"><span class="hl_vardecl"><span class="mpre">x2</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_79_13_79_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_79_13_79_14&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">, </span><a href="Data.Generics.Any.html#loc_50_1_50_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_50_1_50_7&#39;)"><span class="hl_varref"><span class="mpre">typeOf</span></span></a><span class="mpre"> </span><a href="#loc_78_17_78_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_17_78_21&#39;)"><span class="hl_varref"><span class="mpre">ctor</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_50_1_50_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_50_1_50_7&#39;)"><span class="hl_varref"><span class="mpre">typeOf</span></span></a><span class="mpre"> </span><a href="#loc_81_24_81_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_24_81_29&#39;)"><span class="hl_varref"><span class="mpre">ctor2</span></span></a><span class="mpre">, </span><a href="#loc_78_29_78_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_29_78_34&#39;)"><span class="hl_varref"><span class="mpre">field</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_81_30_81_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_30_81_36&#39;)"><span class="hl_varref"><span class="mpre">field2</span></span></a><span class="mpre">] </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre">
                </span><a href="#loc_94_9_94_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_9_94_12&#39;)"><span class="hl_varref"><span class="mpre">err</span></span></a><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;missing value encountered, no field for &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_78_29_78_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_29_78_34&#39;)"><span class="hl_varref"><span class="mpre">field</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; (of type &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_78_45_78_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_45_78_46&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;)&quot;</span></span><span class="mpre">)
        </span><a href="#loc_75_9_75_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_9_75_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> _ _ (</span><a href="#loc_50_7_50_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_7_50_14&#39;)"><span class="hl_conref"><span class="mpre">Missing</span></span></a><span class="mpre"> </span><a name="loc_83_24_83_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_24_83_25&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><a href="#loc_94_9_94_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_9_94_12&#39;)"><span class="hl_varref"><span class="mpre">err</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;missing value encountered, but not as a field (of type &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_83_24_83_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_83_24_83_25&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;)&quot;</span></span><span class="mpre">
        </span><a href="#loc_75_9_75_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_9_75_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> _ _ (</span><a href="#loc_51_7_51_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_7_51_11&#39;)"><span class="hl_conref"><span class="mpre">Ctor</span></span></a><span class="mpre"> </span><a name="loc_84_21_84_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_21_84_22&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_84_23_84_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_23_84_25&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) | </span><span class="hl_varref"><span class="mpre">length</span></span><span class="mpre"> (</span><a href="Data.Generics.Any.html#loc_77_1_77_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_77_1_77_7&#39;)"><span class="hl_varref"><span class="mpre">fields</span></span></a><span class="mpre"> </span><a href="#loc_84_21_84_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_21_84_22&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">length</span></span><span class="mpre"> </span><a href="#loc_84_23_84_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_23_84_25&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre"> = do
            </span><a name="loc_85_13_85_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_13_85_15&#39;)"><span class="hl_vardecl"><span class="mpre">ys</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.html#loc_214_1_214_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_214_1_214_9&#39;)"><span class="hl_varref"><span class="mpre">zipWithM</span></span></a><span class="mpre"> (</span><a href="#loc_89_9_89_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_9_89_10&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_84_21_84_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_21_84_22&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) (</span><a href="Data.Generics.Any.html#loc_77_1_77_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_77_1_77_7&#39;)"><span class="hl_varref"><span class="mpre">fields</span></span></a><span class="mpre"> </span><a href="#loc_84_21_84_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_21_84_22&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) </span><a href="#loc_84_23_84_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_23_84_25&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
            </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_51_7_51_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_7_51_11&#39;)"><span class="hl_conref"><span class="mpre">Ctor</span></span></a><span class="mpre"> (</span><a href="Data.Generics.Any.html#loc_90_1_90_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_90_1_90_10&#39;)"><span class="hl_varref"><span class="mpre">recompose</span></span></a><span class="mpre"> </span><a href="#loc_84_21_84_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_21_84_22&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_64_1_64_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_1_64_12&#39;)"><span class="hl_varref"><span class="mpre">fromCapture</span></span></a><span class="mpre"> </span><a href="#loc_85_13_85_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_13_85_15&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">) </span><a href="#loc_85_13_85_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_13_85_15&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">
        </span><a href="#loc_75_9_75_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_9_75_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> _ _ (</span><a href="#loc_51_7_51_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_7_51_11&#39;)"><span class="hl_conref"><span class="mpre">Ctor</span></span></a><span class="mpre"> </span><a name="loc_87_21_87_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_21_87_22&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_87_23_87_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_23_87_25&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><a href="#loc_51_7_51_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_7_51_11&#39;)"><span class="hl_conref"><span class="mpre">Ctor</span></span></a><span class="mpre"> </span><a href="#loc_87_21_87_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_21_87_22&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Monad.html#loc_111_1_111_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_111_1_111_5&#39;)"><span class="hl_varref"><span class="mpre">mapM</span></span></a><span class="mpre"> (</span><a href="#loc_75_9_75_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_9_75_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">) </span><a href="#loc_87_23_87_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_87_23_87_25&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">

        </span><a name="loc_89_9_89_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_9_89_10&#39;)"><span class="hl_fundecl"><span class="mpre">g</span></span></a><span class="mpre"> </span><a name="loc_89_11_89_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_11_89_15&#39;)"><span class="hl_vardecl"><span class="mpre">ctor</span></span></a><span class="mpre"> </span><a name="loc_89_16_89_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_16_89_21&#39;)"><span class="hl_vardecl"><span class="mpre">field</span></span></a><span class="mpre"> </span><a name="loc_89_22_89_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_22_89_23&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = do
            </span><a name="loc_90_13_90_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_13_90_14&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_75_9_75_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_9_75_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a href="#loc_89_11_89_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_11_89_15&#39;)"><span class="hl_varref"><span class="mpre">ctor</span></span></a><span class="mpre">) (</span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a href="#loc_89_16_89_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_16_89_21&#39;)"><span class="hl_varref"><span class="mpre">field</span></span></a><span class="mpre">) </span><a href="#loc_89_22_89_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_22_89_23&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
            </span><a href="Control.Monad.Trans.State.Lazy.html#loc_223_1_223_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.State.Lazy.html#loc_223_1_223_7&#39;)"><span class="hl_varref"><span class="mpre">modify</span></span></a><span class="mpre"> ((</span><a href="#loc_89_11_89_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_11_89_15&#39;)"><span class="hl_varref"><span class="mpre">ctor</span></span></a><span class="mpre">,</span><a href="#loc_89_16_89_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_16_89_21&#39;)"><span class="hl_varref"><span class="mpre">field</span></span></a><span class="mpre">,</span><a href="#loc_90_13_90_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_13_90_14&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">)</span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">)
            </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_90_13_90_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_90_13_90_14&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">

        </span><a name="loc_94_9_94_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_9_94_12&#39;)"><span class="hl_fundecl"><span class="mpre">err</span></span></a><span class="mpre"> </span><a name="loc_94_13_94_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_13_94_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;System.Console.CmdArgs.Annotate.defaultMissing, &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_94_13_94_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_13_94_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">---------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- IMPURE BIT</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- test = show $ capture $ many [Just ((66::Int) &amp;= P 1 &amp;= P 2), Nothing &amp;= P 8] &amp;= P 3</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{-
Notes On Purity
---------------

There is a risk that things that are unsafe will be inlined. That can generally be
removed by NOININE on everything.

There is also a risk that things get commoned up. For example:

foo = trace &quot;1&quot; 1
bar = trace &quot;1&quot; 1
main = do
    evaluate foo
    evaluate bar

Will print &quot;1&quot; only once, since foo and bar share the same pattern. However, if
anything in the value is a lambda they are not seen as equal. We exploit this by
defining const_ and id_ as per this module.

Now anything wrapped in id_ looks different from anything else.
-}</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">{-
The idea is to keep a stack of either continuations, or values
If you encounter &#39;many&#39; you become a value
If you encounter &#39;&amp;=&#39; you increase the continuation
-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# NOINLINE </span><a href="#loc_132_1_132_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_1_132_4&#39;)"><span class="mpre">ref</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a href="#loc_132_1_132_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_1_132_4&#39;)"><span class="mpre">ref</span></a><span class="mpre"> :: </span><a href="GHC.IORef.html#loc_34_9_34_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_34_9_34_14&#39;)"><span class="hl_tyconref"><span class="mpre">IORef</span></span></a><span class="mpre"> [</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> (</span><a href="#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Capture</span></span></a><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_26_6_26_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_6_26_9&#39;)"><span class="hl_tyconref"><span class="mpre">Any</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Capture</span></span></a><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_26_6_26_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_6_26_9&#39;)"><span class="hl_tyconref"><span class="mpre">Any</span></span></a><span class="mpre">) (</span><a href="#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Capture</span></span></a><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_26_6_26_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_6_26_9&#39;)"><span class="hl_tyconref"><span class="mpre">Any</span></span></a><span class="mpre">)]
</span><a name="loc_132_1_132_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_1_132_4&#39;)"><span class="hl_vardecl"><span class="mpre">ref</span></span></a><span class="mpre"> = </span><a href="GHC.IO.html#loc_165_1_165_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_165_1_165_16&#39;)"><span class="hl_varref"><span class="mpre">unsafePerformIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IORef.html#loc_42_1_42_9" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_42_1_42_9&#39;)"><span class="hl_varref"><span class="mpre">newIORef</span></span></a><span class="mpre"> []

</span><a name="loc_134_1_134_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_1_134_5&#39;)"><span class="hl_vardecl"><span class="mpre">push</span></span></a><span class="mpre"> = </span><a href="Data.IORef.html#loc_70_1_70_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.IORef.html#loc_70_1_70_12&#39;)"><span class="hl_varref"><span class="mpre">modifyIORef</span></span></a><span class="mpre"> </span><a href="#loc_132_1_132_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_1_132_4&#39;)"><span class="hl_varref"><span class="mpre">ref</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">)
</span><a name="loc_135_1_135_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_4&#39;)"><span class="hl_vardecl"><span class="mpre">pop</span></span></a><span class="mpre"> = do </span><a name="loc_135_10_135_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_10_135_11&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_135_12_135_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_12_135_14&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IORef.html#loc_46_1_46_10" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_46_1_46_10&#39;)"><span class="hl_varref"><span class="mpre">readIORef</span></span></a><span class="mpre"> </span><a href="#loc_132_1_132_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_1_132_4&#39;)"><span class="hl_varref"><span class="mpre">ref</span></span></a><span class="mpre">; </span><a href="GHC.IORef.html#loc_50_1_50_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_50_1_50_11&#39;)"><span class="hl_varref"><span class="mpre">writeIORef</span></span></a><span class="mpre"> </span><a href="#loc_132_1_132_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_1_132_4&#39;)"><span class="hl_varref"><span class="mpre">ref</span></span></a><span class="mpre"> </span><a href="#loc_135_12_135_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_12_135_14&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_135_10_135_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_10_135_11&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
</span><a name="loc_136_1_136_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_1_136_7&#39;)"><span class="hl_fundecl"><span class="mpre">change</span></span></a><span class="mpre"> </span><a name="loc_136_8_136_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_8_136_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="Data.IORef.html#loc_70_1_70_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.IORef.html#loc_70_1_70_12&#39;)"><span class="hl_varref"><span class="mpre">modifyIORef</span></span></a><span class="mpre"> </span><a href="#loc_132_1_132_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_1_132_4&#39;)"><span class="hl_varref"><span class="mpre">ref</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_136_31_136_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_31_136_32&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> -&gt; case </span><a href="#loc_136_31_136_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_31_136_32&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> of </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_136_51_136_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_51_136_52&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a name="loc_136_55_136_59" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_55_136_59&#39;)"><span class="hl_vardecl"><span class="mpre">rest</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_136_8_136_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_8_136_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_136_51_136_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_51_136_52&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_136_55_136_59" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_55_136_59&#39;)"><span class="hl_varref"><span class="mpre">rest</span></span></a><span class="mpre"> ; _ -&gt; </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Internal error in Capture&quot;</span></span><span class="mpre">
</span><a name="loc_137_1_137_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_1_137_4&#39;)"><span class="hl_fundecl"><span class="mpre">add</span></span></a><span class="mpre"> </span><a name="loc_137_5_137_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_5_137_6&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_136_1_136_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_1_136_7&#39;)"><span class="hl_varref"><span class="mpre">change</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_137_19_137_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_19_137_20&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_137_19_137_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_19_137_20&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_137_5_137_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_5_137_6&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
</span><a name="loc_138_1_138_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_1_138_4&#39;)"><span class="hl_fundecl"><span class="mpre">set</span></span></a><span class="mpre"> </span><a name="loc_138_5_138_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_5_138_6&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="#loc_136_1_136_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_1_136_7&#39;)"><span class="hl_varref"><span class="mpre">change</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_138_19_138_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_19_138_20&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_138_19_138_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_19_138_20&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_138_5_138_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_5_138_6&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Collapse multiple values in to one.</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# NOINLINE </span><a href="#loc_144_1_144_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_1_144_5&#39;)"><span class="mpre">many</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a href="#loc_144_1_144_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_1_144_5&#39;)"><span class="mpre">many</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 143, srcSpanStartColumn = 9, srcSpanEndLine = 143, srcSpanEndColumn = 20}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 143, srcSpanStartColumn = 18, srcSpanEndLine = 143, srcSpanEndColumn = 20}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vag"><span class="mpre">Data val =&gt;</span></span><span class="mpre"> [</span><span class="hl_tyvar"><span class="mpre">val</span></span><span class="mpre">] -&gt; </span><span class="hl_tyvar"><span class="mpre">val</span></span><span class="mpre">
</span><a name="loc_144_1_144_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_1_144_5&#39;)"><span class="hl_fundecl"><span class="mpre">many</span></span></a><span class="mpre"> </span><a name="loc_144_6_144_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_6_144_8&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> = </span><a href="GHC.IO.html#loc_165_1_165_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_165_1_165_16&#39;)"><span class="hl_varref"><span class="mpre">unsafePerformIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
    </span><a name="loc_145_5_145_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_145_5_145_7&#39;)"><span class="hl_vardecl"><span class="mpre">ys</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.html#loc_111_1_111_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_111_1_111_5&#39;)"><span class="hl_varref"><span class="mpre">mapM</span></span></a><span class="mpre"> (</span><a href="#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">force</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_26_33_26_36" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_33_26_36&#39;)"><span class="hl_conref"><span class="mpre">Any</span></span></a><span class="mpre">) </span><a href="#loc_144_6_144_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_6_144_8&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
    </span><a href="#loc_138_1_138_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_1_138_4&#39;)"><span class="hl_varref"><span class="mpre">set</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_47_7_47_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_7_47_11&#39;)"><span class="hl_conref"><span class="mpre">Many</span></span></a><span class="mpre"> </span><a href="#loc_145_5_145_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_145_5_145_7&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">head</span></span><span class="mpre"> </span><a href="#loc_144_6_144_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_6_144_8&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">


</span><span class="hl_pragma"><span class="mpre">{-# NOINLINE </span><a href="#loc_152_1_152_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_1_152_7&#39;)"><span class="mpre">addAnn</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a href="#loc_152_1_152_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_1_152_7&#39;)"><span class="mpre">addAnn</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 151, srcSpanStartColumn = 11, srcSpanEndLine = 151, srcSpanEndColumn = 34}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 151, srcSpanStartColumn = 11, srcSpanEndLine = 151, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/"><span class="mpre">(Data val, Data ann) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">val</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">val</span></span><span class="mpre">
</span><a name="loc_152_1_152_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_1_152_7&#39;)"><span class="hl_fundecl"><span class="mpre">addAnn</span></span></a><span class="mpre"> </span><a name="loc_152_8_152_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_8_152_9&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_152_10_152_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_10_152_11&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre"> = </span><a href="GHC.IO.html#loc_165_1_165_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_165_1_165_16&#39;)"><span class="hl_varref"><span class="mpre">unsafePerformIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
    </span><a href="#loc_137_1_137_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_1_137_4&#39;)"><span class="hl_varref"><span class="mpre">add</span></span></a><span class="mpre"> (</span><a href="#loc_48_7_48_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_7_48_10&#39;)"><span class="hl_conref"><span class="mpre">Ann</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_26_33_26_36" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_33_26_36&#39;)"><span class="hl_conref"><span class="mpre">Any</span></span></a><span class="mpre"> </span><a href="#loc_152_10_152_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_10_152_11&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">)
    </span><a href="GHC.IO.html#loc_480_1_480_9" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_480_1_480_9&#39;)"><span class="hl_varref"><span class="mpre">evaluate</span></span></a><span class="mpre"> </span><a href="#loc_152_8_152_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_8_152_9&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_152_8_152_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_8_152_9&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Capture a value. Note that if the value is evaluated</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   more than once the result may be different, i.e.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; capture x /= capture x</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# NOINLINE </span><a href="#loc_164_1_164_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_1_164_8&#39;)"><span class="mpre">capture</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a href="#loc_164_1_164_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_1_164_8&#39;)"><span class="mpre">capture</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 163, srcSpanStartColumn = 12, srcSpanEndLine = 163, srcSpanEndColumn = 35}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 163, srcSpanStartColumn = 12, srcSpanEndLine = 163, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/"><span class="mpre">(Data val, Data ann) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">val</span></span><span class="mpre"> -&gt; </span><a href="#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Capture</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre">
</span><a name="loc_164_1_164_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_1_164_8&#39;)"><span class="hl_fundecl"><span class="mpre">capture</span></span></a><span class="mpre"> </span><a name="loc_164_9_164_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_9_164_10&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="GHC.IO.html#loc_165_1_165_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_165_1_165_16&#39;)"><span class="hl_varref"><span class="mpre">unsafePerformIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_34_1_34_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_34_1_34_8&#39;)"><span class="hl_varref"><span class="mpre">fromAny</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">force</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_26_33_26_36" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_33_26_36&#39;)"><span class="hl_conref"><span class="mpre">Any</span></span></a><span class="mpre"> </span><a href="#loc_164_9_164_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_9_164_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">


</span><a href="#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_1_168_6&#39;)"><span class="mpre">force</span></a><span class="mpre"> :: </span><a href="Data.Generics.Any.html#loc_26_6_26_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_6_26_9&#39;)"><span class="hl_tyconref"><span class="mpre">Any</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><a href="#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Capture</span></span></a><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_26_6_26_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_6_26_9&#39;)"><span class="hl_tyconref"><span class="mpre">Any</span></span></a><span class="mpre">)
</span><a name="loc_168_1_168_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_1_168_6&#39;)"><span class="hl_fundecl"><span class="mpre">force</span></span></a><span class="mpre"> </span><a name="loc_168_7_168_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_7_168_8&#39;)"><span class="hl_specname"><span class="mpre">x</span></span></a><span class="mpre">@(</span><a href="Data.Generics.Any.html#loc_26_33_26_36" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_33_26_36&#39;)"><span class="hl_conref"><span class="mpre">Any</span></span></a><span class="mpre"> </span><a name="loc_168_14_168_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_14_168_16&#39;)"><span class="hl_vardecl"><span class="mpre">xx</span></span></a><span class="mpre">) = do
    </span><a href="#loc_134_1_134_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_134_1_134_5&#39;)"><span class="hl_varref"><span class="mpre">push</span></span></a><span class="mpre">
    </span><a name="loc_170_5_170_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_5_170_8&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Exception.Base.html#loc_212_1_212_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Base.html#loc_212_1_212_4&#39;)"><span class="hl_varref"><span class="mpre">try</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="GHC.IO.html#loc_480_1_480_9" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_480_1_480_9&#39;)"><span class="hl_varref"><span class="mpre">evaluate</span></span></a><span class="mpre"> </span><a href="#loc_168_14_168_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_14_168_16&#39;)"><span class="hl_varref"><span class="mpre">xx</span></span></a><span class="mpre">
    </span><a name="loc_171_5_171_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_5_171_6&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_135_1_135_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_4&#39;)"><span class="hl_varref"><span class="mpre">pop</span></span></a><span class="mpre">
    case </span><a href="#loc_171_5_171_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_5_171_6&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> of
        _ | </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> (_ :: </span><a href="Control.Exception.Base.html#loc_326_6_326_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Base.html#loc_326_6_326_17&#39;)"><span class="hl_tyconref"><span class="mpre">RecConError</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_170_5_170_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_5_170_8&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_50_7_50_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_7_50_14&#39;)"><span class="hl_conref"><span class="mpre">Missing</span></span></a><span class="mpre"> </span><a href="#loc_168_7_168_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_7_168_8&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
        </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a name="loc_174_15_174_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_15_174_16&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_174_15_174_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_15_174_16&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
        </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_175_14_175_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_14_175_15&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> | </span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_56_1_56_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_56_1_56_10&#39;)"><span class="hl_varref"><span class="mpre">isAlgType</span></span></a><span class="mpre"> </span><a href="#loc_168_7_168_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_7_168_8&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_175_14_175_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_14_175_15&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_7_49_12&#39;)"><span class="hl_conref"><span class="mpre">Value</span></span></a><span class="mpre"> </span><a href="#loc_168_7_168_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_7_168_8&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
               | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> -&gt; do
            </span><a name="loc_177_13_177_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_13_177_15&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.html#loc_111_1_111_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_111_1_111_5&#39;)"><span class="hl_varref"><span class="mpre">mapM</span></span></a><span class="mpre"> </span><a href="#loc_168_1_168_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_1_168_6&#39;)"><span class="hl_varref"><span class="mpre">force</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_80_1_80_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_80_1_80_9&#39;)"><span class="hl_varref"><span class="mpre">children</span></span></a><span class="mpre"> </span><a href="#loc_168_7_168_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_7_168_8&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
            </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_175_14_175_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_14_175_15&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_51_7_51_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_7_51_11&#39;)"><span class="hl_conref"><span class="mpre">Ctor</span></span></a><span class="mpre"> </span><a href="#loc_168_7_168_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_168_7_168_8&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="#loc_177_13_177_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_13_177_15&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Add an annotation to a value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   It is recommended that anyone making use of this function redefine</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   it with a more restrictive type signature to control the type of the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   annotation (the second argument). Any redefinitions of this function</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   should add an INLINE pragma, to reduce the chance of incorrect</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   optimisations.</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_190_1_190_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_1_190_5&#39;)"><span class="mpre">(&amp;=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a href="#loc_190_1_190_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_1_190_5&#39;)"><span class="mpre">(&amp;=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 189, srcSpanStartColumn = 9, srcSpanEndLine = 189, srcSpanEndColumn = 32}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 189, srcSpanStartColumn = 9, srcSpanEndLine = 189, srcSpanEndColumn = 10},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Co"><span class="mpre">(Data val, Data ann) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">val</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">val</span></span><span class="mpre">
</span><a name="loc_190_1_190_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_1_190_5&#39;)"><span class="hl_fundecl"><span class="mpre">(&amp;=)</span></span></a><span class="mpre"> </span><a name="loc_190_6_190_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_6_190_7&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_190_8_190_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_8_190_9&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre"> = </span><a href="#loc_152_1_152_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_1_152_7&#39;)"><span class="hl_varref"><span class="mpre">addAnn</span></span></a><span class="mpre"> (</span><a href="#loc_194_1_194_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_1_194_4&#39;)"><span class="hl_varref"><span class="mpre">id_</span></span></a><span class="mpre"> </span><a href="#loc_190_6_190_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_6_190_7&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) (</span><a href="#loc_194_1_194_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_1_194_4&#39;)"><span class="hl_varref"><span class="mpre">id_</span></span></a><span class="mpre"> </span><a href="#loc_190_8_190_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_190_8_190_9&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">)

</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_194_1_194_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_1_194_4&#39;)"><span class="mpre">id_</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a href="#loc_194_1_194_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_1_194_4&#39;)"><span class="mpre">id_</span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_194_1_194_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_1_194_4&#39;)"><span class="hl_fundecl"><span class="mpre">id_</span></span></a><span class="mpre"> </span><a name="loc_194_5_194_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_5_194_6&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = case </span><a href="#loc_195_11_195_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_11_195_15&#39;)"><span class="hl_varref"><span class="mpre">unit</span></span></a><span class="mpre"> of </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre"> -&gt; </span><a href="#loc_194_5_194_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_5_194_6&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
    where </span><a name="loc_195_11_195_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_11_195_15&#39;)"><span class="hl_vardecl"><span class="mpre">unit</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">reverse</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`seq`</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">---------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- PURE PART</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This type represents an annotated value. The type of the underlying value is not specified.</span></span><span class="mpre">
data </span><a name="loc_202_6_202_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_6_202_14&#39;)"><span class="hl_tycondecl"><span class="mpre">Annotate</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre">
    = forall c f . (Data c, Data f) =&gt; (</span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">) </span><a name="loc_203_49_203_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_49_203_51&#39;)"><span class="hl_condecl"><span class="mpre">:=</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ Construct a field, @fieldname := value@.</span></span><span class="mpre">
    | forall c f . (Data c, Data f) =&gt; (</span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre">) </span><a name="loc_204_49_204_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_49_204_52&#39;)"><span class="hl_condecl"><span class="mpre">:=+</span></span></a><span class="mpre"> [</span><a href="#loc_202_6_202_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_6_202_14&#39;)"><span class="hl_tyconref"><span class="mpre">Annotate</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre">] </span><span class="hl_comment"><span class="mpre">-- ^ Add annotations to a field.</span></span><span class="mpre">
    | </span><a name="loc_205_7_205_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_205_7_205_11&#39;)"><span class="hl_condecl"><span class="mpre">AAnn</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre"> (</span><a href="#loc_202_6_202_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_6_202_14&#39;)"><span class="hl_tyconref"><span class="mpre">Annotate</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre">)
    | </span><a name="loc_206_7_206_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_7_206_12&#39;)"><span class="hl_condecl"><span class="mpre">AMany</span></span></a><span class="mpre"> [</span><a href="#loc_202_6_202_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_6_202_14&#39;)"><span class="hl_tyconref"><span class="mpre">Annotate</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre">]
    | </span><a name="loc_207_7_207_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_207_7_207_12&#39;)"><span class="hl_condecl"><span class="mpre">AAtom</span></span></a><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_26_6_26_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_6_26_9&#39;)"><span class="hl_tyconref"><span class="mpre">Any</span></span></a><span class="mpre">
    | </span><a name="loc_208_7_208_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_7_208_12&#39;)"><span class="hl_condecl"><span class="mpre">ACtor</span></span></a><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_26_6_26_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_6_26_9&#39;)"><span class="hl_tyconref"><span class="mpre">Any</span></span></a><span class="mpre"> [</span><a href="#loc_202_6_202_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_6_202_14&#39;)"><span class="hl_tyconref"><span class="mpre">Annotate</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre">]
      </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 209, srcSpanStartColumn = 7, srcSpanEndLine = 209, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 209, srcSpanStartColumn = 7, srcSpanEndLine = 209, srcSpanEndColumn = 15}]}) [IHead (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagra"><span class="mpre">deriving Typeable</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- specifically DOES NOT derive Data, to avoid people accidentally including it</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Add an annotation to a value.</span></span><span class="mpre">
</span><a href="#loc_215_1_215_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_1_215_5&#39;)"><span class="mpre">(+=)</span></a><span class="mpre"> :: </span><a href="#loc_202_6_202_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_6_202_14&#39;)"><span class="hl_tyconref"><span class="mpre">Annotate</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre"> -&gt; </span><a href="#loc_202_6_202_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_6_202_14&#39;)"><span class="hl_tyconref"><span class="mpre">Annotate</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre">
</span><a name="loc_215_1_215_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_1_215_5&#39;)"><span class="hl_vardecl"><span class="mpre">(+=)</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">flip</span></span><span class="mpre"> </span><a href="#loc_205_7_205_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_205_7_205_11&#39;)"><span class="hl_conref"><span class="mpre">AAnn</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Collapse many annotated values in to one.</span></span><span class="mpre">
</span><a href="#loc_219_1_219_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_219_1_219_6&#39;)"><span class="mpre">many_</span></a><span class="mpre"> :: [</span><a href="#loc_202_6_202_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_6_202_14&#39;)"><span class="hl_tyconref"><span class="mpre">Annotate</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">] -&gt; </span><a href="#loc_202_6_202_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_6_202_14&#39;)"><span class="hl_tyconref"><span class="mpre">Annotate</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_219_1_219_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_219_1_219_6&#39;)"><span class="hl_vardecl"><span class="mpre">many_</span></span></a><span class="mpre"> = </span><a href="#loc_206_7_206_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_7_206_12&#39;)"><span class="hl_conref"><span class="mpre">AMany</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Lift a pure value to an annotation.</span></span><span class="mpre">
</span><a href="#loc_223_1_223_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_223_1_223_5&#39;)"><span class="mpre">atom</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 222, srcSpanStartColumn = 9, srcSpanEndLine = 222, srcSpanEndColumn = 20}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 222, srcSpanStartColumn = 18, srcSpanEndLine = 222, srcSpanEndColumn = 20}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vag"><span class="mpre">Data val =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">val</span></span><span class="mpre"> -&gt; </span><a href="#loc_202_6_202_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_6_202_14&#39;)"><span class="hl_tyconref"><span class="mpre">Annotate</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre">
</span><a name="loc_223_1_223_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_223_1_223_5&#39;)"><span class="hl_vardecl"><span class="mpre">atom</span></span></a><span class="mpre"> = </span><a href="#loc_207_7_207_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_207_7_207_12&#39;)"><span class="hl_conref"><span class="mpre">AAtom</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_26_33_26_36" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_33_26_36&#39;)"><span class="hl_conref"><span class="mpre">Any</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Create a constructor/record. The first argument should be</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   the type of field, the second should be a list of fields constructed</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   originally defined by @:=@ or @:=+@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   This operation is not type safe, and may raise an exception at runtime</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   if any field has the wrong type or label.</span></span><span class="mpre">
</span><a href="#loc_232_1_232_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_1_232_7&#39;)"><span class="mpre">record</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 231, srcSpanStartColumn = 11, srcSpanEndLine = 231, srcSpanEndColumn = 20}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 231, srcSpanStartColumn = 18, srcSpanEndLine = 231, srcSpanEndColumn = 20}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/va"><span class="mpre">Data a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; [</span><a href="#loc_202_6_202_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_6_202_14&#39;)"><span class="hl_tyconref"><span class="mpre">Annotate</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre">] -&gt; </span><a href="#loc_202_6_202_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_6_202_14&#39;)"><span class="hl_tyconref"><span class="mpre">Annotate</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">ann</span></span><span class="mpre">
</span><a name="loc_232_1_232_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_1_232_7&#39;)"><span class="hl_fundecl"><span class="mpre">record</span></span></a><span class="mpre"> </span><a name="loc_232_8_232_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_8_232_9&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_232_10_232_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_10_232_11&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_208_7_208_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_7_208_12&#39;)"><span class="hl_conref"><span class="mpre">ACtor</span></span></a><span class="mpre"> (</span><a href="Data.Generics.Any.html#loc_26_33_26_36" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_33_26_36&#39;)"><span class="hl_conref"><span class="mpre">Any</span></span></a><span class="mpre"> </span><a href="#loc_232_8_232_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_8_232_9&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">) </span><a href="#loc_232_10_232_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_10_232_11&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Capture the annotations from an annotated value.</span></span><span class="mpre">
</span><a href="#loc_236_1_236_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_1_236_9&#39;)"><span class="mpre">capture_</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 235, srcSpanStartColumn = 13, srcSpanEndLine = 235, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 235, srcSpanStartColumn = 20, srcSpanEndLine = 235, srcSpanEndColumn = 22}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/va"><span class="mpre">Show a =&gt;</span></span><span class="mpre"> </span><a href="#loc_202_6_202_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_6_202_14&#39;)"><span class="hl_tyconref"><span class="mpre">Annotate</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Capture</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_236_1_236_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_1_236_9&#39;)"><span class="hl_fundecl"><span class="mpre">capture_</span></span></a><span class="mpre"> (</span><a href="#loc_205_7_205_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_205_7_205_11&#39;)"><span class="hl_conref"><span class="mpre">AAnn</span></span></a><span class="mpre"> </span><a name="loc_236_16_236_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_16_236_17&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_236_18_236_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_18_236_19&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><a href="#loc_48_7_48_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_7_48_10&#39;)"><span class="hl_conref"><span class="mpre">Ann</span></span></a><span class="mpre"> </span><a href="#loc_236_16_236_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_16_236_17&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> (</span><a href="#loc_236_1_236_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_1_236_9&#39;)"><span class="hl_varref"><span class="mpre">capture_</span></span></a><span class="mpre"> </span><a href="#loc_236_18_236_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_18_236_19&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)
</span><a href="#loc_236_1_236_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_1_236_9&#39;)"><span class="hl_fundecl"><span class="mpre">capture_</span></span></a><span class="mpre"> (</span><a href="#loc_206_7_206_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_7_206_12&#39;)"><span class="hl_conref"><span class="mpre">AMany</span></span></a><span class="mpre"> </span><a name="loc_237_17_237_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_17_237_19&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) = </span><a href="#loc_47_7_47_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_7_47_11&#39;)"><span class="hl_conref"><span class="mpre">Many</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_236_1_236_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_1_236_9&#39;)"><span class="hl_varref"><span class="mpre">capture_</span></span></a><span class="mpre"> </span><a href="#loc_237_17_237_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_17_237_19&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">)
</span><a href="#loc_236_1_236_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_1_236_9&#39;)"><span class="hl_fundecl"><span class="mpre">capture_</span></span></a><span class="mpre"> (</span><a href="#loc_207_7_207_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_207_7_207_12&#39;)"><span class="hl_conref"><span class="mpre">AAtom</span></span></a><span class="mpre"> </span><a name="loc_238_17_238_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_17_238_18&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><a href="#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_7_49_12&#39;)"><span class="hl_conref"><span class="mpre">Value</span></span></a><span class="mpre"> </span><a href="#loc_238_17_238_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_17_238_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
</span><a href="#loc_236_1_236_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_1_236_9&#39;)"><span class="hl_fundecl"><span class="mpre">capture_</span></span></a><span class="mpre"> (_ </span><a href="#loc_203_49_203_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_49_203_51&#39;)"><span class="hl_infix"><span class="mpre">:=</span></span></a><span class="mpre"> </span><a name="loc_239_16_239_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_16_239_17&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">) = </span><a href="#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_7_49_12&#39;)"><span class="hl_conref"><span class="mpre">Value</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_26_33_26_36" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_33_26_36&#39;)"><span class="hl_conref"><span class="mpre">Any</span></span></a><span class="mpre"> </span><a href="#loc_239_16_239_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_16_239_17&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
</span><a href="#loc_236_1_236_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_1_236_9&#39;)"><span class="hl_fundecl"><span class="mpre">capture_</span></span></a><span class="mpre"> (_ </span><a href="#loc_204_49_204_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_49_204_52&#39;)"><span class="hl_infix"><span class="mpre">:=+</span></span></a><span class="mpre"> </span><a name="loc_240_17_240_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_17_240_18&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">) = </span><a href="#loc_47_7_47_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_7_47_11&#39;)"><span class="hl_conref"><span class="mpre">Many</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_236_1_236_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_1_236_9&#39;)"><span class="hl_varref"><span class="mpre">capture_</span></span></a><span class="mpre"> </span><a href="#loc_240_17_240_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_240_17_240_18&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
</span><a href="#loc_236_1_236_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_1_236_9&#39;)"><span class="hl_fundecl"><span class="mpre">capture_</span></span></a><span class="mpre"> (</span><a href="#loc_208_7_208_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_7_208_12&#39;)"><span class="hl_conref"><span class="mpre">ACtor</span></span></a><span class="mpre"> </span><a name="loc_241_17_241_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_17_241_18&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_241_19_241_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_19_241_21&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">)
    | </span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> </span><a href="#loc_248_9_248_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_9_248_12&#39;)"><span class="hl_varref"><span class="mpre">rep</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Some fields got repeated under &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_241_17_241_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_17_241_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;.&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_74_1_74_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_74_1_74_5&#39;)"><span class="hl_varref"><span class="mpre">ctor</span></span></a><span class="mpre"> </span><a href="#loc_241_17_241_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_17_241_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;: &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_248_9_248_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_9_248_12&#39;)"><span class="hl_varref"><span class="mpre">rep</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_51_7_51_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_51_7_51_11&#39;)"><span class="hl_conref"><span class="mpre">Ctor</span></span></a><span class="mpre"> </span><a href="#loc_245_9_245_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_245_9_245_11&#39;)"><span class="hl_varref"><span class="mpre">x2</span></span></a><span class="mpre"> </span><a href="#loc_246_9_246_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_9_246_12&#39;)"><span class="hl_varref"><span class="mpre">xs2</span></span></a><span class="mpre">
    where
        </span><a name="loc_245_9_245_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_245_9_245_11&#39;)"><span class="hl_vardecl"><span class="mpre">x2</span></span></a><span class="mpre"> = </span><a href="Data.Generics.Any.html#loc_90_1_90_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_90_1_90_10&#39;)"><span class="hl_varref"><span class="mpre">recompose</span></span></a><span class="mpre"> </span><a href="#loc_241_17_241_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_17_241_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_64_1_64_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_1_64_12&#39;)"><span class="hl_varref"><span class="mpre">fromCapture</span></span></a><span class="mpre"> </span><a href="#loc_246_9_246_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_9_246_12&#39;)"><span class="hl_varref"><span class="mpre">xs2</span></span></a><span class="mpre">
        </span><a name="loc_246_9_246_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_9_246_12&#39;)"><span class="hl_vardecl"><span class="mpre">xs2</span></span></a><span class="mpre"> = [</span><a href="Data.Maybe.html#loc_98_1_98_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_98_1_98_10&#39;)"><span class="hl_varref"><span class="mpre">fromMaybe</span></span></a><span class="mpre"> (</span><a href="#loc_50_7_50_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_50_7_50_14&#39;)"><span class="hl_conref"><span class="mpre">Missing</span></span></a><span class="mpre"> </span><a href="#loc_246_94_246_95" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_94_246_95&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">lookup</span></span><span class="mpre"> </span><a href="#loc_246_92_246_93" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_92_246_93&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_246_58_246_60" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_58_246_60&#39;)"><span class="hl_varref"><span class="mpre">is</span></span></a><span class="mpre"> | let </span><a name="loc_246_58_246_60" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_58_246_60&#39;)"><span class="hl_vardecl"><span class="mpre">is</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">zip</span></span><span class="mpre"> </span><a href="#loc_247_9_247_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_247_9_247_13&#39;)"><span class="hl_varref"><span class="mpre">inds</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_236_1_236_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_236_1_236_9&#39;)"><span class="hl_varref"><span class="mpre">capture_</span></span></a><span class="mpre"> </span><a href="#loc_241_19_241_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_19_241_21&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">, (</span><a name="loc_246_92_246_93" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_92_246_93&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre">,</span><a name="loc_246_94_246_95" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_94_246_95&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">) &lt;- </span><span class="hl_varref"><span class="mpre">zip</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpEnumFrom (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 246, srcSpanStartColumn = 104, srcSpanEndLine = 246, srcSpanEndColumn = 109}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 246, srcSpanStartColumn = 104, srcSpanEndLine = 246, srcSpanEndColumn = 105},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/Sy"><span class="mpre">[0..]</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_80_1_80_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_80_1_80_9&#39;)"><span class="hl_varref"><span class="mpre">children</span></span></a><span class="mpre"> </span><a href="#loc_241_17_241_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_17_241_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">]
        </span><a name="loc_247_9_247_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_247_9_247_13&#39;)"><span class="hl_vardecl"><span class="mpre">inds</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">zipWith</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_98_1_98_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_98_1_98_10&#39;)"><span class="hl_varref"><span class="mpre">fromMaybe</span></span></a><span class="mpre"> </span><span class="warning" data-warning="ExpEnumFrom (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 247, srcSpanStartColumn = 34, srcSpanEndLine = 247, srcSpanEndColumn = 39}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 247, srcSpanStartColumn = 34, srcSpanEndLine = 247, srcSpanEndColumn = 35},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System"><span class="mpre">[0..]</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><a href="#loc_252_1_252_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_1_252_11&#39;)"><span class="hl_varref"><span class="mpre">fieldIndex</span></span></a><span class="mpre"> </span><a href="#loc_241_17_241_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_17_241_18&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) </span><a href="#loc_241_19_241_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_19_241_21&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
        </span><a name="loc_248_9_248_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_9_248_12&#39;)"><span class="hl_vardecl"><span class="mpre">rep</span></span></a><span class="mpre"> = </span><a href="#loc_247_9_247_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_247_9_247_13&#39;)"><span class="hl_varref"><span class="mpre">inds</span></span></a><span class="mpre"> </span><a href="Data.List.html#loc_378_1_378_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_378_1_378_5&#39;)"><span class="hl_infix"><span class="mpre">\\</span></span></a><span class="mpre"> </span><a href="Data.List.html#loc_314_1_314_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_314_1_314_4&#39;)"><span class="hl_varref"><span class="mpre">nub</span></span></a><span class="mpre"> </span><a href="#loc_247_9_247_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_247_9_247_13&#39;)"><span class="hl_varref"><span class="mpre">inds</span></span></a><span class="mpre">


</span><a href="#loc_252_1_252_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_1_252_11&#39;)"><span class="mpre">fieldIndex</span></a><span class="mpre"> :: </span><a href="Data.Generics.Any.html#loc_26_6_26_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_6_26_9&#39;)"><span class="hl_tyconref"><span class="mpre">Any</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_202_6_202_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_6_202_14&#39;)"><span class="hl_tyconref"><span class="mpre">Annotate</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
</span><a name="loc_252_1_252_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_1_252_11&#39;)"><span class="hl_fundecl"><span class="mpre">fieldIndex</span></span></a><span class="mpre"> </span><a name="loc_252_12_252_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_12_252_16&#39;)"><span class="hl_vardecl"><span class="mpre">ctor</span></span></a><span class="mpre"> (</span><a href="#loc_205_7_205_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_205_7_205_11&#39;)"><span class="hl_conref"><span class="mpre">AAnn</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">a</span></span><span class="mpre"> </span><a name="loc_252_25_252_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_25_252_26&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) = </span><a href="#loc_252_1_252_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_1_252_11&#39;)"><span class="hl_varref"><span class="mpre">fieldIndex</span></span></a><span class="mpre"> </span><a href="#loc_252_12_252_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_12_252_16&#39;)"><span class="hl_varref"><span class="mpre">ctor</span></span></a><span class="mpre"> </span><a href="#loc_252_25_252_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_25_252_26&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
</span><a href="#loc_252_1_252_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_1_252_11&#39;)"><span class="hl_fundecl"><span class="mpre">fieldIndex</span></span></a><span class="mpre"> </span><a name="loc_253_12_253_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_12_253_16&#39;)"><span class="hl_vardecl"><span class="mpre">ctor</span></span></a><span class="mpre"> (</span><a name="loc_253_18_253_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_18_253_19&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_203_49_203_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_49_203_51&#39;)"><span class="hl_infix"><span class="mpre">:=</span></span></a><span class="mpre"> _) = </span><a href="#loc_252_1_252_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_1_252_11&#39;)"><span class="hl_varref"><span class="mpre">fieldIndex</span></span></a><span class="mpre"> </span><a href="#loc_253_12_253_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_12_253_16&#39;)"><span class="hl_varref"><span class="mpre">ctor</span></span></a><span class="mpre"> (</span><a href="#loc_253_18_253_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_253_18_253_19&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_204_49_204_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_49_204_52&#39;)"><span class="hl_infix"><span class="mpre">:=+</span></span></a><span class="mpre"> [])
</span><a href="#loc_252_1_252_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_1_252_11&#39;)"><span class="hl_fundecl"><span class="mpre">fieldIndex</span></span></a><span class="mpre"> </span><a name="loc_254_12_254_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_12_254_16&#39;)"><span class="hl_vardecl"><span class="mpre">ctor</span></span></a><span class="mpre"> (</span><a name="loc_254_18_254_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_18_254_19&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_204_49_204_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_49_204_52&#39;)"><span class="hl_infix"><span class="mpre">:=+</span></span></a><span class="mpre"> _) | </span><a href="Data.Maybe.html#loc_80_1_80_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_80_1_80_7&#39;)"><span class="hl_varref"><span class="mpre">isJust</span></span></a><span class="mpre"> </span><a href="#loc_257_11_257_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_257_11_257_14&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre"> = </span><a href="#loc_257_11_257_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_257_11_257_14&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre">
                          | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Couldn&#39;t resolve field for &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_254_12_254_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_12_254_16&#39;)"><span class="hl_varref"><span class="mpre">ctor</span></span></a><span class="mpre">
    where </span><a name="loc_256_11_256_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_256_11_256_12&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = </span><a href="Data.Generics.Any.html#loc_90_1_90_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_90_1_90_10&#39;)"><span class="hl_varref"><span class="mpre">recompose</span></span></a><span class="mpre"> </span><a href="#loc_254_12_254_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_12_254_16&#39;)"><span class="hl_varref"><span class="mpre">ctor</span></span></a><span class="mpre"> [</span><a href="Data.Generics.Any.html#loc_26_33_26_36" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_33_26_36&#39;)"><span class="hl_conref"><span class="mpre">Any</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_267_1_267_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_1_267_9&#39;)"><span class="hl_varref"><span class="mpre">throwInt</span></span></a><span class="mpre"> </span><a href="#loc_256_64_256_65" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_256_64_256_65&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`asTypeOf`</span></span><span class="mpre"> </span><a href="#loc_256_70_256_71" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_256_70_256_71&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> | (</span><a name="loc_256_64_256_65" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_256_64_256_65&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre">,</span><a href="Data.Generics.Any.html#loc_26_33_26_36" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_26_33_26_36&#39;)"><span class="hl_conref"><span class="mpre">Any</span></span></a><span class="mpre"> </span><a name="loc_256_70_256_71" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_256_70_256_71&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) &lt;- </span><span class="hl_varref"><span class="mpre">zip</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpEnumFrom (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 256, srcSpanStartColumn = 80, srcSpanEndLine = 256, srcSpanEndColumn = 85}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 256, srcSpanStartColumn = 80, srcSpanEndLine = 256, srcSpanEndColumn = 81},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System"><span class="mpre">[0..]</span></span><span class="mpre"> (</span><a href="Data.Generics.Any.html#loc_80_1_80_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_80_1_80_9&#39;)"><span class="hl_varref"><span class="mpre">children</span></span></a><span class="mpre"> </span><a href="#loc_254_12_254_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_12_254_16&#39;)"><span class="hl_varref"><span class="mpre">ctor</span></span></a><span class="mpre">)]
          </span><a name="loc_257_11_257_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_257_11_257_14&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> = </span><a href="#loc_272_1_272_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_1_272_9&#39;)"><span class="hl_varref"><span class="mpre">catchInt</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_254_18_254_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_18_254_19&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Generics.Any.html#loc_34_1_34_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Generics.Any.html#loc_34_1_34_8&#39;)"><span class="hl_varref"><span class="mpre">fromAny</span></span></a><span class="mpre"> </span><a href="#loc_256_11_256_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_256_11_256_12&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
</span><a href="#loc_252_1_252_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_252_1_252_11&#39;)"><span class="hl_fundecl"><span class="mpre">fieldIndex</span></span></a><span class="mpre"> _ _ = </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">



data </span><a name="loc_262_6_262_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_6_262_18&#39;)"><span class="hl_tycondecl"><span class="mpre">ExceptionInt</span></span></a><span class="mpre"> = </span><a name="loc_262_21_262_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_21_262_33&#39;)"><span class="hl_condecl"><span class="mpre">ExceptionInt</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 262, srcSpanStartColumn = 38, srcSpanEndLine = 262, srcSpanEndColumn = 63}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System/Console/CmdArgs/Annotate.hs&quot;, srcSpanStartLine = 262, srcSpanStartColumn = 38, srcSpanEndLine = 262, srcSpanEndColumn = 46},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/cmdargs-0.10.7/System"><span class="mpre">deriving (Show, Typeable)</span></span><span class="mpre">
instance </span><span class="hl_classref"><span class="mpre">Exception</span></span><span class="mpre"> </span><a href="#loc_262_6_262_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_6_262_18&#39;)"><span class="hl_tyconref"><span class="mpre">ExceptionInt</span></span></a><span class="mpre">


</span><a href="#loc_267_1_267_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_1_267_9&#39;)"><span class="mpre">throwInt</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_267_1_267_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_1_267_9&#39;)"><span class="hl_fundecl"><span class="mpre">throwInt</span></span></a><span class="mpre"> </span><a name="loc_267_10_267_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_10_267_11&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">throw</span></span><span class="mpre"> (</span><a href="#loc_262_21_262_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_21_262_33&#39;)"><span class="hl_conref"><span class="mpre">ExceptionInt</span></span></a><span class="mpre"> </span><a href="#loc_267_10_267_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_10_267_11&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">)


</span><span class="hl_pragma"><span class="mpre">{-# NOINLINE </span><a href="#loc_272_1_272_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_1_272_9&#39;)"><span class="mpre">catchInt</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><a href="#loc_272_1_272_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_1_272_9&#39;)"><span class="mpre">catchInt</span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">
</span><a name="loc_272_1_272_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_1_272_9&#39;)"><span class="hl_fundecl"><span class="mpre">catchInt</span></span></a><span class="mpre"> </span><a name="loc_272_10_272_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_10_272_11&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="GHC.IO.html#loc_165_1_165_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_165_1_165_16&#39;)"><span class="hl_varref"><span class="mpre">unsafePerformIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
    </span><a name="loc_273_5_273_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_273_5_273_6&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Exception.Base.html#loc_212_1_212_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Exception.Base.html#loc_212_1_212_4&#39;)"><span class="hl_varref"><span class="mpre">try</span></span></a><span class="mpre"> (</span><a href="GHC.IO.html#loc_480_1_480_9" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.html#loc_480_1_480_9&#39;)"><span class="hl_varref"><span class="mpre">evaluate</span></span></a><span class="mpre"> </span><a href="#loc_272_10_272_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_272_10_272_11&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> case </span><a href="#loc_273_5_273_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_273_5_273_6&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> of
        </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> (</span><a href="#loc_262_21_262_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_21_262_33&#39;)"><span class="hl_conref"><span class="mpre">ExceptionInt</span></span></a><span class="mpre"> </span><a name="loc_275_28_275_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_28_275_29&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre">) -&gt; </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a href="#loc_275_28_275_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_275_28_275_29&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre">
        _ -&gt; </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">
</span></div></body></html>