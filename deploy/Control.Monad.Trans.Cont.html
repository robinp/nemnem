<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Control.Monad.Trans.Cont</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (c) The University of Glasgow 2001</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  BSD-style (see the file LICENSE)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  ross@soi.city.ac.uk</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  experimental</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Continuation monads.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">

module Control.Monad.Trans.Cont (
    </span><span class="hl_comment"><span class="mpre">-- * The Cont monad</span></span><span class="mpre">
    Cont,
    cont,
    runCont,
    mapCont,
    withCont,
    </span><span class="hl_comment"><span class="mpre">-- * The ContT monad transformer</span></span><span class="mpre">
    ContT(..),
    mapContT,
    withContT,
    callCC,
    </span><span class="hl_comment"><span class="mpre">-- * Lifting other operations</span></span><span class="mpre">
    liftLocal,
  ) where

import Control.Monad.IO.Class
import Control.Monad.Trans.Class
import Data.Functor.Identity

import Control.Applicative
import Control.Monad

</span><span class="hl_comment"><span class="mpre">{- |
Continuation monad.
@Cont r a@ is a CPS computation that produces an intermediate result
of type @a@ within a CPS computation whose final result type is @r@.

The @return@ function simply creates a continuation which passes the value on.

The @&gt;&gt;=@ operator adds the bound function into the continuation chain.
-}</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/transformers-0.3.0.0/Control/Monad/Trans/Cont.hs&quot;, srcSpanStartLine = 47, srcSpanStartColumn = 1, srcSpanEndLine = 47, srcSpanEndColumn = 31}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/transformers-0.3.0.0/Control/Monad/Trans/Cont.hs&quot;, srcSpanStartLine = 47, srcSpanStartColumn = 1, srcSpanEndLine = 47, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/transformers-0.3.0.0/Control/M"><span class="mpre">type Cont r = ContT r Identity</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Construct a continuation-passing computation from a function.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (The inverse of &#39;runCont&#39;.)</span></span><span class="mpre">
</span><a href="#loc_52_1_52_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_1_52_5&#39;)"><span class="mpre">cont</span></a><span class="mpre"> :: ((</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Cont</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_52_1_52_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_1_52_5&#39;)"><span class="hl_fundecl"><span class="mpre">cont</span></span></a><span class="mpre"> </span><a name="loc_52_6_52_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_6_52_7&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_81_23_81_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_23_81_28&#39;)"><span class="hl_conref"><span class="mpre">ContT</span></span></a><span class="mpre"> (\ </span><a name="loc_52_19_52_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_19_52_20&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">Identity</span></span><span class="mpre"> (</span><a href="#loc_52_6_52_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_6_52_7&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="Data.Functor.Identity.html#loc_34_33_34_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_34_33_34_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_52_19_52_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_19_52_20&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">)))

</span><span class="hl_comment"><span class="mpre">-- | Runs a CPS computation, returns its result after applying the final</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- continuation to it.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (The inverse of &#39;cont&#39;.)</span></span><span class="mpre">
</span><a href="#loc_61_1_61_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_1_61_8&#39;)"><span class="mpre">runCont</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Cont</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">        </span><span class="hl_comment"><span class="mpre">-- ^ continuation computation (@Cont@).</span></span><span class="mpre">
    -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">)                </span><span class="hl_comment"><span class="mpre">-- ^ the final continuation, which produces</span></span><span class="mpre">
                        </span><span class="hl_comment"><span class="mpre">-- the final result (often &#39;id&#39;).</span></span><span class="mpre">
    -&gt; </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">
</span><a name="loc_61_1_61_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_1_61_8&#39;)"><span class="hl_fundecl"><span class="mpre">runCont</span></span></a><span class="mpre"> </span><a name="loc_61_9_61_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_9_61_10&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> </span><a name="loc_61_11_61_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_11_61_12&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> = </span><a href="Data.Functor.Identity.html#loc_34_33_34_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_34_33_34_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre"> (</span><a href="#loc_81_31_81_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_31_81_39&#39;)"><span class="hl_varref"><span class="mpre">runContT</span></span></a><span class="mpre"> </span><a href="#loc_61_9_61_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_9_61_10&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Identity</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_61_11_61_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_11_61_12&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">))

</span><span class="hl_comment"><span class="mpre">-- | Apply a function to transform the result of a continuation-passing</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- computation.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * @&#39;runCont&#39; (&#39;mapCont&#39; f m) = f . &#39;runCont&#39; m@</span></span><span class="mpre">
</span><a href="#loc_68_1_68_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_1_68_8&#39;)"><span class="mpre">mapCont</span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Cont</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Cont</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_68_1_68_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_1_68_8&#39;)"><span class="hl_fundecl"><span class="mpre">mapCont</span></span></a><span class="mpre"> </span><a name="loc_68_9_68_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_9_68_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_88_1_88_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_1_88_9&#39;)"><span class="hl_varref"><span class="mpre">mapContT</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Identity</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_68_9_68_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_68_9_68_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Functor.Identity.html#loc_34_33_34_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_34_33_34_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Apply a function to transform the continuation passed to a CPS</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- computation.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * @&#39;runCont&#39; (&#39;withCont&#39; f m) = &#39;runCont&#39; m . f@</span></span><span class="mpre">
</span><a href="#loc_75_1_75_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_1_75_9&#39;)"><span class="mpre">withCont</span></a><span class="mpre"> :: ((</span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">)) -&gt; </span><span class="hl_tyconref"><span class="mpre">Cont</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Cont</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_75_1_75_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_1_75_9&#39;)"><span class="hl_fundecl"><span class="mpre">withCont</span></span></a><span class="mpre"> </span><a name="loc_75_10_75_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_95_1_95_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_1_95_10&#39;)"><span class="hl_varref"><span class="mpre">withContT</span></span></a><span class="mpre"> ((</span><span class="hl_conref"><span class="mpre">Identity</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_75_10_75_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_10_75_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (</span><a href="Data.Functor.Identity.html#loc_34_33_34_44" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.Identity.html#loc_34_33_34_44&#39;)"><span class="hl_varref"><span class="mpre">runIdentity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre">))

</span><span class="hl_comment"><span class="mpre">{- |
The continuation monad transformer.
Can be used to add continuation handling to other monads.
-}</span></span><span class="mpre">
newtype </span><a name="loc_81_9_81_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_14&#39;)"><span class="hl_tycondecl"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> = </span><a name="loc_81_23_81_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_23_81_28&#39;)"><span class="hl_condecl"><span class="mpre">ContT</span></span></a><span class="mpre"> { </span><a name="loc_81_31_81_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_31_81_39&#39;)"><span class="hl_fielddecl"><span class="mpre">runContT</span></span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> }

</span><span class="hl_comment"><span class="mpre">-- | Apply a function to transform the result of a continuation-passing</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- computation.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * @&#39;runContT&#39; (&#39;mapContT&#39; f m) = f . &#39;runContT&#39; m@</span></span><span class="mpre">
</span><a href="#loc_88_1_88_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_1_88_9&#39;)"><span class="mpre">mapContT</span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) -&gt; </span><a href="#loc_81_9_81_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_14&#39;)"><span class="hl_tyconref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_9_81_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_14&#39;)"><span class="hl_tyconref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_88_1_88_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_1_88_9&#39;)"><span class="hl_fundecl"><span class="mpre">mapContT</span></span></a><span class="mpre"> </span><a name="loc_88_10_88_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_10_88_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_88_12_88_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_12_88_13&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = </span><a href="#loc_81_23_81_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_23_81_28&#39;)"><span class="hl_conref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_88_10_88_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_10_88_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_81_31_81_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_31_81_39&#39;)"><span class="hl_varref"><span class="mpre">runContT</span></span></a><span class="mpre"> </span><a href="#loc_88_12_88_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_12_88_13&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Apply a function to transform the continuation passed to a CPS</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- computation.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * @&#39;runContT&#39; (&#39;withContT&#39; f m) = &#39;runContT&#39; m . f@</span></span><span class="mpre">
</span><a href="#loc_95_1_95_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_1_95_10&#39;)"><span class="mpre">withContT</span></a><span class="mpre"> :: ((</span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">)) -&gt; </span><a href="#loc_81_9_81_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_14&#39;)"><span class="hl_tyconref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_9_81_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_14&#39;)"><span class="hl_tyconref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_95_1_95_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_1_95_10&#39;)"><span class="hl_fundecl"><span class="mpre">withContT</span></span></a><span class="mpre"> </span><a name="loc_95_11_95_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_11_95_12&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_95_13_95_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_13_95_14&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = </span><a href="#loc_81_23_81_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_23_81_28&#39;)"><span class="hl_conref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_81_31_81_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_31_81_39&#39;)"><span class="hl_varref"><span class="mpre">runContT</span></span></a><span class="mpre"> </span><a href="#loc_95_13_95_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_13_95_14&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_95_11_95_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_11_95_12&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">

instance </span><span class="hl_classref"><span class="mpre">Functor</span></span><span class="mpre"> (</span><a href="#loc_81_9_81_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_14&#39;)"><span class="hl_tyconref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
    </span><span class="hl_fundecl"><span class="mpre">fmap</span></span><span class="mpre"> </span><a name="loc_98_10_98_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_10_98_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_98_12_98_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_12_98_13&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = </span><a href="#loc_81_23_81_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_23_81_28&#39;)"><span class="hl_conref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_98_25_98_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_25_98_26&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_81_31_81_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_31_81_39&#39;)"><span class="hl_varref"><span class="mpre">runContT</span></span></a><span class="mpre"> </span><a href="#loc_98_12_98_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_12_98_13&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> (</span><a href="#loc_98_25_98_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_25_98_26&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_98_10_98_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_10_98_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)

instance </span><a href="Control.Applicative.html#loc_113_20_113_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_113_20_113_31&#39;)"><span class="hl_classref"><span class="mpre">Applicative</span></span></a><span class="mpre"> (</span><a href="#loc_81_9_81_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_14&#39;)"><span class="hl_tyconref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
    </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_fundecl"><span class="mpre">pure</span></span></a><span class="mpre"> </span><a name="loc_101_10_101_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_10_101_11&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">  = </span><a href="#loc_81_23_81_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_23_81_28&#39;)"><span class="hl_conref"><span class="mpre">ContT</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_101_10_101_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_101_10_101_11&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
    </span><a name="loc_102_5_102_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_5_102_6&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;*&gt;</span></span></a><span class="mpre"> </span><a name="loc_102_11_102_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_11_102_12&#39;)"><span class="hl_vardecl"><span class="mpre">v</span></span></a><span class="mpre"> = </span><a href="#loc_81_23_81_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_23_81_28&#39;)"><span class="hl_conref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \ </span><a name="loc_102_25_102_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_25_102_26&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_81_31_81_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_31_81_39&#39;)"><span class="hl_varref"><span class="mpre">runContT</span></span></a><span class="mpre"> </span><a href="#loc_102_5_102_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_5_102_6&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \ </span><a name="loc_102_45_102_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_45_102_46&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_81_31_81_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_31_81_39&#39;)"><span class="hl_varref"><span class="mpre">runContT</span></span></a><span class="mpre"> </span><a href="#loc_102_11_102_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_11_102_12&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre"> (</span><a href="#loc_102_25_102_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_25_102_26&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_102_45_102_46" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_45_102_46&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">)

instance </span><span class="hl_classref"><span class="mpre">Monad</span></span><span class="mpre"> (</span><a href="#loc_81_9_81_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_14&#39;)"><span class="hl_tyconref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
    </span><span class="hl_fundecl"><span class="mpre">return</span></span><span class="mpre"> </span><a name="loc_105_12_105_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_12_105_13&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="#loc_81_23_81_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_23_81_28&#39;)"><span class="hl_conref"><span class="mpre">ContT</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_105_12_105_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_12_105_13&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
    </span><a name="loc_106_5_106_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_5_106_6&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> </span><span class="hl_fundecl"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a name="loc_106_11_106_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_11_106_12&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre">  = </span><a href="#loc_81_23_81_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_23_81_28&#39;)"><span class="hl_conref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_106_25_106_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_25_106_26&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_81_31_81_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_31_81_39&#39;)"><span class="hl_varref"><span class="mpre">runContT</span></span></a><span class="mpre"> </span><a href="#loc_106_5_106_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_5_106_6&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> (\</span><a name="loc_106_43_106_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_43_106_44&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_81_31_81_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_31_81_39&#39;)"><span class="hl_varref"><span class="mpre">runContT</span></span></a><span class="mpre"> (</span><a href="#loc_106_11_106_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_11_106_12&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_106_43_106_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_43_106_44&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">) </span><a href="#loc_106_25_106_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_25_106_26&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">)

instance </span><a href="Control.Monad.Trans.Class.html#loc_49_7_49_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_49_7_49_17&#39;)"><span class="hl_classref"><span class="mpre">MonadTrans</span></span></a><span class="mpre"> (</span><a href="#loc_81_9_81_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_14&#39;)"><span class="hl_tyconref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) where
    </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_fundecl"><span class="mpre">lift</span></span></a><span class="mpre"> </span><a name="loc_109_10_109_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_109_10_109_11&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = </span><a href="#loc_81_23_81_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_23_81_28&#39;)"><span class="hl_conref"><span class="mpre">ContT</span></span></a><span class="mpre"> (</span><a href="#loc_109_10_109_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_109_10_109_11&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre">)

instance </span><span class="warning" data-warning="InstDecl ContextCxParen (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/transformers-0.3.0.0/Control/Monad/Trans/Cont.hs&quot;, srcSpanStartLine = 111, srcSpanStartColumn = 10, srcSpanEndLine = 111, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/transformers-0.3.0.0/Control/Monad/Trans/Cont.hs&quot;, srcSpanStartLine = 111, srcSpanStartColumn = 10, srcSpanEndLine = 111, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/transformers-0.3.0.0/Con"><span class="mpre">(MonadIO m) =&gt;</span></span><span class="mpre"> </span><a href="Control.Monad.IO.Class.html#loc_30_20_30_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_30_20_30_27&#39;)"><span class="hl_classref"><span class="mpre">MonadIO</span></span></a><span class="mpre"> (</span><a href="#loc_81_9_81_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_14&#39;)"><span class="hl_tyconref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) where
    </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_vardecl"><span class="mpre">liftIO</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Trans.Class.html#loc_51_5_51_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.Class.html#loc_51_5_51_9&#39;)"><span class="hl_varref"><span class="mpre">lift</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Control.Monad.IO.Class.html#loc_32_5_32_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.IO.Class.html#loc_32_5_32_11&#39;)"><span class="hl_varref"><span class="mpre">liftIO</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | @callCC@ (call-with-current-continuation) calls its argument</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- function, passing it the current continuation.  It provides</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- an escape continuation mechanism for use with continuation</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- monads.  Escape continuations one allow to abort the current</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- computation and return a value immediately.  They achieve a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- similar effect to &#39;Control.Monad.Trans.Error.throwError&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and &#39;Control.Monad.Trans.Error.catchError&#39; within an</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Control.Monad.Trans.Error.ErrorT&#39; monad.  The advantage of this</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- function over calling &#39;return&#39; is that it makes the continuation</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- explicit, allowing more flexibility and better control.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The standard idiom used with @callCC@ is to provide a lambda-expression</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- to name the continuation. Then calling the named continuation anywhere</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- within its scope will escape from the computation, even if it is many</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- layers deep within nested computations.</span></span><span class="mpre">
</span><a href="#loc_130_1_130_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_1_130_7&#39;)"><span class="mpre">callCC</span></a><span class="mpre"> :: ((</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_9_81_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_14&#39;)"><span class="hl_tyconref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><a href="#loc_81_9_81_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_14&#39;)"><span class="hl_tyconref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><a href="#loc_81_9_81_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_14&#39;)"><span class="hl_tyconref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_130_1_130_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_1_130_7&#39;)"><span class="hl_fundecl"><span class="mpre">callCC</span></span></a><span class="mpre"> </span><a name="loc_130_8_130_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_8_130_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_81_23_81_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_23_81_28&#39;)"><span class="hl_conref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_130_21_130_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_21_130_22&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_81_31_81_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_31_81_39&#39;)"><span class="hl_varref"><span class="mpre">runContT</span></span></a><span class="mpre"> (</span><a href="#loc_130_8_130_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_8_130_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (\</span><a name="loc_130_40_130_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_40_130_41&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_81_23_81_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_23_81_28&#39;)"><span class="hl_conref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \_ -&gt; </span><a href="#loc_130_21_130_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_21_130_22&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_130_40_130_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_40_130_41&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)) </span><a href="#loc_130_21_130_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_21_130_22&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | @&#39;liftLocal&#39; ask local@ yields a @local@ function for @&#39;ContT&#39; r m@.</span></span><span class="mpre">
</span><a href="#loc_135_1_135_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_10&#39;)"><span class="mpre">liftLocal</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/transformers-0.3.0.0/Control/Monad/Trans/Cont.hs&quot;, srcSpanStartLine = 133, srcSpanStartColumn = 14, srcSpanEndLine = 133, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/transformers-0.3.0.0/Control/Monad/Trans/Cont.hs&quot;, srcSpanStartLine = 133, srcSpanStartColumn = 22, srcSpanEndLine = 133, srcSpanEndColumn = 24}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagr"><span class="mpre">Monad m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r&#39;</span></span><span class="mpre"> -&gt; ((</span><span class="hl_tyvar"><span class="mpre">r&#39;</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">r&#39;</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) -&gt;
    (</span><span class="hl_tyvar"><span class="mpre">r&#39;</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">r&#39;</span></span><span class="mpre">) -&gt; </span><a href="#loc_81_9_81_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_14&#39;)"><span class="hl_tyconref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_9_81_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_14&#39;)"><span class="hl_tyconref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_135_1_135_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_1_135_10&#39;)"><span class="hl_fundecl"><span class="mpre">liftLocal</span></span></a><span class="mpre"> </span><a name="loc_135_11_135_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_11_135_14&#39;)"><span class="hl_vardecl"><span class="mpre">ask</span></span></a><span class="mpre"> </span><a name="loc_135_15_135_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_15_135_20&#39;)"><span class="hl_vardecl"><span class="mpre">local</span></span></a><span class="mpre"> </span><a name="loc_135_21_135_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_21_135_22&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_135_23_135_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_23_135_24&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = </span><a href="#loc_81_23_81_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_23_81_28&#39;)"><span class="hl_conref"><span class="mpre">ContT</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_135_36_135_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_36_135_37&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> -&gt; do
    </span><a name="loc_136_5_136_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_5_136_6&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_135_11_135_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_11_135_14&#39;)"><span class="hl_varref"><span class="mpre">ask</span></span></a><span class="mpre">
    </span><a href="#loc_135_15_135_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_15_135_20&#39;)"><span class="hl_varref"><span class="mpre">local</span></span></a><span class="mpre"> </span><a href="#loc_135_21_135_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_21_135_22&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_81_31_81_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_31_81_39&#39;)"><span class="hl_varref"><span class="mpre">runContT</span></span></a><span class="mpre"> </span><a href="#loc_135_23_135_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_23_135_24&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> (</span><a href="#loc_135_15_135_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_15_135_20&#39;)"><span class="hl_varref"><span class="mpre">local</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre"> </span><a href="#loc_136_5_136_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_136_5_136_6&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_135_36_135_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_36_135_37&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">))
</span></div></body></html>