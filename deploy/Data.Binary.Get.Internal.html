<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP, RankNTypes, MagicHash, BangPatterns #-}

</span><span class="hl_comment"><span class="mpre">-- CPP C style pre-precessing, the #if defined lines</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- RankNTypes forall r. statement</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- MagicHash the (# unboxing #), also needs GHC.primitives</span></span><span class="mpre">

module Data.Binary.Get.Internal (

    </span><span class="hl_comment"><span class="mpre">-- * The Get type</span></span><span class="mpre">
      Get
    , runCont
    , Decoder(..)
    , runGetIncremental

    , readN
    , readNWith

    </span><span class="hl_comment"><span class="mpre">-- * Parsing</span></span><span class="mpre">
    , skip
    , bytesRead
    
    , get
    , put
    , demandInput
    , ensureN

    </span><span class="hl_comment"><span class="mpre">-- * Utility</span></span><span class="mpre">
    , remaining
    , getBytes
    , isEmpty
    , lookAhead
    , lookAheadM
    , lookAheadE

    </span><span class="hl_comment"><span class="mpre">-- ** ByteStrings</span></span><span class="mpre">
    , getByteString

    ) where

import Foreign
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/binary-0.7.1.0/src/Data/Binary/Get/Internal.hs&quot;, srcSpanStartLine = 41, srcSpanStartColumn = 18, srcSpanEndLine = 41, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> as B
import qualified Data.ByteString.Internal as B
import qualified Data.ByteString.Unsafe as B

import Control.Applicative
import Control.Monad

#if __GLASGOW_HASKELL__ &lt; 704 &amp;&amp; !defined(__HADDOCK__)
</span><span class="hl_comment"><span class="mpre">-- needed for (# unboxing #) with magic hash</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Do we still need these? Works without on modern GHCs.</span></span><span class="mpre">
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/binary-0.7.1.0/src/Data/Binary/Get/Internal.hs&quot;, srcSpanStartLine = 51, srcSpanStartColumn = 8, srcSpanEndLine = 51, srcSpanEndColumn = 16}, srcInfoPoints = []}) &quot;GHC.Base&quot;"><span class="mpre">GHC.Base</span></span><span class="mpre">
#endif

</span><span class="hl_comment"><span class="mpre">-- Kolmodin 20100427: at zurihac we discussed of having partial take a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &quot;Maybe ByteString&quot; and implemented it in this way.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The reasoning was that you could accidently provide an empty bytestring,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and it should not terminate the decoding (empty would mean eof).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- However, I&#39;d say that it&#39;s also a risk that you get stuck in a loop,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- where you keep providing an empty string. Anyway, no new input should be</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- rare, as the RTS should only wake you up if you actually have some data</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- to read from your fd.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A decoder produced by running a &#39;Get&#39; monad.</span></span><span class="mpre">
data </span><a name="loc_64_6_64_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_6_64_13&#39;)"><span class="hl_tycondecl"><span class="mpre">Decoder</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> = </span><a name="loc_64_18_64_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_18_64_22&#39;)"><span class="hl_condecl"><span class="mpre">Fail</span></span></a><span class="mpre"> !</span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
              </span><span class="hl_comment"><span class="mpre">-- ^ The decoder ran into an error. The decoder either used</span></span><span class="mpre">
              </span><span class="hl_comment"><span class="mpre">-- &#39;fail&#39; or was not provided enough input.</span></span><span class="mpre">
              | </span><a name="loc_67_17_67_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_17_67_24&#39;)"><span class="hl_condecl"><span class="mpre">Partial</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_64_6_64_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_6_64_13&#39;)"><span class="hl_tyconref"><span class="mpre">Decoder</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
              </span><span class="hl_comment"><span class="mpre">-- ^ The decoder has consumed the available input and needs</span></span><span class="mpre">
              </span><span class="hl_comment"><span class="mpre">-- more to continue. Provide &#39;Just&#39; if more input is available</span></span><span class="mpre">
              </span><span class="hl_comment"><span class="mpre">-- and &#39;Nothing&#39; otherwise, and you will get a new &#39;Decoder&#39;.</span></span><span class="mpre">
              | </span><a name="loc_71_17_71_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_17_71_21&#39;)"><span class="hl_condecl"><span class="mpre">Done</span></span></a><span class="mpre"> !</span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
              </span><span class="hl_comment"><span class="mpre">-- ^ The decoder has successfully finished. Except for the</span></span><span class="mpre">
              </span><span class="hl_comment"><span class="mpre">-- output value you also get the unused input.</span></span><span class="mpre">
              | </span><a name="loc_74_17_74_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_17_74_26&#39;)"><span class="hl_condecl"><span class="mpre">BytesRead</span></span></a><span class="mpre"> {-# UNPACK #-} !</span><span class="hl_tyconref"><span class="mpre">Int64</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Int64</span></span><span class="mpre"> -&gt; </span><a href="#loc_64_6_64_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_6_64_13&#39;)"><span class="hl_tyconref"><span class="mpre">Decoder</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
              </span><span class="hl_comment"><span class="mpre">-- ^ The decoder needs to know the current position in the input.</span></span><span class="mpre">
              </span><span class="hl_comment"><span class="mpre">-- Given the number of bytes remaning in the decoder, the outer</span></span><span class="mpre">
              </span><span class="hl_comment"><span class="mpre">-- decoder runner needs to calculate the position and</span></span><span class="mpre">
              </span><span class="hl_comment"><span class="mpre">-- resume the decoding.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- unrolled codensity/state monad</span></span><span class="mpre">
newtype </span><a name="loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tycondecl"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> = </span><a name="loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_condecl"><span class="mpre">C</span></span></a><span class="mpre"> { </span><a name="loc_81_21_81_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_21_81_28&#39;)"><span class="hl_fielddecl"><span class="mpre">runCont</span></span></a><span class="mpre"> :: forall </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">.
                               </span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span></a><span class="mpre"> -&gt;
                               </span><span class="hl_tyconref"><span class="mpre">Success</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt;
                               </span><a href="#loc_64_6_64_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_6_64_13&#39;)"><span class="hl_tyconref"><span class="mpre">Decoder</span></span></a><span class="mpre">   </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> }

</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/binary-0.7.1.0/src/Data/Binary/Get/Internal.hs&quot;, srcSpanStartLine = 86, srcSpanStartColumn = 1, srcSpanEndLine = 86, srcSpanEndColumn = 50}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/binary-0.7.1.0/src/Data/Binary/Get/Internal.hs&quot;, srcSpanStartLine = 86, srcSpanStartColumn = 1, srcSpanEndLine = 86, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/binary-0.7.1.0/src/Data/Binary/Get"><span class="mpre">type Success a r = B.ByteString -&gt; a -&gt; Decoder r</span></span><span class="mpre">

instance </span><span class="hl_classref"><span class="mpre">Monad</span></span><span class="mpre"> </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> where
  </span><span class="hl_vardecl"><span class="mpre">return</span></span><span class="mpre"> = </span><a href="#loc_94_1_94_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_1_94_8&#39;)"><span class="hl_varref"><span class="mpre">returnG</span></span></a><span class="mpre">
  </span><span class="hl_vardecl"><span class="mpre">(&gt;&gt;=)</span></span><span class="mpre"> = </span><a href="#loc_98_1_98_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_1_98_6&#39;)"><span class="hl_varref"><span class="mpre">bindG</span></span></a><span class="mpre">
  </span><span class="hl_vardecl"><span class="mpre">fail</span></span><span class="mpre"> = </span><a href="#loc_102_1_102_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_1_102_6&#39;)"><span class="hl_varref"><span class="mpre">failG</span></span></a><span class="mpre">

</span><a href="#loc_94_1_94_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_1_94_8&#39;)"><span class="mpre">returnG</span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_94_1_94_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_1_94_8&#39;)"><span class="hl_fundecl"><span class="mpre">returnG</span></span></a><span class="mpre"> </span><a name="loc_94_9_94_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_9_94_10&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_94_18_94_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_18_94_19&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> </span><a name="loc_94_20_94_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_20_94_22&#39;)"><span class="hl_vardecl"><span class="mpre">ks</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_94_20_94_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_20_94_22&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre"> </span><a href="#loc_94_18_94_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_18_94_19&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><a href="#loc_94_9_94_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_9_94_10&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [0] </span><a href="#loc_94_1_94_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_1_94_8&#39;)"><span class="mpre">returnG</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_98_1_98_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_1_98_6&#39;)"><span class="mpre">bindG</span></a><span class="mpre"> :: </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_98_1_98_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_1_98_6&#39;)"><span class="hl_fundecl"><span class="mpre">bindG</span></span></a><span class="mpre"> (</span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><a name="loc_98_10_98_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_10_98_11&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">) </span><a name="loc_98_13_98_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_13_98_14&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_98_22_98_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_22_98_23&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> </span><a name="loc_98_24_98_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_24_98_26&#39;)"><span class="hl_vardecl"><span class="mpre">ks</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_98_10_98_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_10_98_11&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_98_22_98_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_22_98_23&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> (\</span><a name="loc_98_36_98_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_36_98_38&#39;)"><span class="hl_vardecl"><span class="mpre">i&#39;</span></span></a><span class="mpre"> </span><a name="loc_98_39_98_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_39_98_40&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_81_21_81_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_21_81_28&#39;)"><span class="hl_varref"><span class="mpre">runCont</span></span></a><span class="mpre"> (</span><a href="#loc_98_13_98_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_13_98_14&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_98_39_98_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_39_98_40&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)) </span><a href="#loc_98_36_98_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_36_98_38&#39;)"><span class="hl_varref"><span class="mpre">i&#39;</span></span></a><span class="mpre"> </span><a href="#loc_98_24_98_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_24_98_26&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_98_1_98_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_1_98_6&#39;)"><span class="mpre">bindG</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_102_1_102_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_1_102_6&#39;)"><span class="mpre">failG</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_102_1_102_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_1_102_6&#39;)"><span class="hl_fundecl"><span class="mpre">failG</span></span></a><span class="mpre"> </span><a name="loc_102_7_102_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_7_102_10&#39;)"><span class="hl_vardecl"><span class="mpre">str</span></span></a><span class="mpre"> = </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_102_18_102_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_18_102_19&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_ks</span></span><span class="mpre"> -&gt; </span><a href="#loc_64_18_64_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_18_64_22&#39;)"><span class="hl_conref"><span class="mpre">Fail</span></span></a><span class="mpre"> </span><a href="#loc_102_18_102_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_18_102_19&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_102_7_102_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_7_102_10&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">

</span><a href="#loc_105_1_105_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_1_105_4&#39;)"><span class="mpre">apG</span></a><span class="mpre"> :: </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_105_1_105_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_1_105_4&#39;)"><span class="hl_fundecl"><span class="mpre">apG</span></span></a><span class="mpre"> </span><a name="loc_105_5_105_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_5_105_6&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre"> </span><a name="loc_105_7_105_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_7_105_8&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> = do
  </span><a name="loc_106_3_106_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_3_106_4&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_105_5_105_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_5_105_6&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre">
  </span><a name="loc_107_3_107_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_3_107_4&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_105_7_105_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_7_105_8&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_106_3_106_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_3_106_4&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_107_3_107_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_3_107_4&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [0] </span><a href="#loc_105_1_105_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_1_105_4&#39;)"><span class="mpre">apG</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_112_1_112_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_1_112_6&#39;)"><span class="mpre">fmapG</span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_112_1_112_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_1_112_6&#39;)"><span class="hl_fundecl"><span class="mpre">fmapG</span></span></a><span class="mpre"> </span><a name="loc_112_7_112_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_7_112_8&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_112_9_112_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_9_112_10&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_112_18_112_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_18_112_19&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> </span><a name="loc_112_20_112_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_20_112_22&#39;)"><span class="hl_vardecl"><span class="mpre">ks</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_81_21_81_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_21_81_28&#39;)"><span class="hl_varref"><span class="mpre">runCont</span></span></a><span class="mpre"> </span><a href="#loc_112_9_112_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_9_112_10&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><a href="#loc_112_18_112_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_18_112_19&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> (\</span><a name="loc_112_40_112_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_40_112_42&#39;)"><span class="hl_vardecl"><span class="mpre">i&#39;</span></span></a><span class="mpre"> </span><a name="loc_112_43_112_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_43_112_44&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_112_20_112_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_20_112_22&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre"> </span><a href="#loc_112_40_112_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_40_112_42&#39;)"><span class="hl_varref"><span class="mpre">i&#39;</span></span></a><span class="mpre"> (</span><a href="#loc_112_7_112_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_7_112_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_112_43_112_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_43_112_44&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">))
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_112_1_112_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_1_112_6&#39;)"><span class="mpre">fmapG</span></a><span class="mpre"> #-}</span></span><span class="mpre">

instance </span><a href="Control.Applicative.html#loc_113_20_113_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_113_20_113_31&#39;)"><span class="hl_classref"><span class="mpre">Applicative</span></span></a><span class="mpre"> </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> where
  </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_vardecl"><span class="mpre">pure</span></span></a><span class="mpre"> = </span><a href="#loc_94_1_94_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_1_94_8&#39;)"><span class="hl_varref"><span class="mpre">returnG</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="mpre">pure</span></a><span class="mpre"> #-}</span></span><span class="mpre">
  </span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="hl_vardecl"><span class="mpre">(&lt;*&gt;)</span></span></a><span class="mpre"> = </span><a href="#loc_105_1_105_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_1_105_4&#39;)"><span class="hl_varref"><span class="mpre">apG</span></span></a><span class="mpre">
  </span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="mpre">(&lt;*&gt;)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

instance </span><a href="Control.Monad.html#loc_122_18_122_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_122_18_122_27&#39;)"><span class="hl_classref"><span class="mpre">MonadPlus</span></span></a><span class="mpre"> </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> where
  </span><a href="Control.Monad.html#loc_128_4_128_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_128_4_128_9&#39;)"><span class="hl_vardecl"><span class="mpre">mzero</span></span></a><span class="mpre"> = </span><a href="Control.Applicative.html#loc_140_5_140_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_140_5_140_10&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre">
  </span><a href="Control.Monad.html#loc_130_4_130_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_130_4_130_9&#39;)"><span class="hl_vardecl"><span class="mpre">mplus</span></span></a><span class="mpre"> = </span><a href="Control.Applicative.html#loc_142_5_142_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_142_5_142_10&#39;)"><span class="hl_varref"><span class="mpre">(&lt;|&gt;)</span></span></a><span class="mpre">

instance </span><span class="hl_classref"><span class="mpre">Functor</span></span><span class="mpre"> </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> where
  </span><span class="hl_vardecl"><span class="mpre">fmap</span></span><span class="mpre"> = </span><a href="#loc_112_1_112_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_1_112_6&#39;)"><span class="hl_varref"><span class="mpre">fmapG</span></span></a><span class="mpre">

instance </span><span class="hl_classref"><span class="mpre">Functor</span></span><span class="mpre"> </span><a href="#loc_64_6_64_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_6_64_13&#39;)"><span class="hl_tyconref"><span class="mpre">Decoder</span></span></a><span class="mpre"> where
  </span><a name="loc_129_3_129_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_3_129_7&#39;)"><span class="hl_fundecl"><span class="mpre">fmap</span></span></a><span class="mpre"> </span><a name="loc_129_8_129_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_8_129_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_71_17_71_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_17_71_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre"> </span><a name="loc_129_16_129_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_16_129_17&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> </span><a name="loc_129_18_129_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_18_129_19&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">) = </span><a href="#loc_71_17_71_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_17_71_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre"> </span><a href="#loc_129_16_129_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_16_129_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> (</span><a href="#loc_129_8_129_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_8_129_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_129_18_129_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_18_129_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
  </span><a href="#loc_129_3_129_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_3_129_7&#39;)"><span class="hl_fundecl"><span class="mpre">fmap</span></span></a><span class="mpre"> </span><a name="loc_130_8_130_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_8_130_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_67_17_67_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_17_67_24&#39;)"><span class="hl_conref"><span class="mpre">Partial</span></span></a><span class="mpre"> </span><a name="loc_130_19_130_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_19_130_20&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre">) = </span><a href="#loc_67_17_67_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_17_67_24&#39;)"><span class="hl_conref"><span class="mpre">Partial</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_130_8_130_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_8_130_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_130_19_130_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_19_130_20&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">)
  </span><a href="#loc_129_3_129_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_3_129_7&#39;)"><span class="hl_fundecl"><span class="mpre">fmap</span></span></a><span class="mpre"> _ (</span><a href="#loc_64_18_64_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_18_64_22&#39;)"><span class="hl_conref"><span class="mpre">Fail</span></span></a><span class="mpre"> </span><a name="loc_131_16_131_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_16_131_17&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> </span><a name="loc_131_18_131_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_18_131_21&#39;)"><span class="hl_vardecl"><span class="mpre">msg</span></span></a><span class="mpre">) = </span><a href="#loc_64_18_64_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_18_64_22&#39;)"><span class="hl_conref"><span class="mpre">Fail</span></span></a><span class="mpre"> </span><a href="#loc_131_16_131_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_16_131_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><a href="#loc_131_18_131_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_18_131_21&#39;)"><span class="hl_varref"><span class="mpre">msg</span></span></a><span class="mpre">
  </span><a href="#loc_129_3_129_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_129_3_129_7&#39;)"><span class="hl_fundecl"><span class="mpre">fmap</span></span></a><span class="mpre"> </span><a name="loc_132_8_132_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_8_132_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_74_17_74_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_17_74_26&#39;)"><span class="hl_conref"><span class="mpre">BytesRead</span></span></a><span class="mpre"> </span><a name="loc_132_21_132_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_21_132_22&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> </span><a name="loc_132_23_132_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_23_132_24&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre">) = </span><a href="#loc_74_17_74_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_17_74_26&#39;)"><span class="hl_conref"><span class="mpre">BytesRead</span></span></a><span class="mpre"> </span><a href="#loc_132_21_132_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_21_132_22&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> </span><a href="#loc_132_8_132_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_8_132_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_132_23_132_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_23_132_24&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">)

instance </span><span class="warning" data-warning="InstDecl ContextCxParen (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/binary-0.7.1.0/src/Data/Binary/Get/Internal.hs&quot;, srcSpanStartLine = 134, srcSpanStartColumn = 10, srcSpanEndLine = 134, srcSpanEndColumn = 21}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/binary-0.7.1.0/src/Data/Binary/Get/Internal.hs&quot;, srcSpanStartLine = 134, srcSpanStartColumn = 10, srcSpanEndLine = 134, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/binary-0.7.1.0/src/Data/Bina"><span class="mpre">(Show a) =&gt;</span></span><span class="mpre"> </span><span class="hl_classref"><span class="mpre">Show</span></span><span class="mpre"> (</span><a href="#loc_64_6_64_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_6_64_13&#39;)"><span class="hl_tyconref"><span class="mpre">Decoder</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) where
  </span><a name="loc_135_3_135_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_3_135_7&#39;)"><span class="hl_fundecl"><span class="mpre">show</span></span></a><span class="mpre"> (</span><a href="#loc_64_18_64_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_18_64_22&#39;)"><span class="hl_conref"><span class="mpre">Fail</span></span></a><span class="mpre"> _ </span><a name="loc_135_16_135_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_16_135_19&#39;)"><span class="hl_vardecl"><span class="mpre">msg</span></span></a><span class="mpre">) = </span><span class="hl_string"><span class="mpre">&quot;Fail: &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_135_16_135_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_16_135_19&#39;)"><span class="hl_varref"><span class="mpre">msg</span></span></a><span class="mpre">
  </span><a href="#loc_135_3_135_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_3_135_7&#39;)"><span class="hl_fundecl"><span class="mpre">show</span></span></a><span class="mpre"> (</span><a href="#loc_67_17_67_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_17_67_24&#39;)"><span class="hl_conref"><span class="mpre">Partial</span></span></a><span class="mpre"> _) = </span><span class="hl_string"><span class="mpre">&quot;Partial _&quot;</span></span><span class="mpre">
  </span><a href="#loc_135_3_135_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_3_135_7&#39;)"><span class="hl_fundecl"><span class="mpre">show</span></span></a><span class="mpre"> (</span><a href="#loc_71_17_71_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_17_71_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre"> _ </span><a name="loc_137_16_137_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_16_137_17&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">) = </span><span class="hl_string"><span class="mpre">&quot;Done: &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_137_16_137_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_16_137_17&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
  </span><a href="#loc_135_3_135_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_135_3_135_7&#39;)"><span class="hl_fundecl"><span class="mpre">show</span></span></a><span class="mpre"> (</span><a href="#loc_74_17_74_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_17_74_26&#39;)"><span class="hl_conref"><span class="mpre">BytesRead</span></span></a><span class="mpre"> _ _) = </span><span class="hl_string"><span class="mpre">&quot;BytesRead&quot;</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Run a &#39;Get&#39; monad. See &#39;Decoder&#39; for what to do next, like providing</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- input, handling decoding errors and to get the output value.</span></span><span class="mpre">
</span><a href="#loc_143_1_143_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_18&#39;)"><span class="mpre">runGetIncremental</span></a><span class="mpre"> :: </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_64_6_64_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_6_64_13&#39;)"><span class="hl_tyconref"><span class="mpre">Decoder</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_143_1_143_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_1_143_18&#39;)"><span class="hl_fundecl"><span class="mpre">runGetIncremental</span></span></a><span class="mpre"> </span><a name="loc_143_19_143_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_19_143_20&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> = </span><a href="#loc_150_1_150_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_10&#39;)"><span class="hl_varref"><span class="mpre">noMeansNo</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
  </span><a href="#loc_81_21_81_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_21_81_28&#39;)"><span class="hl_varref"><span class="mpre">runCont</span></span></a><span class="mpre"> </span><a href="#loc_143_19_143_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_143_19_143_20&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.empty</span></span><span class="mpre"> (\</span><a name="loc_144_23_144_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_23_144_24&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> </span><a name="loc_144_25_144_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_25_144_26&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_71_17_71_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_17_71_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre"> </span><a href="#loc_144_23_144_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_23_144_24&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_144_25_144_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_144_25_144_26&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Make sure we don&#39;t have to pass Nothing to a Partial twice.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This way we don&#39;t need to pass around an EOF value in the Get monad, it</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- can safely ask several times if it needs to.</span></span><span class="mpre">
</span><a href="#loc_150_1_150_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_10&#39;)"><span class="mpre">noMeansNo</span></a><span class="mpre"> :: </span><a href="#loc_64_6_64_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_6_64_13&#39;)"><span class="hl_tyconref"><span class="mpre">Decoder</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_64_6_64_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_6_64_13&#39;)"><span class="hl_tyconref"><span class="mpre">Decoder</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_150_1_150_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_10&#39;)"><span class="hl_fundecl"><span class="mpre">noMeansNo</span></span></a><span class="mpre"> </span><a name="loc_150_11_150_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_11_150_13&#39;)"><span class="hl_vardecl"><span class="mpre">r0</span></span></a><span class="mpre"> = </span><a href="#loc_152_3_152_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_3_152_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_150_11_150_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_11_150_13&#39;)"><span class="hl_varref"><span class="mpre">r0</span></span></a><span class="mpre">
  where
  </span><a name="loc_152_3_152_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_3_152_5&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_152_6_152_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_6_152_7&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> =
    case </span><a href="#loc_152_6_152_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_6_152_7&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre"> of
      </span><a href="#loc_67_17_67_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_17_67_24&#39;)"><span class="hl_conref"><span class="mpre">Partial</span></span></a><span class="mpre"> </span><a name="loc_154_15_154_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_15_154_16&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_67_17_67_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_17_67_24&#39;)"><span class="hl_conref"><span class="mpre">Partial</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_154_31_154_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_31_154_33&#39;)"><span class="hl_vardecl"><span class="mpre">ms</span></span></a><span class="mpre"> -&gt;
                    case </span><a href="#loc_154_31_154_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_31_154_33&#39;)"><span class="hl_varref"><span class="mpre">ms</span></span></a><span class="mpre"> of
                      </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> _ -&gt; </span><a href="#loc_152_3_152_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_3_152_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="#loc_154_15_154_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_15_154_16&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_154_31_154_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_31_154_33&#39;)"><span class="hl_varref"><span class="mpre">ms</span></span></a><span class="mpre">)
                      </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; </span><a href="#loc_161_3_161_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_3_161_13&#39;)"><span class="hl_varref"><span class="mpre">neverAgain</span></span></a><span class="mpre"> (</span><a href="#loc_154_15_154_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_15_154_16&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_154_31_154_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_154_31_154_33&#39;)"><span class="hl_varref"><span class="mpre">ms</span></span></a><span class="mpre">)
      </span><a href="#loc_74_17_74_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_17_74_26&#39;)"><span class="hl_conref"><span class="mpre">BytesRead</span></span></a><span class="mpre"> </span><a name="loc_158_17_158_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_17_158_18&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_158_19_158_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_19_158_20&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_74_17_74_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_17_74_26&#39;)"><span class="hl_conref"><span class="mpre">BytesRead</span></span></a><span class="mpre"> </span><a href="#loc_158_17_158_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_17_158_18&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> (</span><a href="#loc_152_3_152_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_3_152_5&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_158_19_158_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_158_19_158_20&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">)
      </span><a href="#loc_71_17_71_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_17_71_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre"> _ _ -&gt; </span><a href="#loc_152_6_152_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_6_152_7&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
      </span><a href="#loc_64_18_64_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_18_64_22&#39;)"><span class="hl_conref"><span class="mpre">Fail</span></span></a><span class="mpre"> _ _ -&gt; </span><a href="#loc_152_6_152_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_152_6_152_7&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
  </span><a name="loc_161_3_161_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_3_161_13&#39;)"><span class="hl_fundecl"><span class="mpre">neverAgain</span></span></a><span class="mpre"> </span><a name="loc_161_14_161_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_14_161_15&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> =
    case </span><a href="#loc_161_14_161_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_14_161_15&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre"> of
      </span><a href="#loc_67_17_67_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_17_67_24&#39;)"><span class="hl_conref"><span class="mpre">Partial</span></span></a><span class="mpre"> </span><a name="loc_163_15_163_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_15_163_16&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_161_3_161_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_3_161_13&#39;)"><span class="hl_varref"><span class="mpre">neverAgain</span></span></a><span class="mpre"> (</span><a href="#loc_163_15_163_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_163_15_163_16&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">)
      </span><a href="#loc_74_17_74_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_17_74_26&#39;)"><span class="hl_conref"><span class="mpre">BytesRead</span></span></a><span class="mpre"> </span><a name="loc_164_17_164_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_17_164_18&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_164_19_164_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_19_164_20&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_74_17_74_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_17_74_26&#39;)"><span class="hl_conref"><span class="mpre">BytesRead</span></span></a><span class="mpre"> </span><a href="#loc_164_17_164_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_17_164_18&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> (</span><a href="#loc_161_3_161_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_3_161_13&#39;)"><span class="hl_varref"><span class="mpre">neverAgain</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_164_19_164_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_164_19_164_20&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">)
      </span><a href="#loc_64_18_64_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_18_64_22&#39;)"><span class="hl_conref"><span class="mpre">Fail</span></span></a><span class="mpre"> _ _ -&gt; </span><a href="#loc_161_14_161_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_14_161_15&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
      </span><a href="#loc_71_17_71_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_17_71_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre"> _ _ -&gt; </span><a href="#loc_161_14_161_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_161_14_161_15&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">

</span><a href="#loc_169_1_169_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_1_169_7&#39;)"><span class="mpre">prompt</span></a><span class="mpre"> :: </span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_64_6_64_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_6_64_13&#39;)"><span class="hl_tyconref"><span class="mpre">Decoder</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; (</span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_64_6_64_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_6_64_13&#39;)"><span class="hl_tyconref"><span class="mpre">Decoder</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><a href="#loc_64_6_64_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_6_64_13&#39;)"><span class="hl_tyconref"><span class="mpre">Decoder</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_169_1_169_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_1_169_7&#39;)"><span class="hl_fundecl"><span class="mpre">prompt</span></span></a><span class="mpre"> </span><a name="loc_169_8_169_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_8_169_11&#39;)"><span class="hl_vardecl"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a name="loc_169_12_169_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_12_169_14&#39;)"><span class="hl_vardecl"><span class="mpre">kf</span></span></a><span class="mpre"> </span><a name="loc_169_15_169_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_15_169_17&#39;)"><span class="hl_vardecl"><span class="mpre">ks</span></span></a><span class="mpre"> =
    let </span><a name="loc_170_9_170_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_9_170_13&#39;)"><span class="hl_vardecl"><span class="mpre">loop</span></span></a><span class="mpre"> =
         </span><a href="#loc_67_17_67_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_17_67_24&#39;)"><span class="hl_conref"><span class="mpre">Partial</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_171_21_171_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_21_171_23&#39;)"><span class="hl_vardecl"><span class="mpre">sm</span></span></a><span class="mpre"> -&gt;
           case </span><a href="#loc_171_21_171_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_171_21_171_23&#39;)"><span class="hl_varref"><span class="mpre">sm</span></span></a><span class="mpre"> of
             </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_173_19_173_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_19_173_20&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> | </span><span class="hl_varref"><span class="mpre">B.null</span></span><span class="mpre"> </span><a href="#loc_173_19_173_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_19_173_20&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_170_9_170_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_9_170_13&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">
                    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> -&gt; </span><a href="#loc_169_15_169_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_15_169_17&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre"> (</span><a href="#loc_169_8_169_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_8_169_11&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`B.append`</span></span><span class="mpre"> </span><a href="#loc_173_19_173_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_19_173_20&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
             </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; </span><a href="#loc_169_12_169_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_12_169_14&#39;)"><span class="hl_varref"><span class="mpre">kf</span></span></a><span class="mpre">
    in </span><a href="#loc_170_9_170_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_9_170_13&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Get the total number of bytes read to this point.</span></span><span class="mpre">
</span><a href="#loc_180_1_180_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_1_180_10&#39;)"><span class="mpre">bytesRead</span></a><span class="mpre"> :: </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int64</span></span><span class="mpre">
</span><a name="loc_180_1_180_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_1_180_10&#39;)"><span class="hl_vardecl"><span class="mpre">bytesRead</span></span></a><span class="mpre"> = </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_180_18_180_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_18_180_21&#39;)"><span class="hl_vardecl"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a name="loc_180_22_180_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_22_180_23&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_74_17_74_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_17_74_26&#39;)"><span class="hl_conref"><span class="mpre">BytesRead</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.length</span></span><span class="mpre"> </span><a href="#loc_180_18_180_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_18_180_21&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre">) (</span><a href="#loc_180_22_180_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_22_180_23&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_180_18_180_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_18_180_21&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Demand more input. If none available, fail.</span></span><span class="mpre">
</span><a href="#loc_184_1_184_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_1_184_12&#39;)"><span class="mpre">demandInput</span></a><span class="mpre"> :: </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_184_1_184_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_1_184_12&#39;)"><span class="hl_vardecl"><span class="mpre">demandInput</span></span></a><span class="mpre"> = </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_184_20_184_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_20_184_23&#39;)"><span class="hl_vardecl"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a name="loc_184_24_184_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_24_184_26&#39;)"><span class="hl_vardecl"><span class="mpre">ks</span></span></a><span class="mpre"> -&gt;
  </span><a href="#loc_169_1_169_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_1_169_7&#39;)"><span class="hl_varref"><span class="mpre">prompt</span></span></a><span class="mpre"> </span><a href="#loc_184_20_184_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_20_184_23&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> (</span><a href="#loc_64_18_64_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_18_64_22&#39;)"><span class="hl_conref"><span class="mpre">Fail</span></span></a><span class="mpre"> </span><a href="#loc_184_20_184_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_20_184_23&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;demandInput: not enough bytes&quot;</span></span><span class="mpre">) (\</span><a name="loc_185_59_185_63" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_59_185_63&#39;)"><span class="hl_vardecl"><span class="mpre">inp&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_184_24_184_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_24_184_26&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre"> </span><a href="#loc_185_59_185_63" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_59_185_63&#39;)"><span class="hl_varref"><span class="mpre">inp&#39;</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | Skip ahead @n@ bytes. Fails if fewer than @n@ bytes are available.</span></span><span class="mpre">
</span><a href="#loc_189_1_189_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_189_1_189_5&#39;)"><span class="mpre">skip</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_189_1_189_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_189_1_189_5&#39;)"><span class="hl_fundecl"><span class="mpre">skip</span></span></a><span class="mpre"> </span><a name="loc_189_6_189_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_189_6_189_7&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_309_1_309_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_1_309_6&#39;)"><span class="hl_varref"><span class="mpre">readN</span></span></a><span class="mpre"> </span><a href="#loc_189_6_189_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_189_6_189_7&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_189_1_189_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_189_1_189_5&#39;)"><span class="mpre">skip</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Test whether all input has been consumed, i.e. there are no remaining</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- undecoded bytes.</span></span><span class="mpre">
</span><a href="#loc_195_1_195_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_1_195_8&#39;)"><span class="mpre">isEmpty</span></a><span class="mpre"> :: </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_195_1_195_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_1_195_8&#39;)"><span class="hl_vardecl"><span class="mpre">isEmpty</span></span></a><span class="mpre"> = </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_195_16_195_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_16_195_19&#39;)"><span class="hl_vardecl"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a name="loc_195_20_195_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_20_195_22&#39;)"><span class="hl_vardecl"><span class="mpre">ks</span></span></a><span class="mpre"> -&gt;
    if </span><span class="hl_varref"><span class="mpre">B.null</span></span><span class="mpre"> </span><a href="#loc_195_16_195_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_16_195_19&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre">
      then </span><a href="#loc_169_1_169_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_169_1_169_7&#39;)"><span class="hl_varref"><span class="mpre">prompt</span></span></a><span class="mpre"> </span><a href="#loc_195_16_195_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_16_195_19&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> (</span><a href="#loc_195_20_195_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_20_195_22&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre"> </span><a href="#loc_195_16_195_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_16_195_19&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">) (\</span><a name="loc_197_39_197_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_39_197_43&#39;)"><span class="hl_vardecl"><span class="mpre">inp&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_195_20_195_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_20_195_22&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre"> </span><a href="#loc_197_39_197_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_39_197_43&#39;)"><span class="hl_varref"><span class="mpre">inp&#39;</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">)
      else </span><a href="#loc_195_20_195_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_20_195_22&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre"> </span><a href="#loc_195_16_195_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_16_195_19&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | DEPRECATED. Same as &#39;getByteString&#39;.</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclDeprPragmaDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/binary-0.7.1.0/src/Data/Binary/Get/Internal.hs&quot;, srcSpanStartLine = 201, srcSpanStartColumn = 1, srcSpanEndLine = 201, srcSpanEndColumn = 73}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/binary-0.7.1.0/src/Data/Binary/Get/Internal.hs&quot;, srcSpanStartLine = 201, srcSpanStartColumn = 1, srcSpanEndLine = 201, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/binary-0.7.1.0/src/Data"><span class="mpre">{-# DEPRECATED getBytes &quot;Use &#39;getByteString&#39; instead of &#39;getBytes&#39;.&quot; #-}</span></span><span class="mpre">
</span><a href="#loc_203_1_203_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_1_203_9&#39;)"><span class="mpre">getBytes</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span></a><span class="mpre">
</span><a name="loc_203_1_203_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_1_203_9&#39;)"><span class="hl_vardecl"><span class="mpre">getBytes</span></span></a><span class="mpre"> = </span><a href="#loc_294_1_294_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_1_294_14&#39;)"><span class="hl_varref"><span class="mpre">getByteString</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_203_1_203_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_1_203_9&#39;)"><span class="mpre">getBytes</span></a><span class="mpre"> #-}</span></span><span class="mpre">

instance </span><a href="Control.Applicative.html#loc_138_24_138_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_138_24_138_35&#39;)"><span class="hl_classref"><span class="mpre">Alternative</span></span></a><span class="mpre"> </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> where
  </span><a href="Control.Applicative.html#loc_140_5_140_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_140_5_140_10&#39;)"><span class="hl_vardecl"><span class="mpre">empty</span></span></a><span class="mpre"> = </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_207_16_207_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_207_16_207_19&#39;)"><span class="hl_vardecl"><span class="mpre">inp</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_ks</span></span><span class="mpre"> -&gt; </span><a href="#loc_64_18_64_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_18_64_22&#39;)"><span class="hl_conref"><span class="mpre">Fail</span></span></a><span class="mpre"> </span><a href="#loc_207_16_207_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_207_16_207_19&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Data.Binary.Get(Alternative).empty&quot;</span></span><span class="mpre">
  </span><a href="Control.Applicative.html#loc_142_5_142_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_142_5_142_10&#39;)"><span class="hl_fundecl"><span class="mpre">(&lt;|&gt;)</span></span></a><span class="mpre"> </span><a name="loc_208_9_208_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_9_208_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_208_11_208_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_11_208_12&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> = do
    (</span><a name="loc_209_6_209_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_6_209_13&#39;)"><span class="hl_vardecl"><span class="mpre">decoder</span></span></a><span class="mpre">, </span><a name="loc_209_15_209_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_15_209_17&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_227_1_227_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_1_227_16&#39;)"><span class="hl_varref"><span class="mpre">runAndKeepTrack</span></span></a><span class="mpre"> </span><a href="#loc_208_9_208_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_9_208_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
    case </span><a href="#loc_209_6_209_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_6_209_13&#39;)"><span class="hl_varref"><span class="mpre">decoder</span></span></a><span class="mpre"> of
      </span><a href="#loc_71_17_71_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_17_71_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre"> </span><a name="loc_211_12_211_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_12_211_15&#39;)"><span class="hl_vardecl"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a name="loc_211_16_211_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_16_211_17&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \_ </span><a name="loc_211_28_211_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_28_211_30&#39;)"><span class="hl_vardecl"><span class="mpre">ks</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_211_28_211_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_28_211_30&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre"> </span><a href="#loc_211_12_211_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_12_211_15&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a href="#loc_211_16_211_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_211_16_211_17&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
      </span><a href="#loc_64_18_64_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_18_64_22&#39;)"><span class="hl_conref"><span class="mpre">Fail</span></span></a><span class="mpre"> _ _ -&gt; </span><a href="#loc_238_1_238_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_1_238_9&#39;)"><span class="hl_varref"><span class="mpre">pushBack</span></span></a><span class="mpre"> </span><a href="#loc_209_15_209_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_15_209_17&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_208_11_208_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_11_208_12&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">
      _ -&gt; </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Binary: impossible&quot;</span></span><span class="mpre">
  </span><a href="Control.Applicative.html#loc_145_5_145_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_145_5_145_9&#39;)"><span class="hl_fundecl"><span class="mpre">some</span></span></a><span class="mpre"> </span><a name="loc_214_8_214_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_8_214_9&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">(:)</span></span><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_214_8_214_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_8_214_9&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_118_5_118_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_118_5_118_10&#39;)"><span class="hl_infix"><span class="mpre">&lt;*&gt;</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_152_5_152_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_152_5_152_9&#39;)"><span class="hl_varref"><span class="mpre">many</span></span></a><span class="mpre"> </span><a href="#loc_214_8_214_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_8_214_9&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">
  </span><a href="Control.Applicative.html#loc_152_5_152_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_152_5_152_9&#39;)"><span class="hl_fundecl"><span class="mpre">many</span></span></a><span class="mpre"> </span><a name="loc_215_8_215_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_8_215_9&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = do
    </span><a name="loc_216_5_216_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_5_216_6&#39;)"><span class="hl_vardecl"><span class="mpre">v</span></span></a><span class="mpre"> &lt;- (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_215_8_215_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_8_215_9&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">) </span><a href="Control.Applicative.html#loc_142_5_142_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_142_5_142_10&#39;)"><span class="hl_infix"><span class="mpre">&lt;|&gt;</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_varref"><span class="mpre">pure</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
    case </span><a href="#loc_216_5_216_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_5_216_6&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre"> of
      </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_varref"><span class="mpre">pure</span></span></a><span class="mpre"> []
      </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_219_12_219_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_219_12_219_13&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">(:)</span></span><span class="mpre"> </span><a href="#loc_219_12_219_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_219_12_219_13&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="Control.Applicative.html#loc_152_5_152_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_152_5_152_9&#39;)"><span class="hl_varref"><span class="mpre">many</span></span></a><span class="mpre"> </span><a href="#loc_215_8_215_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_8_215_9&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Run a decoder and keep track of all the input it consumes.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Once it&#39;s finished, return the final decoder (always &#39;Done&#39; or &#39;Fail&#39;), </span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and unconsume all the the input the decoder required to run.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Any additional chunks which was required to run the decoder</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- will also be returned.</span></span><span class="mpre">
</span><a href="#loc_227_1_227_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_1_227_16&#39;)"><span class="mpre">runAndKeepTrack</span></a><span class="mpre"> :: </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> (</span><a href="#loc_64_6_64_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_6_64_13&#39;)"><span class="hl_tyconref"><span class="mpre">Decoder</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, [</span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span></a><span class="mpre">])
</span><a name="loc_227_1_227_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_1_227_16&#39;)"><span class="hl_fundecl"><span class="mpre">runAndKeepTrack</span></span></a><span class="mpre"> </span><a name="loc_227_17_227_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_17_227_18&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> = </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_227_26_227_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_26_227_29&#39;)"><span class="hl_vardecl"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a name="loc_227_30_227_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_30_227_32&#39;)"><span class="hl_vardecl"><span class="mpre">ks</span></span></a><span class="mpre"> -&gt;
  let </span><a name="loc_228_7_228_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_7_228_9&#39;)"><span class="hl_vardecl"><span class="mpre">r0</span></span></a><span class="mpre"> = </span><a href="#loc_81_21_81_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_21_81_28&#39;)"><span class="hl_varref"><span class="mpre">runCont</span></span></a><span class="mpre"> </span><a href="#loc_227_17_227_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_17_227_18&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_227_26_227_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_26_227_29&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> (\</span><a name="loc_228_28_228_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_28_228_32&#39;)"><span class="hl_vardecl"><span class="mpre">inp&#39;</span></span></a><span class="mpre"> </span><a name="loc_228_33_228_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_33_228_34&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_71_17_71_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_17_71_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre"> </span><a href="#loc_228_28_228_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_28_228_32&#39;)"><span class="hl_varref"><span class="mpre">inp&#39;</span></span></a><span class="mpre"> </span><a href="#loc_228_33_228_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_33_228_34&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
      </span><a name="loc_229_7_229_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_7_229_9&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> !</span><a name="loc_229_11_229_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_11_229_14&#39;)"><span class="hl_vardecl"><span class="mpre">acc</span></span></a><span class="mpre"> </span><a name="loc_229_15_229_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_15_229_16&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> = case </span><a href="#loc_229_15_229_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_15_229_16&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre"> of
                    </span><a href="#loc_71_17_71_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_17_71_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre"> </span><a name="loc_230_26_230_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_26_230_30&#39;)"><span class="hl_vardecl"><span class="mpre">inp&#39;</span></span></a><span class="mpre"> </span><a name="loc_230_31_230_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_31_230_32&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_227_30_227_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_30_227_32&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre"> </span><a href="#loc_227_26_227_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_26_227_29&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> (</span><a href="#loc_71_17_71_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_17_71_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre"> </span><a href="#loc_230_26_230_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_26_230_30&#39;)"><span class="hl_varref"><span class="mpre">inp&#39;</span></span></a><span class="mpre"> </span><a href="#loc_230_31_230_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_230_31_230_32&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><span class="hl_varref"><span class="mpre">reverse</span></span><span class="mpre"> </span><a href="#loc_229_11_229_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_11_229_14&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre">)
                    </span><a href="#loc_67_17_67_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_17_67_24&#39;)"><span class="hl_conref"><span class="mpre">Partial</span></span></a><span class="mpre"> </span><a name="loc_231_29_231_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_29_231_30&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_67_17_67_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_17_67_24&#39;)"><span class="hl_conref"><span class="mpre">Partial</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_231_45_231_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_45_231_49&#39;)"><span class="hl_vardecl"><span class="mpre">minp</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_229_7_229_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_7_229_9&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> </span><a href="#loc_229_11_229_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_11_229_14&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_229_11_229_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_11_229_14&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre">) </span><a href="#loc_231_45_231_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_45_231_49&#39;)"><span class="hl_varref"><span class="mpre">minp</span></span></a><span class="mpre">) (</span><a href="#loc_231_29_231_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_29_231_30&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_231_45_231_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_231_45_231_49&#39;)"><span class="hl_varref"><span class="mpre">minp</span></span></a><span class="mpre">)
                    </span><a href="#loc_64_18_64_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_18_64_22&#39;)"><span class="hl_conref"><span class="mpre">Fail</span></span></a><span class="mpre"> </span><a name="loc_232_26_232_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_26_232_30&#39;)"><span class="hl_vardecl"><span class="mpre">inp&#39;</span></span></a><span class="mpre"> </span><a name="loc_232_31_232_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_31_232_32&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_227_30_227_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_30_227_32&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre"> </span><a href="#loc_227_26_227_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_26_227_29&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> (</span><a href="#loc_64_18_64_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_18_64_22&#39;)"><span class="hl_conref"><span class="mpre">Fail</span></span></a><span class="mpre"> </span><a href="#loc_232_26_232_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_26_232_30&#39;)"><span class="hl_varref"><span class="mpre">inp&#39;</span></span></a><span class="mpre"> </span><a href="#loc_232_31_232_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_232_31_232_32&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">, </span><span class="hl_varref"><span class="mpre">reverse</span></span><span class="mpre"> </span><a href="#loc_229_11_229_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_11_229_14&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre">)
                    </span><a href="#loc_74_17_74_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_17_74_26&#39;)"><span class="hl_conref"><span class="mpre">BytesRead</span></span></a><span class="mpre"> </span><a name="loc_233_31_233_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_233_31_233_37&#39;)"><span class="hl_vardecl"><span class="mpre">unused</span></span></a><span class="mpre"> </span><a name="loc_233_38_233_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_233_38_233_39&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_74_17_74_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_17_74_26&#39;)"><span class="hl_conref"><span class="mpre">BytesRead</span></span></a><span class="mpre"> </span><a href="#loc_233_31_233_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_233_31_233_37&#39;)"><span class="hl_varref"><span class="mpre">unused</span></span></a><span class="mpre"> (</span><a href="#loc_229_7_229_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_7_229_9&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_229_11_229_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_11_229_14&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_233_38_233_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_233_38_233_39&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">)
  in </span><a href="#loc_229_7_229_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_7_229_9&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> [] </span><a href="#loc_228_7_228_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_228_7_228_9&#39;)"><span class="hl_varref"><span class="mpre">r0</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_227_1_227_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_1_227_16&#39;)"><span class="mpre">runAndKeepTrack</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_238_1_238_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_1_238_9&#39;)"><span class="mpre">pushBack</span></a><span class="mpre"> :: [</span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span></a><span class="mpre">] -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_238_1_238_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_1_238_9&#39;)"><span class="hl_fundecl"><span class="mpre">pushBack</span></span></a><span class="mpre"> [] = </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \ </span><a name="loc_238_21_238_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_21_238_24&#39;)"><span class="hl_vardecl"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a name="loc_238_25_238_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_25_238_27&#39;)"><span class="hl_vardecl"><span class="mpre">ks</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_238_25_238_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_25_238_27&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre"> </span><a href="#loc_238_21_238_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_21_238_24&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
</span><a href="#loc_238_1_238_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_1_238_9&#39;)"><span class="hl_fundecl"><span class="mpre">pushBack</span></span></a><span class="mpre"> </span><a name="loc_239_10_239_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_10_239_12&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre"> = </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \ </span><a name="loc_239_21_239_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_21_239_24&#39;)"><span class="hl_vardecl"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a name="loc_239_25_239_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_25_239_27&#39;)"><span class="hl_vardecl"><span class="mpre">ks</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_239_25_239_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_25_239_27&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">B.concat</span></span><span class="mpre"> (</span><a href="#loc_239_21_239_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_21_239_24&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_239_10_239_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_239_10_239_12&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">)) </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_238_1_238_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_1_238_9&#39;)"><span class="mpre">pushBack</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Run the given decoder, but without consuming its input. If the given</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- decoder fails, then so will this function.</span></span><span class="mpre">
</span><a href="#loc_245_1_245_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_245_1_245_10&#39;)"><span class="mpre">lookAhead</span></a><span class="mpre"> :: </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_245_1_245_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_245_1_245_10&#39;)"><span class="hl_fundecl"><span class="mpre">lookAhead</span></span></a><span class="mpre"> </span><a name="loc_245_11_245_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_245_11_245_12&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> = do
  (</span><a name="loc_246_4_246_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_4_246_11&#39;)"><span class="hl_vardecl"><span class="mpre">decoder</span></span></a><span class="mpre">, </span><a name="loc_246_13_246_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_13_246_15&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_227_1_227_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_1_227_16&#39;)"><span class="hl_varref"><span class="mpre">runAndKeepTrack</span></span></a><span class="mpre"> </span><a href="#loc_245_11_245_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_245_11_245_12&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">
  case </span><a href="#loc_246_4_246_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_4_246_11&#39;)"><span class="hl_varref"><span class="mpre">decoder</span></span></a><span class="mpre"> of
    </span><a href="#loc_71_17_71_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_17_71_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre"> _ </span><a name="loc_248_12_248_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_12_248_13&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_238_1_238_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_1_238_9&#39;)"><span class="hl_varref"><span class="mpre">pushBack</span></span></a><span class="mpre"> </span><a href="#loc_246_13_246_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_13_246_15&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_248_12_248_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_12_248_13&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
    </span><a href="#loc_64_18_64_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_18_64_22&#39;)"><span class="hl_conref"><span class="mpre">Fail</span></span></a><span class="mpre"> </span><a name="loc_249_10_249_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_10_249_13&#39;)"><span class="hl_vardecl"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a name="loc_249_14_249_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_14_249_15&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \_ _ -&gt; </span><a href="#loc_64_18_64_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_18_64_22&#39;)"><span class="hl_conref"><span class="mpre">Fail</span></span></a><span class="mpre"> </span><a href="#loc_249_10_249_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_10_249_13&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a href="#loc_249_14_249_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_249_14_249_15&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
    _ -&gt; </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Binary: impossible&quot;</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Run the given decoder, and only consume its input if it returns &#39;Just&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- If &#39;Nothing&#39; is returned, the input will be unconsumed.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- If the given decoder fails, then so will this function.</span></span><span class="mpre">
</span><a href="#loc_256_1_256_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_256_1_256_11&#39;)"><span class="mpre">lookAheadM</span></a><span class="mpre"> :: </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
</span><a name="loc_256_1_256_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_256_1_256_11&#39;)"><span class="hl_fundecl"><span class="mpre">lookAheadM</span></span></a><span class="mpre"> </span><a name="loc_256_12_256_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_256_12_256_13&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> = do
  let </span><a name="loc_257_7_257_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_257_7_257_9&#39;)"><span class="hl_vardecl"><span class="mpre">g&#39;</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">) </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_256_12_256_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_256_12_256_13&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">either</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">const</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">) </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_264_1_264_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_1_264_11&#39;)"><span class="hl_varref"><span class="mpre">lookAheadE</span></span></a><span class="mpre"> </span><a href="#loc_257_7_257_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_257_7_257_9&#39;)"><span class="hl_varref"><span class="mpre">g&#39;</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Run the given decoder, and only consume its input if it returns &#39;Right&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- If &#39;Left&#39; is returned, the input will be unconsumed.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- If the given decoder fails, then so will this function.</span></span><span class="mpre">
</span><a href="#loc_264_1_264_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_1_264_11&#39;)"><span class="mpre">lookAheadE</span></a><span class="mpre"> :: </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">)
</span><a name="loc_264_1_264_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_1_264_11&#39;)"><span class="hl_fundecl"><span class="mpre">lookAheadE</span></span></a><span class="mpre"> </span><a name="loc_264_12_264_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_12_264_13&#39;)"><span class="hl_vardecl"><span class="mpre">g</span></span></a><span class="mpre"> = do
  (</span><a name="loc_265_4_265_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_265_4_265_11&#39;)"><span class="hl_vardecl"><span class="mpre">decoder</span></span></a><span class="mpre">, </span><a name="loc_265_13_265_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_265_13_265_15&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_227_1_227_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_1_227_16&#39;)"><span class="hl_varref"><span class="mpre">runAndKeepTrack</span></span></a><span class="mpre"> </span><a href="#loc_264_12_264_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_12_264_13&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre">
  case </span><a href="#loc_265_4_265_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_265_4_265_11&#39;)"><span class="hl_varref"><span class="mpre">decoder</span></span></a><span class="mpre"> of
    </span><a href="#loc_71_17_71_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_17_71_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre"> _ (</span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_267_18_267_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_18_267_19&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) -&gt; </span><a href="#loc_238_1_238_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_1_238_9&#39;)"><span class="hl_varref"><span class="mpre">pushBack</span></span></a><span class="mpre"> </span><a href="#loc_265_13_265_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_265_13_265_15&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a href="#loc_267_18_267_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_267_18_267_19&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)
    </span><a href="#loc_71_17_71_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_17_71_21&#39;)"><span class="hl_conref"><span class="mpre">Done</span></span></a><span class="mpre"> </span><a name="loc_268_10_268_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_10_268_13&#39;)"><span class="hl_vardecl"><span class="mpre">inp</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a name="loc_268_21_268_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_21_268_22&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">) -&gt; </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \_ </span><a name="loc_268_34_268_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_34_268_36&#39;)"><span class="hl_vardecl"><span class="mpre">ks</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_268_34_268_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_34_268_36&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre"> </span><a href="#loc_268_10_268_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_10_268_13&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a href="#loc_268_21_268_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_268_21_268_22&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)
    </span><a href="#loc_64_18_64_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_18_64_22&#39;)"><span class="hl_conref"><span class="mpre">Fail</span></span></a><span class="mpre"> </span><a name="loc_269_10_269_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_269_10_269_13&#39;)"><span class="hl_vardecl"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a name="loc_269_14_269_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_269_14_269_15&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \_ _ -&gt; </span><a href="#loc_64_18_64_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_18_64_22&#39;)"><span class="hl_conref"><span class="mpre">Fail</span></span></a><span class="mpre"> </span><a href="#loc_269_10_269_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_269_10_269_13&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a href="#loc_269_14_269_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_269_14_269_15&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
    _ -&gt; </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Binary: impossible&quot;</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | DEPRECATED. Get the number of bytes of remaining input.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note that this is an expensive function to use as in order to calculate how</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- much input remains, all input has to be read and kept in-memory.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The decoder keeps the input as a strict bytestring, so you are likely better</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- off by calculating the remaining input in another way.</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclDeprPragmaDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/binary-0.7.1.0/src/Data/Binary/Get/Internal.hs&quot;, srcSpanStartLine = 277, srcSpanStartColumn = 1, srcSpanEndLine = 277, srcSpanEndColumn = 82}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/binary-0.7.1.0/src/Data/Binary/Get/Internal.hs&quot;, srcSpanStartLine = 277, srcSpanStartColumn = 1, srcSpanEndLine = 277, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/binary-0.7.1.0/src/Data"><span class="mpre">{-# DEPRECATED remaining &quot;This will force all remaining input, don&#39;t use it.&quot; #-}</span></span><span class="mpre">
</span><a href="#loc_279_1_279_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_1_279_10&#39;)"><span class="mpre">remaining</span></a><span class="mpre"> :: </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int64</span></span><span class="mpre">
</span><a name="loc_279_1_279_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_1_279_10&#39;)"><span class="hl_vardecl"><span class="mpre">remaining</span></span></a><span class="mpre"> = </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \ </span><a name="loc_279_19_279_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_19_279_22&#39;)"><span class="hl_vardecl"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a name="loc_279_23_279_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_23_279_25&#39;)"><span class="hl_vardecl"><span class="mpre">ks</span></span></a><span class="mpre"> -&gt;
  let </span><a name="loc_280_7_280_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_7_280_11&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a name="loc_280_12_280_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_12_280_15&#39;)"><span class="hl_vardecl"><span class="mpre">acc</span></span></a><span class="mpre"> = </span><a href="#loc_67_17_67_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_67_17_67_24&#39;)"><span class="hl_conref"><span class="mpre">Partial</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \ </span><a name="loc_280_30_280_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_30_280_34&#39;)"><span class="hl_vardecl"><span class="mpre">minp</span></span></a><span class="mpre"> -&gt;
                  case </span><a href="#loc_280_30_280_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_30_280_34&#39;)"><span class="hl_varref"><span class="mpre">minp</span></span></a><span class="mpre"> of
                    </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; let </span><a name="loc_282_36_282_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_36_282_43&#39;)"><span class="hl_vardecl"><span class="mpre">all_inp</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">B.concat</span></span><span class="mpre"> (</span><a href="#loc_279_19_279_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_19_279_22&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">reverse</span></span><span class="mpre"> </span><a href="#loc_280_12_280_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_12_280_15&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre">))
                               in </span><a href="#loc_279_23_279_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_279_23_279_25&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre"> </span><a href="#loc_282_36_282_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_36_282_43&#39;)"><span class="hl_varref"><span class="mpre">all_inp</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.length</span></span><span class="mpre"> </span><a href="#loc_282_36_282_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_282_36_282_43&#39;)"><span class="hl_varref"><span class="mpre">all_inp</span></span></a><span class="mpre">)
                    </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_284_26_284_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_26_284_30&#39;)"><span class="hl_vardecl"><span class="mpre">inp&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_280_7_280_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_7_280_11&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> (</span><a href="#loc_284_26_284_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_26_284_30&#39;)"><span class="hl_varref"><span class="mpre">inp&#39;</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_280_12_280_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_12_280_15&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre">)
  in </span><a href="#loc_280_7_280_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_7_280_11&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> []

</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- ByteStrings</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | An efficient get method for strict ByteStrings. Fails if fewer than @n@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- bytes are left in the input. If @n &lt;= 0@ then the empty string is returned.</span></span><span class="mpre">
</span><a href="#loc_294_1_294_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_1_294_14&#39;)"><span class="mpre">getByteString</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span></a><span class="mpre">
</span><a name="loc_294_1_294_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_1_294_14&#39;)"><span class="hl_fundecl"><span class="mpre">getByteString</span></span></a><span class="mpre"> </span><a name="loc_294_15_294_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_15_294_16&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> | </span><a href="#loc_294_15_294_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_15_294_16&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> = </span><a href="#loc_309_1_309_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_1_309_6&#39;)"><span class="hl_varref"><span class="mpre">readN</span></span></a><span class="mpre"> </span><a href="#loc_294_15_294_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_15_294_16&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> (</span><a href="Data.ByteString.Unsafe.html#loc_142_1_142_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_142_1_142_11&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeTake</span></span></a><span class="mpre"> </span><a href="#loc_294_15_294_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_15_294_16&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
                | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">B.empty</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_294_1_294_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_1_294_14&#39;)"><span class="mpre">getByteString</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Get the current chunk.</span></span><span class="mpre">
</span><a href="#loc_300_1_300_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_1_300_4&#39;)"><span class="mpre">get</span></a><span class="mpre"> :: </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span></a><span class="mpre">
</span><a name="loc_300_1_300_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_1_300_4&#39;)"><span class="hl_vardecl"><span class="mpre">get</span></span></a><span class="mpre"> = </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_300_12_300_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_12_300_15&#39;)"><span class="hl_vardecl"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a name="loc_300_16_300_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_16_300_18&#39;)"><span class="hl_vardecl"><span class="mpre">ks</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_300_16_300_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_16_300_18&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre"> </span><a href="#loc_300_12_300_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_12_300_15&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a href="#loc_300_12_300_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_12_300_15&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Replace the current chunk.</span></span><span class="mpre">
</span><a href="#loc_304_1_304_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_1_304_4&#39;)"><span class="mpre">put</span></a><span class="mpre"> :: </span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_304_1_304_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_1_304_4&#39;)"><span class="hl_fundecl"><span class="mpre">put</span></span></a><span class="mpre"> </span><a name="loc_304_5_304_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_5_304_6&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><span class="hl_vardecl"><span class="mpre">_inp</span></span><span class="mpre"> </span><a name="loc_304_19_304_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_19_304_21&#39;)"><span class="hl_vardecl"><span class="mpre">ks</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_304_19_304_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_19_304_21&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre"> </span><a href="#loc_304_5_304_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_5_304_6&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Return at least @n@ bytes, maybe more. If not enough data is available</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the computation will escape with &#39;Partial&#39;.</span></span><span class="mpre">
</span><a href="#loc_309_1_309_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_1_309_6&#39;)"><span class="mpre">readN</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; (</span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_309_1_309_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_1_309_6&#39;)"><span class="hl_fundecl"><span class="mpre">readN</span></span></a><span class="mpre"> !</span><a name="loc_309_8_309_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_8_309_9&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_309_10_309_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_10_309_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_330_1_330_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_330_1_330_8&#39;)"><span class="hl_varref"><span class="mpre">ensureN</span></span></a><span class="mpre"> </span><a href="#loc_309_8_309_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_8_309_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_343_1_343_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_1_343_12&#39;)"><span class="hl_varref"><span class="mpre">unsafeReadN</span></span></a><span class="mpre"> </span><a href="#loc_309_8_309_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_8_309_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_309_10_309_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_10_309_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [0] </span><a href="#loc_309_1_309_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_1_309_6&#39;)"><span class="mpre">readN</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES

&quot;&lt;$&gt; to &lt;*&gt;&quot; forall f g.
  (&lt;$&gt;) f g = returnG f &lt;*&gt; g

&quot;readN/readN merge&quot; forall n m f g.
  apG (readN n f) (readN m g) = readN (n+m) (\bs -&gt; f bs $ g (B.unsafeDrop n bs))

&quot;returnG/readN swap&quot; [~1] forall f.
  returnG f = readN 0 (const f)

&quot;readN 0/returnG swapback&quot; [1] forall f.
  readN 0 f = returnG (f B.empty)
 #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Ensure that there are at least @n@ bytes available. If not, the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- computation will escape with &#39;Partial&#39;.</span></span><span class="mpre">
</span><a href="#loc_330_1_330_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_330_1_330_8&#39;)"><span class="mpre">ensureN</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_330_1_330_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_330_1_330_8&#39;)"><span class="hl_fundecl"><span class="mpre">ensureN</span></span></a><span class="mpre"> !</span><a name="loc_330_10_330_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_330_10_330_12&#39;)"><span class="hl_vardecl"><span class="mpre">n0</span></span></a><span class="mpre"> = </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_330_20_330_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_330_20_330_23&#39;)"><span class="hl_vardecl"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a name="loc_330_24_330_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_330_24_330_26&#39;)"><span class="hl_vardecl"><span class="mpre">ks</span></span></a><span class="mpre"> -&gt; do
  if </span><span class="hl_varref"><span class="mpre">B.length</span></span><span class="mpre"> </span><a href="#loc_330_20_330_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_330_20_330_23&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_330_10_330_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_330_10_330_12&#39;)"><span class="hl_varref"><span class="mpre">n0</span></span></a><span class="mpre">
    then </span><a href="#loc_330_24_330_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_330_24_330_26&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre"> </span><a href="#loc_330_20_330_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_330_20_330_23&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
    else </span><a href="#loc_81_21_81_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_21_81_28&#39;)"><span class="hl_varref"><span class="mpre">runCont</span></span></a><span class="mpre"> (</span><a href="#loc_336_5_336_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_5_336_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_330_10_330_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_330_10_330_12&#39;)"><span class="hl_varref"><span class="mpre">n0</span></span></a><span class="mpre">) </span><a href="#loc_330_20_330_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_330_20_330_23&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a href="#loc_330_24_330_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_330_24_330_26&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre">
  where </span><span class="hl_comment"><span class="mpre">-- might look a bit funny, but plays very well with GHC&#39;s inliner.</span></span><span class="mpre">
        </span><span class="hl_comment"><span class="mpre">-- GHC won&#39;t inline recursive functions, so we make ensureN non-recursive</span></span><span class="mpre">
    </span><a name="loc_336_5_336_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_5_336_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_336_8_336_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_8_336_9&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_336_17_336_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_17_336_20&#39;)"><span class="hl_vardecl"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a name="loc_336_21_336_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_21_336_23&#39;)"><span class="hl_vardecl"><span class="mpre">ks</span></span></a><span class="mpre"> -&gt; do
      if </span><span class="hl_varref"><span class="mpre">B.length</span></span><span class="mpre"> </span><a href="#loc_336_17_336_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_17_336_20&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_336_8_336_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_8_336_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">
        then </span><a href="#loc_336_21_336_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_21_336_23&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre"> </span><a href="#loc_336_17_336_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_17_336_20&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
        else </span><a href="#loc_81_21_81_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_21_81_28&#39;)"><span class="hl_varref"><span class="mpre">runCont</span></span></a><span class="mpre"> (</span><a href="#loc_184_1_184_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_1_184_12&#39;)"><span class="hl_varref"><span class="mpre">demandInput</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;&gt;</span></span><span class="mpre"> </span><a href="#loc_336_5_336_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_5_336_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_336_8_336_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_8_336_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">) </span><a href="#loc_336_17_336_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_17_336_20&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a href="#loc_336_21_336_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_21_336_23&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_330_1_330_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_330_1_330_8&#39;)"><span class="mpre">ensureN</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_343_1_343_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_1_343_12&#39;)"><span class="mpre">unsafeReadN</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; (</span><a href="Data.ByteString.Internal.html#loc_193_6_193_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_193_6_193_16&#39;)"><span class="hl_tyconref"><span class="mpre">B.ByteString</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_343_1_343_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_1_343_12&#39;)"><span class="hl_fundecl"><span class="mpre">unsafeReadN</span></span></a><span class="mpre"> !</span><a name="loc_343_14_343_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_14_343_15&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_343_16_343_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_16_343_17&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_81_17_81_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_17_81_18&#39;)"><span class="hl_conref"><span class="mpre">C</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_343_25_343_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_25_343_28&#39;)"><span class="hl_vardecl"><span class="mpre">inp</span></span></a><span class="mpre"> </span><a name="loc_343_29_343_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_29_343_31&#39;)"><span class="hl_vardecl"><span class="mpre">ks</span></span></a><span class="mpre"> -&gt; do
  </span><a href="#loc_343_29_343_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_29_343_31&#39;)"><span class="hl_varref"><span class="mpre">ks</span></span></a><span class="mpre"> (</span><a href="Data.ByteString.Unsafe.html#loc_148_1_148_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_148_1_148_11&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeDrop</span></span></a><span class="mpre"> </span><a href="#loc_343_14_343_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_14_343_15&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_343_25_343_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_25_343_28&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="#loc_343_16_343_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_16_343_17&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_343_25_343_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_25_343_28&#39;)"><span class="hl_varref"><span class="mpre">inp</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- strict return</span></span><span class="mpre">

</span><a href="#loc_347_1_347_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_1_347_10&#39;)"><span class="mpre">readNWith</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyconref"><span class="mpre">Ptr</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><a href="#loc_81_9_81_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_81_9_81_12&#39;)"><span class="hl_tyconref"><span class="mpre">Get</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_347_1_347_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_1_347_10&#39;)"><span class="hl_fundecl"><span class="mpre">readNWith</span></span></a><span class="mpre"> </span><a name="loc_347_11_347_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_11_347_12&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_347_13_347_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_13_347_14&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = do
    </span><a href="#loc_309_1_309_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_1_309_6&#39;)"><span class="hl_varref"><span class="mpre">readN</span></span></a><span class="mpre"> </span><a href="#loc_347_11_347_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_11_347_12&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_348_16_348_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_16_348_17&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> -&gt; </span><a href="Data.ByteString.Internal.html#loc_592_1_592_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Internal.html#loc_592_1_592_16&#39;)"><span class="hl_varref"><span class="mpre">B.inlinePerformIO</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.ByteString.Unsafe.html#loc_293_1_293_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.ByteString.Unsafe.html#loc_293_1_293_19&#39;)"><span class="hl_varref"><span class="mpre">B.unsafeUseAsCString</span></span></a><span class="mpre"> </span><a href="#loc_348_16_348_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_16_348_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> (</span><a href="#loc_347_13_347_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_13_347_14&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">castPtr</span></span><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_347_1_347_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_347_1_347_10&#39;)"><span class="mpre">readNWith</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span></div></body></html>