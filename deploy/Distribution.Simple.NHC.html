<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Distribution.Simple.NHC</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  Isaac Jones 2003-2006</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--                Duncan Coutts 2009</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  cabal-devel@haskell.org</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This module contains most of the NHC-specific code for configuring, building</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and installing packages.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{- Copyright (c) 2003-2005, Isaac Jones
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.

    * Redistributions in binary form must reproduce the above
      copyright notice, this list of conditions and the following
      disclaimer in the documentation and/or other materials provided
      with the distribution.

    * Neither the name of Isaac Jones nor the names of other
      contributors may be used to endorse or promote products derived
      from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
&quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. -}</span></span><span class="mpre">

module Distribution.Simple.NHC (
    configure,
    getInstalledPackages,
    buildLib,
    buildExe,
    installLib,
    installExe,
  ) where

import Distribution.Package
         ( </span><a href="Distribution.Package.html#loc_80_9_80_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_80_9_80_20&#39;)"><a href="Distribution.Package.html#loc_80_23_80_34" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_80_23_80_34&#39;)"><span class="mpre">PackageName</span></a></a><span class="mpre">, </span><a href="Distribution.Package.html#loc_102_6_102_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_102_6_102_23&#39;)"><span class="mpre">PackageIdentifier</span></a><span class="mpre">(..), </span><a href="Distribution.Package.html#loc_130_9_130_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_130_9_130_27&#39;)"><span class="mpre">InstalledPackageId</span></a><span class="mpre">(..)
         , </span><a href="Distribution.Package.html#loc_187_1_187_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_187_1_187_12&#39;)"><span class="mpre">packageName</span></a><span class="mpre"> )
import Distribution.InstalledPackageInfo
         ( InstalledPackageInfo
         , </span><a href="Distribution.InstalledPackageInfo.html#loc_92_6_92_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_92_6_92_27&#39;)"><span class="mpre">InstalledPackageInfo_</span></a><span class="mpre">( InstalledPackageInfo, </span><a href="Distribution.InstalledPackageInfo.html#loc_95_9_95_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_95_9_95_27&#39;)"><span class="mpre">installedPackageId</span></a><span class="mpre">
                                , </span><a href="Distribution.InstalledPackageInfo.html#loc_96_9_96_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_96_9_96_24&#39;)"><span class="mpre">sourcePackageId</span></a><span class="mpre"> )
         , </span><a href="Distribution.InstalledPackageInfo.html#loc_136_1_136_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_136_1_136_26&#39;)"><span class="mpre">emptyInstalledPackageInfo</span></a><span class="mpre">, </span><a href="Distribution.InstalledPackageInfo.html#loc_178_1_178_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_178_1_178_26&#39;)"><span class="mpre">parseInstalledPackageInfo</span></a><span class="mpre"> )
import Distribution.PackageDescription
        ( </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="mpre">PackageDescription</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="mpre">BuildInfo</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_299_6_299_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_299_6_299_13&#39;)"><span class="mpre">Library</span></a><span class="mpre">(..), </span><a href="Distribution.PackageDescription.html#loc_347_6_347_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_347_6_347_16&#39;)"><span class="mpre">Executable</span></a><span class="mpre">(..)
        , </span><a href="Distribution.PackageDescription.html#loc_778_1_778_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_778_1_778_10&#39;)"><span class="mpre">hcOptions</span></a><span class="mpre">, </span><a href="Distribution.PackageDescription.html#loc_768_1_768_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_768_1_768_15&#39;)"><span class="mpre">usedExtensions</span></a><span class="mpre"> )
import Distribution.ModuleName (</span><a href="Distribution.ModuleName.html#loc_67_9_67_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_67_9_67_19&#39;)"><span class="mpre">ModuleName</span></a><span class="mpre">)
import qualified Distribution.ModuleName as ModuleName
import Distribution.Simple.LocalBuildInfo
        ( </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="mpre">LocalBuildInfo</span></a><span class="mpre">(..), </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29&#39;)"><span class="mpre">ComponentLocalBuildInfo</span></a><span class="mpre">(..) )
import Distribution.Simple.BuildPaths
        ( </span><a href="Distribution.Simple.BuildPaths.html#loc_114_1_114_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_114_1_114_10&#39;)"><span class="mpre">mkLibName</span></a><span class="mpre">, </span><a href="Distribution.Simple.BuildPaths.html#loc_143_1_143_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_143_1_143_13&#39;)"><span class="mpre">objExtension</span></a><span class="mpre">, </span><a href="Distribution.Simple.BuildPaths.html#loc_135_1_135_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_135_1_135_13&#39;)"><span class="mpre">exeExtension</span></a><span class="mpre"> )
import Distribution.Simple.Compiler
         ( </span><a href="Distribution.Compiler.html#loc_81_6_81_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_6_81_20&#39;)"><span class="mpre">CompilerFlavor</span></a><span class="mpre">(..), </span><a href="Distribution.Compiler.html#loc_154_6_154_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_154_6_154_16&#39;)"><span class="mpre">CompilerId</span></a><span class="mpre">(..), </span><a href="Distribution.Simple.Compiler.html#loc_85_6_85_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_85_6_85_14&#39;)"><span class="mpre">Compiler</span></a><span class="mpre">(..)
         , Flag, </span><a href="Distribution.Simple.Compiler.html#loc_188_1_188_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_188_1_188_16&#39;)"><span class="mpre">languageToFlags</span></a><span class="mpre">, </span><a href="Distribution.Simple.Compiler.html#loc_206_1_206_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_206_1_206_18&#39;)"><span class="mpre">extensionsToFlags</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Compiler.html#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_6_112_15&#39;)"><span class="mpre">PackageDB</span></a><span class="mpre">(..), PackageDBStack )
import qualified Distribution.Simple.PackageIndex as PackageIndex
import Distribution.Simple.PackageIndex (</span><a href="Distribution.Simple.PackageIndex.html#loc_94_6_94_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PackageIndex.html#loc_94_6_94_18&#39;)"><span class="mpre">PackageIndex</span></a><span class="mpre">)
import Language.Haskell.Extension
         ( </span><a href="Language.Haskell.Extension.html#loc_69_6_69_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_69_6_69_14&#39;)"><span class="mpre">Language</span></a><span class="mpre">(</span><a href="Language.Haskell.Extension.html#loc_73_6_73_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_73_6_73_15&#39;)"><span class="mpre">Haskell98</span></a><span class="mpre">), </span><a href="Language.Haskell.Extension.html#loc_118_6_118_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_118_6_118_15&#39;)"><span class="mpre">Extension</span></a><span class="mpre">(..), </span><a href="Language.Haskell.Extension.html#loc_131_6_131_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_131_6_131_20&#39;)"><span class="mpre">KnownExtension</span></a><span class="mpre">(..) )
import Distribution.Simple.Program
         ( ProgramConfiguration, </span><a href="Distribution.Simple.Program.Db.html#loc_203_1_203_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_203_1_203_21&#39;)"><span class="mpre">userMaybeSpecifyPath</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Types.html#loc_115_1_115_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_115_1_115_12&#39;)"><span class="mpre">programPath</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Program.Db.html#loc_371_1_371_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_371_1_371_15&#39;)"><span class="mpre">requireProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Db.html#loc_399_1_399_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_399_1_399_22&#39;)"><span class="mpre">requireProgramVersion</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Db.html#loc_261_1_261_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_261_1_261_14&#39;)"><span class="mpre">lookupProgram</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Program.Builtin.html#loc_127_1_127_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_127_1_127_11&#39;)"><span class="mpre">nhcProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Builtin.html#loc_137_1_137_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_137_1_137_13&#39;)"><span class="mpre">hmakeProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Builtin.html#loc_260_1_260_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_260_1_260_10&#39;)"><span class="mpre">ldProgram</span></a><span class="mpre">, </span><a href="Distribution.Simple.Program.Builtin.html#loc_207_1_207_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_207_1_207_10&#39;)"><span class="mpre">arProgram</span></a><span class="mpre">
         , </span><a href="Distribution.Simple.Program.html#loc_205_1_205_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_205_1_205_21&#39;)"><span class="mpre">rawSystemProgramConf</span></a><span class="mpre"> )
import Distribution.Simple.Utils
        ( </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="mpre">die</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_305_1_305_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_305_1_305_5&#39;)"><span class="mpre">info</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_660_1_660_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_660_1_660_22&#39;)"><span class="mpre">findFileWithExtension</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_695_1_695_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_695_1_695_16&#39;)"><span class="mpre">findModuleFiles</span></a><span class="mpre">
        , </span><a href="Distribution.Simple.Utils.html#loc_877_1_877_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_877_1_877_20&#39;)"><span class="mpre">installOrdinaryFile</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_886_1_886_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_886_1_886_22&#39;)"><span class="mpre">installExecutableFile</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_949_1_949_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_949_1_949_21&#39;)"><span class="mpre">installOrdinaryFiles</span></a><span class="mpre">
        , </span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="mpre">createDirectoryIfMissingVerbose</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_1249_1_1249_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1249_1_1249_21&#39;)"><span class="mpre">withUTF8FileContents</span></a><span class="mpre"> )
import Distribution.Version
        ( </span><a href="Data.Version.html#loc_68_6_68_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Version.html#loc_68_6_68_13&#39;)"><span class="mpre">Version</span></a><span class="mpre">(..), </span><a href="Distribution.Version.html#loc_182_1_182_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Version.html#loc_182_1_182_15&#39;)"><span class="mpre">orLaterVersion</span></a><span class="mpre"> )
import Distribution.Verbosity
import Distribution.Text
         ( </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="mpre">display</span></a><span class="mpre">, </span><a href="Distribution.Text.html#loc_39_1_39_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_39_1_39_12&#39;)"><span class="mpre">simpleParse</span></a><span class="mpre"> )
import Distribution.ParseUtils
         ( </span><a href="Distribution.ParseUtils.html#loc_116_6_116_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ParseUtils.html#loc_116_6_116_17&#39;)"><span class="mpre">ParseResult</span></a><span class="mpre">(..) )

import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/NHC.hs&quot;, srcSpanStartLine = 95, srcSpanStartColumn = 8, srcSpanEndLine = 95, srcSpanEndColumn = 23}, srcInfoPoints = []}) &quot;System.FilePath&quot;"><span class="mpre">System.FilePath</span></span><span class="mpre">
        ( (&lt;/&gt;), (&lt;.&gt;), normalise, takeDirectory, dropExtension )
import System.Directory
         ( </span><a href="System.Directory.html#loc_726_1_726_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_726_1_726_14&#39;)"><span class="mpre">doesFileExist</span></a><span class="mpre">, </span><a href="System.Directory.html#loc_717_1_717_19" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_717_1_717_19&#39;)"><span class="mpre">doesDirectoryExist</span></a><span class="mpre">, </span><a href="System.Directory.html#loc_628_1_628_21" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_628_1_628_21&#39;)"><span class="mpre">getDirectoryContents</span></a><span class="mpre">
         , </span><a href="System.Directory.html#loc_400_1_400_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_400_1_400_11&#39;)"><span class="mpre">removeFile</span></a><span class="mpre">, </span><a href="System.Directory.html#loc_809_1_809_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_809_1_809_17&#39;)"><span class="mpre">getHomeDirectory</span></a><span class="mpre"> )

import Data.Char ( </span><a href="GHC.Unicode.html#loc_143_1_143_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Unicode.html#loc_143_1_143_8&#39;)"><span class="mpre">toLower</span></a><span class="mpre"> )
import Data.List ( </span><a href="Data.List.html#loc_314_1_314_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_314_1_314_4&#39;)"><span class="mpre">nub</span></a><span class="mpre"> )
import Data.Maybe    ( </span><a href="Data.Maybe.html#loc_115_1_115_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_115_1_115_10&#39;)"><span class="mpre">catMaybes</span></a><span class="mpre"> )
import Data.Monoid   ( </span><a href="Data.Monoid.html#loc_79_7_79_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_79_7_79_13&#39;)"><span class="mpre">Monoid</span></a><span class="mpre">(..) )
import Control.Monad ( </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="mpre">when</span></a><span class="mpre">, </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="mpre">unless</span></a><span class="mpre"> )
import Distribution.Compat.Exception
import Distribution.System ( </span><a href="Distribution.System.html#loc_164_6_164_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_164_6_164_14&#39;)"><a href="Distribution.System.html#loc_164_17_164_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_164_17_164_25&#39;)"><span class="mpre">Platform</span></a></a><span class="mpre"> )

</span><span class="hl_comment"><span class="mpre">-- -----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Configuring</span></span><span class="mpre">

</span><a href="#loc_114_1_114_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_1_114_10&#39;)"><span class="mpre">configure</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
          -&gt; </span><span class="hl_tyconref"><span class="mpre">ProgramConfiguration</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><a href="Distribution.Simple.Compiler.html#loc_85_6_85_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_85_6_85_14&#39;)"><span class="hl_tyconref"><span class="mpre">Compiler</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Distribution.System.html#loc_164_6_164_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.System.html#loc_164_6_164_14&#39;)"><span class="hl_tyconref"><span class="mpre">Platform</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">ProgramConfiguration</span></span><span class="mpre">)
</span><a name="loc_114_1_114_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_1_114_10&#39;)"><span class="hl_fundecl"><span class="mpre">configure</span></span></a><span class="mpre"> </span><a name="loc_114_11_114_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_11_114_20&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_114_21_114_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_21_114_27&#39;)"><span class="hl_vardecl"><span class="mpre">hcPath</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_hcPkgPath</span></span><span class="mpre"> </span><a name="loc_114_39_114_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_39_114_43&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre"> = do

  (</span><span class="hl_vardecl"><span class="mpre">_nhcProg</span></span><span class="mpre">, </span><span class="hl_vardecl"><span class="mpre">nhcVersion</span></span><span class="mpre">, </span><a name="loc_116_26_116_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_26_116_31&#39;)"><span class="hl_vardecl"><span class="mpre">conf&#39;</span></span></a><span class="mpre">) &lt;-
    </span><a href="Distribution.Simple.Program.Db.html#loc_399_1_399_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_399_1_399_22&#39;)"><span class="hl_varref"><span class="mpre">requireProgramVersion</span></span></a><span class="mpre"> </span><a href="#loc_114_11_114_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_11_114_20&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_127_1_127_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_127_1_127_11&#39;)"><span class="hl_varref"><span class="mpre">nhcProgram</span></span></a><span class="mpre">
      (</span><a href="Distribution.Version.html#loc_182_1_182_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Version.html#loc_182_1_182_15&#39;)"><span class="hl_varref"><span class="mpre">orLaterVersion</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Version</span></span><span class="mpre"> [</span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">,</span><span class="hl_num"><span class="mpre">20</span></span><span class="mpre">] []))
      (</span><a href="Distribution.Simple.Program.Db.html#loc_203_1_203_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_203_1_203_21&#39;)"><span class="hl_varref"><span class="mpre">userMaybeSpecifyPath</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;nhc98&quot;</span></span><span class="mpre"> </span><a href="#loc_114_21_114_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_21_114_27&#39;)"><span class="hl_varref"><span class="mpre">hcPath</span></span></a><span class="mpre"> </span><a href="#loc_114_39_114_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_39_114_43&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">)

  (</span><span class="hl_vardecl"><span class="mpre">_hmakeProg</span></span><span class="mpre">, </span><span class="hl_vardecl"><span class="mpre">_hmakeVersion</span></span><span class="mpre">, </span><a name="loc_121_31_121_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_31_121_37&#39;)"><span class="hl_vardecl"><span class="mpre">conf&#39;&#39;</span></span></a><span class="mpre">) &lt;-
    </span><a href="Distribution.Simple.Program.Db.html#loc_399_1_399_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_399_1_399_22&#39;)"><span class="hl_varref"><span class="mpre">requireProgramVersion</span></span></a><span class="mpre"> </span><a href="#loc_114_11_114_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_11_114_20&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_137_1_137_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_137_1_137_13&#39;)"><span class="hl_varref"><span class="mpre">hmakeProgram</span></span></a><span class="mpre">
     (</span><a href="Distribution.Version.html#loc_182_1_182_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Version.html#loc_182_1_182_15&#39;)"><span class="hl_varref"><span class="mpre">orLaterVersion</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Version</span></span><span class="mpre"> [</span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">,</span><span class="hl_num"><span class="mpre">13</span></span><span class="mpre">] [])) </span><a href="#loc_116_26_116_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_26_116_31&#39;)"><span class="hl_varref"><span class="mpre">conf&#39;</span></span></a><span class="mpre">
  (</span><span class="hl_vardecl"><span class="mpre">_ldProg</span></span><span class="mpre">, </span><a name="loc_124_13_124_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_13_124_20&#39;)"><span class="hl_vardecl"><span class="mpre">conf&#39;&#39;&#39;</span></span></a><span class="mpre">)   &lt;- </span><a href="Distribution.Simple.Program.Db.html#loc_371_1_371_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_371_1_371_15&#39;)"><span class="hl_varref"><span class="mpre">requireProgram</span></span></a><span class="mpre"> </span><a href="#loc_114_11_114_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_11_114_20&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_260_1_260_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_260_1_260_10&#39;)"><span class="hl_varref"><span class="mpre">ldProgram</span></span></a><span class="mpre"> </span><a href="#loc_121_31_121_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_121_31_121_37&#39;)"><span class="hl_varref"><span class="mpre">conf&#39;&#39;</span></span></a><span class="mpre">
  (</span><span class="hl_vardecl"><span class="mpre">_arProg</span></span><span class="mpre">, </span><a name="loc_125_13_125_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_13_125_21&#39;)"><span class="hl_vardecl"><span class="mpre">conf&#39;&#39;&#39;&#39;</span></span></a><span class="mpre">)  &lt;- </span><a href="Distribution.Simple.Program.Db.html#loc_371_1_371_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_371_1_371_15&#39;)"><span class="hl_varref"><span class="mpre">requireProgram</span></span></a><span class="mpre"> </span><a href="#loc_114_11_114_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_11_114_20&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_207_1_207_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_207_1_207_10&#39;)"><span class="hl_varref"><span class="mpre">arProgram</span></span></a><span class="mpre"> </span><a href="#loc_124_13_124_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_13_124_20&#39;)"><span class="hl_varref"><span class="mpre">conf&#39;&#39;&#39;</span></span></a><span class="mpre">

  </span><span class="hl_comment"><span class="mpre">--TODO: put this stuff in a monad so we can say just:</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- requireProgram hmakeProgram (orLaterVersion (Version [3,13] []))</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- requireProgram ldProgram anyVersion</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- requireProgram ldPrograrProgramam anyVersion</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- unless (null (cSources bi)) $ requireProgram ccProgram anyVersion</span></span><span class="mpre">

  let </span><a name="loc_133_7_133_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_7_133_11&#39;)"><span class="hl_vardecl"><span class="mpre">comp</span></span></a><span class="mpre"> = </span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/NHC.hs&quot;, srcSpanStartLine = 133, srcSpanStartColumn = 14, srcSpanEndLine = 137, srcSpanEndColumn = 8}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/NHC.hs&quot;, srcSpanStartLine = 133, srcSpanStartColumn = 23, srcSpanEndLine = 133, srcSpanEndColumn = 24},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/NH"><span class="mpre">Compiler {
        compilerId         = CompilerId NHC nhcVersion,
        compilerLanguages  = nhcLanguages,
        compilerExtensions     = nhcLanguageExtensions
      }</span></span><span class="mpre">
      </span><a name="loc_138_7_138_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_7_138_19&#39;)"><span class="hl_vardecl"><span class="mpre">compPlatform</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_133_7_133_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_7_133_11&#39;)"><span class="hl_varref"><span class="mpre">comp</span></span></a><span class="mpre">, </span><a href="#loc_138_7_138_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_138_7_138_19&#39;)"><span class="hl_varref"><span class="mpre">compPlatform</span></span></a><span class="mpre">,  </span><a href="#loc_125_13_125_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_125_13_125_21&#39;)"><span class="hl_varref"><span class="mpre">conf&#39;&#39;&#39;&#39;</span></span></a><span class="mpre">)

</span><a href="#loc_142_1_142_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_1_142_13&#39;)"><span class="mpre">nhcLanguages</span></a><span class="mpre"> :: [(</span><a href="Language.Haskell.Extension.html#loc_69_6_69_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_69_6_69_14&#39;)"><span class="hl_tyconref"><span class="mpre">Language</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Flag</span></span><span class="mpre">)]
</span><a name="loc_142_1_142_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_142_1_142_13&#39;)"><span class="hl_vardecl"><span class="mpre">nhcLanguages</span></span></a><span class="mpre"> = [(</span><a href="Language.Haskell.Extension.html#loc_73_6_73_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_73_6_73_15&#39;)"><span class="hl_conref"><span class="mpre">Haskell98</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;-98&quot;</span></span><span class="mpre">)]

</span><span class="hl_comment"><span class="mpre">-- | The flags for the supported extensions</span></span><span class="mpre">
</span><a href="#loc_146_1_146_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_22&#39;)"><span class="mpre">nhcLanguageExtensions</span></a><span class="mpre"> :: [(</span><a href="Language.Haskell.Extension.html#loc_118_6_118_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_118_6_118_15&#39;)"><span class="hl_tyconref"><span class="mpre">Extension</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">Flag</span></span><span class="mpre">)]
</span><a name="loc_146_1_146_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_22&#39;)"><span class="hl_vardecl"><span class="mpre">nhcLanguageExtensions</span></span></a><span class="mpre"> =
    </span><span class="hl_comment"><span class="mpre">-- TODO: pattern guards in 1.20</span></span><span class="mpre">
     </span><span class="hl_comment"><span class="mpre">-- NHC doesn&#39;t enforce the monomorphism restriction at all.</span></span><span class="mpre">
     </span><span class="hl_comment"><span class="mpre">-- Technically it therefore doesn&#39;t support MonomorphismRestriction,</span></span><span class="mpre">
     </span><span class="hl_comment"><span class="mpre">-- but that would mean it doesn&#39;t support Haskell98, so we pretend</span></span><span class="mpre">
     </span><span class="hl_comment"><span class="mpre">-- that it does.</span></span><span class="mpre">
    [(</span><a href="Language.Haskell.Extension.html#loc_120_5_120_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_120_5_120_20&#39;)"><span class="hl_conref"><span class="mpre">EnableExtension</span></span></a><span class="mpre">  </span><a href="Language.Haskell.Extension.html#loc_180_5_180_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_180_5_180_28&#39;)"><span class="hl_conref"><span class="mpre">MonomorphismRestriction</span></span></a><span class="mpre">,   </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_123_5_123_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_123_5_123_21&#39;)"><span class="hl_conref"><span class="mpre">DisableExtension</span></span></a><span class="mpre"> </span><a href="Language.Haskell.Extension.html#loc_180_5_180_28" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_180_5_180_28&#39;)"><span class="hl_conref"><span class="mpre">MonomorphismRestriction</span></span></a><span class="mpre">,   </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">)
     </span><span class="hl_comment"><span class="mpre">-- Similarly, I assume the FFI is always on</span></span><span class="mpre">
    ,(</span><a href="Language.Haskell.Extension.html#loc_120_5_120_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_120_5_120_20&#39;)"><span class="hl_conref"><span class="mpre">EnableExtension</span></span></a><span class="mpre">  </span><a href="Language.Haskell.Extension.html#loc_279_5_279_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_279_5_279_29&#39;)"><span class="hl_conref"><span class="mpre">ForeignFunctionInterface</span></span></a><span class="mpre">,  </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_123_5_123_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_123_5_123_21&#39;)"><span class="hl_conref"><span class="mpre">DisableExtension</span></span></a><span class="mpre"> </span><a href="Language.Haskell.Extension.html#loc_279_5_279_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_279_5_279_29&#39;)"><span class="hl_conref"><span class="mpre">ForeignFunctionInterface</span></span></a><span class="mpre">,  </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">)
     </span><span class="hl_comment"><span class="mpre">-- Similarly, I assume existential quantification is always on</span></span><span class="mpre">
    ,(</span><a href="Language.Haskell.Extension.html#loc_120_5_120_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_120_5_120_20&#39;)"><span class="hl_conref"><span class="mpre">EnableExtension</span></span></a><span class="mpre">  </span><a href="Language.Haskell.Extension.html#loc_212_5_212_30" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_212_5_212_30&#39;)"><span class="hl_conref"><span class="mpre">ExistentialQuantification</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_123_5_123_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_123_5_123_21&#39;)"><span class="hl_conref"><span class="mpre">DisableExtension</span></span></a><span class="mpre"> </span><a href="Language.Haskell.Extension.html#loc_212_5_212_30" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_212_5_212_30&#39;)"><span class="hl_conref"><span class="mpre">ExistentialQuantification</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">)
     </span><span class="hl_comment"><span class="mpre">-- Similarly, I assume empty data decls is always on</span></span><span class="mpre">
    ,(</span><a href="Language.Haskell.Extension.html#loc_120_5_120_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_120_5_120_20&#39;)"><span class="hl_conref"><span class="mpre">EnableExtension</span></span></a><span class="mpre">  </span><a href="Language.Haskell.Extension.html#loc_244_5_244_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_244_5_244_19&#39;)"><span class="hl_conref"><span class="mpre">EmptyDataDecls</span></span></a><span class="mpre">,            </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_123_5_123_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_123_5_123_21&#39;)"><span class="hl_conref"><span class="mpre">DisableExtension</span></span></a><span class="mpre"> </span><a href="Language.Haskell.Extension.html#loc_244_5_244_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_244_5_244_19&#39;)"><span class="hl_conref"><span class="mpre">EmptyDataDecls</span></span></a><span class="mpre">,            </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_120_5_120_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_120_5_120_20&#39;)"><span class="hl_conref"><span class="mpre">EnableExtension</span></span></a><span class="mpre">  </span><a href="Language.Haskell.Extension.html#loc_305_5_305_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_305_5_305_19&#39;)"><span class="hl_conref"><span class="mpre">NamedFieldPuns</span></span></a><span class="mpre">,            </span><span class="hl_string"><span class="mpre">&quot;-puns&quot;</span></span><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_123_5_123_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_123_5_123_21&#39;)"><span class="hl_conref"><span class="mpre">DisableExtension</span></span></a><span class="mpre"> </span><a href="Language.Haskell.Extension.html#loc_305_5_305_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_305_5_305_19&#39;)"><span class="hl_conref"><span class="mpre">NamedFieldPuns</span></span></a><span class="mpre">,            </span><span class="hl_string"><span class="mpre">&quot;-nopuns&quot;</span></span><span class="mpre">)
     </span><span class="hl_comment"><span class="mpre">-- CPP can&#39;t actually be turned off, but we pretend that it can</span></span><span class="mpre">
    ,(</span><a href="Language.Haskell.Extension.html#loc_120_5_120_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_120_5_120_20&#39;)"><span class="hl_conref"><span class="mpre">EnableExtension</span></span></a><span class="mpre">  </span><a href="Language.Haskell.Extension.html#loc_249_5_249_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_249_5_249_8&#39;)"><span class="hl_conref"><span class="mpre">CPP</span></span></a><span class="mpre">,                       </span><span class="hl_string"><span class="mpre">&quot;-cpp&quot;</span></span><span class="mpre">)
    ,(</span><a href="Language.Haskell.Extension.html#loc_123_5_123_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_123_5_123_21&#39;)"><span class="hl_conref"><span class="mpre">DisableExtension</span></span></a><span class="mpre"> </span><a href="Language.Haskell.Extension.html#loc_249_5_249_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.Extension.html#loc_249_5_249_8&#39;)"><span class="hl_conref"><span class="mpre">CPP</span></span></a><span class="mpre">,                       </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">)
    ]

</span><a href="#loc_172_1_172_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_1_172_21&#39;)"><span class="mpre">getInstalledPackages</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">PackageDBStack</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ProgramConfiguration</span></span><span class="mpre">
                     -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="Distribution.Simple.PackageIndex.html#loc_94_6_94_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PackageIndex.html#loc_94_6_94_18&#39;)"><span class="hl_tyconref"><span class="mpre">PackageIndex</span></span></a><span class="mpre">
</span><a name="loc_172_1_172_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_1_172_21&#39;)"><span class="hl_fundecl"><span class="mpre">getInstalledPackages</span></span></a><span class="mpre"> </span><a name="loc_172_22_172_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_22_172_31&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_172_32_172_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_32_172_42&#39;)"><span class="hl_vardecl"><span class="mpre">packagedbs</span></span></a><span class="mpre"> </span><a name="loc_172_43_172_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_43_172_47&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre"> = do
  </span><a name="loc_173_3_173_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_3_173_10&#39;)"><span class="hl_vardecl"><span class="mpre">homedir</span></span></a><span class="mpre">      &lt;- </span><a href="System.Directory.html#loc_809_1_809_17" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_809_1_809_17&#39;)"><span class="hl_varref"><span class="mpre">getHomeDirectory</span></span></a><span class="mpre">
  (</span><a name="loc_174_4_174_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_4_174_11&#39;)"><span class="hl_vardecl"><span class="mpre">nhcProg</span></span></a><span class="mpre">, _) &lt;- </span><a href="Distribution.Simple.Program.Db.html#loc_371_1_371_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_371_1_371_15&#39;)"><span class="hl_varref"><span class="mpre">requireProgram</span></span></a><span class="mpre"> </span><a href="#loc_172_22_172_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_22_172_31&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_127_1_127_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_127_1_127_11&#39;)"><span class="hl_varref"><span class="mpre">nhcProgram</span></span></a><span class="mpre"> </span><a href="#loc_172_43_172_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_43_172_47&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">
  let </span><a name="loc_175_7_175_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_7_175_13&#39;)"><span class="hl_vardecl"><span class="mpre">bindir</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">takeDirectory</span></span><span class="mpre"> (</span><a href="Distribution.Simple.Program.Types.html#loc_115_1_115_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_115_1_115_12&#39;)"><span class="hl_varref"><span class="mpre">programPath</span></span></a><span class="mpre"> </span><a href="#loc_174_4_174_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_174_4_174_11&#39;)"><span class="hl_varref"><span class="mpre">nhcProg</span></span></a><span class="mpre">)
      </span><a name="loc_176_7_176_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_7_176_13&#39;)"><span class="hl_vardecl"><span class="mpre">incdir</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">takeDirectory</span></span><span class="mpre"> </span><a href="#loc_175_7_175_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_175_7_175_13&#39;)"><span class="hl_varref"><span class="mpre">bindir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;include&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;nhc98&quot;</span></span><span class="mpre">
      </span><a name="loc_177_7_177_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_7_177_13&#39;)"><span class="hl_vardecl"><span class="mpre">dbdirs</span></span></a><span class="mpre"> = </span><a href="Data.List.html#loc_314_1_314_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_314_1_314_4&#39;)"><span class="hl_varref"><span class="mpre">nub</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">concatMap</span></span><span class="mpre"> (</span><a href="#loc_191_1_191_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_1_191_15&#39;)"><span class="hl_varref"><span class="mpre">packageDbPaths</span></span></a><span class="mpre"> </span><a href="#loc_173_3_173_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_173_3_173_10&#39;)"><span class="hl_varref"><span class="mpre">homedir</span></span></a><span class="mpre"> </span><a href="#loc_176_7_176_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_7_176_13&#39;)"><span class="hl_varref"><span class="mpre">incdir</span></span></a><span class="mpre">) </span><a href="#loc_172_32_172_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_32_172_42&#39;)"><span class="hl_varref"><span class="mpre">packagedbs</span></span></a><span class="mpre">)
  </span><a name="loc_178_3_178_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_3_178_10&#39;)"><span class="hl_vardecl"><span class="mpre">indexes</span></span></a><span class="mpre">  &lt;- </span><span class="hl_varref"><span class="mpre">mapM</span></span><span class="mpre"> </span><a href="#loc_183_5_183_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_5_183_28&#39;)"><span class="hl_varref"><span class="mpre">getIndividualDBPackages</span></span></a><span class="mpre"> </span><a href="#loc_177_7_177_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_177_7_177_13&#39;)"><span class="hl_varref"><span class="mpre">dbdirs</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$!</span></span><span class="mpre"> </span><a href="Data.Monoid.html#loc_84_9_84_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_84_9_84_16&#39;)"><span class="hl_varref"><span class="mpre">mconcat</span></span></a><span class="mpre"> </span><a href="#loc_178_3_178_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_178_3_178_10&#39;)"><span class="hl_varref"><span class="mpre">indexes</span></span></a><span class="mpre">

  where
    </span><a href="#loc_183_5_183_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_5_183_28&#39;)"><span class="mpre">getIndividualDBPackages</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><a href="Distribution.Simple.PackageIndex.html#loc_94_6_94_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PackageIndex.html#loc_94_6_94_18&#39;)"><span class="hl_tyconref"><span class="mpre">PackageIndex</span></span></a><span class="mpre">
    </span><a name="loc_183_5_183_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_5_183_28&#39;)"><span class="hl_fundecl"><span class="mpre">getIndividualDBPackages</span></span></a><span class="mpre"> </span><a name="loc_183_29_183_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_29_183_34&#39;)"><span class="hl_vardecl"><span class="mpre">dbdir</span></span></a><span class="mpre"> = do
      </span><a name="loc_184_7_184_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_7_184_14&#39;)"><span class="hl_vardecl"><span class="mpre">pkgdirs</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_197_1_197_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_1_197_17&#39;)"><span class="hl_varref"><span class="mpre">getPackageDbDirs</span></span></a><span class="mpre"> </span><a href="#loc_183_29_183_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_183_29_183_34&#39;)"><span class="hl_varref"><span class="mpre">dbdir</span></span></a><span class="mpre">
      </span><a name="loc_185_7_185_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_7_185_11&#39;)"><span class="hl_vardecl"><span class="mpre">pkgs</span></span></a><span class="mpre">    &lt;- </span><span class="hl_varref"><span class="mpre">sequence</span></span><span class="mpre"> [ </span><a href="#loc_212_1_212_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_1_212_20&#39;)"><span class="hl_varref"><span class="mpre">getInstalledPackage</span></span></a><span class="mpre"> </span><a href="#loc_186_30_186_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_30_186_37&#39;)"><span class="hl_varref"><span class="mpre">pkgname</span></span></a><span class="mpre"> </span><a href="#loc_186_39_186_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_39_186_45&#39;)"><span class="hl_varref"><span class="mpre">pkgdir</span></span></a><span class="mpre">
                          | (</span><a name="loc_186_30_186_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_30_186_37&#39;)"><span class="hl_vardecl"><span class="mpre">pkgname</span></span></a><span class="mpre">, </span><a name="loc_186_39_186_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_186_39_186_45&#39;)"><span class="hl_vardecl"><span class="mpre">pkgdir</span></span></a><span class="mpre">) &lt;- </span><a href="#loc_184_7_184_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_184_7_184_14&#39;)"><span class="hl_varref"><span class="mpre">pkgdirs</span></span></a><span class="mpre"> ]
      let </span><a name="loc_187_11_187_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_11_187_16&#39;)"><span class="hl_vardecl"><span class="mpre">pkgs&#39;</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_271_1_271_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_271_1_271_22&#39;)"><span class="hl_varref"><span class="mpre">setInstalledPackageId</span></span></a><span class="mpre"> (</span><a href="Data.Maybe.html#loc_115_1_115_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_115_1_115_10&#39;)"><span class="hl_varref"><span class="mpre">catMaybes</span></span></a><span class="mpre"> </span><a href="#loc_185_7_185_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_7_185_11&#39;)"><span class="hl_varref"><span class="mpre">pkgs</span></span></a><span class="mpre">)
      </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="Distribution.Simple.PackageIndex.html#loc_160_1_160_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.PackageIndex.html#loc_160_1_160_9&#39;)"><span class="hl_varref"><span class="mpre">PackageIndex.fromList</span></span></a><span class="mpre"> </span><a href="#loc_187_11_187_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_11_187_16&#39;)"><span class="hl_varref"><span class="mpre">pkgs&#39;</span></span></a><span class="mpre">)

</span><a href="#loc_191_1_191_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_1_191_15&#39;)"><span class="mpre">packageDbPaths</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Compiler.html#loc_112_6_112_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_6_112_15&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDB</span></span></a><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">]
</span><a name="loc_191_1_191_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_1_191_15&#39;)"><span class="hl_fundecl"><span class="mpre">packageDbPaths</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_home</span></span><span class="mpre"> </span><a name="loc_191_22_191_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_22_191_28&#39;)"><span class="hl_vardecl"><span class="mpre">incdir</span></span></a><span class="mpre"> </span><a name="loc_191_29_191_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_29_191_31&#39;)"><span class="hl_vardecl"><span class="mpre">db</span></span></a><span class="mpre"> = case </span><a href="#loc_191_29_191_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_29_191_31&#39;)"><span class="hl_varref"><span class="mpre">db</span></span></a><span class="mpre"> of
  </span><a href="Distribution.Simple.Compiler.html#loc_112_18_112_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_112_18_112_33&#39;)"><span class="hl_conref"><span class="mpre">GlobalPackageDB</span></span></a><span class="mpre">        -&gt; [ </span><a href="#loc_191_22_191_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_191_22_191_28&#39;)"><span class="hl_varref"><span class="mpre">incdir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;packages&quot;</span></span><span class="mpre"> ]
  </span><a href="Distribution.Simple.Compiler.html#loc_113_18_113_31" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_113_18_113_31&#39;)"><span class="hl_conref"><span class="mpre">UserPackageDB</span></span></a><span class="mpre">          -&gt; [] </span><span class="hl_comment"><span class="mpre">--TODO any standard per-user db?</span></span><span class="mpre">
  </span><a href="Distribution.Simple.Compiler.html#loc_114_18_114_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_114_18_114_35&#39;)"><span class="hl_conref"><span class="mpre">SpecificPackageDB</span></span></a><span class="mpre"> </span><a name="loc_194_21_194_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_21_194_25&#39;)"><span class="hl_vardecl"><span class="mpre">path</span></span></a><span class="mpre"> -&gt; [ </span><a href="#loc_194_21_194_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_194_21_194_25&#39;)"><span class="hl_varref"><span class="mpre">path</span></span></a><span class="mpre"> ]

</span><a href="#loc_197_1_197_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_1_197_17&#39;)"><span class="mpre">getPackageDbDirs</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> [(</span><a href="Distribution.Package.html#loc_80_9_80_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_80_9_80_20&#39;)"><span class="hl_tyconref"><span class="mpre">PackageName</span></span></a><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">)]
</span><a name="loc_197_1_197_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_1_197_17&#39;)"><span class="hl_fundecl"><span class="mpre">getPackageDbDirs</span></span></a><span class="mpre"> </span><a name="loc_197_18_197_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_18_197_23&#39;)"><span class="hl_vardecl"><span class="mpre">dbdir</span></span></a><span class="mpre"> = do
  </span><a name="loc_198_3_198_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_3_198_11&#39;)"><span class="hl_vardecl"><span class="mpre">dbexists</span></span></a><span class="mpre"> &lt;- </span><a href="System.Directory.html#loc_717_1_717_19" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_717_1_717_19&#39;)"><span class="hl_varref"><span class="mpre">doesDirectoryExist</span></span></a><span class="mpre"> </span><a href="#loc_197_18_197_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_18_197_23&#39;)"><span class="hl_varref"><span class="mpre">dbdir</span></span></a><span class="mpre">
  if </span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><a href="#loc_198_3_198_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_198_3_198_11&#39;)"><span class="hl_varref"><span class="mpre">dbexists</span></span></a><span class="mpre">
    then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> []
    else do
      </span><a name="loc_202_7_202_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_7_202_14&#39;)"><span class="hl_vardecl"><span class="mpre">entries</span></span></a><span class="mpre">  &lt;- </span><a href="System.Directory.html#loc_628_1_628_21" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_628_1_628_21&#39;)"><span class="hl_varref"><span class="mpre">getDirectoryContents</span></span></a><span class="mpre"> </span><a href="#loc_197_18_197_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_18_197_23&#39;)"><span class="hl_varref"><span class="mpre">dbdir</span></span></a><span class="mpre">
      </span><a name="loc_203_7_203_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_7_203_14&#39;)"><span class="hl_vardecl"><span class="mpre">pkgdirs</span></span></a><span class="mpre">  &lt;- </span><span class="hl_varref"><span class="mpre">sequence</span></span><span class="mpre">
        [ do </span><a name="loc_204_14_204_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_14_204_26&#39;)"><span class="hl_vardecl"><span class="mpre">pkgdirExists</span></span></a><span class="mpre"> &lt;- </span><a href="System.Directory.html#loc_717_1_717_19" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_717_1_717_19&#39;)"><span class="hl_varref"><span class="mpre">doesDirectoryExist</span></span></a><span class="mpre"> </span><a href="#loc_208_15_208_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_15_208_21&#39;)"><span class="hl_varref"><span class="mpre">pkgdir</span></span></a><span class="mpre">
             </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_206_24_206_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_24_206_31&#39;)"><span class="hl_varref"><span class="mpre">pkgname</span></span></a><span class="mpre">, </span><a href="#loc_208_15_208_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_15_208_21&#39;)"><span class="hl_varref"><span class="mpre">pkgdir</span></span></a><span class="mpre">, </span><a href="#loc_204_14_204_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_204_14_204_26&#39;)"><span class="hl_varref"><span class="mpre">pkgdirExists</span></span></a><span class="mpre">)
        | (</span><a name="loc_206_12_206_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_12_206_17&#39;)"><span class="hl_vardecl"><span class="mpre">entry</span></span></a><span class="mpre">, </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_206_24_206_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_24_206_31&#39;)"><span class="hl_vardecl"><span class="mpre">pkgname</span></span></a><span class="mpre">) &lt;- [ (</span><a href="#loc_207_38_207_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_207_38_207_43&#39;)"><span class="hl_varref"><span class="mpre">entry</span></span></a><span class="mpre">, </span><a href="Distribution.Text.html#loc_39_1_39_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_39_1_39_12&#39;)"><span class="hl_varref"><span class="mpre">simpleParse</span></span></a><span class="mpre"> </span><a href="#loc_207_38_207_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_207_38_207_43&#39;)"><span class="hl_varref"><span class="mpre">entry</span></span></a><span class="mpre">)
                                   | </span><a name="loc_207_38_207_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_207_38_207_43&#39;)"><span class="hl_vardecl"><span class="mpre">entry</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_202_7_202_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_202_7_202_14&#39;)"><span class="hl_varref"><span class="mpre">entries</span></span></a><span class="mpre"> ]
        , let </span><a name="loc_208_15_208_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_15_208_21&#39;)"><span class="hl_vardecl"><span class="mpre">pkgdir</span></span></a><span class="mpre"> = </span><a href="#loc_197_18_197_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_18_197_23&#39;)"><span class="hl_varref"><span class="mpre">dbdir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_206_12_206_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_12_206_17&#39;)"><span class="hl_varref"><span class="mpre">entry</span></span></a><span class="mpre"> ]
      </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> [ (</span><a href="#loc_209_37_209_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_37_209_44&#39;)"><span class="hl_varref"><span class="mpre">pkgname</span></span></a><span class="mpre">, </span><a href="#loc_209_46_209_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_46_209_52&#39;)"><span class="hl_varref"><span class="mpre">pkgdir</span></span></a><span class="mpre">) | (</span><a name="loc_209_37_209_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_37_209_44&#39;)"><span class="hl_vardecl"><span class="mpre">pkgname</span></span></a><span class="mpre">, </span><a name="loc_209_46_209_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_46_209_52&#39;)"><span class="hl_vardecl"><span class="mpre">pkgdir</span></span></a><span class="mpre">, </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">) &lt;- </span><a href="#loc_203_7_203_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_203_7_203_14&#39;)"><span class="hl_varref"><span class="mpre">pkgdirs</span></span></a><span class="mpre"> ]

</span><a href="#loc_212_1_212_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_1_212_20&#39;)"><span class="mpre">getInstalledPackage</span></a><span class="mpre"> :: </span><a href="Distribution.Package.html#loc_80_9_80_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_80_9_80_20&#39;)"><span class="hl_tyconref"><span class="mpre">PackageName</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre">)
</span><a name="loc_212_1_212_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_1_212_20&#39;)"><span class="hl_fundecl"><span class="mpre">getInstalledPackage</span></span></a><span class="mpre"> </span><a name="loc_212_21_212_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_21_212_28&#39;)"><span class="hl_vardecl"><span class="mpre">pkgname</span></span></a><span class="mpre"> </span><a name="loc_212_29_212_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_29_212_35&#39;)"><span class="hl_vardecl"><span class="mpre">pkgdir</span></span></a><span class="mpre"> = do
  let </span><a name="loc_213_7_213_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_7_213_18&#39;)"><span class="hl_vardecl"><span class="mpre">pkgconfFile</span></span></a><span class="mpre"> = </span><a href="#loc_212_29_212_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_29_212_35&#39;)"><span class="hl_varref"><span class="mpre">pkgdir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;package.conf&quot;</span></span><span class="mpre">
  </span><a name="loc_214_3_214_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_3_214_16&#39;)"><span class="hl_vardecl"><span class="mpre">pkgconfExists</span></span></a><span class="mpre"> &lt;- </span><a href="System.Directory.html#loc_726_1_726_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_726_1_726_14&#39;)"><span class="hl_varref"><span class="mpre">doesFileExist</span></span></a><span class="mpre"> </span><a href="#loc_213_7_213_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_7_213_18&#39;)"><span class="hl_varref"><span class="mpre">pkgconfFile</span></span></a><span class="mpre">

  let </span><a name="loc_216_7_216_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_7_216_16&#39;)"><span class="hl_vardecl"><span class="mpre">cabalFile</span></span></a><span class="mpre"> = </span><a href="#loc_212_29_212_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_29_212_35&#39;)"><span class="hl_varref"><span class="mpre">pkgdir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;cabal&quot;</span></span><span class="mpre">
  </span><a name="loc_217_3_217_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_3_217_14&#39;)"><span class="hl_vardecl"><span class="mpre">cabalExists</span></span></a><span class="mpre"> &lt;- </span><a href="System.Directory.html#loc_726_1_726_14" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_726_1_726_14&#39;)"><span class="hl_varref"><span class="mpre">doesFileExist</span></span></a><span class="mpre"> </span><a href="#loc_216_7_216_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_7_216_16&#39;)"><span class="hl_varref"><span class="mpre">cabalFile</span></span></a><span class="mpre">

  case </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre"> of
    _ | </span><a href="#loc_214_3_214_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_3_214_16&#39;)"><span class="hl_varref"><span class="mpre">pkgconfExists</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_226_1_226_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_1_226_28&#39;)"><span class="hl_varref"><span class="mpre">getFullInstalledPackageInfo</span></span></a><span class="mpre"> </span><a href="#loc_212_21_212_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_21_212_28&#39;)"><span class="hl_varref"><span class="mpre">pkgname</span></span></a><span class="mpre"> </span><a href="#loc_213_7_213_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_213_7_213_18&#39;)"><span class="hl_varref"><span class="mpre">pkgconfFile</span></span></a><span class="mpre">
      | </span><a href="#loc_217_3_217_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_3_217_14&#39;)"><span class="hl_varref"><span class="mpre">cabalExists</span></span></a><span class="mpre">   -&gt; </span><a href="#loc_241_1_241_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_1_241_29&#39;)"><span class="hl_varref"><span class="mpre">getPhonyInstalledPackageInfo</span></span></a><span class="mpre"> </span><a href="#loc_212_21_212_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_212_21_212_28&#39;)"><span class="hl_varref"><span class="mpre">pkgname</span></span></a><span class="mpre"> </span><a href="#loc_216_7_216_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_7_216_16&#39;)"><span class="hl_varref"><span class="mpre">cabalFile</span></span></a><span class="mpre">
      | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">     -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">

</span><a href="#loc_226_1_226_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_1_226_28&#39;)"><span class="mpre">getFullInstalledPackageInfo</span></a><span class="mpre"> :: </span><a href="Distribution.Package.html#loc_80_9_80_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_80_9_80_20&#39;)"><span class="hl_tyconref"><span class="mpre">PackageName</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
                            -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre">)
</span><a name="loc_226_1_226_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_1_226_28&#39;)"><span class="hl_fundecl"><span class="mpre">getFullInstalledPackageInfo</span></span></a><span class="mpre"> </span><a name="loc_226_29_226_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_29_226_36&#39;)"><span class="hl_vardecl"><span class="mpre">pkgname</span></span></a><span class="mpre"> </span><a name="loc_226_37_226_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_37_226_48&#39;)"><span class="hl_vardecl"><span class="mpre">pkgconfFile</span></span></a><span class="mpre"> =
  </span><a href="Distribution.Simple.Utils.html#loc_1249_1_1249_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_1249_1_1249_21&#39;)"><span class="hl_varref"><span class="mpre">withUTF8FileContents</span></span></a><span class="mpre"> </span><a href="#loc_226_37_226_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_37_226_48&#39;)"><span class="hl_varref"><span class="mpre">pkgconfFile</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_227_39_227_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_39_227_47&#39;)"><span class="hl_vardecl"><span class="mpre">contents</span></span></a><span class="mpre"> -&gt;
    case </span><a href="Distribution.InstalledPackageInfo.html#loc_178_1_178_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.InstalledPackageInfo.html#loc_178_1_178_26&#39;)"><span class="hl_varref"><span class="mpre">parseInstalledPackageInfo</span></span></a><span class="mpre"> </span><a href="#loc_227_39_227_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_227_39_227_47&#39;)"><span class="hl_varref"><span class="mpre">contents</span></span></a><span class="mpre"> of
      </span><a href="Distribution.ParseUtils.html#loc_116_43_116_50" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ParseUtils.html#loc_116_43_116_50&#39;)"><span class="hl_conref"><span class="mpre">ParseOk</span></span></a><span class="mpre"> _ </span><a name="loc_229_17_229_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_17_229_24&#39;)"><span class="hl_vardecl"><span class="mpre">pkginfo</span></span></a><span class="mpre"> | </span><a href="Distribution.Package.html#loc_187_1_187_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_187_1_187_12&#39;)"><span class="hl_varref"><span class="mpre">packageName</span></span></a><span class="mpre"> </span><a href="#loc_229_17_229_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_17_229_24&#39;)"><span class="hl_varref"><span class="mpre">pkginfo</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_226_29_226_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_29_226_36&#39;)"><span class="hl_varref"><span class="mpre">pkgname</span></span></a><span class="mpre">
                        -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_229_17_229_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_229_17_229_24&#39;)"><span class="hl_varref"><span class="mpre">pkginfo</span></span></a><span class="mpre">)
      _                 -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This is a backup option for existing versions of nhc98 which do not supply</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- proper installed package info files for the bundled libs. Instead we look</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- for the .cabal file and extract the package version from that.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- We don&#39;t know any other details for such packages, in particular we pretend</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- that they have no dependencies.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_241_1_241_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_1_241_29&#39;)"><span class="mpre">getPhonyInstalledPackageInfo</span></a><span class="mpre"> :: </span><a href="Distribution.Package.html#loc_80_9_80_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_80_9_80_20&#39;)"><span class="hl_tyconref"><span class="mpre">PackageName</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">
                             -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre">)
</span><a name="loc_241_1_241_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_1_241_29&#39;)"><span class="hl_fundecl"><span class="mpre">getPhonyInstalledPackageInfo</span></span></a><span class="mpre"> </span><a name="loc_241_30_241_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_30_241_37&#39;)"><span class="hl_vardecl"><span class="mpre">pkgname</span></span></a><span class="mpre"> </span><a name="loc_241_38_241_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_38_241_49&#39;)"><span class="hl_vardecl"><span class="mpre">pathsModule</span></span></a><span class="mpre"> = do
  </span><a name="loc_242_3_242_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_3_242_10&#39;)"><span class="hl_vardecl"><span class="mpre">content</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">readFile</span></span><span class="mpre"> </span><a href="#loc_241_38_241_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_38_241_49&#39;)"><span class="hl_varref"><span class="mpre">pathsModule</span></span></a><span class="mpre">
  case </span><a href="#loc_255_5_255_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_5_255_19&#39;)"><span class="hl_varref"><span class="mpre">extractVersion</span></span></a><span class="mpre"> </span><a href="#loc_242_3_242_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_3_242_10&#39;)"><span class="hl_varref"><span class="mpre">content</span></span></a><span class="mpre"> of
    </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">      -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
    </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_245_10_245_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_245_10_245_17&#39;)"><span class="hl_vardecl"><span class="mpre">version</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_248_9_248_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_9_248_16&#39;)"><span class="hl_varref"><span class="mpre">pkginfo</span></span></a><span class="mpre">)
      where
        </span><span class="hl_vardecl"><span class="mpre">pkgid</span></span><span class="mpre">   = </span><span class="hl_conref"><span class="mpre">PackageIdentifier</span></span><span class="mpre"> </span><a href="#loc_241_30_241_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_241_30_241_37&#39;)"><span class="hl_varref"><span class="mpre">pkgname</span></span></a><span class="mpre"> </span><a href="#loc_245_10_245_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_245_10_245_17&#39;)"><span class="hl_varref"><span class="mpre">version</span></span></a><span class="mpre">
        </span><a name="loc_248_9_248_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_9_248_16&#39;)"><span class="hl_vardecl"><span class="mpre">pkginfo</span></span></a><span class="mpre"> = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/NHC.hs&quot;, srcSpanStartLine = 248, srcSpanStartColumn = 19, srcSpanEndLine = 248, srcSpanEndColumn = 72}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/NHC.hs&quot;, srcSpanStartLine = 248, srcSpanStartColumn = 45, srcSpanEndLine = 248, srcSpanEndColumn = 46},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/N"><span class="mpre">emptyInstalledPackageInfo { sourcePackageId = pkgid }</span></span><span class="mpre">
  where
    </span><span class="hl_comment"><span class="mpre">-- search through the .cabal file, looking for a line like:</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- &gt; version: 2.0</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
    </span><a href="#loc_255_5_255_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_5_255_19&#39;)"><span class="mpre">extractVersion</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Data.Version.html#loc_68_6_68_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Version.html#loc_68_6_68_13&#39;)"><span class="hl_tyconref"><span class="mpre">Version</span></span></a><span class="mpre">
    </span><a name="loc_255_5_255_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_5_255_19&#39;)"><span class="hl_fundecl"><span class="mpre">extractVersion</span></span></a><span class="mpre"> </span><a name="loc_255_20_255_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_20_255_27&#39;)"><span class="hl_vardecl"><span class="mpre">content</span></span></a><span class="mpre"> =
      case </span><a href="Data.Maybe.html#loc_115_1_115_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_115_1_115_10&#39;)"><span class="hl_varref"><span class="mpre">catMaybes</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_260_5_260_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_5_260_23&#39;)"><span class="hl_varref"><span class="mpre">extractVersionLine</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">lines</span></span><span class="mpre"> </span><a href="#loc_255_20_255_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_255_20_255_27&#39;)"><span class="hl_varref"><span class="mpre">content</span></span></a><span class="mpre">)) of
        [</span><a name="loc_257_10_257_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_257_10_257_17&#39;)"><span class="hl_vardecl"><span class="mpre">version</span></span></a><span class="mpre">] -&gt; </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_257_10_257_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_257_10_257_17&#39;)"><span class="hl_varref"><span class="mpre">version</span></span></a><span class="mpre">
        _         -&gt; </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
    </span><a href="#loc_260_5_260_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_5_260_23&#39;)"><span class="mpre">extractVersionLine</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Data.Version.html#loc_68_6_68_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Version.html#loc_68_6_68_13&#39;)"><span class="hl_tyconref"><span class="mpre">Version</span></span></a><span class="mpre">
    </span><a name="loc_260_5_260_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_5_260_23&#39;)"><span class="hl_fundecl"><span class="mpre">extractVersionLine</span></span></a><span class="mpre"> </span><a name="loc_260_24_260_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_24_260_28&#39;)"><span class="hl_vardecl"><span class="mpre">line</span></span></a><span class="mpre"> =
      case </span><span class="hl_varref"><span class="mpre">words</span></span><span class="mpre"> </span><a href="#loc_260_24_260_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_260_24_260_28&#39;)"><span class="hl_varref"><span class="mpre">line</span></span></a><span class="mpre"> of
        [</span><a name="loc_262_10_262_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_10_262_20&#39;)"><span class="hl_vardecl"><span class="mpre">versionTag</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;:&quot;</span></span><span class="mpre">, </span><a name="loc_262_27_262_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_27_262_37&#39;)"><span class="hl_vardecl"><span class="mpre">versionStr</span></span></a><span class="mpre">]
          | </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="GHC.Unicode.html#loc_143_1_143_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Unicode.html#loc_143_1_143_8&#39;)"><span class="hl_varref"><span class="mpre">toLower</span></span></a><span class="mpre"> </span><a href="#loc_262_10_262_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_10_262_20&#39;)"><span class="hl_varref"><span class="mpre">versionTag</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;version&quot;</span></span><span class="mpre">  -&gt; </span><a href="Distribution.Text.html#loc_39_1_39_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_39_1_39_12&#39;)"><span class="hl_varref"><span class="mpre">simpleParse</span></span></a><span class="mpre"> </span><a href="#loc_262_27_262_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_27_262_37&#39;)"><span class="hl_varref"><span class="mpre">versionStr</span></span></a><span class="mpre">
        [</span><a name="loc_264_10_264_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_10_264_20&#39;)"><span class="hl_vardecl"><span class="mpre">versionTag</span></span></a><span class="mpre">,      </span><a name="loc_264_27_264_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_27_264_37&#39;)"><span class="hl_vardecl"><span class="mpre">versionStr</span></span></a><span class="mpre">]
          | </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="GHC.Unicode.html#loc_143_1_143_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Unicode.html#loc_143_1_143_8&#39;)"><span class="hl_varref"><span class="mpre">toLower</span></span></a><span class="mpre"> </span><a href="#loc_264_10_264_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_10_264_20&#39;)"><span class="hl_varref"><span class="mpre">versionTag</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;version:&quot;</span></span><span class="mpre"> -&gt; </span><a href="Distribution.Text.html#loc_39_1_39_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_39_1_39_12&#39;)"><span class="hl_varref"><span class="mpre">simpleParse</span></span></a><span class="mpre"> </span><a href="#loc_264_27_264_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_264_27_264_37&#39;)"><span class="hl_varref"><span class="mpre">versionStr</span></span></a><span class="mpre">
        _                                        -&gt; </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- Older installed package info files did not have the installedPackageId</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- field, so if it is missing then we fill it as the source package ID.</span></span><span class="mpre">
</span><a href="#loc_271_1_271_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_271_1_271_22&#39;)"><span class="mpre">setInstalledPackageId</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">InstalledPackageInfo</span></span><span class="mpre">
</span><a name="loc_271_1_271_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_271_1_271_22&#39;)"><span class="hl_fundecl"><span class="mpre">setInstalledPackageId</span></span></a><span class="mpre"> </span><span class="hl_specname"><span class="mpre">pkginfo</span></span><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/NHC.hs&quot;, srcSpanStartLine = 271, srcSpanStartColumn = 31, srcSpanEndLine = 274, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/NHC.hs&quot;, srcSpanStartLine = 271, srcSpanStartColumn = 52, srcSpanEndLine = 271, srcSpanEndColumn = 53},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/NHC.hs"><span class="mpre">InstalledPackageInfo {
                        installedPackageId = InstalledPackageId &quot;&quot;,
                        sourcePackageId    = pkgid
                      }</span></span><span class="mpre">
                    = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/NHC.hs&quot;, srcSpanStartLine = 275, srcSpanStartColumn = 23, srcSpanEndLine = 279, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/NHC.hs&quot;, srcSpanStartLine = 275, srcSpanStartColumn = 31, srcSpanEndLine = 275, srcSpanEndColumn = 32},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/N"><span class="mpre">pkginfo {
                        </span><span class="hl_comment"><span class="mpre">--TODO use a proper named function for the conversion</span></span><span class="mpre">
                        </span><span class="hl_comment"><span class="mpre">-- from source package id to installed package id</span></span><span class="mpre">
                        installedPackageId = InstalledPackageId (display pkgid)
                      }</span></span><span class="mpre">
</span><a href="#loc_271_1_271_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_271_1_271_22&#39;)"><span class="hl_fundecl"><span class="mpre">setInstalledPackageId</span></span></a><span class="mpre"> </span><a name="loc_280_23_280_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_23_280_30&#39;)"><span class="hl_vardecl"><span class="mpre">pkginfo</span></span></a><span class="mpre"> = </span><a href="#loc_280_23_280_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_280_23_280_30&#39;)"><span class="hl_varref"><span class="mpre">pkginfo</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- -----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Building</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |FIX: For now, the target must contain a main module.  Not used</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- ATM. Re-add later.</span></span><span class="mpre">
</span><a href="#loc_289_1_289_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_1_289_9&#39;)"><span class="mpre">buildLib</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre">
                      -&gt; </span><a href="Distribution.PackageDescription.html#loc_299_6_299_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_299_6_299_13&#39;)"><span class="hl_tyconref"><span class="mpre">Library</span></span></a><span class="mpre">            -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29&#39;)"><span class="hl_tyconref"><span class="mpre">ComponentLocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_289_1_289_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_1_289_9&#39;)"><span class="hl_fundecl"><span class="mpre">buildLib</span></span></a><span class="mpre"> </span><a name="loc_289_10_289_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_10_289_19&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_289_20_289_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_20_289_29&#39;)"><span class="hl_vardecl"><span class="mpre">pkg_descr</span></span></a><span class="mpre"> </span><a name="loc_289_30_289_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_30_289_33&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_289_34_289_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_34_289_37&#39;)"><span class="hl_vardecl"><span class="mpre">lib</span></span></a><span class="mpre"> </span><a name="loc_289_38_289_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_38_289_42&#39;)"><span class="hl_vardecl"><span class="mpre">clbi</span></span></a><span class="mpre"> = do
  </span><a name="loc_290_3_290_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_3_290_10&#39;)"><span class="hl_vardecl"><span class="mpre">libName</span></span></a><span class="mpre"> &lt;- case </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_210_5_210_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_210_5_210_23&#39;)"><span class="hl_varref"><span class="mpre">componentLibraries</span></span></a><span class="mpre"> </span><a href="#loc_289_38_289_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_38_289_42&#39;)"><span class="hl_varref"><span class="mpre">clbi</span></span></a><span class="mpre"> of
             [</span><a name="loc_291_15_291_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_15_291_22&#39;)"><span class="hl_vardecl"><span class="mpre">libName</span></span></a><span class="mpre">] -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_291_15_291_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_15_291_22&#39;)"><span class="hl_varref"><span class="mpre">libName</span></span></a><span class="mpre">
             [] -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;No library name found when building library&quot;</span></span><span class="mpre">
             _  -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Multiple library names found when building library&quot;</span></span><span class="mpre">
  let </span><a name="loc_294_7_294_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_7_294_11&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21&#39;)"><span class="hl_varref"><span class="mpre">withPrograms</span></span></a><span class="mpre"> </span><a href="#loc_289_30_289_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_30_289_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
      </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_295_12_295_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_295_12_295_19&#39;)"><span class="hl_vardecl"><span class="mpre">nhcProg</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Program.Db.html#loc_261_1_261_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_261_1_261_14&#39;)"><span class="hl_varref"><span class="mpre">lookupProgram</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_127_1_127_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_127_1_127_11&#39;)"><span class="hl_varref"><span class="mpre">nhcProgram</span></span></a><span class="mpre"> </span><a href="#loc_294_7_294_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_7_294_11&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">
  let </span><a name="loc_296_7_296_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_296_7_296_9&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre"> = </span><a href="Distribution.PackageDescription.html#loc_302_9_302_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_302_9_302_21&#39;)"><span class="hl_varref"><span class="mpre">libBuildInfo</span></span></a><span class="mpre"> </span><a href="#loc_289_34_289_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_34_289_37&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre">
      </span><a name="loc_297_7_297_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_7_297_14&#39;)"><span class="hl_vardecl"><span class="mpre">modules</span></span></a><span class="mpre"> = </span><a href="Distribution.PackageDescription.html#loc_300_9_300_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_300_9_300_23&#39;)"><span class="hl_varref"><span class="mpre">exposedModules</span></span></a><span class="mpre"> </span><a href="#loc_289_34_289_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_34_289_37&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_646_9_646_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_646_9_646_21&#39;)"><span class="hl_varref"><span class="mpre">otherModules</span></span></a><span class="mpre"> </span><a href="#loc_296_7_296_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_296_7_296_9&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- Unsupported extensions have already been checked by configure</span></span><span class="mpre">
      </span><a name="loc_299_7_299_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_7_299_20&#39;)"><span class="hl_vardecl"><span class="mpre">languageFlags</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Compiler.html#loc_188_1_188_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_188_1_188_16&#39;)"><span class="hl_varref"><span class="mpre">languageToFlags</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> </span><a href="#loc_289_30_289_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_30_289_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) (</span><a href="Distribution.PackageDescription.html#loc_648_9_648_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_648_9_648_24&#39;)"><span class="hl_varref"><span class="mpre">defaultLanguage</span></span></a><span class="mpre"> </span><a href="#loc_296_7_296_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_296_7_296_9&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">)
                   </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.Compiler.html#loc_206_1_206_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_206_1_206_18&#39;)"><span class="hl_varref"><span class="mpre">extensionsToFlags</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> </span><a href="#loc_289_30_289_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_30_289_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) (</span><a href="Distribution.PackageDescription.html#loc_768_1_768_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_768_1_768_15&#39;)"><span class="hl_varref"><span class="mpre">usedExtensions</span></span></a><span class="mpre"> </span><a href="#loc_296_7_296_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_296_7_296_9&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">)
  </span><a name="loc_301_3_301_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_3_301_10&#39;)"><span class="hl_vardecl"><span class="mpre">inFiles</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_392_1_392_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_392_1_392_15&#39;)"><span class="hl_varref"><span class="mpre">getModulePaths</span></span></a><span class="mpre"> </span><a href="#loc_289_30_289_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_30_289_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a href="#loc_296_7_296_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_296_7_296_9&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a href="#loc_297_7_297_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_7_297_14&#39;)"><span class="hl_varref"><span class="mpre">modules</span></span></a><span class="mpre">
  let </span><a name="loc_302_7_302_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_7_302_16&#39;)"><span class="hl_vardecl"><span class="mpre">targetDir</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17&#39;)"><span class="hl_varref"><span class="mpre">buildDir</span></span></a><span class="mpre"> </span><a href="#loc_289_30_289_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_30_289_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
      </span><a name="loc_303_7_303_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_7_303_14&#39;)"><span class="hl_vardecl"><span class="mpre">srcDirs</span></span></a><span class="mpre">  = </span><a href="Data.List.html#loc_314_1_314_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_314_1_314_4&#39;)"><span class="hl_varref"><span class="mpre">nub</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">takeDirectory</span></span><span class="mpre"> </span><a href="#loc_301_3_301_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_3_301_10&#39;)"><span class="hl_varref"><span class="mpre">inFiles</span></span></a><span class="mpre">)
      </span><a name="loc_304_7_304_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_7_304_15&#39;)"><span class="hl_vardecl"><span class="mpre">destDirs</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><a href="#loc_302_7_302_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_7_302_16&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre">) </span><a href="#loc_303_7_303_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_303_7_303_14&#39;)"><span class="hl_varref"><span class="mpre">srcDirs</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">mapM_</span></span><span class="mpre"> (</span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="hl_varref"><span class="mpre">createDirectoryIfMissingVerbose</span></span></a><span class="mpre"> </span><a href="#loc_289_10_289_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_10_289_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">) </span><a href="#loc_304_7_304_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_304_7_304_15&#39;)"><span class="hl_varref"><span class="mpre">destDirs</span></span></a><span class="mpre">
  </span><a href="Distribution.Simple.Program.html#loc_205_1_205_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_205_1_205_21&#39;)"><span class="hl_varref"><span class="mpre">rawSystemProgramConf</span></span></a><span class="mpre"> </span><a href="#loc_289_10_289_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_10_289_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_137_1_137_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_137_1_137_13&#39;)"><span class="hl_varref"><span class="mpre">hmakeProgram</span></span></a><span class="mpre"> </span><a href="#loc_294_7_294_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_7_294_11&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
       [</span><span class="hl_string"><span class="mpre">&quot;-hc=&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_115_1_115_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_115_1_115_12&#39;)"><span class="hl_varref"><span class="mpre">programPath</span></span></a><span class="mpre"> </span><a href="#loc_295_12_295_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_295_12_295_19&#39;)"><span class="hl_varref"><span class="mpre">nhcProg</span></span></a><span class="mpre">]
    </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_385_1_385_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_1_385_20&#39;)"><span class="hl_varref"><span class="mpre">nhcVerbosityOptions</span></span></a><span class="mpre"> </span><a href="#loc_289_10_289_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_10_289_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
    </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-d&quot;</span></span><span class="mpre">, </span><a href="#loc_302_7_302_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_7_302_16&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;-hidir&quot;</span></span><span class="mpre">, </span><a href="#loc_302_7_302_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_7_302_16&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre">]
    </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> [] (</span><a href="Distribution.PackageDescription.html#loc_778_1_778_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_778_1_778_10&#39;)"><span class="hl_varref"><span class="mpre">hcOptions</span></span></a><span class="mpre"> </span><a href="Distribution.Compiler.html#loc_81_29_81_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_29_81_32&#39;)"><span class="hl_conref"><span class="mpre">NHC</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_302_9_302_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_302_9_302_21&#39;)"><span class="hl_varref"><span class="mpre">libBuildInfo</span></span></a><span class="mpre">)
                           (</span><a href="Distribution.PackageDescription.html#loc_190_9_190_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_190_9_190_16&#39;)"><span class="hl_varref"><span class="mpre">library</span></span></a><span class="mpre"> </span><a href="#loc_289_20_289_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_20_289_29&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre">)
    </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_299_7_299_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_7_299_20&#39;)"><span class="hl_varref"><span class="mpre">languageFlags</span></span></a><span class="mpre">
    </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre"> [ [</span><span class="hl_string"><span class="mpre">&quot;-package&quot;</span></span><span class="mpre">, </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> (</span><a href="Distribution.Package.html#loc_187_1_187_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_187_1_187_12&#39;)"><span class="hl_varref"><span class="mpre">packageName</span></span></a><span class="mpre"> </span><a href="#loc_314_21_314_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_314_21_314_26&#39;)"><span class="hl_varref"><span class="mpre">pkgid</span></span></a><span class="mpre">) ]
              | (_, </span><a name="loc_314_21_314_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_314_21_314_26&#39;)"><span class="hl_vardecl"><span class="mpre">pkgid</span></span></a><span class="mpre">) &lt;- </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_209_5_209_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_209_5_209_25&#39;)"><span class="hl_varref"><span class="mpre">componentPackageDeps</span></span></a><span class="mpre"> </span><a href="#loc_289_38_289_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_38_289_42&#39;)"><span class="hl_varref"><span class="mpre">clbi</span></span></a><span class="mpre"> ]
    </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_301_3_301_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_3_301_10&#39;)"><span class="hl_varref"><span class="mpre">inFiles</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">{-
  -- build any C sources
  unless (null (cSources bi)) $ do
     info verbosity &quot;Building C Sources...&quot;
     let commonCcArgs = (if verbosity &gt;= deafening then [&quot;-v&quot;] else [])
                     ++ [&quot;-I&quot; ++ dir | dir &lt;- includeDirs bi]
                     ++ [opt | opt &lt;- ccOptions bi]
                     ++ (if withOptimization lbi then [&quot;-O2&quot;] else [])
     flip mapM_ (cSources bi) $ \cfile -&gt; do
       let ofile = targetDir &lt;/&gt; cfile `replaceExtension` objExtension
       createDirectoryIfMissingVerbose verbosity True (takeDirectory ofile)
       rawSystemProgramConf verbosity hmakeProgram conf
         (commonCcArgs ++ [&quot;-c&quot;, cfile, &quot;-o&quot;, ofile])
-}</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- link:</span></span><span class="mpre">
  </span><a href="Distribution.Simple.Utils.html#loc_305_1_305_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_305_1_305_5&#39;)"><span class="hl_varref"><span class="mpre">info</span></span></a><span class="mpre"> </span><a href="#loc_289_10_289_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_10_289_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Linking...&quot;</span></span><span class="mpre">
  let </span><span class="hl_comment"><span class="mpre">--cObjs = [ targetDir &lt;/&gt; cFile `replaceExtension` objExtension</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">--        | cFile &lt;- cSources bi ]</span></span><span class="mpre">
      </span><a name="loc_334_7_334_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_7_334_18&#39;)"><span class="hl_vardecl"><span class="mpre">libFilePath</span></span></a><span class="mpre"> = </span><a href="#loc_302_7_302_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_7_302_16&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_114_1_114_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_114_1_114_10&#39;)"><span class="hl_varref"><span class="mpre">mkLibName</span></span></a><span class="mpre"> </span><a href="#loc_290_3_290_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_3_290_10&#39;)"><span class="hl_varref"><span class="mpre">libName</span></span></a><span class="mpre">
      </span><a name="loc_335_7_335_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_7_335_12&#39;)"><span class="hl_vardecl"><span class="mpre">hObjs</span></span></a><span class="mpre"> = [ </span><a href="#loc_302_7_302_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_7_302_16&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="Distribution.ModuleName.html#loc_133_1_133_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_133_1_133_11&#39;)"><span class="hl_varref"><span class="mpre">ModuleName.toFilePath</span></span></a><span class="mpre"> </span><a href="#loc_336_17_336_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_17_336_18&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_143_1_143_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_143_1_143_13&#39;)"><span class="hl_varref"><span class="mpre">objExtension</span></span></a><span class="mpre">
              | </span><a name="loc_336_17_336_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_336_17_336_18&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_297_7_297_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_297_7_297_14&#39;)"><span class="hl_varref"><span class="mpre">modules</span></span></a><span class="mpre"> ]

  </span><a href="Control.Monad.html#loc_270_1_270_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_270_1_270_7&#39;)"><span class="hl_varref"><span class="mpre">unless</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> </span><a href="#loc_335_7_335_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_7_335_12&#39;)"><span class="hl_varref"><span class="mpre">hObjs</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">{-&amp;&amp; null cObjs-}</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> do
    </span><span class="hl_comment"><span class="mpre">-- first remove library if it exists</span></span><span class="mpre">
    </span><a href="System.Directory.html#loc_400_1_400_11" onmouseover="nemnem.highlightLocalToRemote(&#39;System.Directory.html#loc_400_1_400_11&#39;)"><span class="hl_varref"><span class="mpre">removeFile</span></span></a><span class="mpre"> </span><a href="#loc_334_7_334_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_7_334_18&#39;)"><span class="hl_varref"><span class="mpre">libFilePath</span></span></a><span class="mpre"> </span><a href="Distribution.Compat.Exception.html#loc_14_1_14_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compat.Exception.html#loc_14_1_14_8&#39;)"><span class="hl_infix"><span class="mpre">`catchIO`</span></span></a><span class="mpre"> \_ -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">

    let </span><a name="loc_342_9_342_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_9_342_20&#39;)"><span class="hl_vardecl"><span class="mpre">arVerbosity</span></span></a><span class="mpre"> | </span><a href="#loc_289_10_289_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_10_289_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="Distribution.Verbosity.html#loc_76_1_76_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_76_1_76_10&#39;)"><span class="hl_varref"><span class="mpre">deafening</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;v&quot;</span></span><span class="mpre">
                    | </span><a href="#loc_289_10_289_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_10_289_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="Distribution.Verbosity.html#loc_67_1_67_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_67_1_67_7&#39;)"><span class="hl_varref"><span class="mpre">normal</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre">
                    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;c&quot;</span></span><span class="mpre">

    </span><a href="Distribution.Simple.Program.html#loc_205_1_205_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_205_1_205_21&#39;)"><span class="hl_varref"><span class="mpre">rawSystemProgramConf</span></span></a><span class="mpre"> </span><a href="#loc_289_10_289_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_10_289_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_207_1_207_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_207_1_207_10&#39;)"><span class="hl_varref"><span class="mpre">arProgram</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21&#39;)"><span class="hl_varref"><span class="mpre">withPrograms</span></span></a><span class="mpre"> </span><a href="#loc_289_30_289_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_289_30_289_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
         [</span><span class="hl_string"><span class="mpre">&quot;q&quot;</span></span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_342_9_342_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_342_9_342_20&#39;)"><span class="hl_varref"><span class="mpre">arVerbosity</span></span></a><span class="mpre">, </span><a href="#loc_334_7_334_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_7_334_18&#39;)"><span class="hl_varref"><span class="mpre">libFilePath</span></span></a><span class="mpre">]
      </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_335_7_335_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_7_335_12&#39;)"><span class="hl_varref"><span class="mpre">hObjs</span></span></a><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--    ++ cObjs</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Building an executable for NHC.</span></span><span class="mpre">
</span><a href="#loc_354_1_354_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_1_354_9&#39;)"><span class="mpre">buildExe</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.PackageDescription.html#loc_161_6_161_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_161_6_161_24&#39;)"><span class="hl_tyconref"><span class="mpre">PackageDescription</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre">
                      -&gt; </span><a href="Distribution.PackageDescription.html#loc_347_6_347_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_347_6_347_16&#39;)"><span class="hl_tyconref"><span class="mpre">Executable</span></span></a><span class="mpre">         -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29&#39;)"><span class="hl_tyconref"><span class="mpre">ComponentLocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_354_1_354_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_1_354_9&#39;)"><span class="hl_fundecl"><span class="mpre">buildExe</span></span></a><span class="mpre"> </span><a name="loc_354_10_354_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_10_354_19&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_354_20_354_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_20_354_29&#39;)"><span class="hl_vardecl"><span class="mpre">pkg_descr</span></span></a><span class="mpre"> </span><a name="loc_354_30_354_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_30_354_33&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_354_34_354_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_34_354_37&#39;)"><span class="hl_vardecl"><span class="mpre">exe</span></span></a><span class="mpre"> </span><a name="loc_354_38_354_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_38_354_42&#39;)"><span class="hl_vardecl"><span class="mpre">clbi</span></span></a><span class="mpre"> = do
  let </span><a name="loc_355_7_355_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_355_7_355_11&#39;)"><span class="hl_vardecl"><span class="mpre">conf</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_147_9_147_21&#39;)"><span class="hl_varref"><span class="mpre">withPrograms</span></span></a><span class="mpre"> </span><a href="#loc_354_30_354_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_30_354_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">
      </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_356_12_356_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_12_356_19&#39;)"><span class="hl_vardecl"><span class="mpre">nhcProg</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Program.Db.html#loc_261_1_261_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_261_1_261_14&#39;)"><span class="hl_varref"><span class="mpre">lookupProgram</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_127_1_127_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_127_1_127_11&#39;)"><span class="hl_varref"><span class="mpre">nhcProgram</span></span></a><span class="mpre"> </span><a href="#loc_355_7_355_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_355_7_355_11&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre">
  </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">dropExtension</span></span><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_349_9_349_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_349_9_349_19&#39;)"><span class="hl_varref"><span class="mpre">modulePath</span></span></a><span class="mpre"> </span><a href="#loc_354_34_354_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_34_354_37&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">/=</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_348_9_348_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_348_9_348_16&#39;)"><span class="hl_varref"><span class="mpre">exeName</span></span></a><span class="mpre"> </span><a href="#loc_354_34_354_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_34_354_37&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
    </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;hmake does not support exe names that do not match the name of &quot;</span></span><span class="mpre">
       </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;the &#39;main-is&#39; file. You will have to rename your executable to &quot;</span></span><span class="mpre">
       </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">dropExtension</span></span><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_349_9_349_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_349_9_349_19&#39;)"><span class="hl_varref"><span class="mpre">modulePath</span></span></a><span class="mpre"> </span><a href="#loc_354_34_354_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_34_354_37&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre">))
  let </span><a name="loc_361_7_361_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_361_7_361_9&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre"> = </span><a href="Distribution.PackageDescription.html#loc_350_9_350_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_350_9_350_18&#39;)"><span class="hl_varref"><span class="mpre">buildInfo</span></span></a><span class="mpre"> </span><a href="#loc_354_34_354_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_34_354_37&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre">
      </span><a name="loc_362_7_362_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_7_362_14&#39;)"><span class="hl_vardecl"><span class="mpre">modules</span></span></a><span class="mpre"> = </span><a href="Distribution.PackageDescription.html#loc_646_9_646_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_646_9_646_21&#39;)"><span class="hl_varref"><span class="mpre">otherModules</span></span></a><span class="mpre"> </span><a href="#loc_361_7_361_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_361_7_361_9&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- Unsupported extensions have already been checked by configure</span></span><span class="mpre">
      </span><a name="loc_364_7_364_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_364_7_364_20&#39;)"><span class="hl_vardecl"><span class="mpre">languageFlags</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Compiler.html#loc_188_1_188_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_188_1_188_16&#39;)"><span class="hl_varref"><span class="mpre">languageToFlags</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> </span><a href="#loc_354_30_354_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_30_354_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) (</span><a href="Distribution.PackageDescription.html#loc_648_9_648_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_648_9_648_24&#39;)"><span class="hl_varref"><span class="mpre">defaultLanguage</span></span></a><span class="mpre"> </span><a href="#loc_361_7_361_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_361_7_361_9&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">)
                   </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.Compiler.html#loc_206_1_206_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Compiler.html#loc_206_1_206_18&#39;)"><span class="hl_varref"><span class="mpre">extensionsToFlags</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_127_9_127_17&#39;)"><span class="hl_varref"><span class="mpre">compiler</span></span></a><span class="mpre"> </span><a href="#loc_354_30_354_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_30_354_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre">) (</span><a href="Distribution.PackageDescription.html#loc_768_1_768_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_768_1_768_15&#39;)"><span class="hl_varref"><span class="mpre">usedExtensions</span></span></a><span class="mpre"> </span><a href="#loc_361_7_361_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_361_7_361_9&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">)
  </span><a name="loc_366_3_366_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_366_3_366_10&#39;)"><span class="hl_vardecl"><span class="mpre">inFiles</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_392_1_392_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_392_1_392_15&#39;)"><span class="hl_varref"><span class="mpre">getModulePaths</span></span></a><span class="mpre"> </span><a href="#loc_354_30_354_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_30_354_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a href="#loc_361_7_361_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_361_7_361_9&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a href="#loc_362_7_362_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_362_7_362_14&#39;)"><span class="hl_varref"><span class="mpre">modules</span></span></a><span class="mpre">
  let </span><a name="loc_367_7_367_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_367_7_367_16&#39;)"><span class="hl_vardecl"><span class="mpre">targetDir</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17&#39;)"><span class="hl_varref"><span class="mpre">buildDir</span></span></a><span class="mpre"> </span><a href="#loc_354_30_354_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_30_354_33&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_348_9_348_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_348_9_348_16&#39;)"><span class="hl_varref"><span class="mpre">exeName</span></span></a><span class="mpre"> </span><a href="#loc_354_34_354_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_34_354_37&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre">
      </span><a name="loc_368_7_368_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_368_7_368_13&#39;)"><span class="hl_vardecl"><span class="mpre">exeDir</span></span></a><span class="mpre">    = </span><a href="#loc_367_7_367_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_367_7_367_16&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_348_9_348_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_348_9_348_16&#39;)"><span class="hl_varref"><span class="mpre">exeName</span></span></a><span class="mpre"> </span><a href="#loc_354_34_354_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_34_354_37&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;-tmp&quot;</span></span><span class="mpre">)
      </span><a name="loc_369_7_369_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_7_369_14&#39;)"><span class="hl_vardecl"><span class="mpre">srcDirs</span></span></a><span class="mpre">   = </span><a href="Data.List.html#loc_314_1_314_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_314_1_314_4&#39;)"><span class="hl_varref"><span class="mpre">nub</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">takeDirectory</span></span><span class="mpre"> (</span><a href="Distribution.PackageDescription.html#loc_349_9_349_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_349_9_349_19&#39;)"><span class="hl_varref"><span class="mpre">modulePath</span></span></a><span class="mpre"> </span><a href="#loc_354_34_354_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_34_354_37&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_366_3_366_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_366_3_366_10&#39;)"><span class="hl_varref"><span class="mpre">inFiles</span></span></a><span class="mpre">))
      </span><a name="loc_370_7_370_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_7_370_15&#39;)"><span class="hl_vardecl"><span class="mpre">destDirs</span></span></a><span class="mpre">  = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><a href="#loc_368_7_368_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_368_7_368_13&#39;)"><span class="hl_varref"><span class="mpre">exeDir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre">) </span><a href="#loc_369_7_369_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_7_369_14&#39;)"><span class="hl_varref"><span class="mpre">srcDirs</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">mapM_</span></span><span class="mpre"> (</span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="hl_varref"><span class="mpre">createDirectoryIfMissingVerbose</span></span></a><span class="mpre"> </span><a href="#loc_354_10_354_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_10_354_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">) </span><a href="#loc_370_7_370_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_7_370_15&#39;)"><span class="hl_varref"><span class="mpre">destDirs</span></span></a><span class="mpre">
  </span><a href="Distribution.Simple.Program.html#loc_205_1_205_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.html#loc_205_1_205_21&#39;)"><span class="hl_varref"><span class="mpre">rawSystemProgramConf</span></span></a><span class="mpre"> </span><a href="#loc_354_10_354_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_10_354_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="Distribution.Simple.Program.Builtin.html#loc_137_1_137_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Builtin.html#loc_137_1_137_13&#39;)"><span class="hl_varref"><span class="mpre">hmakeProgram</span></span></a><span class="mpre"> </span><a href="#loc_355_7_355_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_355_7_355_11&#39;)"><span class="hl_varref"><span class="mpre">conf</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
       [</span><span class="hl_string"><span class="mpre">&quot;-hc=&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_115_1_115_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_115_1_115_12&#39;)"><span class="hl_varref"><span class="mpre">programPath</span></span></a><span class="mpre"> </span><a href="#loc_356_12_356_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_356_12_356_19&#39;)"><span class="hl_varref"><span class="mpre">nhcProg</span></span></a><span class="mpre">]
    </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_385_1_385_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_1_385_20&#39;)"><span class="hl_varref"><span class="mpre">nhcVerbosityOptions</span></span></a><span class="mpre"> </span><a href="#loc_354_10_354_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_10_354_19&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
    </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;-d&quot;</span></span><span class="mpre">, </span><a href="#loc_367_7_367_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_367_7_367_16&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;-hidir&quot;</span></span><span class="mpre">, </span><a href="#loc_367_7_367_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_367_7_367_16&#39;)"><span class="hl_varref"><span class="mpre">targetDir</span></span></a><span class="mpre">]
    </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> [] (</span><a href="Distribution.PackageDescription.html#loc_778_1_778_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_778_1_778_10&#39;)"><span class="hl_varref"><span class="mpre">hcOptions</span></span></a><span class="mpre"> </span><a href="Distribution.Compiler.html#loc_81_29_81_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Compiler.html#loc_81_29_81_32&#39;)"><span class="hl_conref"><span class="mpre">NHC</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_302_9_302_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_302_9_302_21&#39;)"><span class="hl_varref"><span class="mpre">libBuildInfo</span></span></a><span class="mpre">)
                           (</span><a href="Distribution.PackageDescription.html#loc_190_9_190_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_190_9_190_16&#39;)"><span class="hl_varref"><span class="mpre">library</span></span></a><span class="mpre"> </span><a href="#loc_354_20_354_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_20_354_29&#39;)"><span class="hl_varref"><span class="mpre">pkg_descr</span></span></a><span class="mpre">)
    </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_364_7_364_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_364_7_364_20&#39;)"><span class="hl_varref"><span class="mpre">languageFlags</span></span></a><span class="mpre">
    </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre"> [ [</span><span class="hl_string"><span class="mpre">&quot;-package&quot;</span></span><span class="mpre">, </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> (</span><a href="Distribution.Package.html#loc_187_1_187_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_187_1_187_12&#39;)"><span class="hl_varref"><span class="mpre">packageName</span></span></a><span class="mpre"> </span><a href="#loc_380_21_380_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_380_21_380_26&#39;)"><span class="hl_varref"><span class="mpre">pkgid</span></span></a><span class="mpre">) ]
              | (_, </span><a name="loc_380_21_380_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_380_21_380_26&#39;)"><span class="hl_vardecl"><span class="mpre">pkgid</span></span></a><span class="mpre">) &lt;- </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_209_5_209_25" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_209_5_209_25&#39;)"><span class="hl_varref"><span class="mpre">componentPackageDeps</span></span></a><span class="mpre"> </span><a href="#loc_354_38_354_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_38_354_42&#39;)"><span class="hl_varref"><span class="mpre">clbi</span></span></a><span class="mpre"> ]
    </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_366_3_366_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_366_3_366_10&#39;)"><span class="hl_varref"><span class="mpre">inFiles</span></span></a><span class="mpre">
    </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> [</span><a href="Distribution.PackageDescription.html#loc_348_9_348_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_348_9_348_16&#39;)"><span class="hl_varref"><span class="mpre">exeName</span></span></a><span class="mpre"> </span><a href="#loc_354_34_354_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_34_354_37&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre">]

</span><a href="#loc_385_1_385_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_1_385_20&#39;)"><span class="mpre">nhcVerbosityOptions</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_385_1_385_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_1_385_20&#39;)"><span class="hl_fundecl"><span class="mpre">nhcVerbosityOptions</span></span></a><span class="mpre"> </span><a name="loc_385_21_385_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_21_385_30&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre">
     | </span><a href="#loc_385_21_385_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_21_385_30&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="Distribution.Verbosity.html#loc_76_1_76_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_76_1_76_10&#39;)"><span class="hl_varref"><span class="mpre">deafening</span></span></a><span class="mpre"> = [</span><span class="hl_string"><span class="mpre">&quot;-v&quot;</span></span><span class="mpre">]
     | </span><a href="#loc_385_21_385_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_21_385_30&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="Distribution.Verbosity.html#loc_67_1_67_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_67_1_67_7&#39;)"><span class="hl_varref"><span class="mpre">normal</span></span></a><span class="mpre">    = []
     | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">              = [</span><span class="hl_string"><span class="mpre">&quot;-q&quot;</span></span><span class="mpre">]

</span><span class="hl_comment"><span class="mpre">--TODO: where to put this? it&#39;s duplicated in .Simple too</span></span><span class="mpre">
</span><a href="#loc_392_1_392_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_392_1_392_15&#39;)"><span class="mpre">getModulePaths</span></a><span class="mpre"> :: </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_116_6_116_20&#39;)"><span class="hl_tyconref"><span class="mpre">LocalBuildInfo</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.PackageDescription.html#loc_636_6_636_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_636_6_636_15&#39;)"><span class="hl_tyconref"><span class="mpre">BuildInfo</span></span></a><span class="mpre"> -&gt; [</span><a href="Distribution.ModuleName.html#loc_67_9_67_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_67_9_67_19&#39;)"><span class="hl_tyconref"><span class="mpre">ModuleName</span></span></a><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> [</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">]
</span><a name="loc_392_1_392_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_392_1_392_15&#39;)"><span class="hl_fundecl"><span class="mpre">getModulePaths</span></span></a><span class="mpre"> </span><a name="loc_392_16_392_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_392_16_392_19&#39;)"><span class="hl_vardecl"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><a name="loc_392_20_392_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_392_20_392_22&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre"> </span><a name="loc_392_23_392_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_392_23_392_30&#39;)"><span class="hl_vardecl"><span class="mpre">modules</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">sequence</span></span><span class="mpre">
   [ </span><a href="Distribution.Simple.Utils.html#loc_660_1_660_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_660_1_660_22&#39;)"><span class="hl_varref"><span class="mpre">findFileWithExtension</span></span></a><span class="mpre"> [</span><span class="hl_string"><span class="mpre">&quot;hs&quot;</span></span><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;lhs&quot;</span></span><span class="mpre">] (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_131_9_131_17&#39;)"><span class="hl_varref"><span class="mpre">buildDir</span></span></a><span class="mpre"> </span><a href="#loc_392_16_392_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_392_16_392_19&#39;)"><span class="hl_varref"><span class="mpre">lbi</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_645_9_645_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_645_9_645_21&#39;)"><span class="hl_varref"><span class="mpre">hsSourceDirs</span></span></a><span class="mpre"> </span><a href="#loc_392_20_392_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_392_20_392_22&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">)
       (</span><a href="Distribution.ModuleName.html#loc_133_1_133_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.ModuleName.html#loc_133_1_133_11&#39;)"><span class="hl_varref"><span class="mpre">ModuleName.toFilePath</span></span></a><span class="mpre"> </span><a href="#loc_395_6_395_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_6_395_13&#39;)"><span class="hl_varref"><span class="mpre">module_</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">maybe</span></span><span class="mpre"> (</span><a href="#loc_396_10_396_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_396_10_396_18&#39;)"><span class="hl_varref"><span class="mpre">notFound</span></span></a><span class="mpre"> </span><a href="#loc_395_6_395_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_6_395_13&#39;)"><span class="hl_varref"><span class="mpre">module_</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">normalise</span></span><span class="mpre">)
   | </span><a name="loc_395_6_395_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_395_6_395_13&#39;)"><span class="hl_vardecl"><span class="mpre">module_</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_392_23_392_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_392_23_392_30&#39;)"><span class="hl_varref"><span class="mpre">modules</span></span></a><span class="mpre"> ]
   where </span><a name="loc_396_10_396_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_396_10_396_18&#39;)"><span class="hl_fundecl"><span class="mpre">notFound</span></span></a><span class="mpre"> </span><a name="loc_396_19_396_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_396_19_396_26&#39;)"><span class="hl_vardecl"><span class="mpre">module_</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;can&#39;t find source for module &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Text.html#loc_31_1_31_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Text.html#loc_31_1_31_8&#39;)"><span class="hl_varref"><span class="mpre">display</span></span></a><span class="mpre"> </span><a href="#loc_396_19_396_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_396_19_396_26&#39;)"><span class="hl_varref"><span class="mpre">module_</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- -----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Installing</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- |Install executables for NHC.</span></span><span class="mpre">
</span><a href="#loc_408_1_408_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_1_408_11&#39;)"><span class="mpre">installExe</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^verbosity</span></span><span class="mpre">
           -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^install location</span></span><span class="mpre">
           -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^Build location</span></span><span class="mpre">
           -&gt; (</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">, </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">)  </span><span class="hl_comment"><span class="mpre">-- ^Executable (prefix,suffix)</span></span><span class="mpre">
           -&gt; </span><a href="Distribution.PackageDescription.html#loc_347_6_347_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_347_6_347_16&#39;)"><span class="hl_tyconref"><span class="mpre">Executable</span></span></a><span class="mpre">
           -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_408_1_408_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_1_408_11&#39;)"><span class="hl_fundecl"><span class="mpre">installExe</span></span></a><span class="mpre"> </span><a name="loc_408_12_408_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_12_408_21&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_408_22_408_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_22_408_26&#39;)"><span class="hl_vardecl"><span class="mpre">pref</span></span></a><span class="mpre"> </span><a name="loc_408_27_408_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_27_408_36&#39;)"><span class="hl_vardecl"><span class="mpre">buildPref</span></span></a><span class="mpre"> (</span><a name="loc_408_38_408_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_38_408_48&#39;)"><span class="hl_vardecl"><span class="mpre">progprefix</span></span></a><span class="mpre">,</span><a name="loc_408_49_408_59" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_49_408_59&#39;)"><span class="hl_vardecl"><span class="mpre">progsuffix</span></span></a><span class="mpre">) </span><a name="loc_408_61_408_64" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_61_408_64&#39;)"><span class="hl_vardecl"><span class="mpre">exe</span></span></a><span class="mpre">
    = do </span><a href="Distribution.Simple.Utils.html#loc_822_1_822_32" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_822_1_822_32&#39;)"><span class="hl_varref"><span class="mpre">createDirectoryIfMissingVerbose</span></span></a><span class="mpre"> </span><a href="#loc_408_12_408_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_12_408_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre"> </span><a href="#loc_408_22_408_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_22_408_26&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre">
         let </span><a name="loc_410_14_410_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_410_14_410_25&#39;)"><span class="hl_vardecl"><span class="mpre">exeBaseName</span></span></a><span class="mpre"> = </span><a href="Distribution.PackageDescription.html#loc_348_9_348_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_348_9_348_16&#39;)"><span class="hl_varref"><span class="mpre">exeName</span></span></a><span class="mpre"> </span><a href="#loc_408_61_408_64" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_61_408_64&#39;)"><span class="hl_varref"><span class="mpre">exe</span></span></a><span class="mpre">
             </span><a name="loc_411_14_411_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_411_14_411_25&#39;)"><span class="hl_vardecl"><span class="mpre">exeFileName</span></span></a><span class="mpre"> = </span><a href="#loc_410_14_410_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_410_14_410_25&#39;)"><span class="hl_varref"><span class="mpre">exeBaseName</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_135_1_135_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_135_1_135_13&#39;)"><span class="hl_varref"><span class="mpre">exeExtension</span></span></a><span class="mpre">
             </span><a name="loc_412_14_412_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_412_14_412_30&#39;)"><span class="hl_vardecl"><span class="mpre">fixedExeFileName</span></span></a><span class="mpre"> = (</span><a href="#loc_408_38_408_48" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_38_408_48&#39;)"><span class="hl_varref"><span class="mpre">progprefix</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_410_14_410_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_410_14_410_25&#39;)"><span class="hl_varref"><span class="mpre">exeBaseName</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_408_49_408_59" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_49_408_59&#39;)"><span class="hl_varref"><span class="mpre">progsuffix</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&lt;.&gt;</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_135_1_135_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_135_1_135_13&#39;)"><span class="hl_varref"><span class="mpre">exeExtension</span></span></a><span class="mpre">
         </span><a href="Distribution.Simple.Utils.html#loc_886_1_886_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_886_1_886_22&#39;)"><span class="hl_varref"><span class="mpre">installExecutableFile</span></span></a><span class="mpre"> </span><a href="#loc_408_12_408_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_12_408_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
           (</span><a href="#loc_408_27_408_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_27_408_36&#39;)"><span class="hl_varref"><span class="mpre">buildPref</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_410_14_410_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_410_14_410_25&#39;)"><span class="hl_varref"><span class="mpre">exeBaseName</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_411_14_411_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_411_14_411_25&#39;)"><span class="hl_varref"><span class="mpre">exeFileName</span></span></a><span class="mpre">)
           (</span><a href="#loc_408_22_408_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_22_408_26&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_412_14_412_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_412_14_412_30&#39;)"><span class="hl_varref"><span class="mpre">fixedExeFileName</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- |Install for nhc98: .hi and .a files</span></span><span class="mpre">
</span><a href="#loc_425_1_425_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_1_425_11&#39;)"><span class="mpre">installLib</span></a><span class="mpre">    :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^verbosity</span></span><span class="mpre">
              -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^install location</span></span><span class="mpre">
              -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^Build location</span></span><span class="mpre">
              -&gt; </span><a href="Distribution.Package.html#loc_102_6_102_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Package.html#loc_102_6_102_23&#39;)"><span class="hl_tyconref"><span class="mpre">PackageIdentifier</span></span></a><span class="mpre">
              -&gt; </span><a href="Distribution.PackageDescription.html#loc_299_6_299_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_299_6_299_13&#39;)"><span class="hl_tyconref"><span class="mpre">Library</span></span></a><span class="mpre">
              -&gt; </span><a href="Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_203_6_203_29&#39;)"><span class="hl_tyconref"><span class="mpre">ComponentLocalBuildInfo</span></span></a><span class="mpre">
              -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_425_1_425_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_1_425_11&#39;)"><span class="hl_fundecl"><span class="mpre">installLib</span></span></a><span class="mpre"> </span><a name="loc_425_12_425_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_12_425_21&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_425_22_425_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_22_425_26&#39;)"><span class="hl_vardecl"><span class="mpre">pref</span></span></a><span class="mpre"> </span><a name="loc_425_27_425_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_27_425_36&#39;)"><span class="hl_vardecl"><span class="mpre">buildPref</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_pkgid</span></span><span class="mpre"> </span><a name="loc_425_44_425_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_44_425_47&#39;)"><span class="hl_vardecl"><span class="mpre">lib</span></span></a><span class="mpre"> </span><a name="loc_425_48_425_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_48_425_52&#39;)"><span class="hl_vardecl"><span class="mpre">clbi</span></span></a><span class="mpre">
    = do let </span><a name="loc_426_14_426_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_426_14_426_16&#39;)"><span class="hl_vardecl"><span class="mpre">bi</span></span></a><span class="mpre"> = </span><a href="Distribution.PackageDescription.html#loc_302_9_302_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_302_9_302_21&#39;)"><span class="hl_varref"><span class="mpre">libBuildInfo</span></span></a><span class="mpre"> </span><a href="#loc_425_44_425_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_44_425_47&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre">
             </span><a name="loc_427_14_427_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_427_14_427_21&#39;)"><span class="hl_vardecl"><span class="mpre">modules</span></span></a><span class="mpre"> = </span><a href="Distribution.PackageDescription.html#loc_300_9_300_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_300_9_300_23&#39;)"><span class="hl_varref"><span class="mpre">exposedModules</span></span></a><span class="mpre"> </span><a href="#loc_425_44_425_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_44_425_47&#39;)"><span class="hl_varref"><span class="mpre">lib</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.PackageDescription.html#loc_646_9_646_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.PackageDescription.html#loc_646_9_646_21&#39;)"><span class="hl_varref"><span class="mpre">otherModules</span></span></a><span class="mpre"> </span><a href="#loc_426_14_426_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_426_14_426_16&#39;)"><span class="hl_varref"><span class="mpre">bi</span></span></a><span class="mpre">
         </span><a href="Distribution.Simple.Utils.html#loc_695_1_695_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_695_1_695_16&#39;)"><span class="hl_varref"><span class="mpre">findModuleFiles</span></span></a><span class="mpre"> [</span><a href="#loc_425_27_425_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_27_425_36&#39;)"><span class="hl_varref"><span class="mpre">buildPref</span></span></a><span class="mpre">] [</span><span class="hl_string"><span class="mpre">&quot;hi&quot;</span></span><span class="mpre">] </span><a href="#loc_427_14_427_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_427_14_427_21&#39;)"><span class="hl_varref"><span class="mpre">modules</span></span></a><span class="mpre">
           </span><span class="hl_infix"><span class="mpre">&gt;&gt;=</span></span><span class="mpre"> </span><a href="Distribution.Simple.Utils.html#loc_949_1_949_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_949_1_949_21&#39;)"><span class="hl_varref"><span class="mpre">installOrdinaryFiles</span></span></a><span class="mpre"> </span><a href="#loc_425_12_425_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_12_425_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_425_22_425_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_22_425_26&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre">
         let </span><a name="loc_430_14_430_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_430_14_430_22&#39;)"><span class="hl_vardecl"><span class="mpre">libNames</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="Distribution.Simple.BuildPaths.html#loc_114_1_114_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.BuildPaths.html#loc_114_1_114_10&#39;)"><span class="hl_varref"><span class="mpre">mkLibName</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.LocalBuildInfo.html#loc_210_5_210_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.LocalBuildInfo.html#loc_210_5_210_23&#39;)"><span class="hl_varref"><span class="mpre">componentLibraries</span></span></a><span class="mpre"> </span><a href="#loc_425_48_425_52" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_48_425_52&#39;)"><span class="hl_varref"><span class="mpre">clbi</span></span></a><span class="mpre">)
             </span><a name="loc_431_14_431_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_431_14_431_25&#39;)"><span class="hl_fundecl"><span class="mpre">installLib&#39;</span></span></a><span class="mpre"> </span><a name="loc_431_26_431_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_431_26_431_33&#39;)"><span class="hl_vardecl"><span class="mpre">libName</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Utils.html#loc_877_1_877_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_877_1_877_20&#39;)"><span class="hl_varref"><span class="mpre">installOrdinaryFile</span></span></a><span class="mpre"> </span><a href="#loc_425_12_425_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_12_425_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre">
                                                       (</span><a href="#loc_425_27_425_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_27_425_36&#39;)"><span class="hl_varref"><span class="mpre">buildPref</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_431_26_431_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_431_26_431_33&#39;)"><span class="hl_varref"><span class="mpre">libName</span></span></a><span class="mpre">)
                                                       (</span><a href="#loc_425_22_425_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_425_22_425_26&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;/&gt;</span></span><span class="mpre"> </span><a href="#loc_431_26_431_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_431_26_431_33&#39;)"><span class="hl_varref"><span class="mpre">libName</span></span></a><span class="mpre">)
         </span><span class="hl_varref"><span class="mpre">mapM_</span></span><span class="mpre"> </span><a href="#loc_431_14_431_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_431_14_431_25&#39;)"><span class="hl_varref"><span class="mpre">installLib&#39;</span></span></a><span class="mpre"> </span><a href="#loc_430_14_430_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_430_14_430_22&#39;)"><span class="hl_varref"><span class="mpre">libNames</span></span></a><span class="mpre">
</span></div></body></html>