<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">
module Apply(applyHints, applyHintFile, applyHintFiles) where

import HSE.All
import Hint.All
import Control.Applicative
import Control.Arrow
import Data.List
import Data.Maybe
import Data.Monoid
import Data.Ord
import Settings
import Idea
import Util


</span><span class="hl_comment"><span class="mpre">-- | Apply hints to a single file, you may have the contents of the file.</span></span><span class="mpre">
</span><a href="#loc_19_1_19_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_1_19_14&#39;)"><span class="mpre">applyHintFile</span></a><span class="mpre"> :: </span><a href="HSE.All.html#loc_27_6_27_16" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.All.html#loc_27_6_27_16&#39;)"><span class="hl_tyconref"><span class="mpre">ParseFlags</span></span></a><span class="mpre"> -&gt; [</span><a href="Settings.html#loc_94_6_94_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_94_6_94_13&#39;)"><span class="hl_tyconref"><span class="mpre">Setting</span></span></a><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> [</span><span class="hl_tyconref"><span class="mpre">Idea</span></span><span class="mpre">]
</span><a name="loc_19_1_19_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_1_19_14&#39;)"><span class="hl_fundecl"><span class="mpre">applyHintFile</span></span></a><span class="mpre"> </span><a name="loc_19_15_19_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_15_19_20&#39;)"><span class="hl_vardecl"><span class="mpre">flags</span></span></a><span class="mpre"> </span><a name="loc_19_21_19_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_21_19_22&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> </span><a name="loc_19_23_19_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_23_19_27&#39;)"><span class="hl_vardecl"><span class="mpre">file</span></span></a><span class="mpre"> </span><a name="loc_19_28_19_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_28_19_31&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre"> = do
    </span><a name="loc_20_5_20_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_5_20_8&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_59_1_59_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_1_59_17&#39;)"><span class="hl_varref"><span class="mpre">parseModuleApply</span></span></a><span class="mpre"> </span><a href="#loc_19_15_19_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_15_19_20&#39;)"><span class="hl_varref"><span class="mpre">flags</span></span></a><span class="mpre"> </span><a href="#loc_19_21_19_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_21_19_22&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><a href="#loc_19_23_19_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_23_19_27&#39;)"><span class="hl_varref"><span class="mpre">file</span></span></a><span class="mpre"> </span><a href="#loc_19_28_19_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_28_19_31&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> case </span><a href="#loc_20_5_20_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_20_5_20_8&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre"> of
        </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_22_14_22_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_22_14_22_17&#39;)"><span class="hl_vardecl"><span class="mpre">err</span></span></a><span class="mpre"> -&gt; [</span><a href="#loc_22_14_22_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_22_14_22_17&#39;)"><span class="hl_varref"><span class="mpre">err</span></span></a><span class="mpre">]
        </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a name="loc_23_15_23_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_23_15_23_16&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_54_1_54_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_1_54_13&#39;)"><span class="hl_varref"><span class="mpre">executeHints</span></span></a><span class="mpre"> </span><a href="#loc_19_21_19_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_19_21_19_22&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> [</span><a href="#loc_23_15_23_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_23_15_23_16&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">]


</span><span class="hl_comment"><span class="mpre">-- | Apply hints to multiple files, allowing cross-file hints to fire.</span></span><span class="mpre">
</span><a href="#loc_28_1_28_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_15&#39;)"><span class="mpre">applyHintFiles</span></a><span class="mpre"> :: </span><a href="HSE.All.html#loc_27_6_27_16" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.All.html#loc_27_6_27_16&#39;)"><span class="hl_tyconref"><span class="mpre">ParseFlags</span></span></a><span class="mpre"> -&gt; [</span><a href="Settings.html#loc_94_6_94_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_94_6_94_13&#39;)"><span class="hl_tyconref"><span class="mpre">Setting</span></span></a><span class="mpre">] -&gt; [</span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> [</span><span class="hl_tyconref"><span class="mpre">Idea</span></span><span class="mpre">]
</span><a name="loc_28_1_28_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_15&#39;)"><span class="hl_fundecl"><span class="mpre">applyHintFiles</span></span></a><span class="mpre"> </span><a name="loc_28_16_28_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_16_28_21&#39;)"><span class="hl_vardecl"><span class="mpre">flags</span></span></a><span class="mpre"> </span><a name="loc_28_22_28_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_22_28_23&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> </span><a name="loc_28_24_28_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_24_28_29&#39;)"><span class="hl_vardecl"><span class="mpre">files</span></span></a><span class="mpre"> = do
    (</span><a name="loc_29_6_29_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_6_29_9&#39;)"><span class="hl_vardecl"><span class="mpre">err</span></span></a><span class="mpre">, </span><a name="loc_29_11_29_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_11_29_13&#39;)"><span class="hl_vardecl"><span class="mpre">ms</span></span></a><span class="mpre">) &lt;- </span><a href="Util.html#loc_74_1_74_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Util.html#loc_74_1_74_12&#39;)"><span class="hl_varref"><span class="mpre">unzipEither</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">mapM</span></span><span class="mpre"> (\</span><a name="loc_29_41_29_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_41_29_45&#39;)"><span class="hl_vardecl"><span class="mpre">file</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_59_1_59_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_1_59_17&#39;)"><span class="hl_varref"><span class="mpre">parseModuleApply</span></span></a><span class="mpre"> </span><a href="#loc_28_16_28_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_16_28_21&#39;)"><span class="hl_varref"><span class="mpre">flags</span></span></a><span class="mpre"> </span><a href="#loc_28_22_28_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_22_28_23&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><a href="#loc_29_41_29_45" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_41_29_45&#39;)"><span class="hl_varref"><span class="mpre">file</span></span></a><span class="mpre"> </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">) </span><a href="#loc_28_24_28_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_24_28_29&#39;)"><span class="hl_varref"><span class="mpre">files</span></span></a><span class="mpre">
    </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_29_6_29_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_6_29_9&#39;)"><span class="hl_varref"><span class="mpre">err</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_54_1_54_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_1_54_13&#39;)"><span class="hl_varref"><span class="mpre">executeHints</span></span></a><span class="mpre"> </span><a href="#loc_28_22_28_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_22_28_23&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><a href="#loc_29_11_29_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_11_29_13&#39;)"><span class="hl_varref"><span class="mpre">ms</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Given a way of classifying results, and a &#39;Hint&#39;, apply to a set of modules generating a list of &#39;Idea&#39;s.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   The &#39;Idea&#39; values will be ordered within a file.</span></span><span class="mpre">
</span><a href="#loc_36_1_36_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_1_36_11&#39;)"><span class="mpre">applyHints</span></a><span class="mpre"> :: [</span><a href="Settings.html#loc_74_6_74_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_74_6_74_14&#39;)"><span class="hl_tyconref"><span class="mpre">Classify</span></span></a><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">Hint</span></span><span class="mpre"> -&gt; [(</span><span class="hl_tyconref"><span class="mpre">Module</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">SrcSpanInfo</span></span><span class="mpre">, [</span><span class="hl_tyconref"><span class="mpre">Comment</span></span><span class="mpre">])] -&gt; [</span><span class="hl_tyconref"><span class="mpre">Idea</span></span><span class="mpre">]
</span><a name="loc_36_1_36_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_1_36_11&#39;)"><span class="hl_fundecl"><span class="mpre">applyHints</span></span></a><span class="mpre"> </span><a name="loc_36_12_36_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_12_36_15&#39;)"><span class="hl_vardecl"><span class="mpre">cls</span></span></a><span class="mpre"> </span><a name="loc_36_16_36_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_16_36_22&#39;)"><span class="hl_vardecl"><span class="mpre">hints_</span></span></a><span class="mpre"> </span><a name="loc_36_23_36_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_23_36_25&#39;)"><span class="hl_vardecl"><span class="mpre">ms</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
    [ </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><a href="#loc_78_1_78_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_1_78_9&#39;)"><span class="hl_varref"><span class="mpre">classify</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_36_12_36_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_12_36_15&#39;)"><span class="hl_varref"><span class="mpre">cls</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Data.Maybe.html#loc_123_1_123_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_123_1_123_9&#39;)"><span class="hl_varref"><span class="mpre">mapMaybe</span></span></a><span class="mpre"> </span><a href="Settings.html#loc_175_1_175_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_175_1_175_11&#39;)"><span class="hl_varref"><span class="mpre">readPragma</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">universeBi</span></span><span class="mpre"> </span><a href="#loc_41_12_41_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_12_41_13&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">)) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
        </span><a href="#loc_43_11_43_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_11_43_16&#39;)"><span class="hl_varref"><span class="mpre">order</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">hintModule</span></span><span class="mpre"> </span><a href="#loc_48_9_48_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_9_48_14&#39;)"><span class="hl_varref"><span class="mpre">hints</span></span></a><span class="mpre"> </span><a href="#loc_41_8_41_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_8_41_10&#39;)"><span class="hl_varref"><span class="mpre">nm</span></span></a><span class="mpre"> </span><a href="#loc_41_12_41_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_12_41_13&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">) </span><a href="#loc_44_11_44_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_11_44_16&#39;)"><span class="hl_infix"><span class="mpre">`merge`</span></span></a><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre"> [</span><a href="#loc_43_11_43_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_11_43_16&#39;)"><span class="hl_varref"><span class="mpre">order</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromNamed</span></span><span class="mpre"> </span><a href="#loc_39_52_39_53" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_52_39_53&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_42_11_42_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_11_42_19&#39;)"><span class="hl_varref"><span class="mpre">decHints</span></span></a><span class="mpre"> </span><a href="#loc_39_52_39_53" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_52_39_53&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre"> | </span><a name="loc_39_52_39_53" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_52_39_53&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">moduleDecls</span></span><span class="mpre"> </span><a href="#loc_41_12_41_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_12_41_13&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">] </span><a href="#loc_44_11_44_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_11_44_16&#39;)"><span class="hl_infix"><span class="mpre">`merge`</span></span></a><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre"> [</span><a href="#loc_43_11_43_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_11_43_16&#39;)"><span class="hl_varref"><span class="mpre">order</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">hintComment</span></span><span class="mpre"> </span><a href="#loc_48_9_48_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_9_48_14&#39;)"><span class="hl_varref"><span class="mpre">hints</span></span></a><span class="mpre"> </span><a href="#loc_40_50_40_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_50_40_51&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> | </span><a name="loc_40_50_40_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_50_40_51&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_41_14_41_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_14_41_16&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">]
    | (</span><a name="loc_41_8_41_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_8_41_10&#39;)"><span class="hl_vardecl"><span class="mpre">nm</span></span></a><span class="mpre">,(</span><a name="loc_41_12_41_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_12_41_13&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre">,</span><a name="loc_41_14_41_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_14_41_16&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre">)) &lt;- </span><a href="#loc_47_9_47_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_9_47_12&#39;)"><span class="hl_varref"><span class="mpre">mns</span></span></a><span class="mpre">
    , let </span><a name="loc_42_11_42_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_11_42_19&#39;)"><span class="hl_vardecl"><span class="mpre">decHints</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">hintDecl</span></span><span class="mpre"> </span><a href="#loc_48_9_48_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_9_48_14&#39;)"><span class="hl_varref"><span class="mpre">hints</span></span></a><span class="mpre"> </span><a href="#loc_41_8_41_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_8_41_10&#39;)"><span class="hl_varref"><span class="mpre">nm</span></span></a><span class="mpre"> </span><a href="#loc_41_12_41_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_12_41_13&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- partially apply</span></span><span class="mpre">
    , let </span><a name="loc_43_11_43_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_11_43_16&#39;)"><span class="hl_fundecl"><span class="mpre">order</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">n</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (\</span><span class="hl_vardecl"><span class="mpre">i</span></span><span class="mpre"> -&gt; </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Apply.hs&quot;, srcSpanStartLine = 43, srcSpanStartColumn = 32, srcSpanEndLine = 43, srcSpanEndColumn = 70}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Apply.hs&quot;, srcSpanStartLine = 43, srcSpanStartColumn = 33, srcSpanEndLine = 43, srcSpanEndColumn = 34},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Apply.hs&quot;, srcSpanStartLine = 43, srcSpanStartColumn = 57, srcSp"><span class="mpre">i{ideaModule=moduleName m, ideaDecl=n}</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.List.html#loc_810_1_810_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_810_1_810_7&#39;)"><span class="hl_varref"><span class="mpre">sortBy</span></span></a><span class="mpre"> (</span><a href="Data.Ord.html#loc_37_1_37_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Ord.html#loc_37_1_37_10&#39;)"><span class="hl_varref"><span class="mpre">comparing</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ideaSpan</span></span><span class="mpre">)
    , let </span><a name="loc_44_11_44_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_11_44_16&#39;)"><span class="hl_vardecl"><span class="mpre">merge</span></span></a><span class="mpre"> = </span><a href="Util.html#loc_123_1_123_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Util.html#loc_123_1_123_8&#39;)"><span class="hl_varref"><span class="mpre">mergeBy</span></span></a><span class="mpre"> (</span><a href="Data.Ord.html#loc_37_1_37_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Ord.html#loc_37_1_37_10&#39;)"><span class="hl_varref"><span class="mpre">comparing</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ideaSpan</span></span><span class="mpre">)] </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre">
    [</span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><a href="#loc_78_1_78_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_1_78_9&#39;)"><span class="hl_varref"><span class="mpre">classify</span></span></a><span class="mpre"> </span><a href="#loc_36_12_36_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_12_36_15&#39;)"><span class="hl_varref"><span class="mpre">cls</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">hintModules</span></span><span class="mpre"> </span><a href="#loc_48_9_48_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_9_48_14&#39;)"><span class="hl_varref"><span class="mpre">hints</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><a href="Control.Arrow.html#loc_96_5_96_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Arrow.html#loc_96_5_96_11&#39;)"><span class="hl_varref"><span class="mpre">second</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fst</span></span><span class="mpre">) </span><a href="#loc_47_9_47_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_9_47_12&#39;)"><span class="hl_varref"><span class="mpre">mns</span></span></a><span class="mpre">)]
    where
        </span><a name="loc_47_9_47_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_47_9_47_12&#39;)"><span class="hl_vardecl"><span class="mpre">mns</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">scopeCreate</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fst</span></span><span class="mpre"> </span><a href="Control.Arrow.html#loc_115_5_115_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Arrow.html#loc_115_5_115_10&#39;)"><span class="hl_infix"><span class="mpre">&amp;&amp;&amp;</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">) </span><a href="#loc_36_23_36_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_23_36_25&#39;)"><span class="hl_varref"><span class="mpre">ms</span></span></a><span class="mpre">
        </span><a name="loc_48_9_48_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_9_48_14&#39;)"><span class="hl_vardecl"><span class="mpre">hints</span></span></a><span class="mpre"> = (if </span><span class="hl_varref"><span class="mpre">length</span></span><span class="mpre"> </span><a href="#loc_36_23_36_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_23_36_25&#39;)"><span class="hl_varref"><span class="mpre">ms</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre"> then </span><a href="#loc_49_9_49_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_9_49_18&#39;)"><span class="hl_varref"><span class="mpre">noModules</span></span></a><span class="mpre"> else </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">) </span><a href="#loc_36_16_36_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_16_36_22&#39;)"><span class="hl_varref"><span class="mpre">hints_</span></span></a><span class="mpre">
        </span><a name="loc_49_9_49_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_9_49_18&#39;)"><span class="hl_fundecl"><span class="mpre">noModules</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">h</span></span><span class="mpre"> = </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Apply.hs&quot;, srcSpanStartLine = 49, srcSpanStartColumn = 23, srcSpanEndLine = 49, srcSpanEndColumn = 48}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Apply.hs&quot;, srcSpanStartLine = 49, srcSpanStartColumn = 24, srcSpanEndLine = 49, srcSpanEndColumn = 25},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Apply.hs&quot;, srcSpanStartLine = 49, srcSpanStartColumn = 47, srcSp"><span class="mpre">h{hintModules = \_ -&gt; []}</span></span><span class="mpre"> </span><a href="Data.Monoid.html#loc_82_9_82_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_82_9_82_16&#39;)"><span class="hl_infix"><span class="mpre">`mappend`</span></span></a><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Apply.hs&quot;, srcSpanStartLine = 49, srcSpanStartColumn = 59, srcSpanEndLine = 49, srcSpanEndColumn = 109}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Apply.hs&quot;, srcSpanStartLine = 49, srcSpanStartColumn = 65, srcSpanEndLine = 49, srcSpanEndColumn = 66},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Apply.hs&quot;, srcSpanStartLine = 49, srcSpanStartColumn = 108, src"><span class="mpre">mempty{hintModule = \a b -&gt; hintModules h [(a,b)]}</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Given a list of settings (a way to classify) and a list of hints, run them over a list of modules.</span></span><span class="mpre">
</span><a href="#loc_54_1_54_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_1_54_13&#39;)"><span class="mpre">executeHints</span></a><span class="mpre"> :: [</span><a href="Settings.html#loc_94_6_94_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_94_6_94_13&#39;)"><span class="hl_tyconref"><span class="mpre">Setting</span></span></a><span class="mpre">] -&gt; [(</span><span class="hl_tyconref"><span class="mpre">Module_</span></span><span class="mpre">, [</span><span class="hl_tyconref"><span class="mpre">Comment</span></span><span class="mpre">])] -&gt; [</span><span class="hl_tyconref"><span class="mpre">Idea</span></span><span class="mpre">]
</span><a name="loc_54_1_54_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_1_54_13&#39;)"><span class="hl_fundecl"><span class="mpre">executeHints</span></span></a><span class="mpre"> </span><a name="loc_54_14_54_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_14_54_15&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><a href="#loc_36_1_36_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_1_36_11&#39;)"><span class="hl_varref"><span class="mpre">applyHints</span></span></a><span class="mpre"> [</span><a href="#loc_54_50_54_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_50_54_51&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> | </span><a href="Settings.html#loc_95_7_95_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_95_7_95_22&#39;)"><span class="hl_conref"><span class="mpre">SettingClassify</span></span></a><span class="mpre"> </span><a name="loc_54_50_54_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_50_54_51&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_54_14_54_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_14_54_15&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">] (</span><a href="#loc_71_1_71_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_1_71_9&#39;)"><span class="hl_varref"><span class="mpre">allHints</span></span></a><span class="mpre"> </span><a href="#loc_54_14_54_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_54_14_54_15&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">-- | Return either an idea (a parse error) or the module. In IO because might call the C pre processor.</span></span><span class="mpre">
</span><a href="#loc_59_1_59_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_1_59_17&#39;)"><span class="mpre">parseModuleApply</span></a><span class="mpre"> :: </span><a href="HSE.All.html#loc_27_6_27_16" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.All.html#loc_27_6_27_16&#39;)"><span class="hl_tyconref"><span class="mpre">ParseFlags</span></span></a><span class="mpre"> -&gt; [</span><a href="Settings.html#loc_94_6_94_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_94_6_94_13&#39;)"><span class="hl_tyconref"><span class="mpre">Setting</span></span></a><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Idea</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Module_</span></span><span class="mpre">, [</span><span class="hl_tyconref"><span class="mpre">Comment</span></span><span class="mpre">]))
</span><a name="loc_59_1_59_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_1_59_17&#39;)"><span class="hl_fundecl"><span class="mpre">parseModuleApply</span></span></a><span class="mpre"> </span><a name="loc_59_18_59_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_18_59_23&#39;)"><span class="hl_vardecl"><span class="mpre">flags</span></span></a><span class="mpre"> </span><a name="loc_59_24_59_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_24_59_25&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> </span><a name="loc_59_26_59_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_26_59_30&#39;)"><span class="hl_vardecl"><span class="mpre">file</span></span></a><span class="mpre"> </span><a name="loc_59_31_59_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_31_59_34&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre"> = do
    </span><a name="loc_60_5_60_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_5_60_8&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> &lt;- </span><a href="HSE.All.html#loc_68_1_68_14" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.All.html#loc_68_1_68_14&#39;)"><span class="hl_varref"><span class="mpre">parseModuleEx</span></span></a><span class="mpre"> (</span><a href="HSE.All.html#loc_42_1_42_22" onmouseover="nemnem.highlightLocalToRemote(&#39;HSE.All.html#loc_42_1_42_22&#39;)"><span class="hl_varref"><span class="mpre">parseFlagsAddFixities</span></span></a><span class="mpre"> [</span><a href="#loc_60_60_60_61" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_60_60_61&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> | </span><a href="Settings.html#loc_98_7_98_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_98_7_98_12&#39;)"><span class="hl_conref"><span class="mpre">Infix</span></span></a><span class="mpre"> </span><a name="loc_60_60_60_61" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_60_60_61&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_59_24_59_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_24_59_25&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">] </span><a href="#loc_59_18_59_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_18_59_23&#39;)"><span class="hl_varref"><span class="mpre">flags</span></span></a><span class="mpre">) </span><a href="#loc_59_26_59_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_26_59_30&#39;)"><span class="hl_varref"><span class="mpre">file</span></span></a><span class="mpre"> </span><a href="#loc_59_31_59_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_31_59_34&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre">
    case </span><a href="#loc_60_5_60_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_5_60_8&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre"> of
        </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a name="loc_62_15_62_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_15_62_16&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a href="#loc_62_15_62_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_15_62_16&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">
        </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">ParseError</span></span><span class="mpre"> </span><a name="loc_63_26_63_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_26_63_28&#39;)"><span class="hl_vardecl"><span class="mpre">sl</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">msg</span></span><span class="mpre"> </span><a name="loc_63_33_63_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_33_63_37&#39;)"><span class="hl_vardecl"><span class="mpre">ctxt</span></span></a><span class="mpre">) -&gt; do
            </span><a name="loc_64_13_64_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_13_64_14&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">rawIdea</span></span><span class="mpre"> </span><a href="Settings.html#loc_25_7_25_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_25_7_25_14&#39;)"><span class="hl_conref"><span class="mpre">Warning</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Parse error&quot;</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">mkSrcSpan</span></span><span class="mpre"> </span><a href="#loc_63_26_63_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_26_63_28&#39;)"><span class="hl_varref"><span class="mpre">sl</span></span></a><span class="mpre"> </span><a href="#loc_63_26_63_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_26_63_28&#39;)"><span class="hl_varref"><span class="mpre">sl</span></span></a><span class="mpre">) </span><a href="#loc_63_33_63_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_33_63_37&#39;)"><span class="hl_varref"><span class="mpre">ctxt</span></span></a><span class="mpre"> </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> []
            </span><span class="hl_vardecl"><span class="mpre">i</span></span><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_78_1_78_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_1_78_9&#39;)"><span class="hl_varref"><span class="mpre">classify</span></span></a><span class="mpre"> [</span><a href="#loc_65_57_65_58" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_57_65_58&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> | </span><a href="Settings.html#loc_95_7_95_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_95_7_95_22&#39;)"><span class="hl_conref"><span class="mpre">SettingClassify</span></span></a><span class="mpre"> </span><a name="loc_65_57_65_58" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_57_65_58&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_59_24_59_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_24_59_25&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">] </span><a href="#loc_64_13_64_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_13_64_14&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">
            </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Apply.hs&quot;, srcSpanStartLine = 66, srcSpanStartColumn = 27, srcSpanEndLine = 66, srcSpanEndColumn = 111}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Apply.hs&quot;, srcSpanStartLine = 66, srcSpanStartColumn = 28, srcSpanEndLine = 66, srcSpanEndColumn = 29},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Apply.hs&quot;, srcSpanStartLine = 66, srcSpanStartColumn = 110, src"><span class="mpre">i{ideaHint = if &quot;Parse error&quot; `isPrefixOf` msg then msg else &quot;Parse error: &quot; ++ msg}</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Find which hints a list of settings implies.</span></span><span class="mpre">
</span><a href="#loc_71_1_71_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_1_71_9&#39;)"><span class="mpre">allHints</span></a><span class="mpre"> :: [</span><a href="Settings.html#loc_94_6_94_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_94_6_94_13&#39;)"><span class="hl_tyconref"><span class="mpre">Setting</span></span></a><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">Hint</span></span><span class="mpre">
</span><a name="loc_71_1_71_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_1_71_9&#39;)"><span class="hl_fundecl"><span class="mpre">allHints</span></span></a><span class="mpre"> </span><a name="loc_71_10_71_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_10_71_12&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> = </span><a href="Data.Monoid.html#loc_84_9_84_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_84_9_84_16&#39;)"><span class="hl_varref"><span class="mpre">mconcat</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Hint.All.html#loc_50_1_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Hint.All.html#loc_50_1_50_10&#39;)"><span class="hl_varref"><span class="mpre">hintRules</span></span></a><span class="mpre"> [</span><a href="#loc_71_56_71_57" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_56_71_57&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> | </span><a href="Settings.html#loc_96_7_96_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_96_7_96_22&#39;)"><span class="hl_conref"><span class="mpre">SettingMatchExp</span></span></a><span class="mpre"> </span><a name="loc_71_56_71_57" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_56_71_57&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_71_10_71_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_10_71_12&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">] </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><a href="#loc_73_11_73_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_11_73_12&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_72_11_72_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_11_72_18&#39;)"><span class="hl_varref"><span class="mpre">builtin</span></span></a><span class="mpre">
    where </span><a name="loc_72_11_72_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_11_72_18&#39;)"><span class="hl_vardecl"><span class="mpre">builtin</span></span></a><span class="mpre"> = </span><a href="Data.List.html#loc_314_1_314_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_314_1_314_4&#39;)"><span class="hl_varref"><span class="mpre">nub</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">concat</span></span><span class="mpre"> [if </span><a href="#loc_72_94_72_95" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_94_72_95&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;All&quot;</span></span><span class="mpre"> then </span><span class="hl_varref"><span class="mpre">map</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fst</span></span><span class="mpre"> </span><a href="Hint.All.html#loc_28_1_28_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Hint.All.html#loc_28_1_28_13&#39;)"><span class="hl_varref"><span class="mpre">builtinHints</span></span></a><span class="mpre"> else [</span><a href="#loc_72_94_72_95" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_94_72_95&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">] | </span><a href="Settings.html#loc_97_7_97_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_97_7_97_14&#39;)"><span class="hl_conref"><span class="mpre">Builtin</span></span></a><span class="mpre"> </span><a name="loc_72_94_72_95" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_72_94_72_95&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_71_10_71_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_71_10_71_12&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">]
          </span><a name="loc_73_11_73_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_11_73_12&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_73_13_73_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_13_73_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><a href="Data.Maybe.html#loc_98_1_98_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_98_1_98_10&#39;)"><span class="hl_varref"><span class="mpre">fromMaybe</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Unknown builtin hints: HLint.Builtin.&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_73_13_73_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_13_73_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">lookup</span></span><span class="mpre"> </span><a href="#loc_73_13_73_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_13_73_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="Hint.All.html#loc_28_1_28_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Hint.All.html#loc_28_1_28_13&#39;)"><span class="hl_varref"><span class="mpre">builtinHints</span></span></a><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Given some settings, make sure the severity field of the Idea is correct.</span></span><span class="mpre">
</span><a href="#loc_78_1_78_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_1_78_9&#39;)"><span class="mpre">classify</span></a><span class="mpre"> :: [</span><a href="Settings.html#loc_74_6_74_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_74_6_74_14&#39;)"><span class="hl_tyconref"><span class="mpre">Classify</span></span></a><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">Idea</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Idea</span></span><span class="mpre">
</span><a name="loc_78_1_78_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_1_78_9&#39;)"><span class="hl_fundecl"><span class="mpre">classify</span></span></a><span class="mpre"> </span><a name="loc_78_10_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_10_78_12&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> </span><a name="loc_78_13_78_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_13_78_14&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> =  let </span><a name="loc_78_22_78_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_22_78_23&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><a href="Data.List.html#loc_993_1_993_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_993_1_993_7&#39;)"><span class="hl_varref"><span class="mpre">foldl&#39;</span></span></a><span class="mpre"> (</span><a href="#loc_82_9_82_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_9_82_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_78_13_78_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_13_78_14&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">ideaSeverity</span></span><span class="mpre"> </span><a href="#loc_78_13_78_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_13_78_14&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">) </span><a href="#loc_78_10_78_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_10_78_12&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre"> in </span><a href="#loc_78_22_78_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_78_22_78_23&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`seq`</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Apply.hs&quot;, srcSpanStartLine = 78, srcSpanStartColumn = 70, srcSpanEndLine = 78, srcSpanEndColumn = 87}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Apply.hs&quot;, srcSpanStartLine = 78, srcSpanStartColumn = 71, srcSpanEndLine = 78, srcSpanEndColumn = 72},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hlint-1.9/src/Apply.hs&quot;, srcSpanStartLine = 78, srcSpanStartColumn = 86, srcSp"><span class="mpre">i{ideaSeverity=s}</span></span><span class="mpre">
    where
        </span><span class="hl_comment"><span class="mpre">-- figure out if we need to change the severity</span></span><span class="mpre">
        </span><a href="#loc_82_9_82_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_9_82_10&#39;)"><span class="mpre">f</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Idea</span></span><span class="mpre"> -&gt; </span><a href="Settings.html#loc_23_6_23_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_23_6_23_14&#39;)"><span class="hl_tyconref"><span class="mpre">Severity</span></span></a><span class="mpre"> -&gt; </span><a href="Settings.html#loc_74_6_74_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_74_6_74_14&#39;)"><span class="hl_tyconref"><span class="mpre">Classify</span></span></a><span class="mpre"> -&gt; </span><a href="Settings.html#loc_23_6_23_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_23_6_23_14&#39;)"><span class="hl_tyconref"><span class="mpre">Severity</span></span></a><span class="mpre">
        </span><a name="loc_82_9_82_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_9_82_10&#39;)"><span class="hl_fundecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_82_11_82_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_11_82_12&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> </span><a name="loc_82_13_82_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_13_82_14&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> </span><a name="loc_82_15_82_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_15_82_16&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> | </span><a href="Settings.html#loc_76_6_76_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_76_6_76_18&#39;)"><span class="hl_varref"><span class="mpre">classifyHint</span></span></a><span class="mpre"> </span><a href="#loc_82_15_82_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_15_82_16&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_84_11_84_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_11_84_13&#39;)"><span class="hl_infix"><span class="mpre">~=</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ideaHint</span></span><span class="mpre"> </span><a href="#loc_82_11_82_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_11_82_12&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Settings.html#loc_77_6_77_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_77_6_77_20&#39;)"><span class="hl_varref"><span class="mpre">classifyModule</span></span></a><span class="mpre"> </span><a href="#loc_82_15_82_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_15_82_16&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_84_11_84_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_11_84_13&#39;)"><span class="hl_infix"><span class="mpre">~=</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ideaModule</span></span><span class="mpre"> </span><a href="#loc_82_11_82_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_11_82_12&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="Settings.html#loc_78_6_78_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_78_6_78_18&#39;)"><span class="hl_varref"><span class="mpre">classifyDecl</span></span></a><span class="mpre"> </span><a href="#loc_82_15_82_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_15_82_16&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_84_11_84_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_11_84_13&#39;)"><span class="hl_infix"><span class="mpre">~=</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ideaDecl</span></span><span class="mpre"> </span><a href="#loc_82_11_82_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_11_82_12&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> = </span><a href="Settings.html#loc_75_6_75_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Settings.html#loc_75_6_75_22&#39;)"><span class="hl_varref"><span class="mpre">classifySeverity</span></span></a><span class="mpre"> </span><a href="#loc_82_15_82_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_15_82_16&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
                | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_82_13_82_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_82_13_82_14&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
        </span><a name="loc_84_9_84_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_9_84_10&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_84_11_84_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_11_84_13&#39;)"><span class="hl_fundecl"><span class="mpre">~=</span></span></a><span class="mpre"> </span><a name="loc_84_14_84_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_14_84_15&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">null</span></span><span class="mpre"> </span><a href="#loc_84_9_84_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_9_84_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">||</span></span><span class="mpre"> </span><a href="#loc_84_9_84_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_9_84_10&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_84_14_84_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_84_14_84_15&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">
</span></div></body></html>