<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE Trustworthy #-}
{-# LANGUAGE NoImplicitPrelude #-}
{-# OPTIONS_GHC -funbox-strict-fields #-}

</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  GHC.IO.BufferedIO</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (c) The University of Glasgow 2008</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  see libraries/base/LICENSE</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- </span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  cvs-ghc@haskell.org</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  internal</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  non-portable (GHC Extensions)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Class of buffered IO devices</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">

module GHC.IO.BufferedIO (
        BufferedIO(..),
        readBuf, readBufNonBlocking, writeBuf, writeBufNonBlocking
    ) where

import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 24, srcSpanStartColumn = 8, srcSpanEndLine = 24, srcSpanEndColumn = 16}, srcInfoPoints = []}) &quot;GHC.Base&quot;"><span class="mpre">GHC.Base</span></span><span class="mpre">
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 25, srcSpanStartColumn = 8, srcSpanEndLine = 25, srcSpanEndColumn = 15}, srcInfoPoints = []}) &quot;GHC.Ptr&quot;"><span class="mpre">GHC.Ptr</span></span><span class="mpre">
import Data.Word
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 27, srcSpanStartColumn = 8, srcSpanEndLine = 27, srcSpanEndColumn = 15}, srcInfoPoints = []}) &quot;GHC.Num&quot;"><span class="mpre">GHC.Num</span></span><span class="mpre">
import Data.Maybe
import GHC.IO.Device as IODevice
import GHC.IO.Device as RawIO
import GHC.IO.Buffer

</span><span class="hl_comment"><span class="mpre">-- | The purpose of &#39;BufferedIO&#39; is to provide a common interface for I/O</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- devices that can read and write data through a buffer.  Devices that</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- implement &#39;BufferedIO&#39; include ordinary files, memory-mapped files,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and bytestrings.  The underlying device implementing a &#39;Handle&#39; must</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- provide &#39;BufferedIO&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
class </span><a name="loc_39_7_39_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_7_39_17&#39;)"><span class="hl_classdecl"><span class="mpre">BufferedIO</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">dev</span></span><span class="mpre"> where
  </span><span class="hl_comment"><span class="mpre">-- | allocate a new buffer.  The size of the buffer is at the</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- discretion of the device; e.g. for a memory-mapped file the</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- buffer will probably cover the entire file.</span></span><span class="mpre">
  </span><a name="loc_43_3_43_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_3_43_12&#39;)"><span class="mpre">newBuffer</span></a><span class="mpre">         :: </span><span class="hl_tyvar"><span class="mpre">dev</span></span><span class="mpre"> -&gt; </span><a href="GHC.IO.Buffer.html#loc_195_6_195_17" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_195_6_195_17&#39;)"><span class="hl_tyconref"><span class="mpre">BufferState</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><a href="GHC.IO.Buffer.html#loc_180_6_180_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_180_6_180_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">)

  </span><span class="hl_comment"><span class="mpre">-- | reads bytes into the buffer, blocking if there are no bytes</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- available.  Returns the number of bytes read (zero indicates</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- end-of-file), and the new buffer.</span></span><span class="mpre">
  </span><a name="loc_48_3_48_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_3_48_17&#39;)"><span class="mpre">fillReadBuffer</span></a><span class="mpre">    :: </span><span class="hl_tyvar"><span class="mpre">dev</span></span><span class="mpre"> -&gt; </span><a href="GHC.IO.Buffer.html#loc_180_6_180_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_180_6_180_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">, </span><a href="GHC.IO.Buffer.html#loc_180_6_180_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_180_6_180_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">)

  </span><span class="hl_comment"><span class="mpre">-- | reads bytes into the buffer without blocking.  Returns the</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- number of bytes read (Nothing indicates end-of-file), and the new</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- buffer.</span></span><span class="mpre">
  </span><a name="loc_53_3_53_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_53_3_53_18&#39;)"><span class="mpre">fillReadBuffer0</span></a><span class="mpre">   :: </span><span class="hl_tyvar"><span class="mpre">dev</span></span><span class="mpre"> -&gt; </span><a href="GHC.IO.Buffer.html#loc_180_6_180_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_180_6_180_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">, </span><a href="GHC.IO.Buffer.html#loc_180_6_180_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_180_6_180_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">)

  </span><span class="hl_comment"><span class="mpre">-- | Prepares an empty write buffer.  This lets the device decide</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- how to set up a write buffer: the buffer may need to point to a</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- specific location in memory, for example.  This is typically used</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- by the client when switching from reading to writing on a</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- buffered read/write device.</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- There is no corresponding operation for read buffers, because before</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- reading the client will always call &#39;fillReadBuffer&#39;.</span></span><span class="mpre">
  </span><a name="loc_63_3_63_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_3_63_19&#39;)"><span class="mpre">emptyWriteBuffer</span></a><span class="mpre">  :: </span><span class="hl_tyvar"><span class="mpre">dev</span></span><span class="mpre"> -&gt; </span><a href="GHC.IO.Buffer.html#loc_180_6_180_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_180_6_180_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><a href="GHC.IO.Buffer.html#loc_180_6_180_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_180_6_180_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">)
  </span><a href="#loc_63_3_63_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_3_63_19&#39;)"><span class="hl_fundecl"><span class="mpre">emptyWriteBuffer</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">_dev</span></span><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">buf</span></span><span class="mpre"> 
    = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 65, srcSpanStartColumn = 14, srcSpanEndLine = 65, srcSpanEndColumn = 59}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 65, srcSpanStartColumn = 17, srcSpanEndLine = 65, srcSpanEndColumn = 18},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 6"><span class="mpre">buf{ bufL=0, bufR=0, bufState = WriteBuffer }</span></span><span class="mpre">

  </span><span class="hl_comment"><span class="mpre">-- | Flush all the data from the supplied write buffer out to the device.</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- The returned buffer should be empty, and ready for writing.</span></span><span class="mpre">
  </span><a name="loc_69_3_69_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_69_3_69_19&#39;)"><span class="mpre">flushWriteBuffer</span></a><span class="mpre">  :: </span><span class="hl_tyvar"><span class="mpre">dev</span></span><span class="mpre"> -&gt; </span><a href="GHC.IO.Buffer.html#loc_180_6_180_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_180_6_180_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><a href="GHC.IO.Buffer.html#loc_180_6_180_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_180_6_180_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">)

  </span><span class="hl_comment"><span class="mpre">-- | Flush data from the supplied write buffer out to the device</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- without blocking.  Returns the number of bytes written and the</span></span><span class="mpre">
  </span><span class="hl_comment"><span class="mpre">-- remaining buffer.</span></span><span class="mpre">
  </span><a name="loc_74_3_74_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_3_74_20&#39;)"><span class="mpre">flushWriteBuffer0</span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">dev</span></span><span class="mpre"> -&gt; </span><a href="GHC.IO.Buffer.html#loc_180_6_180_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_180_6_180_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">, </span><a href="GHC.IO.Buffer.html#loc_180_6_180_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_180_6_180_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- for an I/O device, these operations will perform reading/writing</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- to/from the device.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- for a memory-mapped file, the buffer will be the whole file in</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- memory.  fillReadBuffer sets the pointers to encompass the whole</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- file, and flushWriteBuffer needs to do no I/O.  A memory-mapped</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- file has to maintain its own file pointer.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- for a bytestring, again the buffer should match the bytestring in</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- memory.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- ---------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Low-level read/write to/from buffers</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- These operations make it easy to implement an instance of &#39;BufferedIO&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- for an object that supports &#39;RawIO&#39;.</span></span><span class="mpre">

</span><a href="#loc_94_1_94_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_1_94_8&#39;)"><span class="mpre">readBuf</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 93, srcSpanStartColumn = 12, srcSpanEndLine = 93, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 93, srcSpanStartColumn = 22, srcSpanEndLine = 93, srcSpanEndColumn = 24}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/I"><span class="mpre">RawIO dev =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">dev</span></span><span class="mpre"> -&gt; </span><a href="GHC.IO.Buffer.html#loc_180_6_180_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_180_6_180_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">, </span><a href="GHC.IO.Buffer.html#loc_180_6_180_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_180_6_180_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">)
</span><a name="loc_94_1_94_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_1_94_8&#39;)"><span class="hl_fundecl"><span class="mpre">readBuf</span></span></a><span class="mpre"> </span><a name="loc_94_9_94_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_9_94_12&#39;)"><span class="hl_vardecl"><span class="mpre">dev</span></span></a><span class="mpre"> </span><a name="loc_94_13_94_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_13_94_17&#39;)"><span class="hl_vardecl"><span class="mpre">bbuf</span></span></a><span class="mpre"> = do
  let </span><a name="loc_95_7_95_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_7_95_12&#39;)"><span class="hl_vardecl"><span class="mpre">bytes</span></span></a><span class="mpre"> = </span><a href="GHC.IO.Buffer.html#loc_226_1_226_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_226_1_226_16&#39;)"><span class="hl_varref"><span class="mpre">bufferAvailable</span></span></a><span class="mpre"> </span><a href="#loc_94_13_94_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_13_94_17&#39;)"><span class="hl_varref"><span class="mpre">bbuf</span></span></a><span class="mpre">
  </span><a name="loc_96_3_96_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_3_96_6&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.Buffer.html#loc_198_1_198_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_198_1_198_11&#39;)"><span class="hl_varref"><span class="mpre">withBuffer</span></span></a><span class="mpre"> </span><a href="#loc_94_13_94_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_13_94_17&#39;)"><span class="hl_varref"><span class="mpre">bbuf</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_96_29_96_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_29_96_32&#39;)"><span class="hl_vardecl"><span class="mpre">ptr</span></span></a><span class="mpre"> -&gt;
             </span><a href="GHC.IO.Device.html#loc_45_3_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_45_3_45_7&#39;)"><span class="hl_varref"><span class="mpre">RawIO.read</span></span></a><span class="mpre"> </span><a href="#loc_94_9_94_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_9_94_12&#39;)"><span class="hl_varref"><span class="mpre">dev</span></span></a><span class="mpre"> (</span><a href="#loc_96_29_96_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_29_96_32&#39;)"><span class="hl_varref"><span class="mpre">ptr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`plusPtr`</span></span><span class="mpre"> </span><a href="GHC.IO.Buffer.html#loc_186_9_186_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_186_9_186_13&#39;)"><span class="hl_varref"><span class="mpre">bufR</span></span></a><span class="mpre"> </span><a href="#loc_94_13_94_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_13_94_17&#39;)"><span class="hl_varref"><span class="mpre">bbuf</span></span></a><span class="mpre">) </span><a href="#loc_95_7_95_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_95_7_95_12&#39;)"><span class="hl_varref"><span class="mpre">bytes</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_96_3_96_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_96_3_96_6&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre">, </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 98, srcSpanStartColumn = 16, srcSpanEndLine = 98, srcSpanEndColumn = 46}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 98, srcSpanStartColumn = 20, srcSpanEndLine = 98, srcSpanEndColumn = 21},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 9"><span class="mpre">bbuf{ bufR = bufR bbuf + res }</span></span><span class="mpre">)
         </span><span class="hl_comment"><span class="mpre">-- zero indicates end of file</span></span><span class="mpre">

</span><a href="#loc_105_1_105_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_1_105_19&#39;)"><span class="mpre">readBufNonBlocking</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 101, srcSpanStartColumn = 23, srcSpanEndLine = 101, srcSpanEndColumn = 35}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 101, srcSpanStartColumn = 33, srcSpanEndLine = 101, srcSpanEndColumn = 35}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/G"><span class="mpre">RawIO dev =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">dev</span></span><span class="mpre"> -&gt; </span><a href="GHC.IO.Buffer.html#loc_180_6_180_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_180_6_180_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">
                     -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">,   </span><span class="hl_comment"><span class="mpre">-- Nothing ==&gt; end of file</span></span><span class="mpre">
                                         </span><span class="hl_comment"><span class="mpre">-- Just n  ==&gt; n bytes were read (n&gt;=0)</span></span><span class="mpre">
                            </span><a href="GHC.IO.Buffer.html#loc_180_6_180_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_180_6_180_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">)
</span><a name="loc_105_1_105_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_1_105_19&#39;)"><span class="hl_fundecl"><span class="mpre">readBufNonBlocking</span></span></a><span class="mpre"> </span><a name="loc_105_20_105_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_20_105_23&#39;)"><span class="hl_vardecl"><span class="mpre">dev</span></span></a><span class="mpre"> </span><a name="loc_105_24_105_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_24_105_28&#39;)"><span class="hl_vardecl"><span class="mpre">bbuf</span></span></a><span class="mpre"> = do
  let </span><a name="loc_106_7_106_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_7_106_12&#39;)"><span class="hl_vardecl"><span class="mpre">bytes</span></span></a><span class="mpre"> = </span><a href="GHC.IO.Buffer.html#loc_226_1_226_16" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_226_1_226_16&#39;)"><span class="hl_varref"><span class="mpre">bufferAvailable</span></span></a><span class="mpre"> </span><a href="#loc_105_24_105_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_24_105_28&#39;)"><span class="hl_varref"><span class="mpre">bbuf</span></span></a><span class="mpre">
  </span><a name="loc_107_3_107_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_3_107_6&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.Buffer.html#loc_198_1_198_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_198_1_198_11&#39;)"><span class="hl_varref"><span class="mpre">withBuffer</span></span></a><span class="mpre"> </span><a href="#loc_105_24_105_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_24_105_28&#39;)"><span class="hl_varref"><span class="mpre">bbuf</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_107_29_107_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_29_107_32&#39;)"><span class="hl_vardecl"><span class="mpre">ptr</span></span></a><span class="mpre"> -&gt;
           </span><a href="GHC.IO.Device.html#loc_50_3_50_18" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_50_3_50_18&#39;)"><span class="hl_varref"><span class="mpre">IODevice.readNonBlocking</span></span></a><span class="mpre"> </span><a href="#loc_105_20_105_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_20_105_23&#39;)"><span class="hl_varref"><span class="mpre">dev</span></span></a><span class="mpre"> (</span><a href="#loc_107_29_107_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_29_107_32&#39;)"><span class="hl_varref"><span class="mpre">ptr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`plusPtr`</span></span><span class="mpre"> </span><a href="GHC.IO.Buffer.html#loc_186_9_186_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_186_9_186_13&#39;)"><span class="hl_varref"><span class="mpre">bufR</span></span></a><span class="mpre"> </span><a href="#loc_105_24_105_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_24_105_28&#39;)"><span class="hl_varref"><span class="mpre">bbuf</span></span></a><span class="mpre">) </span><a href="#loc_106_7_106_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_7_106_12&#39;)"><span class="hl_varref"><span class="mpre">bytes</span></span></a><span class="mpre">
  case </span><a href="#loc_107_3_107_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_107_3_107_6&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre"> of
     </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">, </span><a href="#loc_105_24_105_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_24_105_28&#39;)"><span class="hl_varref"><span class="mpre">bbuf</span></span></a><span class="mpre">)
     </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a name="loc_111_11_111_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_11_111_12&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre">  -&gt; </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a href="#loc_111_11_111_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_11_111_12&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">, </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 111, srcSpanStartColumn = 33, srcSpanEndLine = 111, srcSpanEndColumn = 61}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 111, srcSpanStartColumn = 37, srcSpanEndLine = 111, srcSpanEndColumn = 38},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine"><span class="mpre">bbuf{ bufR = bufR bbuf + n }</span></span><span class="mpre">)

</span><a href="#loc_114_1_114_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_1_114_9&#39;)"><span class="mpre">writeBuf</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 113, srcSpanStartColumn = 13, srcSpanEndLine = 113, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 113, srcSpanStartColumn = 23, srcSpanEndLine = 113, srcSpanEndColumn = 25}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/G"><span class="mpre">RawIO dev =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">dev</span></span><span class="mpre"> -&gt; </span><a href="GHC.IO.Buffer.html#loc_180_6_180_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_180_6_180_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><a href="GHC.IO.Buffer.html#loc_180_6_180_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_180_6_180_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">)
</span><a name="loc_114_1_114_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_1_114_9&#39;)"><span class="hl_fundecl"><span class="mpre">writeBuf</span></span></a><span class="mpre"> </span><a name="loc_114_10_114_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_10_114_13&#39;)"><span class="hl_vardecl"><span class="mpre">dev</span></span></a><span class="mpre"> </span><a name="loc_114_14_114_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_14_114_18&#39;)"><span class="hl_vardecl"><span class="mpre">bbuf</span></span></a><span class="mpre"> = do
  let </span><a name="loc_115_7_115_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_7_115_12&#39;)"><span class="hl_vardecl"><span class="mpre">bytes</span></span></a><span class="mpre"> = </span><a href="GHC.IO.Buffer.html#loc_223_1_223_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_223_1_223_12&#39;)"><span class="hl_varref"><span class="mpre">bufferElems</span></span></a><span class="mpre"> </span><a href="#loc_114_14_114_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_14_114_18&#39;)"><span class="hl_varref"><span class="mpre">bbuf</span></span></a><span class="mpre">
  </span><a href="GHC.IO.Buffer.html#loc_198_1_198_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_198_1_198_11&#39;)"><span class="hl_varref"><span class="mpre">withBuffer</span></span></a><span class="mpre"> </span><a href="#loc_114_14_114_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_14_114_18&#39;)"><span class="hl_varref"><span class="mpre">bbuf</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_116_22_116_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_22_116_25&#39;)"><span class="hl_vardecl"><span class="mpre">ptr</span></span></a><span class="mpre"> -&gt;
      </span><a href="GHC.IO.Device.html#loc_53_3_53_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_53_3_53_8&#39;)"><span class="hl_varref"><span class="mpre">IODevice.write</span></span></a><span class="mpre"> </span><a href="#loc_114_10_114_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_10_114_13&#39;)"><span class="hl_varref"><span class="mpre">dev</span></span></a><span class="mpre"> (</span><a href="#loc_116_22_116_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_22_116_25&#39;)"><span class="hl_varref"><span class="mpre">ptr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`plusPtr`</span></span><span class="mpre"> </span><a href="GHC.IO.Buffer.html#loc_185_9_185_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_185_9_185_13&#39;)"><span class="hl_varref"><span class="mpre">bufL</span></span></a><span class="mpre"> </span><a href="#loc_114_14_114_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_14_114_18&#39;)"><span class="hl_varref"><span class="mpre">bbuf</span></span></a><span class="mpre">) </span><a href="#loc_115_7_115_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_7_115_12&#39;)"><span class="hl_varref"><span class="mpre">bytes</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 118, srcSpanStartColumn = 10, srcSpanEndLine = 118, srcSpanEndColumn = 32}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 118, srcSpanStartColumn = 14, srcSpanEndLine = 118, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine"><span class="mpre">bbuf{ bufL=0, bufR=0 }</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- XXX ToDo</span></span><span class="mpre">
</span><a href="#loc_122_1_122_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_1_122_20&#39;)"><span class="mpre">writeBufNonBlocking</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 121, srcSpanStartColumn = 24, srcSpanEndLine = 121, srcSpanEndColumn = 36}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/BufferedIO.hs&quot;, srcSpanStartLine = 121, srcSpanStartColumn = 34, srcSpanEndLine = 121, srcSpanEndColumn = 36}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/G"><span class="mpre">RawIO dev =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">dev</span></span><span class="mpre"> -&gt; </span><a href="GHC.IO.Buffer.html#loc_180_6_180_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_180_6_180_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre">, </span><a href="GHC.IO.Buffer.html#loc_180_6_180_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_180_6_180_12&#39;)"><span class="hl_tyconref"><span class="mpre">Buffer</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">)
</span><a name="loc_122_1_122_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_1_122_20&#39;)"><span class="hl_fundecl"><span class="mpre">writeBufNonBlocking</span></span></a><span class="mpre"> </span><a name="loc_122_21_122_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_21_122_24&#39;)"><span class="hl_vardecl"><span class="mpre">dev</span></span></a><span class="mpre"> </span><a name="loc_122_25_122_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_25_122_29&#39;)"><span class="hl_vardecl"><span class="mpre">bbuf</span></span></a><span class="mpre"> = do
  let </span><a name="loc_123_7_123_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_7_123_12&#39;)"><span class="hl_vardecl"><span class="mpre">bytes</span></span></a><span class="mpre"> = </span><a href="GHC.IO.Buffer.html#loc_223_1_223_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_223_1_223_12&#39;)"><span class="hl_varref"><span class="mpre">bufferElems</span></span></a><span class="mpre"> </span><a href="#loc_122_25_122_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_25_122_29&#39;)"><span class="hl_varref"><span class="mpre">bbuf</span></span></a><span class="mpre">
  </span><a name="loc_124_3_124_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_3_124_6&#39;)"><span class="hl_vardecl"><span class="mpre">res</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.Buffer.html#loc_198_1_198_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_198_1_198_11&#39;)"><span class="hl_varref"><span class="mpre">withBuffer</span></span></a><span class="mpre"> </span><a href="#loc_122_25_122_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_25_122_29&#39;)"><span class="hl_varref"><span class="mpre">bbuf</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_124_29_124_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_29_124_32&#39;)"><span class="hl_vardecl"><span class="mpre">ptr</span></span></a><span class="mpre"> -&gt;
            </span><a href="GHC.IO.Device.html#loc_57_3_57_19" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Device.html#loc_57_3_57_19&#39;)"><span class="hl_varref"><span class="mpre">IODevice.writeNonBlocking</span></span></a><span class="mpre"> </span><a href="#loc_122_21_122_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_21_122_24&#39;)"><span class="hl_varref"><span class="mpre">dev</span></span></a><span class="mpre"> (</span><a href="#loc_124_29_124_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_29_124_32&#39;)"><span class="hl_varref"><span class="mpre">ptr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`plusPtr`</span></span><span class="mpre"> </span><a href="GHC.IO.Buffer.html#loc_185_9_185_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_185_9_185_13&#39;)"><span class="hl_varref"><span class="mpre">bufL</span></span></a><span class="mpre"> </span><a href="#loc_122_25_122_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_25_122_29&#39;)"><span class="hl_varref"><span class="mpre">bbuf</span></span></a><span class="mpre">) </span><a href="#loc_123_7_123_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_123_7_123_12&#39;)"><span class="hl_varref"><span class="mpre">bytes</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_124_3_124_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_3_124_6&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre">, </span><a href="GHC.IO.Buffer.html#loc_232_1_232_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_232_1_232_14&#39;)"><span class="hl_varref"><span class="mpre">bufferAdjustL</span></span></a><span class="mpre"> (</span><a href="GHC.IO.Buffer.html#loc_185_9_185_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_185_9_185_13&#39;)"><span class="hl_varref"><span class="mpre">bufL</span></span></a><span class="mpre"> </span><a href="#loc_122_25_122_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_25_122_29&#39;)"><span class="hl_varref"><span class="mpre">bbuf</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_124_3_124_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_124_3_124_6&#39;)"><span class="hl_varref"><span class="mpre">res</span></span></a><span class="mpre">) </span><a href="#loc_122_25_122_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_122_25_122_29&#39;)"><span class="hl_varref"><span class="mpre">bbuf</span></span></a><span class="mpre">)

</span></div></body></html>