<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP #-}
{-# LANGUAGE GADTs #-}
{-# LANGUAGE Rank2Types #-}
{-# LANGUAGE FlexibleContexts #-}
{-# LANGUAGE FlexibleInstances #-}
{-# LANGUAGE ScopedTypeVariables #-}
{-# LANGUAGE MultiParamTypeClasses #-}
#ifdef TRUSTWORTHY
{-# LANGUAGE Trustworthy #-}
#endif

#ifndef MIN_VERSION_mtl
#define MIN_VERSION_mtl(x,y,z) 1
#endif
</span><span class="hl_comment"><span class="mpre">-------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Control.Lens.Lens</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (C) 2012-14 Edward Kmett</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  BSD-style (see the file LICENSE)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  provisional</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  Rank2Types</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- A @&#39;Lens&#39; s t a b@ is a purely functional reference.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- While a &#39;Control.Lens.Traversal.Traversal&#39; could be used for</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Control.Lens.Getter.Getting&#39; like a valid &#39;Control.Lens.Fold.Fold&#39;,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- it wasn&#39;t a valid &#39;Control.Lens.Getter.Getter&#39; as &#39;Applicative&#39; wasn&#39;t a superclass of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Control.Lens.Getter.Gettable&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Functor&#39;, however is the superclass of both.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- type &#39;Lens&#39; s t a b = forall f. &#39;Functor&#39; f =&gt; (a -&gt; f b) -&gt; s -&gt; f t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Every &#39;Lens&#39; is a valid &#39;Control.Lens.Setter.Setter&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Every &#39;Lens&#39; can be used for &#39;Control.Lens.Getter.Getting&#39; like a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Control.Lens.Fold.Fold&#39; that doesn&#39;t use the &#39;Applicative&#39; or</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Control.Lens.Getter.Gettable&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Every &#39;Lens&#39; is a valid &#39;Control.Lens.Traversal.Traversal&#39; that only uses</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the &#39;Functor&#39; part of the &#39;Applicative&#39; it is supplied.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Every &#39;Lens&#39; can be used for &#39;Control.Lens.Getter.Getting&#39; like a valid</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Control.Lens.Getter.Getter&#39;, since &#39;Functor&#39; is a superclass of &#39;Control.Lens.Getter.Gettable&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since every &#39;Lens&#39; can be used for &#39;Control.Lens.Getter.Getting&#39; like a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- valid &#39;Control.Lens.Getter.Getter&#39; it follows that it must view exactly one element in the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- structure.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The &#39;Lens&#39; laws follow from this property and the desire for it to act like</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- a &#39;Data.Traversable.Traversable&#39; when used as a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Control.Lens.Traversal.Traversal&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- In the examples below, &#39;getter&#39; and &#39;setter&#39; are supplied as example getters</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and setters, and are not actual functions supplied by this package.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-------------------------------------------------------------------------------</span></span><span class="mpre">
module Control.Lens.Lens
  (
  </span><span class="hl_comment"><span class="mpre">-- * Lenses</span></span><span class="mpre">
    Lens, Lens&#39;
  , IndexedLens, IndexedLens&#39;
  </span><span class="hl_comment"><span class="mpre">-- ** Concrete Lenses</span></span><span class="mpre">
  , ALens, ALens&#39;
  , AnIndexedLens, AnIndexedLens&#39;

  </span><span class="hl_comment"><span class="mpre">-- * Combinators</span></span><span class="mpre">
  , lens, ilens, iplens
  , (%%~), (%%=)
  , (%%@~), (%%@=)
  , (&lt;%@~), (&lt;%@=)
  , (&lt;&lt;%@~), (&lt;&lt;%@=)
  </span><span class="hl_comment"><span class="mpre">-- ** General Purpose Combinators</span></span><span class="mpre">
  , (&amp;), (&lt;&amp;&gt;), (??)
  , (&amp;~)
  </span><span class="hl_comment"><span class="mpre">-- * Lateral Composition</span></span><span class="mpre">
  , choosing
  , chosen
  , alongside
  , inside

  </span><span class="hl_comment"><span class="mpre">-- * Setting Functionally with Passthrough</span></span><span class="mpre">
  , (&lt;%~), (&lt;+~), (&lt;-~), (&lt;*~), (&lt;//~)
  , (&lt;^~), (&lt;^^~), (&lt;**~)
  , (&lt;||~), (&lt;&amp;&amp;~), (&lt;&lt;&gt;~)
  , (&lt;&lt;%~), (&lt;&lt;.~), (&lt;&lt;+~), (&lt;&lt;-~), (&lt;&lt;*~)
  , (&lt;&lt;//~), (&lt;&lt;^~), (&lt;&lt;^^~), (&lt;&lt;**~)
  , (&lt;&lt;||~), (&lt;&lt;&amp;&amp;~), (&lt;&lt;&lt;&gt;~)

  </span><span class="hl_comment"><span class="mpre">-- * Setting State with Passthrough</span></span><span class="mpre">
  , (&lt;%=), (&lt;+=), (&lt;-=), (&lt;*=), (&lt;//=)
  , (&lt;^=), (&lt;^^=), (&lt;**=)
  , (&lt;||=), (&lt;&amp;&amp;=), (&lt;&lt;&gt;=)
  , (&lt;&lt;%=), (&lt;&lt;.=), (&lt;&lt;+=), (&lt;&lt;-=), (&lt;&lt;*=)
  , (&lt;&lt;//=), (&lt;&lt;^=), (&lt;&lt;^^=), (&lt;&lt;**=)
  , (&lt;&lt;||=), (&lt;&lt;&amp;&amp;=), (&lt;&lt;&lt;&gt;=)
  , (&lt;&lt;~)

  </span><span class="hl_comment"><span class="mpre">-- * Cloning Lenses</span></span><span class="mpre">
  , cloneLens
  , cloneIndexPreservingLens
  , cloneIndexedLens

  </span><span class="hl_comment"><span class="mpre">-- * Arrow operators</span></span><span class="mpre">
  , overA

  </span><span class="hl_comment"><span class="mpre">-- * ALens Combinators</span></span><span class="mpre">
  , storing
  , (^#)
  , ( #~ ), ( #%~ ), ( #%%~ ), (&lt;#~), (&lt;#%~)
  , ( #= ), ( #%= ), ( #%%= ), (&lt;#=), (&lt;#%=)

  </span><span class="hl_comment"><span class="mpre">-- * Common Lenses</span></span><span class="mpre">
  , devoid
  , united

  </span><span class="hl_comment"><span class="mpre">-- * Context</span></span><span class="mpre">
  , Context(..)
  , Context&#39;
  , locus
  ) where

import Control.Applicative
import Control.Arrow
import Control.Comonad
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 128, srcSpanStartColumn = 8, srcSpanEndLine = 128, srcSpanEndColumn = 37}, srcInfoPoints = []}) &quot;Control.Lens.Internal.Context&quot;"><span class="mpre">Control.Lens.Internal.Context</span></span><span class="mpre">
import Control.Lens.Internal.Getter
import Control.Lens.Internal.Indexed
import Control.Lens.Type
import Control.Monad.State as State
import Data.Monoid
import Data.Profunctor
import Data.Profunctor.Rep
import Data.Profunctor.Unsafe
import Data.Void

#ifdef HLINT
</span><span class="warning" data-warning="DeclAnnPragma (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 140, srcSpanStartColumn = 1, srcSpanEndLine = 140, srcSpanEndColumn = 43}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 140, srcSpanStartColumn = 1, srcSpanEndLine = 140, srcSpanEndColumn = 8},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = "><span class="mpre">{-# ANN module &quot;HLint: ignore Use ***&quot; #-}</span></span><span class="mpre">
#endif

</span><span class="hl_comment"><span class="mpre">-- $setup</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; :set -XNoOverloadedStrings</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; import Control.Lens</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; import Control.Monad.State</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; import Debug.SimpleReflect.Expr</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; import Debug.SimpleReflect.Vars as Vars hiding (f,g,h)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; let f :: Expr -&gt; Expr; f = Debug.SimpleReflect.Vars.f</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; let g :: Expr -&gt; Expr; g = Debug.SimpleReflect.Vars.g</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; let h :: Expr -&gt; Expr -&gt; Expr; h = Debug.SimpleReflect.Vars.h</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; let getter :: Expr -&gt; Expr; getter = fun &quot;getter&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; let setter :: Expr -&gt; Expr -&gt; Expr; setter = fun &quot;setter&quot;</span></span><span class="mpre">

</span><span class="warning" data-warning="DeclInfixDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 155, srcSpanStartColumn = 1, srcSpanEndLine = 155, srcSpanEndColumn = 12}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 155, srcSpanStartColumn = 8, srcSpanEndLine = 155, srcSpanEndColumn = 9}]}) (AssocLeft (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/"><span class="mpre">infixl 8 ^#</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclInfixDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 156, srcSpanStartColumn = 1, srcSpanEndLine = 156, srcSpanEndColumn = 131}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 156, srcSpanStartColumn = 8, srcSpanEndLine = 156, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine ="><span class="mpre">infixr 4 %%@~, &lt;%@~, &lt;&lt;%@~, %%~, &lt;+~, &lt;*~, &lt;-~, &lt;//~, &lt;^~, &lt;^^~, &lt;**~, &lt;&amp;&amp;~, &lt;||~, &lt;&lt;&gt;~, &lt;%~, &lt;&lt;%~, &lt;&lt;.~, &lt;#~, #~, #%~, &lt;#%~, #%%~</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclInfixDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 157, srcSpanStartColumn = 1, srcSpanEndLine = 157, srcSpanEndColumn = 131}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 157, srcSpanStartColumn = 8, srcSpanEndLine = 157, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine ="><span class="mpre">infix  4 %%@=, &lt;%@=, &lt;&lt;%@=, %%=, &lt;+=, &lt;*=, &lt;-=, &lt;//=, &lt;^=, &lt;^^=, &lt;**=, &lt;&amp;&amp;=, &lt;||=, &lt;&lt;&gt;=, &lt;%=, &lt;&lt;%=, &lt;&lt;.=, &lt;#=, #=, #%=, &lt;#%=, #%%=</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclInfixDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 158, srcSpanStartColumn = 1, srcSpanEndLine = 158, srcSpanEndColumn = 13}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 158, srcSpanStartColumn = 8, srcSpanEndLine = 158, srcSpanEndColumn = 9}]}) (AssocRight (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src"><span class="mpre">infixr 2 &lt;&lt;~</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclInfixDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 159, srcSpanStartColumn = 1, srcSpanEndLine = 159, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 159, srcSpanStartColumn = 8, srcSpanEndLine = 159, srcSpanEndColumn = 9},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = "><span class="mpre">infixl 1 &amp;, &lt;&amp;&gt;, ??, &amp;~</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Lenses</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | When you see this as an argument to a function, it expects a &#39;Lens&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This type can also be used when you need to store a &#39;Lens&#39; in a container,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- since it is rank-1. You can turn them back into a &#39;Lens&#39; with &#39;cloneLens&#39;,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- or use it directly with combinators like &#39;storing&#39; and (&#39;^#&#39;).</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 170, srcSpanStartColumn = 1, srcSpanEndLine = 170, srcSpanEndColumn = 57}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 170, srcSpanStartColumn = 1, srcSpanEndLine = 170, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1"><span class="mpre">type ALens s t a b = LensLike (Pretext (-&gt;) a b) s t a b</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- type &#39;ALens&#39;&#39; = &#39;Simple&#39; &#39;ALens&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 175, srcSpanStartColumn = 1, srcSpanEndLine = 175, srcSpanEndColumn = 32}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 175, srcSpanStartColumn = 1, srcSpanEndLine = 175, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1"><span class="mpre">type ALens&#39; s a = ALens s s a a</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | When you see this as an argument to a function, it expects an &#39;IndexedLens&#39;</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 178, srcSpanStartColumn = 1, srcSpanEndLine = 178, srcSpanEndColumn = 90}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 178, srcSpanStartColumn = 1, srcSpanEndLine = 178, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1"><span class="mpre">type AnIndexedLens i s t a b = Optical (Indexed i) (-&gt;) (Pretext (Indexed i) a b) s t a b</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- type &#39;AnIndexedLens&#39;&#39; = &#39;Simple&#39; (&#39;AnIndexedLens&#39; i)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 183, srcSpanStartColumn = 1, srcSpanEndLine = 183, srcSpanEndColumn = 53}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 183, srcSpanStartColumn = 1, srcSpanEndLine = 183, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1"><span class="mpre">type AnIndexedLens&#39; i s a  = AnIndexedLens i s s a a</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">--------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Constructing Lenses</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Build a &#39;Lens&#39; from a getter and a setter.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;lens&#39; :: &#39;Functor&#39; f =&gt; (s -&gt; a) -&gt; (s -&gt; b -&gt; t) -&gt; (a -&gt; f b) -&gt; s -&gt; f t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; s ^. lens getter setter</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- getter s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; s &amp; lens getter setter .~ b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- setter s b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; s &amp; lens getter setter %~ f</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- setter s (f (getter s))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;lens&#39; :: (s -&gt; a) -&gt; (s -&gt; a -&gt; s) -&gt; &#39;Lens&#39;&#39; s a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_208_1_208_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_1_208_5&#39;)"><span class="mpre">lens</span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; (</span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Lens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_208_1_208_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_1_208_5&#39;)"><span class="hl_fundecl"><span class="mpre">lens</span></span></a><span class="mpre"> </span><a name="loc_208_6_208_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_6_208_8&#39;)"><span class="hl_vardecl"><span class="mpre">sa</span></span></a><span class="mpre"> </span><a name="loc_208_9_208_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_9_208_12&#39;)"><span class="hl_vardecl"><span class="mpre">sbt</span></span></a><span class="mpre"> </span><a name="loc_208_13_208_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_13_208_16&#39;)"><span class="hl_vardecl"><span class="mpre">afb</span></span></a><span class="mpre"> </span><a name="loc_208_17_208_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_17_208_18&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><a href="#loc_208_9_208_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_9_208_12&#39;)"><span class="hl_varref"><span class="mpre">sbt</span></span></a><span class="mpre"> </span><a href="#loc_208_17_208_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_17_208_18&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_208_13_208_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_13_208_16&#39;)"><span class="hl_varref"><span class="mpre">afb</span></span></a><span class="mpre"> (</span><a href="#loc_208_6_208_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_6_208_8&#39;)"><span class="hl_varref"><span class="mpre">sa</span></span></a><span class="mpre"> </span><a href="#loc_208_17_208_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_17_208_18&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_208_1_208_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_208_1_208_5&#39;)"><span class="mpre">lens</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Build an index-preserving &#39;Lens&#39; from a &#39;Control.Lens.Getter.Getter&#39; and a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Control.Lens.Setter.Setter&#39;.</span></span><span class="mpre">
</span><a href="#loc_214_1_214_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_7&#39;)"><span class="mpre">iplens</span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; (</span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">IndexPreservingLens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_214_1_214_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_7&#39;)"><span class="hl_fundecl"><span class="mpre">iplens</span></span></a><span class="mpre"> </span><a name="loc_214_8_214_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_8_214_10&#39;)"><span class="hl_vardecl"><span class="mpre">sa</span></span></a><span class="mpre"> </span><a name="loc_214_11_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_11_214_14&#39;)"><span class="hl_vardecl"><span class="mpre">sbt</span></span></a><span class="mpre"> </span><a name="loc_214_15_214_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_15_214_19&#39;)"><span class="hl_vardecl"><span class="mpre">pafb</span></span></a><span class="mpre"> = </span><a href="Data.Profunctor.Rep.html#loc_83_3_83_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_83_3_83_13&#39;)"><span class="hl_varref"><span class="mpre">cotabulate</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_214_36_214_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_36_214_38&#39;)"><span class="hl_vardecl"><span class="mpre">ws</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_214_11_214_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_11_214_14&#39;)"><span class="hl_varref"><span class="mpre">sbt</span></span></a><span class="mpre"> (</span><a href="Control.Comonad.html#loc_125_3_125_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.html#loc_125_3_125_10&#39;)"><span class="hl_varref"><span class="mpre">extract</span></span></a><span class="mpre"> </span><a href="#loc_214_36_214_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_36_214_38&#39;)"><span class="hl_varref"><span class="mpre">ws</span></span></a><span class="mpre">) </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="Data.Profunctor.Rep.html#loc_84_3_84_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_84_3_84_8&#39;)"><span class="hl_varref"><span class="mpre">corep</span></span></a><span class="mpre"> </span><a href="#loc_214_15_214_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_15_214_19&#39;)"><span class="hl_varref"><span class="mpre">pafb</span></span></a><span class="mpre"> (</span><a href="#loc_214_8_214_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_8_214_10&#39;)"><span class="hl_varref"><span class="mpre">sa</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_214_36_214_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_36_214_38&#39;)"><span class="hl_varref"><span class="mpre">ws</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_214_1_214_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_7&#39;)"><span class="mpre">iplens</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Build an &#39;IndexedLens&#39; from a &#39;Control.Lens.Getter.Getter&#39; and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- a &#39;Control.Lens.Setter.Setter&#39;.</span></span><span class="mpre">
</span><a href="#loc_220_1_220_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_1_220_6&#39;)"><span class="mpre">ilens</span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)) -&gt; (</span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">IndexedLens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_220_1_220_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_1_220_6&#39;)"><span class="hl_fundecl"><span class="mpre">ilens</span></span></a><span class="mpre"> </span><a name="loc_220_7_220_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_7_220_10&#39;)"><span class="hl_vardecl"><span class="mpre">sia</span></span></a><span class="mpre"> </span><a name="loc_220_11_220_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_11_220_14&#39;)"><span class="hl_vardecl"><span class="mpre">sbt</span></span></a><span class="mpre"> </span><a name="loc_220_15_220_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_15_220_19&#39;)"><span class="hl_vardecl"><span class="mpre">iafb</span></span></a><span class="mpre"> </span><a name="loc_220_20_220_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_20_220_21&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><a href="#loc_220_11_220_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_11_220_14&#39;)"><span class="hl_varref"><span class="mpre">sbt</span></span></a><span class="mpre"> </span><a href="#loc_220_20_220_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_20_220_21&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">uncurry</span></span><span class="mpre"> (</span><a href="Control.Lens.Internal.Indexed.html#loc_98_3_98_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Internal.Indexed.html#loc_98_3_98_10&#39;)"><span class="hl_varref"><span class="mpre">indexed</span></span></a><span class="mpre"> </span><a href="#loc_220_15_220_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_15_220_19&#39;)"><span class="hl_varref"><span class="mpre">iafb</span></span></a><span class="mpre">) (</span><a href="#loc_220_7_220_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_7_220_10&#39;)"><span class="hl_varref"><span class="mpre">sia</span></span></a><span class="mpre"> </span><a href="#loc_220_20_220_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_20_220_21&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_220_1_220_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_1_220_6&#39;)"><span class="mpre">ilens</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This can be used to chain lens operations using @op=@ syntax</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- rather than @op~@ syntax for simple non-type-changing cases.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (10,20) &amp; _1 .~ 30 &amp; _2 .~ 40</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (30,40)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (10,20) &amp;~ do _1 .= 30; _2 .= 40</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (30,40)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This does not support type-changing assignment, /e.g./</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (10,20) &amp; _1 .~ &quot;hello&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&quot;hello&quot;,20)</span></span><span class="mpre">
</span><a href="#loc_237_3_237_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_3_237_5&#39;)"><span class="mpre">(&amp;~)</span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">State</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">
</span><a name="loc_237_1_237_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_1_237_2&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> </span><a name="loc_237_3_237_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_3_237_5&#39;)"><span class="hl_fundecl"><span class="mpre">&amp;~</span></span></a><span class="mpre"> </span><a name="loc_237_6_237_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_6_237_7&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> = </span><a href="Control.Monad.Trans.State.Lazy.html#loc_116_1_116_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.Trans.State.Lazy.html#loc_116_1_116_10&#39;)"><span class="hl_varref"><span class="mpre">execState</span></span></a><span class="mpre"> </span><a href="#loc_237_6_237_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_6_237_7&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_237_1_237_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_1_237_2&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_237_3_237_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_237_3_237_5&#39;)"><span class="mpre">(&amp;~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | (&#39;%%~&#39;) can be used in one of two scenarios:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When applied to a &#39;Lens&#39;, it can edit the target of the &#39;Lens&#39; in a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- structure, extracting a functorial result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When applied to a &#39;Traversal&#39;, it can edit the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- targets of the traversals, extracting an applicative summary of its</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- actions.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- For all that the definition of this combinator is just:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%%~&#39;) ≡ &#39;id&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- It may be beneficial to think about it as if it had these even more</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- restricted types, however:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%%~&#39;) :: &#39;Functor&#39; f =&gt;     &#39;Control.Lens.Iso.Iso&#39; s t a b       -&gt; (a -&gt; f b) -&gt; s -&gt; f t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%%~&#39;) :: &#39;Functor&#39; f =&gt;     &#39;Lens&#39; s t a b      -&gt; (a -&gt; f b) -&gt; s -&gt; f t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%%~&#39;) :: &#39;Applicative&#39; f =&gt; &#39;Control.Lens.Traversal.Traversal&#39; s t a b -&gt; (a -&gt; f b) -&gt; s -&gt; f t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When applied to a &#39;Traversal&#39;, it can edit the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- targets of the traversals, extracting a supplemental monoidal summary</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- of its actions, by choosing @f = ((,) m)@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%%~&#39;) ::             &#39;Control.Lens.Iso.Iso&#39; s t a b       -&gt; (a -&gt; (r, b)) -&gt; s -&gt; (r, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%%~&#39;) ::             &#39;Lens&#39; s t a b      -&gt; (a -&gt; (r, b)) -&gt; s -&gt; (r, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%%~&#39;) :: &#39;Monoid&#39; m =&gt; &#39;Control.Lens.Traversal.Traversal&#39; s t a b -&gt; (a -&gt; (m, b)) -&gt; s -&gt; (m, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_1_274_6&#39;)"><span class="mpre">(%%~)</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Optical</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
</span><a name="loc_274_1_274_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_1_274_6&#39;)"><span class="hl_vardecl"><span class="mpre">(%%~)</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_274_1_274_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_1_274_6&#39;)"><span class="mpre">(%%~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target of a &#39;Lens&#39; in the current state returning some extra</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- information of type @r@ or modify all targets of a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Control.Lens.Traversal.Traversal&#39; in the current state, extracting extra</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- information of type @r@ and return a monoidal summary of the changes.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; runState (_1 %%= \x -&gt; (f x, g x)) (a,b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (f a,(g a,b))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%%=&#39;) ≡ (&#39;state&#39; &#39;.&#39;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- It may be useful to think of (&#39;%%=&#39;), instead, as having either of the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- following more restricted type signatures:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%%=&#39;) :: &#39;MonadState&#39; s m             =&gt; &#39;Control.Lens.Iso.Iso&#39; s s a b       -&gt; (a -&gt; (r, b)) -&gt; m r</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%%=&#39;) :: &#39;MonadState&#39; s m             =&gt; &#39;Lens&#39; s s a b      -&gt; (a -&gt; (r, b)) -&gt; m r</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%%=&#39;) :: (&#39;MonadState&#39; s m, &#39;Monoid&#39; r) =&gt; &#39;Control.Lens.Traversal.Traversal&#39; s s a b -&gt; (a -&gt; (r, b)) -&gt; m r</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_299_3_299_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_3_299_6&#39;)"><span class="mpre">(%%=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 297, srcSpanStartColumn = 10, srcSpanEndLine = 297, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 297, srcSpanStartColumn = 25, srcSpanEndLine = 297, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/C"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Over</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">
#if MIN_VERSION_mtl(2,1,1)
</span><a name="loc_299_1_299_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_1_299_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_299_3_299_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_3_299_6&#39;)"><span class="hl_fundecl"><span class="mpre">%%=</span></span></a><span class="mpre"> </span><a name="loc_299_7_299_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_7_299_8&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">State.state</span></span><span class="mpre"> (</span><a href="#loc_299_1_299_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_1_299_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_299_7_299_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_7_299_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
#else
</span><a name="loc_301_1_301_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_1_301_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_299_3_299_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_3_299_6&#39;)"><span class="hl_fundecl"><span class="mpre">%%=</span></span></a><span class="mpre"> </span><a name="loc_301_7_301_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_7_301_8&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = do
  (</span><a name="loc_302_4_302_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_4_302_5&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">, </span><a name="loc_302_7_302_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_7_302_8&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) &lt;- </span><a href="Control.Monad.State.Class.html#loc_95_1_95_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_95_1_95_5&#39;)"><span class="hl_varref"><span class="mpre">State.gets</span></span></a><span class="mpre"> (</span><a href="#loc_301_1_301_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_1_301_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_301_7_301_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_301_7_301_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
  </span><span class="hl_varref"><span class="mpre">State.put</span></span><span class="mpre"> </span><a href="#loc_302_7_302_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_7_302_8&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_302_4_302_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_4_302_5&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
#endif
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_299_3_299_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_3_299_6&#39;)"><span class="mpre">(%%=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- General Purpose Combinators</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Passes the result of the left side to the function on the right side (forward pipe operator).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is the flipped version of (&#39;$&#39;), which is more common in languages like F# as (@|&gt;@) where it is needed</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- for inference. Here it is supplied for notational convenience and given a precedence that allows it</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- to be nested inside uses of (&#39;$&#39;).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; a &amp; f</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- f a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; &quot;hello&quot; &amp; length &amp; succ</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- 6</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This combinator is commonly used when applying multiple &#39;Lens&#39; operations in sequence.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (&quot;hello&quot;,&quot;world&quot;) &amp; _1.element 0 .~ &#39;j&#39; &amp; _1.element 4 .~ &#39;y&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&quot;jelly&quot;,&quot;world&quot;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This reads somewhat similar to:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; flip execState (&quot;hello&quot;,&quot;world&quot;) $ do _1.element 0 .= &#39;j&#39;; _1.element 4 .= &#39;y&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&quot;jelly&quot;,&quot;world&quot;)</span></span><span class="mpre">
</span><a href="#loc_334_3_334_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_3_334_4&#39;)"><span class="mpre">(&amp;)</span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_334_1_334_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_1_334_2&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_334_3_334_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_3_334_4&#39;)"><span class="hl_fundecl"><span class="mpre">&amp;</span></span></a><span class="mpre"> </span><a name="loc_334_5_334_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_5_334_6&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_334_5_334_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_5_334_6&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_334_1_334_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_1_334_2&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_334_3_334_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_3_334_4&#39;)"><span class="mpre">(&amp;)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Infix flipped &#39;fmap&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&amp;&gt;&#39;) = &#39;flip&#39; &#39;fmap&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_343_4_343_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_4_343_7&#39;)"><span class="mpre">(&lt;&amp;&gt;)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 342, srcSpanStartColumn = 10, srcSpanEndLine = 342, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 342, srcSpanStartColumn = 20, srcSpanEndLine = 342, srcSpanEndColumn = 22}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/C"><span class="mpre">Functor f =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_343_1_343_3" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_1_343_3&#39;)"><span class="hl_vardecl"><span class="mpre">as</span></span></a><span class="mpre"> </span><a name="loc_343_4_343_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_4_343_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&amp;&gt;</span></span></a><span class="mpre"> </span><a name="loc_343_8_343_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_8_343_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_343_8_343_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_8_343_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_343_1_343_3" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_1_343_3&#39;)"><span class="hl_varref"><span class="mpre">as</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_343_4_343_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_4_343_7&#39;)"><span class="mpre">(&lt;&amp;&gt;)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This is convenient to &#39;flip&#39; argument order of composite functions.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; over _2 ?? (&quot;hello&quot;,&quot;world&quot;) $ length</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&quot;hello&quot;,5)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; over ?? length ?? (&quot;hello&quot;,&quot;world&quot;) $ _2</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&quot;hello&quot;,5)</span></span><span class="mpre">
</span><a href="#loc_354_5_354_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_5_354_7&#39;)"><span class="mpre">(??)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 353, srcSpanStartColumn = 9, srcSpanEndLine = 353, srcSpanEndColumn = 21}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 353, srcSpanStartColumn = 19, srcSpanEndLine = 353, srcSpanEndColumn = 21}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Co"><span class="mpre">Functor f =&gt;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_354_1_354_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_1_354_4&#39;)"><span class="hl_vardecl"><span class="mpre">fab</span></span></a><span class="mpre"> </span><a name="loc_354_5_354_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_5_354_7&#39;)"><span class="hl_fundecl"><span class="mpre">??</span></span></a><span class="mpre"> </span><a name="loc_354_8_354_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_8_354_9&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">fmap</span></span><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_354_8_354_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_8_354_9&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">) </span><a href="#loc_354_1_354_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_1_354_4&#39;)"><span class="hl_varref"><span class="mpre">fab</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_354_5_354_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_5_354_7&#39;)"><span class="mpre">(??)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Common Lenses</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Lift a &#39;Lens&#39; so it can run under a function (or other corepresentable profunctor).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;inside&#39; :: &#39;Lens&#39; s t a b -&gt; &#39;Lens&#39; (e -&gt; s) (e -&gt; t) (e -&gt; a) (e -&gt; b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_368_1_368_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_368_1_368_7&#39;)"><span class="mpre">inside</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 367, srcSpanStartColumn = 11, srcSpanEndLine = 367, srcSpanEndColumn = 31}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 367, srcSpanStartColumn = 29, srcSpanEndLine = 367, srcSpanEndColumn = 31}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/C"><span class="mpre">Corepresentable p =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ALens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Lens</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">) (</span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) (</span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) (</span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">)
</span><a name="loc_368_1_368_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_368_1_368_7&#39;)"><span class="hl_fundecl"><span class="mpre">inside</span></span></a><span class="mpre"> </span><a name="loc_368_8_368_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_368_8_368_9&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_368_10_368_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_368_10_368_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_368_12_368_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_368_12_368_14&#39;)"><span class="hl_vardecl"><span class="mpre">es</span></span></a><span class="mpre"> = </span><a href="#loc_370_3_370_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_3_370_4&#39;)"><span class="hl_varref"><span class="mpre">o</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_368_10_368_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_368_10_368_11&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_369_3_369_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_3_369_4&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> where
  </span><a name="loc_369_3_369_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_3_369_4&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> = </span><a href="Data.Profunctor.Rep.html#loc_83_3_83_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_83_3_83_13&#39;)"><span class="hl_varref"><span class="mpre">cotabulate</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \ </span><a name="loc_369_22_369_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_22_369_23&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">ipos</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_368_8_368_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_368_8_368_9&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">sell</span></span><span class="mpre"> (</span><a href="Data.Profunctor.Rep.html#loc_84_3_84_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_84_3_84_8&#39;)"><span class="hl_varref"><span class="mpre">corep</span></span></a><span class="mpre"> </span><a href="#loc_368_12_368_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_368_12_368_14&#39;)"><span class="hl_varref"><span class="mpre">es</span></span></a><span class="mpre"> </span><a href="#loc_369_22_369_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_369_22_369_23&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">)
  </span><a name="loc_370_3_370_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_3_370_4&#39;)"><span class="hl_fundecl"><span class="mpre">o</span></span></a><span class="mpre"> </span><a name="loc_370_5_370_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_5_370_7&#39;)"><span class="hl_vardecl"><span class="mpre">ea</span></span></a><span class="mpre"> = </span><a href="Data.Profunctor.Rep.html#loc_83_3_83_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_83_3_83_13&#39;)"><span class="hl_varref"><span class="mpre">cotabulate</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \ </span><a name="loc_370_25_370_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_25_370_26&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">ipeek</span></span><span class="mpre"> (</span><a href="Data.Profunctor.Rep.html#loc_84_3_84_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_84_3_84_8&#39;)"><span class="hl_varref"><span class="mpre">corep</span></span></a><span class="mpre"> </span><a href="#loc_370_5_370_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_5_370_7&#39;)"><span class="hl_varref"><span class="mpre">ea</span></span></a><span class="mpre"> </span><a href="#loc_370_25_370_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_25_370_26&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_368_8_368_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_368_8_368_9&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">sell</span></span><span class="mpre"> (</span><a href="Data.Profunctor.Rep.html#loc_84_3_84_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_84_3_84_8&#39;)"><span class="hl_varref"><span class="mpre">corep</span></span></a><span class="mpre"> </span><a href="#loc_368_12_368_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_368_12_368_14&#39;)"><span class="hl_varref"><span class="mpre">es</span></span></a><span class="mpre"> </span><a href="#loc_370_25_370_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_370_25_370_26&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_368_1_368_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_368_1_368_7&#39;)"><span class="mpre">inside</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">{-
-- | Lift a &#39;Lens&#39; so it can run under a function (or any other corepresentable functor).
insideF :: F.Representable f =&gt; ALens s t a b -&gt; Lens (f s) (f t) (f a) (f b)
insideF l f es = o &lt;$&gt; f i where
  i = F.tabulate $ \e -&gt; ipos $ l sell (F.index es e)
  o ea = F.tabulate $ \ e -&gt; ipeek (F.index ea e) $ l sell (F.index es e)
{-# INLINE inside #-}
-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Merge two lenses, getters, setters, folds or traversals.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;chosen&#39; ≡ &#39;choosing&#39; &#39;id&#39; &#39;id&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;choosing&#39; :: &#39;Control.Lens.Getter.Getter&#39; s a     -&gt; &#39;Control.Lens.Getter.Getter&#39; s&#39; a     -&gt; &#39;Control.Lens.Getter.Getter&#39; (&#39;Either&#39; s s&#39;) a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;choosing&#39; :: &#39;Control.Lens.Fold.Fold&#39; s a       -&gt; &#39;Control.Lens.Fold.Fold&#39; s&#39; a       -&gt; &#39;Control.Lens.Fold.Fold&#39; (&#39;Either&#39; s s&#39;) a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;choosing&#39; :: &#39;Lens&#39;&#39; s a      -&gt; &#39;Lens&#39;&#39; s&#39; a      -&gt; &#39;Lens&#39;&#39; (&#39;Either&#39; s s&#39;) a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;choosing&#39; :: &#39;Control.Lens.Traversal.Traversal&#39;&#39; s a -&gt; &#39;Control.Lens.Traversal.Traversal&#39;&#39; s&#39; a -&gt; &#39;Control.Lens.Traversal.Traversal&#39;&#39; (&#39;Either&#39; s s&#39;) a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;choosing&#39; :: &#39;Control.Lens.Setter.Setter&#39;&#39; s a    -&gt; &#39;Control.Lens.Setter.Setter&#39;&#39; s&#39; a    -&gt; &#39;Control.Lens.Setter.Setter&#39;&#39; (&#39;Either&#39; s s&#39;) a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_399_1_399_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_1_399_9&#39;)"><span class="mpre">choosing</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 395, srcSpanStartColumn = 13, srcSpanEndLine = 396, srcSpanEndColumn = 10}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 396, srcSpanStartColumn = 8, srcSpanEndLine = 396, srcSpanEndColumn = 10}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Co"><span class="mpre">Functor f
       =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
       -&gt; </span><span class="hl_tyconref"><span class="mpre">LensLike</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
       -&gt; </span><span class="hl_tyconref"><span class="mpre">LensLike</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s&#39;</span></span><span class="mpre">) (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t&#39;</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_399_1_399_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_1_399_9&#39;)"><span class="hl_fundecl"><span class="mpre">choosing</span></span></a><span class="mpre"> </span><a name="loc_399_10_399_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_10_399_11&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> _ </span><a name="loc_399_14_399_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_14_399_15&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a name="loc_399_22_399_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_22_399_23&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">)   = </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_399_10_399_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_10_399_11&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_399_14_399_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_14_399_15&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_399_22_399_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_22_399_23&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
</span><a href="#loc_399_1_399_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_1_399_9&#39;)"><span class="hl_fundecl"><span class="mpre">choosing</span></span></a><span class="mpre"> _ </span><a name="loc_400_12_400_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_400_12_400_13&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> </span><a name="loc_400_14_400_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_400_14_400_15&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a name="loc_400_23_400_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_400_23_400_25&#39;)"><span class="hl_vardecl"><span class="mpre">a&#39;</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_400_12_400_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_400_12_400_13&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre"> </span><a href="#loc_400_14_400_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_400_14_400_15&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_400_23_400_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_400_23_400_25&#39;)"><span class="hl_varref"><span class="mpre">a&#39;</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_399_1_399_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_399_1_399_9&#39;)"><span class="mpre">choosing</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This is a &#39;Lens&#39; that updates either side of an &#39;Either&#39;, where both sides have the same type.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;chosen&#39; ≡ &#39;choosing&#39; &#39;id&#39; &#39;id&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; Left a^.chosen</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; Right a^.chosen</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; Right &quot;hello&quot;^.chosen</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &quot;hello&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; Right a &amp; chosen *~ b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Right (a * b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;chosen&#39; :: &#39;Lens&#39; (&#39;Either&#39; a a) (&#39;Either&#39; b b) a b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;chosen&#39; f (&#39;Left&#39; a)  = &#39;Left&#39; &#39;&lt;$&gt;&#39; f a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;chosen&#39; f (&#39;Right&#39; a) = &#39;Right&#39; &#39;&lt;$&gt;&#39; f a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_427_1_427_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_427_1_427_7&#39;)"><span class="mpre">chosen</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IndexPreservingLens</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) (</span><span class="hl_tyconref"><span class="mpre">Either</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_427_1_427_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_427_1_427_7&#39;)"><span class="hl_fundecl"><span class="mpre">chosen</span></span></a><span class="mpre"> </span><a name="loc_427_8_427_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_427_8_427_12&#39;)"><span class="hl_vardecl"><span class="mpre">pafb</span></span></a><span class="mpre"> = </span><a href="Data.Profunctor.Rep.html#loc_83_3_83_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_83_3_83_13&#39;)"><span class="hl_varref"><span class="mpre">cotabulate</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_427_29_427_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_427_29_427_33&#39;)"><span class="hl_vardecl"><span class="mpre">weaa</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Profunctor.Rep.html#loc_84_3_84_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_84_3_84_8&#39;)"><span class="hl_varref"><span class="mpre">corep</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">either</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre"> </span><a href="Data.Profunctor.Unsafe.html#loc_94_3_94_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_94_3_94_7&#39;)"><span class="hl_infix"><span class="mpre">`lmap`</span></span></a><span class="mpre"> </span><a href="#loc_427_8_427_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_427_8_427_12&#39;)"><span class="hl_varref"><span class="mpre">pafb</span></span></a><span class="mpre">) </span><a href="#loc_427_29_427_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_427_29_427_33&#39;)"><span class="hl_varref"><span class="mpre">weaa</span></span></a><span class="mpre"> </span><a href="#loc_343_4_343_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_4_343_7&#39;)"><span class="hl_infix"><span class="mpre">&lt;&amp;&gt;</span></span></a><span class="mpre"> \</span><a name="loc_427_80_427_81" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_427_80_427_81&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> -&gt; case </span><a href="Control.Comonad.html#loc_125_3_125_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.html#loc_125_3_125_10&#39;)"><span class="hl_varref"><span class="mpre">extract</span></span></a><span class="mpre"> </span><a href="#loc_427_29_427_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_427_29_427_33&#39;)"><span class="hl_varref"><span class="mpre">weaa</span></span></a><span class="mpre"> of
  </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre"> _  -&gt; </span><span class="hl_conref"><span class="mpre">Left</span></span><span class="mpre">  </span><a href="#loc_427_80_427_81" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_427_80_427_81&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">
  </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> _ -&gt; </span><span class="hl_conref"><span class="mpre">Right</span></span><span class="mpre"> </span><a href="#loc_427_80_427_81" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_427_80_427_81&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_427_1_427_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_427_1_427_7&#39;)"><span class="mpre">chosen</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | &#39;alongside&#39; makes a &#39;Lens&#39; from two other lenses or a &#39;Getter&#39; from two other getters</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- by executing them on their respective halves of a product.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (Left a, Right b)^.alongside chosen chosen</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a,b)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (Left a, Right b) &amp; alongside chosen chosen .~ (c,d)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (Left c,Right d)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;alongside&#39; :: &#39;Lens&#39;   s t a b -&gt; &#39;Lens&#39;   s&#39; t&#39; a&#39; b&#39; -&gt; &#39;Lens&#39;   (s,s&#39;) (t,t&#39;) (a,a&#39;) (b,b&#39;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;alongside&#39; :: &#39;Getter&#39; s t a b -&gt; &#39;Getter&#39; s&#39; t&#39; a&#39; b&#39; -&gt; &#39;Getter&#39; (s,s&#39;) (t,t&#39;) (a,a&#39;) (b,b&#39;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_448_1_448_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_1_448_10&#39;)"><span class="mpre">alongside</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">LensLike</span></span><span class="mpre"> (</span><a href="Control.Lens.Internal.Getter.html#loc_65_9_65_22" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Internal.Getter.html#loc_65_9_65_22&#39;)"><span class="hl_tyconref"><span class="mpre">AlongsideLeft</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b&#39;</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">  </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">  </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">  </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
          -&gt; </span><span class="hl_tyconref"><span class="mpre">LensLike</span></span><span class="mpre"> (</span><a href="Control.Lens.Internal.Getter.html#loc_112_9_112_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Internal.Getter.html#loc_112_9_112_23&#39;)"><span class="hl_tyconref"><span class="mpre">AlongsideRight</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b&#39;</span></span><span class="mpre">
          -&gt; </span><span class="hl_tyconref"><span class="mpre">LensLike</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">s&#39;</span></span><span class="mpre">) (</span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">t&#39;</span></span><span class="mpre">) (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">a&#39;</span></span><span class="mpre">) (</span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">b&#39;</span></span><span class="mpre">)
</span><a name="loc_448_1_448_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_1_448_10&#39;)"><span class="hl_fundecl"><span class="mpre">alongside</span></span></a><span class="mpre"> </span><a name="loc_448_11_448_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_11_448_13&#39;)"><span class="hl_vardecl"><span class="mpre">l1</span></span></a><span class="mpre"> </span><a name="loc_448_14_448_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_14_448_16&#39;)"><span class="hl_vardecl"><span class="mpre">l2</span></span></a><span class="mpre"> </span><a name="loc_448_17_448_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_17_448_18&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a name="loc_448_20_448_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_20_448_22&#39;)"><span class="hl_vardecl"><span class="mpre">a1</span></span></a><span class="mpre">, </span><a name="loc_448_24_448_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_24_448_26&#39;)"><span class="hl_vardecl"><span class="mpre">a2</span></span></a><span class="mpre">)
  = </span><a href="Control.Lens.Internal.Getter.html#loc_112_49_112_66" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Internal.Getter.html#loc_112_49_112_66&#39;)"><span class="hl_varref"><span class="mpre">getAlongsideRight</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_448_14_448_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_14_448_16&#39;)"><span class="hl_varref"><span class="mpre">l2</span></span></a><span class="mpre"> </span><a href="#loc_354_5_354_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_5_354_7&#39;)"><span class="hl_infix"><span class="mpre">??</span></span></a><span class="mpre"> </span><a href="#loc_448_24_448_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_24_448_26&#39;)"><span class="hl_varref"><span class="mpre">a2</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_449_37_449_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_449_37_449_39&#39;)"><span class="hl_vardecl"><span class="mpre">b2</span></span></a><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">AlongsideRight</span></span><span class="mpre">
  </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Control.Lens.Internal.Getter.html#loc_65_47_65_63" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Internal.Getter.html#loc_65_47_65_63&#39;)"><span class="hl_varref"><span class="mpre">getAlongsideLeft</span></span></a><span class="mpre">  </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_448_11_448_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_11_448_13&#39;)"><span class="hl_varref"><span class="mpre">l1</span></span></a><span class="mpre"> </span><a href="#loc_354_5_354_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_5_354_7&#39;)"><span class="hl_infix"><span class="mpre">??</span></span></a><span class="mpre"> </span><a href="#loc_448_20_448_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_20_448_22&#39;)"><span class="hl_varref"><span class="mpre">a1</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_450_37_450_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_450_37_450_39&#39;)"><span class="hl_vardecl"><span class="mpre">b1</span></span></a><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">AlongsideLeft</span></span><span class="mpre">
  </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_448_17_448_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_17_448_18&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_450_37_450_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_450_37_450_39&#39;)"><span class="hl_varref"><span class="mpre">b1</span></span></a><span class="mpre">,</span><a href="#loc_449_37_449_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_449_37_449_39&#39;)"><span class="hl_varref"><span class="mpre">b2</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_448_1_448_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_1_448_10&#39;)"><span class="mpre">alongside</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | This &#39;Lens&#39; lets you &#39;view&#39; the current &#39;pos&#39; of any indexed</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- store comonad and &#39;seek&#39; to a new position. This reduces the API</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- for working these instances to a single &#39;Lens&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;ipos&#39; w ≡ w &#39;Control.Lens.Getter.^.&#39; &#39;locus&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;iseek&#39; s w ≡ w &#39;&amp;&#39; &#39;locus&#39; &#39;Control.Lens.Setter..~&#39; s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;iseeks&#39; f w ≡ w &#39;&amp;&#39; &#39;locus&#39; &#39;Control.Lens.Setter.%~&#39; f</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;locus&#39; :: &#39;Lens&#39;&#39; (&#39;Context&#39;&#39; a s) a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;locus&#39; :: &#39;Conjoined&#39; p =&gt; &#39;Lens&#39;&#39; (&#39;Pretext&#39;&#39; p a s) a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;locus&#39; :: &#39;Conjoined&#39; p =&gt; &#39;Lens&#39;&#39; (&#39;PretextT&#39;&#39; p g a s) a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_470_1_470_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_470_1_470_6&#39;)"><span class="mpre">locus</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 469, srcSpanStartColumn = 10, srcSpanEndLine = 469, srcSpanEndColumn = 34}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 469, srcSpanStartColumn = 32, srcSpanEndLine = 469, srcSpanEndColumn = 34}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/C"><span class="mpre">IndexedComonadStore p =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Lens</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">) (</span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_470_1_470_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_470_1_470_6&#39;)"><span class="hl_fundecl"><span class="mpre">locus</span></span></a><span class="mpre"> </span><a name="loc_470_7_470_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_470_7_470_8&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_470_9_470_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_470_9_470_10&#39;)"><span class="hl_vardecl"><span class="mpre">w</span></span></a><span class="mpre"> = (</span><span class="hl_infix"><span class="mpre">`iseek`</span></span><span class="mpre"> </span><a href="#loc_470_9_470_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_470_9_470_10&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre">) </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_470_7_470_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_470_7_470_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">ipos</span></span><span class="mpre"> </span><a href="#loc_470_9_470_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_470_9_470_10&#39;)"><span class="hl_varref"><span class="mpre">w</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_470_1_470_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_470_1_470_6&#39;)"><span class="mpre">locus</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Cloning Lenses</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Cloning a &#39;Lens&#39; is one way to make sure you aren&#39;t given</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- something weaker, such as a &#39;Control.Lens.Traversal.Traversal&#39; and can be</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- used as a way to pass around lenses that have to be monomorphic in @f@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note: This only accepts a proper &#39;Lens&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; let example l x = set (cloneLens l) (x^.cloneLens l + 1) x in example _2 (&quot;hello&quot;,1,&quot;you&quot;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&quot;hello&quot;,2,&quot;you&quot;)</span></span><span class="mpre">
</span><a href="#loc_486_1_486_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_1_486_10&#39;)"><span class="mpre">cloneLens</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ALens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Lens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_486_1_486_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_1_486_10&#39;)"><span class="hl_fundecl"><span class="mpre">cloneLens</span></span></a><span class="mpre"> </span><a name="loc_486_11_486_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_11_486_12&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_486_13_486_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_13_486_16&#39;)"><span class="hl_vardecl"><span class="mpre">afb</span></span></a><span class="mpre"> </span><a name="loc_486_17_486_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_17_486_18&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">runPretext</span></span><span class="mpre"> (</span><a href="#loc_486_11_486_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_11_486_12&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">sell</span></span><span class="mpre"> </span><a href="#loc_486_17_486_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_17_486_18&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">) </span><a href="#loc_486_13_486_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_13_486_16&#39;)"><span class="hl_varref"><span class="mpre">afb</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_486_1_486_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_486_1_486_10&#39;)"><span class="mpre">cloneLens</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Clone a &#39;Lens&#39; as an &#39;IndexedPreservingLens&#39; that just passes through whatever</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- index is on any &#39;IndexedLens&#39;, &#39;IndexedFold&#39;, &#39;IndexedGetter&#39; or  &#39;IndexedTraversal&#39; it is composed with.</span></span><span class="mpre">
</span><a href="#loc_492_1_492_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_1_492_25&#39;)"><span class="mpre">cloneIndexPreservingLens</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ALens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IndexPreservingLens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_492_1_492_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_1_492_25&#39;)"><span class="hl_fundecl"><span class="mpre">cloneIndexPreservingLens</span></span></a><span class="mpre"> </span><a name="loc_492_26_492_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_26_492_27&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_492_28_492_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_28_492_32&#39;)"><span class="hl_vardecl"><span class="mpre">pafb</span></span></a><span class="mpre"> = </span><a href="Data.Profunctor.Rep.html#loc_83_3_83_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_83_3_83_13&#39;)"><span class="hl_varref"><span class="mpre">cotabulate</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_492_49_492_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_49_492_51&#39;)"><span class="hl_vardecl"><span class="mpre">ws</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">runPretext</span></span><span class="mpre"> (</span><a href="#loc_492_26_492_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_26_492_27&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">sell</span></span><span class="mpre"> (</span><a href="Control.Comonad.html#loc_125_3_125_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Comonad.html#loc_125_3_125_10&#39;)"><span class="hl_varref"><span class="mpre">extract</span></span></a><span class="mpre"> </span><a href="#loc_492_49_492_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_49_492_51&#39;)"><span class="hl_varref"><span class="mpre">ws</span></span></a><span class="mpre">)) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_492_91_492_92" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_91_492_92&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Profunctor.Rep.html#loc_84_3_84_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Rep.html#loc_84_3_84_8&#39;)"><span class="hl_varref"><span class="mpre">corep</span></span></a><span class="mpre"> </span><a href="#loc_492_28_492_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_28_492_32&#39;)"><span class="hl_varref"><span class="mpre">pafb</span></span></a><span class="mpre"> (</span><a href="#loc_492_91_492_92" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_91_492_92&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;$</span></span><span class="mpre"> </span><a href="#loc_492_49_492_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_49_492_51&#39;)"><span class="hl_varref"><span class="mpre">ws</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_492_1_492_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_492_1_492_25&#39;)"><span class="mpre">cloneIndexPreservingLens</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Clone an &#39;IndexedLens&#39; as an &#39;IndexedLens&#39; with the same index.</span></span><span class="mpre">
</span><a href="#loc_497_1_497_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_1_497_17&#39;)"><span class="mpre">cloneIndexedLens</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">AnIndexedLens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IndexedLens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_497_1_497_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_1_497_17&#39;)"><span class="hl_fundecl"><span class="mpre">cloneIndexedLens</span></span></a><span class="mpre"> </span><a name="loc_497_18_497_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_18_497_19&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_497_20_497_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_20_497_21&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_497_22_497_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_22_497_23&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">runPretext</span></span><span class="mpre"> (</span><a href="#loc_497_18_497_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_18_497_19&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">sell</span></span><span class="mpre"> </span><a href="#loc_497_22_497_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_22_497_23&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">Indexed</span></span><span class="mpre"> (</span><a href="Control.Lens.Internal.Indexed.html#loc_98_3_98_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Internal.Indexed.html#loc_98_3_98_10&#39;)"><span class="hl_varref"><span class="mpre">indexed</span></span></a><span class="mpre"> </span><a href="#loc_497_20_497_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_20_497_21&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">))
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_497_1_497_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_497_1_497_17&#39;)"><span class="mpre">cloneIndexedLens</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Setting and Remembering</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target of a &#39;Lens&#39; and return the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the addition, (&#39;Control.Lens.Setter.%~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;%~&#39;) ::             &#39;Lens&#39; s t a b      -&gt; (a -&gt; b) -&gt; s -&gt; (b, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;%~&#39;) ::             &#39;Control.Lens.Iso.Iso&#39; s t a b       -&gt; (a -&gt; b) -&gt; s -&gt; (b, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;%~&#39;) :: &#39;Monoid&#39; b =&gt; &#39;Control.Lens.Traversal.Traversal&#39; s t a b -&gt; (a -&gt; b) -&gt; s -&gt; (b, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_514_3_514_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_3_514_6&#39;)"><span class="mpre">(&lt;%~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 513, srcSpanStartColumn = 10, srcSpanEndLine = 513, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 513, srcSpanStartColumn = 23, srcSpanEndLine = 513, srcSpanEndColumn = 25}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/C"><span class="mpre">Profunctor p =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Optical</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
</span><a name="loc_514_1_514_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_1_514_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_514_3_514_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_3_514_6&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;%~</span></span></a><span class="mpre"> </span><a name="loc_514_7_514_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_7_514_8&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_514_1_514_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_1_514_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Profunctor.Unsafe.html#loc_101_3_101_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_101_3_101_7&#39;)"><span class="hl_varref"><span class="mpre">rmap</span></span></a><span class="mpre"> (\</span><a name="loc_514_22_514_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_22_514_23&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_514_22_514_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_22_514_23&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">, </span><a href="#loc_514_22_514_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_22_514_23&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)) </span><a href="#loc_514_7_514_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_7_514_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_514_3_514_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_3_514_6&#39;)"><span class="mpre">(&lt;%~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Increment the target of a numerically valued &#39;Lens&#39; and return the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the addition, (&#39;Control.Lens.Setter.+~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;+~&#39;) :: &#39;Num&#39; a =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;+~&#39;) :: &#39;Num&#39; a =&gt; &#39;Control.Lens.Iso.Iso&#39;&#39; s a  -&gt; a -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_526_3_526_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_526_3_526_6&#39;)"><span class="mpre">(&lt;+~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 525, srcSpanStartColumn = 10, srcSpanEndLine = 525, srcSpanEndColumn = 18}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 525, srcSpanStartColumn = 16, srcSpanEndLine = 525, srcSpanEndColumn = 18}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/C"><span class="mpre">Num a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Optical</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
</span><a name="loc_526_1_526_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_526_1_526_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_526_3_526_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_526_3_526_6&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;+~</span></span></a><span class="mpre"> </span><a name="loc_526_7_526_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_526_7_526_8&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="#loc_526_1_526_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_526_1_526_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_514_3_514_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_3_514_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;%~</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_526_7_526_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_526_7_526_8&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_526_3_526_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_526_3_526_6&#39;)"><span class="mpre">(&lt;+~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Decrement the target of a numerically valued &#39;Lens&#39; and return the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the subtraction, (&#39;Control.Lens.Setter.-~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;-~&#39;) :: &#39;Num&#39; a =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;-~&#39;) :: &#39;Num&#39; a =&gt; &#39;Control.Lens.Iso.Iso&#39;&#39; s a  -&gt; a -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_538_3_538_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_3_538_6&#39;)"><span class="mpre">(&lt;-~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 537, srcSpanStartColumn = 10, srcSpanEndLine = 537, srcSpanEndColumn = 18}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 537, srcSpanStartColumn = 16, srcSpanEndLine = 537, srcSpanEndColumn = 18}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/C"><span class="mpre">Num a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Optical</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
</span><a name="loc_538_1_538_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_1_538_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_538_3_538_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_3_538_6&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;-~</span></span></a><span class="mpre"> </span><a name="loc_538_7_538_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_7_538_8&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="#loc_538_1_538_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_1_538_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_514_3_514_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_3_514_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;%~</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">subtract</span></span><span class="mpre"> </span><a href="#loc_538_7_538_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_7_538_8&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_538_3_538_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_538_3_538_6&#39;)"><span class="mpre">(&lt;-~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Multiply the target of a numerically valued &#39;Lens&#39; and return the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the multiplication, (&#39;Control.Lens.Setter.*~&#39;) is more</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;*~&#39;) :: &#39;Num&#39; a =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;*~&#39;) :: &#39;Num&#39; a =&gt; &#39;Control.Lens.Iso.Iso&#39;&#39;  s a -&gt; a -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_551_3_551_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_551_3_551_6&#39;)"><span class="mpre">(&lt;*~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 550, srcSpanStartColumn = 10, srcSpanEndLine = 550, srcSpanEndColumn = 18}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 550, srcSpanStartColumn = 16, srcSpanEndLine = 550, srcSpanEndColumn = 18}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/C"><span class="mpre">Num a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Optical</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
</span><a name="loc_551_1_551_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_551_1_551_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_551_3_551_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_551_3_551_6&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;*~</span></span></a><span class="mpre"> </span><a name="loc_551_7_551_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_551_7_551_8&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="#loc_551_1_551_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_551_1_551_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_514_3_514_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_3_514_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;%~</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">*</span></span><span class="mpre"> </span><a href="#loc_551_7_551_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_551_7_551_8&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_551_3_551_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_551_3_551_6&#39;)"><span class="mpre">(&lt;*~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Divide the target of a fractionally valued &#39;Lens&#39; and return the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the division, (&#39;Control.Lens.Setter.//~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;//~&#39;) :: &#39;Fractional&#39; a =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;//~&#39;) :: &#39;Fractional&#39; a =&gt; &#39;Control.Lens.Iso.Iso&#39;&#39;  s a -&gt; a -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_563_3_563_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_563_3_563_7&#39;)"><span class="mpre">(&lt;//~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 562, srcSpanStartColumn = 11, srcSpanEndLine = 562, srcSpanEndColumn = 26}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 562, srcSpanStartColumn = 24, srcSpanEndLine = 562, srcSpanEndColumn = 26}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/C"><span class="mpre">Fractional a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Optical</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
</span><a name="loc_563_1_563_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_563_1_563_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_563_3_563_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_563_3_563_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;//~</span></span></a><span class="mpre"> </span><a name="loc_563_8_563_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_563_8_563_9&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="#loc_563_1_563_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_563_1_563_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_514_3_514_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_3_514_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;%~</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">/</span></span><span class="mpre"> </span><a href="#loc_563_8_563_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_563_8_563_9&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_563_3_563_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_563_3_563_7&#39;)"><span class="mpre">(&lt;//~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Raise the target of a numerically valued &#39;Lens&#39; to a non-negative</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Integral&#39; power and return the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.^~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;^~&#39;) :: (&#39;Num&#39; a, &#39;Integral&#39; e) =&gt; &#39;Lens&#39;&#39; s a -&gt; e -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;^~&#39;) :: (&#39;Num&#39; a, &#39;Integral&#39; e) =&gt; &#39;Control.Lens.Iso.Iso&#39;&#39; s a -&gt; e -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_576_3_576_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_3_576_6&#39;)"><span class="mpre">(&lt;^~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 575, srcSpanStartColumn = 10, srcSpanEndLine = 575, srcSpanEndColumn = 32}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 575, srcSpanStartColumn = 10, srcSpanEndLine = 575, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine ="><span class="mpre">(Num a, Integral e) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Optical</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
</span><a name="loc_576_1_576_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_1_576_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_576_3_576_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_3_576_6&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;^~</span></span></a><span class="mpre"> </span><a name="loc_576_7_576_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_7_576_8&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> = </span><a href="#loc_576_1_576_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_1_576_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_514_3_514_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_3_514_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;%~</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">^</span></span><span class="mpre"> </span><a href="#loc_576_7_576_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_7_576_8&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_576_3_576_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_576_3_576_6&#39;)"><span class="mpre">(&lt;^~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Raise the target of a fractionally valued &#39;Lens&#39; to an &#39;Integral&#39; power</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and return the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.^^~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;^^~&#39;) :: (&#39;Fractional&#39; a, &#39;Integral&#39; e) =&gt; &#39;Lens&#39;&#39; s a -&gt; e -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;^^~&#39;) :: (&#39;Fractional&#39; a, &#39;Integral&#39; e) =&gt; &#39;Control.Lens.Iso.Iso&#39;&#39; s a -&gt; e -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_589_3_589_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_589_3_589_7&#39;)"><span class="mpre">(&lt;^^~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 588, srcSpanStartColumn = 11, srcSpanEndLine = 588, srcSpanEndColumn = 40}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 588, srcSpanStartColumn = 11, srcSpanEndLine = 588, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine ="><span class="mpre">(Fractional a, Integral e) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Optical</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
</span><a name="loc_589_1_589_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_589_1_589_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_589_3_589_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_589_3_589_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;^^~</span></span></a><span class="mpre"> </span><a name="loc_589_8_589_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_589_8_589_9&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> = </span><a href="#loc_589_1_589_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_589_1_589_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_514_3_514_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_3_514_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;%~</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">^^</span></span><span class="mpre"> </span><a href="#loc_589_8_589_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_589_8_589_9&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_589_3_589_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_589_3_589_7&#39;)"><span class="mpre">(&lt;^^~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Raise the target of a floating-point valued &#39;Lens&#39; to an arbitrary power</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and return the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.**~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;**~&#39;) :: &#39;Floating&#39; a =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;**~&#39;) :: &#39;Floating&#39; a =&gt; &#39;Control.Lens.Iso.Iso&#39;&#39; s a  -&gt; a -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_602_3_602_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_602_3_602_7&#39;)"><span class="mpre">(&lt;**~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 601, srcSpanStartColumn = 11, srcSpanEndLine = 601, srcSpanEndColumn = 24}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 601, srcSpanStartColumn = 22, srcSpanEndLine = 601, srcSpanEndColumn = 24}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/C"><span class="mpre">Floating a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Optical</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
</span><a name="loc_602_1_602_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_602_1_602_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_602_3_602_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_602_3_602_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;**~</span></span></a><span class="mpre"> </span><a name="loc_602_8_602_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_602_8_602_9&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="#loc_602_1_602_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_602_1_602_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_514_3_514_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_3_514_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;%~</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">**</span></span><span class="mpre"> </span><a href="#loc_602_8_602_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_602_8_602_9&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_602_3_602_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_602_3_602_7&#39;)"><span class="mpre">(&lt;**~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Logically &#39;||&#39; a Boolean valued &#39;Lens&#39; and return the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.||~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;||~&#39;) :: &#39;Lens&#39;&#39; s &#39;Bool&#39; -&gt; &#39;Bool&#39; -&gt; s -&gt; (&#39;Bool&#39;, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;||~&#39;) :: &#39;Control.Lens.Iso.Iso&#39;&#39; s &#39;Bool&#39;  -&gt; &#39;Bool&#39; -&gt; s -&gt; (&#39;Bool&#39;, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_614_3_614_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_614_3_614_7&#39;)"><span class="mpre">(&lt;||~)</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Optical</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
</span><a name="loc_614_1_614_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_614_1_614_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_614_3_614_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_614_3_614_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;||~</span></span></a><span class="mpre"> </span><a name="loc_614_8_614_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_614_8_614_9&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_614_1_614_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_614_1_614_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_514_3_514_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_3_514_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;%~</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">||</span></span><span class="mpre"> </span><a href="#loc_614_8_614_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_614_8_614_9&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_614_3_614_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_614_3_614_7&#39;)"><span class="mpre">(&lt;||~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Logically &#39;&amp;&amp;&#39; a Boolean valued &#39;Lens&#39; and return the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.&amp;&amp;~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&amp;&amp;~&#39;) :: &#39;Lens&#39;&#39; s &#39;Bool&#39; -&gt; &#39;Bool&#39; -&gt; s -&gt; (&#39;Bool&#39;, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&amp;&amp;~&#39;) :: &#39;Control.Lens.Iso.Iso&#39;&#39; s &#39;Bool&#39;  -&gt; &#39;Bool&#39; -&gt; s -&gt; (&#39;Bool&#39;, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_626_3_626_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_626_3_626_7&#39;)"><span class="mpre">(&lt;&amp;&amp;~)</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Optical</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
</span><a name="loc_626_1_626_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_626_1_626_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_626_3_626_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_626_3_626_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&amp;&amp;~</span></span></a><span class="mpre"> </span><a name="loc_626_8_626_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_626_8_626_9&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_626_1_626_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_626_1_626_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_514_3_514_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_3_514_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;%~</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_626_8_626_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_626_8_626_9&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_626_3_626_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_626_3_626_7&#39;)"><span class="mpre">(&lt;&amp;&amp;~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target of a &#39;Lens&#39;, but return the old value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the old value, (&#39;Control.Lens.Setter.%~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;%~&#39;) ::             &#39;Lens&#39; s t a b      -&gt; (a -&gt; b) -&gt; s -&gt; (a, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;%~&#39;) ::             &#39;Control.Lens.Iso.Iso&#39; s t a b       -&gt; (a -&gt; b) -&gt; s -&gt; (a, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;%~&#39;) :: &#39;Monoid&#39; a =&gt; &#39;Control.Lens.Traversal.Traversal&#39; s t a b -&gt; (a -&gt; b) -&gt; s -&gt; (a, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_639_1_639_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_639_1_639_7&#39;)"><span class="mpre">(&lt;&lt;%~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 638, srcSpanStartColumn = 11, srcSpanEndLine = 638, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 638, srcSpanStartColumn = 20, srcSpanEndLine = 638, srcSpanEndColumn = 22}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/C"><span class="mpre">Strong p =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Optical</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
</span><a name="loc_639_1_639_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_639_1_639_7&#39;)"><span class="hl_fundecl"><span class="mpre">(&lt;&lt;%~)</span></span></a><span class="mpre"> </span><a name="loc_639_8_639_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_639_8_639_9&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> = </span><a href="#loc_639_8_639_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_639_8_639_9&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Profunctor.Unsafe.html#loc_94_3_94_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_94_3_94_7&#39;)"><span class="hl_varref"><span class="mpre">lmap</span></span></a><span class="mpre"> (\</span><a name="loc_639_23_639_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_639_23_639_24&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_639_23_639_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_639_23_639_24&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_639_23_639_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_639_23_639_24&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Profunctor.html#loc_188_3_188_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_188_3_188_10&#39;)"><span class="hl_varref"><span class="mpre">second&#39;</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_639_1_639_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_639_1_639_7&#39;)"><span class="mpre">(&lt;&lt;%~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Replace the target of a &#39;Lens&#39;, but return the old value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the old value, (&#39;Control.Lens.Setter..~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;.~&#39;) ::             &#39;Lens&#39; s t a b      -&gt; b -&gt; s -&gt; (a, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;.~&#39;) ::             &#39;Control.Lens.Iso.Iso&#39; s t a b       -&gt; b -&gt; s -&gt; (a, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;.~&#39;) :: &#39;Monoid&#39; a =&gt; &#39;Control.Lens.Traversal.Traversal&#39; s t a b -&gt; b -&gt; s -&gt; (a, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_652_3_652_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_652_3_652_7&#39;)"><span class="mpre">(&lt;&lt;.~)</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Optical</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
</span><a name="loc_652_1_652_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_652_1_652_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_652_3_652_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_652_3_652_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;.~</span></span></a><span class="mpre"> </span><a name="loc_652_8_652_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_652_8_652_9&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_652_1_652_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_652_1_652_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_652_17_652_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_652_17_652_18&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_652_17_652_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_652_17_652_18&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_652_8_652_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_652_8_652_9&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_652_3_652_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_652_3_652_7&#39;)"><span class="mpre">(&lt;&lt;.~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Increment the target of a numerically valued &#39;Lens&#39; and return the old value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the old value, (&#39;Control.Lens.Setter.+~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; _1 &lt;&lt;+~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a,(a + c,b))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; _2 &lt;&lt;+~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (b,(a,b + c))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;+~&#39;) :: &#39;Num&#39; a =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;+~&#39;) :: &#39;Num&#39; a =&gt; &#39;Iso&#39;&#39; s a -&gt; a -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_670_3_670_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_670_3_670_7&#39;)"><span class="mpre">(&lt;&lt;+~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 669, srcSpanStartColumn = 11, srcSpanEndLine = 669, srcSpanEndColumn = 19}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 669, srcSpanStartColumn = 17, srcSpanEndLine = 669, srcSpanEndColumn = 19}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/C"><span class="mpre">Num a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Optical&#39;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">)
</span><a name="loc_670_1_670_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_670_1_670_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_670_3_670_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_670_3_670_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;+~</span></span></a><span class="mpre"> </span><a name="loc_670_8_670_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_670_8_670_9&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_670_1_670_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_670_1_670_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_670_17_670_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_670_17_670_18&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_670_17_670_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_670_17_670_18&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_670_17_670_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_670_17_670_18&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_670_8_670_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_670_8_670_9&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_670_3_670_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_670_3_670_7&#39;)"><span class="mpre">(&lt;&lt;+~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Decrement the target of a numerically valued &#39;Lens&#39; and return the old value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the old value, (&#39;Control.Lens.Setter.-~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; _1 &lt;&lt;-~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a,(a - c,b))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; _2 &lt;&lt;-~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (b,(a,b - c))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;-~&#39;) :: &#39;Num&#39; a =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;-~&#39;) :: &#39;Num&#39; a =&gt; &#39;Iso&#39;&#39; s a -&gt; a -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_688_3_688_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_688_3_688_7&#39;)"><span class="mpre">(&lt;&lt;-~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 687, srcSpanStartColumn = 11, srcSpanEndLine = 687, srcSpanEndColumn = 19}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 687, srcSpanStartColumn = 17, srcSpanEndLine = 687, srcSpanEndColumn = 19}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/C"><span class="mpre">Num a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Optical&#39;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">)
</span><a name="loc_688_1_688_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_688_1_688_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_688_3_688_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_688_3_688_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;-~</span></span></a><span class="mpre"> </span><a name="loc_688_8_688_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_688_8_688_9&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_688_1_688_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_688_1_688_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_688_17_688_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_688_17_688_18&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_688_17_688_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_688_17_688_18&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_688_17_688_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_688_17_688_18&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="#loc_688_8_688_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_688_8_688_9&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_688_3_688_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_688_3_688_7&#39;)"><span class="mpre">(&lt;&lt;-~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Multiply the target of a numerically valued &#39;Lens&#39; and return the old value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the old value, (&#39;Control.Lens.Setter.-~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; _1 &lt;&lt;*~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a,(a * c,b))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; _2 &lt;&lt;*~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (b,(a,b * c))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;*~&#39;) :: &#39;Num&#39; a =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;*~&#39;) :: &#39;Num&#39; a =&gt; &#39;Iso&#39;&#39; s a -&gt; a -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_706_3_706_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_706_3_706_7&#39;)"><span class="mpre">(&lt;&lt;*~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 705, srcSpanStartColumn = 11, srcSpanEndLine = 705, srcSpanEndColumn = 19}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 705, srcSpanStartColumn = 17, srcSpanEndLine = 705, srcSpanEndColumn = 19}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/C"><span class="mpre">Num a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Optical&#39;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">)
</span><a name="loc_706_1_706_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_706_1_706_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_706_3_706_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_706_3_706_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;*~</span></span></a><span class="mpre"> </span><a name="loc_706_8_706_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_706_8_706_9&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_706_1_706_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_706_1_706_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_706_17_706_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_706_17_706_18&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_706_17_706_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_706_17_706_18&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_706_17_706_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_706_17_706_18&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">*</span></span><span class="mpre"> </span><a href="#loc_706_8_706_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_706_8_706_9&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_706_3_706_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_706_3_706_7&#39;)"><span class="mpre">(&lt;&lt;*~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Divide the target of a numerically valued &#39;Lens&#39; and return the old value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the old value, (&#39;Control.Lens.Setter.//~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; _1 &lt;&lt;//~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a,(a / c,b))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (&quot;Hawaii&quot;,10) &amp; _2 &lt;&lt;//~ 2</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (10.0,(&quot;Hawaii&quot;,5.0))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;//~&#39;) :: Fractional a =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;//~&#39;) :: Fractional a =&gt; &#39;Iso&#39;&#39; s a -&gt; a -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_724_3_724_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_724_3_724_8&#39;)"><span class="mpre">(&lt;&lt;//~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 723, srcSpanStartColumn = 12, srcSpanEndLine = 723, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 723, srcSpanStartColumn = 25, srcSpanEndLine = 723, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/C"><span class="mpre">Fractional a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Optical&#39;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">)
</span><a name="loc_724_1_724_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_724_1_724_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_724_3_724_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_724_3_724_8&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;//~</span></span></a><span class="mpre"> </span><a name="loc_724_9_724_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_724_9_724_10&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_724_1_724_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_724_1_724_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_724_18_724_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_724_18_724_19&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_724_18_724_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_724_18_724_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_724_18_724_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_724_18_724_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">/</span></span><span class="mpre"> </span><a href="#loc_724_9_724_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_724_9_724_10&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_724_3_724_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_724_3_724_8&#39;)"><span class="mpre">(&lt;&lt;//~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Raise the target of a numerically valued &#39;Lens&#39; to a non-negative power and return the old value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the old value, (&#39;Control.Lens.Setter.^~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;^~&#39;) :: (&#39;Num&#39; a, &#39;Integral&#39; e) =&gt; &#39;Lens&#39;&#39; s a -&gt; e -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;^~&#39;) :: (&#39;Num&#39; a, &#39;Integral&#39; e) =&gt; &#39;Iso&#39;&#39; s a -&gt; e -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_736_3_736_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_736_3_736_7&#39;)"><span class="mpre">(&lt;&lt;^~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 735, srcSpanStartColumn = 11, srcSpanEndLine = 735, srcSpanEndColumn = 33}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 735, srcSpanStartColumn = 11, srcSpanEndLine = 735, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine ="><span class="mpre">(Num a, Integral e) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Optical&#39;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">)
</span><a name="loc_736_1_736_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_736_1_736_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_736_3_736_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_736_3_736_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;^~</span></span></a><span class="mpre"> </span><a name="loc_736_8_736_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_736_8_736_9&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> = </span><a href="#loc_736_1_736_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_736_1_736_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_736_17_736_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_736_17_736_18&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_736_17_736_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_736_17_736_18&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_736_17_736_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_736_17_736_18&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">^</span></span><span class="mpre"> </span><a href="#loc_736_8_736_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_736_8_736_9&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_736_3_736_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_736_3_736_7&#39;)"><span class="mpre">(&lt;&lt;^~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Raise the target of a fractionally valued &#39;Lens&#39; to an integral power and return the old value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the old value, (&#39;Control.Lens.Setter.^^~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;^^~&#39;) :: (&#39;Fractional&#39; a, &#39;Integral&#39; e) =&gt; &#39;Lens&#39;&#39; s a -&gt; e -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;^^~&#39;) :: (&#39;Fractional&#39; a, &#39;Integral&#39; e) =&gt; &#39;Iso&#39;&#39; s a -&gt; e -&gt; S -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_748_3_748_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_748_3_748_8&#39;)"><span class="mpre">(&lt;&lt;^^~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 747, srcSpanStartColumn = 12, srcSpanEndLine = 747, srcSpanEndColumn = 41}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 747, srcSpanStartColumn = 12, srcSpanEndLine = 747, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine ="><span class="mpre">(Fractional a, Integral e) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Optical&#39;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">)
</span><a name="loc_748_1_748_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_748_1_748_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_748_3_748_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_748_3_748_8&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;^^~</span></span></a><span class="mpre"> </span><a name="loc_748_9_748_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_748_9_748_10&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> = </span><a href="#loc_748_1_748_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_748_1_748_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_748_18_748_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_748_18_748_19&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_748_18_748_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_748_18_748_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_748_18_748_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_748_18_748_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">^^</span></span><span class="mpre"> </span><a href="#loc_748_9_748_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_748_9_748_10&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_748_3_748_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_748_3_748_8&#39;)"><span class="mpre">(&lt;&lt;^^~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Raise the target of a floating-point valued &#39;Lens&#39; to an arbitrary power and return the old value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the old value, (&#39;Control.Lens.Setter.**~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; _1 &lt;&lt;**~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (a,(a**c,b))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (a,b) &amp; _2 &lt;&lt;**~ c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (b,(a,b**c))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;**~&#39;) :: &#39;Floating&#39; a =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;**~&#39;) :: &#39;Floating&#39; a =&gt; &#39;Iso&#39;&#39; s a -&gt; a -&gt; s -&gt; (a, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_766_3_766_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_766_3_766_8&#39;)"><span class="mpre">(&lt;&lt;**~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 765, srcSpanStartColumn = 12, srcSpanEndLine = 765, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 765, srcSpanStartColumn = 23, srcSpanEndLine = 765, srcSpanEndColumn = 25}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/C"><span class="mpre">Floating a =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Optical&#39;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">)
</span><a name="loc_766_1_766_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_766_1_766_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_766_3_766_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_766_3_766_8&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;**~</span></span></a><span class="mpre"> </span><a name="loc_766_9_766_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_766_9_766_10&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> = </span><a href="#loc_766_1_766_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_766_1_766_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_766_18_766_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_766_18_766_19&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_766_18_766_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_766_18_766_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_766_18_766_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_766_18_766_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">**</span></span><span class="mpre"> </span><a href="#loc_766_9_766_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_766_9_766_10&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_766_3_766_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_766_3_766_8&#39;)"><span class="mpre">(&lt;&lt;**~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Logically &#39;||&#39; the target of a &#39;Bool&#39;-valued &#39;Lens&#39; and return the old value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the old value, (&#39;Control.Lens.Setter.||~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (False,6) &amp; _1 &lt;&lt;||~ True</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (False,(True,6))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (&quot;hello&quot;,True) &amp; _2 &lt;&lt;||~ False</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (True,(&quot;hello&quot;,True))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;||~&#39;) :: &#39;Lens&#39;&#39; s &#39;Bool&#39; -&gt; &#39;Bool&#39; -&gt; s -&gt; (&#39;Bool&#39;, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;||~&#39;) :: &#39;Iso&#39;&#39; s &#39;Bool&#39; -&gt; &#39;Bool&#39; -&gt; s -&gt; (&#39;Bool&#39;, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_784_3_784_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_3_784_8&#39;)"><span class="mpre">(&lt;&lt;||~)</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Optical&#39;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">)
</span><a name="loc_784_1_784_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_1_784_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_784_3_784_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_3_784_8&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;||~</span></span></a><span class="mpre"> </span><a name="loc_784_9_784_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_9_784_10&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_784_1_784_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_1_784_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_784_18_784_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_18_784_19&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_784_18_784_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_18_784_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_784_9_784_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_9_784_10&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">||</span></span><span class="mpre"> </span><a href="#loc_784_18_784_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_18_784_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_784_3_784_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_784_3_784_8&#39;)"><span class="mpre">(&lt;&lt;||~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Logically &#39;&amp;&amp;&#39; the target of a &#39;Bool&#39;-valued &#39;Lens&#39; and return the old value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the old value, (&#39;Control.Lens.Setter.&amp;&amp;~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (False,6) &amp; _1 &lt;&lt;&amp;&amp;~ True</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (False,(False,6))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (&quot;hello&quot;,True) &amp; _2 &lt;&lt;&amp;&amp;~ False</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (True,(&quot;hello&quot;,False))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;&amp;&amp;~&#39;) :: &#39;Lens&#39;&#39; s Bool -&gt; Bool -&gt; s -&gt; (Bool, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;&amp;&amp;~&#39;) :: &#39;Iso&#39;&#39; s Bool -&gt; Bool -&gt; s -&gt; (Bool, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_802_3_802_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_802_3_802_8&#39;)"><span class="mpre">(&lt;&lt;&amp;&amp;~)</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Optical&#39;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">)
</span><a name="loc_802_1_802_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_802_1_802_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_802_3_802_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_802_3_802_8&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;&amp;&amp;~</span></span></a><span class="mpre"> </span><a name="loc_802_9_802_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_802_9_802_10&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_802_1_802_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_802_1_802_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_802_18_802_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_802_18_802_19&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_802_18_802_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_802_18_802_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_802_9_802_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_802_9_802_10&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_802_18_802_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_802_18_802_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_802_3_802_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_802_3_802_8&#39;)"><span class="mpre">(&lt;&lt;&amp;&amp;~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target of a monoidally valued &#39;Lens&#39; by &#39;mappend&#39;ing a new value and return the old value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the old value, (&#39;Control.Lens.Setter.&lt;&gt;~&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (Sum a,b) &amp; _1 &lt;&lt;&lt;&gt;~ Sum c</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (Sum {getSum = a},(Sum {getSum = a + c},b))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; _2 &lt;&lt;&lt;&gt;~ &quot;, 007&quot; $ (&quot;James&quot;, &quot;Bond&quot;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&quot;Bond&quot;,(&quot;James&quot;,&quot;Bond, 007&quot;))</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;&lt;&gt;~&#39;) :: &#39;Monoid&#39; r =&gt; &#39;Lens&#39;&#39; s r -&gt; r -&gt; s -&gt; (r, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;&lt;&gt;~&#39;) :: &#39;Monoid&#39; r =&gt; &#39;Iso&#39;&#39; s r -&gt; r -&gt; s -&gt; (r, s)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_820_3_820_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_3_820_8&#39;)"><span class="mpre">(&lt;&lt;&lt;&gt;~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 819, srcSpanStartColumn = 12, srcSpanEndLine = 819, srcSpanEndColumn = 23}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 819, srcSpanStartColumn = 21, srcSpanEndLine = 819, srcSpanEndColumn = 23}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/C"><span class="mpre">Monoid r =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Optical&#39;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">)
</span><a name="loc_820_1_820_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_1_820_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_820_3_820_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_3_820_8&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;&lt;&gt;~</span></span></a><span class="mpre"> </span><a name="loc_820_9_820_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_9_820_10&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_820_1_820_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_1_820_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_820_18_820_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_18_820_19&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_820_18_820_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_18_820_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_820_18_820_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_18_820_19&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="Data.Monoid.html#loc_82_9_82_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_82_9_82_16&#39;)"><span class="hl_infix"><span class="mpre">`mappend`</span></span></a><span class="mpre"> </span><a href="#loc_820_9_820_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_9_820_10&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_820_3_820_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_3_820_8&#39;)"><span class="mpre">(&lt;&lt;&lt;&gt;~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Setting and Remembering State</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target of a &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s state by a user supplied</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- function and return the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When applied to a &#39;Control.Lens.Traversal.Traversal&#39;, it this will return a monoidal summary of all of the intermediate</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- results.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.%=&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;%=&#39;) :: &#39;MonadState&#39; s m             =&gt; &#39;Lens&#39;&#39; s a      -&gt; (a -&gt; a) -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;%=&#39;) :: &#39;MonadState&#39; s m             =&gt; &#39;Control.Lens.Iso.Iso&#39;&#39; s a       -&gt; (a -&gt; a) -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;%=&#39;) :: (&#39;MonadState&#39; s m, &#39;Monoid&#39; a) =&gt; &#39;Control.Lens.Traversal.Traversal&#39;&#39; s a -&gt; (a -&gt; a) -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_841_3_841_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_3_841_6&#39;)"><span class="mpre">(&lt;%=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 840, srcSpanStartColumn = 10, srcSpanEndLine = 840, srcSpanEndColumn = 43}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 840, srcSpanStartColumn = 10, srcSpanEndLine = 840, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine ="><span class="mpre">(Profunctor p, MonadState s m) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Over</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_841_1_841_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_1_841_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_841_3_841_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_3_841_6&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;%=</span></span></a><span class="mpre"> </span><a name="loc_841_7_841_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_7_841_8&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_841_1_841_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_1_841_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_299_3_299_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_3_299_6&#39;)"><span class="hl_infix"><span class="mpre">%%=</span></span></a><span class="mpre"> </span><a href="Data.Profunctor.Unsafe.html#loc_101_3_101_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_101_3_101_7&#39;)"><span class="hl_varref"><span class="mpre">rmap</span></span></a><span class="mpre"> (\</span><a name="loc_841_24_841_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_24_841_25&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_841_24_841_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_24_841_25&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">, </span><a href="#loc_841_24_841_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_24_841_25&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)) </span><a href="#loc_841_7_841_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_7_841_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_841_3_841_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_3_841_6&#39;)"><span class="mpre">(&lt;%=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | Add to the target of a numerically valued &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s state</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and return the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the addition, (&#39;Control.Lens.Setter.+=&#39;) is more</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;+=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;+=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Control.Lens.Iso.Iso&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_856_3_856_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_856_3_856_6&#39;)"><span class="mpre">(&lt;+=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 855, srcSpanStartColumn = 10, srcSpanEndLine = 855, srcSpanEndColumn = 36}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 855, srcSpanStartColumn = 10, srcSpanEndLine = 855, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine ="><span class="mpre">(MonadState s m, Num a) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike&#39;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_856_1_856_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_856_1_856_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_856_3_856_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_856_3_856_6&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;+=</span></span></a><span class="mpre"> </span><a name="loc_856_7_856_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_856_7_856_8&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="#loc_856_1_856_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_856_1_856_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_841_3_841_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_3_841_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;%=</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_856_7_856_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_856_7_856_8&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_856_3_856_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_856_3_856_6&#39;)"><span class="mpre">(&lt;+=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Subtract from the target of a numerically valued &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- state and return the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the subtraction, (&#39;Control.Lens.Setter.-=&#39;) is more</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;-=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;-=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Control.Lens.Iso.Iso&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_870_3_870_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_870_3_870_6&#39;)"><span class="mpre">(&lt;-=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 869, srcSpanStartColumn = 10, srcSpanEndLine = 869, srcSpanEndColumn = 36}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 869, srcSpanStartColumn = 10, srcSpanEndLine = 869, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine ="><span class="mpre">(MonadState s m, Num a) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike&#39;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_870_1_870_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_870_1_870_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_870_3_870_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_870_3_870_6&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;-=</span></span></a><span class="mpre"> </span><a name="loc_870_7_870_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_870_7_870_8&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="#loc_870_1_870_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_870_1_870_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_841_3_841_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_3_841_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;%=</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">subtract</span></span><span class="mpre"> </span><a href="#loc_870_7_870_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_870_7_870_8&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_870_3_870_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_870_3_870_6&#39;)"><span class="mpre">(&lt;-=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Multiply the target of a numerically valued &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- state and return the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the multiplication, (&#39;Control.Lens.Setter.*=&#39;) is more</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;*=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;*=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Control.Lens.Iso.Iso&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_884_3_884_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_884_3_884_6&#39;)"><span class="mpre">(&lt;*=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 883, srcSpanStartColumn = 10, srcSpanEndLine = 883, srcSpanEndColumn = 36}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 883, srcSpanStartColumn = 10, srcSpanEndLine = 883, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine ="><span class="mpre">(MonadState s m, Num a) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike&#39;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_884_1_884_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_884_1_884_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_884_3_884_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_884_3_884_6&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;*=</span></span></a><span class="mpre"> </span><a name="loc_884_7_884_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_884_7_884_8&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="#loc_884_1_884_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_884_1_884_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_841_3_841_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_3_841_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;%=</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">*</span></span><span class="mpre"> </span><a href="#loc_884_7_884_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_884_7_884_8&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_884_3_884_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_884_3_884_6&#39;)"><span class="mpre">(&lt;*=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Divide the target of a fractionally valued &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s state</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and return the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the division, (&#39;Control.Lens.Setter.//=&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;//=&#39;) :: (&#39;MonadState&#39; s m, &#39;Fractional&#39; a) =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;//=&#39;) :: (&#39;MonadState&#39; s m, &#39;Fractional&#39; a) =&gt; &#39;Control.Lens.Iso.Iso&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_897_3_897_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_897_3_897_7&#39;)"><span class="mpre">(&lt;//=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 896, srcSpanStartColumn = 11, srcSpanEndLine = 896, srcSpanEndColumn = 44}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 896, srcSpanStartColumn = 11, srcSpanEndLine = 896, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine ="><span class="mpre">(MonadState s m, Fractional a) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike&#39;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_897_1_897_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_897_1_897_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_897_3_897_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_897_3_897_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;//=</span></span></a><span class="mpre"> </span><a name="loc_897_8_897_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_897_8_897_9&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="#loc_897_1_897_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_897_1_897_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_841_3_841_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_3_841_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;%=</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">/</span></span><span class="mpre"> </span><a href="#loc_897_8_897_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_897_8_897_9&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_897_3_897_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_897_3_897_7&#39;)"><span class="mpre">(&lt;//=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Raise the target of a numerically valued &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s state</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- to a non-negative &#39;Integral&#39; power and return the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.^=&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;^=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a, &#39;Integral&#39; e) =&gt; &#39;Lens&#39;&#39; s a -&gt; e -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;^=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a, &#39;Integral&#39; e) =&gt; &#39;Control.Lens.Iso.Iso&#39;&#39; s a -&gt; e -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_910_3_910_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_910_3_910_6&#39;)"><span class="mpre">(&lt;^=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 909, srcSpanStartColumn = 10, srcSpanEndLine = 909, srcSpanEndColumn = 48}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 909, srcSpanStartColumn = 10, srcSpanEndLine = 909, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine ="><span class="mpre">(MonadState s m, Num a, Integral e) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike&#39;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_910_1_910_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_910_1_910_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_910_3_910_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_910_3_910_6&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;^=</span></span></a><span class="mpre"> </span><a name="loc_910_7_910_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_910_7_910_8&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> = </span><a href="#loc_910_1_910_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_910_1_910_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_841_3_841_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_3_841_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;%=</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">^</span></span><span class="mpre"> </span><a href="#loc_910_7_910_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_910_7_910_8&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_910_3_910_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_910_3_910_6&#39;)"><span class="mpre">(&lt;^=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Raise the target of a fractionally valued &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s state</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- to an &#39;Integral&#39; power and return the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.^^=&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;^^=&#39;) :: (&#39;MonadState&#39; s m, &#39;Fractional&#39; b, &#39;Integral&#39; e) =&gt; &#39;Lens&#39;&#39; s a -&gt; e -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;^^=&#39;) :: (&#39;MonadState&#39; s m, &#39;Fractional&#39; b, &#39;Integral&#39; e) =&gt; &#39;Control.Lens.Iso.Iso&#39;&#39; s a  -&gt; e -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_923_3_923_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_923_3_923_7&#39;)"><span class="mpre">(&lt;^^=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 922, srcSpanStartColumn = 11, srcSpanEndLine = 922, srcSpanEndColumn = 56}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 922, srcSpanStartColumn = 11, srcSpanEndLine = 922, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine ="><span class="mpre">(MonadState s m, Fractional a, Integral e) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike&#39;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_923_1_923_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_923_1_923_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_923_3_923_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_923_3_923_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;^^=</span></span></a><span class="mpre"> </span><a name="loc_923_8_923_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_923_8_923_9&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> = </span><a href="#loc_923_1_923_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_923_1_923_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_841_3_841_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_3_841_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;%=</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">^^</span></span><span class="mpre"> </span><a href="#loc_923_8_923_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_923_8_923_9&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_923_3_923_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_923_3_923_7&#39;)"><span class="mpre">(&lt;^^=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Raise the target of a floating-point valued &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- state to an arbitrary power and return the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.**=&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;**=&#39;) :: (&#39;MonadState&#39; s m, &#39;Floating&#39; a) =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;**=&#39;) :: (&#39;MonadState&#39; s m, &#39;Floating&#39; a) =&gt; &#39;Control.Lens.Iso.Iso&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_936_3_936_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_3_936_7&#39;)"><span class="mpre">(&lt;**=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 935, srcSpanStartColumn = 11, srcSpanEndLine = 935, srcSpanEndColumn = 42}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 935, srcSpanStartColumn = 11, srcSpanEndLine = 935, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine ="><span class="mpre">(MonadState s m, Floating a) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike&#39;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_936_1_936_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_1_936_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_936_3_936_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_3_936_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;**=</span></span></a><span class="mpre"> </span><a name="loc_936_8_936_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_8_936_9&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> = </span><a href="#loc_936_1_936_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_1_936_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_841_3_841_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_3_841_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;%=</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">**</span></span><span class="mpre"> </span><a href="#loc_936_8_936_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_8_936_9&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_936_3_936_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_936_3_936_7&#39;)"><span class="mpre">(&lt;**=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Logically &#39;||&#39; a Boolean valued &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s state and return</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.||=&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;||=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Lens&#39;&#39; s &#39;Bool&#39; -&gt; &#39;Bool&#39; -&gt; m &#39;Bool&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;||=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Control.Lens.Iso.Iso&#39;&#39; s &#39;Bool&#39;  -&gt; &#39;Bool&#39; -&gt; m &#39;Bool&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_949_3_949_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_949_3_949_7&#39;)"><span class="mpre">(&lt;||=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 948, srcSpanStartColumn = 11, srcSpanEndLine = 948, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 948, srcSpanStartColumn = 26, srcSpanEndLine = 948, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/C"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike&#39;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_949_1_949_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_949_1_949_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_949_3_949_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_949_3_949_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;||=</span></span></a><span class="mpre"> </span><a name="loc_949_8_949_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_949_8_949_9&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_949_1_949_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_949_1_949_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_841_3_841_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_3_841_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;%=</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">||</span></span><span class="mpre"> </span><a href="#loc_949_8_949_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_949_8_949_9&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_949_3_949_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_949_3_949_7&#39;)"><span class="mpre">(&lt;||=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Logically &#39;&amp;&amp;&#39; a Boolean valued &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s state and return</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.&amp;&amp;=&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&amp;&amp;=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Lens&#39;&#39; s &#39;Bool&#39; -&gt; &#39;Bool&#39; -&gt; m &#39;Bool&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&amp;&amp;=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Control.Lens.Iso.Iso&#39;&#39; s &#39;Bool&#39;  -&gt; &#39;Bool&#39; -&gt; m &#39;Bool&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_962_3_962_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_962_3_962_7&#39;)"><span class="mpre">(&lt;&amp;&amp;=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 961, srcSpanStartColumn = 11, srcSpanEndLine = 961, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 961, srcSpanStartColumn = 26, srcSpanEndLine = 961, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/C"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike&#39;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_962_1_962_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_962_1_962_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_962_3_962_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_962_3_962_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&amp;&amp;=</span></span></a><span class="mpre"> </span><a name="loc_962_8_962_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_962_8_962_9&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_962_1_962_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_962_1_962_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_841_3_841_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_3_841_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;%=</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_962_8_962_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_962_8_962_9&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_962_3_962_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_962_3_962_7&#39;)"><span class="mpre">(&lt;&amp;&amp;=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target of a &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s state by a user supplied</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- function and return the /old/ value that was replaced.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When applied to a &#39;Control.Lens.Traversal.Traversal&#39;, it this will return a monoidal summary of all of the old values</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- present.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.%=&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;%=&#39;) :: &#39;MonadState&#39; s m             =&gt; &#39;Lens&#39;&#39; s a      -&gt; (a -&gt; a) -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;%=&#39;) :: &#39;MonadState&#39; s m             =&gt; &#39;Control.Lens.Iso.Iso&#39;&#39; s a       -&gt; (a -&gt; a) -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;%=&#39;) :: (&#39;MonadState&#39; s m, &#39;Monoid&#39; b) =&gt; &#39;Control.Lens.Traversal.Traversal&#39;&#39; s a -&gt; (a -&gt; a) -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @(&#39;&lt;&lt;%=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;LensLike&#39; ((,)a) s s a b -&gt; (a -&gt; b) -&gt; m a@</span></span><span class="mpre">
</span><a href="#loc_981_3_981_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_981_3_981_7&#39;)"><span class="mpre">(&lt;&lt;%=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 980, srcSpanStartColumn = 11, srcSpanEndLine = 980, srcSpanEndColumn = 40}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 980, srcSpanStartColumn = 11, srcSpanEndLine = 980, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine ="><span class="mpre">(Strong p, MonadState s m) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Over</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_981_1_981_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_981_1_981_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_981_3_981_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_981_3_981_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;%=</span></span></a><span class="mpre"> </span><a name="loc_981_8_981_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_981_8_981_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_981_1_981_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_981_1_981_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_299_3_299_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_3_299_6&#39;)"><span class="hl_infix"><span class="mpre">%%=</span></span></a><span class="mpre"> </span><a href="Data.Profunctor.Unsafe.html#loc_94_3_94_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.Unsafe.html#loc_94_3_94_7&#39;)"><span class="hl_varref"><span class="mpre">lmap</span></span></a><span class="mpre"> (\</span><a name="loc_981_25_981_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_981_25_981_26&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_981_25_981_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_981_25_981_26&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">,</span><a href="#loc_981_25_981_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_981_25_981_26&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)) (</span><a href="Data.Profunctor.html#loc_188_3_188_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_188_3_188_10&#39;)"><span class="hl_varref"><span class="mpre">second&#39;</span></span></a><span class="mpre"> </span><a href="#loc_981_8_981_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_981_8_981_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_981_3_981_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_981_3_981_7&#39;)"><span class="mpre">(&lt;&lt;%=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Replace the target of a &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s state with a user supplied</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- value and return the /old/ value that was replaced.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When applied to a &#39;Control.Lens.Traversal.Traversal&#39;, it this will return a monoidal summary of all of the old values</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- present.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter..=&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;.=&#39;) :: &#39;MonadState&#39; s m             =&gt; &#39;Lens&#39;&#39; s a      -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;.=&#39;) :: &#39;MonadState&#39; s m             =&gt; &#39;Control.Lens.Iso.Iso&#39;&#39; s a       -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;.=&#39;) :: (&#39;MonadState&#39; s m, &#39;Monoid&#39; t) =&gt; &#39;Control.Lens.Traversal.Traversal&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_998_3_998_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_998_3_998_7&#39;)"><span class="mpre">(&lt;&lt;.=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 997, srcSpanStartColumn = 11, srcSpanEndLine = 997, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 997, srcSpanStartColumn = 26, srcSpanEndLine = 997, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/C"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_998_1_998_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_998_1_998_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_998_3_998_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_998_3_998_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;.=</span></span></a><span class="mpre"> </span><a name="loc_998_8_998_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_998_8_998_9&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_998_1_998_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_998_1_998_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_299_3_299_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_3_299_6&#39;)"><span class="hl_infix"><span class="mpre">%%=</span></span></a><span class="mpre"> \</span><a name="loc_998_19_998_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_998_19_998_20&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_998_19_998_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_998_19_998_20&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">,</span><a href="#loc_998_8_998_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_998_8_998_9&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_998_3_998_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_998_3_998_7&#39;)"><span class="mpre">(&lt;&lt;.=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target of a &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s state by adding a value</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and return the /old/ value that was replaced.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.+=&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;+=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;+=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Iso&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1011_3_1011_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1011_3_1011_7&#39;)"><span class="mpre">(&lt;&lt;+=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1010, srcSpanStartColumn = 11, srcSpanEndLine = 1010, srcSpanEndColumn = 37}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1010, srcSpanStartColumn = 11, srcSpanEndLine = 1010, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLi"><span class="mpre">(MonadState s m, Num a) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike&#39;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_1011_1_1011_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1011_1_1011_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1011_3_1011_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1011_3_1011_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;+=</span></span></a><span class="mpre"> </span><a name="loc_1011_8_1011_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1011_8_1011_9&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_1011_1_1011_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1011_1_1011_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_299_3_299_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_3_299_6&#39;)"><span class="hl_infix"><span class="mpre">%%=</span></span></a><span class="mpre"> \</span><a name="loc_1011_19_1011_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1011_19_1011_20&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_1011_19_1011_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1011_19_1011_20&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_1011_19_1011_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1011_19_1011_20&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><a href="#loc_1011_8_1011_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1011_8_1011_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1011_3_1011_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1011_3_1011_7&#39;)"><span class="mpre">(&lt;&lt;+=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target of a &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s state by subtracting a value</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and return the /old/ value that was replaced.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.-=&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;-=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;-=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Iso&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1024_3_1024_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1024_3_1024_7&#39;)"><span class="mpre">(&lt;&lt;-=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1023, srcSpanStartColumn = 11, srcSpanEndLine = 1023, srcSpanEndColumn = 37}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1023, srcSpanStartColumn = 11, srcSpanEndLine = 1023, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLi"><span class="mpre">(MonadState s m, Num a) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike&#39;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_1024_1_1024_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1024_1_1024_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1024_3_1024_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1024_3_1024_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;-=</span></span></a><span class="mpre"> </span><a name="loc_1024_8_1024_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1024_8_1024_9&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_1024_1_1024_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1024_1_1024_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_299_3_299_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_3_299_6&#39;)"><span class="hl_infix"><span class="mpre">%%=</span></span></a><span class="mpre"> \</span><a name="loc_1024_19_1024_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1024_19_1024_20&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_1024_19_1024_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1024_19_1024_20&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_1024_19_1024_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1024_19_1024_20&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="#loc_1024_8_1024_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1024_8_1024_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1024_3_1024_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1024_3_1024_7&#39;)"><span class="mpre">(&lt;&lt;-=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target of a &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s state by multipling a value</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and return the /old/ value that was replaced.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.*=&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;*=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;*=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a) =&gt; &#39;Iso&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1037_3_1037_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1037_3_1037_7&#39;)"><span class="mpre">(&lt;&lt;*=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1036, srcSpanStartColumn = 11, srcSpanEndLine = 1036, srcSpanEndColumn = 37}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1036, srcSpanStartColumn = 11, srcSpanEndLine = 1036, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLi"><span class="mpre">(MonadState s m, Num a) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike&#39;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_1037_1_1037_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1037_1_1037_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1037_3_1037_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1037_3_1037_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;*=</span></span></a><span class="mpre"> </span><a name="loc_1037_8_1037_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1037_8_1037_9&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_1037_1_1037_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1037_1_1037_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_299_3_299_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_3_299_6&#39;)"><span class="hl_infix"><span class="mpre">%%=</span></span></a><span class="mpre"> \</span><a name="loc_1037_19_1037_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1037_19_1037_20&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_1037_19_1037_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1037_19_1037_20&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_1037_19_1037_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1037_19_1037_20&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">*</span></span><span class="mpre"> </span><a href="#loc_1037_8_1037_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1037_8_1037_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1037_3_1037_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1037_3_1037_7&#39;)"><span class="mpre">(&lt;&lt;*=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target of a &#39;Lens&#39; into your &#39;Monad&#39;\s state by dividing by a value</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and return the /old/ value that was replaced.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.//=&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;//=&#39;) :: (&#39;MonadState&#39; s m, &#39;Fractional&#39; a) =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;//=&#39;) :: (&#39;MonadState&#39; s m, &#39;Fractional&#39; a) =&gt; &#39;Iso&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1050_3_1050_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1050_3_1050_8&#39;)"><span class="mpre">(&lt;&lt;//=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1049, srcSpanStartColumn = 12, srcSpanEndLine = 1049, srcSpanEndColumn = 45}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1049, srcSpanStartColumn = 12, srcSpanEndLine = 1049, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLi"><span class="mpre">(MonadState s m, Fractional a) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike&#39;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_1050_1_1050_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1050_1_1050_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1050_3_1050_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1050_3_1050_8&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;//=</span></span></a><span class="mpre"> </span><a name="loc_1050_9_1050_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1050_9_1050_10&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_1050_1_1050_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1050_1_1050_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_299_3_299_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_3_299_6&#39;)"><span class="hl_infix"><span class="mpre">%%=</span></span></a><span class="mpre"> \</span><a name="loc_1050_20_1050_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1050_20_1050_21&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_1050_20_1050_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1050_20_1050_21&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_1050_20_1050_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1050_20_1050_21&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">/</span></span><span class="mpre"> </span><a href="#loc_1050_9_1050_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1050_9_1050_10&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1050_3_1050_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1050_3_1050_8&#39;)"><span class="mpre">(&lt;&lt;//=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target of a &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s state by raising it by a non-negative power</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and return the /old/ value that was replaced.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.^=&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;^=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a, &#39;Integral&#39; e) =&gt; &#39;Lens&#39;&#39; s a -&gt; e -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;^=&#39;) :: (&#39;MonadState&#39; s m, &#39;Num&#39; a, &#39;Integral&#39; e) =&gt; &#39;Iso&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1063_3_1063_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1063_3_1063_7&#39;)"><span class="mpre">(&lt;&lt;^=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1062, srcSpanStartColumn = 11, srcSpanEndLine = 1062, srcSpanEndColumn = 49}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1062, srcSpanStartColumn = 11, srcSpanEndLine = 1062, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLi"><span class="mpre">(MonadState s m, Num a, Integral e) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike&#39;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_1063_1_1063_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1063_1_1063_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1063_3_1063_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1063_3_1063_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;^=</span></span></a><span class="mpre"> </span><a name="loc_1063_8_1063_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1063_8_1063_9&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_1063_1_1063_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1063_1_1063_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_299_3_299_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_3_299_6&#39;)"><span class="hl_infix"><span class="mpre">%%=</span></span></a><span class="mpre"> \</span><a name="loc_1063_19_1063_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1063_19_1063_20&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_1063_19_1063_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1063_19_1063_20&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_1063_19_1063_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1063_19_1063_20&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">^</span></span><span class="mpre"> </span><a href="#loc_1063_8_1063_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1063_8_1063_9&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1063_3_1063_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1063_3_1063_7&#39;)"><span class="mpre">(&lt;&lt;^=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target of a &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s state by raising it by an integral power</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and return the /old/ value that was replaced.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.^^=&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;^^=&#39;) :: (&#39;MonadState&#39; s m, &#39;Fractional&#39; a, &#39;Integral&#39; e) =&gt; &#39;Lens&#39;&#39; s a -&gt; e -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;^^=&#39;) :: (&#39;MonadState&#39; s m, &#39;Fractional&#39; a, &#39;Integral&#39; e) =&gt; &#39;Iso&#39;&#39; s a -&gt; e -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1076_3_1076_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1076_3_1076_8&#39;)"><span class="mpre">(&lt;&lt;^^=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1075, srcSpanStartColumn = 12, srcSpanEndLine = 1075, srcSpanEndColumn = 57}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1075, srcSpanStartColumn = 12, srcSpanEndLine = 1075, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLi"><span class="mpre">(MonadState s m, Fractional a, Integral e) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike&#39;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">e</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_1076_1_1076_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1076_1_1076_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1076_3_1076_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1076_3_1076_8&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;^^=</span></span></a><span class="mpre"> </span><a name="loc_1076_9_1076_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1076_9_1076_10&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_1076_1_1076_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1076_1_1076_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_299_3_299_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_3_299_6&#39;)"><span class="hl_infix"><span class="mpre">%%=</span></span></a><span class="mpre"> \</span><a name="loc_1076_20_1076_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1076_20_1076_21&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_1076_20_1076_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1076_20_1076_21&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_1076_20_1076_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1076_20_1076_21&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">^^</span></span><span class="mpre"> </span><a href="#loc_1076_9_1076_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1076_9_1076_10&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1076_3_1076_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1076_3_1076_8&#39;)"><span class="mpre">(&lt;&lt;^^=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target of a &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s state by raising it by an arbitrary power</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and return the /old/ value that was replaced.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.**=&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;**=&#39;) :: (&#39;MonadState&#39; s m, &#39;Floating&#39; a) =&gt; &#39;Lens&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;**=&#39;) :: (&#39;MonadState&#39; s m, &#39;Floating&#39; a) =&gt; &#39;Iso&#39;&#39; s a -&gt; a -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1089_3_1089_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1089_3_1089_8&#39;)"><span class="mpre">(&lt;&lt;**=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1088, srcSpanStartColumn = 12, srcSpanEndLine = 1088, srcSpanEndColumn = 43}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1088, srcSpanStartColumn = 12, srcSpanEndLine = 1088, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLi"><span class="mpre">(MonadState s m, Floating a) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike&#39;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_1089_1_1089_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1089_1_1089_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1089_3_1089_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1089_3_1089_8&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;**=</span></span></a><span class="mpre"> </span><a name="loc_1089_9_1089_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1089_9_1089_10&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="#loc_1089_1_1089_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1089_1_1089_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_299_3_299_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_3_299_6&#39;)"><span class="hl_infix"><span class="mpre">%%=</span></span></a><span class="mpre"> \</span><a name="loc_1089_20_1089_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1089_20_1089_21&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_1089_20_1089_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1089_20_1089_21&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_1089_20_1089_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1089_20_1089_21&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">**</span></span><span class="mpre"> </span><a href="#loc_1089_9_1089_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1089_9_1089_10&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1089_3_1089_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1089_3_1089_8&#39;)"><span class="mpre">(&lt;&lt;**=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target of a &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s state by taking its logical &#39;||&#39; with a value</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and return the /old/ value that was replaced.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.||=&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;||=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Lens&#39;&#39; s &#39;Bool&#39; -&gt; &#39;Bool&#39; -&gt; m &#39;Bool&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;||=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Iso&#39;&#39; s &#39;Bool&#39; -&gt; &#39;Bool&#39; -&gt; m &#39;Bool&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1102_3_1102_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_3_1102_8&#39;)"><span class="mpre">(&lt;&lt;||=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1101, srcSpanStartColumn = 12, srcSpanEndLine = 1101, srcSpanEndColumn = 29}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1101, srcSpanStartColumn = 27, srcSpanEndLine = 1101, srcSpanEndColumn = 29}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike&#39;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_1102_1_1102_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_1_1102_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1102_3_1102_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_3_1102_8&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;||=</span></span></a><span class="mpre"> </span><a name="loc_1102_9_1102_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_9_1102_10&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_1102_1_1102_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_1_1102_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_299_3_299_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_3_299_6&#39;)"><span class="hl_infix"><span class="mpre">%%=</span></span></a><span class="mpre"> \</span><a name="loc_1102_20_1102_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_20_1102_21&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_1102_20_1102_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_20_1102_21&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_1102_20_1102_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_20_1102_21&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">||</span></span><span class="mpre"> </span><a href="#loc_1102_9_1102_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_9_1102_10&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1102_3_1102_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_3_1102_8&#39;)"><span class="mpre">(&lt;&lt;||=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target of a &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s state by taking its logical &#39;&amp;&amp;&#39; with a value</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and return the /old/ value that was replaced.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.&amp;&amp;=&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;&amp;&amp;=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Lens&#39;&#39; s &#39;Bool&#39; -&gt; &#39;Bool&#39; -&gt; m &#39;Bool&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;&amp;&amp;=&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Iso&#39;&#39; s &#39;Bool&#39; -&gt; &#39;Bool&#39; -&gt; m &#39;Bool&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1115_3_1115_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1115_3_1115_8&#39;)"><span class="mpre">(&lt;&lt;&amp;&amp;=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1114, srcSpanStartColumn = 12, srcSpanEndLine = 1114, srcSpanEndColumn = 29}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1114, srcSpanStartColumn = 27, srcSpanEndLine = 1114, srcSpanEndColumn = 29}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike&#39;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_1115_1_1115_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1115_1_1115_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1115_3_1115_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1115_3_1115_8&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;&amp;&amp;=</span></span></a><span class="mpre"> </span><a name="loc_1115_9_1115_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1115_9_1115_10&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_1115_1_1115_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1115_1_1115_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_299_3_299_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_3_299_6&#39;)"><span class="hl_infix"><span class="mpre">%%=</span></span></a><span class="mpre"> \</span><a name="loc_1115_20_1115_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1115_20_1115_21&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_1115_20_1115_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1115_20_1115_21&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_1115_20_1115_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1115_20_1115_21&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_1115_9_1115_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1115_9_1115_10&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1115_3_1115_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1115_3_1115_8&#39;)"><span class="mpre">(&lt;&lt;&amp;&amp;=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Modify the target of a &#39;Lens&#39; into your &#39;Monad&#39;\&#39;s state by &#39;mappend&#39;ing a value</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and return the /old/ value that was replaced.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.&lt;&gt;=&#39;) is more flexible.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;&lt;&gt;=&#39;) :: (&#39;MonadState&#39; s m, &#39;Monoid&#39; r) =&gt; &#39;Lens&#39;&#39; s r -&gt; r -&gt; m r</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;&lt;&gt;=&#39;) :: (&#39;MonadState&#39; s m, &#39;Monoid&#39; r) =&gt; &#39;Iso&#39;&#39; s r -&gt; r -&gt; m r</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1128_3_1128_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1128_3_1128_8&#39;)"><span class="mpre">(&lt;&lt;&lt;&gt;=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1127, srcSpanStartColumn = 12, srcSpanEndLine = 1127, srcSpanEndColumn = 41}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1127, srcSpanStartColumn = 12, srcSpanEndLine = 1127, srcSpanEndColumn = 13},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLi"><span class="mpre">(MonadState s m, Monoid r) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike&#39;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">
</span><a name="loc_1128_1_1128_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1128_1_1128_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1128_3_1128_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1128_3_1128_8&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;&lt;&gt;=</span></span></a><span class="mpre"> </span><a name="loc_1128_9_1128_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1128_9_1128_10&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_1128_1_1128_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1128_1_1128_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_299_3_299_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_299_3_299_6&#39;)"><span class="hl_infix"><span class="mpre">%%=</span></span></a><span class="mpre"> \</span><a name="loc_1128_20_1128_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1128_20_1128_21&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_1128_20_1128_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1128_20_1128_21&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_1128_20_1128_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1128_20_1128_21&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="Data.Monoid.html#loc_82_9_82_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_82_9_82_16&#39;)"><span class="hl_infix"><span class="mpre">`mappend`</span></span></a><span class="mpre"> </span><a href="#loc_1128_9_1128_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1128_9_1128_10&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1128_3_1128_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1128_3_1128_8&#39;)"><span class="mpre">(&lt;&lt;&lt;&gt;=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Run a monadic action, and set the target of &#39;Lens&#39; to its result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;~&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Control.Lens.Iso.Iso&#39; s s a b   -&gt; m b -&gt; m b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;~&#39;) :: &#39;MonadState&#39; s m =&gt; &#39;Lens&#39; s s a b  -&gt; m b -&gt; m b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- NB: This is limited to taking an actual &#39;Lens&#39; than admitting a &#39;Control.Lens.Traversal.Traversal&#39; because</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- there are potential loss of state issues otherwise.</span></span><span class="mpre">
</span><a href="#loc_1141_3_1141_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1141_3_1141_6&#39;)"><span class="mpre">(&lt;&lt;~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1140, srcSpanStartColumn = 10, srcSpanEndLine = 1140, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1140, srcSpanStartColumn = 25, srcSpanEndLine = 1140, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ALens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_1141_1_1141_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1141_1_1141_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1141_3_1141_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1141_3_1141_6&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;~</span></span></a><span class="mpre"> </span><a name="loc_1141_7_1141_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1141_7_1141_9&#39;)"><span class="hl_vardecl"><span class="mpre">mb</span></span></a><span class="mpre"> = do
  </span><a name="loc_1142_3_1142_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1142_3_1142_4&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> &lt;- </span><a href="#loc_1141_7_1141_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1141_7_1141_9&#39;)"><span class="hl_varref"><span class="mpre">mb</span></span></a><span class="mpre">
  </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">modify</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_1143_13_1143_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1143_13_1143_14&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">ipeek</span></span><span class="mpre"> </span><a href="#loc_1142_3_1142_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1142_3_1142_4&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> (</span><a href="#loc_1141_1_1141_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1141_1_1141_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">sell</span></span><span class="mpre"> </span><a href="#loc_1143_13_1143_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1143_13_1143_14&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_1142_3_1142_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1142_3_1142_4&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1141_3_1141_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1141_3_1141_6&#39;)"><span class="mpre">(&lt;&lt;~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | &#39;mappend&#39; a monoidal value onto the end of the target of a &#39;Lens&#39; and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- return the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.&lt;&gt;~&#39;) is more flexible.</span></span><span class="mpre">
</span><a href="#loc_1152_3_1152_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1152_3_1152_7&#39;)"><span class="mpre">(&lt;&lt;&gt;~)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1151, srcSpanStartColumn = 11, srcSpanEndLine = 1151, srcSpanEndColumn = 22}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1151, srcSpanStartColumn = 20, srcSpanEndLine = 1151, srcSpanEndColumn = 22}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">Monoid m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Optical</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">(-&gt;)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
</span><a name="loc_1152_1_1152_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1152_1_1152_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1152_3_1152_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1152_3_1152_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;&gt;~</span></span></a><span class="mpre"> </span><a name="loc_1152_8_1152_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1152_8_1152_9&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> = </span><a href="#loc_1152_1_1152_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1152_1_1152_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_514_3_514_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_3_514_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;%~</span></span></a><span class="mpre"> (</span><a href="Data.Monoid.html#loc_82_9_82_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_82_9_82_16&#39;)"><span class="hl_infix"><span class="mpre">`mappend`</span></span></a><span class="mpre"> </span><a href="#loc_1152_8_1152_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1152_8_1152_9&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1152_3_1152_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1152_3_1152_7&#39;)"><span class="mpre">(&lt;&lt;&gt;~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | &#39;mappend&#39; a monoidal value onto the end of the target of a &#39;Lens&#39; into</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- your &#39;Monad&#39;\&#39;s state and return the result.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need the result of the operation, (&#39;Control.Lens.Setter.&lt;&gt;=&#39;) is more flexible.</span></span><span class="mpre">
</span><a href="#loc_1160_3_1160_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1160_3_1160_7&#39;)"><span class="mpre">(&lt;&lt;&gt;=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1159, srcSpanStartColumn = 11, srcSpanEndLine = 1159, srcSpanEndColumn = 40}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1159, srcSpanStartColumn = 11, srcSpanEndLine = 1159, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLi"><span class="mpre">(MonadState s m, Monoid r) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike&#39;</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">
</span><a name="loc_1160_1_1160_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1160_1_1160_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1160_3_1160_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1160_3_1160_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;&gt;=</span></span></a><span class="mpre"> </span><a name="loc_1160_8_1160_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1160_8_1160_9&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> = </span><a href="#loc_1160_1_1160_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1160_1_1160_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_841_3_841_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_3_841_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;%=</span></span></a><span class="mpre"> (</span><a href="Data.Monoid.html#loc_82_9_82_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_82_9_82_16&#39;)"><span class="hl_infix"><span class="mpre">`mappend`</span></span></a><span class="mpre"> </span><a href="#loc_1160_8_1160_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1160_8_1160_9&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1160_3_1160_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1160_3_1160_7&#39;)"><span class="mpre">(&lt;&lt;&gt;=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Arrow operators</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | &#39;Control.Lens.Setter.over&#39; for Arrows.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Unlike &#39;Control.Lens.Setter.over&#39;, &#39;overA&#39; can&#39;t accept a simple</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Control.Lens.Setter.Setter&#39;, but requires a full lens, or close</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- enough.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- overA :: Arrow ar =&gt; Lens s t a b -&gt; ar a b -&gt; ar s t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1177_1_1177_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1177_1_1177_6&#39;)"><span class="mpre">overA</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1176, srcSpanStartColumn = 10, srcSpanEndLine = 1176, srcSpanEndColumn = 21}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1176, srcSpanStartColumn = 19, srcSpanEndLine = 1176, srcSpanEndColumn = 21}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">Arrow ar =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">LensLike</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Context</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">ar</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">ar</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_1177_1_1177_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1177_1_1177_6&#39;)"><span class="hl_fundecl"><span class="mpre">overA</span></span></a><span class="mpre"> </span><a name="loc_1177_7_1177_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1177_7_1177_8&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1177_9_1177_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1177_9_1177_10&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = </span><a href="Control.Arrow.html#loc_86_5_86_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Arrow.html#loc_86_5_86_8&#39;)"><span class="hl_varref"><span class="mpre">arr</span></span></a><span class="mpre"> (\</span><a name="loc_1177_19_1177_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1177_19_1177_20&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> -&gt; let (</span><span class="hl_conref"><span class="mpre">Context</span></span><span class="mpre"> </span><a name="loc_1177_37_1177_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1177_37_1177_38&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_1177_39_1177_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1177_39_1177_40&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">) = </span><a href="#loc_1177_7_1177_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1177_7_1177_8&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">sell</span></span><span class="mpre"> </span><a href="#loc_1177_19_1177_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1177_19_1177_20&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> in (</span><a href="#loc_1177_37_1177_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1177_37_1177_38&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">, </span><a href="#loc_1177_39_1177_40" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1177_39_1177_40&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">))
            </span><span class="hl_infix"><span class="mpre">&gt;&gt;&gt;</span></span><span class="mpre"> </span><a href="Control.Arrow.html#loc_96_5_96_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Arrow.html#loc_96_5_96_11&#39;)"><span class="hl_varref"><span class="mpre">second</span></span></a><span class="mpre"> </span><a href="#loc_1177_9_1177_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1177_9_1177_10&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">
            </span><span class="hl_infix"><span class="mpre">&gt;&gt;&gt;</span></span><span class="mpre"> </span><a href="Control.Arrow.html#loc_86_5_86_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Arrow.html#loc_86_5_86_8&#39;)"><span class="hl_varref"><span class="mpre">arr</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">uncurry</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Indexed</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Adjust the target of an &#39;IndexedLens&#39; returning the intermediate result, or</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- adjust all of the targets of an &#39;Control.Lens.Traversal.IndexedTraversal&#39; and return a monoidal summary</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- along with the answer.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @l &#39;&lt;%~&#39; f ≡ l &#39;&lt;%@~&#39; &#39;const&#39; f@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- When you do not need access to the index then (&#39;&lt;%~&#39;) is more liberal in what it can accept.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- If you do not need the intermediate result, you can use (&#39;Control.Lens.Setter.%@~&#39;) or even (&#39;Control.Lens.Setter.%~&#39;).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;%@~&#39;) ::             &#39;IndexedLens&#39; i s t a b      -&gt; (i -&gt; a -&gt; b) -&gt; s -&gt; (b, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;%@~&#39;) :: &#39;Monoid&#39; b =&gt; &#39;Control.Lens.Traversal.IndexedTraversal&#39; i s t a b -&gt; (i -&gt; a -&gt; b) -&gt; s -&gt; (b, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1200_3_1200_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_3_1200_7&#39;)"><span class="mpre">(&lt;%@~)</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Optical</span></span><span class="mpre"> (</span><a href="Control.Lens.Internal.Indexed.html#loc_112_9_112_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Internal.Indexed.html#loc_112_9_112_16&#39;)"><span class="hl_tyconref"><span class="mpre">Indexed</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
</span><a name="loc_1200_1_1200_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_1_1200_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1200_3_1200_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_3_1200_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;%@~</span></span></a><span class="mpre"> </span><a name="loc_1200_8_1200_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_8_1200_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_1200_1_1200_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_1_1200_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Indexed</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_1200_26_1200_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_26_1200_27&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> </span><a name="loc_1200_28_1200_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_28_1200_29&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; let </span><a name="loc_1200_37_1200_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_37_1200_38&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_1200_8_1200_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_8_1200_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_1200_26_1200_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_26_1200_27&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_1200_28_1200_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_28_1200_29&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> in (</span><a href="#loc_1200_37_1200_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_37_1200_38&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">, </span><a href="#loc_1200_37_1200_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_37_1200_38&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">))
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1200_3_1200_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_3_1200_7&#39;)"><span class="mpre">(&lt;%@~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Adjust the target of an &#39;IndexedLens&#39; returning the old value, or</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- adjust all of the targets of an &#39;Control.Lens.Traversal.IndexedTraversal&#39; and return a monoidal summary</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- of the old values along with the answer.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;%@~&#39;) ::             &#39;IndexedLens&#39; i s t a b      -&gt; (i -&gt; a -&gt; b) -&gt; s -&gt; (a, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;%@~&#39;) :: &#39;Monoid&#39; a =&gt; &#39;Control.Lens.Traversal.IndexedTraversal&#39; i s t a b -&gt; (i -&gt; a -&gt; b) -&gt; s -&gt; (a, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1212_3_1212_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1212_3_1212_8&#39;)"><span class="mpre">(&lt;&lt;%@~)</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Optical</span></span><span class="mpre"> (</span><a href="Control.Lens.Internal.Indexed.html#loc_112_9_112_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Lens.Internal.Indexed.html#loc_112_9_112_16&#39;)"><span class="hl_tyconref"><span class="mpre">Indexed</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">q</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
</span><a name="loc_1212_1_1212_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1212_1_1212_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1212_3_1212_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1212_3_1212_8&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;%@~</span></span></a><span class="mpre"> </span><a name="loc_1212_9_1212_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1212_9_1212_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_1212_1_1212_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1212_1_1212_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Indexed</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_1212_28_1212_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1212_28_1212_29&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> </span><a name="loc_1212_30_1212_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1212_30_1212_31&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Profunctor.html#loc_188_3_188_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Profunctor.html#loc_188_3_188_10&#39;)"><span class="hl_varref"><span class="mpre">second&#39;</span></span></a><span class="mpre"> (</span><a href="#loc_1212_9_1212_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1212_9_1212_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_1212_28_1212_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1212_28_1212_29&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">) (</span><a href="#loc_1212_30_1212_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1212_30_1212_31&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">,</span><a href="#loc_1212_30_1212_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1212_30_1212_31&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)

</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1212_3_1212_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1212_3_1212_8&#39;)"><span class="mpre">(&lt;&lt;%@~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Adjust the target of an &#39;IndexedLens&#39; returning a supplementary result, or</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- adjust all of the targets of an &#39;Control.Lens.Traversal.IndexedTraversal&#39; and return a monoidal summary</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- of the supplementary results and the answer.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @(&#39;%%@~&#39;) ≡ &#39;Control.Lens.Indexed.withIndex&#39;@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%%@~&#39;) :: &#39;Functor&#39; f =&gt; &#39;IndexedLens&#39; i s t a b      -&gt; (i -&gt; a -&gt; f b) -&gt; s -&gt; f t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%%@~&#39;) :: &#39;Applicative&#39; f =&gt; &#39;Control.Lens.Traversal.IndexedTraversal&#39; i s t a b -&gt; (i -&gt; a -&gt; f b) -&gt; s -&gt; f t</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- In particular, it is often useful to think of this function as having one of these even more</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- restricted type signatures:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%%@~&#39;) ::             &#39;IndexedLens&#39; i s t a b      -&gt; (i -&gt; a -&gt; (r, b)) -&gt; s -&gt; (r, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%%@~&#39;) :: &#39;Monoid&#39; r =&gt; &#39;Control.Lens.Traversal.IndexedTraversal&#39; i s t a b -&gt; (i -&gt; a -&gt; (r, b)) -&gt; s -&gt; (r, t)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1235_1_1235_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1235_1_1235_7&#39;)"><span class="mpre">(%%@~)</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IndexedLensLike</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_1235_1_1235_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1235_1_1235_7&#39;)"><span class="hl_fundecl"><span class="mpre">(%%@~)</span></span></a><span class="mpre"> </span><a name="loc_1235_8_1235_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1235_8_1235_9&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> = </span><a href="#loc_1235_8_1235_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1235_8_1235_9&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.#</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">Indexed</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1235_1_1235_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1235_1_1235_7&#39;)"><span class="mpre">(%%@~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Adjust the target of an &#39;IndexedLens&#39; returning a supplementary result, or</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- adjust all of the targets of an &#39;Control.Lens.Traversal.IndexedTraversal&#39; within the current state, and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- return a monoidal summary of the supplementary results.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @l &#39;%%@=&#39; f ≡ &#39;state&#39; (l &#39;%%@~&#39; f)@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%%@=&#39;) :: &#39;MonadState&#39; s m                 =&gt; &#39;IndexedLens&#39; i s s a b      -&gt; (i -&gt; a -&gt; (r, b)) -&gt; s -&gt; m r</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;%%@=&#39;) :: (&#39;MonadState&#39; s m, &#39;Monoid&#39; r) =&gt; &#39;Control.Lens.Traversal.IndexedTraversal&#39; i s s a b -&gt; (i -&gt; a -&gt; (r, b)) -&gt; s -&gt; m r</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1250_3_1250_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1250_3_1250_7&#39;)"><span class="mpre">(%%@=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1248, srcSpanStartColumn = 11, srcSpanEndLine = 1248, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1248, srcSpanStartColumn = 26, srcSpanEndLine = 1248, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IndexedLensLike</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">)) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">
#if MIN_VERSION_mtl(2,1,0)
</span><a name="loc_1250_1_1250_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1250_1_1250_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1250_3_1250_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1250_3_1250_7&#39;)"><span class="hl_fundecl"><span class="mpre">%%@=</span></span></a><span class="mpre"> </span><a name="loc_1250_8_1250_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1250_8_1250_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">State.state</span></span><span class="mpre"> (</span><a href="#loc_1250_1_1250_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1250_1_1250_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_1235_1_1235_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1235_1_1235_7&#39;)"><span class="hl_infix"><span class="mpre">%%@~</span></span></a><span class="mpre"> </span><a href="#loc_1250_8_1250_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1250_8_1250_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
#else
</span><a name="loc_1252_1_1252_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1252_1_1252_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_1250_3_1250_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1250_3_1250_7&#39;)"><span class="hl_fundecl"><span class="mpre">%%@=</span></span></a><span class="mpre"> </span><a name="loc_1252_8_1252_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1252_8_1252_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = do
  (</span><a name="loc_1253_4_1253_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1253_4_1253_5&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">, </span><a name="loc_1253_7_1253_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1253_7_1253_8&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) &lt;- </span><a href="Control.Monad.State.Class.html#loc_95_1_95_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_95_1_95_5&#39;)"><span class="hl_varref"><span class="mpre">State.gets</span></span></a><span class="mpre"> (</span><a href="#loc_1252_1_1252_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1252_1_1252_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_1235_1_1235_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1235_1_1235_7&#39;)"><span class="hl_infix"><span class="mpre">%%@~</span></span></a><span class="mpre"> </span><a href="#loc_1252_8_1252_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1252_8_1252_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
  </span><span class="hl_varref"><span class="mpre">State.put</span></span><span class="mpre"> </span><a href="#loc_1253_7_1253_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1253_7_1253_8&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_1253_4_1253_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1253_4_1253_5&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
#endif
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1250_3_1250_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1250_3_1250_7&#39;)"><span class="mpre">(%%@=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Adjust the target of an &#39;IndexedLens&#39; returning the intermediate result, or</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- adjust all of the targets of an &#39;Control.Lens.Traversal.IndexedTraversal&#39; within the current state, and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- return a monoidal summary of the intermediate results.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;%@=&#39;) :: &#39;MonadState&#39; s m                 =&gt; &#39;IndexedLens&#39; i s s a b      -&gt; (i -&gt; a -&gt; b) -&gt; m b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;%@=&#39;) :: (&#39;MonadState&#39; s m, &#39;Monoid&#39; b) =&gt; &#39;Control.Lens.Traversal.IndexedTraversal&#39; i s s a b -&gt; (i -&gt; a -&gt; b) -&gt; m b</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1268_3_1268_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1268_3_1268_7&#39;)"><span class="mpre">(&lt;%@=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1267, srcSpanStartColumn = 11, srcSpanEndLine = 1267, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1267, srcSpanStartColumn = 26, srcSpanEndLine = 1267, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IndexedLensLike</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_1268_1_1268_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1268_1_1268_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1268_3_1268_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1268_3_1268_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;%@=</span></span></a><span class="mpre"> </span><a name="loc_1268_8_1268_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1268_8_1268_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_1268_1_1268_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1268_1_1268_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_1250_3_1250_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1250_3_1250_7&#39;)"><span class="hl_infix"><span class="mpre">%%@=</span></span></a><span class="mpre"> \ </span><a name="loc_1268_21_1268_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1268_21_1268_22&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> </span><a name="loc_1268_23_1268_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1268_23_1268_24&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; let </span><a name="loc_1268_32_1268_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1268_32_1268_33&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_1268_8_1268_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1268_8_1268_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_1268_21_1268_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1268_21_1268_22&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_1268_23_1268_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1268_23_1268_24&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> in (</span><a href="#loc_1268_32_1268_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1268_32_1268_33&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">, </span><a href="#loc_1268_32_1268_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1268_32_1268_33&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1268_3_1268_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1268_3_1268_7&#39;)"><span class="mpre">(&lt;%@=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Adjust the target of an &#39;IndexedLens&#39; returning the old value, or</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- adjust all of the targets of an &#39;Control.Lens.Traversal.IndexedTraversal&#39; within the current state, and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- return a monoidal summary of the old values.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;%@=&#39;) :: &#39;MonadState&#39; s m                 =&gt; &#39;IndexedLens&#39; i s s a b      -&gt; (i -&gt; a -&gt; b) -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&#39;&lt;&lt;%@=&#39;) :: (&#39;MonadState&#39; s m, &#39;Monoid&#39; b) =&gt; &#39;Control.Lens.Traversal.IndexedTraversal&#39; i s s a b -&gt; (i -&gt; a -&gt; b) -&gt; m a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1281_3_1281_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1281_3_1281_8&#39;)"><span class="mpre">(&lt;&lt;%@=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1279, srcSpanStartColumn = 12, srcSpanEndLine = 1279, srcSpanEndColumn = 29}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1279, srcSpanStartColumn = 27, srcSpanEndLine = 1279, srcSpanEndColumn = 29}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">IndexedLensLike</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">(,)</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">i</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
#if MIN_VERSION_mtl(2,1,0)
</span><a name="loc_1281_1_1281_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1281_1_1281_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1281_3_1281_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1281_3_1281_8&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;%@=</span></span></a><span class="mpre"> </span><a name="loc_1281_9_1281_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1281_9_1281_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">State.state</span></span><span class="mpre"> (</span><a href="#loc_1281_1_1281_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1281_1_1281_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Indexed</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \ </span><a name="loc_1281_41_1281_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1281_41_1281_42&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> </span><a name="loc_1281_43_1281_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1281_43_1281_44&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_1281_43_1281_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1281_43_1281_44&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_1281_9_1281_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1281_9_1281_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_1281_41_1281_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1281_41_1281_42&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_1281_43_1281_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1281_43_1281_44&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)))
#else
</span><a name="loc_1283_1_1283_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1283_1_1283_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_1281_3_1281_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1281_3_1281_8&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;&lt;%@=</span></span></a><span class="mpre"> </span><a name="loc_1283_9_1283_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1283_9_1283_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = do
  (</span><a name="loc_1284_4_1284_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_4_1284_5&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">, </span><a name="loc_1284_7_1284_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_7_1284_8&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) &lt;- </span><a href="Control.Monad.State.Class.html#loc_95_1_95_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_95_1_95_5&#39;)"><span class="hl_varref"><span class="mpre">State.gets</span></span></a><span class="mpre"> (</span><a href="#loc_1283_1_1283_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1283_1_1283_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">Indexed</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \ </span><a name="loc_1284_40_1284_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_40_1284_41&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> </span><a name="loc_1284_42_1284_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_42_1284_43&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_1284_42_1284_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_42_1284_43&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">, </span><a href="#loc_1283_9_1283_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1283_9_1283_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_1284_40_1284_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_40_1284_41&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_1284_42_1284_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_42_1284_43&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)))
  </span><span class="hl_varref"><span class="mpre">State.put</span></span><span class="mpre"> </span><a href="#loc_1284_7_1284_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_7_1284_8&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_1284_4_1284_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_4_1284_5&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
#endif
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1281_3_1281_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1281_3_1281_8&#39;)"><span class="mpre">(&lt;&lt;%@=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- ALens Combinators</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">------------------------------------------------------------------------------</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A version of (&#39;Control.Lens.Getter.^.&#39;) that works on &#39;ALens&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (&quot;hello&quot;,&quot;world&quot;)^#_2</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &quot;world&quot;</span></span><span class="mpre">
</span><a href="#loc_1299_3_1299_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1299_3_1299_5&#39;)"><span class="mpre">(^#)</span></a><span class="mpre"> :: </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ALens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_1299_1_1299_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1299_1_1299_2&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> </span><a name="loc_1299_3_1299_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1299_3_1299_5&#39;)"><span class="hl_fundecl"><span class="mpre">^#</span></span></a><span class="mpre"> </span><a name="loc_1299_6_1299_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1299_6_1299_7&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">ipos</span></span><span class="mpre"> (</span><a href="#loc_1299_6_1299_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1299_6_1299_7&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">sell</span></span><span class="mpre"> </span><a href="#loc_1299_1_1299_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1299_1_1299_2&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1299_3_1299_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1299_3_1299_5&#39;)"><span class="mpre">(^#)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A version of &#39;Control.Lens.Setter.set&#39; that works on &#39;ALens&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; storing _2 &quot;world&quot; (&quot;hello&quot;,&quot;there&quot;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&quot;hello&quot;,&quot;world&quot;)</span></span><span class="mpre">
</span><a href="#loc_1307_1_1307_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1307_1_1307_8&#39;)"><span class="mpre">storing</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ALens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_1307_1_1307_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1307_1_1307_8&#39;)"><span class="hl_fundecl"><span class="mpre">storing</span></span></a><span class="mpre"> </span><a name="loc_1307_9_1307_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1307_9_1307_10&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1307_11_1307_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1307_11_1307_12&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> </span><a name="loc_1307_13_1307_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1307_13_1307_14&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">ipeek</span></span><span class="mpre"> </span><a href="#loc_1307_11_1307_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1307_11_1307_12&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> (</span><a href="#loc_1307_9_1307_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1307_9_1307_10&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">sell</span></span><span class="mpre"> </span><a href="#loc_1307_13_1307_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1307_13_1307_14&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1307_1_1307_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1307_1_1307_8&#39;)"><span class="mpre">storing</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A version of (&#39;Control.Lens.Setter..~&#39;) that works on &#39;ALens&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (&quot;hello&quot;,&quot;there&quot;) &amp; _2 #~ &quot;world&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&quot;hello&quot;,&quot;world&quot;)</span></span><span class="mpre">
</span><a href="#loc_1315_1_1315_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1315_1_1315_7&#39;)"><span class="mpre">( #~ )</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ALens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_1315_1_1315_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1315_1_1315_7&#39;)"><span class="hl_fundecl"><span class="mpre">( #~ )</span></span></a><span class="mpre"> </span><a name="loc_1315_8_1315_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1315_8_1315_9&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1315_10_1315_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1315_10_1315_11&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> </span><a name="loc_1315_12_1315_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1315_12_1315_13&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">ipeek</span></span><span class="mpre"> </span><a href="#loc_1315_10_1315_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1315_10_1315_11&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> (</span><a href="#loc_1315_8_1315_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1315_8_1315_9&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">sell</span></span><span class="mpre"> </span><a href="#loc_1315_12_1315_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1315_12_1315_13&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1315_1_1315_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1315_1_1315_7&#39;)"><span class="mpre">( #~ )</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A version of (&#39;Control.Lens.Setter.%~&#39;) that works on &#39;ALens&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (&quot;hello&quot;,&quot;world&quot;) &amp; _2 #%~ length</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&quot;hello&quot;,5)</span></span><span class="mpre">
</span><a href="#loc_1323_1_1323_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1323_1_1323_8&#39;)"><span class="mpre">( #%~ )</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ALens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_1323_1_1323_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1323_1_1323_8&#39;)"><span class="hl_fundecl"><span class="mpre">( #%~ )</span></span></a><span class="mpre"> </span><a name="loc_1323_9_1323_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1323_9_1323_10&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1323_11_1323_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1323_11_1323_12&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_1323_13_1323_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1323_13_1323_14&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">ipeeks</span></span><span class="mpre"> </span><a href="#loc_1323_11_1323_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1323_11_1323_12&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_1323_9_1323_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1323_9_1323_10&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">sell</span></span><span class="mpre"> </span><a href="#loc_1323_13_1323_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1323_13_1323_14&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1323_1_1323_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1323_1_1323_8&#39;)"><span class="mpre">( #%~ )</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A version of (&#39;%%~&#39;) that works on &#39;ALens&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (&quot;hello&quot;,&quot;world&quot;) &amp; _2 #%%~ \x -&gt; (length x, x ++ &quot;!&quot;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (5,(&quot;hello&quot;,&quot;world!&quot;))</span></span><span class="mpre">
</span><a href="#loc_1331_1_1331_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1331_1_1331_9&#39;)"><span class="mpre">( #%%~ )</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1330, srcSpanStartColumn = 13, srcSpanEndLine = 1330, srcSpanEndColumn = 25}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1330, srcSpanStartColumn = 23, srcSpanEndLine = 1330, srcSpanEndColumn = 25}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">Functor f =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ALens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">
</span><a name="loc_1331_1_1331_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1331_1_1331_9&#39;)"><span class="hl_fundecl"><span class="mpre">( #%%~ )</span></span></a><span class="mpre"> </span><a name="loc_1331_10_1331_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1331_10_1331_11&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1331_12_1331_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1331_12_1331_13&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_1331_14_1331_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1331_14_1331_15&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">runPretext</span></span><span class="mpre"> (</span><a href="#loc_1331_10_1331_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1331_10_1331_11&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">sell</span></span><span class="mpre"> </span><a href="#loc_1331_14_1331_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1331_14_1331_15&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">) </span><a href="#loc_1331_12_1331_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1331_12_1331_13&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1331_1_1331_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1331_1_1331_9&#39;)"><span class="mpre">( #%%~ )</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A version of (&#39;Control.Lens.Setter..=&#39;) that works on &#39;ALens&#39;.</span></span><span class="mpre">
</span><a href="#loc_1336_3_1336_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1336_3_1336_5&#39;)"><span class="mpre">( #= )</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1335, srcSpanStartColumn = 11, srcSpanEndLine = 1335, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1335, srcSpanStartColumn = 26, srcSpanEndLine = 1335, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ALens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_1336_1_1336_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1336_1_1336_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1336_3_1336_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1336_3_1336_5&#39;)"><span class="hl_fundecl"><span class="mpre">#=</span></span></a><span class="mpre"> </span><a name="loc_1336_6_1336_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1336_6_1336_7&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">modify</span></span></a><span class="mpre"> (</span><a href="#loc_1336_1_1336_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1336_1_1336_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_1315_1_1315_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1315_1_1315_7&#39;)"><span class="hl_infix"><span class="mpre">#~</span></span></a><span class="mpre"> </span><a href="#loc_1336_6_1336_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1336_6_1336_7&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1336_3_1336_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1336_3_1336_5&#39;)"><span class="mpre">( #= )</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A version of (&#39;Control.Lens.Setter.%=&#39;) that works on &#39;ALens&#39;.</span></span><span class="mpre">
</span><a href="#loc_1341_3_1341_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1341_3_1341_6&#39;)"><span class="mpre">( #%= )</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1340, srcSpanStartColumn = 12, srcSpanEndLine = 1340, srcSpanEndColumn = 29}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1340, srcSpanStartColumn = 27, srcSpanEndLine = 1340, srcSpanEndColumn = 29}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ALens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_1341_1_1341_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1341_1_1341_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1341_3_1341_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1341_3_1341_6&#39;)"><span class="hl_fundecl"><span class="mpre">#%=</span></span></a><span class="mpre"> </span><a name="loc_1341_7_1341_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1341_7_1341_8&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="Control.Monad.State.Class.html#loc_85_1_85_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_85_1_85_7&#39;)"><span class="hl_varref"><span class="mpre">modify</span></span></a><span class="mpre"> (</span><a href="#loc_1341_1_1341_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1341_1_1341_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_1323_1_1323_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1323_1_1323_8&#39;)"><span class="hl_infix"><span class="mpre">#%~</span></span></a><span class="mpre"> </span><a href="#loc_1341_7_1341_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1341_7_1341_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1341_3_1341_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1341_3_1341_6&#39;)"><span class="mpre">( #%= )</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A version of (&#39;&lt;%~&#39;) that works on &#39;ALens&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (&quot;hello&quot;,&quot;world&quot;) &amp; _2 &lt;#%~ length</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (5,(&quot;hello&quot;,5))</span></span><span class="mpre">
</span><a href="#loc_1349_3_1349_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1349_3_1349_7&#39;)"><span class="mpre">(&lt;#%~)</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ALens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
</span><a name="loc_1349_1_1349_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1349_1_1349_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1349_3_1349_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1349_3_1349_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;#%~</span></span></a><span class="mpre"> </span><a name="loc_1349_8_1349_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1349_8_1349_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = \</span><a name="loc_1349_13_1349_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1349_13_1349_14&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">runPretext</span></span><span class="mpre"> (</span><a href="#loc_1349_1_1349_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1349_1_1349_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">sell</span></span><span class="mpre"> </span><a href="#loc_1349_13_1349_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1349_13_1349_14&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_1349_43_1349_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1349_43_1349_44&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; let </span><a name="loc_1349_52_1349_53" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1349_52_1349_53&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_1349_8_1349_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1349_8_1349_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_1349_43_1349_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1349_43_1349_44&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> in (</span><a href="#loc_1349_52_1349_53" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1349_52_1349_53&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">, </span><a href="#loc_1349_52_1349_53" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1349_52_1349_53&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1349_3_1349_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1349_3_1349_7&#39;)"><span class="mpre">(&lt;#%~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A version of (&#39;&lt;%=&#39;) that works on &#39;ALens&#39;.</span></span><span class="mpre">
</span><a href="#loc_1354_3_1354_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1354_3_1354_7&#39;)"><span class="mpre">(&lt;#%=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1353, srcSpanStartColumn = 11, srcSpanEndLine = 1353, srcSpanEndColumn = 28}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1353, srcSpanStartColumn = 26, srcSpanEndLine = 1353, srcSpanEndColumn = 28}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ALens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_1354_1_1354_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1354_1_1354_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1354_3_1354_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1354_3_1354_7&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;#%=</span></span></a><span class="mpre"> </span><a name="loc_1354_8_1354_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1354_8_1354_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_1354_1_1354_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1354_1_1354_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_1360_3_1360_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_3_1360_7&#39;)"><span class="hl_infix"><span class="mpre">#%%=</span></span></a><span class="mpre"> \</span><a name="loc_1354_20_1354_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1354_20_1354_21&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> -&gt; let </span><a name="loc_1354_29_1354_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1354_29_1354_30&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="#loc_1354_8_1354_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1354_8_1354_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_1354_20_1354_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1354_20_1354_21&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> in (</span><a href="#loc_1354_29_1354_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1354_29_1354_30&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">, </span><a href="#loc_1354_29_1354_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1354_29_1354_30&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1354_3_1354_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1354_3_1354_7&#39;)"><span class="mpre">(&lt;#%=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A version of (&#39;%%=&#39;) that works on &#39;ALens&#39;.</span></span><span class="mpre">
</span><a href="#loc_1360_3_1360_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_3_1360_7&#39;)"><span class="mpre">( #%%= )</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1358, srcSpanStartColumn = 13, srcSpanEndLine = 1358, srcSpanEndColumn = 30}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1358, srcSpanStartColumn = 28, srcSpanEndLine = 1358, srcSpanEndColumn = 30}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ALens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">)) -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">r</span></span><span class="mpre">
#if MIN_VERSION_mtl(2,1,1)
</span><a name="loc_1360_1_1360_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_1_1360_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1360_3_1360_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_3_1360_7&#39;)"><span class="hl_fundecl"><span class="mpre">#%%=</span></span></a><span class="mpre"> </span><a name="loc_1360_8_1360_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_8_1360_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">State.state</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> \</span><a name="loc_1360_27_1360_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_27_1360_28&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> -&gt; </span><span class="hl_varref"><span class="mpre">runPretext</span></span><span class="mpre"> (</span><a href="#loc_1360_1_1360_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_1_1360_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">sell</span></span><span class="mpre"> </span><a href="#loc_1360_27_1360_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_27_1360_28&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">) </span><a href="#loc_1360_8_1360_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_8_1360_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
#else
</span><a name="loc_1362_1_1362_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1362_1_1362_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_1360_3_1360_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_3_1360_7&#39;)"><span class="hl_fundecl"><span class="mpre">#%%=</span></span></a><span class="mpre"> </span><a name="loc_1362_8_1362_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1362_8_1362_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = do
  </span><a name="loc_1363_3_1363_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1363_3_1363_4&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> &lt;- </span><a href="Control.Monad.State.Class.html#loc_95_1_95_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.State.Class.html#loc_95_1_95_5&#39;)"><span class="hl_varref"><span class="mpre">State.gets</span></span></a><span class="mpre"> (</span><a href="#loc_1362_1_1362_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1362_1_1362_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">sell</span></span><span class="mpre">)
  let (</span><a name="loc_1364_8_1364_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1364_8_1364_9&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">, </span><a name="loc_1364_11_1364_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1364_11_1364_12&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">runPretext</span></span><span class="mpre"> </span><a href="#loc_1363_3_1363_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1363_3_1363_4&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_1362_8_1362_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1362_8_1362_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">State.put</span></span><span class="mpre"> </span><a href="#loc_1364_11_1364_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1364_11_1364_12&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_1364_8_1364_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1364_8_1364_9&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
#endif
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1360_3_1360_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_3_1360_7&#39;)"><span class="mpre">( #%%= )</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A version of (&#39;Control.Lens.Setter.&lt;.~&#39;) that works on &#39;ALens&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; (&quot;hello&quot;,&quot;there&quot;) &amp; _2 &lt;#~ &quot;world&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&quot;world&quot;,(&quot;hello&quot;,&quot;world&quot;))</span></span><span class="mpre">
</span><a href="#loc_1375_3_1375_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1375_3_1375_6&#39;)"><span class="mpre">(&lt;#~)</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ALens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">, </span><span class="hl_tyvar"><span class="mpre">t</span></span><span class="mpre">)
</span><a name="loc_1375_1_1375_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1375_1_1375_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1375_3_1375_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1375_3_1375_6&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;#~</span></span></a><span class="mpre"> </span><a name="loc_1375_7_1375_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1375_7_1375_8&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = \</span><a name="loc_1375_12_1375_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1375_12_1375_13&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> -&gt; (</span><a href="#loc_1375_7_1375_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1375_7_1375_8&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">, </span><a href="#loc_1307_1_1307_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1307_1_1307_8&#39;)"><span class="hl_varref"><span class="mpre">storing</span></span></a><span class="mpre"> </span><a href="#loc_1375_1_1375_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1375_1_1375_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_1375_7_1375_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1375_7_1375_8&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_1375_12_1375_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1375_12_1375_13&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1375_3_1375_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1375_3_1375_6&#39;)"><span class="mpre">(&lt;#~)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A version of (&#39;Control.Lens.Setter.&lt;.=&#39;) that works on &#39;ALens&#39;.</span></span><span class="mpre">
</span><a href="#loc_1380_3_1380_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1380_3_1380_6&#39;)"><span class="mpre">(&lt;#=)</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxSingle (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1379, srcSpanStartColumn = 10, srcSpanEndLine = 1379, srcSpanEndColumn = 27}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Control/Lens/Lens.hs&quot;, srcSpanStartLine = 1379, srcSpanStartColumn = 25, srcSpanEndLine = 1379, srcSpanEndColumn = 27}]}) (ClassA (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/s"><span class="mpre">MonadState s m =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">ALens</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">m</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_1380_1_1380_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1380_1_1380_2&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_1380_3_1380_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1380_3_1380_6&#39;)"><span class="hl_fundecl"><span class="mpre">&lt;#=</span></span></a><span class="mpre"> </span><a name="loc_1380_7_1380_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1380_7_1380_8&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = do
  </span><a href="#loc_1380_1_1380_2" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1380_1_1380_2&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_1336_3_1336_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1336_3_1336_5&#39;)"><span class="hl_infix"><span class="mpre">#=</span></span></a><span class="mpre"> </span><a href="#loc_1380_7_1380_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1380_7_1380_8&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> </span><a href="#loc_1380_7_1380_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1380_7_1380_8&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1380_3_1380_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1380_3_1380_6&#39;)"><span class="mpre">(&lt;#=)</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | There is a field for every type in the &#39;Void&#39;. Very zen.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; [] &amp; mapped.devoid +~ 1</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- []</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; Nothing &amp; mapped.devoid %~ abs</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Nothing</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;devoid&#39; :: &#39;Lens&#39;&#39; &#39;Void&#39; a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @</span></span><span class="mpre">
</span><a href="#loc_1397_1_1397_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1397_1_1397_7&#39;)"><span class="mpre">devoid</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Over</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">p</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">f</span></span><span class="mpre"> </span><a href="Data.Void.html#loc_54_6_54_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Void.html#loc_54_6_54_10&#39;)"><span class="hl_tyconref"><span class="mpre">Void</span></span></a><span class="mpre"> </span><a href="Data.Void.html#loc_54_6_54_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Void.html#loc_54_6_54_10&#39;)"><span class="hl_tyconref"><span class="mpre">Void</span></span></a><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">b</span></span><span class="mpre">
</span><a name="loc_1397_1_1397_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1397_1_1397_7&#39;)"><span class="hl_fundecl"><span class="mpre">devoid</span></span></a><span class="mpre"> _ = </span><a href="Data.Void.html#loc_86_1_86_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Void.html#loc_86_1_86_7&#39;)"><span class="hl_varref"><span class="mpre">absurd</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1397_1_1397_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1397_1_1397_7&#39;)"><span class="mpre">devoid</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | We can always retrieve a @()@ from any type.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; &quot;hello&quot;^.united</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;&gt;&gt; &quot;hello&quot; &amp; united .~ ()</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &quot;hello&quot;</span></span><span class="mpre">
</span><a href="#loc_1408_1_1408_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1408_1_1408_7&#39;)"><span class="mpre">united</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Lens&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_1408_1_1408_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1408_1_1408_7&#39;)"><span class="hl_fundecl"><span class="mpre">united</span></span></a><span class="mpre"> </span><a name="loc_1408_8_1408_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1408_8_1408_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_1408_10_1408_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1408_10_1408_11&#39;)"><span class="hl_vardecl"><span class="mpre">v</span></span></a><span class="mpre"> = </span><a href="#loc_1408_8_1408_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1408_8_1408_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre"> </span><a href="#loc_343_4_343_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_343_4_343_7&#39;)"><span class="hl_infix"><span class="mpre">&lt;&amp;&gt;</span></span></a><span class="mpre"> \ </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre"> -&gt; </span><a href="#loc_1408_10_1408_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1408_10_1408_11&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1408_1_1408_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1408_1_1408_7&#39;)"><span class="mpre">united</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span></div></body></html>