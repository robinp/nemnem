<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Distribution.Simple.Program</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  Isaac Jones 2006, Duncan Coutts 2007-2009</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  cabal-devel@haskell.org</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This provides an abstraction which deals with configuring and running</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- programs. A &#39;Program&#39; is a static notion of a known program. A</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;ConfiguredProgram&#39; is a &#39;Program&#39; that has been found on the current</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- machine and is ready to be run (possibly with some user-supplied default</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- args). Configuring a program involves finding its location and if necessary</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- finding its version. There is also a &#39;ProgramConfiguration&#39; type which holds</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- configured and not-yet configured programs. It is the parameter to lots of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- actions elsewhere in Cabal that need to look up and run programs. If we had</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- a Cabal monad, the &#39;ProgramConfiguration&#39; would probably be a reader or</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- state component of it. </span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The module also defines all the known built-in &#39;Program&#39;s and the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;defaultProgramConfiguration&#39; which contains them all.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- One nice thing about using it is that any program that is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- registered with Cabal will get some \&quot;configure\&quot; and \&quot;.cabal\&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- helpers like --with-foo-args --foo-path= and extra-foo-args.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- There&#39;s also good default behavior for trying to find \&quot;foo\&quot; in</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- PATH, being able to override its location, etc.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- There&#39;s also a hook for adding programs in a Setup.lhs script.  See</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- hookedPrograms in &#39;Distribution.Simple.UserHooks&#39;.  This gives a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- hook user the ability to get the above flags and such so that they</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- don&#39;t have to write all the PATH logic inside Setup.lhs.</span></span><span class="mpre">

module Distribution.Simple.Program (
    </span><span class="hl_comment"><span class="mpre">-- * Program and functions for constructing them</span></span><span class="mpre">
      Program(..)
    , ProgramSearchPath
    , ProgramSearchPathEntry(..)
    , simpleProgram
    , findProgramLocation
    , findProgramVersion

    </span><span class="hl_comment"><span class="mpre">-- * Configured program and related functions</span></span><span class="mpre">
    , ConfiguredProgram(..)
    , programPath
    , ProgArg
    , ProgramLocation(..)
    , runProgram
    , getProgramOutput
    , suppressOverrideArgs

    </span><span class="hl_comment"><span class="mpre">-- * Program invocations</span></span><span class="mpre">
    , ProgramInvocation(..)
    , emptyProgramInvocation
    , simpleProgramInvocation
    , programInvocation
    , runProgramInvocation
    , getProgramInvocationOutput

    </span><span class="hl_comment"><span class="mpre">-- * The collection of unconfigured and configured progams</span></span><span class="mpre">
    , builtinPrograms

    </span><span class="hl_comment"><span class="mpre">-- * The collection of configured programs we can run</span></span><span class="mpre">
    , ProgramConfiguration
    , emptyProgramConfiguration
    , defaultProgramConfiguration
    , restoreProgramConfiguration
    , addKnownProgram
    , addKnownPrograms
    , lookupKnownProgram
    , knownPrograms
    , getProgramSearchPath
    , setProgramSearchPath
    , userSpecifyPath
    , userSpecifyPaths
    , userMaybeSpecifyPath
    , userSpecifyArgs
    , userSpecifyArgss
    , userSpecifiedArgs
    , lookupProgram
    , updateProgram
    , configureProgram
    , configureAllKnownPrograms
    , reconfigurePrograms
    , requireProgram
    , requireProgramVersion
    , runDbProgram
    , getDbProgramOutput

    </span><span class="hl_comment"><span class="mpre">-- * Programs that Cabal knows about</span></span><span class="mpre">
    , ghcProgram
    , ghcPkgProgram
    , lhcProgram
    , lhcPkgProgram
    , nhcProgram
    , hmakeProgram
    , jhcProgram
    , hugsProgram
    , ffihugsProgram
    , uhcProgram
    , gccProgram
    , ranlibProgram
    , arProgram
    , stripProgram
    , happyProgram
    , alexProgram
    , hsc2hsProgram
    , c2hsProgram
    , cpphsProgram
    , hscolourProgram
    , haddockProgram
    , greencardProgram
    , ldProgram
    , tarProgram
    , cppProgram
    , pkgConfigProgram
    , hpcProgram

    </span><span class="hl_comment"><span class="mpre">-- * deprecated</span></span><span class="mpre">
    , rawSystemProgram
    , rawSystemProgramStdout
    , rawSystemProgramConf
    , rawSystemProgramStdoutConf
    , findProgramOnPath

    ) where

import Distribution.Simple.Program.Types
import Distribution.Simple.Program.Run
import Distribution.Simple.Program.Db
import Distribution.Simple.Program.Builtin

import Distribution.Simple.Utils
         ( </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="mpre">die</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_577_1_577_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_577_1_577_20&#39;)"><span class="mpre">findProgramLocation</span></a><span class="mpre">, </span><a href="Distribution.Simple.Utils.html#loc_596_1_596_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_596_1_596_19&#39;)"><span class="mpre">findProgramVersion</span></a><span class="mpre"> )
import Distribution.Verbosity
         ( </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="mpre">Verbosity</span></a><span class="mpre"> )


</span><span class="hl_comment"><span class="mpre">-- | Runs the given configured program.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_146_1_146_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_11&#39;)"><span class="mpre">runProgram</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">          </span><span class="hl_comment"><span class="mpre">-- ^Verbosity</span></span><span class="mpre">
           -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^The program to run</span></span><span class="mpre">
           -&gt; [</span><span class="hl_tyconref"><span class="mpre">ProgArg</span></span><span class="mpre">]          </span><span class="hl_comment"><span class="mpre">-- ^Any /extra/ arguments to add</span></span><span class="mpre">
           -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_146_1_146_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_11&#39;)"><span class="hl_fundecl"><span class="mpre">runProgram</span></span></a><span class="mpre"> </span><a name="loc_146_12_146_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_12_146_21&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_146_22_146_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_22_146_26&#39;)"><span class="hl_vardecl"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a name="loc_146_27_146_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_27_146_31&#39;)"><span class="hl_vardecl"><span class="mpre">args</span></span></a><span class="mpre"> =
  </span><a href="Distribution.Simple.Program.Run.html#loc_95_1_95_21" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_95_1_95_21&#39;)"><span class="hl_varref"><span class="mpre">runProgramInvocation</span></span></a><span class="mpre"> </span><a href="#loc_146_12_146_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_12_146_21&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.Program.Run.html#loc_84_1_84_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_84_1_84_18&#39;)"><span class="hl_varref"><span class="mpre">programInvocation</span></span></a><span class="mpre"> </span><a href="#loc_146_22_146_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_22_146_26&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a href="#loc_146_27_146_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_27_146_31&#39;)"><span class="hl_varref"><span class="mpre">args</span></span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">-- | Runs the given configured program and gets the output.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_156_1_156_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_1_156_17&#39;)"><span class="mpre">getProgramOutput</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">          </span><span class="hl_comment"><span class="mpre">-- ^Verbosity</span></span><span class="mpre">
                 -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^The program to run</span></span><span class="mpre">
                 -&gt; [</span><span class="hl_tyconref"><span class="mpre">ProgArg</span></span><span class="mpre">]          </span><span class="hl_comment"><span class="mpre">-- ^Any /extra/ arguments to add</span></span><span class="mpre">
                 -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
</span><a name="loc_156_1_156_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_1_156_17&#39;)"><span class="hl_fundecl"><span class="mpre">getProgramOutput</span></span></a><span class="mpre"> </span><a name="loc_156_18_156_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_18_156_27&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_156_28_156_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_28_156_32&#39;)"><span class="hl_vardecl"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a name="loc_156_33_156_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_33_156_37&#39;)"><span class="hl_vardecl"><span class="mpre">args</span></span></a><span class="mpre"> =
  </span><a href="Distribution.Simple.Program.Run.html#loc_145_1_145_27" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_145_1_145_27&#39;)"><span class="hl_varref"><span class="mpre">getProgramInvocationOutput</span></span></a><span class="mpre"> </span><a href="#loc_156_18_156_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_18_156_27&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> (</span><a href="Distribution.Simple.Program.Run.html#loc_84_1_84_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Run.html#loc_84_1_84_18&#39;)"><span class="hl_varref"><span class="mpre">programInvocation</span></span></a><span class="mpre"> </span><a href="#loc_156_28_156_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_28_156_32&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a href="#loc_156_33_156_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_33_156_37&#39;)"><span class="hl_varref"><span class="mpre">args</span></span></a><span class="mpre">)


</span><span class="hl_comment"><span class="mpre">-- | Looks up the given program in the program database and runs it.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_167_1_167_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_1_167_13&#39;)"><span class="mpre">runDbProgram</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^verbosity</span></span><span class="mpre">
             -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Program</span></span></a><span class="mpre">    </span><span class="hl_comment"><span class="mpre">-- ^The program to run</span></span><span class="mpre">
             -&gt; </span><a href="Distribution.Simple.Program.Db.html#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^look up the program here</span></span><span class="mpre">
             -&gt; [</span><span class="hl_tyconref"><span class="mpre">ProgArg</span></span><span class="mpre">]  </span><span class="hl_comment"><span class="mpre">-- ^Any /extra/ arguments to add</span></span><span class="mpre">
             -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_167_1_167_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_1_167_13&#39;)"><span class="hl_fundecl"><span class="mpre">runDbProgram</span></span></a><span class="mpre"> </span><a name="loc_167_14_167_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_14_167_23&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_167_24_167_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_24_167_28&#39;)"><span class="hl_vardecl"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a name="loc_167_29_167_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_29_167_38&#39;)"><span class="hl_vardecl"><span class="mpre">programDb</span></span></a><span class="mpre"> </span><a name="loc_167_39_167_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_39_167_43&#39;)"><span class="hl_vardecl"><span class="mpre">args</span></span></a><span class="mpre"> =
  case </span><a href="Distribution.Simple.Program.Db.html#loc_261_1_261_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_261_1_261_14&#39;)"><span class="hl_varref"><span class="mpre">lookupProgram</span></span></a><span class="mpre"> </span><a href="#loc_167_24_167_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_24_167_28&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a href="#loc_167_29_167_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_29_167_38&#39;)"><span class="hl_varref"><span class="mpre">programDb</span></span></a><span class="mpre"> of
    </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">             -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><a href="#loc_172_4_172_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_4_172_12&#39;)"><span class="hl_varref"><span class="mpre">notFound</span></span></a><span class="mpre">
    </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_170_10_170_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_10_170_24&#39;)"><span class="hl_vardecl"><span class="mpre">configuredProg</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_146_1_146_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_11&#39;)"><span class="hl_varref"><span class="mpre">runProgram</span></span></a><span class="mpre"> </span><a href="#loc_167_14_167_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_14_167_23&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_170_10_170_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_170_10_170_24&#39;)"><span class="hl_varref"><span class="mpre">configuredProg</span></span></a><span class="mpre"> </span><a href="#loc_167_39_167_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_39_167_43&#39;)"><span class="hl_varref"><span class="mpre">args</span></span></a><span class="mpre">
 where
   </span><a name="loc_172_4_172_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_172_4_172_12&#39;)"><span class="hl_vardecl"><span class="mpre">notFound</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;The program &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_48_8_48_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_48_8_48_19&#39;)"><span class="hl_varref"><span class="mpre">programName</span></span></a><span class="mpre"> </span><a href="#loc_167_24_167_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_24_167_28&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre">
           </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; is required but it could not be found&quot;</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Looks up the given program in the program database and runs it.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><a href="#loc_182_1_182_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_1_182_19&#39;)"><span class="mpre">getDbProgramOutput</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^verbosity</span></span><span class="mpre">
                   -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Program</span></span></a><span class="mpre">    </span><span class="hl_comment"><span class="mpre">-- ^The program to run</span></span><span class="mpre">
                   -&gt; </span><a href="Distribution.Simple.Program.Db.html#loc_94_6_94_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_94_6_94_15&#39;)"><span class="hl_tyconref"><span class="mpre">ProgramDb</span></span></a><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^look up the program here</span></span><span class="mpre">
                   -&gt; [</span><span class="hl_tyconref"><span class="mpre">ProgArg</span></span><span class="mpre">]  </span><span class="hl_comment"><span class="mpre">-- ^Any /extra/ arguments to add</span></span><span class="mpre">
                   -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
</span><a name="loc_182_1_182_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_1_182_19&#39;)"><span class="hl_fundecl"><span class="mpre">getDbProgramOutput</span></span></a><span class="mpre"> </span><a name="loc_182_20_182_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_20_182_29&#39;)"><span class="hl_vardecl"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a name="loc_182_30_182_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_30_182_34&#39;)"><span class="hl_vardecl"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a name="loc_182_35_182_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_35_182_44&#39;)"><span class="hl_vardecl"><span class="mpre">programDb</span></span></a><span class="mpre"> </span><a name="loc_182_45_182_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_45_182_49&#39;)"><span class="hl_vardecl"><span class="mpre">args</span></span></a><span class="mpre"> =
  case </span><a href="Distribution.Simple.Program.Db.html#loc_261_1_261_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_261_1_261_14&#39;)"><span class="hl_varref"><span class="mpre">lookupProgram</span></span></a><span class="mpre"> </span><a href="#loc_182_30_182_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_30_182_34&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre"> </span><a href="#loc_182_35_182_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_35_182_44&#39;)"><span class="hl_varref"><span class="mpre">programDb</span></span></a><span class="mpre"> of
    </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">             -&gt; </span><a href="Distribution.Simple.Utils.html#loc_251_1_251_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_251_1_251_4&#39;)"><span class="hl_varref"><span class="mpre">die</span></span></a><span class="mpre"> </span><a href="#loc_187_4_187_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_4_187_12&#39;)"><span class="hl_varref"><span class="mpre">notFound</span></span></a><span class="mpre">
    </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_185_10_185_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_10_185_24&#39;)"><span class="hl_vardecl"><span class="mpre">configuredProg</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_156_1_156_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_1_156_17&#39;)"><span class="hl_varref"><span class="mpre">getProgramOutput</span></span></a><span class="mpre"> </span><a href="#loc_182_20_182_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_20_182_29&#39;)"><span class="hl_varref"><span class="mpre">verbosity</span></span></a><span class="mpre"> </span><a href="#loc_185_10_185_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_10_185_24&#39;)"><span class="hl_varref"><span class="mpre">configuredProg</span></span></a><span class="mpre"> </span><a href="#loc_182_45_182_49" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_45_182_49&#39;)"><span class="hl_varref"><span class="mpre">args</span></span></a><span class="mpre">
 where
   </span><a name="loc_187_4_187_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_187_4_187_12&#39;)"><span class="hl_vardecl"><span class="mpre">notFound</span></span></a><span class="mpre"> = </span><span class="hl_string"><span class="mpre">&quot;The program &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="Distribution.Simple.Program.Types.html#loc_48_8_48_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_48_8_48_19&#39;)"><span class="hl_varref"><span class="mpre">programName</span></span></a><span class="mpre"> </span><a href="#loc_182_30_182_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_30_182_34&#39;)"><span class="hl_varref"><span class="mpre">prog</span></span></a><span class="mpre">
           </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot; is required but it could not be found&quot;</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">---------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Deprecated aliases</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">

</span><a href="#loc_197_1_197_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_1_197_17&#39;)"><span class="mpre">rawSystemProgram</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre">
                 -&gt; [</span><span class="hl_tyconref"><span class="mpre">ProgArg</span></span><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_197_1_197_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_197_1_197_17&#39;)"><span class="hl_vardecl"><span class="mpre">rawSystemProgram</span></span></a><span class="mpre"> = </span><a href="#loc_146_1_146_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_11&#39;)"><span class="hl_varref"><span class="mpre">runProgram</span></span></a><span class="mpre">

</span><a href="#loc_201_1_201_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_201_1_201_23&#39;)"><span class="mpre">rawSystemProgramStdout</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_77_6_77_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_77_6_77_23&#39;)"><span class="hl_tyconref"><span class="mpre">ConfiguredProgram</span></span></a><span class="mpre">
                       -&gt; [</span><span class="hl_tyconref"><span class="mpre">ProgArg</span></span><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
</span><a name="loc_201_1_201_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_201_1_201_23&#39;)"><span class="hl_vardecl"><span class="mpre">rawSystemProgramStdout</span></span></a><span class="mpre"> = </span><a href="#loc_156_1_156_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_156_1_156_17&#39;)"><span class="hl_varref"><span class="mpre">getProgramOutput</span></span></a><span class="mpre">

</span><a href="#loc_205_1_205_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_205_1_205_21&#39;)"><span class="mpre">rawSystemProgramConf</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre">  -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Program</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ProgramConfiguration</span></span><span class="mpre">
                     -&gt; [</span><span class="hl_tyconref"><span class="mpre">ProgArg</span></span><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_205_1_205_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_205_1_205_21&#39;)"><span class="hl_vardecl"><span class="mpre">rawSystemProgramConf</span></span></a><span class="mpre"> = </span><a href="#loc_167_1_167_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_167_1_167_13&#39;)"><span class="hl_varref"><span class="mpre">runDbProgram</span></span></a><span class="mpre">

</span><a href="#loc_209_1_209_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_1_209_27&#39;)"><span class="mpre">rawSystemProgramStdoutConf</span></a><span class="mpre"> :: </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Program</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">ProgramConfiguration</span></span><span class="mpre">
                           -&gt; [</span><span class="hl_tyconref"><span class="mpre">ProgArg</span></span><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
</span><a name="loc_209_1_209_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_209_1_209_27&#39;)"><span class="hl_vardecl"><span class="mpre">rawSystemProgramStdoutConf</span></span></a><span class="mpre"> = </span><a href="#loc_182_1_182_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_182_1_182_19&#39;)"><span class="hl_varref"><span class="mpre">getDbProgramOutput</span></span></a><span class="mpre">

</span><span class="warning" data-warning="DeclTypeDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program.hs&quot;, srcSpanStartLine = 211, srcSpanStartColumn = 1, srcSpanEndLine = 211, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program.hs&quot;, srcSpanStartLine = 211, srcSpanStartColumn = 1, srcSpanEndLine = 211, srcSpanEndColumn = 5},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simp"><span class="mpre">type ProgramConfiguration = ProgramDb</span></span><span class="mpre">

</span><a href="#loc_214_1_214_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_26&#39;)"><span class="mpre">emptyProgramConfiguration</span></a><span class="mpre">, </span><a href="#loc_215_1_215_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_1_215_28&#39;)"><span class="mpre">defaultProgramConfiguration</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">ProgramConfiguration</span></span><span class="mpre">
</span><a name="loc_214_1_214_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_1_214_26&#39;)"><span class="hl_vardecl"><span class="mpre">emptyProgramConfiguration</span></span></a><span class="mpre">   = </span><a href="Distribution.Simple.Program.Db.html#loc_106_1_106_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_106_1_106_15&#39;)"><span class="hl_varref"><span class="mpre">emptyProgramDb</span></span></a><span class="mpre">
</span><a name="loc_215_1_215_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_1_215_28&#39;)"><span class="hl_vardecl"><span class="mpre">defaultProgramConfiguration</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Program.Db.html#loc_109_1_109_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_109_1_109_17&#39;)"><span class="hl_varref"><span class="mpre">defaultProgramDb</span></span></a><span class="mpre">

</span><a href="#loc_219_1_219_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_219_1_219_28&#39;)"><span class="mpre">restoreProgramConfiguration</span></a><span class="mpre"> :: [</span><a href="Distribution.Simple.Program.Types.html#loc_46_6_46_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Types.html#loc_46_6_46_13&#39;)"><span class="hl_tyconref"><span class="mpre">Program</span></span></a><span class="mpre">] -&gt; </span><span class="hl_tyconref"><span class="mpre">ProgramConfiguration</span></span><span class="mpre">
                                         -&gt; </span><span class="hl_tyconref"><span class="mpre">ProgramConfiguration</span></span><span class="mpre">
</span><a name="loc_219_1_219_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_219_1_219_28&#39;)"><span class="hl_vardecl"><span class="mpre">restoreProgramConfiguration</span></span></a><span class="mpre"> = </span><a href="Distribution.Simple.Program.Db.html#loc_146_1_146_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Program.Db.html#loc_146_1_146_17&#39;)"><span class="hl_varref"><span class="mpre">restoreProgramDb</span></span></a><span class="mpre">

</span><span class="warning" data-warning="DeclDeprPragmaDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program.hs&quot;, srcSpanStartLine = 221, srcSpanStartColumn = 1, srcSpanEndLine = 221, srcSpanEndColumn = 71}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distribution/Simple/Program.hs&quot;, srcSpanStartLine = 221, srcSpanStartColumn = 1, srcSpanEndLine = 221, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/Cabal-1.18.1.3/Distributi"><span class="mpre">{-# DEPRECATED findProgramOnPath &quot;use findProgramLocation instead&quot; #-}</span></span><span class="mpre">
</span><a href="#loc_223_1_223_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_223_1_223_18&#39;)"><span class="mpre">findProgramOnPath</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><a href="Distribution.Verbosity.html#loc_58_6_58_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Verbosity.html#loc_58_6_58_15&#39;)"><span class="hl_tyconref"><span class="mpre">Verbosity</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">FilePath</span></span><span class="mpre">)
</span><a name="loc_223_1_223_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_223_1_223_18&#39;)"><span class="hl_vardecl"><span class="mpre">findProgramOnPath</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">flip</span></span><span class="mpre"> </span><a href="Distribution.Simple.Utils.html#loc_577_1_577_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Distribution.Simple.Utils.html#loc_577_1_577_20&#39;)"><span class="hl_varref"><span class="mpre">findProgramLocation</span></span></a><span class="mpre">
</span></div></body></html>