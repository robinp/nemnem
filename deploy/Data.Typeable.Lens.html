<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE CPP #-}
{-# LANGUAGE Rank2Types #-}
#ifdef TRUSTWORTHY
{-# LANGUAGE Trustworthy #-}
#endif
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  Data.Typeable.Lens</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (C) 2012-14 Edward Kmett</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  BSD-style (see the file LICENSE)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  experimental</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  Rank2Types</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">----------------------------------------------------------------------------</span></span><span class="mpre">
module Data.Typeable.Lens
  ( _cast
  , _gcast
  ) where

import Control.Applicative
import Control.Lens
import Data.Typeable
import Data.Maybe

</span><span class="hl_comment"><span class="mpre">-- | A &#39;Traversal&#39;&#39; for working with a &#39;cast&#39; of a &#39;Typeable&#39; value.</span></span><span class="mpre">
</span><a href="#loc_28_1_28_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_6&#39;)"><span class="mpre">_cast</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/Typeable/Lens.hs&quot;, srcSpanStartLine = 27, srcSpanStartColumn = 10, srcSpanEndLine = 27, srcSpanEndColumn = 37}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/Typeable/Lens.hs&quot;, srcSpanStartLine = 27, srcSpanStartColumn = 10, srcSpanEndLine = 27, srcSpanEndColumn = 11},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/Typeable/Lens.hs&quot;, srcSpanStartLine = "><span class="mpre">(Typeable s, Typeable a) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Traversal&#39;</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_28_1_28_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_6&#39;)"><span class="hl_fundecl"><span class="mpre">_cast</span></span></a><span class="mpre"> </span><a name="loc_28_7_28_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_7_28_8&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_28_9_28_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_9_28_10&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = case </span><a href="Data.Typeable.html#loc_112_1_112_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Typeable.html#loc_112_1_112_5&#39;)"><span class="hl_varref"><span class="mpre">cast</span></span></a><span class="mpre"> </span><a href="#loc_28_9_28_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_9_28_10&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
  </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a name="loc_29_8_29_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_8_29_9&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">  -&gt; </span><a href="Data.Maybe.html#loc_98_1_98_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_98_1_98_10&#39;)"><span class="hl_varref"><span class="mpre">fromMaybe</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;_cast: recast failed&quot;</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Typeable.html#loc_112_1_112_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Typeable.html#loc_112_1_112_5&#39;)"><span class="hl_varref"><span class="mpre">cast</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_28_7_28_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_7_28_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_29_8_29_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_8_29_9&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
  </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> -&gt; </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_varref"><span class="mpre">pure</span></span></a><span class="mpre"> </span><a href="#loc_28_9_28_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_9_28_10&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_28_1_28_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_28_1_28_6&#39;)"><span class="mpre">_cast</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | A &#39;Traversal&#39;&#39; for working with a &#39;gcast&#39; of a &#39;Typeable&#39; value.</span></span><span class="mpre">
</span><a href="#loc_35_1_35_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_1_35_7&#39;)"><span class="mpre">_gcast</span></a><span class="mpre"> :: </span><span class="warning" data-warning="ContextCxTuple (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/Typeable/Lens.hs&quot;, srcSpanStartLine = 34, srcSpanStartColumn = 11, srcSpanEndLine = 34, srcSpanEndColumn = 38}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/Typeable/Lens.hs&quot;, srcSpanStartLine = 34, srcSpanStartColumn = 11, srcSpanEndLine = 34, srcSpanEndColumn = 12},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/lens-4.3/src/Data/Typeable/Lens.hs&quot;, srcSpanStartLine = "><span class="mpre">(Typeable s, Typeable a) =&gt;</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Traversal&#39;</span></span><span class="mpre"> (</span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">s</span></span><span class="mpre">) (</span><span class="hl_tyvar"><span class="mpre">c</span></span><span class="mpre"> </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)
</span><a name="loc_35_1_35_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_1_35_7&#39;)"><span class="hl_fundecl"><span class="mpre">_gcast</span></span></a><span class="mpre"> </span><a name="loc_35_8_35_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_8_35_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_35_10_35_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_10_35_11&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = case </span><a href="Data.Typeable.html#loc_126_1_126_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Typeable.html#loc_126_1_126_6&#39;)"><span class="hl_varref"><span class="mpre">gcast</span></span></a><span class="mpre"> </span><a href="#loc_35_10_35_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_10_35_11&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> of
  </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a name="loc_36_8_36_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_8_36_9&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">  -&gt; </span><a href="Data.Maybe.html#loc_98_1_98_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_98_1_98_10&#39;)"><span class="hl_varref"><span class="mpre">fromMaybe</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;_gcast: recast failed&quot;</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Typeable.html#loc_126_1_126_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Typeable.html#loc_126_1_126_6&#39;)"><span class="hl_varref"><span class="mpre">gcast</span></span></a><span class="mpre"> </span><a href="Data.Functor.html#loc_32_1_32_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Functor.html#loc_32_1_32_6&#39;)"><span class="hl_infix"><span class="mpre">&lt;$&gt;</span></span></a><span class="mpre"> </span><a href="#loc_35_8_35_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_8_35_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_36_8_36_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_36_8_36_9&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
  </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> -&gt; </span><a href="Control.Applicative.html#loc_115_5_115_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Applicative.html#loc_115_5_115_9&#39;)"><span class="hl_varref"><span class="mpre">pure</span></span></a><span class="mpre"> </span><a href="#loc_35_10_35_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_10_35_11&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_35_1_35_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_35_1_35_7&#39;)"><span class="mpre">_gcast</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span></div></body></html>