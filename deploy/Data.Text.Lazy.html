<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# OPTIONS_GHC -fno-warn-orphans #-}
{-# LANGUAGE BangPatterns, MagicHash, CPP #-}
#if __GLASGOW_HASKELL__ &gt;= 702
{-# LANGUAGE Trustworthy #-}
#endif
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      : Data.Text.Lazy</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   : (c) 2009, 2010, 2012 Bryan O&#39;Sullivan</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     : BSD-style</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  : bos@serpentine.com</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   : experimental</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability : GHC</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- A time and space-efficient implementation of Unicode text using</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- lists of packed arrays.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- /Note/: Read below the synopsis for important notes on the use of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- this module.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The representation used by this module is suitable for high</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- performance use and for streaming large quantities of data.  It</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- provides a means to manipulate a large body of text without</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- requiring that the entire content be resident in memory.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Some operations, such as &#39;concat&#39;, &#39;append&#39;, &#39;reverse&#39; and &#39;cons&#39;,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- have better time complexity than their &quot;Data.Text&quot; equivalents, due</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- to the underlying representation being a list of chunks. For other</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- operations, lazy &#39;Text&#39;s are usually within a few percent of strict</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- ones, but often with better heap usage if used in a streaming</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fashion. For data larger than available memory, or if you have</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- tight memory constraints, this module will be the only option.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This module is intended to be imported @qualified@, to avoid name</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- clashes with &quot;Prelude&quot; functions.  eg.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import qualified Data.Text.Lazy as L</span></span><span class="mpre">

module Data.Text.Lazy
    (
    </span><span class="hl_comment"><span class="mpre">-- * Fusion</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- $fusion</span></span><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- * Acceptable data</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- $replacement</span></span><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- * Types</span></span><span class="mpre">
      Text

    </span><span class="hl_comment"><span class="mpre">-- * Creation and elimination</span></span><span class="mpre">
    , pack
    , unpack
    , singleton
    , empty
    , fromChunks
    , toChunks
    , toStrict
    , fromStrict
    , foldrChunks
    , foldlChunks

    </span><span class="hl_comment"><span class="mpre">-- * Basic interface</span></span><span class="mpre">
    , cons
    , snoc
    , append
    , uncons
    , head
    , last
    , tail
    , init
    , null
    , length
    , compareLength

    </span><span class="hl_comment"><span class="mpre">-- * Transformations</span></span><span class="mpre">
    , map
    , intercalate
    , intersperse
    , transpose
    , reverse
    , replace

    </span><span class="hl_comment"><span class="mpre">-- ** Case conversion</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- $case</span></span><span class="mpre">
    , toCaseFold
    , toLower
    , toUpper
    , toTitle

    </span><span class="hl_comment"><span class="mpre">-- ** Justification</span></span><span class="mpre">
    , justifyLeft
    , justifyRight
    , center

    </span><span class="hl_comment"><span class="mpre">-- * Folds</span></span><span class="mpre">
    , foldl
    , foldl&#39;
    , foldl1
    , foldl1&#39;
    , foldr
    , foldr1

    </span><span class="hl_comment"><span class="mpre">-- ** Special folds</span></span><span class="mpre">
    , concat
    , concatMap
    , any
    , all
    , maximum
    , minimum

    </span><span class="hl_comment"><span class="mpre">-- * Construction</span></span><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- ** Scans</span></span><span class="mpre">
    , scanl
    , scanl1
    , scanr
    , scanr1

    </span><span class="hl_comment"><span class="mpre">-- ** Accumulating maps</span></span><span class="mpre">
    , mapAccumL
    , mapAccumR

    </span><span class="hl_comment"><span class="mpre">-- ** Generation and unfolding</span></span><span class="mpre">
    , replicate
    , unfoldr
    , unfoldrN

    </span><span class="hl_comment"><span class="mpre">-- * Substrings</span></span><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- ** Breaking strings</span></span><span class="mpre">
    , take
    , takeEnd
    , drop
    , dropEnd
    , takeWhile
    , dropWhile
    , dropWhileEnd
    , dropAround
    , strip
    , stripStart
    , stripEnd
    , splitAt
    , span
    , breakOn
    , breakOnEnd
    , break
    , group
    , groupBy
    , inits
    , tails

    </span><span class="hl_comment"><span class="mpre">-- ** Breaking into many substrings</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- $split</span></span><span class="mpre">
    , splitOn
    , split
    , chunksOf
    </span><span class="hl_comment"><span class="mpre">-- , breakSubstring</span></span><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- ** Breaking into lines and words</span></span><span class="mpre">
    , lines
    , words
    , unlines
    , unwords

    </span><span class="hl_comment"><span class="mpre">-- * Predicates</span></span><span class="mpre">
    , isPrefixOf
    , isSuffixOf
    , isInfixOf

    </span><span class="hl_comment"><span class="mpre">-- ** View patterns</span></span><span class="mpre">
    , stripPrefix
    , stripSuffix
    , commonPrefixes

    </span><span class="hl_comment"><span class="mpre">-- * Searching</span></span><span class="mpre">
    , filter
    , find
    , breakOnAll
    , partition

    </span><span class="hl_comment"><span class="mpre">-- , findSubstring</span></span><span class="mpre">

    </span><span class="hl_comment"><span class="mpre">-- * Indexing</span></span><span class="mpre">
    , index
    , count

    </span><span class="hl_comment"><span class="mpre">-- * Zipping and unzipping</span></span><span class="mpre">
    , zip
    , zipWith

    </span><span class="hl_comment"><span class="mpre">-- -* Ordered text</span></span><span class="mpre">
    </span><span class="hl_comment"><span class="mpre">-- , sort</span></span><span class="mpre">
    ) where

import Prelude (Char, Bool(..), </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="mpre">Maybe</span></a><span class="mpre">(..), String,
                Eq(..), Ord(..), Ordering(..), Read(..), Show(..),
                (&amp;&amp;), (||), (+), (-), (.), ($), (++),
                error, flip, fmap, fromIntegral, not, otherwise, quot)
import qualified Prelude as P
#if defined(HAVE_DEEPSEQ)
import Control.DeepSeq (</span><a href="Control.DeepSeq.html#loc_110_7_110_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.DeepSeq.html#loc_110_7_110_13&#39;)"><span class="mpre">NFData</span></a><span class="mpre">(..))
#endif
import Data.Int (</span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="mpre">Int64</span></a><span class="mpre">)
import qualified Data.List as L
import Data.Char (</span><a href="GHC.Unicode.html#loc_72_1_72_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Unicode.html#loc_72_1_72_8&#39;)"><span class="mpre">isSpace</span></a><span class="mpre">)
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Lazy.hs&quot;, srcSpanStartLine = 206, srcSpanStartColumn = 8, srcSpanEndLine = 206, srcSpanEndColumn = 17}, srcInfoPoints = []}) &quot;Data.Data&quot;"><span class="mpre">Data.Data</span></span><span class="mpre"> (Data(gfoldl, toConstr, gunfold, dataTypeOf))
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Lazy.hs&quot;, srcSpanStartLine = 207, srcSpanStartColumn = 8, srcSpanEndLine = 207, srcSpanEndColumn = 17}, srcInfoPoints = []}) &quot;Data.Data&quot;"><span class="mpre">Data.Data</span></span><span class="mpre"> (mkNoRepType)
import Data.Monoid (</span><a href="Data.Monoid.html#loc_79_7_79_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_79_7_79_13&#39;)"><span class="mpre">Monoid</span></a><span class="mpre">(..))
import Data.String (</span><a href="Data.String.html#loc_34_7_34_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.String.html#loc_34_7_34_15&#39;)"><span class="mpre">IsString</span></a><span class="mpre">(..))
import qualified Data.Text as T
import qualified Data.Text.Internal as T
import qualified Data.Text.Internal.Fusion.Common as S
import qualified Data.Text.Unsafe as T
import qualified Data.Text.Internal.Lazy.Fusion as S
import Data.Text.Internal.Fusion.Types (</span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_6_53_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_6_53_11&#39;)"><span class="mpre">PairS</span></a><span class="mpre">(..))
import Data.Text.Internal.Lazy.Fusion (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="mpre">stream</span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9&#39;)"><span class="mpre">unstream</span></a><span class="mpre">)
import Data.Text.Internal.Lazy (</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="mpre">Text</span></a><span class="mpre">(..), </span><a href="Data.Text.Internal.Lazy.html#loc_83_1_83_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_83_1_83_6&#39;)"><span class="mpre">chunk</span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_89_1_89_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_89_1_89_6&#39;)"><span class="mpre">empty</span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_101_1_101_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_101_1_101_12&#39;)"><span class="mpre">foldlChunks</span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_93_1_93_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_93_1_93_12&#39;)"><span class="mpre">foldrChunks</span></a><span class="mpre">)
import Data.Text.Internal (</span><a href="Data.Text.Internal.html#loc_108_1_108_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_108_1_108_7&#39;)"><span class="mpre">firstf</span></a><span class="mpre">, </span><a href="Data.Text.Internal.html#loc_101_1_101_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_101_1_101_5&#39;)"><span class="mpre">safe</span></a><span class="mpre">, </span><a href="Data.Text.Internal.html#loc_78_1_78_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_78_1_78_5&#39;)"><span class="mpre">text</span></a><span class="mpre">)
import qualified Data.Text.Internal.Functions as F
import Data.Text.Internal.Lazy.Search (</span><a href="Data.Text.Internal.Lazy.Search.html#loc_45_1_45_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Search.html#loc_45_1_45_8&#39;)"><span class="mpre">indices</span></a><span class="mpre">)
#if __GLASGOW_HASKELL__ &gt;= 702
import qualified GHC.CString as GHC
#else
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Lazy.hs&quot;, srcSpanStartLine = 224, srcSpanStartColumn = 18, srcSpanEndLine = 224, srcSpanEndColumn = 26}, srcInfoPoints = []}) &quot;GHC.Base&quot;"><span class="mpre">GHC.Base</span></span><span class="mpre"> as GHC
#endif
import GHC.Prim (</span><a href="GHC.Prim.html#loc_2279_6_2279_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_2279_6_2279_11&#39;)"><span class="mpre">Addr#</span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- $fusion</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Most of the functions in this module are subject to /fusion/,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- meaning that a pipeline of such functions will usually allocate at</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- most one &#39;Text&#39; value.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- As an example, consider the following pipeline:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Data.Text.Lazy as T</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Data.Text.Lazy.Encoding as E</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Data.ByteString.Lazy (ByteString)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; countChars :: ByteString -&gt; Int</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; countChars = T.length . T.toUpper . E.decodeUtf8</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- From the type signatures involved, this looks like it should</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- allocate one &#39;ByteString&#39; value, and two &#39;Text&#39; values. However,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- when a module is compiled with optimisation enabled under GHC, the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- two intermediate &#39;Text&#39; values will be optimised away, and the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- function will be compiled down to a single loop over the source</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;ByteString&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Functions that can be fused by the compiler are documented with the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- phrase \&quot;Subject to fusion\&quot;.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- $replacement</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- A &#39;Text&#39; value is a sequence of Unicode scalar values, as defined</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- in &amp;#xa7;3.9, definition D76 of the Unicode 5.2 standard:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &lt;http://www.unicode.org/versions/Unicode5.2.0/ch03.pdf#page=35&gt;. As</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- such, a &#39;Text&#39; cannot contain values in the range U+D800 to U+DFFF</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- inclusive. Haskell implementations admit all Unicode code points</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (&amp;#xa7;3.4, definition D10) as &#39;Char&#39; values, including code points</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- from this invalid range.  This means that there are some &#39;Char&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- values that are not valid Unicode scalar values, and the functions</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- in this module must handle those cases.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Within this module, many functions construct a &#39;Text&#39; from one or</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- more &#39;Char&#39; values. Those functions will substitute &#39;Char&#39; values</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- that are not valid Unicode scalar values with the replacement</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- character \&quot;&amp;#xfffd;\&quot; (U+FFFD).  Functions that perform this</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- inspection and replacement are documented with the phrase</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- \&quot;Performs replacement on invalid scalar values\&quot;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (One reason for this policy of replacement is that internally, a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Text&#39; value is represented as packed UTF-16 data. Values in the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- range U+D800 through U+DFFF are used by UTF-16 to denote surrogate</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- code points, and so cannot be represented. The functions replace</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- invalid scalar values, instead of dropping them, as a security</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- measure. For details, see Unicode Technical Report 36, &amp;#xa7;3.5:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &lt;http://unicode.org/reports/tr36#Deletion_of_Noncharacters&gt;)</span></span><span class="mpre">

</span><a href="#loc_281_1_281_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_1_281_6&#39;)"><span class="mpre">equal</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_281_1_281_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_1_281_6&#39;)"><span class="hl_fundecl"><span class="mpre">equal</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">
</span><a href="#loc_281_1_281_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_1_281_6&#39;)"><span class="hl_fundecl"><span class="mpre">equal</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre"> _     = </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
</span><a href="#loc_281_1_281_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_1_281_6&#39;)"><span class="hl_fundecl"><span class="mpre">equal</span></span></a><span class="mpre"> _ </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">     = </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
</span><a href="#loc_281_1_281_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_1_281_6&#39;)"><span class="hl_fundecl"><span class="mpre">equal</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_284_14_284_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_14_284_15&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_284_16_284_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_16_284_18&#39;)"><span class="hl_vardecl"><span class="mpre">as</span></span></a><span class="mpre">) (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_284_27_284_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_27_284_28&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> </span><a name="loc_284_29_284_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_29_284_31&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre">) =
    case </span><span class="hl_varref"><span class="mpre">compare</span></span><span class="mpre"> </span><a href="#loc_291_9_291_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_9_291_13&#39;)"><span class="hl_varref"><span class="mpre">lenA</span></span></a><span class="mpre"> </span><a href="#loc_292_9_292_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_9_292_13&#39;)"><span class="hl_varref"><span class="mpre">lenB</span></span></a><span class="mpre"> of
      </span><span class="hl_conref"><span class="mpre">LT</span></span><span class="mpre"> -&gt; </span><a href="#loc_284_14_284_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_14_284_15&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> (</span><a href="Data.Text.Unsafe.html#loc_117_1_117_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_117_1_117_11&#39;)"><span class="hl_varref"><span class="mpre">T.takeWord16</span></span></a><span class="mpre"> </span><a href="#loc_291_9_291_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_9_291_13&#39;)"><span class="hl_varref"><span class="mpre">lenA</span></span></a><span class="mpre"> </span><a href="#loc_284_27_284_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_27_284_28&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre">
            </span><a href="#loc_284_16_284_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_16_284_18&#39;)"><span class="hl_varref"><span class="mpre">as</span></span></a><span class="mpre"> </span><a href="#loc_281_1_281_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_1_281_6&#39;)"><span class="hl_infix"><span class="mpre">`equal`</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.Unsafe.html#loc_122_1_122_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_122_1_122_11&#39;)"><span class="hl_varref"><span class="mpre">T.dropWord16</span></span></a><span class="mpre"> </span><a href="#loc_291_9_291_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_9_291_13&#39;)"><span class="hl_varref"><span class="mpre">lenA</span></span></a><span class="mpre"> </span><a href="#loc_284_27_284_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_27_284_28&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">) </span><a href="#loc_284_29_284_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_29_284_31&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
      </span><span class="hl_conref"><span class="mpre">EQ</span></span><span class="mpre"> -&gt; </span><a href="#loc_284_14_284_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_14_284_15&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_284_27_284_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_27_284_28&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_284_16_284_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_16_284_18&#39;)"><span class="hl_varref"><span class="mpre">as</span></span></a><span class="mpre"> </span><a href="#loc_281_1_281_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_1_281_6&#39;)"><span class="hl_infix"><span class="mpre">`equal`</span></span></a><span class="mpre"> </span><a href="#loc_284_29_284_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_29_284_31&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
      </span><span class="hl_conref"><span class="mpre">GT</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Unsafe.html#loc_117_1_117_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_117_1_117_11&#39;)"><span class="hl_varref"><span class="mpre">T.takeWord16</span></span></a><span class="mpre"> </span><a href="#loc_292_9_292_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_9_292_13&#39;)"><span class="hl_varref"><span class="mpre">lenB</span></span></a><span class="mpre"> </span><a href="#loc_284_14_284_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_14_284_15&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_284_27_284_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_27_284_28&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre">
            </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.Unsafe.html#loc_122_1_122_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_122_1_122_11&#39;)"><span class="hl_varref"><span class="mpre">T.dropWord16</span></span></a><span class="mpre"> </span><a href="#loc_292_9_292_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_9_292_13&#39;)"><span class="hl_varref"><span class="mpre">lenB</span></span></a><span class="mpre"> </span><a href="#loc_284_14_284_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_14_284_15&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">) </span><a href="#loc_284_16_284_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_16_284_18&#39;)"><span class="hl_varref"><span class="mpre">as</span></span></a><span class="mpre"> </span><a href="#loc_281_1_281_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_1_281_6&#39;)"><span class="hl_infix"><span class="mpre">`equal`</span></span></a><span class="mpre"> </span><a href="#loc_284_29_284_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_29_284_31&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
  where </span><a name="loc_291_9_291_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_291_9_291_13&#39;)"><span class="hl_vardecl"><span class="mpre">lenA</span></span></a><span class="mpre"> = </span><a href="Data.Text.Unsafe.html#loc_112_1_112_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_112_1_112_13&#39;)"><span class="hl_varref"><span class="mpre">T.lengthWord16</span></span></a><span class="mpre"> </span><a href="#loc_284_14_284_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_14_284_15&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
        </span><a name="loc_292_9_292_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_292_9_292_13&#39;)"><span class="hl_vardecl"><span class="mpre">lenB</span></span></a><span class="mpre"> = </span><a href="Data.Text.Unsafe.html#loc_112_1_112_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_112_1_112_13&#39;)"><span class="hl_varref"><span class="mpre">T.lengthWord16</span></span></a><span class="mpre"> </span><a href="#loc_284_27_284_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_284_27_284_28&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">

instance </span><span class="hl_classref"><span class="mpre">Eq</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> where
    </span><span class="hl_vardecl"><span class="mpre">(==)</span></span><span class="mpre"> = </span><a href="#loc_281_1_281_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_281_1_281_6&#39;)"><span class="hl_varref"><span class="mpre">equal</span></span></a><span class="mpre">
    </span><span class="hl_pragma"><span class="mpre">{-# INLINE (==) #-}</span></span><span class="mpre">

instance </span><span class="hl_classref"><span class="mpre">Ord</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> where
    </span><span class="hl_vardecl"><span class="mpre">compare</span></span><span class="mpre"> = </span><a href="#loc_302_1_302_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_1_302_12&#39;)"><span class="hl_varref"><span class="mpre">compareText</span></span></a><span class="mpre">

</span><a href="#loc_302_1_302_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_1_302_12&#39;)"><span class="mpre">compareText</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Ordering</span></span><span class="mpre">
</span><a name="loc_302_1_302_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_1_302_12&#39;)"><span class="hl_fundecl"><span class="mpre">compareText</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">EQ</span></span><span class="mpre">
</span><a href="#loc_302_1_302_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_1_302_12&#39;)"><span class="hl_fundecl"><span class="mpre">compareText</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre"> _     = </span><span class="hl_conref"><span class="mpre">LT</span></span><span class="mpre">
</span><a href="#loc_302_1_302_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_1_302_12&#39;)"><span class="hl_fundecl"><span class="mpre">compareText</span></span></a><span class="mpre"> _     </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">GT</span></span><span class="mpre">
</span><a href="#loc_302_1_302_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_1_302_12&#39;)"><span class="hl_fundecl"><span class="mpre">compareText</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_305_20_305_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_20_305_22&#39;)"><span class="hl_vardecl"><span class="mpre">a0</span></span></a><span class="mpre"> </span><a name="loc_305_23_305_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_23_305_25&#39;)"><span class="hl_vardecl"><span class="mpre">as</span></span></a><span class="mpre">) (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_305_34_305_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_34_305_36&#39;)"><span class="hl_vardecl"><span class="mpre">b0</span></span></a><span class="mpre"> </span><a name="loc_305_37_305_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_37_305_39&#39;)"><span class="hl_vardecl"><span class="mpre">bs</span></span></a><span class="mpre">) = </span><a href="#loc_307_3_307_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_3_307_8&#39;)"><span class="hl_varref"><span class="mpre">outer</span></span></a><span class="mpre"> </span><a href="#loc_305_20_305_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_20_305_22&#39;)"><span class="hl_varref"><span class="mpre">a0</span></span></a><span class="mpre"> </span><a href="#loc_305_34_305_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_34_305_36&#39;)"><span class="hl_varref"><span class="mpre">b0</span></span></a><span class="mpre">
 where
  </span><a name="loc_307_3_307_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_3_307_8&#39;)"><span class="hl_fundecl"><span class="mpre">outer</span></span></a><span class="mpre"> </span><a name="loc_307_9_307_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_9_307_11&#39;)"><span class="hl_specname"><span class="mpre">ta</span></span></a><span class="mpre">@(</span><a href="Data.Text.Internal.html#loc_50_13_50_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_13_50_17&#39;)"><span class="hl_conref"><span class="mpre">T.Text</span></span></a><span class="mpre"> </span><a name="loc_307_20_307_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_20_307_24&#39;)"><span class="hl_vardecl"><span class="mpre">arrA</span></span></a><span class="mpre"> </span><a name="loc_307_25_307_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_25_307_29&#39;)"><span class="hl_vardecl"><span class="mpre">offA</span></span></a><span class="mpre"> </span><a name="loc_307_30_307_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_30_307_34&#39;)"><span class="hl_vardecl"><span class="mpre">lenA</span></span></a><span class="mpre">) </span><a name="loc_307_36_307_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_36_307_38&#39;)"><span class="hl_specname"><span class="mpre">tb</span></span></a><span class="mpre">@(</span><a href="Data.Text.Internal.html#loc_50_13_50_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_13_50_17&#39;)"><span class="hl_conref"><span class="mpre">T.Text</span></span></a><span class="mpre"> </span><a name="loc_307_47_307_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_47_307_51&#39;)"><span class="hl_vardecl"><span class="mpre">arrB</span></span></a><span class="mpre"> </span><a name="loc_307_52_307_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_52_307_56&#39;)"><span class="hl_vardecl"><span class="mpre">offB</span></span></a><span class="mpre"> </span><a name="loc_307_57_307_61" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_57_307_61&#39;)"><span class="hl_vardecl"><span class="mpre">lenB</span></span></a><span class="mpre">) = </span><a href="#loc_309_5_309_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_5_309_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
   where
    </span><a name="loc_309_5_309_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_5_309_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> !</span><a name="loc_309_9_309_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_9_309_10&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> !</span><a name="loc_309_12_309_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_12_309_13&#39;)"><span class="hl_vardecl"><span class="mpre">j</span></span></a><span class="mpre">
      | </span><a href="#loc_309_9_309_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_9_309_10&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_307_30_307_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_30_307_34&#39;)"><span class="hl_varref"><span class="mpre">lenA</span></span></a><span class="mpre"> = </span><a href="#loc_302_1_302_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_1_302_12&#39;)"><span class="hl_varref"><span class="mpre">compareText</span></span></a><span class="mpre"> </span><a href="#loc_305_23_305_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_23_305_25&#39;)"><span class="hl_varref"><span class="mpre">as</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_83_1_83_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_83_1_83_6&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.html#loc_50_13_50_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_13_50_17&#39;)"><span class="hl_conref"><span class="mpre">T.Text</span></span></a><span class="mpre"> </span><a href="#loc_307_47_307_51" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_47_307_51&#39;)"><span class="hl_varref"><span class="mpre">arrB</span></span></a><span class="mpre"> (</span><a href="#loc_307_52_307_56" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_52_307_56&#39;)"><span class="hl_varref"><span class="mpre">offB</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><a href="#loc_309_12_309_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_12_309_13&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre">) (</span><a href="#loc_307_57_307_61" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_57_307_61&#39;)"><span class="hl_varref"><span class="mpre">lenB</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><a href="#loc_309_12_309_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_12_309_13&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre">)) </span><a href="#loc_305_37_305_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_37_305_39&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">)
      | </span><a href="#loc_309_12_309_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_12_309_13&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_307_57_307_61" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_57_307_61&#39;)"><span class="hl_varref"><span class="mpre">lenB</span></span></a><span class="mpre"> = </span><a href="#loc_302_1_302_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_302_1_302_12&#39;)"><span class="hl_varref"><span class="mpre">compareText</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_83_1_83_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_83_1_83_6&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.html#loc_50_13_50_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_13_50_17&#39;)"><span class="hl_conref"><span class="mpre">T.Text</span></span></a><span class="mpre"> </span><a href="#loc_307_20_307_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_20_307_24&#39;)"><span class="hl_varref"><span class="mpre">arrA</span></span></a><span class="mpre"> (</span><a href="#loc_307_25_307_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_25_307_29&#39;)"><span class="hl_varref"><span class="mpre">offA</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><a href="#loc_309_9_309_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_9_309_10&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">) (</span><a href="#loc_307_30_307_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_30_307_34&#39;)"><span class="hl_varref"><span class="mpre">lenA</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><a href="#loc_309_9_309_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_9_309_10&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">)) </span><a href="#loc_305_23_305_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_23_305_25&#39;)"><span class="hl_varref"><span class="mpre">as</span></span></a><span class="mpre">) </span><a href="#loc_305_37_305_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_305_37_305_39&#39;)"><span class="hl_varref"><span class="mpre">bs</span></span></a><span class="mpre">
      | </span><a href="#loc_315_20_315_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_315_20_315_21&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_316_20_316_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_20_316_21&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">     = </span><span class="hl_conref"><span class="mpre">LT</span></span><span class="mpre">
      | </span><a href="#loc_315_20_315_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_315_20_315_21&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;</span></span><span class="mpre"> </span><a href="#loc_316_20_316_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_20_316_21&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">     = </span><span class="hl_conref"><span class="mpre">GT</span></span><span class="mpre">
      | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_309_5_309_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_5_309_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="#loc_309_9_309_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_9_309_10&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><a href="#loc_315_22_315_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_315_22_315_24&#39;)"><span class="hl_varref"><span class="mpre">di</span></span></a><span class="mpre">) (</span><a href="#loc_309_12_309_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_12_309_13&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><a href="#loc_316_22_316_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_22_316_24&#39;)"><span class="hl_varref"><span class="mpre">dj</span></span></a><span class="mpre">)
      where </span><a href="Data.Text.Unsafe.html#loc_62_13_62_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_62_13_62_17&#39;)"><span class="hl_conref"><span class="mpre">T.Iter</span></span></a><span class="mpre"> </span><a name="loc_315_20_315_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_315_20_315_21&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_315_22_315_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_315_22_315_24&#39;)"><span class="hl_vardecl"><span class="mpre">di</span></span></a><span class="mpre"> = </span><a href="Data.Text.Unsafe.html#loc_68_1_68_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_68_1_68_5&#39;)"><span class="hl_varref"><span class="mpre">T.iter</span></span></a><span class="mpre"> </span><a href="#loc_307_9_307_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_9_307_11&#39;)"><span class="hl_varref"><span class="mpre">ta</span></span></a><span class="mpre"> </span><a href="#loc_309_9_309_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_9_309_10&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">
            </span><a href="Data.Text.Unsafe.html#loc_62_13_62_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_62_13_62_17&#39;)"><span class="hl_conref"><span class="mpre">T.Iter</span></span></a><span class="mpre"> </span><a name="loc_316_20_316_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_20_316_21&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> </span><a name="loc_316_22_316_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_22_316_24&#39;)"><span class="hl_vardecl"><span class="mpre">dj</span></span></a><span class="mpre"> = </span><a href="Data.Text.Unsafe.html#loc_68_1_68_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_68_1_68_5&#39;)"><span class="hl_varref"><span class="mpre">T.iter</span></span></a><span class="mpre"> </span><a href="#loc_307_36_307_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_307_36_307_38&#39;)"><span class="hl_varref"><span class="mpre">tb</span></span></a><span class="mpre"> </span><a href="#loc_309_12_309_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_309_12_309_13&#39;)"><span class="hl_varref"><span class="mpre">j</span></span></a><span class="mpre">

instance </span><span class="hl_classref"><span class="mpre">Show</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> where
    </span><span class="hl_fundecl"><span class="mpre">showsPrec</span></span><span class="mpre"> </span><a name="loc_319_15_319_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_15_319_16&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a name="loc_319_17_319_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_17_319_19&#39;)"><span class="hl_vardecl"><span class="mpre">ps</span></span></a><span class="mpre"> </span><a name="loc_319_20_319_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_20_319_21&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">showsPrec</span></span><span class="mpre"> </span><a href="#loc_319_15_319_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_15_319_16&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> (</span><a href="#loc_354_1_354_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_1_354_7&#39;)"><span class="hl_varref"><span class="mpre">unpack</span></span></a><span class="mpre"> </span><a href="#loc_319_17_319_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_17_319_19&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">) </span><a href="#loc_319_20_319_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_20_319_21&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">

instance </span><span class="hl_classref"><span class="mpre">Read</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> where
    </span><span class="hl_fundecl"><span class="mpre">readsPrec</span></span><span class="mpre"> </span><a name="loc_322_15_322_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_15_322_16&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a name="loc_322_17_322_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_17_322_20&#39;)"><span class="hl_vardecl"><span class="mpre">str</span></span></a><span class="mpre"> = [(</span><a href="#loc_348_1_348_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_1_348_5&#39;)"><span class="hl_varref"><span class="mpre">pack</span></span></a><span class="mpre"> </span><a href="#loc_322_38_322_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_38_322_39&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">,</span><a href="#loc_322_40_322_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_40_322_41&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">) | (</span><a name="loc_322_38_322_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_38_322_39&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">,</span><a name="loc_322_40_322_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_40_322_41&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre">) &lt;- </span><span class="hl_varref"><span class="mpre">readsPrec</span></span><span class="mpre"> </span><a href="#loc_322_15_322_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_15_322_16&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_322_17_322_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_322_17_322_20&#39;)"><span class="hl_varref"><span class="mpre">str</span></span></a><span class="mpre">]

instance </span><a href="Data.Monoid.html#loc_79_7_79_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_79_7_79_13&#39;)"><span class="hl_classref"><span class="mpre">Monoid</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> where
    </span><a href="Data.Monoid.html#loc_80_9_80_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_80_9_80_15&#39;)"><span class="hl_vardecl"><span class="mpre">mempty</span></span></a><span class="mpre">  = </span><a href="Data.Text.Internal.Lazy.html#loc_89_1_89_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_89_1_89_6&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre">
    </span><a href="Data.Monoid.html#loc_82_9_82_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_82_9_82_16&#39;)"><span class="hl_vardecl"><span class="mpre">mappend</span></span></a><span class="mpre"> = </span><a href="#loc_435_1_435_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_435_1_435_7&#39;)"><span class="hl_varref"><span class="mpre">append</span></span></a><span class="mpre">
    </span><a href="Data.Monoid.html#loc_84_9_84_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Monoid.html#loc_84_9_84_16&#39;)"><span class="hl_vardecl"><span class="mpre">mconcat</span></span></a><span class="mpre"> = </span><a href="#loc_772_1_772_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_772_1_772_7&#39;)"><span class="hl_varref"><span class="mpre">concat</span></span></a><span class="mpre">

instance </span><a href="Data.String.html#loc_34_7_34_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.String.html#loc_34_7_34_15&#39;)"><span class="hl_classref"><span class="mpre">IsString</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> where
    </span><a href="Data.String.html#loc_35_5_35_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.String.html#loc_35_5_35_15&#39;)"><span class="hl_vardecl"><span class="mpre">fromString</span></span></a><span class="mpre"> = </span><a href="#loc_348_1_348_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_1_348_5&#39;)"><span class="hl_varref"><span class="mpre">pack</span></span></a><span class="mpre">

#if defined(HAVE_DEEPSEQ)
instance </span><a href="Control.DeepSeq.html#loc_110_7_110_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.DeepSeq.html#loc_110_7_110_13&#39;)"><span class="hl_classref"><span class="mpre">NFData</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> where
    </span><a href="Control.DeepSeq.html#loc_120_5_120_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.DeepSeq.html#loc_120_5_120_8&#39;)"><span class="hl_fundecl"><span class="mpre">rnf</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">        = </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre">
    </span><a href="Control.DeepSeq.html#loc_120_5_120_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.DeepSeq.html#loc_120_5_120_8&#39;)"><span class="hl_fundecl"><span class="mpre">rnf</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> _ </span><a name="loc_335_18_335_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_18_335_20&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">) = </span><a href="Control.DeepSeq.html#loc_120_5_120_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.DeepSeq.html#loc_120_5_120_8&#39;)"><span class="hl_varref"><span class="mpre">rnf</span></span></a><span class="mpre"> </span><a href="#loc_335_18_335_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_18_335_20&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
#endif

instance </span><span class="hl_classref"><span class="mpre">Data</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> where
  </span><span class="hl_fundecl"><span class="mpre">gfoldl</span></span><span class="mpre"> </span><a name="loc_339_10_339_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_10_339_11&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_339_12_339_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_12_339_13&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre"> </span><a name="loc_339_14_339_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_14_339_17&#39;)"><span class="hl_vardecl"><span class="mpre">txt</span></span></a><span class="mpre"> = </span><a href="#loc_339_12_339_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_12_339_13&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> </span><a href="#loc_348_1_348_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_1_348_5&#39;)"><span class="hl_varref"><span class="mpre">pack</span></span></a><span class="mpre"> </span><a href="#loc_339_10_339_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_10_339_11&#39;)"><span class="hl_infix"><span class="mpre">`f`</span></span></a><span class="mpre"> (</span><a href="#loc_354_1_354_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_1_354_7&#39;)"><span class="hl_varref"><span class="mpre">unpack</span></span></a><span class="mpre"> </span><a href="#loc_339_14_339_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_339_14_339_17&#39;)"><span class="hl_varref"><span class="mpre">txt</span></span></a><span class="mpre">)
  </span><span class="hl_fundecl"><span class="mpre">toConstr</span></span><span class="mpre"> _     = </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Data.Text.Lazy.Text.toConstr&quot;</span></span><span class="mpre">
  </span><span class="hl_fundecl"><span class="mpre">gunfold</span></span><span class="mpre"> _ _    = </span><span class="hl_varref"><span class="mpre">error</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Data.Text.Lazy.Text.gunfold&quot;</span></span><span class="mpre">
  </span><span class="hl_fundecl"><span class="mpre">dataTypeOf</span></span><span class="mpre"> _   = </span><span class="hl_varref"><span class="mpre">mkNoRepType</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Data.Text.Lazy.Text&quot;</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Convert a &#39;String&#39; into a &#39;Text&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Subject to fusion.  Performs replacement on invalid scalar values.</span></span><span class="mpre">
</span><a href="#loc_348_1_348_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_1_348_5&#39;)"><span class="mpre">pack</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_348_1_348_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_1_348_5&#39;)"><span class="hl_vardecl"><span class="mpre">pack</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9&#39;)"><span class="hl_varref"><span class="mpre">unstream</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Common.html#loc_130_1_130_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_130_1_130_11&#39;)"><span class="hl_varref"><span class="mpre">S.streamList</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.map</span></span><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_101_1_101_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_101_1_101_5&#39;)"><span class="hl_varref"><span class="mpre">safe</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_348_1_348_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_348_1_348_5&#39;)"><span class="mpre">pack</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Convert a &#39;Text&#39; into a &#39;String&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_354_1_354_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_1_354_7&#39;)"><span class="mpre">unpack</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">
</span><a name="loc_354_1_354_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_1_354_7&#39;)"><span class="hl_fundecl"><span class="mpre">unpack</span></span></a><span class="mpre"> </span><a name="loc_354_8_354_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_8_354_9&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Common.html#loc_135_1_135_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_135_1_135_13&#39;)"><span class="hl_varref"><span class="mpre">S.unstreamList</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_354_8_354_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_8_354_9&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_354_1_354_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_1_354_7&#39;)"><span class="mpre">unpack</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Convert a literal string into a Text.</span></span><span class="mpre">
</span><a href="#loc_359_1_359_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_359_1_359_15&#39;)"><span class="mpre">unpackCString#</span></a><span class="mpre"> :: </span><a href="GHC.Prim.html#loc_2279_6_2279_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Prim.html#loc_2279_6_2279_11&#39;)"><span class="hl_tyconref"><span class="mpre">Addr#</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_359_1_359_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_359_1_359_15&#39;)"><span class="hl_fundecl"><span class="mpre">unpackCString#</span></span></a><span class="mpre"> </span><a name="loc_359_16_359_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_359_16_359_21&#39;)"><span class="hl_vardecl"><span class="mpre">addr#</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9&#39;)"><span class="hl_varref"><span class="mpre">unstream</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Common.html#loc_150_1_150_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_150_1_150_15&#39;)"><span class="hl_varref"><span class="mpre">S.streamCString#</span></span></a><span class="mpre"> </span><a href="#loc_359_16_359_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_359_16_359_21&#39;)"><span class="hl_varref"><span class="mpre">addr#</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# NOINLINE </span><a href="#loc_359_1_359_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_359_1_359_15&#39;)"><span class="mpre">unpackCString#</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES &quot;TEXT literal&quot; forall a.
    unstream (S.streamList (L.map safe (GHC.unpackCString# a)))
      = unpackCString# a #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES &quot;TEXT literal UTF8&quot; forall a.
    unstream (S.streamList (L.map safe (GHC.unpackCStringUtf8# a)))
      = unpackCString# a #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(1)/ Convert a character into a Text.  Subject to fusion.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Performs replacement on invalid scalar values.</span></span><span class="mpre">
</span><a href="#loc_373_1_373_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_373_1_373_10&#39;)"><span class="mpre">singleton</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_373_1_373_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_373_1_373_10&#39;)"><span class="hl_fundecl"><span class="mpre">singleton</span></span></a><span class="mpre"> </span><a name="loc_373_11_373_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_373_11_373_12&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_411_1_411_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_411_1_411_10&#39;)"><span class="hl_varref"><span class="mpre">T.singleton</span></span></a><span class="mpre"> </span><a href="#loc_373_11_373_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_373_11_373_12&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">) </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_373_1_373_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_373_1_373_10&#39;)"><span class="mpre">singleton</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES
&quot;LAZY TEXT singleton -&gt; fused&quot; [~1] forall c.
    singleton c = unstream (S.singleton c)
&quot;LAZY TEXT singleton -&gt; unfused&quot; [1] forall c.
    unstream (S.singleton c) = singleton c
  #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(c)/ Convert a list of strict &#39;T.Text&#39;s into a lazy &#39;Text&#39;.</span></span><span class="mpre">
</span><a href="#loc_385_1_385_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_1_385_11&#39;)"><span class="mpre">fromChunks</span></a><span class="mpre"> :: [</span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre">] -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_385_1_385_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_1_385_11&#39;)"><span class="hl_fundecl"><span class="mpre">fromChunks</span></span></a><span class="mpre"> </span><a name="loc_385_12_385_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_12_385_14&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">L.foldr</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_83_1_83_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_83_1_83_6&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre"> </span><a href="#loc_385_12_385_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_12_385_14&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Convert a lazy &#39;Text&#39; into a list of strict &#39;T.Text&#39;s.</span></span><span class="mpre">
</span><a href="#loc_389_1_389_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_389_1_389_9&#39;)"><span class="mpre">toChunks</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; [</span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre">]
</span><a name="loc_389_1_389_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_389_1_389_9&#39;)"><span class="hl_fundecl"><span class="mpre">toChunks</span></span></a><span class="mpre"> </span><a name="loc_389_10_389_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_389_10_389_12&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.html#loc_93_1_93_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_93_1_93_12&#39;)"><span class="hl_varref"><span class="mpre">foldrChunks</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">(:)</span></span><span class="mpre"> [] </span><a href="#loc_389_10_389_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_389_10_389_12&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Convert a lazy &#39;Text&#39; into a strict &#39;T.Text&#39;.</span></span><span class="mpre">
</span><a href="#loc_393_1_393_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_393_1_393_9&#39;)"><span class="mpre">toStrict</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre">
</span><a name="loc_393_1_393_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_393_1_393_9&#39;)"><span class="hl_fundecl"><span class="mpre">toStrict</span></span></a><span class="mpre"> </span><a name="loc_393_10_393_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_393_10_393_11&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.html#loc_849_1_849_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_849_1_849_7&#39;)"><span class="hl_varref"><span class="mpre">T.concat</span></span></a><span class="mpre"> (</span><a href="#loc_389_1_389_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_389_1_389_9&#39;)"><span class="hl_varref"><span class="mpre">toChunks</span></span></a><span class="mpre"> </span><a href="#loc_393_10_393_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_393_10_393_11&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_393_1_393_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_393_1_393_9&#39;)"><span class="mpre">toStrict</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(c)/ Convert a strict &#39;T.Text&#39; into a lazy &#39;Text&#39;.</span></span><span class="mpre">
</span><a href="#loc_398_1_398_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_1_398_11&#39;)"><span class="mpre">fromStrict</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_398_1_398_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_1_398_11&#39;)"><span class="hl_fundecl"><span class="mpre">fromStrict</span></span></a><span class="mpre"> </span><a name="loc_398_12_398_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_12_398_13&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.html#loc_83_1_83_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_83_1_83_6&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre"> </span><a href="#loc_398_12_398_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_12_398_13&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_398_1_398_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_398_1_398_11&#39;)"><span class="mpre">fromStrict</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- -----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * Basic functions</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Adds a character to the front of a &#39;Text&#39;.  This function</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- is more costly than its &#39;List&#39; counterpart because it requires</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- copying a new array.  Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_408_1_408_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_1_408_5&#39;)"><span class="mpre">cons</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_408_1_408_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_1_408_5&#39;)"><span class="hl_fundecl"><span class="mpre">cons</span></span></a><span class="mpre"> </span><a name="loc_408_6_408_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_6_408_7&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> </span><a name="loc_408_8_408_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_8_408_9&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_411_1_411_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_411_1_411_10&#39;)"><span class="hl_varref"><span class="mpre">T.singleton</span></span></a><span class="mpre"> </span><a href="#loc_408_6_408_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_6_408_7&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">) </span><a href="#loc_408_8_408_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_8_408_9&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_408_1_408_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_1_408_5&#39;)"><span class="mpre">cons</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="warning" data-warning="DeclInfixDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Lazy.hs&quot;, srcSpanStartLine = 411, srcSpanStartColumn = 1, srcSpanEndLine = 411, srcSpanEndColumn = 16}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/Text/Lazy.hs&quot;, srcSpanStartLine = 411, srcSpanStartColumn = 8, srcSpanEndLine = 411, srcSpanEndColumn = 9}]}) (AssocRight (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/text-1.1.1.3/Data/"><span class="mpre">infixr 5 `cons`</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES
&quot;LAZY TEXT cons -&gt; fused&quot; [~1] forall c t.
    cons c t = unstream (S.cons c (stream t))
&quot;LAZY TEXT cons -&gt; unfused&quot; [1] forall c t.
    unstream (S.cons c (stream t)) = cons c t
 #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Adds a character to the end of a &#39;Text&#39;.  This copies the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- entire array in the process, unless fused.  Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_423_1_423_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_423_1_423_5&#39;)"><span class="mpre">snoc</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_423_1_423_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_423_1_423_5&#39;)"><span class="hl_fundecl"><span class="mpre">snoc</span></span></a><span class="mpre"> </span><a name="loc_423_6_423_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_423_6_423_7&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_423_8_423_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_423_8_423_9&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.html#loc_93_1_93_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_93_1_93_12&#39;)"><span class="hl_varref"><span class="mpre">foldrChunks</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> (</span><a href="#loc_373_1_373_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_373_1_373_10&#39;)"><span class="hl_varref"><span class="mpre">singleton</span></span></a><span class="mpre"> </span><a href="#loc_423_8_423_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_423_8_423_9&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">) </span><a href="#loc_423_6_423_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_423_6_423_7&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_423_1_423_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_423_1_423_5&#39;)"><span class="mpre">snoc</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES
&quot;LAZY TEXT snoc -&gt; fused&quot; [~1] forall t c.
    snoc t c = unstream (S.snoc (stream t) c)
&quot;LAZY TEXT snoc -&gt; unfused&quot; [1] forall t c.
    unstream (S.snoc (stream t) c) = snoc t c
 #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n\/c)/ Appends one &#39;Text&#39; to another.  Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_435_1_435_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_435_1_435_7&#39;)"><span class="mpre">append</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_435_1_435_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_435_1_435_7&#39;)"><span class="hl_fundecl"><span class="mpre">append</span></span></a><span class="mpre"> </span><a name="loc_435_8_435_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_435_8_435_10&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> </span><a name="loc_435_11_435_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_435_11_435_13&#39;)"><span class="hl_vardecl"><span class="mpre">ys</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.html#loc_93_1_93_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_93_1_93_12&#39;)"><span class="hl_varref"><span class="mpre">foldrChunks</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_435_11_435_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_435_11_435_13&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre"> </span><a href="#loc_435_8_435_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_435_8_435_10&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_435_1_435_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_435_1_435_7&#39;)"><span class="mpre">append</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES
&quot;LAZY TEXT append -&gt; fused&quot; [~1] forall t1 t2.
    append t1 t2 = unstream (S.append (stream t1) (stream t2))
&quot;LAZY TEXT append -&gt; unfused&quot; [1] forall t1 t2.
    unstream (S.append (stream t1) (stream t2)) = append t1 t2
 #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(1)/ Returns the first character and rest of a &#39;Text&#39;, or</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Nothing&#39; if empty. Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_448_1_448_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_1_448_7&#39;)"><span class="mpre">uncons</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">)
</span><a name="loc_448_1_448_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_1_448_7&#39;)"><span class="hl_fundecl"><span class="mpre">uncons</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">        = </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
</span><a href="#loc_448_1_448_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_1_448_7&#39;)"><span class="hl_fundecl"><span class="mpre">uncons</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_449_15_449_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_449_15_449_16&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_449_17_449_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_449_17_449_19&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">) = </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><a href="Data.Text.Unsafe.html#loc_43_1_43_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_43_1_43_11&#39;)"><span class="hl_varref"><span class="mpre">T.unsafeHead</span></span></a><span class="mpre"> </span><a href="#loc_449_15_449_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_449_15_449_16&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">, </span><a href="#loc_450_9_450_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_450_9_450_12&#39;)"><span class="hl_varref"><span class="mpre">ts&#39;</span></span></a><span class="mpre">)
  where </span><a name="loc_450_9_450_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_450_9_450_12&#39;)"><span class="hl_vardecl"><span class="mpre">ts&#39;</span></span></a><span class="mpre"> | </span><a href="Data.Text.html#loc_564_1_564_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_564_1_564_14&#39;)"><span class="hl_varref"><span class="mpre">T.compareLength</span></span></a><span class="mpre"> </span><a href="#loc_449_15_449_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_449_15_449_16&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">EQ</span></span><span class="mpre"> = </span><a href="#loc_449_17_449_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_449_17_449_19&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
            | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">                 = </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.Unsafe.html#loc_54_1_54_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_54_1_54_11&#39;)"><span class="hl_varref"><span class="mpre">T.unsafeTail</span></span></a><span class="mpre"> </span><a href="#loc_449_15_449_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_449_15_449_16&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) </span><a href="#loc_449_17_449_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_449_17_449_19&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_448_1_448_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_1_448_7&#39;)"><span class="mpre">uncons</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(1)/ Returns the first character of a &#39;Text&#39;, which must be</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- non-empty.  Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_457_1_457_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_457_1_457_5&#39;)"><span class="mpre">head</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_457_1_457_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_457_1_457_5&#39;)"><span class="hl_fundecl"><span class="mpre">head</span></span></a><span class="mpre"> </span><a name="loc_457_6_457_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_457_6_457_7&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Common.html#loc_222_1_222_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_222_1_222_5&#39;)"><span class="hl_varref"><span class="mpre">S.head</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_457_6_457_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_457_6_457_7&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_457_1_457_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_457_1_457_5&#39;)"><span class="mpre">head</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(1)/ Returns all characters after the head of a &#39;Text&#39;, which</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- must be non-empty.  Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_463_1_463_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_463_1_463_5&#39;)"><span class="mpre">tail</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_463_1_463_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_463_1_463_5&#39;)"><span class="hl_fundecl"><span class="mpre">tail</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_463_13_463_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_463_13_463_14&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_463_15_463_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_463_15_463_17&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">) = </span><a href="Data.Text.Internal.Lazy.html#loc_83_1_83_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_83_1_83_6&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_498_1_498_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_498_1_498_5&#39;)"><span class="hl_varref"><span class="mpre">T.tail</span></span></a><span class="mpre"> </span><a href="#loc_463_13_463_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_463_13_463_14&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) </span><a href="#loc_463_15_463_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_463_15_463_17&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
</span><a href="#loc_463_1_463_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_463_1_463_5&#39;)"><span class="hl_fundecl"><span class="mpre">tail</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">        = </span><a href="#loc_1552_1_1552_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1552_1_1552_11&#39;)"><span class="hl_varref"><span class="mpre">emptyError</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;tail&quot;</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_463_1_463_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_463_1_463_5&#39;)"><span class="mpre">tail</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES
&quot;LAZY TEXT tail -&gt; fused&quot; [~1] forall t.
    tail t = unstream (S.tail (stream t))
&quot;LAZY TEXT tail -&gt; unfused&quot; [1] forall t.
    unstream (S.tail (stream t)) = tail t
 #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(1)/ Returns all but the last character of a &#39;Text&#39;, which must</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- be non-empty.  Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_477_1_477_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_477_1_477_5&#39;)"><span class="mpre">init</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_477_1_477_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_477_1_477_5&#39;)"><span class="hl_fundecl"><span class="mpre">init</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_477_13_477_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_477_13_477_15&#39;)"><span class="hl_vardecl"><span class="mpre">t0</span></span></a><span class="mpre"> </span><a name="loc_477_16_477_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_477_16_477_19&#39;)"><span class="hl_vardecl"><span class="mpre">ts0</span></span></a><span class="mpre">) = </span><a href="#loc_478_11_478_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_478_11_478_13&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_477_13_477_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_477_13_477_15&#39;)"><span class="hl_varref"><span class="mpre">t0</span></span></a><span class="mpre"> </span><a href="#loc_477_16_477_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_477_16_477_19&#39;)"><span class="hl_varref"><span class="mpre">ts0</span></span></a><span class="mpre">
    where </span><a name="loc_478_11_478_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_478_11_478_13&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_478_14_478_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_478_14_478_15&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_478_23_478_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_478_23_478_25&#39;)"><span class="hl_vardecl"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a name="loc_478_26_478_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_478_26_478_28&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">) = </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_478_14_478_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_478_14_478_15&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="#loc_478_11_478_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_478_11_478_13&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_478_23_478_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_478_23_478_25&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a href="#loc_478_26_478_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_478_26_478_28&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">)
          </span><a href="#loc_478_11_478_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_478_11_478_13&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_479_14_479_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_14_479_15&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">         = </span><a href="Data.Text.Internal.Lazy.html#loc_83_1_83_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_83_1_83_6&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_514_1_514_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_514_1_514_5&#39;)"><span class="hl_varref"><span class="mpre">T.init</span></span></a><span class="mpre"> </span><a href="#loc_479_14_479_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_479_14_479_15&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">
</span><a href="#loc_477_1_477_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_477_1_477_5&#39;)"><span class="hl_fundecl"><span class="mpre">init</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre"> = </span><a href="#loc_1552_1_1552_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1552_1_1552_11&#39;)"><span class="hl_varref"><span class="mpre">emptyError</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;init&quot;</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_477_1_477_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_477_1_477_5&#39;)"><span class="mpre">init</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES
&quot;LAZY TEXT init -&gt; fused&quot; [~1] forall t.
    init t = unstream (S.init (stream t))
&quot;LAZY TEXT init -&gt; unfused&quot; [1] forall t.
    unstream (S.init (stream t)) = init t
 #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(1)/ Tests whether a &#39;Text&#39; is empty or not.  Subject to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fusion.</span></span><span class="mpre">
</span><a href="#loc_493_1_493_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_493_1_493_5&#39;)"><span class="mpre">null</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_493_1_493_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_493_1_493_5&#39;)"><span class="hl_fundecl"><span class="mpre">null</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">
</span><a href="#loc_493_1_493_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_493_1_493_5&#39;)"><span class="hl_fundecl"><span class="mpre">null</span></span></a><span class="mpre"> _     = </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_493_1_493_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_493_1_493_5&#39;)"><span class="mpre">null</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES
&quot;LAZY TEXT null -&gt; fused&quot; [~1] forall t.
    null t = S.null (stream t)
&quot;LAZY TEXT null -&gt; unfused&quot; [1] forall t.
    S.null (stream t) = null t
 #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(1)/ Tests whether a &#39;Text&#39; contains exactly one character.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_507_1_507_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_12&#39;)"><span class="mpre">isSingleton</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_507_1_507_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_12&#39;)"><span class="hl_vardecl"><span class="mpre">isSingleton</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Common.html#loc_335_1_335_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_335_1_335_12&#39;)"><span class="hl_varref"><span class="mpre">S.isSingleton</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_507_1_507_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_12&#39;)"><span class="mpre">isSingleton</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(1)/ Returns the last character of a &#39;Text&#39;, which must be</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- non-empty.  Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_513_1_513_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_1_513_5&#39;)"><span class="mpre">last</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_513_1_513_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_1_513_5&#39;)"><span class="hl_fundecl"><span class="mpre">last</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">        = </span><a href="#loc_1552_1_1552_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1552_1_1552_11&#39;)"><span class="hl_varref"><span class="mpre">emptyError</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;last&quot;</span></span><span class="mpre">
</span><a href="#loc_513_1_513_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_1_513_5&#39;)"><span class="hl_fundecl"><span class="mpre">last</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_514_13_514_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_13_514_14&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_514_15_514_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_15_514_17&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">) = </span><a href="#loc_515_11_515_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_515_11_515_13&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_514_13_514_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_13_514_14&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_514_15_514_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_514_15_514_17&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
    where </span><a name="loc_515_11_515_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_515_11_515_13&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> _ (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_515_23_515_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_515_23_515_25&#39;)"><span class="hl_vardecl"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a name="loc_515_26_515_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_515_26_515_29&#39;)"><span class="hl_vardecl"><span class="mpre">ts&#39;</span></span></a><span class="mpre">) = </span><a href="#loc_515_11_515_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_515_11_515_13&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_515_23_515_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_515_23_515_25&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a href="#loc_515_26_515_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_515_26_515_29&#39;)"><span class="hl_varref"><span class="mpre">ts&#39;</span></span></a><span class="mpre">
          </span><a href="#loc_515_11_515_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_515_11_515_13&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_516_14_516_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_516_14_516_16&#39;)"><span class="hl_vardecl"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">         = </span><a href="Data.Text.html#loc_480_1_480_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_480_1_480_5&#39;)"><span class="hl_varref"><span class="mpre">T.last</span></span></a><span class="mpre"> </span><a href="#loc_516_14_516_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_516_14_516_16&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_513_1_513_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_1_513_5&#39;)"><span class="mpre">last</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES
&quot;LAZY TEXT last -&gt; fused&quot; [~1] forall t.
    last t = S.last (stream t)
&quot;LAZY TEXT last -&gt; unfused&quot; [1] forall t.
    S.last (stream t) = last t
  #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Returns the number of characters in a &#39;Text&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_529_1_529_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_529_1_529_7&#39;)"><span class="mpre">length</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre">
</span><a name="loc_529_1_529_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_529_1_529_7&#39;)"><span class="hl_vardecl"><span class="mpre">length</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.html#loc_101_1_101_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_101_1_101_12&#39;)"><span class="hl_varref"><span class="mpre">foldlChunks</span></span></a><span class="mpre"> </span><a href="#loc_530_11_530_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_530_11_530_13&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
    where </span><a name="loc_530_11_530_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_530_11_530_13&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_530_14_530_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_530_14_530_15&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> </span><a name="loc_530_16_530_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_530_16_530_17&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="#loc_530_14_530_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_530_14_530_15&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> (</span><a href="Data.Text.html#loc_554_1_554_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_554_1_554_7&#39;)"><span class="hl_varref"><span class="mpre">T.length</span></span></a><span class="mpre"> </span><a href="#loc_530_16_530_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_530_16_530_17&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_529_1_529_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_529_1_529_7&#39;)"><span class="mpre">length</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES
&quot;LAZY TEXT length -&gt; fused&quot; [~1] forall t.
    length t = S.length (stream t)
&quot;LAZY TEXT length -&gt; unfused&quot; [1] forall t.
    S.length (stream t) = length t
 #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Compare the count of characters in a &#39;Text&#39; to a number.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Subject to fusion.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This function gives the same answer as comparing against the result</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- of &#39;length&#39;, but can short circuit if the count of characters is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- greater than the number, and hence be more efficient.</span></span><span class="mpre">
</span><a href="#loc_547_1_547_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_547_1_547_14&#39;)"><span class="mpre">compareLength</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Ordering</span></span><span class="mpre">
</span><a name="loc_547_1_547_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_547_1_547_14&#39;)"><span class="hl_fundecl"><span class="mpre">compareLength</span></span></a><span class="mpre"> </span><a name="loc_547_15_547_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_547_15_547_16&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_547_17_547_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_547_17_547_18&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Common.html#loc_321_1_321_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_321_1_321_15&#39;)"><span class="hl_varref"><span class="mpre">S.compareLengthI</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_547_15_547_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_547_15_547_16&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) </span><a href="#loc_547_17_547_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_547_17_547_18&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_547_1_547_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_547_1_547_14&#39;)"><span class="mpre">compareLength</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- We don&#39;t apply those otherwise appealing length-to-compareLength</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- rewrite rules here, because they can change the strictness</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- properties of code.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;map&#39; @f@ @t@ is the &#39;Text&#39; obtained by applying @f@ to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- each element of @t@.  Subject to fusion.  Performs replacement on</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- invalid scalar values.</span></span><span class="mpre">
</span><a href="#loc_558_1_558_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_558_1_558_4&#39;)"><span class="mpre">map</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_558_1_558_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_558_1_558_4&#39;)"><span class="hl_fundecl"><span class="mpre">map</span></span></a><span class="mpre"> </span><a name="loc_558_5_558_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_558_5_558_6&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_558_7_558_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_558_7_558_8&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9&#39;)"><span class="hl_varref"><span class="mpre">unstream</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Common.html#loc_351_1_351_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_351_1_351_4&#39;)"><span class="hl_varref"><span class="mpre">S.map</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.html#loc_101_1_101_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_101_1_101_5&#39;)"><span class="hl_varref"><span class="mpre">safe</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_558_5_558_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_558_5_558_6&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_558_7_558_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_558_7_558_8&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">))
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_558_1_558_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_558_1_558_4&#39;)"><span class="mpre">map</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ The &#39;intercalate&#39; function takes a &#39;Text&#39; and a list of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Text&#39;s and concatenates the list after interspersing the first</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- argument between each element of the list.</span></span><span class="mpre">
</span><a href="#loc_565_1_565_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_565_1_565_12&#39;)"><span class="mpre">intercalate</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; [</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">] -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_565_1_565_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_565_1_565_12&#39;)"><span class="hl_fundecl"><span class="mpre">intercalate</span></span></a><span class="mpre"> </span><a name="loc_565_13_565_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_565_13_565_14&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="#loc_772_1_772_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_772_1_772_7&#39;)"><span class="hl_varref"><span class="mpre">concat</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (</span><a href="Data.Text.Internal.Functions.html#loc_26_1_26_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Functions.html#loc_26_1_26_12&#39;)"><span class="hl_varref"><span class="mpre">F.intersperse</span></span></a><span class="mpre"> </span><a href="#loc_565_13_565_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_565_13_565_14&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_565_1_565_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_565_1_565_12&#39;)"><span class="mpre">intercalate</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ The &#39;intersperse&#39; function takes a character and places it</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- between the characters of a &#39;Text&#39;.  Subject to fusion.  Performs</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- replacement on invalid scalar values.</span></span><span class="mpre">
</span><a href="#loc_572_1_572_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_572_1_572_12&#39;)"><span class="mpre">intersperse</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_572_1_572_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_572_1_572_12&#39;)"><span class="hl_fundecl"><span class="mpre">intersperse</span></span></a><span class="mpre"> </span><a name="loc_572_13_572_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_572_13_572_14&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> </span><a name="loc_572_15_572_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_572_15_572_16&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9&#39;)"><span class="hl_varref"><span class="mpre">unstream</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Common.html#loc_370_1_370_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_370_1_370_12&#39;)"><span class="hl_varref"><span class="mpre">S.intersperse</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.html#loc_101_1_101_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_101_1_101_5&#39;)"><span class="hl_varref"><span class="mpre">safe</span></span></a><span class="mpre"> </span><a href="#loc_572_13_572_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_572_13_572_14&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">) (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_572_15_572_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_572_15_572_16&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">))
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_572_1_572_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_572_1_572_12&#39;)"><span class="mpre">intersperse</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Left-justify a string to the given length, using the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- specified fill character on the right. Subject to fusion.  Performs</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- replacement on invalid scalar values.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Examples:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; justifyLeft 7 &#39;x&#39; &quot;foo&quot;    == &quot;fooxxxx&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; justifyLeft 3 &#39;x&#39; &quot;foobar&quot; == &quot;foobar&quot;</span></span><span class="mpre">
</span><a href="#loc_584_1_584_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_584_1_584_12&#39;)"><span class="mpre">justifyLeft</span></a><span class="mpre"> :: </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_584_1_584_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_584_1_584_12&#39;)"><span class="hl_fundecl"><span class="mpre">justifyLeft</span></span></a><span class="mpre"> </span><a name="loc_584_13_584_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_584_13_584_14&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> </span><a name="loc_584_15_584_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_584_15_584_16&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> </span><a name="loc_584_17_584_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_584_17_584_18&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre">
    | </span><a href="#loc_587_9_587_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_587_9_587_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_584_13_584_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_584_13_584_14&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">  = </span><a href="#loc_584_17_584_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_584_17_584_18&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_584_17_584_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_584_17_584_18&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_435_1_435_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_435_1_435_7&#39;)"><span class="hl_infix"><span class="mpre">`append`</span></span></a><span class="mpre"> </span><a href="#loc_890_1_890_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_890_1_890_14&#39;)"><span class="hl_varref"><span class="mpre">replicateChar</span></span></a><span class="mpre"> (</span><a href="#loc_584_13_584_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_584_13_584_14&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><a href="#loc_587_9_587_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_587_9_587_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">) </span><a href="#loc_584_15_584_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_584_15_584_16&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
  where </span><a name="loc_587_9_587_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_587_9_587_12&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> = </span><a href="#loc_529_1_529_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_529_1_529_7&#39;)"><span class="hl_varref"><span class="mpre">length</span></span></a><span class="mpre"> </span><a href="#loc_584_17_584_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_584_17_584_18&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_584_1_584_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_584_1_584_12&#39;)"><span class="mpre">justifyLeft</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES
&quot;LAZY TEXT justifyLeft -&gt; fused&quot; [~1] forall k c t.
    justifyLeft k c t = unstream (S.justifyLeftI k c (stream t))
&quot;LAZY TEXT justifyLeft -&gt; unfused&quot; [1] forall k c t.
    unstream (S.justifyLeftI k c (stream t)) = justifyLeft k c t
  #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Right-justify a string to the given length, using the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- specified fill character on the left.  Performs replacement on</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- invalid scalar values.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Examples:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; justifyRight 7 &#39;x&#39; &quot;bar&quot;    == &quot;xxxxbar&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; justifyRight 3 &#39;x&#39; &quot;foobar&quot; == &quot;foobar&quot;</span></span><span class="mpre">
</span><a href="#loc_606_1_606_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_1_606_13&#39;)"><span class="mpre">justifyRight</span></a><span class="mpre"> :: </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_606_1_606_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_1_606_13&#39;)"><span class="hl_fundecl"><span class="mpre">justifyRight</span></span></a><span class="mpre"> </span><a name="loc_606_14_606_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_14_606_15&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> </span><a name="loc_606_16_606_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_16_606_17&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> </span><a name="loc_606_18_606_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_18_606_19&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre">
    | </span><a href="#loc_609_9_609_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_609_9_609_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_606_14_606_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_14_606_15&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">  = </span><a href="#loc_606_18_606_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_18_606_19&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_890_1_890_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_890_1_890_14&#39;)"><span class="hl_varref"><span class="mpre">replicateChar</span></span></a><span class="mpre"> (</span><a href="#loc_606_14_606_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_14_606_15&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><a href="#loc_609_9_609_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_609_9_609_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">) </span><a href="#loc_606_16_606_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_16_606_17&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_435_1_435_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_435_1_435_7&#39;)"><span class="hl_infix"><span class="mpre">`append`</span></span></a><span class="mpre"> </span><a href="#loc_606_18_606_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_18_606_19&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
  where </span><a name="loc_609_9_609_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_609_9_609_12&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> = </span><a href="#loc_529_1_529_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_529_1_529_7&#39;)"><span class="hl_varref"><span class="mpre">length</span></span></a><span class="mpre"> </span><a href="#loc_606_18_606_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_18_606_19&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_606_1_606_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_606_1_606_13&#39;)"><span class="mpre">justifyRight</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Center a string to the given length, using the specified</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fill character on either side.  Performs replacement on invalid</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- scalar values.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Examples:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; center 8 &#39;x&#39; &quot;HS&quot; = &quot;xxxHSxxx&quot;</span></span><span class="mpre">
</span><a href="#loc_620_1_620_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_620_1_620_7&#39;)"><span class="mpre">center</span></a><span class="mpre"> :: </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_620_1_620_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_620_1_620_7&#39;)"><span class="hl_fundecl"><span class="mpre">center</span></span></a><span class="mpre"> </span><a name="loc_620_8_620_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_620_8_620_9&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> </span><a name="loc_620_10_620_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_620_10_620_11&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> </span><a name="loc_620_12_620_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_620_12_620_13&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre">
    | </span><a href="#loc_623_9_623_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_623_9_623_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_620_8_620_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_620_8_620_9&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre">  = </span><a href="#loc_620_12_620_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_620_12_620_13&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_890_1_890_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_890_1_890_14&#39;)"><span class="hl_varref"><span class="mpre">replicateChar</span></span></a><span class="mpre"> </span><a href="#loc_626_9_626_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_626_9_626_10&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_620_10_620_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_620_10_620_11&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_435_1_435_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_435_1_435_7&#39;)"><span class="hl_infix"><span class="mpre">`append`</span></span></a><span class="mpre"> </span><a href="#loc_620_12_620_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_620_12_620_13&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_435_1_435_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_435_1_435_7&#39;)"><span class="hl_infix"><span class="mpre">`append`</span></span></a><span class="mpre"> </span><a href="#loc_890_1_890_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_890_1_890_14&#39;)"><span class="hl_varref"><span class="mpre">replicateChar</span></span></a><span class="mpre"> </span><a href="#loc_625_9_625_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_625_9_625_10&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre"> </span><a href="#loc_620_10_620_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_620_10_620_11&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
  where </span><a name="loc_623_9_623_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_623_9_623_12&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> = </span><a href="#loc_529_1_529_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_529_1_529_7&#39;)"><span class="hl_varref"><span class="mpre">length</span></span></a><span class="mpre"> </span><a href="#loc_620_12_620_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_620_12_620_13&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
        </span><a name="loc_624_9_624_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_624_9_624_10&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre">   = </span><a href="#loc_620_8_620_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_620_8_620_9&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="#loc_623_9_623_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_623_9_623_12&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">
        </span><a name="loc_625_9_625_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_625_9_625_10&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">   = </span><a href="#loc_624_9_624_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_624_9_624_10&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`quot`</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">
        </span><a name="loc_626_9_626_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_626_9_626_10&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre">   = </span><a href="#loc_624_9_624_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_624_9_624_10&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="#loc_625_9_625_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_625_9_625_10&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_620_1_620_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_620_1_620_7&#39;)"><span class="mpre">center</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ The &#39;transpose&#39; function transposes the rows and columns</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- of its &#39;Text&#39; argument.  Note that this function uses &#39;pack&#39;,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;unpack&#39;, and the list version of transpose, and is thus not very</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- efficient.</span></span><span class="mpre">
</span><a href="#loc_634_1_634_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_634_1_634_10&#39;)"><span class="mpre">transpose</span></a><span class="mpre"> :: [</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">] -&gt; [</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">]
</span><a name="loc_634_1_634_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_634_1_634_10&#39;)"><span class="hl_fundecl"><span class="mpre">transpose</span></span></a><span class="mpre"> </span><a name="loc_634_11_634_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_634_11_634_13&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">L.map</span></span><span class="mpre"> (\</span><a name="loc_634_24_634_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_634_24_634_26&#39;)"><span class="hl_vardecl"><span class="mpre">ss</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_387_1_387_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_387_1_387_5&#39;)"><span class="hl_varref"><span class="mpre">T.pack</span></span></a><span class="mpre"> </span><a href="#loc_634_24_634_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_634_24_634_26&#39;)"><span class="hl_varref"><span class="mpre">ss</span></span></a><span class="mpre">) </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">)
                     (</span><a href="Data.List.html#loc_451_1_451_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_451_1_451_10&#39;)"><span class="hl_varref"><span class="mpre">L.transpose</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">L.map</span></span><span class="mpre"> </span><a href="#loc_354_1_354_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_354_1_354_7&#39;)"><span class="hl_varref"><span class="mpre">unpack</span></span></a><span class="mpre"> </span><a href="#loc_634_11_634_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_634_11_634_13&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">))
</span><span class="hl_comment"><span class="mpre">-- TODO: make this fast</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;reverse&#39; @t@ returns the elements of @t@ in reverse order.</span></span><span class="mpre">
</span><a href="#loc_640_1_640_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_640_1_640_8&#39;)"><span class="mpre">reverse</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_640_1_640_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_640_1_640_8&#39;)"><span class="hl_vardecl"><span class="mpre">reverse</span></span></a><span class="mpre"> = </span><a href="#loc_641_9_641_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_641_9_641_12&#39;)"><span class="hl_varref"><span class="mpre">rev</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">
  where </span><a name="loc_641_9_641_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_641_9_641_12&#39;)"><span class="hl_fundecl"><span class="mpre">rev</span></span></a><span class="mpre"> </span><a name="loc_641_13_641_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_641_13_641_14&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">        = </span><a href="#loc_641_13_641_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_641_13_641_14&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">
        </span><a href="#loc_641_9_641_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_641_9_641_12&#39;)"><span class="hl_fundecl"><span class="mpre">rev</span></span></a><span class="mpre"> </span><a name="loc_642_13_642_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_642_13_642_14&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_642_22_642_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_642_22_642_23&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_642_24_642_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_642_24_642_26&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">) = </span><a href="#loc_641_9_641_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_641_9_641_12&#39;)"><span class="hl_varref"><span class="mpre">rev</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_627_1_627_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_627_1_627_8&#39;)"><span class="hl_varref"><span class="mpre">T.reverse</span></span></a><span class="mpre"> </span><a href="#loc_642_22_642_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_642_22_642_23&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) </span><a href="#loc_642_13_642_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_642_13_642_14&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">) </span><a href="#loc_642_24_642_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_642_24_642_26&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(m+n)/ Replace every occurrence of one substring with another.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- In (unlikely) bad cases, this function&#39;s time complexity degrades</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- towards /O(n*m)/.</span></span><span class="mpre">
</span><a href="#loc_652_1_652_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_652_1_652_8&#39;)"><span class="mpre">replace</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">                 </span><span class="hl_comment"><span class="mpre">-- ^ Text to search for</span></span><span class="mpre">
        -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">                 </span><span class="hl_comment"><span class="mpre">-- ^ Replacement text</span></span><span class="mpre">
        -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">                 </span><span class="hl_comment"><span class="mpre">-- ^ Input text</span></span><span class="mpre">
        -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_652_1_652_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_652_1_652_8&#39;)"><span class="hl_fundecl"><span class="mpre">replace</span></span></a><span class="mpre"> </span><a name="loc_652_9_652_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_652_9_652_10&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> </span><a name="loc_652_11_652_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_652_11_652_12&#39;)"><span class="hl_vardecl"><span class="mpre">d</span></span></a><span class="mpre"> = </span><a href="#loc_565_1_565_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_565_1_565_12&#39;)"><span class="hl_varref"><span class="mpre">intercalate</span></span></a><span class="mpre"> </span><a href="#loc_652_11_652_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_652_11_652_12&#39;)"><span class="hl_varref"><span class="mpre">d</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_1284_1_1284_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_1_1284_8&#39;)"><span class="hl_varref"><span class="mpre">splitOn</span></span></a><span class="mpre"> </span><a href="#loc_652_9_652_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_652_9_652_10&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_652_1_652_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_652_1_652_8&#39;)"><span class="mpre">replace</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- ----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- ** Case conversions (folds)</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- $case</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- With Unicode text, it is incorrect to use combinators like @map</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- toUpper@ to case convert each character of a string individually.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Instead, use the whole-string case conversion functions from this</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- module.  For correctness in different writing systems, these</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- functions may map one input character to two or three output</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- characters.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Convert a string to folded case.  Subject to fusion.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This function is mainly useful for performing caseless (or case</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- insensitive) string comparisons.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- A string @x@ is a caseless match for a string @y@ if and only if:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @toCaseFold x == toCaseFold y@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The result string may be longer than the input string, and may</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- differ from applying &#39;toLower&#39; to the input string.  For instance,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the Armenian small ligature men now (U+FB13) is case folded to the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- bigram men now (U+0574 U+0576), while the micro sign (U+00B5) is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- case folded to the Greek small letter letter mu (U+03BC) instead of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- itself.</span></span><span class="mpre">
</span><a href="#loc_683_1_683_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_683_1_683_11&#39;)"><span class="mpre">toCaseFold</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_683_1_683_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_683_1_683_11&#39;)"><span class="hl_fundecl"><span class="mpre">toCaseFold</span></span></a><span class="mpre"> </span><a name="loc_683_12_683_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_683_12_683_13&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9&#39;)"><span class="hl_varref"><span class="mpre">unstream</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Common.html#loc_421_1_421_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_421_1_421_11&#39;)"><span class="hl_varref"><span class="mpre">S.toCaseFold</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_683_12_683_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_683_12_683_13&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">))
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [0] </span><a href="#loc_683_1_683_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_683_1_683_11&#39;)"><span class="mpre">toCaseFold</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Convert a string to lower case, using simple case</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- conversion.  Subject to fusion.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The result string may be longer than the input string.  For</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- instance, the Latin capital letter I with dot above (U+0130) maps</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- to the sequence Latin small letter i (U+0069) followed by combining</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- dot above (U+0307).</span></span><span class="mpre">
</span><a href="#loc_694_1_694_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_694_1_694_8&#39;)"><span class="mpre">toLower</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_694_1_694_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_694_1_694_8&#39;)"><span class="hl_fundecl"><span class="mpre">toLower</span></span></a><span class="mpre"> </span><a name="loc_694_9_694_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_694_9_694_10&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9&#39;)"><span class="hl_varref"><span class="mpre">unstream</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Common.html#loc_438_1_438_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_438_1_438_8&#39;)"><span class="hl_varref"><span class="mpre">S.toLower</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_694_9_694_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_694_9_694_10&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">))
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_694_1_694_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_694_1_694_8&#39;)"><span class="mpre">toLower</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Convert a string to upper case, using simple case</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- conversion.  Subject to fusion.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The result string may be longer than the input string.  For</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- instance, the German eszett (U+00DF) maps to the two-letter</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- sequence SS.</span></span><span class="mpre">
</span><a href="#loc_704_1_704_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_704_1_704_8&#39;)"><span class="mpre">toUpper</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_704_1_704_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_704_1_704_8&#39;)"><span class="hl_fundecl"><span class="mpre">toUpper</span></span></a><span class="mpre"> </span><a name="loc_704_9_704_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_704_9_704_10&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9&#39;)"><span class="hl_varref"><span class="mpre">unstream</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Common.html#loc_429_1_429_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_429_1_429_8&#39;)"><span class="hl_varref"><span class="mpre">S.toUpper</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_704_9_704_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_704_9_704_10&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">))
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_704_1_704_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_704_1_704_8&#39;)"><span class="mpre">toUpper</span></a><span class="mpre"> #-}</span></span><span class="mpre">


</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Convert a string to title case, using simple case</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- conversion.  Subject to fusion.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The first letter of the input is converted to title case, as is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- every subsequent letter that immediately follows a non-letter.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Every letter that immediately follows another letter is converted</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- to lower case.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The result string may be longer than the input string. For example,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the Latin small ligature &amp;#xfb02; (U+FB02) is converted to the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- sequence Latin capital letter F (U+0046) followed by Latin small</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- letter l (U+006C).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- /Note/: this function does not take language or culture specific</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- rules into account. For instance, in English, different style</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- guides disagree on whether the book name \&quot;The Hill of the Red</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Fox\&quot; is correctly title cased&amp;#x2014;but this function will</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- capitalize /every/ word.</span></span><span class="mpre">
</span><a href="#loc_727_1_727_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_727_1_727_8&#39;)"><span class="mpre">toTitle</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_727_1_727_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_727_1_727_8&#39;)"><span class="hl_fundecl"><span class="mpre">toTitle</span></span></a><span class="mpre"> </span><a name="loc_727_9_727_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_727_9_727_10&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9&#39;)"><span class="hl_varref"><span class="mpre">unstream</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Common.html#loc_460_1_460_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_460_1_460_8&#39;)"><span class="hl_varref"><span class="mpre">S.toTitle</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_727_9_727_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_727_9_727_10&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">))
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_727_1_727_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_727_1_727_8&#39;)"><span class="mpre">toTitle</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;foldl&#39;, applied to a binary operator, a starting value</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (typically the left-identity of the operator), and a &#39;Text&#39;,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- reduces the &#39;Text&#39; using the binary operator, from left to right.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_735_1_735_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_735_1_735_6&#39;)"><span class="mpre">foldl</span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_735_1_735_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_735_1_735_6&#39;)"><span class="hl_fundecl"><span class="mpre">foldl</span></span></a><span class="mpre"> </span><a name="loc_735_7_735_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_735_7_735_8&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_735_9_735_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_735_9_735_10&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre"> </span><a name="loc_735_11_735_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_735_11_735_12&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Common.html#loc_497_1_497_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_497_1_497_6&#39;)"><span class="hl_varref"><span class="mpre">S.foldl</span></span></a><span class="mpre"> </span><a href="#loc_735_7_735_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_735_7_735_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_735_9_735_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_735_9_735_10&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_735_11_735_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_735_11_735_12&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_735_1_735_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_735_1_735_6&#39;)"><span class="mpre">foldl</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ A strict version of &#39;foldl&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_741_1_741_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_741_1_741_7&#39;)"><span class="mpre">foldl&#39;</span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_741_1_741_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_741_1_741_7&#39;)"><span class="hl_fundecl"><span class="mpre">foldl&#39;</span></span></a><span class="mpre"> </span><a name="loc_741_8_741_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_741_8_741_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_741_10_741_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_741_10_741_11&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre"> </span><a name="loc_741_12_741_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_741_12_741_13&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Common.html#loc_507_1_507_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_507_1_507_7&#39;)"><span class="hl_varref"><span class="mpre">S.foldl&#39;</span></span></a><span class="mpre"> </span><a href="#loc_741_8_741_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_741_8_741_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_741_10_741_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_741_10_741_11&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_741_12_741_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_741_12_741_13&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_741_1_741_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_741_1_741_7&#39;)"><span class="mpre">foldl&#39;</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ A variant of &#39;foldl&#39; that has no starting value argument,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and thus must be applied to a non-empty &#39;Text&#39;.  Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_747_1_747_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_747_1_747_7&#39;)"><span class="mpre">foldl1</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_747_1_747_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_747_1_747_7&#39;)"><span class="hl_fundecl"><span class="mpre">foldl1</span></span></a><span class="mpre"> </span><a name="loc_747_8_747_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_747_8_747_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_747_10_747_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_747_10_747_11&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Common.html#loc_518_1_518_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_518_1_518_7&#39;)"><span class="hl_varref"><span class="mpre">S.foldl1</span></span></a><span class="mpre"> </span><a href="#loc_747_8_747_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_747_8_747_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_747_10_747_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_747_10_747_11&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_747_1_747_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_747_1_747_7&#39;)"><span class="mpre">foldl1</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ A strict version of &#39;foldl1&#39;.  Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_752_1_752_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_752_1_752_8&#39;)"><span class="mpre">foldl1&#39;</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_752_1_752_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_752_1_752_8&#39;)"><span class="hl_fundecl"><span class="mpre">foldl1&#39;</span></span></a><span class="mpre"> </span><a name="loc_752_9_752_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_752_9_752_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_752_11_752_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_752_11_752_12&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Common.html#loc_532_1_532_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_532_1_532_8&#39;)"><span class="hl_varref"><span class="mpre">S.foldl1&#39;</span></span></a><span class="mpre"> </span><a href="#loc_752_9_752_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_752_9_752_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_752_11_752_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_752_11_752_12&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_752_1_752_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_752_1_752_8&#39;)"><span class="mpre">foldl1&#39;</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;foldr&#39;, applied to a binary operator, a starting value</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- (typically the right-identity of the operator), and a &#39;Text&#39;,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- reduces the &#39;Text&#39; using the binary operator, from right to left.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_760_1_760_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_760_1_760_6&#39;)"><span class="mpre">foldr</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">) -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_760_1_760_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_760_1_760_6&#39;)"><span class="hl_fundecl"><span class="mpre">foldr</span></span></a><span class="mpre"> </span><a name="loc_760_7_760_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_760_7_760_8&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_760_9_760_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_760_9_760_10&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre"> </span><a name="loc_760_11_760_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_760_11_760_12&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Common.html#loc_548_1_548_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_548_1_548_6&#39;)"><span class="hl_varref"><span class="mpre">S.foldr</span></span></a><span class="mpre"> </span><a href="#loc_760_7_760_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_760_7_760_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_760_9_760_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_760_9_760_10&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_760_11_760_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_760_11_760_12&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_760_1_760_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_760_1_760_6&#39;)"><span class="mpre">foldr</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ A variant of &#39;foldr&#39; that has no starting value argument,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and thus must be applied to a non-empty &#39;Text&#39;.  Subject to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- fusion.</span></span><span class="mpre">
</span><a href="#loc_767_1_767_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_767_1_767_7&#39;)"><span class="mpre">foldr1</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_767_1_767_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_767_1_767_7&#39;)"><span class="hl_fundecl"><span class="mpre">foldr1</span></span></a><span class="mpre"> </span><a name="loc_767_8_767_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_767_8_767_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_767_10_767_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_767_10_767_11&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Common.html#loc_560_1_560_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_560_1_560_7&#39;)"><span class="hl_varref"><span class="mpre">S.foldr1</span></span></a><span class="mpre"> </span><a href="#loc_767_8_767_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_767_8_767_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_767_10_767_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_767_10_767_11&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_767_1_767_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_767_1_767_7&#39;)"><span class="mpre">foldr1</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Concatenate a list of &#39;Text&#39;s.</span></span><span class="mpre">
</span><a href="#loc_772_1_772_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_772_1_772_7&#39;)"><span class="mpre">concat</span></a><span class="mpre"> :: [</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">] -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_772_1_772_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_772_1_772_7&#39;)"><span class="hl_vardecl"><span class="mpre">concat</span></span></a><span class="mpre"> = </span><a href="#loc_776_5_776_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_776_5_776_7&#39;)"><span class="hl_varref"><span class="mpre">to</span></span></a><span class="mpre">
  where
    </span><a name="loc_774_5_774_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_774_5_774_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">        </span><a name="loc_774_21_774_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_774_21_774_24&#39;)"><span class="hl_vardecl"><span class="mpre">css</span></span></a><span class="mpre"> = </span><a href="#loc_776_5_776_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_776_5_776_7&#39;)"><span class="hl_varref"><span class="mpre">to</span></span></a><span class="mpre"> </span><a href="#loc_774_21_774_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_774_21_774_24&#39;)"><span class="hl_varref"><span class="mpre">css</span></span></a><span class="mpre">
    </span><a href="#loc_774_5_774_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_774_5_774_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_775_15_775_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_775_15_775_16&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> </span><a name="loc_775_17_775_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_775_17_775_19&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre">) </span><a name="loc_775_21_775_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_775_21_775_24&#39;)"><span class="hl_vardecl"><span class="mpre">css</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_775_15_775_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_775_15_775_16&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> (</span><a href="#loc_774_5_774_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_774_5_774_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_775_17_775_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_775_17_775_19&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre"> </span><a href="#loc_775_21_775_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_775_21_775_24&#39;)"><span class="hl_varref"><span class="mpre">css</span></span></a><span class="mpre">)
    </span><a name="loc_776_5_776_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_776_5_776_7&#39;)"><span class="hl_fundecl"><span class="mpre">to</span></span></a><span class="mpre"> []               = </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">
    </span><a href="#loc_776_5_776_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_776_5_776_7&#39;)"><span class="hl_fundecl"><span class="mpre">to</span></span></a><span class="mpre"> (</span><a name="loc_777_9_777_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_777_9_777_11&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_777_12_777_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_777_12_777_15&#39;)"><span class="hl_vardecl"><span class="mpre">css</span></span></a><span class="mpre">)         = </span><a href="#loc_774_5_774_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_774_5_774_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_777_9_777_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_777_9_777_11&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre"> </span><a href="#loc_777_12_777_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_777_12_777_15&#39;)"><span class="hl_varref"><span class="mpre">css</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_772_1_772_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_772_1_772_7&#39;)"><span class="mpre">concat</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Map a function over a &#39;Text&#39; that results in a &#39;Text&#39;, and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- concatenate the results.</span></span><span class="mpre">
</span><a href="#loc_783_1_783_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_783_1_783_10&#39;)"><span class="mpre">concatMap</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_783_1_783_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_783_1_783_10&#39;)"><span class="hl_fundecl"><span class="mpre">concatMap</span></span></a><span class="mpre"> </span><a name="loc_783_11_783_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_783_11_783_12&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_772_1_772_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_772_1_772_7&#39;)"><span class="hl_varref"><span class="mpre">concat</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_760_1_760_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_760_1_760_6&#39;)"><span class="hl_varref"><span class="mpre">foldr</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">(:)</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_783_11_783_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_783_11_783_12&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) []
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_783_1_783_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_783_1_783_10&#39;)"><span class="mpre">concatMap</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;any&#39; @p@ @t@ determines whether any character in the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Text&#39; @t@ satisifes the predicate @p@. Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_789_1_789_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_789_1_789_4&#39;)"><span class="mpre">any</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_789_1_789_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_789_1_789_4&#39;)"><span class="hl_fundecl"><span class="mpre">any</span></span></a><span class="mpre"> </span><a name="loc_789_5_789_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_789_5_789_6&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a name="loc_789_7_789_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_789_7_789_8&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Common.html#loc_594_1_594_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_594_1_594_4&#39;)"><span class="hl_varref"><span class="mpre">S.any</span></span></a><span class="mpre"> </span><a href="#loc_789_5_789_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_789_5_789_6&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_789_7_789_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_789_7_789_8&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_789_1_789_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_789_1_789_4&#39;)"><span class="mpre">any</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;all&#39; @p@ @t@ determines whether all characters in the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Text&#39; @t@ satisify the predicate @p@. Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_795_1_795_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_795_1_795_4&#39;)"><span class="mpre">all</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_795_1_795_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_795_1_795_4&#39;)"><span class="hl_fundecl"><span class="mpre">all</span></span></a><span class="mpre"> </span><a name="loc_795_5_795_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_795_5_795_6&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a name="loc_795_7_795_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_795_7_795_8&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Common.html#loc_606_1_606_4" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_606_1_606_4&#39;)"><span class="hl_varref"><span class="mpre">S.all</span></span></a><span class="mpre"> </span><a href="#loc_795_5_795_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_795_5_795_6&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_795_7_795_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_795_7_795_8&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_795_1_795_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_795_1_795_4&#39;)"><span class="mpre">all</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;maximum&#39; returns the maximum value from a &#39;Text&#39;, which</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- must be non-empty. Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_801_1_801_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_801_1_801_8&#39;)"><span class="mpre">maximum</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_801_1_801_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_801_1_801_8&#39;)"><span class="hl_fundecl"><span class="mpre">maximum</span></span></a><span class="mpre"> </span><a name="loc_801_9_801_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_801_9_801_10&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Common.html#loc_618_1_618_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_618_1_618_8&#39;)"><span class="hl_varref"><span class="mpre">S.maximum</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_801_9_801_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_801_9_801_10&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_801_1_801_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_801_1_801_8&#39;)"><span class="mpre">maximum</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;minimum&#39; returns the minimum value from a &#39;Text&#39;, which</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- must be non-empty. Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_807_1_807_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_807_1_807_8&#39;)"><span class="mpre">minimum</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_807_1_807_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_807_1_807_8&#39;)"><span class="hl_fundecl"><span class="mpre">minimum</span></span></a><span class="mpre"> </span><a name="loc_807_9_807_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_807_9_807_10&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Common.html#loc_635_1_635_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_635_1_635_8&#39;)"><span class="hl_varref"><span class="mpre">S.minimum</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_807_9_807_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_807_9_807_10&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_807_1_807_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_807_1_807_8&#39;)"><span class="mpre">minimum</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;scanl&#39; is similar to &#39;foldl&#39;, but returns a list of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- successive reduced values from the left. Subject to fusion.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Performs replacement on invalid scalar values.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; scanl f z [x1, x2, ...] == [z, z `f` x1, (z `f` x1) `f` x2, ...]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Note that</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; last (scanl f z xs) == foldl f z xs.</span></span><span class="mpre">
</span><a href="#loc_820_1_820_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_1_820_6&#39;)"><span class="mpre">scanl</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_820_1_820_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_1_820_6&#39;)"><span class="hl_fundecl"><span class="mpre">scanl</span></span></a><span class="mpre"> </span><a name="loc_820_7_820_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_7_820_8&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_820_9_820_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_9_820_10&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre"> </span><a name="loc_820_11_820_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_11_820_12&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9&#39;)"><span class="hl_varref"><span class="mpre">unstream</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Common.html#loc_653_1_653_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_653_1_653_6&#39;)"><span class="hl_varref"><span class="mpre">S.scanl</span></span></a><span class="mpre"> </span><a href="#loc_821_11_821_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_821_11_821_12&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_820_9_820_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_9_820_10&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_820_11_820_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_11_820_12&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">))
    where </span><a name="loc_821_11_821_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_821_11_821_12&#39;)"><span class="hl_fundecl"><span class="mpre">g</span></span></a><span class="mpre"> </span><a name="loc_821_13_821_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_821_13_821_14&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_821_15_821_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_821_15_821_16&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.html#loc_101_1_101_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_101_1_101_5&#39;)"><span class="hl_varref"><span class="mpre">safe</span></span></a><span class="mpre"> (</span><a href="#loc_820_7_820_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_7_820_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_821_13_821_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_821_13_821_14&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_821_15_821_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_821_15_821_16&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_820_1_820_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_1_820_6&#39;)"><span class="mpre">scanl</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;scanl1&#39; is a variant of &#39;scanl&#39; that has no starting</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- value argument.  Subject to fusion.  Performs replacement on</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- invalid scalar values.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; scanl1 f [x1, x2, ...] == [x1, x1 `f` x2, ...]</span></span><span class="mpre">
</span><a href="#loc_830_1_830_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_830_1_830_7&#39;)"><span class="mpre">scanl1</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_830_1_830_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_830_1_830_7&#39;)"><span class="hl_fundecl"><span class="mpre">scanl1</span></span></a><span class="mpre"> </span><a name="loc_830_8_830_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_830_8_830_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_830_10_830_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_830_10_830_12&#39;)"><span class="hl_vardecl"><span class="mpre">t0</span></span></a><span class="mpre"> = case </span><a href="#loc_448_1_448_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_448_1_448_7&#39;)"><span class="hl_varref"><span class="mpre">uncons</span></span></a><span class="mpre"> </span><a href="#loc_830_10_830_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_830_10_830_12&#39;)"><span class="hl_varref"><span class="mpre">t0</span></span></a><span class="mpre"> of
                </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_89_1_89_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_89_1_89_6&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre">
                </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><a name="loc_832_23_832_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_23_832_24&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre">,</span><a name="loc_832_25_832_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_25_832_27&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">) -&gt; </span><a href="#loc_820_1_820_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_1_820_6&#39;)"><span class="hl_varref"><span class="mpre">scanl</span></span></a><span class="mpre"> </span><a href="#loc_830_8_830_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_830_8_830_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_832_23_832_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_23_832_24&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_832_25_832_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_832_25_832_27&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_830_1_830_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_830_1_830_7&#39;)"><span class="mpre">scanl1</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;scanr&#39; is the right-to-left dual of &#39;scanl&#39;.  Performs</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- replacement on invalid scalar values.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; scanr f v == reverse . scanl (flip f) v . reverse</span></span><span class="mpre">
</span><a href="#loc_840_1_840_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_840_1_840_6&#39;)"><span class="mpre">scanr</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_840_1_840_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_840_1_840_6&#39;)"><span class="hl_fundecl"><span class="mpre">scanr</span></span></a><span class="mpre"> </span><a name="loc_840_7_840_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_840_7_840_8&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_840_9_840_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_840_9_840_10&#39;)"><span class="hl_vardecl"><span class="mpre">v</span></span></a><span class="mpre"> = </span><a href="#loc_640_1_640_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_640_1_640_8&#39;)"><span class="hl_varref"><span class="mpre">reverse</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_820_1_820_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_820_1_820_6&#39;)"><span class="hl_varref"><span class="mpre">scanl</span></span></a><span class="mpre"> </span><a href="#loc_841_11_841_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_11_841_12&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> </span><a href="#loc_840_9_840_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_840_9_840_10&#39;)"><span class="hl_varref"><span class="mpre">v</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_640_1_640_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_640_1_640_8&#39;)"><span class="hl_varref"><span class="mpre">reverse</span></span></a><span class="mpre">
    where </span><a name="loc_841_11_841_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_11_841_12&#39;)"><span class="hl_fundecl"><span class="mpre">g</span></span></a><span class="mpre"> </span><a name="loc_841_13_841_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_13_841_14&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_841_15_841_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_15_841_16&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.html#loc_101_1_101_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_101_1_101_5&#39;)"><span class="hl_varref"><span class="mpre">safe</span></span></a><span class="mpre"> (</span><a href="#loc_840_7_840_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_840_7_840_8&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_841_15_841_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_15_841_16&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_841_13_841_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_841_13_841_14&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;scanr1&#39; is a variant of &#39;scanr&#39; that has no starting</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- value argument.  Performs replacement on invalid scalar values.</span></span><span class="mpre">
</span><a href="#loc_846_1_846_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_846_1_846_7&#39;)"><span class="mpre">scanr1</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_846_1_846_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_846_1_846_7&#39;)"><span class="hl_fundecl"><span class="mpre">scanr1</span></span></a><span class="mpre"> </span><a name="loc_846_8_846_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_846_8_846_9&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_846_10_846_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_846_10_846_11&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> | </span><a href="#loc_493_1_493_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_493_1_493_5&#39;)"><span class="hl_varref"><span class="mpre">null</span></span></a><span class="mpre"> </span><a href="#loc_846_10_846_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_846_10_846_11&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">    = </span><a href="Data.Text.Internal.Lazy.html#loc_89_1_89_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_89_1_89_6&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre">
           | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_840_1_840_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_840_1_840_6&#39;)"><span class="hl_varref"><span class="mpre">scanr</span></span></a><span class="mpre"> </span><a href="#loc_846_8_846_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_846_8_846_9&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> (</span><a href="#loc_513_1_513_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_513_1_513_5&#39;)"><span class="hl_varref"><span class="mpre">last</span></span></a><span class="mpre"> </span><a href="#loc_846_10_846_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_846_10_846_11&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) (</span><a href="#loc_477_1_477_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_477_1_477_5&#39;)"><span class="hl_varref"><span class="mpre">init</span></span></a><span class="mpre"> </span><a href="#loc_846_10_846_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_846_10_846_11&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Like a combination of &#39;map&#39; and &#39;foldl&#39;&#39;. Applies a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- function to each element of a &#39;Text&#39;, passing an accumulating</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- parameter from left to right, and returns a final &#39;Text&#39;.  Performs</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- replacement on invalid scalar values.</span></span><span class="mpre">
</span><a href="#loc_854_1_854_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_854_1_854_10&#39;)"><span class="mpre">mapAccumL</span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">)) -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">)
</span><a name="loc_854_1_854_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_854_1_854_10&#39;)"><span class="hl_fundecl"><span class="mpre">mapAccumL</span></span></a><span class="mpre"> </span><a name="loc_854_11_854_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_854_11_854_12&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_856_5_856_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_856_5_856_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">
  where
    </span><a name="loc_856_5_856_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_856_5_856_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_856_8_856_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_856_8_856_9&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_856_17_856_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_856_17_856_18&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> </span><a name="loc_856_19_856_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_856_19_856_21&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre">)    = (</span><a href="#loc_858_16_858_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_858_16_858_19&#39;)"><span class="hl_varref"><span class="mpre">z&#39;&#39;</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_857_21_857_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_857_21_857_23&#39;)"><span class="hl_varref"><span class="mpre">c&#39;</span></span></a><span class="mpre"> </span><a href="#loc_858_21_858_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_858_21_858_24&#39;)"><span class="hl_varref"><span class="mpre">cs&#39;</span></span></a><span class="mpre">)
        where (</span><a name="loc_857_16_857_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_857_16_857_18&#39;)"><span class="hl_vardecl"><span class="mpre">z&#39;</span></span></a><span class="mpre">,  </span><a name="loc_857_21_857_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_857_21_857_23&#39;)"><span class="hl_vardecl"><span class="mpre">c&#39;</span></span></a><span class="mpre">)  = </span><a href="Data.Text.html#loc_941_1_941_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_941_1_941_10&#39;)"><span class="hl_varref"><span class="mpre">T.mapAccumL</span></span></a><span class="mpre"> </span><a href="#loc_854_11_854_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_854_11_854_12&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_856_8_856_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_856_8_856_9&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> </span><a href="#loc_856_17_856_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_856_17_856_18&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
              (</span><a name="loc_858_16_858_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_858_16_858_19&#39;)"><span class="hl_vardecl"><span class="mpre">z&#39;&#39;</span></span></a><span class="mpre">, </span><a name="loc_858_21_858_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_858_21_858_24&#39;)"><span class="hl_vardecl"><span class="mpre">cs&#39;</span></span></a><span class="mpre">) = </span><a href="#loc_856_5_856_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_856_5_856_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_857_16_857_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_857_16_857_18&#39;)"><span class="hl_varref"><span class="mpre">z&#39;</span></span></a><span class="mpre"> </span><a href="#loc_856_19_856_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_856_19_856_21&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">
    </span><a href="#loc_856_5_856_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_856_5_856_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_859_8_859_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_859_8_859_9&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">           = (</span><a href="#loc_859_8_859_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_859_8_859_9&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_854_1_854_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_854_1_854_10&#39;)"><span class="mpre">mapAccumL</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The &#39;mapAccumR&#39; function behaves like a combination of &#39;map&#39; and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- a strict &#39;foldr&#39;; it applies a function to each element of a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Text&#39;, passing an accumulating parameter from right to left, and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- returning a final value of this accumulator together with the new</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Text&#39;.  Performs replacement on invalid scalar values.</span></span><span class="mpre">
</span><a href="#loc_868_1_868_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_868_1_868_10&#39;)"><span class="mpre">mapAccumR</span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">)) -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">)
</span><a name="loc_868_1_868_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_868_1_868_10&#39;)"><span class="hl_fundecl"><span class="mpre">mapAccumR</span></span></a><span class="mpre"> </span><a name="loc_868_11_868_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_868_11_868_12&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> = </span><a href="#loc_870_5_870_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_870_5_870_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">
  where
    </span><a name="loc_870_5_870_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_870_5_870_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_870_8_870_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_870_8_870_9&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_870_17_870_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_870_17_870_18&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> </span><a name="loc_870_19_870_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_870_19_870_21&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre">)   = (</span><a href="#loc_871_16_871_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_871_16_871_19&#39;)"><span class="hl_varref"><span class="mpre">z&#39;&#39;</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_871_21_871_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_871_21_871_23&#39;)"><span class="hl_varref"><span class="mpre">c&#39;</span></span></a><span class="mpre"> </span><a href="#loc_872_20_872_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_872_20_872_23&#39;)"><span class="hl_varref"><span class="mpre">cs&#39;</span></span></a><span class="mpre">)
        where (</span><a name="loc_871_16_871_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_871_16_871_19&#39;)"><span class="hl_vardecl"><span class="mpre">z&#39;&#39;</span></span></a><span class="mpre">, </span><a name="loc_871_21_871_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_871_21_871_23&#39;)"><span class="hl_vardecl"><span class="mpre">c&#39;</span></span></a><span class="mpre">) = </span><a href="Data.Text.html#loc_952_1_952_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_952_1_952_10&#39;)"><span class="hl_varref"><span class="mpre">T.mapAccumR</span></span></a><span class="mpre"> </span><a href="#loc_868_11_868_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_868_11_868_12&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_872_16_872_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_872_16_872_18&#39;)"><span class="hl_varref"><span class="mpre">z&#39;</span></span></a><span class="mpre"> </span><a href="#loc_870_17_870_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_870_17_870_18&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
              (</span><a name="loc_872_16_872_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_872_16_872_18&#39;)"><span class="hl_vardecl"><span class="mpre">z&#39;</span></span></a><span class="mpre">, </span><a name="loc_872_20_872_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_872_20_872_23&#39;)"><span class="hl_vardecl"><span class="mpre">cs&#39;</span></span></a><span class="mpre">) = </span><a href="#loc_870_5_870_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_870_5_870_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_870_8_870_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_870_8_870_9&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre"> </span><a href="#loc_870_19_870_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_870_19_870_21&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">
    </span><a href="#loc_870_5_870_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_870_5_870_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_873_8_873_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_873_8_873_9&#39;)"><span class="hl_vardecl"><span class="mpre">z</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">          = (</span><a href="#loc_873_8_873_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_873_8_873_9&#39;)"><span class="hl_varref"><span class="mpre">z</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_868_1_868_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_868_1_868_10&#39;)"><span class="mpre">mapAccumR</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n*m)/ &#39;replicate&#39; @n@ @t@ is a &#39;Text&#39; consisting of the input</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @t@ repeated @n@ times.</span></span><span class="mpre">
</span><a href="#loc_879_1_879_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_879_1_879_10&#39;)"><span class="mpre">replicate</span></a><span class="mpre"> :: </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_879_1_879_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_879_1_879_10&#39;)"><span class="hl_fundecl"><span class="mpre">replicate</span></span></a><span class="mpre"> </span><a name="loc_879_11_879_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_879_11_879_12&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_879_13_879_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_879_13_879_14&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre">
    | </span><a href="#loc_493_1_493_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_493_1_493_5&#39;)"><span class="hl_varref"><span class="mpre">null</span></span></a><span class="mpre"> </span><a href="#loc_879_13_879_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_879_13_879_14&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">||</span></span><span class="mpre"> </span><a href="#loc_879_11_879_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_879_11_879_12&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.html#loc_89_1_89_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_89_1_89_6&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre">
    | </span><a href="#loc_507_1_507_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_12&#39;)"><span class="hl_varref"><span class="mpre">isSingleton</span></span></a><span class="mpre"> </span><a href="#loc_879_13_879_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_879_13_879_14&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">    = </span><a href="#loc_890_1_890_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_890_1_890_14&#39;)"><span class="hl_varref"><span class="mpre">replicateChar</span></span></a><span class="mpre"> </span><a href="#loc_879_11_879_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_879_11_879_12&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> (</span><a href="#loc_457_1_457_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_457_1_457_5&#39;)"><span class="hl_varref"><span class="mpre">head</span></span></a><span class="mpre"> </span><a href="#loc_879_13_879_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_879_13_879_14&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">        = </span><a href="#loc_772_1_772_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_772_1_772_7&#39;)"><span class="hl_varref"><span class="mpre">concat</span></span></a><span class="mpre"> (</span><a href="#loc_883_11_883_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_883_11_883_14&#39;)"><span class="hl_varref"><span class="mpre">rep</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">)
    where </span><a name="loc_883_11_883_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_883_11_883_14&#39;)"><span class="hl_fundecl"><span class="mpre">rep</span></span></a><span class="mpre"> !</span><a name="loc_883_16_883_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_883_16_883_17&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> | </span><a href="#loc_883_16_883_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_883_16_883_17&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_879_11_879_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_879_11_879_12&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">    = []
                 | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_879_13_879_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_879_13_879_14&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_883_11_883_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_883_11_883_14&#39;)"><span class="hl_varref"><span class="mpre">rep</span></span></a><span class="mpre"> (</span><a href="#loc_883_16_883_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_883_16_883_17&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_879_1_879_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_879_1_879_10&#39;)"><span class="mpre">replicate</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;replicateChar&#39; @n@ @c@ is a &#39;Text&#39; of length @n@ with @c@ the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- value of every element. Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_890_1_890_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_890_1_890_14&#39;)"><span class="mpre">replicateChar</span></a><span class="mpre"> :: </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_890_1_890_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_890_1_890_14&#39;)"><span class="hl_fundecl"><span class="mpre">replicateChar</span></span></a><span class="mpre"> </span><a name="loc_890_15_890_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_890_15_890_16&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_890_17_890_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_890_17_890_18&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9&#39;)"><span class="hl_varref"><span class="mpre">unstream</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Common.html#loc_691_1_691_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_691_1_691_15&#39;)"><span class="hl_varref"><span class="mpre">S.replicateCharI</span></span></a><span class="mpre"> </span><a href="#loc_890_15_890_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_890_15_890_16&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.html#loc_101_1_101_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_101_1_101_5&#39;)"><span class="hl_varref"><span class="mpre">safe</span></span></a><span class="mpre"> </span><a href="#loc_890_17_890_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_890_17_890_18&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">))
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_890_1_890_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_890_1_890_14&#39;)"><span class="mpre">replicateChar</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES
&quot;LAZY TEXT replicate/singleton -&gt; replicateChar&quot; [~1] forall n c.
    replicate n (singleton c) = replicateChar n c
  #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/, where @n@ is the length of the result. The &#39;unfoldr&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- function is analogous to the List &#39;L.unfoldr&#39;. &#39;unfoldr&#39; builds a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Text&#39; from a seed value. The function takes the element and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- returns &#39;Nothing&#39; if it is done producing the &#39;Text&#39;, otherwise</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Just&#39; @(a,b)@.  In this case, @a@ is the next &#39;Char&#39; in the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- string, and @b@ is the seed value for further production.  Performs</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- replacement on invalid scalar values.</span></span><span class="mpre">
</span><a href="#loc_906_1_906_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_906_1_906_8&#39;)"><span class="mpre">unfoldr</span></a><span class="mpre"> :: (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">,</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)) -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_906_1_906_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_906_1_906_8&#39;)"><span class="hl_fundecl"><span class="mpre">unfoldr</span></span></a><span class="mpre"> </span><a name="loc_906_9_906_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_906_9_906_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_906_11_906_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_906_11_906_12&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9&#39;)"><span class="hl_varref"><span class="mpre">unstream</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Common.html#loc_720_1_720_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_720_1_720_8&#39;)"><span class="hl_varref"><span class="mpre">S.unfoldr</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.html#loc_108_1_108_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_108_1_108_7&#39;)"><span class="hl_varref"><span class="mpre">firstf</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_101_1_101_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_101_1_101_5&#39;)"><span class="hl_varref"><span class="mpre">safe</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_906_9_906_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_906_9_906_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) </span><a href="#loc_906_11_906_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_906_11_906_12&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_906_1_906_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_906_1_906_8&#39;)"><span class="mpre">unfoldr</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Like &#39;unfoldr&#39;, &#39;unfoldrN&#39; builds a &#39;Text&#39; from a seed</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- value. However, the length of the result should be limited by the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- first argument to &#39;unfoldrN&#39;. This function is more efficient than</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;unfoldr&#39; when the maximum length of the result is known and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- correct, otherwise its performance is similar to &#39;unfoldr&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Performs replacement on invalid scalar values.</span></span><span class="mpre">
</span><a href="#loc_916_1_916_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_916_1_916_9&#39;)"><span class="mpre">unfoldrN</span></a><span class="mpre"> :: </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre"> -&gt; (</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">,</span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">)) -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_916_1_916_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_916_1_916_9&#39;)"><span class="hl_fundecl"><span class="mpre">unfoldrN</span></span></a><span class="mpre"> </span><a name="loc_916_10_916_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_916_10_916_11&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_916_12_916_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_916_12_916_13&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_916_14_916_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_916_14_916_15&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9&#39;)"><span class="hl_varref"><span class="mpre">unstream</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_108_1_108_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_108_1_108_9&#39;)"><span class="hl_varref"><span class="mpre">S.unfoldrN</span></span></a><span class="mpre"> </span><a href="#loc_916_10_916_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_916_10_916_11&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.html#loc_108_1_108_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_108_1_108_7&#39;)"><span class="hl_varref"><span class="mpre">firstf</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.html#loc_101_1_101_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_101_1_101_5&#39;)"><span class="hl_varref"><span class="mpre">safe</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_916_12_916_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_916_12_916_13&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre">) </span><a href="#loc_916_14_916_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_916_14_916_15&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_916_1_916_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_916_1_916_9&#39;)"><span class="mpre">unfoldrN</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;take&#39; @n@, applied to a &#39;Text&#39;, returns the prefix of the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Text&#39; of length @n@, or the &#39;Text&#39; itself if @n@ is greater than</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the length of the Text. Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_923_1_923_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_923_1_923_5&#39;)"><span class="mpre">take</span></a><span class="mpre"> :: </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_923_1_923_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_923_1_923_5&#39;)"><span class="hl_fundecl"><span class="mpre">take</span></span></a><span class="mpre"> </span><a name="loc_923_6_923_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_923_6_923_7&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> _ | </span><a href="#loc_923_6_923_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_923_6_923_7&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">
</span><a href="#loc_923_1_923_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_923_1_923_5&#39;)"><span class="hl_fundecl"><span class="mpre">take</span></span></a><span class="mpre"> </span><a name="loc_924_6_924_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_924_6_924_7&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> </span><a name="loc_924_8_924_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_924_8_924_10&#39;)"><span class="hl_vardecl"><span class="mpre">t0</span></span></a><span class="mpre">         = </span><a href="#loc_925_9_925_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_925_9_925_14&#39;)"><span class="hl_varref"><span class="mpre">take&#39;</span></span></a><span class="mpre"> </span><a href="#loc_924_6_924_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_924_6_924_7&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_924_8_924_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_924_8_924_10&#39;)"><span class="hl_varref"><span class="mpre">t0</span></span></a><span class="mpre">
  where </span><a name="loc_925_9_925_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_925_9_925_14&#39;)"><span class="hl_fundecl"><span class="mpre">take&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> _            = </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">
        </span><a href="#loc_925_9_925_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_925_9_925_14&#39;)"><span class="hl_fundecl"><span class="mpre">take&#39;</span></span></a><span class="mpre"> _ </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">        = </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">
        </span><a href="#loc_925_9_925_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_925_9_925_14&#39;)"><span class="hl_fundecl"><span class="mpre">take&#39;</span></span></a><span class="mpre"> </span><a name="loc_927_15_927_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_927_15_927_16&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_927_24_927_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_927_24_927_25&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_927_26_927_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_927_26_927_28&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">)
            | </span><a href="#loc_927_15_927_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_927_15_927_16&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_930_19_930_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_930_19_930_22&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">   = </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_1017_1_1017_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1017_1_1017_5&#39;)"><span class="hl_varref"><span class="mpre">T.take</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_927_15_927_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_927_15_927_16&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">) </span><a href="#loc_927_24_927_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_927_24_927_25&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">
            | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_927_24_927_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_927_24_927_25&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="#loc_925_9_925_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_925_9_925_14&#39;)"><span class="hl_varref"><span class="mpre">take&#39;</span></span></a><span class="mpre"> (</span><a href="#loc_927_15_927_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_927_15_927_16&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="#loc_930_19_930_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_930_19_930_22&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">) </span><a href="#loc_927_26_927_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_927_26_927_28&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">)
            where </span><a name="loc_930_19_930_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_930_19_930_22&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> (</span><a href="Data.Text.html#loc_554_1_554_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_554_1_554_7&#39;)"><span class="hl_varref"><span class="mpre">T.length</span></span></a><span class="mpre"> </span><a href="#loc_927_24_927_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_927_24_927_25&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_923_1_923_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_923_1_923_5&#39;)"><span class="mpre">take</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES
&quot;LAZY TEXT take -&gt; fused&quot; [~1] forall n t.
    take n t = unstream (S.take n (stream t))
&quot;LAZY TEXT take -&gt; unfused&quot; [1] forall n t.
    unstream (S.take n (stream t)) = take n t
  #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;takeEnd&#39; @n@ @t@ returns the suffix remaining after</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- taking @n@ characters from the end of @t@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Examples:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; takeEnd 3 &quot;foobar&quot; == &quot;bar&quot;</span></span><span class="mpre">
</span><a href="#loc_947_1_947_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_947_1_947_8&#39;)"><span class="mpre">takeEnd</span></a><span class="mpre"> :: </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_947_1_947_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_947_1_947_8&#39;)"><span class="hl_fundecl"><span class="mpre">takeEnd</span></span></a><span class="mpre"> </span><a name="loc_947_9_947_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_947_9_947_10&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_947_11_947_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_947_11_947_13&#39;)"><span class="hl_vardecl"><span class="mpre">t0</span></span></a><span class="mpre">
    | </span><a href="#loc_947_9_947_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_947_9_947_10&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">    = </span><a href="Data.Text.Internal.Lazy.html#loc_89_1_89_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_89_1_89_6&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_950_9_950_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_950_9_950_18&#39;)"><span class="hl_varref"><span class="mpre">takeChunk</span></span></a><span class="mpre"> </span><a href="#loc_947_9_947_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_947_9_947_10&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_89_1_89_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_89_1_89_6&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.reverse</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_389_1_389_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_389_1_389_9&#39;)"><span class="hl_varref"><span class="mpre">toChunks</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_947_11_947_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_947_11_947_13&#39;)"><span class="hl_varref"><span class="mpre">t0</span></span></a><span class="mpre">
  where </span><a name="loc_950_9_950_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_950_9_950_18&#39;)"><span class="hl_fundecl"><span class="mpre">takeChunk</span></span></a><span class="mpre"> _ </span><a name="loc_950_21_950_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_950_21_950_24&#39;)"><span class="hl_vardecl"><span class="mpre">acc</span></span></a><span class="mpre"> [] = </span><a href="#loc_950_21_950_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_950_21_950_24&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre">
        </span><a href="#loc_950_9_950_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_950_9_950_18&#39;)"><span class="hl_fundecl"><span class="mpre">takeChunk</span></span></a><span class="mpre"> </span><a name="loc_951_19_951_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_951_19_951_20&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> </span><a name="loc_951_21_951_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_951_21_951_24&#39;)"><span class="hl_vardecl"><span class="mpre">acc</span></span></a><span class="mpre"> (</span><a name="loc_951_26_951_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_951_26_951_27&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_951_28_951_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_951_28_951_30&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">)
          | </span><a href="#loc_951_19_951_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_951_19_951_20&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><a href="#loc_954_17_954_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_954_17_954_18&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">    = </span><a href="Data.Text.Internal.Lazy.html#loc_83_1_83_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_83_1_83_6&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_1044_1_1044_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1044_1_1044_8&#39;)"><span class="hl_varref"><span class="mpre">T.takeEnd</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_951_19_951_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_951_19_951_20&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">) </span><a href="#loc_951_26_951_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_951_26_951_27&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) </span><a href="#loc_951_21_951_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_951_21_951_24&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre">
          | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_950_9_950_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_950_9_950_18&#39;)"><span class="hl_varref"><span class="mpre">takeChunk</span></span></a><span class="mpre"> (</span><a href="#loc_951_19_951_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_951_19_951_20&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><a href="#loc_954_17_954_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_954_17_954_18&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">) (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_951_26_951_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_951_26_951_27&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_951_21_951_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_951_21_951_24&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre">) </span><a href="#loc_951_28_951_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_951_28_951_30&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
          where </span><a name="loc_954_17_954_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_954_17_954_18&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> (</span><a href="Data.Text.html#loc_554_1_554_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_554_1_554_7&#39;)"><span class="hl_varref"><span class="mpre">T.length</span></span></a><span class="mpre"> </span><a href="#loc_951_26_951_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_951_26_951_27&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;drop&#39; @n@, applied to a &#39;Text&#39;, returns the suffix of the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Text&#39; after the first @n@ characters, or the empty &#39;Text&#39; if @n@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- is greater than the length of the &#39;Text&#39;. Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_960_1_960_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_960_1_960_5&#39;)"><span class="mpre">drop</span></a><span class="mpre"> :: </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_960_1_960_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_960_1_960_5&#39;)"><span class="hl_fundecl"><span class="mpre">drop</span></span></a><span class="mpre"> </span><a name="loc_960_6_960_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_960_6_960_7&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> </span><a name="loc_960_8_960_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_960_8_960_10&#39;)"><span class="hl_vardecl"><span class="mpre">t0</span></span></a><span class="mpre">
    | </span><a href="#loc_960_6_960_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_960_6_960_7&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">    = </span><a href="#loc_960_8_960_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_960_8_960_10&#39;)"><span class="hl_varref"><span class="mpre">t0</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_963_9_963_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_963_9_963_14&#39;)"><span class="hl_varref"><span class="mpre">drop&#39;</span></span></a><span class="mpre"> </span><a href="#loc_960_6_960_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_960_6_960_7&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_960_8_960_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_960_8_960_10&#39;)"><span class="hl_varref"><span class="mpre">t0</span></span></a><span class="mpre">
  where </span><a name="loc_963_9_963_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_963_9_963_14&#39;)"><span class="hl_fundecl"><span class="mpre">drop&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a name="loc_963_17_963_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_963_17_963_19&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">           = </span><a href="#loc_963_17_963_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_963_17_963_19&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
        </span><a href="#loc_963_9_963_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_963_9_963_14&#39;)"><span class="hl_fundecl"><span class="mpre">drop&#39;</span></span></a><span class="mpre"> _ </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">        = </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">
        </span><a href="#loc_963_9_963_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_963_9_963_14&#39;)"><span class="hl_fundecl"><span class="mpre">drop&#39;</span></span></a><span class="mpre"> </span><a name="loc_965_15_965_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_965_15_965_16&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_965_24_965_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_965_24_965_25&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_965_26_965_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_965_26_965_28&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">)
            | </span><a href="#loc_965_15_965_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_965_15_965_16&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_968_19_968_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_968_19_968_22&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">   = </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_1062_1_1062_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1062_1_1062_5&#39;)"><span class="hl_varref"><span class="mpre">T.drop</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_965_15_965_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_965_15_965_16&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">) </span><a href="#loc_965_24_965_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_965_24_965_25&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) </span><a href="#loc_965_26_965_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_965_26_965_28&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
            | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_963_9_963_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_963_9_963_14&#39;)"><span class="hl_varref"><span class="mpre">drop&#39;</span></span></a><span class="mpre"> (</span><a href="#loc_965_15_965_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_965_15_965_16&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="#loc_968_19_968_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_968_19_968_22&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">) </span><a href="#loc_965_26_965_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_965_26_965_28&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
            where </span><a name="loc_968_19_968_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_968_19_968_22&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre">   = </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> (</span><a href="Data.Text.html#loc_554_1_554_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_554_1_554_7&#39;)"><span class="hl_varref"><span class="mpre">T.length</span></span></a><span class="mpre"> </span><a href="#loc_965_24_965_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_965_24_965_25&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_960_1_960_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_960_1_960_5&#39;)"><span class="mpre">drop</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES
&quot;LAZY TEXT drop -&gt; fused&quot; [~1] forall n t.
    drop n t = unstream (S.drop n (stream t))
&quot;LAZY TEXT drop -&gt; unfused&quot; [1] forall n t.
    unstream (S.drop n (stream t)) = drop n t
  #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;dropEnd&#39; @n@ @t@ returns the prefix remaining after</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- dropping @n@ characters from the end of @t@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Examples:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; dropEnd 3 &quot;foobar&quot; == &quot;foo&quot;</span></span><span class="mpre">
</span><a href="#loc_985_1_985_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_985_1_985_8&#39;)"><span class="mpre">dropEnd</span></a><span class="mpre"> :: </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_985_1_985_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_985_1_985_8&#39;)"><span class="hl_fundecl"><span class="mpre">dropEnd</span></span></a><span class="mpre"> </span><a name="loc_985_9_985_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_985_9_985_10&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_985_11_985_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_985_11_985_13&#39;)"><span class="hl_vardecl"><span class="mpre">t0</span></span></a><span class="mpre">
    | </span><a href="#loc_985_9_985_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_985_9_985_10&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">    = </span><a href="#loc_985_11_985_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_985_11_985_13&#39;)"><span class="hl_varref"><span class="mpre">t0</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_988_9_988_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_988_9_988_18&#39;)"><span class="hl_varref"><span class="mpre">dropChunk</span></span></a><span class="mpre"> </span><a href="#loc_985_9_985_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_985_9_985_10&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.reverse</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_389_1_389_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_389_1_389_9&#39;)"><span class="hl_varref"><span class="mpre">toChunks</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_985_11_985_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_985_11_985_13&#39;)"><span class="hl_varref"><span class="mpre">t0</span></span></a><span class="mpre">
  where </span><a name="loc_988_9_988_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_988_9_988_18&#39;)"><span class="hl_fundecl"><span class="mpre">dropChunk</span></span></a><span class="mpre"> _ [] = </span><a href="Data.Text.Internal.Lazy.html#loc_89_1_89_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_89_1_89_6&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre">
        </span><a href="#loc_988_9_988_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_988_9_988_18&#39;)"><span class="hl_fundecl"><span class="mpre">dropChunk</span></span></a><span class="mpre"> </span><a name="loc_989_19_989_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_989_19_989_20&#39;)"><span class="hl_vardecl"><span class="mpre">m</span></span></a><span class="mpre"> (</span><a name="loc_989_22_989_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_989_22_989_23&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_989_24_989_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_989_24_989_26&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">)
          | </span><a href="#loc_989_19_989_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_989_19_989_20&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_993_17_993_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_993_17_993_18&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">    = </span><a href="#loc_988_9_988_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_988_9_988_18&#39;)"><span class="hl_varref"><span class="mpre">dropChunk</span></span></a><span class="mpre"> (</span><a href="#loc_989_19_989_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_989_19_989_20&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><a href="#loc_993_17_993_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_993_17_993_18&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">) </span><a href="#loc_989_24_989_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_989_24_989_26&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
          | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_385_1_385_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_1_385_11&#39;)"><span class="hl_varref"><span class="mpre">fromChunks</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.reverse</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre">
                        </span><a href="Data.Text.html#loc_1083_1_1083_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1083_1_1083_8&#39;)"><span class="hl_varref"><span class="mpre">T.dropEnd</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_989_19_989_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_989_19_989_20&#39;)"><span class="hl_varref"><span class="mpre">m</span></span></a><span class="mpre">) </span><a href="#loc_989_22_989_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_989_22_989_23&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_989_24_989_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_989_24_989_26&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
          where </span><a name="loc_993_17_993_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_993_17_993_18&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> (</span><a href="Data.Text.html#loc_554_1_554_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_554_1_554_7&#39;)"><span class="hl_varref"><span class="mpre">T.length</span></span></a><span class="mpre"> </span><a href="#loc_989_22_989_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_989_22_989_23&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;dropWords&#39; @n@ returns the suffix with @n@ &#39;Word16&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- values dropped, or the empty &#39;Text&#39; if @n@ is greater than the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- number of &#39;Word16&#39; values present.</span></span><span class="mpre">
</span><a href="#loc_999_1_999_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_999_1_999_10&#39;)"><span class="mpre">dropWords</span></a><span class="mpre"> :: </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_999_1_999_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_999_1_999_10&#39;)"><span class="hl_fundecl"><span class="mpre">dropWords</span></span></a><span class="mpre"> </span><a name="loc_999_11_999_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_999_11_999_12&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> </span><a name="loc_999_13_999_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_999_13_999_15&#39;)"><span class="hl_vardecl"><span class="mpre">t0</span></span></a><span class="mpre">
    | </span><a href="#loc_999_11_999_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_999_11_999_12&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">    = </span><a href="#loc_999_13_999_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_999_13_999_15&#39;)"><span class="hl_varref"><span class="mpre">t0</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_1002_9_1002_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1002_9_1002_14&#39;)"><span class="hl_varref"><span class="mpre">drop&#39;</span></span></a><span class="mpre"> </span><a href="#loc_999_11_999_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_999_11_999_12&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre"> </span><a href="#loc_999_13_999_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_999_13_999_15&#39;)"><span class="hl_varref"><span class="mpre">t0</span></span></a><span class="mpre">
  where </span><a name="loc_1002_9_1002_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1002_9_1002_14&#39;)"><span class="hl_fundecl"><span class="mpre">drop&#39;</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a name="loc_1002_17_1002_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1002_17_1002_19&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">           = </span><a href="#loc_1002_17_1002_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1002_17_1002_19&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
        </span><a href="#loc_1002_9_1002_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1002_9_1002_14&#39;)"><span class="hl_fundecl"><span class="mpre">drop&#39;</span></span></a><span class="mpre"> _ </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">        = </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">
        </span><a href="#loc_1002_9_1002_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1002_9_1002_14&#39;)"><span class="hl_fundecl"><span class="mpre">drop&#39;</span></span></a><span class="mpre"> </span><a name="loc_1004_15_1004_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1004_15_1004_16&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.html#loc_50_13_50_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_13_50_17&#39;)"><span class="hl_conref"><span class="mpre">T.Text</span></span></a><span class="mpre"> </span><a name="loc_1004_32_1004_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1004_32_1004_35&#39;)"><span class="hl_vardecl"><span class="mpre">arr</span></span></a><span class="mpre"> </span><a name="loc_1004_36_1004_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1004_36_1004_39&#39;)"><span class="hl_vardecl"><span class="mpre">off</span></span></a><span class="mpre"> </span><a name="loc_1004_40_1004_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1004_40_1004_43&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre">) </span><a name="loc_1004_45_1004_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1004_45_1004_47&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">)
            | </span><a href="#loc_1004_15_1004_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1004_15_1004_16&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_1007_19_1007_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1007_19_1007_23&#39;)"><span class="hl_varref"><span class="mpre">len&#39;</span></span></a><span class="mpre">  = </span><a href="Data.Text.Internal.Lazy.html#loc_83_1_83_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_83_1_83_6&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.html#loc_78_1_78_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_78_1_78_5&#39;)"><span class="hl_varref"><span class="mpre">text</span></span></a><span class="mpre"> </span><a href="#loc_1004_32_1004_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1004_32_1004_35&#39;)"><span class="hl_varref"><span class="mpre">arr</span></span></a><span class="mpre"> (</span><a href="#loc_1004_36_1004_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1004_36_1004_39&#39;)"><span class="hl_varref"><span class="mpre">off</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><a href="#loc_1008_19_1008_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1008_19_1008_21&#39;)"><span class="hl_varref"><span class="mpre">n&#39;</span></span></a><span class="mpre">) (</span><a href="#loc_1004_40_1004_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1004_40_1004_43&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><a href="#loc_1008_19_1008_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1008_19_1008_21&#39;)"><span class="hl_varref"><span class="mpre">n&#39;</span></span></a><span class="mpre">)) </span><a href="#loc_1004_45_1004_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1004_45_1004_47&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
            | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_1002_9_1002_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1002_9_1002_14&#39;)"><span class="hl_varref"><span class="mpre">drop&#39;</span></span></a><span class="mpre"> (</span><a href="#loc_1004_15_1004_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1004_15_1004_16&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="#loc_1007_19_1007_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1007_19_1007_23&#39;)"><span class="hl_varref"><span class="mpre">len&#39;</span></span></a><span class="mpre">) </span><a href="#loc_1004_45_1004_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1004_45_1004_47&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
            where </span><a name="loc_1007_19_1007_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1007_19_1007_23&#39;)"><span class="hl_vardecl"><span class="mpre">len&#39;</span></span></a><span class="mpre">  = </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_1004_40_1004_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1004_40_1004_43&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">
                  </span><a name="loc_1008_19_1008_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1008_19_1008_21&#39;)"><span class="hl_vardecl"><span class="mpre">n&#39;</span></span></a><span class="mpre">    = </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_1004_15_1004_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1004_15_1004_16&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;takeWhile&#39;, applied to a predicate @p@ and a &#39;Text&#39;,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- returns the longest prefix (possibly empty) of elements that</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- satisfy @p@.  Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_1014_1_1014_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1014_1_1014_10&#39;)"><span class="mpre">takeWhile</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_1014_1_1014_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1014_1_1014_10&#39;)"><span class="hl_fundecl"><span class="mpre">takeWhile</span></span></a><span class="mpre"> </span><a name="loc_1014_11_1014_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1014_11_1014_12&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a name="loc_1014_13_1014_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1014_13_1014_15&#39;)"><span class="hl_vardecl"><span class="mpre">t0</span></span></a><span class="mpre"> = </span><a href="#loc_1015_9_1015_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1015_9_1015_19&#39;)"><span class="hl_varref"><span class="mpre">takeWhile&#39;</span></span></a><span class="mpre"> </span><a href="#loc_1014_13_1014_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1014_13_1014_15&#39;)"><span class="hl_varref"><span class="mpre">t0</span></span></a><span class="mpre">
  where </span><a name="loc_1015_9_1015_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1015_9_1015_19&#39;)"><span class="hl_fundecl"><span class="mpre">takeWhile&#39;</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">        = </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">
        </span><a href="#loc_1015_9_1015_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1015_9_1015_19&#39;)"><span class="hl_fundecl"><span class="mpre">takeWhile&#39;</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_1016_27_1016_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1016_27_1016_28&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_1016_29_1016_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1016_29_1016_31&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">) =
          case </span><a href="Data.Text.html#loc_1429_1_1429_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1429_1_1429_10&#39;)"><span class="hl_varref"><span class="mpre">T.findIndex</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_1014_11_1014_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1014_11_1014_12&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">) </span><a href="#loc_1016_27_1016_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1016_27_1016_28&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> of
            </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_1018_18_1018_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1018_18_1018_19&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> | </span><a href="#loc_1018_18_1018_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1018_18_1018_19&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">     -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_1017_1_1017_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1017_1_1017_5&#39;)"><span class="hl_varref"><span class="mpre">T.take</span></span></a><span class="mpre"> </span><a href="#loc_1018_18_1018_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1018_18_1018_19&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_1016_27_1016_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1016_27_1016_28&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">
                   | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">
            </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">            -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_1016_27_1016_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1016_27_1016_28&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> (</span><a href="#loc_1015_9_1015_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1015_9_1015_19&#39;)"><span class="hl_varref"><span class="mpre">takeWhile&#39;</span></span></a><span class="mpre"> </span><a href="#loc_1016_29_1016_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1016_29_1016_31&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_1014_1_1014_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1014_1_1014_10&#39;)"><span class="mpre">takeWhile</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES
&quot;LAZY TEXT takeWhile -&gt; fused&quot; [~1] forall p t.
    takeWhile p t = unstream (S.takeWhile p (stream t))
&quot;LAZY TEXT takeWhile -&gt; unfused&quot; [1] forall p t.
    unstream (S.takeWhile p (stream t)) = takeWhile p t
  #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;dropWhile&#39; @p@ @t@ returns the suffix remaining after</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;takeWhile&#39; @p@ @t@.  Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_1033_1_1033_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1033_1_1033_10&#39;)"><span class="mpre">dropWhile</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_1033_1_1033_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1033_1_1033_10&#39;)"><span class="hl_fundecl"><span class="mpre">dropWhile</span></span></a><span class="mpre"> </span><a name="loc_1033_11_1033_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1033_11_1033_12&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a name="loc_1033_13_1033_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1033_13_1033_15&#39;)"><span class="hl_vardecl"><span class="mpre">t0</span></span></a><span class="mpre"> = </span><a href="#loc_1034_9_1034_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1034_9_1034_19&#39;)"><span class="hl_varref"><span class="mpre">dropWhile&#39;</span></span></a><span class="mpre"> </span><a href="#loc_1033_13_1033_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1033_13_1033_15&#39;)"><span class="hl_varref"><span class="mpre">t0</span></span></a><span class="mpre">
  where </span><a name="loc_1034_9_1034_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1034_9_1034_19&#39;)"><span class="hl_fundecl"><span class="mpre">dropWhile&#39;</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">        = </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">
        </span><a href="#loc_1034_9_1034_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1034_9_1034_19&#39;)"><span class="hl_fundecl"><span class="mpre">dropWhile&#39;</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_1035_27_1035_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1035_27_1035_28&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_1035_29_1035_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1035_29_1035_31&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">) =
          case </span><a href="Data.Text.html#loc_1429_1_1429_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1429_1_1429_10&#39;)"><span class="hl_varref"><span class="mpre">T.findIndex</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_1033_11_1033_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1033_11_1033_12&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">) </span><a href="#loc_1035_27_1035_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1035_27_1035_28&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> of
            </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_1037_18_1037_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1037_18_1037_19&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre">  -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.html#loc_1062_1_1062_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1062_1_1062_5&#39;)"><span class="hl_varref"><span class="mpre">T.drop</span></span></a><span class="mpre"> </span><a href="#loc_1037_18_1037_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1037_18_1037_19&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_1035_27_1035_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1035_27_1035_28&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) </span><a href="#loc_1035_29_1035_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1035_29_1035_31&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
            </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre"> -&gt; </span><a href="#loc_1034_9_1034_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1034_9_1034_19&#39;)"><span class="hl_varref"><span class="mpre">dropWhile&#39;</span></span></a><span class="mpre"> </span><a href="#loc_1035_29_1035_31" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1035_29_1035_31&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_1033_1_1033_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1033_1_1033_10&#39;)"><span class="mpre">dropWhile</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES
&quot;LAZY TEXT dropWhile -&gt; fused&quot; [~1] forall p t.
    dropWhile p t = unstream (S.dropWhile p (stream t))
&quot;LAZY TEXT dropWhile -&gt; unfused&quot; [1] forall p t.
    unstream (S.dropWhile p (stream t)) = dropWhile p t
  #-}</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;dropWhileEnd&#39; @p@ @t@ returns the prefix remaining after</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- dropping characters that fail the predicate @p@ from the end of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @t@.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Examples:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; dropWhileEnd (==&#39;.&#39;) &quot;foo...&quot; == &quot;foo&quot;</span></span><span class="mpre">
</span><a href="#loc_1054_1_1054_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1054_1_1054_13&#39;)"><span class="mpre">dropWhileEnd</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_1054_1_1054_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1054_1_1054_13&#39;)"><span class="hl_fundecl"><span class="mpre">dropWhileEnd</span></span></a><span class="mpre"> </span><a name="loc_1054_14_1054_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1054_14_1054_15&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = </span><a href="#loc_1055_9_1055_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1055_9_1055_11&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">
  where </span><a name="loc_1055_9_1055_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1055_9_1055_11&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">
        </span><a href="#loc_1055_9_1055_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1055_9_1055_11&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_1056_19_1056_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1056_19_1056_20&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">) = if </span><a href="Data.Text.html#loc_531_1_531_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_531_1_531_5&#39;)"><span class="hl_varref"><span class="mpre">T.null</span></span></a><span class="mpre"> </span><a href="#loc_1059_19_1059_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1059_19_1059_21&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre">
                             then </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">
                             else </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_1059_19_1059_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1059_19_1059_21&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">
            where </span><a name="loc_1059_19_1059_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1059_19_1059_21&#39;)"><span class="hl_vardecl"><span class="mpre">t&#39;</span></span></a><span class="mpre"> = </span><a href="Data.Text.html#loc_1130_1_1130_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1130_1_1130_13&#39;)"><span class="hl_varref"><span class="mpre">T.dropWhileEnd</span></span></a><span class="mpre"> </span><a href="#loc_1054_14_1054_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1054_14_1054_15&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_1056_19_1056_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1056_19_1056_20&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
        </span><a href="#loc_1055_9_1055_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1055_9_1055_11&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_1060_19_1060_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1060_19_1060_20&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_1060_21_1060_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1060_21_1060_23&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">) = case </span><a href="#loc_1055_9_1055_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1055_9_1055_11&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_1060_21_1060_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1060_21_1060_23&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre"> of
                            </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_1055_9_1055_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1055_9_1055_11&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_1060_19_1060_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1060_19_1060_20&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">)
                            </span><a name="loc_1062_29_1062_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1062_29_1062_32&#39;)"><span class="hl_vardecl"><span class="mpre">ts&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_1060_19_1060_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1060_19_1060_20&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_1062_29_1062_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1062_29_1062_32&#39;)"><span class="hl_varref"><span class="mpre">ts&#39;</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1054_1_1054_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1054_1_1054_13&#39;)"><span class="mpre">dropWhileEnd</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;dropAround&#39; @p@ @t@ returns the substring remaining after</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- dropping characters that fail the predicate @p@ from both the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- beginning and end of @t@.  Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_1069_1_1069_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1069_1_1069_11&#39;)"><span class="mpre">dropAround</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_1069_1_1069_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1069_1_1069_11&#39;)"><span class="hl_fundecl"><span class="mpre">dropAround</span></span></a><span class="mpre"> </span><a name="loc_1069_12_1069_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1069_12_1069_13&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = </span><a href="#loc_1033_1_1033_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1033_1_1033_10&#39;)"><span class="hl_varref"><span class="mpre">dropWhile</span></span></a><span class="mpre"> </span><a href="#loc_1069_12_1069_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1069_12_1069_13&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_1054_1_1054_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1054_1_1054_13&#39;)"><span class="hl_varref"><span class="mpre">dropWhileEnd</span></span></a><span class="mpre"> </span><a href="#loc_1069_12_1069_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1069_12_1069_13&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_1069_1_1069_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1069_1_1069_11&#39;)"><span class="mpre">dropAround</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Remove leading white space from a string.  Equivalent to:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; dropWhile isSpace</span></span><span class="mpre">
</span><a href="#loc_1076_1_1076_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1076_1_1076_11&#39;)"><span class="mpre">stripStart</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_1076_1_1076_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1076_1_1076_11&#39;)"><span class="hl_vardecl"><span class="mpre">stripStart</span></span></a><span class="mpre"> = </span><a href="#loc_1033_1_1033_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1033_1_1033_10&#39;)"><span class="hl_varref"><span class="mpre">dropWhile</span></span></a><span class="mpre"> </span><a href="GHC.Unicode.html#loc_72_1_72_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Unicode.html#loc_72_1_72_8&#39;)"><span class="hl_varref"><span class="mpre">isSpace</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_1076_1_1076_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1076_1_1076_11&#39;)"><span class="mpre">stripStart</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Remove trailing white space from a string.  Equivalent to:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; dropWhileEnd isSpace</span></span><span class="mpre">
</span><a href="#loc_1083_1_1083_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1083_1_1083_9&#39;)"><span class="mpre">stripEnd</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_1083_1_1083_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1083_1_1083_9&#39;)"><span class="hl_vardecl"><span class="mpre">stripEnd</span></span></a><span class="mpre"> = </span><a href="#loc_1054_1_1054_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1054_1_1054_13&#39;)"><span class="hl_varref"><span class="mpre">dropWhileEnd</span></span></a><span class="mpre"> </span><a href="GHC.Unicode.html#loc_72_1_72_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Unicode.html#loc_72_1_72_8&#39;)"><span class="hl_varref"><span class="mpre">isSpace</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_1083_1_1083_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1083_1_1083_9&#39;)"><span class="mpre">stripEnd</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Remove leading and trailing white space from a string.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Equivalent to:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; dropAround isSpace</span></span><span class="mpre">
</span><a href="#loc_1091_1_1091_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1091_1_1091_6&#39;)"><span class="mpre">strip</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_1091_1_1091_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1091_1_1091_6&#39;)"><span class="hl_vardecl"><span class="mpre">strip</span></span></a><span class="mpre"> = </span><a href="#loc_1069_1_1069_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1069_1_1069_11&#39;)"><span class="hl_varref"><span class="mpre">dropAround</span></span></a><span class="mpre"> </span><a href="GHC.Unicode.html#loc_72_1_72_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Unicode.html#loc_72_1_72_8&#39;)"><span class="hl_varref"><span class="mpre">isSpace</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_1091_1_1091_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1091_1_1091_6&#39;)"><span class="mpre">strip</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;splitAt&#39; @n t@ returns a pair whose first element is a</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- prefix of @t@ of length @n@, and whose second is the remainder of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the string. It is equivalent to @(&#39;take&#39; n t, &#39;drop&#39; n t)@.</span></span><span class="mpre">
</span><a href="#loc_1098_1_1098_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1098_1_1098_8&#39;)"><span class="mpre">splitAt</span></a><span class="mpre"> :: </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; (</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">)
</span><a name="loc_1098_1_1098_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1098_1_1098_8&#39;)"><span class="hl_vardecl"><span class="mpre">splitAt</span></span></a><span class="mpre"> = </span><a href="#loc_1099_9_1099_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1099_9_1099_13&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre">
  where </span><a name="loc_1099_9_1099_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1099_9_1099_13&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> _ </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">      = (</span><a href="Data.Text.Internal.Lazy.html#loc_89_1_89_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_89_1_89_6&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_89_1_89_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_89_1_89_6&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre">)
        </span><a href="#loc_1099_9_1099_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1099_9_1099_13&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a name="loc_1100_14_1100_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1100_14_1100_15&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_1100_16_1100_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1100_16_1100_17&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> | </span><a href="#loc_1100_14_1100_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1100_14_1100_15&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> = (</span><a href="Data.Text.Internal.Lazy.html#loc_89_1_89_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_89_1_89_6&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre">, </span><a href="#loc_1100_16_1100_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1100_16_1100_17&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
        </span><a href="#loc_1099_9_1099_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1099_9_1099_13&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a name="loc_1101_14_1101_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1101_14_1101_15&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_1101_23_1101_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1101_23_1101_24&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_1101_25_1101_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1101_25_1101_27&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">)
             | </span><a href="#loc_1101_14_1101_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1101_14_1101_15&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><a href="#loc_1106_20_1106_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1106_20_1106_23&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">   = let (</span><a name="loc_1102_33_1102_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_33_1102_35&#39;)"><span class="hl_vardecl"><span class="mpre">t&#39;</span></span></a><span class="mpre">,</span><a name="loc_1102_36_1102_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_36_1102_39&#39;)"><span class="hl_vardecl"><span class="mpre">t&#39;&#39;</span></span></a><span class="mpre">) = </span><a href="Data.Text.html#loc_1177_1_1177_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1177_1_1177_8&#39;)"><span class="hl_varref"><span class="mpre">T.splitAt</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_1101_14_1101_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1101_14_1101_15&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">) </span><a href="#loc_1101_23_1101_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1101_23_1101_24&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
                           in (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_1102_33_1102_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_33_1102_35&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_1102_36_1102_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1102_36_1102_39&#39;)"><span class="hl_varref"><span class="mpre">t&#39;&#39;</span></span></a><span class="mpre"> </span><a href="#loc_1101_25_1101_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1101_25_1101_27&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">)
             | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = let (</span><a name="loc_1104_33_1104_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1104_33_1104_36&#39;)"><span class="hl_vardecl"><span class="mpre">ts&#39;</span></span></a><span class="mpre">,</span><a name="loc_1104_37_1104_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1104_37_1104_41&#39;)"><span class="hl_vardecl"><span class="mpre">ts&#39;&#39;</span></span></a><span class="mpre">) = </span><a href="#loc_1099_9_1099_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1099_9_1099_13&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> (</span><a href="#loc_1101_14_1101_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1101_14_1101_15&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="#loc_1106_20_1106_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1106_20_1106_23&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">) </span><a href="#loc_1101_25_1101_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1101_25_1101_27&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
                           in (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_1101_23_1101_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1101_23_1101_24&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_1104_33_1104_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1104_33_1104_36&#39;)"><span class="hl_varref"><span class="mpre">ts&#39;</span></span></a><span class="mpre">, </span><a href="#loc_1104_37_1104_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1104_37_1104_41&#39;)"><span class="hl_varref"><span class="mpre">ts&#39;&#39;</span></span></a><span class="mpre">)
             where </span><a name="loc_1106_20_1106_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1106_20_1106_23&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> (</span><a href="Data.Text.html#loc_554_1_554_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_554_1_554_7&#39;)"><span class="hl_varref"><span class="mpre">T.length</span></span></a><span class="mpre"> </span><a href="#loc_1101_23_1101_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1101_23_1101_24&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;splitAtWord&#39; @n t@ returns a strict pair whose first</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- element is a prefix of @t@ whose chunks contain @n@ &#39;Word16&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- values, and whose second is the remainder of the string.</span></span><span class="mpre">
</span><a href="#loc_1112_1_1112_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1112_1_1112_12&#39;)"><span class="mpre">splitAtWord</span></a><span class="mpre"> :: </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_6_53_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_6_53_11&#39;)"><span class="hl_tyconref"><span class="mpre">PairS</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_1112_1_1112_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1112_1_1112_12&#39;)"><span class="hl_fundecl"><span class="mpre">splitAtWord</span></span></a><span class="mpre"> _ </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.html#loc_89_1_89_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_89_1_89_6&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">:*:</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_89_1_89_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_89_1_89_6&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre">
</span><a href="#loc_1112_1_1112_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1112_1_1112_12&#39;)"><span class="hl_fundecl"><span class="mpre">splitAtWord</span></span></a><span class="mpre"> </span><a name="loc_1113_13_1113_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1113_13_1113_14&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_1113_22_1113_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1113_22_1113_23&#39;)"><span class="hl_specname"><span class="mpre">c</span></span></a><span class="mpre">@(</span><a href="Data.Text.Internal.html#loc_50_13_50_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_13_50_17&#39;)"><span class="hl_conref"><span class="mpre">T.Text</span></span></a><span class="mpre"> </span><a name="loc_1113_32_1113_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1113_32_1113_35&#39;)"><span class="hl_vardecl"><span class="mpre">arr</span></span></a><span class="mpre"> </span><a name="loc_1113_36_1113_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1113_36_1113_39&#39;)"><span class="hl_vardecl"><span class="mpre">off</span></span></a><span class="mpre"> </span><a name="loc_1113_40_1113_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1113_40_1113_43&#39;)"><span class="hl_vardecl"><span class="mpre">len</span></span></a><span class="mpre">) </span><a name="loc_1113_45_1113_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1113_45_1113_47&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre">)
    | </span><a href="#loc_1118_11_1118_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1118_11_1118_12&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><a href="#loc_1113_40_1113_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1113_40_1113_43&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">  = let </span><a name="loc_1114_23_1114_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1114_23_1114_24&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">:*:</span></span></a><span class="mpre"> </span><a name="loc_1114_29_1114_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1114_29_1114_30&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="#loc_1112_1_1112_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1112_1_1112_12&#39;)"><span class="hl_varref"><span class="mpre">splitAtWord</span></span></a><span class="mpre"> (</span><a href="#loc_1113_13_1113_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1113_13_1113_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_1113_40_1113_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1113_40_1113_43&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="mpre">) </span><a href="#loc_1113_45_1113_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1113_45_1113_47&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">
                  in  </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_1113_22_1113_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1113_22_1113_23&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> </span><a href="#loc_1114_23_1114_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1114_23_1114_24&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">:*:</span></span></a><span class="mpre"> </span><a href="#loc_1114_29_1114_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1114_29_1114_30&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.html#loc_83_1_83_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_83_1_83_6&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.html#loc_78_1_78_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_78_1_78_5&#39;)"><span class="hl_varref"><span class="mpre">text</span></span></a><span class="mpre"> </span><a href="#loc_1113_32_1113_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1113_32_1113_35&#39;)"><span class="hl_varref"><span class="mpre">arr</span></span></a><span class="mpre"> </span><a href="#loc_1113_36_1113_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1113_36_1113_39&#39;)"><span class="hl_varref"><span class="mpre">off</span></span></a><span class="mpre"> </span><a href="#loc_1118_11_1118_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1118_11_1118_12&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">) </span><a href="Data.Text.Internal.Lazy.html#loc_89_1_89_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_89_1_89_6&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">:*:</span></span></a><span class="mpre">
                  </span><a href="Data.Text.Internal.Lazy.html#loc_83_1_83_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_83_1_83_6&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.html#loc_78_1_78_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_78_1_78_5&#39;)"><span class="hl_varref"><span class="mpre">text</span></span></a><span class="mpre"> </span><a href="#loc_1113_32_1113_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1113_32_1113_35&#39;)"><span class="hl_varref"><span class="mpre">arr</span></span></a><span class="mpre"> (</span><a href="#loc_1113_36_1113_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1113_36_1113_39&#39;)"><span class="hl_varref"><span class="mpre">off</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><a href="#loc_1118_11_1118_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1118_11_1118_12&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">) (</span><a href="#loc_1113_40_1113_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1113_40_1113_43&#39;)"><span class="hl_varref"><span class="mpre">len</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><a href="#loc_1118_11_1118_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1118_11_1118_12&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">)) </span><a href="#loc_1113_45_1113_47" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1113_45_1113_47&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">
    where </span><a name="loc_1118_11_1118_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1118_11_1118_12&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_1113_13_1113_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1113_13_1113_14&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n+m)/ Find the first instance of @needle@ (which must be</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- non-&#39;null&#39;) in @haystack@.  The first element of the returned tuple</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- is the prefix of @haystack@ before @needle@ is matched.  The second</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- is the remainder of @haystack@, starting with the match.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Examples:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; breakOn &quot;::&quot; &quot;a::b::c&quot; ==&gt; (&quot;a&quot;, &quot;::b::c&quot;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; breakOn &quot;/&quot; &quot;foobar&quot;   ==&gt; (&quot;foobar&quot;, &quot;&quot;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Laws:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; append prefix match == haystack</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;   where (prefix, match) = breakOn needle haystack</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- If you need to break a string by a substring repeatedly (e.g. you</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- want to break on every instance of a substring), use &#39;breakOnAll&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- instead, as it has lower startup overhead.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This function is strict in its first argument, and lazy in its</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- second.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- In (unlikely) bad cases, this function&#39;s time complexity degrades</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- towards /O(n*m)/.</span></span><span class="mpre">
</span><a href="#loc_1145_1_1145_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1145_1_1145_8&#39;)"><span class="mpre">breakOn</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; (</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">)
</span><a name="loc_1145_1_1145_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1145_1_1145_8&#39;)"><span class="hl_fundecl"><span class="mpre">breakOn</span></span></a><span class="mpre"> </span><a name="loc_1145_9_1145_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1145_9_1145_12&#39;)"><span class="hl_vardecl"><span class="mpre">pat</span></span></a><span class="mpre"> </span><a name="loc_1145_13_1145_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1145_13_1145_16&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre">
    | </span><a href="#loc_493_1_493_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_493_1_493_5&#39;)"><span class="hl_varref"><span class="mpre">null</span></span></a><span class="mpre"> </span><a href="#loc_1145_9_1145_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1145_9_1145_12&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">  = </span><a href="#loc_1552_1_1552_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1552_1_1552_11&#39;)"><span class="hl_varref"><span class="mpre">emptyError</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;breakOn&quot;</span></span><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = case </span><a href="Data.Text.Internal.Lazy.Search.html#loc_45_1_45_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Search.html#loc_45_1_45_8&#39;)"><span class="hl_varref"><span class="mpre">indices</span></span></a><span class="mpre"> </span><a href="#loc_1145_9_1145_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1145_9_1145_12&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre"> </span><a href="#loc_1145_13_1145_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1145_13_1145_16&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre"> of
                    []    -&gt; (</span><a href="#loc_1145_13_1145_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1145_13_1145_16&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_89_1_89_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_89_1_89_6&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre">)
                    (</span><a name="loc_1149_22_1149_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1149_22_1149_23&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">_) -&gt; let </span><a name="loc_1149_34_1149_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1149_34_1149_35&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">:*:</span></span></a><span class="mpre"> </span><a name="loc_1149_40_1149_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1149_40_1149_41&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="#loc_1112_1_1112_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1112_1_1112_12&#39;)"><span class="hl_varref"><span class="mpre">splitAtWord</span></span></a><span class="mpre"> </span><a href="#loc_1149_22_1149_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1149_22_1149_23&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="#loc_1145_13_1145_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1145_13_1145_16&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre">
                             in  (</span><a href="#loc_1149_34_1149_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1149_34_1149_35&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">, </span><a href="#loc_1149_40_1149_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1149_40_1149_41&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | /O(n+m)/ Similar to &#39;breakOn&#39;, but searches from the end of the string.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The first element of the returned tuple is the prefix of @haystack@</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- up to and including the last match of @needle@.  The second is the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- remainder of @haystack@, following the match.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; breakOnEnd &quot;::&quot; &quot;a::b::c&quot; ==&gt; (&quot;a::b::&quot;, &quot;c&quot;)</span></span><span class="mpre">
</span><a href="#loc_1160_1_1160_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1160_1_1160_11&#39;)"><span class="mpre">breakOnEnd</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; (</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">)
</span><a name="loc_1160_1_1160_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1160_1_1160_11&#39;)"><span class="hl_fundecl"><span class="mpre">breakOnEnd</span></span></a><span class="mpre"> </span><a name="loc_1160_12_1160_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1160_12_1160_15&#39;)"><span class="hl_vardecl"><span class="mpre">pat</span></span></a><span class="mpre"> </span><a name="loc_1160_16_1160_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1160_16_1160_19&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre"> = let (</span><a name="loc_1160_27_1160_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1160_27_1160_28&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">,</span><a name="loc_1160_29_1160_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1160_29_1160_30&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">) = </span><a href="#loc_1145_1_1145_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1145_1_1145_8&#39;)"><span class="hl_varref"><span class="mpre">breakOn</span></span></a><span class="mpre"> (</span><a href="#loc_640_1_640_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_640_1_640_8&#39;)"><span class="hl_varref"><span class="mpre">reverse</span></span></a><span class="mpre"> </span><a href="#loc_1160_12_1160_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1160_12_1160_15&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">) (</span><a href="#loc_640_1_640_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_640_1_640_8&#39;)"><span class="hl_varref"><span class="mpre">reverse</span></span></a><span class="mpre"> </span><a href="#loc_1160_16_1160_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1160_16_1160_19&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre">)
                   in  (</span><a href="#loc_640_1_640_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_640_1_640_8&#39;)"><span class="hl_varref"><span class="mpre">reverse</span></span></a><span class="mpre"> </span><a href="#loc_1160_29_1160_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1160_29_1160_30&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">, </span><a href="#loc_640_1_640_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_640_1_640_8&#39;)"><span class="hl_varref"><span class="mpre">reverse</span></span></a><span class="mpre"> </span><a href="#loc_1160_27_1160_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1160_27_1160_28&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1160_1_1160_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1160_1_1160_11&#39;)"><span class="mpre">breakOnEnd</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n+m)/ Find all non-overlapping instances of @needle@ in</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- @haystack@.  Each element of the returned list consists of a pair:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * The entire string prior to the /k/th match (i.e. the prefix)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * The /k/th match, followed by the remainder of the string</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Examples:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; breakOnAll &quot;::&quot; &quot;&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; ==&gt; []</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; breakOnAll &quot;/&quot; &quot;a/b/c/&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; ==&gt; [(&quot;a&quot;, &quot;/b/c/&quot;), (&quot;a/b&quot;, &quot;/c/&quot;), (&quot;a/b/c&quot;, &quot;/&quot;)]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This function is strict in its first argument, and lazy in its</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- second.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- In (unlikely) bad cases, this function&#39;s time complexity degrades</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- towards /O(n*m)/.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The @needle@ parameter may not be empty.</span></span><span class="mpre">
</span><a href="#loc_1188_1_1188_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1188_1_1188_11&#39;)"><span class="mpre">breakOnAll</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">              </span><span class="hl_comment"><span class="mpre">-- ^ @needle@ to search for</span></span><span class="mpre">
           -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">              </span><span class="hl_comment"><span class="mpre">-- ^ @haystack@ in which to search</span></span><span class="mpre">
           -&gt; [(</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">)]
</span><a name="loc_1188_1_1188_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1188_1_1188_11&#39;)"><span class="hl_fundecl"><span class="mpre">breakOnAll</span></span></a><span class="mpre"> </span><a name="loc_1188_12_1188_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1188_12_1188_15&#39;)"><span class="hl_vardecl"><span class="mpre">pat</span></span></a><span class="mpre"> </span><a name="loc_1188_16_1188_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1188_16_1188_19&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre">
    | </span><a href="#loc_493_1_493_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_493_1_493_5&#39;)"><span class="hl_varref"><span class="mpre">null</span></span></a><span class="mpre"> </span><a href="#loc_1188_12_1188_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1188_12_1188_15&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">  = </span><a href="#loc_1552_1_1552_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1552_1_1552_11&#39;)"><span class="hl_varref"><span class="mpre">emptyError</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;breakOnAll&quot;</span></span><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_1192_5_1192_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1192_5_1192_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_89_1_89_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_89_1_89_6&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre"> </span><a href="#loc_1188_16_1188_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1188_16_1188_19&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Search.html#loc_45_1_45_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Search.html#loc_45_1_45_8&#39;)"><span class="hl_varref"><span class="mpre">indices</span></span></a><span class="mpre"> </span><a href="#loc_1188_12_1188_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1188_12_1188_15&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre"> </span><a href="#loc_1188_16_1188_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1188_16_1188_19&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre">)
  where
    </span><a name="loc_1192_5_1192_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1192_5_1192_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> !</span><a name="loc_1192_9_1192_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1192_9_1192_10&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> </span><a name="loc_1192_11_1192_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1192_11_1192_12&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a name="loc_1192_13_1192_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1192_13_1192_14&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> (</span><a name="loc_1192_16_1192_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1192_16_1192_17&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_1192_18_1192_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1192_18_1192_20&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) = let </span><a name="loc_1192_28_1192_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1192_28_1192_29&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">:*:</span></span></a><span class="mpre"> </span><a name="loc_1192_34_1192_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1192_34_1192_35&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="#loc_1112_1_1112_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1112_1_1112_12&#39;)"><span class="hl_varref"><span class="mpre">splitAtWord</span></span></a><span class="mpre"> (</span><a href="#loc_1192_16_1192_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1192_16_1192_17&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><a href="#loc_1192_9_1192_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1192_9_1192_10&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">) </span><a href="#loc_1192_13_1192_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1192_13_1192_14&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre">
                           </span><a name="loc_1193_28_1193_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1193_28_1193_30&#39;)"><span class="hl_vardecl"><span class="mpre">h&#39;</span></span></a><span class="mpre">      = </span><a href="#loc_435_1_435_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_435_1_435_7&#39;)"><span class="hl_varref"><span class="mpre">append</span></span></a><span class="mpre"> </span><a href="#loc_1192_11_1192_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1192_11_1192_12&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_1192_28_1192_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1192_28_1192_29&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre">
                       in (</span><a href="#loc_1193_28_1193_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1193_28_1193_30&#39;)"><span class="hl_varref"><span class="mpre">h&#39;</span></span></a><span class="mpre">,</span><a href="#loc_1192_34_1192_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1192_34_1192_35&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_1192_5_1192_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1192_5_1192_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_1192_16_1192_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1192_16_1192_17&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="#loc_1193_28_1193_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1193_28_1193_30&#39;)"><span class="hl_varref"><span class="mpre">h&#39;</span></span></a><span class="mpre"> </span><a href="#loc_1192_34_1192_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1192_34_1192_35&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_1192_18_1192_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1192_18_1192_20&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
    </span><a href="#loc_1192_5_1192_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1192_5_1192_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> _  _ _ _      = []

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;break&#39; is like &#39;span&#39;, but the prefix returned is over</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- elements that fail the predicate @p@.</span></span><span class="mpre">
</span><a href="#loc_1200_1_1200_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_1_1200_6&#39;)"><span class="mpre">break</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; (</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">)
</span><a name="loc_1200_1_1200_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_1_1200_6&#39;)"><span class="hl_fundecl"><span class="mpre">break</span></span></a><span class="mpre"> </span><a name="loc_1200_7_1200_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_7_1200_8&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a name="loc_1200_9_1200_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_9_1200_11&#39;)"><span class="hl_vardecl"><span class="mpre">t0</span></span></a><span class="mpre"> = </span><a href="#loc_1201_9_1201_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1201_9_1201_15&#39;)"><span class="hl_varref"><span class="mpre">break&#39;</span></span></a><span class="mpre"> </span><a href="#loc_1200_9_1200_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_9_1200_11&#39;)"><span class="hl_varref"><span class="mpre">t0</span></span></a><span class="mpre">
  where </span><a name="loc_1201_9_1201_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1201_9_1201_15&#39;)"><span class="hl_fundecl"><span class="mpre">break&#39;</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">          = (</span><a href="Data.Text.Internal.Lazy.html#loc_89_1_89_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_89_1_89_6&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_89_1_89_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_89_1_89_6&#39;)"><span class="hl_varref"><span class="mpre">empty</span></span></a><span class="mpre">)
        </span><a href="#loc_1201_9_1201_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1201_9_1201_15&#39;)"><span class="hl_fundecl"><span class="mpre">break&#39;</span></span></a><span class="mpre"> </span><a name="loc_1202_16_1202_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1202_16_1202_17&#39;)"><span class="hl_specname"><span class="mpre">c</span></span></a><span class="mpre">@(</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_1202_25_1202_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1202_25_1202_26&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_1202_27_1202_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1202_27_1202_29&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">) =
          case </span><a href="Data.Text.html#loc_1429_1_1429_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1429_1_1429_10&#39;)"><span class="hl_varref"><span class="mpre">T.findIndex</span></span></a><span class="mpre"> </span><a href="#loc_1200_7_1200_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_7_1200_8&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_1202_25_1202_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1202_25_1202_26&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> of
            </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">      -&gt; let (</span><a name="loc_1204_34_1204_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1204_34_1204_37&#39;)"><span class="hl_vardecl"><span class="mpre">ts&#39;</span></span></a><span class="mpre">, </span><a name="loc_1204_39_1204_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1204_39_1204_43&#39;)"><span class="hl_vardecl"><span class="mpre">ts&#39;&#39;</span></span></a><span class="mpre">) = </span><a href="#loc_1201_9_1201_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1201_9_1201_15&#39;)"><span class="hl_varref"><span class="mpre">break&#39;</span></span></a><span class="mpre"> </span><a href="#loc_1202_27_1202_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1202_27_1202_29&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
                            in (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_1202_25_1202_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1202_25_1202_26&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><a href="#loc_1204_34_1204_37" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1204_34_1204_37&#39;)"><span class="hl_varref"><span class="mpre">ts&#39;</span></span></a><span class="mpre">, </span><a href="#loc_1204_39_1204_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1204_39_1204_43&#39;)"><span class="hl_varref"><span class="mpre">ts&#39;&#39;</span></span></a><span class="mpre">)
            </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a name="loc_1206_18_1206_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1206_18_1206_19&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> | </span><a href="#loc_1206_18_1206_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1206_18_1206_19&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">    -&gt; (</span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">, </span><a href="#loc_1202_16_1202_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1202_16_1202_17&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">)
                   | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> -&gt; let (</span><a name="loc_1207_40_1207_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1207_40_1207_41&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">,</span><a name="loc_1207_42_1207_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1207_42_1207_43&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">) = </span><a href="Data.Text.html#loc_1177_1_1177_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1177_1_1177_8&#39;)"><span class="hl_varref"><span class="mpre">T.splitAt</span></span></a><span class="mpre"> </span><a href="#loc_1206_18_1206_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1206_18_1206_19&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre"> </span><a href="#loc_1202_25_1202_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1202_25_1202_26&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
                                  in (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_1207_40_1207_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1207_40_1207_41&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_1207_42_1207_43" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1207_42_1207_43&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_1202_27_1202_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1202_27_1202_29&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;span&#39;, applied to a predicate @p@ and text @t@, returns</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- a pair whose first element is the longest prefix (possibly empty)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- of @t@ of elements that satisfy @p@, and whose second is the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- remainder of the list.</span></span><span class="mpre">
</span><a href="#loc_1215_1_1215_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1215_1_1215_5&#39;)"><span class="mpre">span</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; (</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">)
</span><a name="loc_1215_1_1215_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1215_1_1215_5&#39;)"><span class="hl_fundecl"><span class="mpre">span</span></span></a><span class="mpre"> </span><a name="loc_1215_6_1215_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1215_6_1215_7&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> = </span><a href="#loc_1200_1_1200_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_1_1200_6&#39;)"><span class="hl_varref"><span class="mpre">break</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_1215_6_1215_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1215_6_1215_7&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1215_1_1215_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1215_1_1215_5&#39;)"><span class="mpre">span</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The &#39;group&#39; function takes a &#39;Text&#39; and returns a list of &#39;Text&#39;s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- such that the concatenation of the result is equal to the argument.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Moreover, each sublist in the result contains only equal elements.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- For example,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; group &quot;Mississippi&quot; = [&quot;M&quot;,&quot;i&quot;,&quot;ss&quot;,&quot;i&quot;,&quot;ss&quot;,&quot;i&quot;,&quot;pp&quot;,&quot;i&quot;]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- It is a special case of &#39;groupBy&#39;, which allows the programmer to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- supply their own equality test.</span></span><span class="mpre">
</span><a href="#loc_1228_1_1228_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1228_1_1228_6&#39;)"><span class="mpre">group</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; [</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">]
</span><a name="loc_1228_1_1228_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1228_1_1228_6&#39;)"><span class="hl_vardecl"><span class="mpre">group</span></span></a><span class="mpre"> =  </span><a href="#loc_1233_1_1233_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1233_1_1233_8&#39;)"><span class="hl_varref"><span class="mpre">groupBy</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">(==)</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1228_1_1228_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1228_1_1228_6&#39;)"><span class="mpre">group</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The &#39;groupBy&#39; function is the non-overloaded version of &#39;group&#39;.</span></span><span class="mpre">
</span><a href="#loc_1233_1_1233_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1233_1_1233_8&#39;)"><span class="mpre">groupBy</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; [</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">]
</span><a name="loc_1233_1_1233_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1233_1_1233_8&#39;)"><span class="hl_fundecl"><span class="mpre">groupBy</span></span></a><span class="mpre"> _  </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">        = []
</span><a href="#loc_1233_1_1233_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1233_1_1233_8&#39;)"><span class="hl_fundecl"><span class="mpre">groupBy</span></span></a><span class="mpre"> </span><a name="loc_1234_9_1234_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1234_9_1234_11&#39;)"><span class="hl_vardecl"><span class="mpre">eq</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_1234_19_1234_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1234_19_1234_20&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_1234_21_1234_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1234_21_1234_23&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">) = </span><a href="#loc_408_1_408_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_408_1_408_5&#39;)"><span class="hl_varref"><span class="mpre">cons</span></span></a><span class="mpre"> </span><a href="#loc_1236_33_1236_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1236_33_1236_34&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="#loc_1235_34_1235_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1235_34_1235_36&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_1233_1_1233_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1233_1_1233_8&#39;)"><span class="hl_varref"><span class="mpre">groupBy</span></span></a><span class="mpre"> </span><a href="#loc_1234_9_1234_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1234_9_1234_11&#39;)"><span class="hl_varref"><span class="mpre">eq</span></span></a><span class="mpre"> </span><a href="#loc_1235_37_1235_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1235_37_1235_39&#39;)"><span class="hl_varref"><span class="mpre">zs</span></span></a><span class="mpre">
                          where (</span><a name="loc_1235_34_1235_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1235_34_1235_36&#39;)"><span class="hl_vardecl"><span class="mpre">ys</span></span></a><span class="mpre">,</span><a name="loc_1235_37_1235_39" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1235_37_1235_39&#39;)"><span class="hl_vardecl"><span class="mpre">zs</span></span></a><span class="mpre">) = </span><a href="#loc_1215_1_1215_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1215_1_1215_5&#39;)"><span class="hl_varref"><span class="mpre">span</span></span></a><span class="mpre"> (</span><a href="#loc_1234_9_1234_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1234_9_1234_11&#39;)"><span class="hl_varref"><span class="mpre">eq</span></span></a><span class="mpre"> </span><a href="#loc_1236_33_1236_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1236_33_1236_34&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) </span><a href="#loc_1237_33_1237_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1237_33_1237_35&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
                                </span><a name="loc_1236_33_1236_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1236_33_1236_34&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">  = </span><a href="Data.Text.Unsafe.html#loc_43_1_43_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_43_1_43_11&#39;)"><span class="hl_varref"><span class="mpre">T.unsafeHead</span></span></a><span class="mpre"> </span><a href="#loc_1234_19_1234_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1234_19_1234_20&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
                                </span><a name="loc_1237_33_1237_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1237_33_1237_35&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.html#loc_83_1_83_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_83_1_83_6&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.Unsafe.html#loc_54_1_54_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_54_1_54_11&#39;)"><span class="hl_varref"><span class="mpre">T.unsafeTail</span></span></a><span class="mpre"> </span><a href="#loc_1234_19_1234_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1234_19_1234_20&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) </span><a href="#loc_1234_21_1234_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1234_21_1234_23&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Return all initial segments of the given &#39;Text&#39;,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- shortest first.</span></span><span class="mpre">
</span><a href="#loc_1242_1_1242_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1242_1_1242_6&#39;)"><span class="mpre">inits</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; [</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">]
</span><a name="loc_1242_1_1242_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1242_1_1242_6&#39;)"><span class="hl_vardecl"><span class="mpre">inits</span></span></a><span class="mpre"> = (</span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_1243_9_1243_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1243_9_1243_15&#39;)"><span class="hl_varref"><span class="mpre">inits&#39;</span></span></a><span class="mpre">
  where </span><a name="loc_1243_9_1243_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1243_9_1243_15&#39;)"><span class="hl_fundecl"><span class="mpre">inits&#39;</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">        = []
        </span><a href="#loc_1243_9_1243_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1243_9_1243_15&#39;)"><span class="hl_fundecl"><span class="mpre">inits&#39;</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_1244_23_1244_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1244_23_1244_24&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_1244_25_1244_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1244_25_1244_27&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">) = </span><span class="hl_varref"><span class="mpre">L.map</span></span><span class="mpre"> (\</span><a name="loc_1244_39_1244_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1244_39_1244_41&#39;)"><span class="hl_vardecl"><span class="mpre">t&#39;</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_1244_39_1244_41" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1244_39_1244_41&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">) (</span><span class="hl_varref"><span class="mpre">L.tail</span></span><span class="mpre"> (</span><a href="Data.Text.html#loc_1224_1_1224_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1224_1_1224_6&#39;)"><span class="hl_varref"><span class="mpre">T.inits</span></span></a><span class="mpre"> </span><a href="#loc_1244_23_1244_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1244_23_1244_24&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">))
                           </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.map</span></span><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_1244_23_1244_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1244_23_1244_24&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) (</span><a href="#loc_1243_9_1243_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1243_9_1243_15&#39;)"><span class="hl_varref"><span class="mpre">inits&#39;</span></span></a><span class="mpre"> </span><a href="#loc_1244_25_1244_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1244_25_1244_27&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Return all final segments of the given &#39;Text&#39;, longest</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- first.</span></span><span class="mpre">
</span><a href="#loc_1250_1_1250_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1250_1_1250_6&#39;)"><span class="mpre">tails</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; [</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">]
</span><a name="loc_1250_1_1250_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1250_1_1250_6&#39;)"><span class="hl_fundecl"><span class="mpre">tails</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">         = </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> []
</span><a href="#loc_1250_1_1250_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1250_1_1250_6&#39;)"><span class="hl_fundecl"><span class="mpre">tails</span></span></a><span class="mpre"> </span><a name="loc_1251_7_1251_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1251_7_1251_9&#39;)"><span class="hl_specname"><span class="mpre">ts</span></span></a><span class="mpre">@(</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_1251_17_1251_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1251_17_1251_18&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_1251_19_1251_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1251_19_1251_22&#39;)"><span class="hl_vardecl"><span class="mpre">ts&#39;</span></span></a><span class="mpre">)
  | </span><a href="Data.Text.html#loc_554_1_554_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_554_1_554_7&#39;)"><span class="hl_varref"><span class="mpre">T.length</span></span></a><span class="mpre"> </span><a href="#loc_1251_17_1251_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1251_17_1251_18&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre"> = </span><a href="#loc_1251_7_1251_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1251_7_1251_9&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_1250_1_1250_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1250_1_1250_6&#39;)"><span class="hl_varref"><span class="mpre">tails</span></span></a><span class="mpre"> </span><a href="#loc_1251_19_1251_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1251_19_1251_22&#39;)"><span class="hl_varref"><span class="mpre">ts&#39;</span></span></a><span class="mpre">
  | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">       = </span><a href="#loc_1251_7_1251_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1251_7_1251_9&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_1250_1_1250_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1250_1_1250_6&#39;)"><span class="hl_varref"><span class="mpre">tails</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> (</span><a href="Data.Text.Unsafe.html#loc_54_1_54_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Unsafe.html#loc_54_1_54_11&#39;)"><span class="hl_varref"><span class="mpre">T.unsafeTail</span></span></a><span class="mpre"> </span><a href="#loc_1251_17_1251_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1251_17_1251_18&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) </span><a href="#loc_1251_19_1251_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1251_19_1251_22&#39;)"><span class="hl_varref"><span class="mpre">ts&#39;</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- $split</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Splitting functions in this library do not perform character-wise</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- copies to create substrings; they just construct new &#39;Text&#39;s that</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- are slices of the original.</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(m+n)/ Break a &#39;Text&#39; into pieces separated by the first</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;Text&#39; argument, consuming the delimiter. An empty delimiter is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- invalid, and will cause an error to be raised.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Examples:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; splitOn &quot;\r\n&quot; &quot;a\r\nb\r\nd\r\ne&quot; == [&quot;a&quot;,&quot;b&quot;,&quot;d&quot;,&quot;e&quot;]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; splitOn &quot;aaa&quot;  &quot;aaaXaaaXaaaXaaa&quot;  == [&quot;&quot;,&quot;X&quot;,&quot;X&quot;,&quot;X&quot;,&quot;&quot;]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; splitOn &quot;x&quot;    &quot;x&quot;                == [&quot;&quot;,&quot;&quot;]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; intercalate s . splitOn s         == id</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; splitOn (singleton c)             == split (==c)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This function is strict in its first argument, and lazy in its</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- second.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- In (unlikely) bad cases, this function&#39;s time complexity degrades</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- towards /O(n*m)/.</span></span><span class="mpre">
</span><a href="#loc_1284_1_1284_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_1_1284_8&#39;)"><span class="mpre">splitOn</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">                 </span><span class="hl_comment"><span class="mpre">-- ^ Text to split on</span></span><span class="mpre">
        -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">                 </span><span class="hl_comment"><span class="mpre">-- ^ Input text</span></span><span class="mpre">
        -&gt; [</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">]
</span><a name="loc_1284_1_1284_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_1_1284_8&#39;)"><span class="hl_fundecl"><span class="mpre">splitOn</span></span></a><span class="mpre"> </span><a name="loc_1284_9_1284_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_9_1284_12&#39;)"><span class="hl_vardecl"><span class="mpre">pat</span></span></a><span class="mpre"> </span><a name="loc_1284_13_1284_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_13_1284_16&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre">
    | </span><a href="#loc_493_1_493_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_493_1_493_5&#39;)"><span class="hl_varref"><span class="mpre">null</span></span></a><span class="mpre"> </span><a href="#loc_1284_9_1284_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_9_1284_12&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">        = </span><a href="#loc_1552_1_1552_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1552_1_1552_11&#39;)"><span class="hl_varref"><span class="mpre">emptyError</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;splitOn&quot;</span></span><span class="mpre">
    | </span><a href="#loc_507_1_507_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_12&#39;)"><span class="hl_varref"><span class="mpre">isSingleton</span></span></a><span class="mpre"> </span><a href="#loc_1284_9_1284_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_9_1284_12&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre"> = </span><a href="#loc_1308_1_1308_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1308_1_1308_6&#39;)"><span class="hl_varref"><span class="mpre">split</span></span></a><span class="mpre"> (</span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_457_1_457_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_457_1_457_5&#39;)"><span class="hl_varref"><span class="mpre">head</span></span></a><span class="mpre"> </span><a href="#loc_1284_9_1284_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_9_1284_12&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">) </span><a href="#loc_1284_13_1284_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_13_1284_16&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">       = </span><a href="#loc_1289_5_1289_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1289_5_1289_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Search.html#loc_45_1_45_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Search.html#loc_45_1_45_8&#39;)"><span class="hl_varref"><span class="mpre">indices</span></span></a><span class="mpre"> </span><a href="#loc_1284_9_1284_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_9_1284_12&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre"> </span><a href="#loc_1284_13_1284_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_13_1284_16&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre">) </span><a href="#loc_1284_13_1284_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_13_1284_16&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre">
  where
    </span><a name="loc_1289_5_1289_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1289_5_1289_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre">  _ []     </span><a name="loc_1289_18_1289_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1289_18_1289_20&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre"> = [</span><a href="#loc_1289_18_1289_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1289_18_1289_20&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">]
    </span><a href="#loc_1289_5_1289_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1289_5_1289_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> !</span><a name="loc_1290_9_1290_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1290_9_1290_10&#39;)"><span class="hl_vardecl"><span class="mpre">i</span></span></a><span class="mpre"> (</span><a name="loc_1290_12_1290_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1290_12_1290_13&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_1290_14_1290_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1290_14_1290_16&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) </span><a name="loc_1290_18_1290_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1290_18_1290_20&#39;)"><span class="hl_vardecl"><span class="mpre">cs</span></span></a><span class="mpre"> = let </span><a name="loc_1290_27_1290_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1290_27_1290_28&#39;)"><span class="hl_vardecl"><span class="mpre">h</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Types.html#loc_53_21_53_24&#39;)"><span class="hl_infix"><span class="mpre">:*:</span></span></a><span class="mpre"> </span><a name="loc_1290_33_1290_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1290_33_1290_34&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="#loc_1112_1_1112_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1112_1_1112_12&#39;)"><span class="hl_varref"><span class="mpre">splitAtWord</span></span></a><span class="mpre"> (</span><a href="#loc_1290_12_1290_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1290_12_1290_13&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">-</span></span><a href="#loc_1290_9_1290_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1290_9_1290_10&#39;)"><span class="hl_varref"><span class="mpre">i</span></span></a><span class="mpre">) </span><a href="#loc_1290_18_1290_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1290_18_1290_20&#39;)"><span class="hl_varref"><span class="mpre">cs</span></span></a><span class="mpre">
                      in  </span><a href="#loc_1290_27_1290_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1290_27_1290_28&#39;)"><span class="hl_varref"><span class="mpre">h</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_1289_5_1289_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1289_5_1289_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="#loc_1290_12_1290_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1290_12_1290_13&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><a href="#loc_1292_5_1292_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1292_5_1292_6&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre">) </span><a href="#loc_1290_14_1290_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1290_14_1290_16&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre"> (</span><a href="#loc_999_1_999_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_999_1_999_10&#39;)"><span class="hl_varref"><span class="mpre">dropWords</span></span></a><span class="mpre"> </span><a href="#loc_1292_5_1292_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1292_5_1292_6&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><a href="#loc_1290_33_1290_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1290_33_1290_34&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
    </span><a name="loc_1292_5_1292_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1292_5_1292_6&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.html#loc_101_1_101_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_101_1_101_12&#39;)"><span class="hl_varref"><span class="mpre">foldlChunks</span></span></a><span class="mpre"> (\</span><a name="loc_1292_23_1292_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1292_23_1292_24&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.html#loc_50_13_50_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_13_50_17&#39;)"><span class="hl_conref"><span class="mpre">T.Text</span></span></a><span class="mpre"> _ _ </span><a name="loc_1292_37_1292_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1292_37_1292_38&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">) -&gt; </span><a href="#loc_1292_23_1292_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1292_23_1292_24&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_1292_37_1292_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1292_37_1292_38&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">) </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> </span><a href="#loc_1284_9_1284_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_9_1284_12&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_1284_1_1284_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1284_1_1284_8&#39;)"><span class="mpre">splitOn</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES
&quot;LAZY TEXT splitOn/singleton -&gt; split/==&quot; [~1] forall c t.
    splitOn (singleton c) t = split (==c) t
  #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Splits a &#39;Text&#39; into components delimited by separators,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- where the predicate returns True for a separator element.  The</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- resulting components do not contain the separators.  Two adjacent</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- separators result in an empty component in the output.  eg.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; split (==&#39;a&#39;) &quot;aabbaca&quot; == [&quot;&quot;,&quot;&quot;,&quot;bb&quot;,&quot;c&quot;,&quot;&quot;]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; split (==&#39;a&#39;) []        == [&quot;&quot;]</span></span><span class="mpre">
</span><a href="#loc_1308_1_1308_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1308_1_1308_6&#39;)"><span class="mpre">split</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; [</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">]
</span><a name="loc_1308_1_1308_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1308_1_1308_6&#39;)"><span class="hl_fundecl"><span class="mpre">split</span></span></a><span class="mpre"> _ </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre"> = [</span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">]
</span><a href="#loc_1308_1_1308_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1308_1_1308_6&#39;)"><span class="hl_fundecl"><span class="mpre">split</span></span></a><span class="mpre"> </span><a name="loc_1309_7_1309_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1309_7_1309_8&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_1309_16_1309_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1309_16_1309_18&#39;)"><span class="hl_vardecl"><span class="mpre">t0</span></span></a><span class="mpre"> </span><a name="loc_1309_19_1309_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1309_19_1309_22&#39;)"><span class="hl_vardecl"><span class="mpre">ts0</span></span></a><span class="mpre">) = </span><a href="#loc_1310_9_1310_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1310_9_1310_13&#39;)"><span class="hl_varref"><span class="mpre">comb</span></span></a><span class="mpre"> [] (</span><a href="Data.Text.html#loc_1280_1_1280_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1280_1_1280_6&#39;)"><span class="hl_varref"><span class="mpre">T.split</span></span></a><span class="mpre"> </span><a href="#loc_1309_7_1309_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1309_7_1309_8&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_1309_16_1309_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1309_16_1309_18&#39;)"><span class="hl_varref"><span class="mpre">t0</span></span></a><span class="mpre">) </span><a href="#loc_1309_19_1309_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1309_19_1309_22&#39;)"><span class="hl_varref"><span class="mpre">ts0</span></span></a><span class="mpre">
  where </span><a name="loc_1310_9_1310_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1310_9_1310_13&#39;)"><span class="hl_fundecl"><span class="mpre">comb</span></span></a><span class="mpre"> </span><a name="loc_1310_14_1310_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1310_14_1310_17&#39;)"><span class="hl_vardecl"><span class="mpre">acc</span></span></a><span class="mpre"> (</span><a name="loc_1310_19_1310_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1310_19_1310_20&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">[]) </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">        = </span><a href="#loc_1549_1_1549_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1549_1_1549_10&#39;)"><span class="hl_varref"><span class="mpre">revChunks</span></span></a><span class="mpre"> (</span><a href="#loc_1310_19_1310_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1310_19_1310_20&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_1310_14_1310_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1310_14_1310_17&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> []
        </span><a href="#loc_1310_9_1310_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1310_9_1310_13&#39;)"><span class="hl_fundecl"><span class="mpre">comb</span></span></a><span class="mpre"> </span><a name="loc_1311_14_1311_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1311_14_1311_17&#39;)"><span class="hl_vardecl"><span class="mpre">acc</span></span></a><span class="mpre"> (</span><a name="loc_1311_19_1311_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1311_19_1311_20&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">[]) (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_1311_32_1311_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1311_32_1311_33&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_1311_34_1311_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1311_34_1311_36&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">) = </span><a href="#loc_1310_9_1310_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1310_9_1310_13&#39;)"><span class="hl_varref"><span class="mpre">comb</span></span></a><span class="mpre"> (</span><a href="#loc_1311_19_1311_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1311_19_1311_20&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_1311_14_1311_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1311_14_1311_17&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre">) (</span><a href="Data.Text.html#loc_1280_1_1280_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1280_1_1280_6&#39;)"><span class="hl_varref"><span class="mpre">T.split</span></span></a><span class="mpre"> </span><a href="#loc_1309_7_1309_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1309_7_1309_8&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_1311_32_1311_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1311_32_1311_33&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) </span><a href="#loc_1311_34_1311_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1311_34_1311_36&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
        </span><a href="#loc_1310_9_1310_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1310_9_1310_13&#39;)"><span class="hl_fundecl"><span class="mpre">comb</span></span></a><span class="mpre"> </span><a name="loc_1312_14_1312_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1312_14_1312_17&#39;)"><span class="hl_vardecl"><span class="mpre">acc</span></span></a><span class="mpre"> (</span><a name="loc_1312_19_1312_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1312_19_1312_20&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_1312_21_1312_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1312_21_1312_23&#39;)"><span class="hl_vardecl"><span class="mpre">ss</span></span></a><span class="mpre">) </span><a name="loc_1312_25_1312_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1312_25_1312_27&#39;)"><span class="hl_vardecl"><span class="mpre">ts</span></span></a><span class="mpre">           = </span><a href="#loc_1549_1_1549_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1549_1_1549_10&#39;)"><span class="hl_varref"><span class="mpre">revChunks</span></span></a><span class="mpre"> (</span><a href="#loc_1312_19_1312_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1312_19_1312_20&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_1312_14_1312_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1312_14_1312_17&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_1310_9_1310_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1310_9_1310_13&#39;)"><span class="hl_varref"><span class="mpre">comb</span></span></a><span class="mpre"> [] </span><a href="#loc_1312_21_1312_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1312_21_1312_23&#39;)"><span class="hl_varref"><span class="mpre">ss</span></span></a><span class="mpre"> </span><a href="#loc_1312_25_1312_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1312_25_1312_27&#39;)"><span class="hl_varref"><span class="mpre">ts</span></span></a><span class="mpre">
        </span><a href="#loc_1310_9_1310_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1310_9_1310_13&#39;)"><span class="hl_fundecl"><span class="mpre">comb</span></span></a><span class="mpre"> _   []     _            = </span><a href="#loc_1555_1_1555_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1555_1_1555_16&#39;)"><span class="hl_varref"><span class="mpre">impossibleError</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;split&quot;</span></span><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1308_1_1308_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1308_1_1308_6&#39;)"><span class="mpre">split</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Splits a &#39;Text&#39; into components of length @k@.  The last</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- element may be shorter than the other chunks, depending on the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- length of the input. Examples:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; chunksOf 3 &quot;foobarbaz&quot;   == [&quot;foo&quot;,&quot;bar&quot;,&quot;baz&quot;]</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; chunksOf 4 &quot;haskell.org&quot; == [&quot;hask&quot;,&quot;ell.&quot;,&quot;org&quot;]</span></span><span class="mpre">
</span><a href="#loc_1323_1_1323_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1323_1_1323_9&#39;)"><span class="mpre">chunksOf</span></a><span class="mpre"> :: </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; [</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">]
</span><a name="loc_1323_1_1323_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1323_1_1323_9&#39;)"><span class="hl_fundecl"><span class="mpre">chunksOf</span></span></a><span class="mpre"> </span><a name="loc_1323_10_1323_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1323_10_1323_11&#39;)"><span class="hl_vardecl"><span class="mpre">k</span></span></a><span class="mpre"> = </span><a href="#loc_1325_5_1325_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1325_5_1325_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre">
  where
    </span><a name="loc_1325_5_1325_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1325_5_1325_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_1325_8_1325_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1325_8_1325_9&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = case </span><a href="#loc_1098_1_1098_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1098_1_1098_8&#39;)"><span class="hl_varref"><span class="mpre">splitAt</span></span></a><span class="mpre"> </span><a href="#loc_1323_10_1323_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1323_10_1323_11&#39;)"><span class="hl_varref"><span class="mpre">k</span></span></a><span class="mpre"> </span><a href="#loc_1325_8_1325_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1325_8_1325_9&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> of
             (</span><a name="loc_1326_15_1326_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1326_15_1326_16&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">,</span><a name="loc_1326_17_1326_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1326_17_1326_18&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">) | </span><a href="#loc_493_1_493_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_493_1_493_5&#39;)"><span class="hl_varref"><span class="mpre">null</span></span></a><span class="mpre"> </span><a href="#loc_1326_15_1326_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1326_15_1326_16&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">    -&gt; []
                   | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> -&gt; </span><a href="#loc_1326_15_1326_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1326_15_1326_16&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_1325_5_1325_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1325_5_1325_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_1326_17_1326_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1326_17_1326_18&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1323_1_1323_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1323_1_1323_9&#39;)"><span class="mpre">chunksOf</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Breaks a &#39;Text&#39; up into a list of &#39;Text&#39;s at</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- newline &#39;Char&#39;s. The resulting strings do not contain newlines.</span></span><span class="mpre">
</span><a href="#loc_1333_1_1333_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1333_1_1333_6&#39;)"><span class="mpre">lines</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; [</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">]
</span><a name="loc_1333_1_1333_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1333_1_1333_6&#39;)"><span class="hl_fundecl"><span class="mpre">lines</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre"> = []
</span><a href="#loc_1333_1_1333_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1333_1_1333_6&#39;)"><span class="hl_fundecl"><span class="mpre">lines</span></span></a><span class="mpre"> </span><a name="loc_1334_7_1334_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1334_7_1334_8&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = let (</span><a name="loc_1334_16_1334_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1334_16_1334_17&#39;)"><span class="hl_vardecl"><span class="mpre">l</span></span></a><span class="mpre">,</span><a name="loc_1334_18_1334_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1334_18_1334_20&#39;)"><span class="hl_vardecl"><span class="mpre">t&#39;</span></span></a><span class="mpre">) = </span><a href="#loc_1200_1_1200_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1200_1_1200_6&#39;)"><span class="hl_varref"><span class="mpre">break</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">(==)</span></span><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;\n&#39;</span></span><span class="mpre">) </span><a href="#loc_1334_7_1334_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1334_7_1334_8&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
          in </span><a href="#loc_1334_16_1334_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1334_16_1334_17&#39;)"><span class="hl_varref"><span class="mpre">l</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> if </span><a href="#loc_493_1_493_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_493_1_493_5&#39;)"><span class="hl_varref"><span class="mpre">null</span></span></a><span class="mpre"> </span><a href="#loc_1334_18_1334_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1334_18_1334_20&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre"> then []
                 else </span><a href="#loc_1333_1_1333_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1333_1_1333_6&#39;)"><span class="hl_varref"><span class="mpre">lines</span></span></a><span class="mpre"> (</span><a href="#loc_463_1_463_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_463_1_463_5&#39;)"><span class="hl_varref"><span class="mpre">tail</span></span></a><span class="mpre"> </span><a href="#loc_1334_18_1334_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1334_18_1334_20&#39;)"><span class="hl_varref"><span class="mpre">t&#39;</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Breaks a &#39;Text&#39; up into a list of words, delimited by &#39;Char&#39;s</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- representing white space.</span></span><span class="mpre">
</span><a href="#loc_1341_1_1341_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1341_1_1341_6&#39;)"><span class="mpre">words</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; [</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">]
</span><a name="loc_1341_1_1341_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1341_1_1341_6&#39;)"><span class="hl_vardecl"><span class="mpre">words</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">L.filter</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_493_1_493_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_493_1_493_5&#39;)"><span class="hl_varref"><span class="mpre">null</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_1308_1_1308_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1308_1_1308_6&#39;)"><span class="hl_varref"><span class="mpre">split</span></span></a><span class="mpre"> </span><a href="GHC.Unicode.html#loc_72_1_72_8" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Unicode.html#loc_72_1_72_8&#39;)"><span class="hl_varref"><span class="mpre">isSpace</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1341_1_1341_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1341_1_1341_6&#39;)"><span class="mpre">words</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Joins lines, after appending a terminating newline to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- each.</span></span><span class="mpre">
</span><a href="#loc_1347_1_1347_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1347_1_1347_8&#39;)"><span class="mpre">unlines</span></a><span class="mpre"> :: [</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">] -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_1347_1_1347_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1347_1_1347_8&#39;)"><span class="hl_vardecl"><span class="mpre">unlines</span></span></a><span class="mpre"> = </span><a href="#loc_772_1_772_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_772_1_772_7&#39;)"><span class="hl_varref"><span class="mpre">concat</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.map</span></span><span class="mpre"> (</span><a href="#loc_423_1_423_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_423_1_423_5&#39;)"><span class="hl_infix"><span class="mpre">`snoc`</span></span></a><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39;\n&#39;</span></span><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1347_1_1347_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1347_1_1347_8&#39;)"><span class="mpre">unlines</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Joins words using single space characters.</span></span><span class="mpre">
</span><a href="#loc_1352_1_1352_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1352_1_1352_8&#39;)"><span class="mpre">unwords</span></a><span class="mpre"> :: [</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">] -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_1352_1_1352_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1352_1_1352_8&#39;)"><span class="hl_vardecl"><span class="mpre">unwords</span></span></a><span class="mpre"> = </span><a href="#loc_565_1_565_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_565_1_565_12&#39;)"><span class="hl_varref"><span class="mpre">intercalate</span></span></a><span class="mpre"> (</span><a href="#loc_373_1_373_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_373_1_373_10&#39;)"><span class="hl_varref"><span class="mpre">singleton</span></span></a><span class="mpre"> </span><span class="hl_char"><span class="mpre">&#39; &#39;</span></span><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1352_1_1352_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1352_1_1352_8&#39;)"><span class="mpre">unwords</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ The &#39;isPrefixOf&#39; function takes two &#39;Text&#39;s and returns</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;True&#39; iff the first is a prefix of the second.  Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_1358_1_1358_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1358_1_1358_11&#39;)"><span class="mpre">isPrefixOf</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_1358_1_1358_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1358_1_1358_11&#39;)"><span class="hl_fundecl"><span class="mpre">isPrefixOf</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre"> _  = </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">
</span><a href="#loc_1358_1_1358_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1358_1_1358_11&#39;)"><span class="hl_fundecl"><span class="mpre">isPrefixOf</span></span></a><span class="mpre"> _ </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">  = </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
</span><a href="#loc_1358_1_1358_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1358_1_1358_11&#39;)"><span class="hl_fundecl"><span class="mpre">isPrefixOf</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_1360_19_1360_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_19_1360_20&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_1360_21_1360_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_21_1360_23&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_1360_32_1360_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_32_1360_33&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre"> </span><a name="loc_1360_34_1360_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_34_1360_36&#39;)"><span class="hl_vardecl"><span class="mpre">ys</span></span></a><span class="mpre">)
    | </span><a href="#loc_1366_9_1366_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1366_9_1366_11&#39;)"><span class="hl_varref"><span class="mpre">lx</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_1367_9_1367_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1367_9_1367_11&#39;)"><span class="hl_varref"><span class="mpre">ly</span></span></a><span class="mpre">  = </span><a href="#loc_1360_19_1360_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_19_1360_20&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_1360_32_1360_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_32_1360_33&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">  </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_1358_1_1358_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1358_1_1358_11&#39;)"><span class="hl_varref"><span class="mpre">isPrefixOf</span></span></a><span class="mpre"> </span><a href="#loc_1360_21_1360_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_21_1360_23&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre"> </span><a href="#loc_1360_34_1360_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_34_1360_36&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">
    | </span><a href="#loc_1366_9_1366_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1366_9_1366_11&#39;)"><span class="hl_varref"><span class="mpre">lx</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre">  </span><a href="#loc_1367_9_1367_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1367_9_1367_11&#39;)"><span class="hl_varref"><span class="mpre">ly</span></span></a><span class="mpre">  = </span><a href="#loc_1360_19_1360_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_19_1360_20&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_1365_10_1365_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1365_10_1365_12&#39;)"><span class="hl_varref"><span class="mpre">yh</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_1358_1_1358_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1358_1_1358_11&#39;)"><span class="hl_varref"><span class="mpre">isPrefixOf</span></span></a><span class="mpre"> </span><a href="#loc_1360_21_1360_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_21_1360_23&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_1365_13_1365_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1365_13_1365_15&#39;)"><span class="hl_varref"><span class="mpre">yt</span></span></a><span class="mpre"> </span><a href="#loc_1360_34_1360_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_34_1360_36&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">)
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><a href="#loc_1364_10_1364_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1364_10_1364_12&#39;)"><span class="hl_varref"><span class="mpre">xh</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_1360_32_1360_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_32_1360_33&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_1358_1_1358_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1358_1_1358_11&#39;)"><span class="hl_varref"><span class="mpre">isPrefixOf</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a href="#loc_1364_13_1364_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1364_13_1364_15&#39;)"><span class="hl_varref"><span class="mpre">xt</span></span></a><span class="mpre"> </span><a href="#loc_1360_21_1360_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_21_1360_23&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">) </span><a href="#loc_1360_34_1360_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_34_1360_36&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">
  where (</span><a name="loc_1364_10_1364_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1364_10_1364_12&#39;)"><span class="hl_vardecl"><span class="mpre">xh</span></span></a><span class="mpre">,</span><a name="loc_1364_13_1364_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1364_13_1364_15&#39;)"><span class="hl_vardecl"><span class="mpre">xt</span></span></a><span class="mpre">) = </span><a href="Data.Text.html#loc_1177_1_1177_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1177_1_1177_8&#39;)"><span class="hl_varref"><span class="mpre">T.splitAt</span></span></a><span class="mpre"> </span><a href="#loc_1367_9_1367_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1367_9_1367_11&#39;)"><span class="hl_varref"><span class="mpre">ly</span></span></a><span class="mpre"> </span><a href="#loc_1360_19_1360_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_19_1360_20&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
        (</span><a name="loc_1365_10_1365_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1365_10_1365_12&#39;)"><span class="hl_vardecl"><span class="mpre">yh</span></span></a><span class="mpre">,</span><a name="loc_1365_13_1365_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1365_13_1365_15&#39;)"><span class="hl_vardecl"><span class="mpre">yt</span></span></a><span class="mpre">) = </span><a href="Data.Text.html#loc_1177_1_1177_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1177_1_1177_8&#39;)"><span class="hl_varref"><span class="mpre">T.splitAt</span></span></a><span class="mpre"> </span><a href="#loc_1366_9_1366_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1366_9_1366_11&#39;)"><span class="hl_varref"><span class="mpre">lx</span></span></a><span class="mpre"> </span><a href="#loc_1360_32_1360_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_32_1360_33&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">
        </span><a name="loc_1366_9_1366_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1366_9_1366_11&#39;)"><span class="hl_vardecl"><span class="mpre">lx</span></span></a><span class="mpre"> = </span><a href="Data.Text.html#loc_554_1_554_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_554_1_554_7&#39;)"><span class="hl_varref"><span class="mpre">T.length</span></span></a><span class="mpre"> </span><a href="#loc_1360_19_1360_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_19_1360_20&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
        </span><a name="loc_1367_9_1367_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1367_9_1367_11&#39;)"><span class="hl_vardecl"><span class="mpre">ly</span></span></a><span class="mpre"> = </span><a href="Data.Text.html#loc_554_1_554_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_554_1_554_7&#39;)"><span class="hl_varref"><span class="mpre">T.length</span></span></a><span class="mpre"> </span><a href="#loc_1360_32_1360_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1360_32_1360_33&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_1358_1_1358_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1358_1_1358_11&#39;)"><span class="mpre">isPrefixOf</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES
&quot;LAZY TEXT isPrefixOf -&gt; fused&quot; [~1] forall s t.
    isPrefixOf s t = S.isPrefixOf (stream s) (stream t)
&quot;LAZY TEXT isPrefixOf -&gt; unfused&quot; [1] forall s t.
    S.isPrefixOf (stream s) (stream t) = isPrefixOf s t
  #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ The &#39;isSuffixOf&#39; function takes two &#39;Text&#39;s and returns</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;True&#39; iff the first is a suffix of the second.</span></span><span class="mpre">
</span><a href="#loc_1380_1_1380_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1380_1_1380_11&#39;)"><span class="mpre">isSuffixOf</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_1380_1_1380_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1380_1_1380_11&#39;)"><span class="hl_fundecl"><span class="mpre">isSuffixOf</span></span></a><span class="mpre"> </span><a name="loc_1380_12_1380_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1380_12_1380_13&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_1380_14_1380_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1380_14_1380_15&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre"> = </span><a href="#loc_640_1_640_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_640_1_640_8&#39;)"><span class="hl_varref"><span class="mpre">reverse</span></span></a><span class="mpre"> </span><a href="#loc_1380_12_1380_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1380_12_1380_13&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="#loc_1358_1_1358_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1358_1_1358_11&#39;)"><span class="hl_infix"><span class="mpre">`isPrefixOf`</span></span></a><span class="mpre"> </span><a href="#loc_640_1_640_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_640_1_640_8&#39;)"><span class="hl_varref"><span class="mpre">reverse</span></span></a><span class="mpre"> </span><a href="#loc_1380_14_1380_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1380_14_1380_15&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1380_1_1380_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1380_1_1380_11&#39;)"><span class="mpre">isSuffixOf</span></a><span class="mpre"> #-}</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- TODO: a better implementation</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n+m)/ The &#39;isInfixOf&#39; function takes two &#39;Text&#39;s and returns</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &#39;True&#39; iff the first is contained, wholly and intact, anywhere</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- within the second.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This function is strict in its first argument, and lazy in its</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- second.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- In (unlikely) bad cases, this function&#39;s time complexity degrades</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- towards /O(n*m)/.</span></span><span class="mpre">
</span><a href="#loc_1394_1_1394_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1394_1_1394_10&#39;)"><span class="mpre">isInfixOf</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_1394_1_1394_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1394_1_1394_10&#39;)"><span class="hl_fundecl"><span class="mpre">isInfixOf</span></span></a><span class="mpre"> </span><a name="loc_1394_11_1394_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1394_11_1394_17&#39;)"><span class="hl_vardecl"><span class="mpre">needle</span></span></a><span class="mpre"> </span><a name="loc_1394_18_1394_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1394_18_1394_26&#39;)"><span class="hl_vardecl"><span class="mpre">haystack</span></span></a><span class="mpre">
    | </span><a href="#loc_493_1_493_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_493_1_493_5&#39;)"><span class="hl_varref"><span class="mpre">null</span></span></a><span class="mpre"> </span><a href="#loc_1394_11_1394_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1394_11_1394_17&#39;)"><span class="hl_varref"><span class="mpre">needle</span></span></a><span class="mpre">        = </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">
    | </span><a href="#loc_507_1_507_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_507_1_507_12&#39;)"><span class="hl_varref"><span class="mpre">isSingleton</span></span></a><span class="mpre"> </span><a href="#loc_1394_11_1394_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1394_11_1394_17&#39;)"><span class="hl_varref"><span class="mpre">needle</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Common.html#loc_832_1_832_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_832_1_832_5&#39;)"><span class="hl_varref"><span class="mpre">S.elem</span></span></a><span class="mpre"> (</span><a href="#loc_457_1_457_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_457_1_457_5&#39;)"><span class="hl_varref"><span class="mpre">head</span></span></a><span class="mpre"> </span><a href="#loc_1394_11_1394_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1394_11_1394_17&#39;)"><span class="hl_varref"><span class="mpre">needle</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">S.stream</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_1394_18_1394_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1394_18_1394_26&#39;)"><span class="hl_varref"><span class="mpre">haystack</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">          = </span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">L.null</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.Search.html#loc_45_1_45_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Search.html#loc_45_1_45_8&#39;)"><span class="hl_varref"><span class="mpre">indices</span></span></a><span class="mpre"> </span><a href="#loc_1394_11_1394_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1394_11_1394_17&#39;)"><span class="hl_varref"><span class="mpre">needle</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="#loc_1394_18_1394_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1394_18_1394_26&#39;)"><span class="hl_varref"><span class="mpre">haystack</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_1394_1_1394_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1394_1_1394_10&#39;)"><span class="mpre">isInfixOf</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES
&quot;LAZY TEXT isInfixOf/singleton -&gt; S.elem/S.stream&quot; [~1] forall n h.
    isInfixOf (singleton n) h = S.elem n (S.stream h)
  #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-------------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * View patterns</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Return the suffix of the second string if its prefix</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- matches the entire first string.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Examples:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; stripPrefix &quot;foo&quot; &quot;foobar&quot; == Just &quot;bar&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; stripPrefix &quot;&quot;    &quot;baz&quot;    == Just &quot;baz&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; stripPrefix &quot;foo&quot; &quot;quux&quot;   == Nothing</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is particularly useful with the @ViewPatterns@ extension to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- GHC, as follows:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; {-# LANGUAGE ViewPatterns #-}</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Data.Text.Lazy as T</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; fnordLength :: Text -&gt; Int</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; fnordLength (stripPrefix &quot;fnord&quot; -&gt; Just suf) = T.length suf</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; fnordLength _                                 = -1</span></span><span class="mpre">
</span><a href="#loc_1427_1_1427_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1427_1_1427_12&#39;)"><span class="mpre">stripPrefix</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_1427_1_1427_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1427_1_1427_12&#39;)"><span class="hl_fundecl"><span class="mpre">stripPrefix</span></span></a><span class="mpre"> </span><a name="loc_1427_13_1427_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1427_13_1427_14&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a name="loc_1427_15_1427_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1427_15_1427_16&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre">
    | </span><a href="#loc_493_1_493_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_493_1_493_5&#39;)"><span class="hl_varref"><span class="mpre">null</span></span></a><span class="mpre"> </span><a href="#loc_1427_13_1427_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1427_13_1427_14&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">    = </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_1427_15_1427_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1427_15_1427_16&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = case </span><a href="#loc_1446_1_1446_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1446_1_1446_15&#39;)"><span class="hl_varref"><span class="mpre">commonPrefixes</span></span></a><span class="mpre"> </span><a href="#loc_1427_13_1427_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1427_13_1427_14&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_1427_15_1427_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1427_15_1427_16&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre"> of
                    </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (_,</span><a name="loc_1430_29_1430_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1430_29_1430_30&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">,</span><a name="loc_1430_31_1430_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1430_31_1430_32&#39;)"><span class="hl_vardecl"><span class="mpre">r</span></span></a><span class="mpre">) | </span><a href="#loc_493_1_493_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_493_1_493_5&#39;)"><span class="hl_varref"><span class="mpre">null</span></span></a><span class="mpre"> </span><a href="#loc_1430_29_1430_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1430_29_1430_30&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> -&gt; </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="#loc_1430_31_1430_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1430_31_1430_32&#39;)"><span class="hl_varref"><span class="mpre">r</span></span></a><span class="mpre">
                    _                     -&gt; </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Find the longest non-empty common prefix of two strings</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and return it, along with the suffixes of each string at which they</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- no longer match.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- If the strings do not have a common prefix or either one is empty,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- this function returns &#39;Nothing&#39;.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Examples:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; commonPrefixes &quot;foobar&quot; &quot;fooquux&quot; == Just (&quot;foo&quot;,&quot;bar&quot;,&quot;quux&quot;)</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; commonPrefixes &quot;veeble&quot; &quot;fetzer&quot;  == Nothing</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; commonPrefixes &quot;&quot; &quot;baz&quot;           == Nothing</span></span><span class="mpre">
</span><a href="#loc_1446_1_1446_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1446_1_1446_15&#39;)"><span class="mpre">commonPrefixes</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">,</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">,</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">)
</span><a name="loc_1446_1_1446_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1446_1_1446_15&#39;)"><span class="hl_fundecl"><span class="mpre">commonPrefixes</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre"> _ = </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
</span><a href="#loc_1446_1_1446_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1446_1_1446_15&#39;)"><span class="hl_fundecl"><span class="mpre">commonPrefixes</span></span></a><span class="mpre"> _ </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">
</span><a href="#loc_1446_1_1446_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1446_1_1446_15&#39;)"><span class="hl_fundecl"><span class="mpre">commonPrefixes</span></span></a><span class="mpre"> </span><a name="loc_1448_16_1448_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1448_16_1448_18&#39;)"><span class="hl_vardecl"><span class="mpre">a0</span></span></a><span class="mpre"> </span><a name="loc_1448_19_1448_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1448_19_1448_21&#39;)"><span class="hl_vardecl"><span class="mpre">b0</span></span></a><span class="mpre">   = </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><a href="#loc_1450_5_1450_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_5_1450_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_1448_16_1448_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1448_16_1448_18&#39;)"><span class="hl_varref"><span class="mpre">a0</span></span></a><span class="mpre"> </span><a href="#loc_1448_19_1448_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1448_19_1448_21&#39;)"><span class="hl_varref"><span class="mpre">b0</span></span></a><span class="mpre"> [])
  where
    </span><a name="loc_1450_5_1450_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_5_1450_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_1450_8_1450_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_8_1450_10&#39;)"><span class="hl_specname"><span class="mpre">t0</span></span></a><span class="mpre">@(</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_1450_18_1450_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_18_1450_19&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> </span><a name="loc_1450_20_1450_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_20_1450_22&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) </span><a name="loc_1450_24_1450_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_24_1450_26&#39;)"><span class="hl_specname"><span class="mpre">t1</span></span></a><span class="mpre">@(</span><a href="Data.Text.Internal.Lazy.html#loc_48_13_48_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_48_13_48_18&#39;)"><span class="hl_conref"><span class="mpre">Chunk</span></span></a><span class="mpre"> </span><a name="loc_1450_34_1450_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_34_1450_35&#39;)"><span class="hl_vardecl"><span class="mpre">y</span></span></a><span class="mpre"> </span><a name="loc_1450_36_1450_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_36_1450_38&#39;)"><span class="hl_vardecl"><span class="mpre">ys</span></span></a><span class="mpre">) </span><a name="loc_1450_40_1450_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_40_1450_42&#39;)"><span class="hl_vardecl"><span class="mpre">ps</span></span></a><span class="mpre">
        = case </span><a href="Data.Text.html#loc_1614_1_1614_15" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_1614_1_1614_15&#39;)"><span class="hl_varref"><span class="mpre">T.commonPrefixes</span></span></a><span class="mpre"> </span><a href="#loc_1450_18_1450_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_18_1450_19&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="#loc_1450_34_1450_35" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_34_1450_35&#39;)"><span class="hl_varref"><span class="mpre">y</span></span></a><span class="mpre"> of
            </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><a name="loc_1452_19_1452_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1452_19_1452_20&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre">,</span><a name="loc_1452_21_1452_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1452_21_1452_22&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre">,</span><a name="loc_1452_23_1452_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1452_23_1452_24&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre">)
              | </span><a href="Data.Text.html#loc_531_1_531_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_531_1_531_5&#39;)"><span class="hl_varref"><span class="mpre">T.null</span></span></a><span class="mpre"> </span><a href="#loc_1452_21_1452_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1452_21_1452_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">  -&gt; </span><a href="#loc_1450_5_1450_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_5_1450_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><a href="#loc_1450_20_1450_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_20_1450_22&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_83_1_83_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_83_1_83_6&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre"> </span><a href="#loc_1452_23_1452_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1452_23_1452_24&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_1450_36_1450_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_36_1450_38&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">) (</span><a href="#loc_1452_19_1452_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1452_19_1452_20&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_1450_40_1450_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_40_1450_42&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">)
              | </span><a href="Data.Text.html#loc_531_1_531_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_531_1_531_5&#39;)"><span class="hl_varref"><span class="mpre">T.null</span></span></a><span class="mpre"> </span><a href="#loc_1452_23_1452_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1452_23_1452_24&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">  -&gt; </span><a href="#loc_1450_5_1450_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_5_1450_7&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.html#loc_83_1_83_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_83_1_83_6&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre"> </span><a href="#loc_1452_21_1452_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1452_21_1452_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_1450_20_1450_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_20_1450_22&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">) </span><a href="#loc_1450_36_1450_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_36_1450_38&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre"> (</span><a href="#loc_1452_19_1452_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1452_19_1452_20&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_1450_40_1450_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_40_1450_42&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">)
              | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> -&gt; (</span><a href="#loc_385_1_385_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_1_385_11&#39;)"><span class="hl_varref"><span class="mpre">fromChunks</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">L.reverse</span></span><span class="mpre"> (</span><a href="#loc_1452_19_1452_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1452_19_1452_20&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_1450_40_1450_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_40_1450_42&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">)),</span><a href="Data.Text.Internal.Lazy.html#loc_83_1_83_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_83_1_83_6&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre"> </span><a href="#loc_1452_21_1452_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1452_21_1452_22&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_1450_20_1450_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_20_1450_22&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_83_1_83_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_83_1_83_6&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre"> </span><a href="#loc_1452_23_1452_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1452_23_1452_24&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> </span><a href="#loc_1450_36_1450_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_36_1450_38&#39;)"><span class="hl_varref"><span class="mpre">ys</span></span></a><span class="mpre">)
            </span><span class="hl_conref"><span class="mpre">Nothing</span></span><span class="mpre">       -&gt; (</span><a href="#loc_385_1_385_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_1_385_11&#39;)"><span class="hl_varref"><span class="mpre">fromChunks</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">L.reverse</span></span><span class="mpre"> </span><a href="#loc_1450_40_1450_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_40_1450_42&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">),</span><a href="#loc_1450_8_1450_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_8_1450_10&#39;)"><span class="hl_varref"><span class="mpre">t0</span></span></a><span class="mpre">,</span><a href="#loc_1450_24_1450_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_24_1450_26&#39;)"><span class="hl_varref"><span class="mpre">t1</span></span></a><span class="mpre">)
    </span><a href="#loc_1450_5_1450_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1450_5_1450_7&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> </span><a name="loc_1457_8_1457_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1457_8_1457_10&#39;)"><span class="hl_vardecl"><span class="mpre">t0</span></span></a><span class="mpre"> </span><a name="loc_1457_11_1457_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1457_11_1457_13&#39;)"><span class="hl_vardecl"><span class="mpre">t1</span></span></a><span class="mpre"> </span><a name="loc_1457_14_1457_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1457_14_1457_16&#39;)"><span class="hl_vardecl"><span class="mpre">ps</span></span></a><span class="mpre"> = (</span><a href="#loc_385_1_385_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_385_1_385_11&#39;)"><span class="hl_varref"><span class="mpre">fromChunks</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">L.reverse</span></span><span class="mpre"> </span><a href="#loc_1457_14_1457_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1457_14_1457_16&#39;)"><span class="hl_varref"><span class="mpre">ps</span></span></a><span class="mpre">),</span><a href="#loc_1457_8_1457_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1457_8_1457_10&#39;)"><span class="hl_varref"><span class="mpre">t0</span></span></a><span class="mpre">,</span><a href="#loc_1457_11_1457_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1457_11_1457_13&#39;)"><span class="hl_varref"><span class="mpre">t1</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ Return the prefix of the second string if its suffix</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- matches the entire first string.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Examples:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; stripSuffix &quot;bar&quot; &quot;foobar&quot; == Just &quot;foo&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; stripSuffix &quot;&quot;    &quot;baz&quot;    == Just &quot;baz&quot;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; stripSuffix &quot;foo&quot; &quot;quux&quot;   == Nothing</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- This is particularly useful with the @ViewPatterns@ extension to</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- GHC, as follows:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; {-# LANGUAGE ViewPatterns #-}</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; import Data.Text.Lazy as T</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; quuxLength :: Text -&gt; Int</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; quuxLength (stripSuffix &quot;quux&quot; -&gt; Just pre) = T.length pre</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; quuxLength _                                = -1</span></span><span class="mpre">
</span><a href="#loc_1478_1_1478_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1478_1_1478_12&#39;)"><span class="mpre">stripSuffix</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_1478_1_1478_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1478_1_1478_12&#39;)"><span class="hl_fundecl"><span class="mpre">stripSuffix</span></span></a><span class="mpre"> </span><a name="loc_1478_13_1478_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1478_13_1478_14&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a name="loc_1478_15_1478_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1478_15_1478_16&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="#loc_640_1_640_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_640_1_640_8&#39;)"><span class="hl_varref"><span class="mpre">reverse</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">`fmap`</span></span><span class="mpre"> </span><a href="#loc_1427_1_1427_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1427_1_1427_12&#39;)"><span class="hl_varref"><span class="mpre">stripPrefix</span></span></a><span class="mpre"> (</span><a href="#loc_640_1_640_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_640_1_640_8&#39;)"><span class="hl_varref"><span class="mpre">reverse</span></span></a><span class="mpre"> </span><a href="#loc_1478_13_1478_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1478_13_1478_14&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">) (</span><a href="#loc_640_1_640_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_640_1_640_8&#39;)"><span class="hl_varref"><span class="mpre">reverse</span></span></a><span class="mpre"> </span><a href="#loc_1478_15_1478_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1478_15_1478_16&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;filter&#39;, applied to a predicate and a &#39;Text&#39;,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- returns a &#39;Text&#39; containing those characters that satisfy the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- predicate.</span></span><span class="mpre">
</span><a href="#loc_1484_1_1484_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1484_1_1484_7&#39;)"><span class="mpre">filter</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_1484_1_1484_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1484_1_1484_7&#39;)"><span class="hl_fundecl"><span class="mpre">filter</span></span></a><span class="mpre"> </span><a name="loc_1484_8_1484_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1484_8_1484_9&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a name="loc_1484_10_1484_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1484_10_1484_11&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9&#39;)"><span class="hl_varref"><span class="mpre">unstream</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Common.html#loc_875_1_875_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_875_1_875_7&#39;)"><span class="hl_varref"><span class="mpre">S.filter</span></span></a><span class="mpre"> </span><a href="#loc_1484_8_1484_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1484_8_1484_9&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_1484_10_1484_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1484_10_1484_11&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">))
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1484_1_1484_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1484_1_1484_7&#39;)"><span class="mpre">filter</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ The &#39;find&#39; function takes a predicate and a &#39;Text&#39;, and</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- returns the first element in matching the predicate, or &#39;Nothing&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- if there is no such element.</span></span><span class="mpre">
</span><a href="#loc_1491_1_1491_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1491_1_1491_5&#39;)"><span class="mpre">find</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_1491_1_1491_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1491_1_1491_5&#39;)"><span class="hl_fundecl"><span class="mpre">find</span></span></a><span class="mpre"> </span><a name="loc_1491_6_1491_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1491_6_1491_7&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a name="loc_1491_8_1491_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1491_8_1491_9&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Common.html#loc_849_1_849_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_849_1_849_7&#39;)"><span class="hl_varref"><span class="mpre">S.findBy</span></span></a><span class="mpre"> </span><a href="#loc_1491_6_1491_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1491_6_1491_7&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_1491_8_1491_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1491_8_1491_9&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1491_1_1491_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1491_1_1491_5&#39;)"><span class="mpre">find</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ The &#39;partition&#39; function takes a predicate and a &#39;Text&#39;,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and returns the pair of &#39;Text&#39;s with elements which do and do not</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- satisfy the predicate, respectively; i.e.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; partition p t == (filter p t, filter (not . p) t)</span></span><span class="mpre">
</span><a href="#loc_1500_1_1500_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1500_1_1500_10&#39;)"><span class="mpre">partition</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; (</span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">, </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">)
</span><a name="loc_1500_1_1500_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1500_1_1500_10&#39;)"><span class="hl_fundecl"><span class="mpre">partition</span></span></a><span class="mpre"> </span><a name="loc_1500_11_1500_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1500_11_1500_12&#39;)"><span class="hl_vardecl"><span class="mpre">p</span></span></a><span class="mpre"> </span><a name="loc_1500_13_1500_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1500_13_1500_14&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = (</span><a href="#loc_1484_1_1484_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1484_1_1484_7&#39;)"><span class="hl_varref"><span class="mpre">filter</span></span></a><span class="mpre"> </span><a href="#loc_1500_11_1500_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1500_11_1500_12&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre"> </span><a href="#loc_1500_13_1500_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1500_13_1500_14&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">, </span><a href="#loc_1484_1_1484_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1484_1_1484_7&#39;)"><span class="hl_varref"><span class="mpre">filter</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_1500_11_1500_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1500_11_1500_12&#39;)"><span class="hl_varref"><span class="mpre">p</span></span></a><span class="mpre">) </span><a href="#loc_1500_13_1500_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1500_13_1500_14&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1500_1_1500_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1500_1_1500_10&#39;)"><span class="mpre">partition</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;Text&#39; index (subscript) operator, starting from 0.</span></span><span class="mpre">
</span><a href="#loc_1505_1_1505_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1505_1_1505_6&#39;)"><span class="mpre">index</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_1505_1_1505_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1505_1_1505_6&#39;)"><span class="hl_fundecl"><span class="mpre">index</span></span></a><span class="mpre"> </span><a name="loc_1505_7_1505_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1505_7_1505_8&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> </span><a name="loc_1505_9_1505_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1505_9_1505_10&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_113_1_113_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_113_1_113_6&#39;)"><span class="hl_varref"><span class="mpre">S.index</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_1505_7_1505_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1505_7_1505_8&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">) </span><a href="#loc_1505_9_1505_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1505_9_1505_10&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_1505_1_1505_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1505_1_1505_6&#39;)"><span class="mpre">index</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n+m)/ The &#39;count&#39; function returns the number of times the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- query string appears in the given &#39;Text&#39;. An empty query string is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- invalid, and will cause an error to be raised.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- In (unlikely) bad cases, this function&#39;s time complexity degrades</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- towards /O(n*m)/.</span></span><span class="mpre">
</span><a href="#loc_1515_1_1515_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1515_1_1515_6&#39;)"><span class="mpre">count</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre">
</span><a name="loc_1515_1_1515_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1515_1_1515_6&#39;)"><span class="hl_fundecl"><span class="mpre">count</span></span></a><span class="mpre"> </span><a name="loc_1515_7_1515_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1515_7_1515_10&#39;)"><span class="hl_vardecl"><span class="mpre">pat</span></span></a><span class="mpre"> </span><a name="loc_1515_11_1515_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1515_11_1515_14&#39;)"><span class="hl_vardecl"><span class="mpre">src</span></span></a><span class="mpre">
    | </span><a href="#loc_493_1_493_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_493_1_493_5&#39;)"><span class="hl_varref"><span class="mpre">null</span></span></a><span class="mpre"> </span><a href="#loc_1515_7_1515_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1515_7_1515_10&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre">        = </span><a href="#loc_1552_1_1552_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1552_1_1552_11&#39;)"><span class="hl_varref"><span class="mpre">emptyError</span></span></a><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;count&quot;</span></span><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre">       = </span><a href="#loc_1518_9_1518_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1518_9_1518_11&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Search.html#loc_45_1_45_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Search.html#loc_45_1_45_8&#39;)"><span class="hl_varref"><span class="mpre">indices</span></span></a><span class="mpre"> </span><a href="#loc_1515_7_1515_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1515_7_1515_10&#39;)"><span class="hl_varref"><span class="mpre">pat</span></span></a><span class="mpre"> </span><a href="#loc_1515_11_1515_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1515_11_1515_14&#39;)"><span class="hl_varref"><span class="mpre">src</span></span></a><span class="mpre">)
  where </span><a name="loc_1518_9_1518_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1518_9_1518_11&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> !</span><a name="loc_1518_13_1518_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1518_13_1518_14&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> []     = </span><a href="#loc_1518_13_1518_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1518_13_1518_14&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="mpre">
        </span><a href="#loc_1518_9_1518_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1518_9_1518_11&#39;)"><span class="hl_fundecl"><span class="mpre">go</span></span></a><span class="mpre"> !</span><a name="loc_1519_13_1519_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1519_13_1519_14&#39;)"><span class="hl_vardecl"><span class="mpre">n</span></span></a><span class="mpre"> (_</span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_1519_18_1519_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1519_18_1519_20&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) = </span><a href="#loc_1518_9_1518_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1518_9_1518_11&#39;)"><span class="hl_varref"><span class="mpre">go</span></span></a><span class="mpre"> (</span><a href="#loc_1519_13_1519_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1519_13_1519_14&#39;)"><span class="hl_varref"><span class="mpre">n</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><a href="#loc_1519_18_1519_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1519_18_1519_20&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [1] </span><a href="#loc_1515_1_1515_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1515_1_1515_6&#39;)"><span class="mpre">count</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_pragma"><span class="mpre">{-# RULES
&quot;LAZY TEXT count/singleton -&gt; countChar&quot; [~1] forall c t.
    count (singleton c) t = countChar c t
  #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ The &#39;countChar&#39; function returns the number of times the</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- query element appears in the given &#39;Text&#39;.  Subject to fusion.</span></span><span class="mpre">
</span><a href="#loc_1530_1_1530_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1530_1_1530_10&#39;)"><span class="mpre">countChar</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="GHC.Int.html#loc_551_30_551_35" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.Int.html#loc_551_30_551_35&#39;)"><span class="hl_tyconref"><span class="mpre">Int64</span></span></a><span class="mpre">
</span><a name="loc_1530_1_1530_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1530_1_1530_10&#39;)"><span class="hl_fundecl"><span class="mpre">countChar</span></span></a><span class="mpre"> </span><a name="loc_1530_11_1530_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1530_11_1530_12&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> </span><a name="loc_1530_13_1530_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1530_13_1530_14&#39;)"><span class="hl_vardecl"><span class="mpre">t</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_119_1_119_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_119_1_119_10&#39;)"><span class="hl_varref"><span class="mpre">S.countChar</span></span></a><span class="mpre"> </span><a href="#loc_1530_11_1530_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1530_11_1530_12&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_1530_13_1530_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1530_13_1530_14&#39;)"><span class="hl_varref"><span class="mpre">t</span></span></a><span class="mpre">)

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;zip&#39; takes two &#39;Text&#39;s and returns a list of</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- corresponding pairs of bytes. If one input &#39;Text&#39; is short,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- excess elements of the longer &#39;Text&#39; are discarded. This is</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- equivalent to a pair of &#39;unpack&#39; operations.</span></span><span class="mpre">
</span><a href="#loc_1537_1_1537_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1537_1_1537_4&#39;)"><span class="mpre">zip</span></a><span class="mpre"> :: </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; [(</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">)]
</span><a name="loc_1537_1_1537_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1537_1_1537_4&#39;)"><span class="hl_fundecl"><span class="mpre">zip</span></span></a><span class="mpre"> </span><a name="loc_1537_5_1537_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1537_5_1537_6&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_1537_7_1537_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1537_7_1537_8&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Fusion.Common.html#loc_135_1_135_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_135_1_135_13&#39;)"><span class="hl_varref"><span class="mpre">S.unstreamList</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Fusion.Common.html#loc_917_1_917_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_917_1_917_8&#39;)"><span class="hl_varref"><span class="mpre">S.zipWith</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">(,)</span></span><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_1537_5_1537_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1537_5_1537_6&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre">) (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_1537_7_1537_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1537_7_1537_8&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [0] </span><a href="#loc_1537_1_1537_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1537_1_1537_4&#39;)"><span class="mpre">zip</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /O(n)/ &#39;zipWith&#39; generalises &#39;zip&#39; by zipping with the function</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- given as the first argument, instead of a tupling function.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Performs replacement on invalid scalar values.</span></span><span class="mpre">
</span><a href="#loc_1544_1_1544_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1544_1_1544_8&#39;)"><span class="mpre">zipWith</span></a><span class="mpre"> :: (</span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">) -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre"> -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_1544_1_1544_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1544_1_1544_8&#39;)"><span class="hl_fundecl"><span class="mpre">zipWith</span></span></a><span class="mpre"> </span><a name="loc_1544_9_1544_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1544_9_1544_10&#39;)"><span class="hl_vardecl"><span class="mpre">f</span></span></a><span class="mpre"> </span><a name="loc_1544_11_1544_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1544_11_1544_13&#39;)"><span class="hl_vardecl"><span class="mpre">t1</span></span></a><span class="mpre"> </span><a name="loc_1544_14_1544_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1544_14_1544_16&#39;)"><span class="hl_vardecl"><span class="mpre">t2</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_92_1_92_9&#39;)"><span class="hl_varref"><span class="mpre">unstream</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Fusion.Common.html#loc_917_1_917_8" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Fusion.Common.html#loc_917_1_917_8&#39;)"><span class="hl_varref"><span class="mpre">S.zipWith</span></span></a><span class="mpre"> </span><a href="#loc_1545_11_1545_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1545_11_1545_12&#39;)"><span class="hl_varref"><span class="mpre">g</span></span></a><span class="mpre"> (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_1544_11_1544_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1544_11_1544_13&#39;)"><span class="hl_varref"><span class="mpre">t1</span></span></a><span class="mpre">) (</span><a href="Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.Fusion.html#loc_45_1_45_7&#39;)"><span class="hl_varref"><span class="mpre">stream</span></span></a><span class="mpre"> </span><a href="#loc_1544_14_1544_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1544_14_1544_16&#39;)"><span class="hl_varref"><span class="mpre">t2</span></span></a><span class="mpre">))
    where </span><a name="loc_1545_11_1545_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1545_11_1545_12&#39;)"><span class="hl_fundecl"><span class="mpre">g</span></span></a><span class="mpre"> </span><a name="loc_1545_13_1545_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1545_13_1545_14&#39;)"><span class="hl_vardecl"><span class="mpre">a</span></span></a><span class="mpre"> </span><a name="loc_1545_15_1545_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1545_15_1545_16&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> = </span><a href="Data.Text.Internal.html#loc_101_1_101_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_101_1_101_5&#39;)"><span class="hl_varref"><span class="mpre">safe</span></span></a><span class="mpre"> (</span><a href="#loc_1544_9_1544_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1544_9_1544_10&#39;)"><span class="hl_varref"><span class="mpre">f</span></span></a><span class="mpre"> </span><a href="#loc_1545_13_1545_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1545_13_1545_14&#39;)"><span class="hl_varref"><span class="mpre">a</span></span></a><span class="mpre"> </span><a href="#loc_1545_15_1545_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1545_15_1545_16&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre">)
</span><span class="hl_pragma"><span class="mpre">{-# INLINE [0] </span><a href="#loc_1544_1_1544_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1544_1_1544_8&#39;)"><span class="mpre">zipWith</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_1549_1_1549_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1549_1_1549_10&#39;)"><span class="mpre">revChunks</span></a><span class="mpre"> :: [</span><a href="Data.Text.Internal.html#loc_50_6_50_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.html#loc_50_6_50_10&#39;)"><span class="hl_tyconref"><span class="mpre">T.Text</span></span></a><span class="mpre">] -&gt; </span><a href="Data.Text.Internal.Lazy.html#loc_47_6_47_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_6_47_10&#39;)"><span class="hl_tyconref"><span class="mpre">Text</span></span></a><span class="mpre">
</span><a name="loc_1549_1_1549_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1549_1_1549_10&#39;)"><span class="hl_vardecl"><span class="mpre">revChunks</span></span></a><span class="mpre"> = </span><a href="Data.List.html#loc_993_1_993_7" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_993_1_993_7&#39;)"><span class="hl_varref"><span class="mpre">L.foldl&#39;</span></span></a><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">flip</span></span><span class="mpre"> </span><a href="Data.Text.Internal.Lazy.html#loc_83_1_83_6" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_83_1_83_6&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre">) </span><a href="Data.Text.Internal.Lazy.html#loc_47_13_47_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Internal.Lazy.html#loc_47_13_47_18&#39;)"><span class="hl_conref"><span class="mpre">Empty</span></span></a><span class="mpre">

</span><a href="#loc_1552_1_1552_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1552_1_1552_11&#39;)"><span class="mpre">emptyError</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_1552_1_1552_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1552_1_1552_11&#39;)"><span class="hl_fundecl"><span class="mpre">emptyError</span></span></a><span class="mpre"> </span><a name="loc_1552_12_1552_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1552_12_1552_15&#39;)"><span class="hl_vardecl"><span class="mpre">fun</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">P.error</span></span><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;Data.Text.Lazy.&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_1552_12_1552_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1552_12_1552_15&#39;)"><span class="hl_varref"><span class="mpre">fun</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;: empty input&quot;</span></span><span class="mpre">)

</span><a href="#loc_1555_1_1555_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1555_1_1555_16&#39;)"><span class="mpre">impossibleError</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; </span><span class="hl_tyvar"><span class="mpre">a</span></span><span class="mpre">
</span><a name="loc_1555_1_1555_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1555_1_1555_16&#39;)"><span class="hl_fundecl"><span class="mpre">impossibleError</span></span></a><span class="mpre"> </span><a name="loc_1555_17_1555_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1555_17_1555_20&#39;)"><span class="hl_vardecl"><span class="mpre">fun</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">P.error</span></span><span class="mpre"> (</span><span class="hl_string"><span class="mpre">&quot;Data.Text.Lazy.&quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><a href="#loc_1555_17_1555_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_1555_17_1555_20&#39;)"><span class="hl_varref"><span class="mpre">fun</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;: impossible case&quot;</span></span><span class="mpre">)
</span></div></body></html>