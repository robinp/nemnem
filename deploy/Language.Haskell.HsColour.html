<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="hl_comment"><span class="mpre">-- | This is a library which colourises Haskell code.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--   It currently has six output formats:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * ANSI terminal codes</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * LaTeX macros</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * HTML 3.2 with font tags</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * HTML 4.01 with external CSS.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * XHTML 1.0 with internal CSS.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- * mIRC chat client colour codes.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
module Language.Haskell.HsColour (Output(..), ColourPrefs(..),
                                  hscolour) where

import Language.Haskell.HsColour.Colourise  (</span><a href="Language.Haskell.HsColour.Colourise.html#loc_20_6_20_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Colourise.html#loc_20_6_20_17&#39;)"><span class="mpre">ColourPrefs</span></a><span class="mpre">(..))
import qualified Language.Haskell.HsColour.TTY        as TTY
import qualified Language.Haskell.HsColour.HTML       as HTML
import qualified Language.Haskell.HsColour.CSS        as CSS
import qualified Language.Haskell.HsColour.ACSS       as ACSS 
import qualified Language.Haskell.HsColour.InlineCSS  as ICSS
import qualified Language.Haskell.HsColour.LaTeX      as LaTeX
import qualified Language.Haskell.HsColour.MIRC       as MIRC
import Data.List(</span><a href="Data.List.html#loc_480_1_480_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_480_1_480_10&#39;)"><span class="mpre">mapAccumL</span></a><span class="mpre">, </span><a href="Data.List.html#loc_286_1_286_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_286_1_286_11&#39;)"><span class="mpre">isPrefixOf</span></a><span class="mpre">)
import Data.Maybe
import Language.Haskell.HsColour.Output
</span><span class="hl_comment"><span class="mpre">--import Debug.Trace</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Colourise Haskell source code with the given output format.</span></span><span class="mpre">
</span><a href="#loc_41_1_41_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_1_41_9&#39;)"><span class="mpre">hscolour</span></a><span class="mpre"> :: </span><a href="Language.Haskell.HsColour.Output.html#loc_9_6_9_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Output.html#loc_9_6_9_12&#39;)"><span class="hl_tyconref"><span class="mpre">Output</span></span></a><span class="mpre">      </span><span class="hl_comment"><span class="mpre">-- ^ Output format.</span></span><span class="mpre">
         -&gt; </span><a href="Language.Haskell.HsColour.Colourise.html#loc_20_6_20_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Colourise.html#loc_20_6_20_17&#39;)"><span class="hl_tyconref"><span class="mpre">ColourPrefs</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ Colour preferences (for formats that support them).</span></span><span class="mpre">
         -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">        </span><span class="hl_comment"><span class="mpre">-- ^ Whether to include anchors.</span></span><span class="mpre">
         -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">        </span><span class="hl_comment"><span class="mpre">-- ^ Whether output document is partial or complete.</span></span><span class="mpre">
         -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">        </span><span class="hl_comment"><span class="mpre">-- ^ Title for output.</span></span><span class="mpre">
         -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">        </span><span class="hl_comment"><span class="mpre">-- ^ Whether input document is literate haskell or not</span></span><span class="mpre">
         -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">      </span><span class="hl_comment"><span class="mpre">-- ^ Haskell source code.</span></span><span class="mpre">
         -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">      </span><span class="hl_comment"><span class="mpre">-- ^ Coloured Haskell source code.</span></span><span class="mpre">
</span><a name="loc_41_1_41_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_1_41_9&#39;)"><span class="hl_fundecl"><span class="mpre">hscolour</span></span></a><span class="mpre"> </span><a name="loc_41_10_41_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_10_41_16&#39;)"><span class="hl_vardecl"><span class="mpre">output</span></span></a><span class="mpre"> </span><a name="loc_41_17_41_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_17_41_21&#39;)"><span class="hl_vardecl"><span class="mpre">pref</span></span></a><span class="mpre"> </span><a name="loc_41_22_41_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_22_41_28&#39;)"><span class="hl_vardecl"><span class="mpre">anchor</span></span></a><span class="mpre"> </span><a name="loc_41_29_41_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_29_41_36&#39;)"><span class="hl_vardecl"><span class="mpre">partial</span></span></a><span class="mpre"> </span><a name="loc_41_37_41_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_37_41_42&#39;)"><span class="hl_vardecl"><span class="mpre">title</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre"> =
        (if </span><a href="#loc_41_29_41_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_29_41_36&#39;)"><span class="hl_varref"><span class="mpre">partial</span></span></a><span class="mpre"> then </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre"> else </span><a href="#loc_70_1_70_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_1_70_11&#39;)"><span class="hl_varref"><span class="mpre">top&#39;n&#39;tail</span></span></a><span class="mpre"> </span><a href="#loc_41_10_41_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_10_41_16&#39;)"><span class="hl_varref"><span class="mpre">output</span></span></a><span class="mpre"> </span><a href="#loc_41_37_41_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_37_41_42&#39;)"><span class="hl_varref"><span class="mpre">title</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre">
        </span><a href="#loc_57_1_57_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_10&#39;)"><span class="hl_varref"><span class="mpre">hscolour&#39;</span></span></a><span class="mpre"> </span><a href="#loc_41_10_41_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_10_41_16&#39;)"><span class="hl_varref"><span class="mpre">output</span></span></a><span class="mpre"> </span><a href="#loc_41_17_41_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_17_41_21&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre"> </span><a href="#loc_41_22_41_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_22_41_28&#39;)"><span class="hl_varref"><span class="mpre">anchor</span></span></a><span class="mpre">
</span><a href="#loc_41_1_41_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_1_41_9&#39;)"><span class="hl_fundecl"><span class="mpre">hscolour</span></span></a><span class="mpre"> </span><a name="loc_44_10_44_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_10_44_16&#39;)"><span class="hl_vardecl"><span class="mpre">output</span></span></a><span class="mpre"> </span><a name="loc_44_17_44_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_17_44_21&#39;)"><span class="hl_vardecl"><span class="mpre">pref</span></span></a><span class="mpre"> </span><a name="loc_44_22_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_22_44_28&#39;)"><span class="hl_vardecl"><span class="mpre">anchor</span></span></a><span class="mpre"> </span><a name="loc_44_29_44_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_29_44_36&#39;)"><span class="hl_vardecl"><span class="mpre">partial</span></span></a><span class="mpre"> </span><a name="loc_44_37_44_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_37_44_42&#39;)"><span class="hl_vardecl"><span class="mpre">title</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">  =
        (if </span><a href="#loc_44_29_44_36" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_29_44_36&#39;)"><span class="hl_varref"><span class="mpre">partial</span></span></a><span class="mpre"> then </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre"> else </span><a href="#loc_70_1_70_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_1_70_11&#39;)"><span class="hl_varref"><span class="mpre">top&#39;n&#39;tail</span></span></a><span class="mpre"> </span><a href="#loc_44_10_44_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_10_44_16&#39;)"><span class="hl_varref"><span class="mpre">output</span></span></a><span class="mpre"> </span><a href="#loc_44_37_44_42" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_37_44_42&#39;)"><span class="hl_varref"><span class="mpre">title</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre">
        </span><span class="hl_varref"><span class="mpre">concatMap</span></span><span class="mpre"> </span><a href="#loc_48_5_48_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_5_48_10&#39;)"><span class="hl_varref"><span class="mpre">chunk</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_110_1_110_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_1_110_6&#39;)"><span class="hl_varref"><span class="mpre">joinL</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_97_1_97_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_9&#39;)"><span class="hl_varref"><span class="mpre">classify</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> </span><a href="#loc_86_1_86_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_8&#39;)"><span class="hl_varref"><span class="mpre">inlines</span></span></a><span class="mpre">
  where
    </span><a name="loc_48_5_48_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_5_48_10&#39;)"><span class="hl_fundecl"><span class="mpre">chunk</span></span></a><span class="mpre"> (</span><a href="#loc_80_12_80_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_12_80_16&#39;)"><span class="hl_conref"><span class="mpre">Code</span></span></a><span class="mpre"> </span><a name="loc_48_17_48_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_17_48_18&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">) = </span><a href="#loc_57_1_57_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_10&#39;)"><span class="hl_varref"><span class="mpre">hscolour&#39;</span></span></a><span class="mpre"> </span><a href="#loc_44_10_44_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_10_44_16&#39;)"><span class="hl_varref"><span class="mpre">output</span></span></a><span class="mpre"> </span><a href="#loc_44_17_44_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_17_44_21&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre"> </span><a href="#loc_44_22_44_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_22_44_28&#39;)"><span class="hl_varref"><span class="mpre">anchor</span></span></a><span class="mpre"> </span><a href="#loc_48_17_48_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_17_48_18&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
    </span><a href="#loc_48_5_48_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_48_5_48_10&#39;)"><span class="hl_fundecl"><span class="mpre">chunk</span></span></a><span class="mpre"> (</span><a href="#loc_80_35_80_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_35_80_38&#39;)"><span class="hl_conref"><span class="mpre">Lit</span></span></a><span class="mpre"> </span><a name="loc_49_16_49_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_16_49_17&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">)  = </span><a href="#loc_49_16_49_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_49_16_49_17&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | The actual colourising worker, despatched on the chosen output format.</span></span><span class="mpre">
</span><a href="#loc_57_1_57_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_10&#39;)"><span class="mpre">hscolour&#39;</span></a><span class="mpre"> :: </span><a href="Language.Haskell.HsColour.Output.html#loc_9_6_9_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Output.html#loc_9_6_9_12&#39;)"><span class="hl_tyconref"><span class="mpre">Output</span></span></a><span class="mpre">      </span><span class="hl_comment"><span class="mpre">-- ^ Output format.</span></span><span class="mpre">
          -&gt; </span><a href="Language.Haskell.HsColour.Colourise.html#loc_20_6_20_17" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Colourise.html#loc_20_6_20_17&#39;)"><span class="hl_tyconref"><span class="mpre">ColourPrefs</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ Colour preferences (for formats that support them)</span></span><span class="mpre">
          -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">        </span><span class="hl_comment"><span class="mpre">-- ^ Whether to include anchors.</span></span><span class="mpre">
          -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">      </span><span class="hl_comment"><span class="mpre">-- ^ Haskell source code.</span></span><span class="mpre">
          -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">      </span><span class="hl_comment"><span class="mpre">-- ^ Coloured Haskell source code.</span></span><span class="mpre">
</span><a name="loc_57_1_57_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_10&#39;)"><span class="hl_fundecl"><span class="mpre">hscolour&#39;</span></span></a><span class="mpre"> </span><a href="Language.Haskell.HsColour.Output.html#loc_9_15_9_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Output.html#loc_9_15_9_18&#39;)"><span class="hl_conref"><span class="mpre">TTY</span></span></a><span class="mpre">       </span><a name="loc_57_21_57_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_21_57_25&#39;)"><span class="hl_vardecl"><span class="mpre">pref</span></span></a><span class="mpre"> _      = </span><a href="Language.Haskell.HsColour.TTY.html#loc_13_1_13_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.TTY.html#loc_13_1_13_9&#39;)"><span class="hl_varref"><span class="mpre">TTY.hscolour</span></span></a><span class="mpre">     </span><a href="#loc_57_21_57_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_21_57_25&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre">
</span><a href="#loc_57_1_57_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_10&#39;)"><span class="hl_fundecl"><span class="mpre">hscolour&#39;</span></span></a><span class="mpre"> (</span><a href="Language.Haskell.HsColour.Output.html#loc_10_15_10_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Output.html#loc_10_15_10_19&#39;)"><span class="hl_conref"><span class="mpre">TTYg</span></span></a><span class="mpre"> </span><a name="loc_58_17_58_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_17_58_19&#39;)"><span class="hl_vardecl"><span class="mpre">tt</span></span></a><span class="mpre">) </span><a name="loc_58_21_58_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_21_58_25&#39;)"><span class="hl_vardecl"><span class="mpre">pref</span></span></a><span class="mpre"> _      = </span><a href="Language.Haskell.HsColour.TTY.html#loc_16_1_16_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.TTY.html#loc_16_1_16_10&#39;)"><span class="hl_varref"><span class="mpre">TTY.hscolourG</span></span></a><span class="mpre"> </span><a href="#loc_58_17_58_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_17_58_19&#39;)"><span class="hl_varref"><span class="mpre">tt</span></span></a><span class="mpre"> </span><a href="#loc_58_21_58_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_58_21_58_25&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre">
</span><a href="#loc_57_1_57_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_10&#39;)"><span class="hl_fundecl"><span class="mpre">hscolour&#39;</span></span></a><span class="mpre"> </span><a href="Language.Haskell.HsColour.Output.html#loc_16_15_16_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Output.html#loc_16_15_16_19&#39;)"><span class="hl_conref"><span class="mpre">MIRC</span></span></a><span class="mpre">      </span><a name="loc_59_21_59_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_21_59_25&#39;)"><span class="hl_vardecl"><span class="mpre">pref</span></span></a><span class="mpre"> _      = </span><a href="Language.Haskell.HsColour.MIRC.html#loc_15_1_15_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.MIRC.html#loc_15_1_15_9&#39;)"><span class="hl_varref"><span class="mpre">MIRC.hscolour</span></span></a><span class="mpre">    </span><a href="#loc_59_21_59_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_59_21_59_25&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre">
</span><a href="#loc_57_1_57_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_10&#39;)"><span class="hl_fundecl"><span class="mpre">hscolour&#39;</span></span></a><span class="mpre"> </span><a href="Language.Haskell.HsColour.Output.html#loc_11_15_11_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Output.html#loc_11_15_11_20&#39;)"><span class="hl_conref"><span class="mpre">LaTeX</span></span></a><span class="mpre">     </span><a name="loc_60_21_60_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_21_60_25&#39;)"><span class="hl_vardecl"><span class="mpre">pref</span></span></a><span class="mpre"> _      = </span><a href="Language.Haskell.HsColour.LaTeX.html#loc_13_1_13_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.LaTeX.html#loc_13_1_13_9&#39;)"><span class="hl_varref"><span class="mpre">LaTeX.hscolour</span></span></a><span class="mpre">   </span><a href="#loc_60_21_60_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_60_21_60_25&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre">
</span><a href="#loc_57_1_57_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_10&#39;)"><span class="hl_fundecl"><span class="mpre">hscolour&#39;</span></span></a><span class="mpre"> </span><a href="Language.Haskell.HsColour.Output.html#loc_12_15_12_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Output.html#loc_12_15_12_19&#39;)"><span class="hl_conref"><span class="mpre">HTML</span></span></a><span class="mpre">      </span><a name="loc_61_21_61_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_21_61_25&#39;)"><span class="hl_vardecl"><span class="mpre">pref</span></span></a><span class="mpre"> </span><a name="loc_61_26_61_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_26_61_32&#39;)"><span class="hl_vardecl"><span class="mpre">anchor</span></span></a><span class="mpre"> = </span><a href="Language.Haskell.HsColour.HTML.html#loc_22_1_22_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.HTML.html#loc_22_1_22_9&#39;)"><span class="hl_varref"><span class="mpre">HTML.hscolour</span></span></a><span class="mpre">    </span><a href="#loc_61_21_61_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_21_61_25&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre"> </span><a href="#loc_61_26_61_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_26_61_32&#39;)"><span class="hl_varref"><span class="mpre">anchor</span></span></a><span class="mpre">
</span><a href="#loc_57_1_57_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_10&#39;)"><span class="hl_fundecl"><span class="mpre">hscolour&#39;</span></span></a><span class="mpre"> </span><a href="Language.Haskell.HsColour.Output.html#loc_13_15_13_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Output.html#loc_13_15_13_18&#39;)"><span class="hl_conref"><span class="mpre">CSS</span></span></a><span class="mpre">       _    </span><a name="loc_62_26_62_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_26_62_32&#39;)"><span class="hl_vardecl"><span class="mpre">anchor</span></span></a><span class="mpre"> = </span><a href="Language.Haskell.HsColour.CSS.html#loc_19_1_19_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.CSS.html#loc_19_1_19_9&#39;)"><span class="hl_varref"><span class="mpre">CSS.hscolour</span></span></a><span class="mpre">          </span><a href="#loc_62_26_62_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_62_26_62_32&#39;)"><span class="hl_varref"><span class="mpre">anchor</span></span></a><span class="mpre">
</span><a href="#loc_57_1_57_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_10&#39;)"><span class="hl_fundecl"><span class="mpre">hscolour&#39;</span></span></a><span class="mpre"> </span><a href="Language.Haskell.HsColour.Output.html#loc_15_15_15_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Output.html#loc_15_15_15_19&#39;)"><span class="hl_conref"><span class="mpre">ICSS</span></span></a><span class="mpre">      </span><a name="loc_63_21_63_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_21_63_25&#39;)"><span class="hl_vardecl"><span class="mpre">pref</span></span></a><span class="mpre"> </span><a name="loc_63_26_63_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_26_63_32&#39;)"><span class="hl_vardecl"><span class="mpre">anchor</span></span></a><span class="mpre"> = </span><a href="Language.Haskell.HsColour.InlineCSS.html#loc_17_1_17_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.InlineCSS.html#loc_17_1_17_9&#39;)"><span class="hl_varref"><span class="mpre">ICSS.hscolour</span></span></a><span class="mpre">    </span><a href="#loc_63_21_63_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_21_63_25&#39;)"><span class="hl_varref"><span class="mpre">pref</span></span></a><span class="mpre"> </span><a href="#loc_63_26_63_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_63_26_63_32&#39;)"><span class="hl_varref"><span class="mpre">anchor</span></span></a><span class="mpre">
</span><a href="#loc_57_1_57_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_10&#39;)"><span class="hl_fundecl"><span class="mpre">hscolour&#39;</span></span></a><span class="mpre"> </span><a href="Language.Haskell.HsColour.Output.html#loc_14_15_14_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Output.html#loc_14_15_14_19&#39;)"><span class="hl_conref"><span class="mpre">ACSS</span></span></a><span class="mpre">      _    </span><a name="loc_64_26_64_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_26_64_32&#39;)"><span class="hl_vardecl"><span class="mpre">anchor</span></span></a><span class="mpre"> = </span><a href="Language.Haskell.HsColour.ACSS.html#loc_32_1_32_9" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.ACSS.html#loc_32_1_32_9&#39;)"><span class="hl_varref"><span class="mpre">ACSS.hscolour</span></span></a><span class="mpre">         </span><a href="#loc_64_26_64_32" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_64_26_64_32&#39;)"><span class="hl_varref"><span class="mpre">anchor</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Choose the right headers\/footers, depending on the output format.</span></span><span class="mpre">
</span><a href="#loc_70_1_70_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_1_70_11&#39;)"><span class="mpre">top&#39;n&#39;tail</span></a><span class="mpre"> :: </span><a href="Language.Haskell.HsColour.Output.html#loc_9_6_9_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Output.html#loc_9_6_9_12&#39;)"><span class="hl_tyconref"><span class="mpre">Output</span></span></a><span class="mpre">           </span><span class="hl_comment"><span class="mpre">-- ^ Output format</span></span><span class="mpre">
           -&gt; </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">           </span><span class="hl_comment"><span class="mpre">-- ^ Title for output</span></span><span class="mpre">
           -&gt; (</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">-&gt;</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">) </span><span class="hl_comment"><span class="mpre">-- ^ Output transformer</span></span><span class="mpre">
</span><a name="loc_70_1_70_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_1_70_11&#39;)"><span class="hl_fundecl"><span class="mpre">top&#39;n&#39;tail</span></span></a><span class="mpre"> </span><a href="Language.Haskell.HsColour.Output.html#loc_9_15_9_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Output.html#loc_9_15_9_18&#39;)"><span class="hl_conref"><span class="mpre">TTY</span></span></a><span class="mpre">   _     = </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">
</span><a href="#loc_70_1_70_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_1_70_11&#39;)"><span class="hl_fundecl"><span class="mpre">top&#39;n&#39;tail</span></span></a><span class="mpre"> (</span><a href="Language.Haskell.HsColour.Output.html#loc_10_15_10_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Output.html#loc_10_15_10_19&#39;)"><span class="hl_conref"><span class="mpre">TTYg</span></span></a><span class="mpre"> _) _  = </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">
</span><a href="#loc_70_1_70_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_1_70_11&#39;)"><span class="hl_fundecl"><span class="mpre">top&#39;n&#39;tail</span></span></a><span class="mpre"> </span><a href="Language.Haskell.HsColour.Output.html#loc_16_15_16_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Output.html#loc_16_15_16_19&#39;)"><span class="hl_conref"><span class="mpre">MIRC</span></span></a><span class="mpre">  _     = </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">
</span><a href="#loc_70_1_70_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_1_70_11&#39;)"><span class="hl_fundecl"><span class="mpre">top&#39;n&#39;tail</span></span></a><span class="mpre"> </span><a href="Language.Haskell.HsColour.Output.html#loc_11_15_11_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Output.html#loc_11_15_11_20&#39;)"><span class="hl_conref"><span class="mpre">LaTeX</span></span></a><span class="mpre"> </span><a name="loc_73_18_73_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_18_73_23&#39;)"><span class="hl_vardecl"><span class="mpre">title</span></span></a><span class="mpre"> = </span><a href="Language.Haskell.HsColour.LaTeX.html#loc_16_1_16_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.LaTeX.html#loc_16_1_16_11&#39;)"><span class="hl_varref"><span class="mpre">LaTeX.top&#39;n&#39;tail</span></span></a><span class="mpre"> </span><a href="#loc_73_18_73_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_73_18_73_23&#39;)"><span class="hl_varref"><span class="mpre">title</span></span></a><span class="mpre">
</span><a href="#loc_70_1_70_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_1_70_11&#39;)"><span class="hl_fundecl"><span class="mpre">top&#39;n&#39;tail</span></span></a><span class="mpre"> </span><a href="Language.Haskell.HsColour.Output.html#loc_12_15_12_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Output.html#loc_12_15_12_19&#39;)"><span class="hl_conref"><span class="mpre">HTML</span></span></a><span class="mpre">  </span><a name="loc_74_18_74_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_18_74_23&#39;)"><span class="hl_vardecl"><span class="mpre">title</span></span></a><span class="mpre"> = </span><a href="Language.Haskell.HsColour.HTML.html#loc_31_1_31_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.HTML.html#loc_31_1_31_11&#39;)"><span class="hl_varref"><span class="mpre">HTML.top&#39;n&#39;tail</span></span></a><span class="mpre"> </span><a href="#loc_74_18_74_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_74_18_74_23&#39;)"><span class="hl_varref"><span class="mpre">title</span></span></a><span class="mpre">
</span><a href="#loc_70_1_70_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_1_70_11&#39;)"><span class="hl_fundecl"><span class="mpre">top&#39;n&#39;tail</span></span></a><span class="mpre"> </span><a href="Language.Haskell.HsColour.Output.html#loc_13_15_13_18" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Output.html#loc_13_15_13_18&#39;)"><span class="hl_conref"><span class="mpre">CSS</span></span></a><span class="mpre">   </span><a name="loc_75_18_75_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_18_75_23&#39;)"><span class="hl_vardecl"><span class="mpre">title</span></span></a><span class="mpre"> = </span><a href="Language.Haskell.HsColour.CSS.html#loc_29_1_29_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.CSS.html#loc_29_1_29_11&#39;)"><span class="hl_varref"><span class="mpre">CSS.top&#39;n&#39;tail</span></span></a><span class="mpre">  </span><a href="#loc_75_18_75_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_75_18_75_23&#39;)"><span class="hl_varref"><span class="mpre">title</span></span></a><span class="mpre">
</span><a href="#loc_70_1_70_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_1_70_11&#39;)"><span class="hl_fundecl"><span class="mpre">top&#39;n&#39;tail</span></span></a><span class="mpre"> </span><a href="Language.Haskell.HsColour.Output.html#loc_15_15_15_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Output.html#loc_15_15_15_19&#39;)"><span class="hl_conref"><span class="mpre">ICSS</span></span></a><span class="mpre">  </span><a name="loc_76_18_76_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_18_76_23&#39;)"><span class="hl_vardecl"><span class="mpre">title</span></span></a><span class="mpre"> = </span><a href="Language.Haskell.HsColour.InlineCSS.html#loc_27_1_27_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.InlineCSS.html#loc_27_1_27_11&#39;)"><span class="hl_varref"><span class="mpre">ICSS.top&#39;n&#39;tail</span></span></a><span class="mpre"> </span><a href="#loc_76_18_76_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_76_18_76_23&#39;)"><span class="hl_varref"><span class="mpre">title</span></span></a><span class="mpre">
</span><a href="#loc_70_1_70_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_70_1_70_11&#39;)"><span class="hl_fundecl"><span class="mpre">top&#39;n&#39;tail</span></span></a><span class="mpre"> </span><a href="Language.Haskell.HsColour.Output.html#loc_14_15_14_19" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.Output.html#loc_14_15_14_19&#39;)"><span class="hl_conref"><span class="mpre">ACSS</span></span></a><span class="mpre">  </span><a name="loc_77_18_77_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_18_77_23&#39;)"><span class="hl_vardecl"><span class="mpre">title</span></span></a><span class="mpre"> = </span><a href="Language.Haskell.HsColour.CSS.html#loc_29_1_29_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Language.Haskell.HsColour.CSS.html#loc_29_1_29_11&#39;)"><span class="hl_varref"><span class="mpre">CSS.top&#39;n&#39;tail</span></span></a><span class="mpre">  </span><a href="#loc_77_18_77_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_18_77_23&#39;)"><span class="hl_varref"><span class="mpre">title</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Separating literate files into code\/comment chunks.</span></span><span class="mpre">
data </span><a name="loc_80_6_80_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_6_80_9&#39;)"><span class="hl_tycondecl"><span class="mpre">Lit</span></span></a><span class="mpre"> = </span><a name="loc_80_12_80_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_12_80_16&#39;)"><span class="hl_condecl"><span class="mpre">Code</span></span></a><span class="mpre"> {</span><span class="hl_fielddecl"><span class="mpre">unL</span></span><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">} | </span><a name="loc_80_35_80_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_35_80_38&#39;)"><span class="hl_condecl"><span class="mpre">Lit</span></span></a><span class="mpre"> {</span><span class="hl_fielddecl"><span class="mpre">unL</span></span><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">} </span><span class="warning" data-warning="DataDecl DerivingsDeriving (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hscolour-1.20.3/Language/Haskell/HsColour.hs&quot;, srcSpanStartLine = 80, srcSpanStartColumn = 55, srcSpanEndLine = 80, srcSpanEndColumn = 70}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hscolour-1.20.3/Language/Haskell/HsColour.hs&quot;, srcSpanStartLine = 80, srcSpanStartColumn = 55, srcSpanEndLine = 80, srcSpanEndColumn = 63},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/hscolour-1.20.3/Language/Haskell/Hs"><span class="mpre">deriving (Show)</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- Re-implementation of &#39;lines&#39;, for better efficiency (but decreased laziness).</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Also, importantly, accepts non-standard DOS and Mac line ending characters.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- And retains the trailing &#39;\n&#39; character in each resultant string.</span></span><span class="mpre">
</span><a href="#loc_86_1_86_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_8&#39;)"><span class="mpre">inlines</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre"> -&gt; [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">]
</span><a name="loc_86_1_86_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_1_86_8&#39;)"><span class="hl_fundecl"><span class="mpre">inlines</span></span></a><span class="mpre"> </span><a name="loc_86_9_86_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_9_86_10&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre"> = </span><a href="#loc_88_3_88_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_3_88_9&#39;)"><span class="hl_varref"><span class="mpre">lines&#39;</span></span></a><span class="mpre"> </span><a href="#loc_86_9_86_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_86_9_86_10&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">
  where
  </span><a name="loc_88_3_88_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_3_88_9&#39;)"><span class="hl_fundecl"><span class="mpre">lines&#39;</span></span></a><span class="mpre"> []             </span><a name="loc_88_25_88_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_25_88_28&#39;)"><span class="hl_vardecl"><span class="mpre">acc</span></span></a><span class="mpre"> = [</span><a href="#loc_88_25_88_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_25_88_28&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre"> []]
  </span><a href="#loc_88_3_88_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_3_88_9&#39;)"><span class="hl_fundecl"><span class="mpre">lines&#39;</span></span></a><span class="mpre"> (</span><span class="hl_char"><span class="mpre">&#39;\^M&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><span class="hl_char"><span class="mpre">&#39;\n&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_89_22_89_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_22_89_23&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">) </span><a name="loc_89_25_89_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_25_89_28&#39;)"><span class="hl_vardecl"><span class="mpre">acc</span></span></a><span class="mpre"> = </span><a href="#loc_89_25_89_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_25_89_28&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre"> [</span><span class="hl_char"><span class="mpre">&#39;\n&#39;</span></span><span class="mpre">] </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_88_3_88_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_3_88_9&#39;)"><span class="hl_varref"><span class="mpre">lines&#39;</span></span></a><span class="mpre"> </span><a href="#loc_89_22_89_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_22_89_23&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">        </span><span class="hl_comment"><span class="mpre">-- DOS</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--lines&#39; (&#39;\^M&#39;:s)      acc = acc [&#39;\n&#39;] : lines&#39; s id        -- MacOS</span></span><span class="mpre">
  </span><a href="#loc_88_3_88_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_3_88_9&#39;)"><span class="hl_fundecl"><span class="mpre">lines&#39;</span></span></a><span class="mpre"> (</span><span class="hl_char"><span class="mpre">&#39;\n&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_91_16_91_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_16_91_17&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">)       </span><a name="loc_91_25_91_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_25_91_28&#39;)"><span class="hl_vardecl"><span class="mpre">acc</span></span></a><span class="mpre"> = </span><a href="#loc_91_25_91_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_25_91_28&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre"> [</span><span class="hl_char"><span class="mpre">&#39;\n&#39;</span></span><span class="mpre">] </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_88_3_88_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_3_88_9&#39;)"><span class="hl_varref"><span class="mpre">lines&#39;</span></span></a><span class="mpre"> </span><a href="#loc_91_16_91_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_16_91_17&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">id</span></span><span class="mpre">        </span><span class="hl_comment"><span class="mpre">-- Unix</span></span><span class="mpre">
  </span><a href="#loc_88_3_88_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_3_88_9&#39;)"><span class="hl_fundecl"><span class="mpre">lines&#39;</span></span></a><span class="mpre"> (</span><a name="loc_92_11_92_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_11_92_12&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_92_13_92_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_13_92_14&#39;)"><span class="hl_vardecl"><span class="mpre">s</span></span></a><span class="mpre">)          </span><a name="loc_92_25_92_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_25_92_28&#39;)"><span class="hl_vardecl"><span class="mpre">acc</span></span></a><span class="mpre"> = </span><a href="#loc_88_3_88_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_3_88_9&#39;)"><span class="hl_varref"><span class="mpre">lines&#39;</span></span></a><span class="mpre"> </span><a href="#loc_92_13_92_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_13_92_14&#39;)"><span class="hl_varref"><span class="mpre">s</span></span></a><span class="mpre"> (</span><a href="#loc_92_25_92_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_25_92_28&#39;)"><span class="hl_varref"><span class="mpre">acc</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">.</span></span><span class="mpre"> (</span><a href="#loc_92_11_92_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_92_11_92_12&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre">))


</span><span class="hl_comment"><span class="mpre">-- | The code for classify is largely stolen from Language.Preprocessor.Unlit.</span></span><span class="mpre">
</span><a href="#loc_97_1_97_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_9&#39;)"><span class="mpre">classify</span></a><span class="mpre"> ::  [</span><span class="hl_tyconref"><span class="mpre">String</span></span><span class="mpre">] -&gt; [</span><a href="#loc_80_6_80_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_6_80_9&#39;)"><span class="hl_tyconref"><span class="mpre">Lit</span></span></a><span class="mpre">]
</span><a name="loc_97_1_97_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_9&#39;)"><span class="hl_fundecl"><span class="mpre">classify</span></span></a><span class="mpre"> []             = []
</span><a href="#loc_97_1_97_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_9&#39;)"><span class="hl_fundecl"><span class="mpre">classify</span></span></a><span class="mpre"> (</span><a name="loc_98_11_98_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_11_98_12&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_98_13_98_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_13_98_15&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) | </span><span class="hl_string"><span class="mpre">&quot;\\begin{code}&quot;</span></span><a href="Data.List.html#loc_286_1_286_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_286_1_286_11&#39;)"><span class="hl_infix"><span class="mpre">`isPrefixOf`</span></span></a><a href="#loc_98_11_98_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_11_98_12&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
                        = </span><a href="#loc_80_35_80_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_35_80_38&#39;)"><span class="hl_conref"><span class="mpre">Lit</span></span></a><span class="mpre"> </span><a href="#loc_98_11_98_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_11_98_12&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_100_10_100_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_10_100_17&#39;)"><span class="hl_varref"><span class="mpre">allProg</span></span></a><span class="mpre"> </span><a href="#loc_98_13_98_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_98_13_98_15&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
   where </span><a name="loc_100_10_100_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_10_100_17&#39;)"><span class="hl_fundecl"><span class="mpre">allProg</span></span></a><span class="mpre"> []     = []  </span><span class="hl_comment"><span class="mpre">-- Should give an error message,</span></span><span class="mpre">
                              </span><span class="hl_comment"><span class="mpre">-- but I have no good position information.</span></span><span class="mpre">
         </span><a href="#loc_100_10_100_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_10_100_17&#39;)"><span class="hl_fundecl"><span class="mpre">allProg</span></span></a><span class="mpre"> (</span><a name="loc_102_19_102_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_19_102_20&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_102_21_102_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_21_102_23&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) | </span><span class="hl_string"><span class="mpre">&quot;\\end{code}&quot;</span></span><a href="Data.List.html#loc_286_1_286_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.List.html#loc_286_1_286_11&#39;)"><span class="hl_infix"><span class="mpre">`isPrefixOf`</span></span></a><a href="#loc_102_19_102_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_19_102_20&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">
                        = </span><a href="#loc_80_35_80_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_35_80_38&#39;)"><span class="hl_conref"><span class="mpre">Lit</span></span></a><span class="mpre"> </span><a href="#loc_102_19_102_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_19_102_20&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_97_1_97_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_9&#39;)"><span class="hl_varref"><span class="mpre">classify</span></span></a><span class="mpre"> </span><a href="#loc_102_21_102_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_102_21_102_23&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
         </span><a href="#loc_100_10_100_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_10_100_17&#39;)"><span class="hl_fundecl"><span class="mpre">allProg</span></span></a><span class="mpre"> (</span><a name="loc_104_19_104_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_19_104_20&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_104_21_104_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_21_104_23&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) = </span><a href="#loc_80_12_80_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_12_80_16&#39;)"><span class="hl_conref"><span class="mpre">Code</span></span></a><span class="mpre"> </span><a href="#loc_104_19_104_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_19_104_20&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_100_10_100_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_100_10_100_17&#39;)"><span class="hl_varref"><span class="mpre">allProg</span></span></a><span class="mpre"> </span><a href="#loc_104_21_104_23" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_21_104_23&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
</span><a href="#loc_97_1_97_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_9&#39;)"><span class="hl_fundecl"><span class="mpre">classify</span></span></a><span class="mpre"> ((</span><span class="hl_char"><span class="mpre">&#39;&gt;&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_105_16_105_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_16_105_17&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre">)</span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_105_19_105_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_19_105_21&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">)   = </span><a href="#loc_80_12_80_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_12_80_16&#39;)"><span class="hl_conref"><span class="mpre">Code</span></span></a><span class="mpre"> (</span><span class="hl_char"><span class="mpre">&#39;&gt;&#39;</span></span><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_105_16_105_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_16_105_17&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">) </span><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_97_1_97_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_9&#39;)"><span class="hl_varref"><span class="mpre">classify</span></span></a><span class="mpre"> </span><a href="#loc_105_19_105_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_19_105_21&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">
</span><a href="#loc_97_1_97_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_9&#39;)"><span class="hl_fundecl"><span class="mpre">classify</span></span></a><span class="mpre"> (</span><a name="loc_106_11_106_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_11_106_12&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_106_13_106_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_13_106_15&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">)         = </span><a href="#loc_80_35_80_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_35_80_38&#39;)"><span class="hl_conref"><span class="mpre">Lit</span></span></a><span class="mpre"> </span><a href="#loc_106_11_106_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_11_106_12&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_97_1_97_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_97_1_97_9&#39;)"><span class="hl_varref"><span class="mpre">classify</span></span></a><span class="mpre"> </span><a href="#loc_106_13_106_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_13_106_15&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Join up chunks of code\/comment that are next to each other.</span></span><span class="mpre">
</span><a href="#loc_110_1_110_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_1_110_6&#39;)"><span class="mpre">joinL</span></a><span class="mpre"> :: [</span><a href="#loc_80_6_80_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_6_80_9&#39;)"><span class="hl_tyconref"><span class="mpre">Lit</span></span></a><span class="mpre">] -&gt; [</span><a href="#loc_80_6_80_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_6_80_9&#39;)"><span class="hl_tyconref"><span class="mpre">Lit</span></span></a><span class="mpre">]
</span><a name="loc_110_1_110_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_1_110_6&#39;)"><span class="hl_fundecl"><span class="mpre">joinL</span></span></a><span class="mpre"> []                  = []
</span><a href="#loc_110_1_110_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_1_110_6&#39;)"><span class="hl_fundecl"><span class="mpre">joinL</span></span></a><span class="mpre"> (</span><a href="#loc_80_12_80_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_12_80_16&#39;)"><span class="hl_conref"><span class="mpre">Code</span></span></a><span class="mpre"> </span><a name="loc_111_13_111_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_13_111_14&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_80_12_80_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_12_80_16&#39;)"><span class="hl_conref"><span class="mpre">Code</span></span></a><span class="mpre"> </span><a name="loc_111_20_111_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_20_111_22&#39;)"><span class="hl_vardecl"><span class="mpre">c2</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_111_23_111_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_23_111_25&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) = </span><a href="#loc_110_1_110_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_1_110_6&#39;)"><span class="hl_varref"><span class="mpre">joinL</span></span></a><span class="mpre"> (</span><a href="#loc_80_12_80_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_12_80_16&#39;)"><span class="hl_conref"><span class="mpre">Code</span></span></a><span class="mpre"> (</span><a href="#loc_111_13_111_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_13_111_14&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="hl_infix"><span class="mpre">++</span></span><a href="#loc_111_20_111_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_20_111_22&#39;)"><span class="hl_varref"><span class="mpre">c2</span></span></a><span class="mpre">)</span><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_111_23_111_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_111_23_111_25&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">)
</span><a href="#loc_110_1_110_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_1_110_6&#39;)"><span class="hl_fundecl"><span class="mpre">joinL</span></span></a><span class="mpre"> (</span><a href="#loc_80_35_80_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_35_80_38&#39;)"><span class="hl_conref"><span class="mpre">Lit</span></span></a><span class="mpre"> </span><a name="loc_112_12_112_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_12_112_13&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_80_35_80_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_35_80_38&#39;)"><span class="hl_conref"><span class="mpre">Lit</span></span></a><span class="mpre"> </span><a name="loc_112_19_112_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_19_112_21&#39;)"><span class="hl_vardecl"><span class="mpre">c2</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_112_23_112_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_23_112_25&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">) = </span><a href="#loc_110_1_110_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_1_110_6&#39;)"><span class="hl_varref"><span class="mpre">joinL</span></span></a><span class="mpre"> (</span><a href="#loc_80_35_80_38" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_80_35_80_38&#39;)"><span class="hl_conref"><span class="mpre">Lit</span></span></a><span class="mpre">  (</span><a href="#loc_112_12_112_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_12_112_13&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="hl_infix"><span class="mpre">++</span></span><a href="#loc_112_19_112_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_19_112_21&#39;)"><span class="hl_varref"><span class="mpre">c2</span></span></a><span class="mpre">)</span><span class="hl_infix"><span class="mpre">:</span></span><a href="#loc_112_23_112_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_112_23_112_25&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">)
</span><a href="#loc_110_1_110_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_1_110_6&#39;)"><span class="hl_fundecl"><span class="mpre">joinL</span></span></a><span class="mpre"> (</span><a name="loc_113_8_113_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_8_113_11&#39;)"><span class="hl_vardecl"><span class="mpre">any</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><a name="loc_113_12_113_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_12_113_14&#39;)"><span class="hl_vardecl"><span class="mpre">xs</span></span></a><span class="mpre">)            = </span><a href="#loc_113_8_113_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_8_113_11&#39;)"><span class="hl_varref"><span class="mpre">any</span></span></a><span class="hl_infix"><span class="mpre">:</span></span><span class="mpre"> </span><a href="#loc_110_1_110_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_1_110_6&#39;)"><span class="hl_varref"><span class="mpre">joinL</span></span></a><span class="mpre"> </span><a href="#loc_113_12_113_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_12_113_14&#39;)"><span class="hl_varref"><span class="mpre">xs</span></span></a><span class="mpre">

</span></div></body></html>