<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="/static/nemnem.css"><script src="/static/jquery-2.0.3.min.js"></script><script src="/static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE OverloadedStrings, ScopedTypeVariables, ViewPatterns #-}
{-# LANGUAGE PatternGuards #-}

module Network.Wai.Handler.Warp.Settings where

import Control.Exception
import Control.Monad (</span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="mpre">when</span></a><span class="mpre">)
import qualified </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 8, srcSpanStartColumn = 18, srcSpanEndLine = 8, srcSpanEndColumn = 33}, srcInfoPoints = []}) &quot;Data.ByteString&quot;"><span class="mpre">Data.ByteString</span></span><span class="mpre"> as S
import qualified Data.Text as T
import qualified Data.Text.IO as TIO
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 11, srcSpanStartColumn = 8, srcSpanEndLine = 11, srcSpanEndColumn = 30}, srcInfoPoints = []}) &quot;Data.Streaming.Network&quot;"><span class="mpre">Data.Streaming.Network</span></span><span class="mpre"> (HostPreference)
import GHC.IO.Exception (</span><a href="GHC.IO.Exception.html#loc_257_6_257_17" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Exception.html#loc_257_6_257_17&#39;)"><span class="mpre">IOErrorType</span></a><span class="mpre">(..))
import qualified Network.HTTP.Types as H
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 14, srcSpanStartColumn = 8, srcSpanEndLine = 14, srcSpanEndColumn = 22}, srcInfoPoints = []}) &quot;Network.Socket&quot;"><span class="mpre">Network.Socket</span></span><span class="mpre"> (SockAddr)
import Network.Wai
import Network.Wai.Handler.Warp.Timeout
import Network.Wai.Handler.Warp.Types
import System.IO (</span><a href="GHC.IO.Handle.FD.html#loc_74_1_74_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.FD.html#loc_74_1_74_7&#39;)"><span class="mpre">stderr</span></a><span class="mpre">)
import System.IO.Error (</span><a href="System.IO.Error.html#loc_270_1_270_16" onmouseover="nemnem.highlightLocalToRemote(&#39;System.IO.Error.html#loc_270_1_270_16&#39;)"><span class="mpre">ioeGetErrorType</span></a><span class="mpre">)
import qualified Data.Text.Lazy as TL
import qualified Data.Text.Lazy.Encoding as TLE

</span><span class="hl_comment"><span class="mpre">-- | Various Warp server settings. This is purposely kept as an abstract data</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- type so that new settings can be added without breaking backwards</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- compatibility. In order to create a &#39;Settings&#39; value, use &#39;defaultSettings&#39;</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- and record syntax to modify individual records. For example:</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- &gt; defaultSettings { settingsTimeout = 20 }</span></span><span class="mpre">
data </span><a name="loc_29_6_29_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_6_29_14&#39;)"><span class="hl_tycondecl"><span class="mpre">Settings</span></span></a><span class="mpre"> = </span><a name="loc_29_17_29_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_17_29_25&#39;)"><span class="hl_condecl"><span class="mpre">Settings</span></span></a><span class="mpre">
    { </span><a name="loc_30_7_30_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_30_7_30_19&#39;)"><span class="hl_fielddecl"><span class="mpre">settingsPort</span></span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ Port to listen on. Default value: 3000</span></span><span class="mpre">
    , </span><a name="loc_31_7_31_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_31_7_31_19&#39;)"><span class="hl_fielddecl"><span class="mpre">settingsHost</span></span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">HostPreference</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ Default value: HostIPv4</span></span><span class="mpre">
    , </span><a name="loc_32_7_32_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_32_7_32_26&#39;)"><span class="hl_fielddecl"><span class="mpre">settingsOnException</span></span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Network.Wai.Internal.html#loc_20_6_20_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_20_6_20_13&#39;)"><span class="hl_tyconref"><span class="mpre">Request</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">SomeException</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ What to do with exceptions thrown by either the application or server. Default: ignore server-generated exceptions (see &#39;InvalidRequest&#39;) and print application-generated applications to stderr.</span></span><span class="mpre">
    , </span><a name="loc_33_7_33_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_33_7_33_34&#39;)"><span class="hl_fielddecl"><span class="mpre">settingsOnExceptionResponse</span></span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">SomeException</span></span><span class="mpre"> -&gt; </span><a href="Network.Wai.Internal.html#loc_74_6_74_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_74_6_74_14&#39;)"><span class="hl_tyconref"><span class="mpre">Response</span></span></a><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- ^ A function to create `Response` when an exception occurs.</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- Default: 500, text/plain, \&quot;Something went wrong\&quot;</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- Since 2.0.3</span></span><span class="mpre">
    , </span><a name="loc_39_7_39_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_39_7_39_21&#39;)"><span class="hl_fielddecl"><span class="mpre">settingsOnOpen</span></span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">SockAddr</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ What to do when a connection is open. When &#39;False&#39; is returned, the connection is closed immediately. Otherwise, the connection is going on. Default: always returns &#39;True&#39;.</span></span><span class="mpre">
    , </span><a name="loc_40_7_40_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_40_7_40_22&#39;)"><span class="hl_fielddecl"><span class="mpre">settingsOnClose</span></span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">SockAddr</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">  </span><span class="hl_comment"><span class="mpre">-- ^ What to do when a connection is close. Default: do nothing.</span></span><span class="mpre">
    , </span><a name="loc_41_7_41_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_41_7_41_22&#39;)"><span class="hl_fielddecl"><span class="mpre">settingsTimeout</span></span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ Timeout value in seconds. Default value: 30</span></span><span class="mpre">
    , </span><a name="loc_42_7_42_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_42_7_42_22&#39;)"><span class="hl_fielddecl"><span class="mpre">settingsManager</span></span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Network.Wai.Handler.Warp.Timeout.html#loc_64_9_64_16" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Handler.Warp.Timeout.html#loc_64_9_64_16&#39;)"><span class="hl_tyconref"><span class="mpre">Manager</span></span></a><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ Use an existing timeout manager instead of spawning a new one. If used, &#39;settingsTimeout&#39; is ignored. Default is &#39;Nothing&#39;</span></span><span class="mpre">
    , </span><a name="loc_43_7_43_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_43_7_43_30&#39;)"><span class="hl_fielddecl"><span class="mpre">settingsFdCacheDuration</span></span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Int</span></span><span class="mpre"> </span><span class="hl_comment"><span class="mpre">-- ^ Cache duratoin time of file descriptors in seconds. 0 means that the cache mechanism is not used. Default value: 10</span></span><span class="mpre">
    , </span><a name="loc_44_7_44_29" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_44_7_44_29&#39;)"><span class="hl_fielddecl"><span class="mpre">settingsBeforeMainLoop</span></span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- ^ Code to run after the listening socket is ready but before entering</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- the main event loop. Useful for signaling to tests that they can start</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- running, or to drop permissions after binding to a restricted port.</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- Default: do nothing.</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- Since 1.3.6</span></span><span class="mpre">
    , </span><a name="loc_52_7_52_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_52_7_52_26&#39;)"><span class="hl_fielddecl"><span class="mpre">settingsNoParsePath</span></span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- ^ Perform no parsing on the rawPathInfo.</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- This is useful for writing HTTP proxies.</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- Default: False</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
      </span><span class="hl_comment"><span class="mpre">-- Since 2.0.3</span></span><span class="mpre">
    }

</span><span class="hl_comment"><span class="mpre">-- | The default settings for the Warp server. See the individual settings for</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- the default value.</span></span><span class="mpre">
</span><a href="#loc_65_1_65_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_1_65_16&#39;)"><span class="mpre">defaultSettings</span></a><span class="mpre"> :: </span><a href="#loc_29_6_29_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_29_6_29_14&#39;)"><span class="hl_tyconref"><span class="mpre">Settings</span></span></a><span class="mpre">
</span><a name="loc_65_1_65_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_65_1_65_16&#39;)"><span class="hl_vardecl"><span class="mpre">defaultSettings</span></span></a><span class="mpre"> = </span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 65, srcSpanStartColumn = 19, srcSpanEndLine = 77, srcSpanEndColumn = 6}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 66, srcSpanStartColumn = 5, srcSpanEndLine = 66, srcSpanEndColumn = 6},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Ha"><span class="mpre">Settings
    { settingsPort = 3000
    , settingsHost = &quot;*4&quot;
    , settingsOnException = defaultExceptionHandler
    , settingsOnExceptionResponse = defaultExceptionResponse
    , settingsOnOpen = const $ return True
    , settingsOnClose = const $ return ()
    , settingsTimeout = 30
    , settingsManager = Nothing
    , settingsFdCacheDuration = 10
    , settingsBeforeMainLoop = return ()
    , settingsNoParsePath = False
    }</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Apply the logic provided by &#39;defaultExceptionHandler&#39; to determine if an</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- exception should be shown or not. The goal is to hide exceptions which occur</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- under the normal course of the web server running.</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Since 2.1.3</span></span><span class="mpre">
</span><a href="#loc_85_1_85_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_1_85_30&#39;)"><span class="mpre">defaultShouldDisplayException</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">SomeException</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_85_1_85_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_1_85_30&#39;)"><span class="hl_fundecl"><span class="mpre">defaultShouldDisplayException</span></span></a><span class="mpre"> </span><a name="loc_85_31_85_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_31_85_33&#39;)"><span class="hl_vardecl"><span class="mpre">se</span></span></a><span class="mpre">
    | </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><span class="hl_conref"><span class="mpre">ThreadKilled</span></span><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">fromException</span></span><span class="mpre"> </span><a href="#loc_85_31_85_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_31_85_33&#39;)"><span class="hl_varref"><span class="mpre">se</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
    | </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (_ :: </span><a href="Network.Wai.Handler.Warp.Types.html#loc_44_6_44_20" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Handler.Warp.Types.html#loc_44_6_44_20&#39;)"><span class="hl_tyconref"><span class="mpre">InvalidRequest</span></span></a><span class="mpre">) &lt;- </span><span class="hl_varref"><span class="mpre">fromException</span></span><span class="mpre"> </span><a href="#loc_85_31_85_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_31_85_33&#39;)"><span class="hl_varref"><span class="mpre">se</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
    | </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> (</span><span class="warning" data-warning="PatPViewPat (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 88, srcSpanStartColumn = 13, srcSpanEndLine = 88, srcSpanEndColumn = 34}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 88, srcSpanStartColumn = 29, srcSpanEndLine = 88, srcSpanEndColumn = 31}]}) (Var (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/n"><span class="mpre">ioeGetErrorType -&gt; et</span></span><span class="mpre">) &lt;- </span><span class="hl_varref"><span class="mpre">fromException</span></span><span class="mpre"> </span><a href="#loc_85_31_85_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_31_85_33&#39;)"><span class="hl_varref"><span class="mpre">se</span></span></a><span class="mpre">
        , </span><span class="hl_varref"><span class="mpre">et</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="GHC.IO.Exception.html#loc_277_5_277_21" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Exception.html#loc_277_5_277_21&#39;)"><span class="hl_conref"><span class="mpre">ResourceVanished</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">||</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">et</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="GHC.IO.Exception.html#loc_272_5_272_20" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Exception.html#loc_272_5_272_20&#39;)"><span class="hl_conref"><span class="mpre">InvalidArgument</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
    | </span><span class="hl_conref"><span class="mpre">Just</span></span><span class="mpre"> </span><a href="Network.Wai.Handler.Warp.Timeout.html#loc_139_22_139_35" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Handler.Warp.Timeout.html#loc_139_22_139_35&#39;)"><span class="hl_conref"><span class="mpre">TimeoutThread</span></span></a><span class="mpre"> &lt;- </span><span class="hl_varref"><span class="mpre">fromException</span></span><span class="mpre"> </span><a href="#loc_85_31_85_33" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_31_85_33&#39;)"><span class="hl_varref"><span class="mpre">se</span></span></a><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
    | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">

</span><a href="#loc_94_1_94_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_1_94_24&#39;)"><span class="mpre">defaultExceptionHandler</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Maybe</span></span><span class="mpre"> </span><a href="Network.Wai.Internal.html#loc_20_6_20_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_20_6_20_13&#39;)"><span class="hl_tyconref"><span class="mpre">Request</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">SomeException</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">
</span><a name="loc_94_1_94_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_1_94_24&#39;)"><span class="hl_fundecl"><span class="mpre">defaultExceptionHandler</span></span></a><span class="mpre"> _ </span><a name="loc_94_27_94_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_27_94_28&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> =
    </span><a href="Control.Monad.html#loc_265_1_265_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Control.Monad.html#loc_265_1_265_5&#39;)"><span class="hl_varref"><span class="mpre">when</span></span></a><span class="mpre"> (</span><a href="#loc_85_1_85_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_85_1_85_30&#39;)"><span class="hl_varref"><span class="mpre">defaultShouldDisplayException</span></span></a><span class="mpre"> </span><a href="#loc_94_27_94_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_27_94_28&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">)
        </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Text.IO.html#loc_285_1_285_10" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.IO.html#loc_285_1_285_10&#39;)"><span class="hl_varref"><span class="mpre">TIO.hPutStrLn</span></span></a><span class="mpre"> </span><a href="GHC.IO.Handle.FD.html#loc_74_1_74_7" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Handle.FD.html#loc_74_1_74_7&#39;)"><span class="hl_varref"><span class="mpre">stderr</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Text.html#loc_387_1_387_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.html#loc_387_1_387_5&#39;)"><span class="hl_varref"><span class="mpre">T.pack</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_94_27_94_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_94_27_94_28&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">

</span><a href="#loc_99_1_99_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_1_99_25&#39;)"><span class="mpre">defaultExceptionResponse</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">SomeException</span></span><span class="mpre"> -&gt; </span><a href="Network.Wai.Internal.html#loc_74_6_74_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_74_6_74_14&#39;)"><span class="hl_tyconref"><span class="mpre">Response</span></span></a><span class="mpre">
</span><a name="loc_99_1_99_25" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_99_1_99_25&#39;)"><span class="hl_fundecl"><span class="mpre">defaultExceptionResponse</span></span></a><span class="mpre"> _ = </span><a href="Network.Wai.html#loc_130_1_130_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.html#loc_130_1_130_12&#39;)"><span class="hl_varref"><span class="mpre">responseLBS</span></span></a><span class="mpre"> </span><a href="Network.HTTP.Types.Status.html#loc_491_1_491_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Types.Status.html#loc_491_1_491_23&#39;)"><span class="hl_varref"><span class="mpre">H.internalServerError500</span></span></a><span class="mpre"> [(</span><a href="Network.HTTP.Types.Header.html#loc_71_1_71_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Types.Header.html#loc_71_1_71_13&#39;)"><span class="hl_varref"><span class="mpre">H.hContentType</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;text/plain; charset=utf-8&quot;</span></span><span class="mpre">)] </span><span class="hl_string"><span class="mpre">&quot;Something went wrong&quot;</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | Default implementation of &#39;settingsOnExceptionResponse&#39; for the debugging purpose. 500, text/plain, a showed exception.</span></span><span class="mpre">
</span><a href="#loc_103_1_103_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_1_103_26&#39;)"><span class="mpre">exceptionResponseForDebug</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">SomeException</span></span><span class="mpre"> -&gt; </span><a href="Network.Wai.Internal.html#loc_74_6_74_14" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.Internal.html#loc_74_6_74_14&#39;)"><span class="hl_tyconref"><span class="mpre">Response</span></span></a><span class="mpre">
</span><a name="loc_103_1_103_26" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_1_103_26&#39;)"><span class="hl_fundecl"><span class="mpre">exceptionResponseForDebug</span></span></a><span class="mpre"> </span><a name="loc_103_27_103_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_27_103_28&#39;)"><span class="hl_vardecl"><span class="mpre">e</span></span></a><span class="mpre"> = </span><a href="Network.Wai.html#loc_130_1_130_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.Wai.html#loc_130_1_130_12&#39;)"><span class="hl_varref"><span class="mpre">responseLBS</span></span></a><span class="mpre"> </span><a href="Network.HTTP.Types.Status.html#loc_491_1_491_23" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Types.Status.html#loc_491_1_491_23&#39;)"><span class="hl_varref"><span class="mpre">H.internalServerError500</span></span></a><span class="mpre"> [(</span><a href="Network.HTTP.Types.Header.html#loc_71_1_71_13" onmouseover="nemnem.highlightLocalToRemote(&#39;Network.HTTP.Types.Header.html#loc_71_1_71_13&#39;)"><span class="hl_varref"><span class="mpre">H.hContentType</span></span></a><span class="mpre">, </span><span class="hl_string"><span class="mpre">&quot;text/plain; charset=utf-8&quot;</span></span><span class="mpre">)] (</span><a href="Data.Text.Lazy.Encoding.html#loc_153_1_153_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Lazy.Encoding.html#loc_153_1_153_11&#39;)"><span class="hl_varref"><span class="mpre">TLE.encodeUtf8</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><a href="Data.Text.Lazy.html#loc_348_1_348_5" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Text.Lazy.html#loc_348_1_348_5&#39;)"><span class="hl_varref"><span class="mpre">TL.pack</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">$</span></span><span class="mpre"> </span><span class="hl_string"><span class="mpre">&quot;Exception: &quot;</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">++</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">show</span></span><span class="mpre"> </span><a href="#loc_103_27_103_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_103_27_103_28&#39;)"><span class="hl_varref"><span class="mpre">e</span></span></a><span class="mpre">)

</span><span class="warning" data-warning="DeclDeprPragmaDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 105, srcSpanStartColumn = 1, srcSpanEndLine = 105, srcSpanEndColumn = 54}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 105, srcSpanStartColumn = 1, srcSpanEndLine = 105, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Netw"><span class="mpre">{-# DEPRECATED settingsPort &quot;Use setPort instead&quot; #-}</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclDeprPragmaDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 106, srcSpanStartColumn = 1, srcSpanEndLine = 106, srcSpanEndColumn = 54}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 106, srcSpanStartColumn = 1, srcSpanEndLine = 106, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Netw"><span class="mpre">{-# DEPRECATED settingsHost &quot;Use setHost instead&quot; #-}</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclDeprPragmaDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 107, srcSpanStartColumn = 1, srcSpanEndLine = 107, srcSpanEndColumn = 68}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 107, srcSpanStartColumn = 1, srcSpanEndLine = 107, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Netw"><span class="mpre">{-# DEPRECATED settingsOnException &quot;Use setOnException instead&quot; #-}</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclDeprPragmaDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 108, srcSpanStartColumn = 1, srcSpanEndLine = 108, srcSpanEndColumn = 84}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 108, srcSpanStartColumn = 1, srcSpanEndLine = 108, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Netw"><span class="mpre">{-# DEPRECATED settingsOnExceptionResponse &quot;Use setOnExceptionResponse instead&quot; #-}</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclDeprPragmaDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 109, srcSpanStartColumn = 1, srcSpanEndLine = 109, srcSpanEndColumn = 58}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 109, srcSpanStartColumn = 1, srcSpanEndLine = 109, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Netw"><span class="mpre">{-# DEPRECATED settingsOnOpen &quot;Use setOnOpen instead&quot; #-}</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclDeprPragmaDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 110, srcSpanStartColumn = 1, srcSpanEndLine = 110, srcSpanEndColumn = 60}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 110, srcSpanStartColumn = 1, srcSpanEndLine = 110, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Netw"><span class="mpre">{-# DEPRECATED settingsOnClose &quot;Use setOnClose instead&quot; #-}</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclDeprPragmaDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 111, srcSpanStartColumn = 1, srcSpanEndLine = 111, srcSpanEndColumn = 60}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 111, srcSpanStartColumn = 1, srcSpanEndLine = 111, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Netw"><span class="mpre">{-# DEPRECATED settingsTimeout &quot;Use setTimeout instead&quot; #-}</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclDeprPragmaDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 112, srcSpanStartColumn = 1, srcSpanEndLine = 112, srcSpanEndColumn = 60}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 112, srcSpanStartColumn = 1, srcSpanEndLine = 112, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Netw"><span class="mpre">{-# DEPRECATED settingsManager &quot;Use setManager instead&quot; #-}</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclDeprPragmaDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 113, srcSpanStartColumn = 1, srcSpanEndLine = 113, srcSpanEndColumn = 76}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 113, srcSpanStartColumn = 1, srcSpanEndLine = 113, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Netw"><span class="mpre">{-# DEPRECATED settingsFdCacheDuration &quot;Use setFdCacheDuration instead&quot; #-}</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclDeprPragmaDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 114, srcSpanStartColumn = 1, srcSpanEndLine = 114, srcSpanEndColumn = 74}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 114, srcSpanStartColumn = 1, srcSpanEndLine = 114, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Netw"><span class="mpre">{-# DEPRECATED settingsBeforeMainLoop &quot;Use setBeforeMainLoop instead&quot; #-}</span></span><span class="mpre">
</span><span class="warning" data-warning="DeclDeprPragmaDecl (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 115, srcSpanStartColumn = 1, srcSpanEndLine = 115, srcSpanEndColumn = 68}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Network/Wai/Handler/Warp/Settings.hs&quot;, srcSpanStartLine = 115, srcSpanStartColumn = 1, srcSpanEndLine = 115, srcSpanEndColumn = 15},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/warp-3.0.0.3/Netw"><span class="mpre">{-# DEPRECATED settingsNoParsePath &quot;Use setNoParsePath instead&quot; #-}</span></span><span class="mpre">
</span></div></body></html>