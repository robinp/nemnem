<html><head><title>NemNem</title><link rel="stylesheet" type="text/css" href="static/nemnem.css"><script src="static/jquery-2.0.3.min.js"></script><script src="static/nemnem.js"></script></head><body><div id="code"><span class="mpre">{-# LANGUAGE Trustworthy #-}
{-# LANGUAGE NoImplicitPrelude
           , BangPatterns
           , NondecreasingIndentation
           , MagicHash
  #-}
{-# OPTIONS_GHC  -funbox-strict-fields #-}

</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- |</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Module      :  GHC.IO.Encoding.UTF32</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Copyright   :  (c) The University of Glasgow, 2009</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- License     :  see libraries/base/LICENSE</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- </span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Maintainer  :  libraries@haskell.org</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Stability   :  internal</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portability :  non-portable</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- UTF-32 Codecs for the IO library</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- Portions Copyright   : (c) Tom Harper 2008-2009,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--                        (c) Bryan O&#39;Sullivan 2009,</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--                        (c) Duncan Coutts 2009</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">--</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-----------------------------------------------------------------------------</span></span><span class="mpre">

module GHC.IO.Encoding.UTF32 (
  utf32, mkUTF32,
  utf32_decode,
  utf32_encode,

  utf32be, mkUTF32be,
  utf32be_decode,
  utf32be_encode,

  utf32le, mkUTF32le,
  utf32le_decode,
  utf32le_encode,
  ) where

import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 41, srcSpanStartColumn = 8, srcSpanEndLine = 41, srcSpanEndColumn = 16}, srcInfoPoints = []}) &quot;GHC.Base&quot;"><span class="mpre">GHC.Base</span></span><span class="mpre">
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 42, srcSpanStartColumn = 8, srcSpanEndLine = 42, srcSpanEndColumn = 16}, srcInfoPoints = []}) &quot;GHC.Real&quot;"><span class="mpre">GHC.Real</span></span><span class="mpre">
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 43, srcSpanStartColumn = 8, srcSpanEndLine = 43, srcSpanEndColumn = 15}, srcInfoPoints = []}) &quot;GHC.Num&quot;"><span class="mpre">GHC.Num</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- import GHC.IO</span></span><span class="mpre">
import GHC.IO.Buffer
import GHC.IO.Encoding.Failure
import GHC.IO.Encoding.Types
import </span><span class="warning" data-warning="Module not foundModuleName (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 48, srcSpanStartColumn = 8, srcSpanEndLine = 48, srcSpanEndColumn = 16}, srcInfoPoints = []}) &quot;GHC.Word&quot;"><span class="mpre">GHC.Word</span></span><span class="mpre">
import Data.Bits
import Data.Maybe
import GHC.IORef

</span><span class="hl_comment"><span class="mpre">-- -----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- The UTF-32 codec: either UTF-32BE or UTF-32LE with a BOM</span></span><span class="mpre">

</span><a href="#loc_57_1_57_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_6&#39;)"><span class="mpre">utf32</span></a><span class="mpre">  :: </span><a href="GHC.IO.Encoding.Types.html#loc_107_6_107_18" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Types.html#loc_107_6_107_18&#39;)"><span class="hl_tyconref"><span class="mpre">TextEncoding</span></span></a><span class="mpre">
</span><a name="loc_57_1_57_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_57_1_57_6&#39;)"><span class="hl_vardecl"><span class="mpre">utf32</span></span></a><span class="mpre"> = </span><a href="#loc_61_1_61_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_1_61_8&#39;)"><span class="hl_varref"><span class="mpre">mkUTF32</span></span></a><span class="mpre"> </span><a href="GHC.IO.Encoding.Failure.html#loc_43_5_43_25" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Failure.html#loc_43_5_43_25&#39;)"><span class="hl_conref"><span class="mpre">ErrorOnCodingFailure</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /Since: 4.4.0.0/</span></span><span class="mpre">
</span><a href="#loc_61_1_61_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_1_61_8&#39;)"><span class="mpre">mkUTF32</span></a><span class="mpre"> :: </span><a href="GHC.IO.Encoding.Failure.html#loc_42_6_42_23" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Failure.html#loc_42_6_42_23&#39;)"><span class="hl_tyconref"><span class="mpre">CodingFailureMode</span></span></a><span class="mpre"> -&gt; </span><a href="GHC.IO.Encoding.Types.html#loc_107_6_107_18" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Types.html#loc_107_6_107_18&#39;)"><span class="hl_tyconref"><span class="mpre">TextEncoding</span></span></a><span class="mpre">
</span><a name="loc_61_1_61_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_61_1_61_8&#39;)"><span class="hl_fundecl"><span class="mpre">mkUTF32</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">cfm</span></span><span class="mpre"> = </span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 61, srcSpanStartColumn = 15, srcSpanEndLine = 63, srcSpanEndColumn = 60}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 61, srcSpanStartColumn = 28, srcSpanEndLine = 61, srcSpanEndColumn = 29},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanS"><span class="mpre">TextEncoding { textEncodingName = &quot;UTF-32&quot;,
                             mkTextDecoder = utf32_DF cfm,
                             mkTextEncoder = utf32_EF cfm }</span></span><span class="mpre">

</span><a href="#loc_66_1_66_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_1_66_9&#39;)"><span class="mpre">utf32_DF</span></a><span class="mpre"> :: </span><a href="GHC.IO.Encoding.Failure.html#loc_42_6_42_23" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Failure.html#loc_42_6_42_23&#39;)"><span class="hl_tyconref"><span class="mpre">CodingFailureMode</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">TextDecoder</span></span><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">DecodeBuffer</span></span><span class="mpre">))
</span><a name="loc_66_1_66_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_66_1_66_9&#39;)"><span class="hl_fundecl"><span class="mpre">utf32_DF</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">cfm</span></span><span class="mpre"> = do
  </span><span class="hl_vardecl"><span class="mpre">seen_bom</span></span><span class="mpre"> &lt;- </span><a href="GHC.IORef.html#loc_42_1_42_9" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_42_1_42_9&#39;)"><span class="hl_varref"><span class="mpre">newIORef</span></span></a><span class="mpre"> </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 68, srcSpanStartColumn = 11, srcSpanEndLine = 74, srcSpanEndColumn = 12}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 68, srcSpanStartColumn = 23, srcSpanEndLine = 68, srcSpanEndColumn = 24},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanS"><span class="mpre">BufferCodec {
             encode   = utf32_decode seen_bom,
             recover  = recoverDecode cfm,
             close    = return (),
             getState = readIORef seen_bom,
             setState = writeIORef seen_bom
          }</span></span><span class="mpre">)

</span><a href="#loc_77_1_77_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_1_77_9&#39;)"><span class="mpre">utf32_EF</span></a><span class="mpre"> :: </span><a href="GHC.IO.Encoding.Failure.html#loc_42_6_42_23" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Failure.html#loc_42_6_42_23&#39;)"><span class="hl_tyconref"><span class="mpre">CodingFailureMode</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">TextEncoder</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">)
</span><a name="loc_77_1_77_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_77_1_77_9&#39;)"><span class="hl_fundecl"><span class="mpre">utf32_EF</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">cfm</span></span><span class="mpre"> = do
  </span><span class="hl_vardecl"><span class="mpre">done_bom</span></span><span class="mpre"> &lt;- </span><a href="GHC.IORef.html#loc_42_1_42_9" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_42_1_42_9&#39;)"><span class="hl_varref"><span class="mpre">newIORef</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">False</span></span><span class="mpre">
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 79, srcSpanStartColumn = 11, srcSpanEndLine = 85, srcSpanEndColumn = 12}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 79, srcSpanStartColumn = 23, srcSpanEndLine = 79, srcSpanEndColumn = 24},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanS"><span class="mpre">BufferCodec {
             encode   = utf32_encode done_bom,
             recover  = recoverEncode cfm,
             close    = return (),
             getState = readIORef done_bom,
             setState = writeIORef done_bom
          }</span></span><span class="mpre">)

</span><a href="#loc_88_1_88_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_1_88_13&#39;)"><span class="mpre">utf32_encode</span></a><span class="mpre"> :: </span><a href="GHC.IORef.html#loc_34_9_34_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_34_9_34_14&#39;)"><span class="hl_tyconref"><span class="mpre">IORef</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">EncodeBuffer</span></span><span class="mpre">
</span><a name="loc_88_1_88_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_1_88_13&#39;)"><span class="hl_fundecl"><span class="mpre">utf32_encode</span></span></a><span class="mpre"> </span><a name="loc_88_14_88_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_14_88_22&#39;)"><span class="hl_vardecl"><span class="mpre">done_bom</span></span></a><span class="mpre"> </span><a name="loc_88_23_88_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_23_88_28&#39;)"><span class="hl_vardecl"><span class="mpre">input</span></span></a><span class="mpre">
  </span><a name="loc_89_3_89_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_3_89_9&#39;)"><span class="hl_specname"><span class="mpre">output</span></span></a><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 89, srcSpanStartColumn = 10, srcSpanEndLine = 89, srcSpanEndColumn = 60}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 89, srcSpanStartColumn = 16, srcSpanEndLine = 89, srcSpanEndColumn = 17},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartL"><span class="mpre">Buffer{ bufRaw=oraw, bufL=_, bufR=ow, bufSize=os }</span></span><span class="mpre">
 = do
  </span><a name="loc_91_3_91_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_3_91_4&#39;)"><span class="hl_vardecl"><span class="mpre">b</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IORef.html#loc_46_1_46_10" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_46_1_46_10&#39;)"><span class="hl_varref"><span class="mpre">readIORef</span></span></a><span class="mpre"> </span><a href="#loc_88_14_88_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_14_88_22&#39;)"><span class="hl_varref"><span class="mpre">done_bom</span></span></a><span class="mpre">
  if </span><a href="#loc_91_3_91_4" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_91_3_91_4&#39;)"><span class="hl_varref"><span class="mpre">b</span></span></a><span class="mpre"> then </span><a href="#loc_140_1_140_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_1_140_20&#39;)"><span class="hl_varref"><span class="mpre">utf32_native_encode</span></span></a><span class="mpre"> </span><a href="#loc_88_23_88_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_23_88_28&#39;)"><span class="hl_varref"><span class="mpre">input</span></span></a><span class="mpre"> </span><a href="#loc_89_3_89_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_3_89_9&#39;)"><span class="hl_varref"><span class="mpre">output</span></span></a><span class="mpre">
       else if </span><span class="hl_varref"><span class="mpre">os</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ow</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre">
               then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="GHC.IO.Encoding.Types.html#loc_127_23_127_38" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Types.html#loc_127_23_127_38&#39;)"><span class="hl_conref"><span class="mpre">OutputUnderflow</span></span></a><span class="mpre">, </span><a href="#loc_88_23_88_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_23_88_28&#39;)"><span class="hl_varref"><span class="mpre">input</span></span></a><span class="mpre">,</span><a href="#loc_89_3_89_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_89_3_89_9&#39;)"><span class="hl_varref"><span class="mpre">output</span></span></a><span class="mpre">)
               else do
                    </span><a href="GHC.IORef.html#loc_50_1_50_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_50_1_50_11&#39;)"><span class="hl_varref"><span class="mpre">writeIORef</span></span></a><span class="mpre"> </span><a href="#loc_88_14_88_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_14_88_22&#39;)"><span class="hl_varref"><span class="mpre">done_bom</span></span></a><span class="mpre"> </span><span class="hl_conref"><span class="mpre">True</span></span><span class="mpre">
                    </span><a href="GHC.IO.Buffer.html#loc_102_1_102_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_102_1_102_14&#39;)"><span class="hl_varref"><span class="mpre">writeWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">oraw</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ow</span></span><span class="mpre">     </span><a href="#loc_130_1_130_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_1_130_5&#39;)"><span class="hl_varref"><span class="mpre">bom0</span></span></a><span class="mpre">
                    </span><a href="GHC.IO.Buffer.html#loc_102_1_102_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_102_1_102_14&#39;)"><span class="hl_varref"><span class="mpre">writeWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">oraw</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">ow</span></span><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><a href="#loc_131_1_131_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_1_131_5&#39;)"><span class="hl_varref"><span class="mpre">bom1</span></span></a><span class="mpre">
                    </span><a href="GHC.IO.Buffer.html#loc_102_1_102_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_102_1_102_14&#39;)"><span class="hl_varref"><span class="mpre">writeWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">oraw</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">ow</span></span><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">) </span><a href="#loc_132_1_132_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_1_132_5&#39;)"><span class="hl_varref"><span class="mpre">bom2</span></span></a><span class="mpre">
                    </span><a href="GHC.IO.Buffer.html#loc_102_1_102_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_102_1_102_14&#39;)"><span class="hl_varref"><span class="mpre">writeWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">oraw</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">ow</span></span><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">) </span><a href="#loc_133_1_133_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_1_133_5&#39;)"><span class="hl_varref"><span class="mpre">bom3</span></span></a><span class="mpre">
                    </span><a href="#loc_140_1_140_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_1_140_20&#39;)"><span class="hl_varref"><span class="mpre">utf32_native_encode</span></span></a><span class="mpre"> </span><a href="#loc_88_23_88_28" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_88_23_88_28&#39;)"><span class="hl_varref"><span class="mpre">input</span></span></a><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 101, srcSpanStartColumn = 47, srcSpanEndLine = 101, srcSpanEndColumn = 68}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 101, srcSpanStartColumn = 53, srcSpanEndLine = 101, srcSpanEndColumn = 54},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">output{ bufR = ow+4 }</span></span><span class="mpre">

</span><a href="#loc_104_1_104_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_1_104_13&#39;)"><span class="mpre">utf32_decode</span></a><span class="mpre"> :: </span><a href="GHC.IORef.html#loc_34_9_34_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_34_9_34_14&#39;)"><span class="hl_tyconref"><span class="mpre">IORef</span></span></a><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_7_49_12" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_7_49_12&#39;)"><span class="hl_tyconref"><span class="mpre">Maybe</span></span></a><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">DecodeBuffer</span></span><span class="mpre">) -&gt; </span><span class="hl_tyconref"><span class="mpre">DecodeBuffer</span></span><span class="mpre">
</span><a name="loc_104_1_104_13" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_1_104_13&#39;)"><span class="hl_fundecl"><span class="mpre">utf32_decode</span></span></a><span class="mpre"> </span><a name="loc_104_14_104_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_14_104_22&#39;)"><span class="hl_vardecl"><span class="mpre">seen_bom</span></span></a><span class="mpre">
  </span><a name="loc_105_3_105_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_3_105_8&#39;)"><span class="hl_specname"><span class="mpre">input</span></span></a><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 105, srcSpanStartColumn = 9, srcSpanEndLine = 105, srcSpanEndColumn = 62}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 105, srcSpanStartColumn = 15, srcSpanEndLine = 105, srcSpanEndColumn = 16},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanSta"><span class="mpre">Buffer{  bufRaw=iraw, bufL=ir, bufR=iw,  bufSize=_  }</span></span><span class="mpre">
  </span><a name="loc_106_3_106_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_3_106_9&#39;)"><span class="hl_vardecl"><span class="mpre">output</span></span></a><span class="mpre">
 = do
   </span><a name="loc_108_4_108_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_108_4_108_6&#39;)"><span class="hl_vardecl"><span class="mpre">mb</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IORef.html#loc_46_1_46_10" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_46_1_46_10&#39;)"><span class="hl_varref"><span class="mpre">readIORef</span></span></a><span class="mpre"> </span><a href="#loc_104_14_104_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_14_104_22&#39;)"><span class="hl_varref"><span class="mpre">seen_bom</span></span></a><span class="mpre">
   case </span><a href="#loc_108_4_108_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_108_4_108_6&#39;)"><span class="hl_varref"><span class="mpre">mb</span></span></a><span class="mpre"> of
     </span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a name="loc_110_11_110_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_11_110_17&#39;)"><span class="hl_vardecl"><span class="mpre">decode</span></span></a><span class="mpre"> -&gt; </span><a href="#loc_110_11_110_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_110_11_110_17&#39;)"><span class="hl_varref"><span class="mpre">decode</span></span></a><span class="mpre"> </span><a href="#loc_105_3_105_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_3_105_8&#39;)"><span class="hl_varref"><span class="mpre">input</span></span></a><span class="mpre"> </span><a href="#loc_106_3_106_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_3_106_9&#39;)"><span class="hl_varref"><span class="mpre">output</span></span></a><span class="mpre">
     </span><a href="Data.Maybe.html#loc_49_19_49_26" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_19_49_26&#39;)"><span class="hl_conref"><span class="mpre">Nothing</span></span></a><span class="mpre"> -&gt;
       if </span><span class="hl_varref"><span class="mpre">iw</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ir</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre"> then </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="GHC.IO.Encoding.Types.html#loc_125_23_125_37" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Types.html#loc_125_23_125_37&#39;)"><span class="hl_conref"><span class="mpre">InputUnderflow</span></span></a><span class="mpre">, </span><a href="#loc_105_3_105_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_3_105_8&#39;)"><span class="hl_varref"><span class="mpre">input</span></span></a><span class="mpre">,</span><a href="#loc_106_3_106_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_3_106_9&#39;)"><span class="hl_varref"><span class="mpre">output</span></span></a><span class="mpre">) else do
       </span><a name="loc_113_8_113_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_8_113_10&#39;)"><span class="hl_vardecl"><span class="mpre">c0</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.Buffer.html#loc_99_1_99_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_99_1_99_13&#39;)"><span class="hl_varref"><span class="mpre">readWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">iraw</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ir</span></span><span class="mpre">
       </span><a name="loc_114_8_114_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_8_114_10&#39;)"><span class="hl_vardecl"><span class="mpre">c1</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.Buffer.html#loc_99_1_99_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_99_1_99_13&#39;)"><span class="hl_varref"><span class="mpre">readWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">iraw</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">ir</span></span><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
       </span><a name="loc_115_8_115_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_8_115_10&#39;)"><span class="hl_vardecl"><span class="mpre">c2</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.Buffer.html#loc_99_1_99_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_99_1_99_13&#39;)"><span class="hl_varref"><span class="mpre">readWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">iraw</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">ir</span></span><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">)
       </span><a name="loc_116_8_116_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_8_116_10&#39;)"><span class="hl_vardecl"><span class="mpre">c3</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.Buffer.html#loc_99_1_99_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_99_1_99_13&#39;)"><span class="hl_varref"><span class="mpre">readWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">iraw</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">ir</span></span><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">)
       case </span><span class="hl_conref"><span class="mpre">()</span></span><span class="mpre"> of
        _ | </span><a href="#loc_113_8_113_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_8_113_10&#39;)"><span class="hl_varref"><span class="mpre">c0</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_130_1_130_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_1_130_5&#39;)"><span class="hl_varref"><span class="mpre">bom0</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_114_8_114_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_8_114_10&#39;)"><span class="hl_varref"><span class="mpre">c1</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_131_1_131_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_1_131_5&#39;)"><span class="hl_varref"><span class="mpre">bom1</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_115_8_115_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_8_115_10&#39;)"><span class="hl_varref"><span class="mpre">c2</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_132_1_132_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_1_132_5&#39;)"><span class="hl_varref"><span class="mpre">bom2</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_116_8_116_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_8_116_10&#39;)"><span class="hl_varref"><span class="mpre">c3</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_133_1_133_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_1_133_5&#39;)"><span class="hl_varref"><span class="mpre">bom3</span></span></a><span class="mpre"> -&gt; do
               </span><a href="GHC.IORef.html#loc_50_1_50_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_50_1_50_11&#39;)"><span class="hl_varref"><span class="mpre">writeIORef</span></span></a><span class="mpre"> </span><a href="#loc_104_14_104_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_14_104_22&#39;)"><span class="hl_varref"><span class="mpre">seen_bom</span></span></a><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a href="#loc_206_1_206_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_15&#39;)"><span class="hl_varref"><span class="mpre">utf32be_decode</span></span></a><span class="mpre">)
               </span><a href="#loc_206_1_206_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_15&#39;)"><span class="hl_varref"><span class="mpre">utf32be_decode</span></span></a><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 120, srcSpanStartColumn = 31, srcSpanEndLine = 120, srcSpanEndColumn = 50}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 120, srcSpanStartColumn = 36, srcSpanEndLine = 120, srcSpanEndColumn = 37},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">input{ bufL= ir+4 }</span></span><span class="mpre"> </span><a href="#loc_106_3_106_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_3_106_9&#39;)"><span class="hl_varref"><span class="mpre">output</span></span></a><span class="mpre">
        _ | </span><a href="#loc_113_8_113_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_113_8_113_10&#39;)"><span class="hl_varref"><span class="mpre">c0</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_133_1_133_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_1_133_5&#39;)"><span class="hl_varref"><span class="mpre">bom3</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_114_8_114_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_114_8_114_10&#39;)"><span class="hl_varref"><span class="mpre">c1</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_132_1_132_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_1_132_5&#39;)"><span class="hl_varref"><span class="mpre">bom2</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_115_8_115_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_115_8_115_10&#39;)"><span class="hl_varref"><span class="mpre">c2</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_131_1_131_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_1_131_5&#39;)"><span class="hl_varref"><span class="mpre">bom1</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_116_8_116_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_116_8_116_10&#39;)"><span class="hl_varref"><span class="mpre">c3</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><a href="#loc_130_1_130_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_1_130_5&#39;)"><span class="hl_varref"><span class="mpre">bom0</span></span></a><span class="mpre"> -&gt; do
               </span><a href="GHC.IORef.html#loc_50_1_50_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_50_1_50_11&#39;)"><span class="hl_varref"><span class="mpre">writeIORef</span></span></a><span class="mpre"> </span><a href="#loc_104_14_104_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_14_104_22&#39;)"><span class="hl_varref"><span class="mpre">seen_bom</span></span></a><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a href="#loc_234_1_234_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_1_234_15&#39;)"><span class="hl_varref"><span class="mpre">utf32le_decode</span></span></a><span class="mpre">)
               </span><a href="#loc_234_1_234_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_1_234_15&#39;)"><span class="hl_varref"><span class="mpre">utf32le_decode</span></span></a><span class="mpre"> </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 123, srcSpanStartColumn = 31, srcSpanEndLine = 123, srcSpanEndColumn = 50}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 123, srcSpanStartColumn = 36, srcSpanEndLine = 123, srcSpanEndColumn = 37},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">input{ bufL= ir+4 }</span></span><span class="mpre"> </span><a href="#loc_106_3_106_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_3_106_9&#39;)"><span class="hl_varref"><span class="mpre">output</span></span></a><span class="mpre">
          | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> -&gt; do
               </span><a href="GHC.IORef.html#loc_50_1_50_11" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IORef.html#loc_50_1_50_11&#39;)"><span class="hl_varref"><span class="mpre">writeIORef</span></span></a><span class="mpre"> </span><a href="#loc_104_14_104_22" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_104_14_104_22&#39;)"><span class="hl_varref"><span class="mpre">seen_bom</span></span></a><span class="mpre"> (</span><a href="Data.Maybe.html#loc_49_29_49_33" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Maybe.html#loc_49_29_49_33&#39;)"><span class="hl_conref"><span class="mpre">Just</span></span></a><span class="mpre"> </span><a href="#loc_137_1_137_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_1_137_20&#39;)"><span class="hl_varref"><span class="mpre">utf32_native_decode</span></span></a><span class="mpre">)
               </span><a href="#loc_137_1_137_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_1_137_20&#39;)"><span class="hl_varref"><span class="mpre">utf32_native_decode</span></span></a><span class="mpre"> </span><a href="#loc_105_3_105_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_105_3_105_8&#39;)"><span class="hl_varref"><span class="mpre">input</span></span></a><span class="mpre"> </span><a href="#loc_106_3_106_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_106_3_106_9&#39;)"><span class="hl_varref"><span class="mpre">output</span></span></a><span class="mpre">


</span><a href="#loc_130_1_130_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_1_130_5&#39;)"><span class="mpre">bom0</span></a><span class="mpre">, </span><a href="#loc_131_1_131_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_1_131_5&#39;)"><span class="mpre">bom1</span></a><span class="mpre">, </span><a href="#loc_132_1_132_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_1_132_5&#39;)"><span class="mpre">bom2</span></a><span class="mpre">, </span><a href="#loc_133_1_133_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_1_133_5&#39;)"><span class="mpre">bom3</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">
</span><a name="loc_130_1_130_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_130_1_130_5&#39;)"><span class="hl_vardecl"><span class="mpre">bom0</span></span></a><span class="mpre"> = </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
</span><a name="loc_131_1_131_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_131_1_131_5&#39;)"><span class="hl_vardecl"><span class="mpre">bom1</span></span></a><span class="mpre"> = </span><span class="hl_num"><span class="mpre">0</span></span><span class="mpre">
</span><a name="loc_132_1_132_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_132_1_132_5&#39;)"><span class="hl_vardecl"><span class="mpre">bom2</span></span></a><span class="mpre"> = </span><span class="hl_num"><span class="mpre">0xfe</span></span><span class="mpre">
</span><a name="loc_133_1_133_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_133_1_133_5&#39;)"><span class="hl_vardecl"><span class="mpre">bom3</span></span></a><span class="mpre"> = </span><span class="hl_num"><span class="mpre">0xff</span></span><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- choose UTF-32BE by default for UTF-32 output</span></span><span class="mpre">
</span><a href="#loc_137_1_137_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_1_137_20&#39;)"><span class="mpre">utf32_native_decode</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">DecodeBuffer</span></span><span class="mpre">
</span><a name="loc_137_1_137_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_137_1_137_20&#39;)"><span class="hl_vardecl"><span class="mpre">utf32_native_decode</span></span></a><span class="mpre"> = </span><a href="#loc_206_1_206_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_15&#39;)"><span class="hl_varref"><span class="mpre">utf32be_decode</span></span></a><span class="mpre">

</span><a href="#loc_140_1_140_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_1_140_20&#39;)"><span class="mpre">utf32_native_encode</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">EncodeBuffer</span></span><span class="mpre">
</span><a name="loc_140_1_140_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_140_1_140_20&#39;)"><span class="hl_vardecl"><span class="mpre">utf32_native_encode</span></span></a><span class="mpre"> = </span><a href="#loc_262_1_262_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_1_262_15&#39;)"><span class="hl_varref"><span class="mpre">utf32be_encode</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- -----------------------------------------------------------------------------</span></span><span class="mpre">
</span><span class="hl_comment"><span class="mpre">-- UTF32LE and UTF32BE</span></span><span class="mpre">

</span><a href="#loc_146_1_146_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_8&#39;)"><span class="mpre">utf32be</span></a><span class="mpre"> :: </span><a href="GHC.IO.Encoding.Types.html#loc_107_6_107_18" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Types.html#loc_107_6_107_18&#39;)"><span class="hl_tyconref"><span class="mpre">TextEncoding</span></span></a><span class="mpre">
</span><a name="loc_146_1_146_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_146_1_146_8&#39;)"><span class="hl_vardecl"><span class="mpre">utf32be</span></span></a><span class="mpre"> = </span><a href="#loc_150_1_150_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_10&#39;)"><span class="hl_varref"><span class="mpre">mkUTF32be</span></span></a><span class="mpre"> </span><a href="GHC.IO.Encoding.Failure.html#loc_43_5_43_25" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Failure.html#loc_43_5_43_25&#39;)"><span class="hl_conref"><span class="mpre">ErrorOnCodingFailure</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /Since: 4.4.0.0/</span></span><span class="mpre">
</span><a href="#loc_150_1_150_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_10&#39;)"><span class="mpre">mkUTF32be</span></a><span class="mpre"> :: </span><a href="GHC.IO.Encoding.Failure.html#loc_42_6_42_23" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Failure.html#loc_42_6_42_23&#39;)"><span class="hl_tyconref"><span class="mpre">CodingFailureMode</span></span></a><span class="mpre"> -&gt; </span><a href="GHC.IO.Encoding.Types.html#loc_107_6_107_18" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Types.html#loc_107_6_107_18&#39;)"><span class="hl_tyconref"><span class="mpre">TextEncoding</span></span></a><span class="mpre">
</span><a name="loc_150_1_150_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_150_1_150_10&#39;)"><span class="hl_fundecl"><span class="mpre">mkUTF32be</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">cfm</span></span><span class="mpre"> = </span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 150, srcSpanStartColumn = 17, srcSpanEndLine = 152, srcSpanEndColumn = 64}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 150, srcSpanStartColumn = 30, srcSpanEndLine = 150, srcSpanEndColumn = 31},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">TextEncoding { textEncodingName = &quot;UTF-32BE&quot;,
                               mkTextDecoder = utf32be_DF cfm,
                               mkTextEncoder = utf32be_EF cfm }</span></span><span class="mpre">

</span><a href="#loc_155_1_155_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_1_155_11&#39;)"><span class="mpre">utf32be_DF</span></a><span class="mpre"> :: </span><a href="GHC.IO.Encoding.Failure.html#loc_42_6_42_23" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Failure.html#loc_42_6_42_23&#39;)"><span class="hl_tyconref"><span class="mpre">CodingFailureMode</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">TextDecoder</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">)
</span><a name="loc_155_1_155_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_155_1_155_11&#39;)"><span class="hl_fundecl"><span class="mpre">utf32be_DF</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">cfm</span></span><span class="mpre"> =
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 156, srcSpanStartColumn = 11, srcSpanEndLine = 162, srcSpanEndColumn = 12}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 156, srcSpanStartColumn = 23, srcSpanEndLine = 156, srcSpanEndColumn = 24},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">BufferCodec {
             encode   = utf32be_decode,
             recover  = recoverDecode cfm,
             close    = return (),
             getState = return (),
             setState = const $ return ()
          }</span></span><span class="mpre">)

</span><a href="#loc_165_1_165_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_1_165_11&#39;)"><span class="mpre">utf32be_EF</span></a><span class="mpre"> :: </span><a href="GHC.IO.Encoding.Failure.html#loc_42_6_42_23" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Failure.html#loc_42_6_42_23&#39;)"><span class="hl_tyconref"><span class="mpre">CodingFailureMode</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">TextEncoder</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">)
</span><a name="loc_165_1_165_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_165_1_165_11&#39;)"><span class="hl_fundecl"><span class="mpre">utf32be_EF</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">cfm</span></span><span class="mpre"> =
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 166, srcSpanStartColumn = 11, srcSpanEndLine = 172, srcSpanEndColumn = 12}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 166, srcSpanStartColumn = 23, srcSpanEndLine = 166, srcSpanEndColumn = 24},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">BufferCodec {
             encode   = utf32be_encode,
             recover  = recoverEncode cfm,
             close    = return (),
             getState = return (),
             setState = const $ return ()
          }</span></span><span class="mpre">)


</span><a href="#loc_176_1_176_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_1_176_8&#39;)"><span class="mpre">utf32le</span></a><span class="mpre"> :: </span><a href="GHC.IO.Encoding.Types.html#loc_107_6_107_18" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Types.html#loc_107_6_107_18&#39;)"><span class="hl_tyconref"><span class="mpre">TextEncoding</span></span></a><span class="mpre">
</span><a name="loc_176_1_176_8" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_176_1_176_8&#39;)"><span class="hl_vardecl"><span class="mpre">utf32le</span></span></a><span class="mpre"> = </span><a href="#loc_180_1_180_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_1_180_10&#39;)"><span class="hl_varref"><span class="mpre">mkUTF32le</span></span></a><span class="mpre"> </span><a href="GHC.IO.Encoding.Failure.html#loc_43_5_43_25" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Failure.html#loc_43_5_43_25&#39;)"><span class="hl_conref"><span class="mpre">ErrorOnCodingFailure</span></span></a><span class="mpre">

</span><span class="hl_comment"><span class="mpre">-- | /Since: 4.4.0.0/</span></span><span class="mpre">
</span><a href="#loc_180_1_180_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_1_180_10&#39;)"><span class="mpre">mkUTF32le</span></a><span class="mpre"> :: </span><a href="GHC.IO.Encoding.Failure.html#loc_42_6_42_23" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Failure.html#loc_42_6_42_23&#39;)"><span class="hl_tyconref"><span class="mpre">CodingFailureMode</span></span></a><span class="mpre"> -&gt; </span><a href="GHC.IO.Encoding.Types.html#loc_107_6_107_18" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Types.html#loc_107_6_107_18&#39;)"><span class="hl_tyconref"><span class="mpre">TextEncoding</span></span></a><span class="mpre">
</span><a name="loc_180_1_180_10" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_180_1_180_10&#39;)"><span class="hl_fundecl"><span class="mpre">mkUTF32le</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">cfm</span></span><span class="mpre"> = </span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 180, srcSpanStartColumn = 17, srcSpanEndLine = 182, srcSpanEndColumn = 64}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 180, srcSpanStartColumn = 30, srcSpanEndLine = 180, srcSpanEndColumn = 31},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">TextEncoding { textEncodingName = &quot;UTF-32LE&quot;,
                               mkTextDecoder = utf32le_DF cfm,
                               mkTextEncoder = utf32le_EF cfm }</span></span><span class="mpre">

</span><a href="#loc_185_1_185_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_1_185_11&#39;)"><span class="mpre">utf32le_DF</span></a><span class="mpre"> :: </span><a href="GHC.IO.Encoding.Failure.html#loc_42_6_42_23" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Failure.html#loc_42_6_42_23&#39;)"><span class="hl_tyconref"><span class="mpre">CodingFailureMode</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">TextDecoder</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">)
</span><a name="loc_185_1_185_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_185_1_185_11&#39;)"><span class="hl_fundecl"><span class="mpre">utf32le_DF</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">cfm</span></span><span class="mpre"> =
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 186, srcSpanStartColumn = 11, srcSpanEndLine = 192, srcSpanEndColumn = 12}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 186, srcSpanStartColumn = 23, srcSpanEndLine = 186, srcSpanEndColumn = 24},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">BufferCodec {
             encode   = utf32le_decode,
             recover  = recoverDecode cfm,
             close    = return (),
             getState = return (),
             setState = const $ return ()
          }</span></span><span class="mpre">)

</span><a href="#loc_195_1_195_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_1_195_11&#39;)"><span class="mpre">utf32le_EF</span></a><span class="mpre"> :: </span><a href="GHC.IO.Encoding.Failure.html#loc_42_6_42_23" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Failure.html#loc_42_6_42_23&#39;)"><span class="hl_tyconref"><span class="mpre">CodingFailureMode</span></span></a><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">IO</span></span><span class="mpre"> (</span><span class="hl_tyconref"><span class="mpre">TextEncoder</span></span><span class="mpre"> </span><span class="hl_tyconref"><span class="mpre">()</span></span><span class="mpre">)
</span><a name="loc_195_1_195_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_195_1_195_11&#39;)"><span class="hl_fundecl"><span class="mpre">utf32le_EF</span></span></a><span class="mpre"> </span><span class="hl_vardecl"><span class="mpre">cfm</span></span><span class="mpre"> =
  </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><span class="warning" data-warning="ExpRecConstr (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 196, srcSpanStartColumn = 11, srcSpanEndLine = 202, srcSpanEndColumn = 12}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 196, srcSpanStartColumn = 23, srcSpanEndLine = 196, srcSpanEndColumn = 24},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">BufferCodec {
             encode   = utf32le_encode,
             recover  = recoverEncode cfm,
             close    = return (),
             getState = return (),
             setState = const $ return ()
          }</span></span><span class="mpre">)


</span><a href="#loc_206_1_206_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_15&#39;)"><span class="mpre">utf32be_decode</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">DecodeBuffer</span></span><span class="mpre">
</span><a name="loc_206_1_206_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_206_1_206_15&#39;)"><span class="hl_fundecl"><span class="mpre">utf32be_decode</span></span></a><span class="mpre"> 
  </span><span class="hl_specname"><span class="mpre">input</span></span><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 207, srcSpanStartColumn = 9, srcSpanEndLine = 207, srcSpanEndColumn = 63}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 207, srcSpanStartColumn = 15, srcSpanEndLine = 207, srcSpanEndColumn = 16},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanSta"><span class="mpre">Buffer{  bufRaw=iraw, bufL=ir0, bufR=iw,  bufSize=_  }</span></span><span class="mpre">
  </span><span class="hl_specname"><span class="mpre">output</span></span><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 208, srcSpanStartColumn = 10, srcSpanEndLine = 208, srcSpanEndColumn = 63}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 208, srcSpanStartColumn = 16, srcSpanEndLine = 208, srcSpanEndColumn = 17},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanSt"><span class="mpre">Buffer{ bufRaw=oraw, bufL=_,   bufR=ow0, bufSize=os }</span></span><span class="mpre">
 = let 
       </span><a name="loc_210_8_210_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_8_210_12&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> !</span><a name="loc_210_14_210_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_14_210_16&#39;)"><span class="hl_vardecl"><span class="mpre">ir</span></span></a><span class="mpre"> !</span><a name="loc_210_18_210_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_18_210_20&#39;)"><span class="hl_vardecl"><span class="mpre">ow</span></span></a><span class="mpre">
         | </span><a href="#loc_210_18_210_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_18_210_20&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">os</span></span><span class="mpre">    = </span><a href="#loc_226_8_226_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_8_226_12&#39;)"><span class="hl_varref"><span class="mpre">done</span></span></a><span class="mpre"> </span><a href="GHC.IO.Encoding.Types.html#loc_127_23_127_38" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Types.html#loc_127_23_127_38&#39;)"><span class="hl_conref"><span class="mpre">OutputUnderflow</span></span></a><span class="mpre"> </span><a href="#loc_210_14_210_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_14_210_16&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre"> </span><a href="#loc_210_18_210_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_18_210_20&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="mpre">
         | </span><span class="hl_varref"><span class="mpre">iw</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="#loc_210_14_210_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_14_210_16&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre"> = </span><a href="#loc_226_8_226_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_8_226_12&#39;)"><span class="hl_varref"><span class="mpre">done</span></span></a><span class="mpre"> </span><a href="GHC.IO.Encoding.Types.html#loc_125_23_125_37" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Types.html#loc_125_23_125_37&#39;)"><span class="hl_conref"><span class="mpre">InputUnderflow</span></span></a><span class="mpre">  </span><a href="#loc_210_14_210_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_14_210_16&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre"> </span><a href="#loc_210_18_210_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_18_210_20&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="mpre">
         | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = do
              </span><a name="loc_214_15_214_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_15_214_17&#39;)"><span class="hl_vardecl"><span class="mpre">c0</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.Buffer.html#loc_99_1_99_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_99_1_99_13&#39;)"><span class="hl_varref"><span class="mpre">readWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">iraw</span></span><span class="mpre"> </span><a href="#loc_210_14_210_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_14_210_16&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre">
              </span><a name="loc_215_15_215_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_15_215_17&#39;)"><span class="hl_vardecl"><span class="mpre">c1</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.Buffer.html#loc_99_1_99_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_99_1_99_13&#39;)"><span class="hl_varref"><span class="mpre">readWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">iraw</span></span><span class="mpre"> (</span><a href="#loc_210_14_210_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_14_210_16&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
              </span><a name="loc_216_15_216_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_15_216_17&#39;)"><span class="hl_vardecl"><span class="mpre">c2</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.Buffer.html#loc_99_1_99_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_99_1_99_13&#39;)"><span class="hl_varref"><span class="mpre">readWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">iraw</span></span><span class="mpre"> (</span><a href="#loc_210_14_210_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_14_210_16&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">)
              </span><a name="loc_217_15_217_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_15_217_17&#39;)"><span class="hl_vardecl"><span class="mpre">c3</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.Buffer.html#loc_99_1_99_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_99_1_99_13&#39;)"><span class="hl_varref"><span class="mpre">readWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">iraw</span></span><span class="mpre"> (</span><a href="#loc_210_14_210_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_14_210_16&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">)
              let </span><a name="loc_218_19_218_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_19_218_21&#39;)"><span class="hl_vardecl"><span class="mpre">x1</span></span></a><span class="mpre"> = </span><a href="#loc_310_1_310_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_1_310_5&#39;)"><span class="hl_varref"><span class="mpre">chr4</span></span></a><span class="mpre"> </span><a href="#loc_214_15_214_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_214_15_214_17&#39;)"><span class="hl_varref"><span class="mpre">c0</span></span></a><span class="mpre"> </span><a href="#loc_215_15_215_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_215_15_215_17&#39;)"><span class="hl_varref"><span class="mpre">c1</span></span></a><span class="mpre"> </span><a href="#loc_216_15_216_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_216_15_216_17&#39;)"><span class="hl_varref"><span class="mpre">c2</span></span></a><span class="mpre"> </span><a href="#loc_217_15_217_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_217_15_217_17&#39;)"><span class="hl_varref"><span class="mpre">c3</span></span></a><span class="mpre">
              if </span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> (</span><a href="#loc_334_1_334_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_1_334_9&#39;)"><span class="hl_varref"><span class="mpre">validate</span></span></a><span class="mpre"> </span><a href="#loc_218_19_218_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_19_218_21&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre">) then </span><a href="#loc_223_12_223_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_223_12_223_19&#39;)"><span class="hl_varref"><span class="mpre">invalid</span></span></a><span class="mpre"> else do
              </span><a name="loc_220_15_220_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_15_220_18&#39;)"><span class="hl_vardecl"><span class="mpre">ow&#39;</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.Buffer.html#loc_123_1_123_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_123_1_123_13&#39;)"><span class="hl_varref"><span class="mpre">writeCharBuf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">oraw</span></span><span class="mpre"> </span><a href="#loc_210_18_210_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_18_210_20&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="mpre"> </span><a href="#loc_218_19_218_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_218_19_218_21&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre">
              </span><a href="#loc_210_8_210_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_8_210_12&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> (</span><a href="#loc_210_14_210_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_14_210_16&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre">) </span><a href="#loc_220_15_220_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_220_15_220_18&#39;)"><span class="hl_varref"><span class="mpre">ow&#39;</span></span></a><span class="mpre">
         where
           </span><a name="loc_223_12_223_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_223_12_223_19&#39;)"><span class="hl_vardecl"><span class="mpre">invalid</span></span></a><span class="mpre"> = </span><a href="#loc_226_8_226_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_8_226_12&#39;)"><span class="hl_varref"><span class="mpre">done</span></span></a><span class="mpre"> </span><a href="GHC.IO.Encoding.Types.html#loc_128_23_128_38" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Types.html#loc_128_23_128_38&#39;)"><span class="hl_conref"><span class="mpre">InvalidSequence</span></span></a><span class="mpre"> </span><a href="#loc_210_14_210_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_14_210_16&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre"> </span><a href="#loc_210_18_210_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_18_210_20&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="mpre">

       </span><span class="hl_comment"><span class="mpre">-- lambda-lifted, to avoid thunks being built in the inner-loop:</span></span><span class="mpre">
       </span><a name="loc_226_8_226_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_8_226_12&#39;)"><span class="hl_fundecl"><span class="mpre">done</span></span></a><span class="mpre"> </span><a name="loc_226_13_226_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_13_226_16&#39;)"><span class="hl_vardecl"><span class="mpre">why</span></span></a><span class="mpre"> !</span><a name="loc_226_18_226_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_18_226_20&#39;)"><span class="hl_vardecl"><span class="mpre">ir</span></span></a><span class="mpre"> !</span><span class="hl_vardecl"><span class="mpre">ow</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_226_13_226_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_13_226_16&#39;)"><span class="hl_varref"><span class="mpre">why</span></span></a><span class="mpre">,
                                  if </span><a href="#loc_226_18_226_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_226_18_226_20&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">iw</span></span><span class="mpre"> then </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 227, srcSpanStartColumn = 52, srcSpanEndLine = 227, srcSpanEndColumn = 75}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 227, srcSpanStartColumn = 57, srcSpanEndLine = 227, srcSpanEndColumn = 58},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">input{ bufL=0, bufR=0 }</span></span><span class="mpre">
                                              else </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 228, srcSpanStartColumn = 52, srcSpanEndLine = 228, srcSpanEndColumn = 68}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 228, srcSpanStartColumn = 57, srcSpanEndLine = 228, srcSpanEndColumn = 58},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">input{ bufL=ir }</span></span><span class="mpre">,
                                  </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 229, srcSpanStartColumn = 35, srcSpanEndLine = 229, srcSpanEndColumn = 52}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 229, srcSpanStartColumn = 41, srcSpanEndLine = 229, srcSpanEndColumn = 42},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">output{ bufR=ow }</span></span><span class="mpre">)
    in
    </span><a href="#loc_210_8_210_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_210_8_210_12&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ir0</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ow0</span></span><span class="mpre">

</span><a href="#loc_234_1_234_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_1_234_15&#39;)"><span class="mpre">utf32le_decode</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">DecodeBuffer</span></span><span class="mpre">
</span><a name="loc_234_1_234_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_234_1_234_15&#39;)"><span class="hl_fundecl"><span class="mpre">utf32le_decode</span></span></a><span class="mpre"> 
  </span><span class="hl_specname"><span class="mpre">input</span></span><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 235, srcSpanStartColumn = 9, srcSpanEndLine = 235, srcSpanEndColumn = 63}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 235, srcSpanStartColumn = 15, srcSpanEndLine = 235, srcSpanEndColumn = 16},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanSta"><span class="mpre">Buffer{  bufRaw=iraw, bufL=ir0, bufR=iw,  bufSize=_  }</span></span><span class="mpre">
  </span><span class="hl_specname"><span class="mpre">output</span></span><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 236, srcSpanStartColumn = 10, srcSpanEndLine = 236, srcSpanEndColumn = 63}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 236, srcSpanStartColumn = 16, srcSpanEndLine = 236, srcSpanEndColumn = 17},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanSt"><span class="mpre">Buffer{ bufRaw=oraw, bufL=_,   bufR=ow0, bufSize=os }</span></span><span class="mpre">
 = let 
       </span><a name="loc_238_8_238_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_8_238_12&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> !</span><a name="loc_238_14_238_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_14_238_16&#39;)"><span class="hl_vardecl"><span class="mpre">ir</span></span></a><span class="mpre"> !</span><a name="loc_238_18_238_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_18_238_20&#39;)"><span class="hl_vardecl"><span class="mpre">ow</span></span></a><span class="mpre">
         | </span><a href="#loc_238_18_238_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_18_238_20&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">os</span></span><span class="mpre">    = </span><a href="#loc_254_8_254_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_8_254_12&#39;)"><span class="hl_varref"><span class="mpre">done</span></span></a><span class="mpre"> </span><a href="GHC.IO.Encoding.Types.html#loc_127_23_127_38" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Types.html#loc_127_23_127_38&#39;)"><span class="hl_conref"><span class="mpre">OutputUnderflow</span></span></a><span class="mpre"> </span><a href="#loc_238_14_238_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_14_238_16&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre"> </span><a href="#loc_238_18_238_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_18_238_20&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="mpre">
         | </span><span class="hl_varref"><span class="mpre">iw</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="#loc_238_14_238_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_14_238_16&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre"> = </span><a href="#loc_254_8_254_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_8_254_12&#39;)"><span class="hl_varref"><span class="mpre">done</span></span></a><span class="mpre"> </span><a href="GHC.IO.Encoding.Types.html#loc_125_23_125_37" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Types.html#loc_125_23_125_37&#39;)"><span class="hl_conref"><span class="mpre">InputUnderflow</span></span></a><span class="mpre">  </span><a href="#loc_238_14_238_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_14_238_16&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre"> </span><a href="#loc_238_18_238_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_18_238_20&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="mpre">
         | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = do
              </span><a name="loc_242_15_242_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_15_242_17&#39;)"><span class="hl_vardecl"><span class="mpre">c0</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.Buffer.html#loc_99_1_99_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_99_1_99_13&#39;)"><span class="hl_varref"><span class="mpre">readWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">iraw</span></span><span class="mpre"> </span><a href="#loc_238_14_238_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_14_238_16&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre">
              </span><a name="loc_243_15_243_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_243_15_243_17&#39;)"><span class="hl_vardecl"><span class="mpre">c1</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.Buffer.html#loc_99_1_99_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_99_1_99_13&#39;)"><span class="hl_varref"><span class="mpre">readWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">iraw</span></span><span class="mpre"> (</span><a href="#loc_238_14_238_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_14_238_16&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">)
              </span><a name="loc_244_15_244_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_244_15_244_17&#39;)"><span class="hl_vardecl"><span class="mpre">c2</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.Buffer.html#loc_99_1_99_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_99_1_99_13&#39;)"><span class="hl_varref"><span class="mpre">readWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">iraw</span></span><span class="mpre"> (</span><a href="#loc_238_14_238_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_14_238_16&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">)
              </span><a name="loc_245_15_245_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_245_15_245_17&#39;)"><span class="hl_vardecl"><span class="mpre">c3</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.Buffer.html#loc_99_1_99_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_99_1_99_13&#39;)"><span class="hl_varref"><span class="mpre">readWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">iraw</span></span><span class="mpre"> (</span><a href="#loc_238_14_238_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_14_238_16&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">)
              let </span><a name="loc_246_19_246_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_19_246_21&#39;)"><span class="hl_vardecl"><span class="mpre">x1</span></span></a><span class="mpre"> = </span><a href="#loc_310_1_310_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_1_310_5&#39;)"><span class="hl_varref"><span class="mpre">chr4</span></span></a><span class="mpre"> </span><a href="#loc_245_15_245_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_245_15_245_17&#39;)"><span class="hl_varref"><span class="mpre">c3</span></span></a><span class="mpre"> </span><a href="#loc_244_15_244_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_244_15_244_17&#39;)"><span class="hl_varref"><span class="mpre">c2</span></span></a><span class="mpre"> </span><a href="#loc_243_15_243_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_243_15_243_17&#39;)"><span class="hl_varref"><span class="mpre">c1</span></span></a><span class="mpre"> </span><a href="#loc_242_15_242_17" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_242_15_242_17&#39;)"><span class="hl_varref"><span class="mpre">c0</span></span></a><span class="mpre">
              if </span><span class="hl_varref"><span class="mpre">not</span></span><span class="mpre"> (</span><a href="#loc_334_1_334_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_1_334_9&#39;)"><span class="hl_varref"><span class="mpre">validate</span></span></a><span class="mpre"> </span><a href="#loc_246_19_246_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_19_246_21&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre">) then </span><a href="#loc_251_12_251_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_251_12_251_19&#39;)"><span class="hl_varref"><span class="mpre">invalid</span></span></a><span class="mpre"> else do
              </span><a name="loc_248_15_248_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_15_248_18&#39;)"><span class="hl_vardecl"><span class="mpre">ow&#39;</span></span></a><span class="mpre"> &lt;- </span><a href="GHC.IO.Buffer.html#loc_123_1_123_13" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_123_1_123_13&#39;)"><span class="hl_varref"><span class="mpre">writeCharBuf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">oraw</span></span><span class="mpre"> </span><a href="#loc_238_18_238_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_18_238_20&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="mpre"> </span><a href="#loc_246_19_246_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_246_19_246_21&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre">
              </span><a href="#loc_238_8_238_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_8_238_12&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> (</span><a href="#loc_238_14_238_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_14_238_16&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre">) </span><a href="#loc_248_15_248_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_248_15_248_18&#39;)"><span class="hl_varref"><span class="mpre">ow&#39;</span></span></a><span class="mpre">
         where
           </span><a name="loc_251_12_251_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_251_12_251_19&#39;)"><span class="hl_vardecl"><span class="mpre">invalid</span></span></a><span class="mpre"> = </span><a href="#loc_254_8_254_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_8_254_12&#39;)"><span class="hl_varref"><span class="mpre">done</span></span></a><span class="mpre"> </span><a href="GHC.IO.Encoding.Types.html#loc_128_23_128_38" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Types.html#loc_128_23_128_38&#39;)"><span class="hl_conref"><span class="mpre">InvalidSequence</span></span></a><span class="mpre"> </span><a href="#loc_238_14_238_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_14_238_16&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre"> </span><a href="#loc_238_18_238_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_18_238_20&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="mpre">

       </span><span class="hl_comment"><span class="mpre">-- lambda-lifted, to avoid thunks being built in the inner-loop:</span></span><span class="mpre">
       </span><a name="loc_254_8_254_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_8_254_12&#39;)"><span class="hl_fundecl"><span class="mpre">done</span></span></a><span class="mpre"> </span><a name="loc_254_13_254_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_13_254_16&#39;)"><span class="hl_vardecl"><span class="mpre">why</span></span></a><span class="mpre"> !</span><a name="loc_254_18_254_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_18_254_20&#39;)"><span class="hl_vardecl"><span class="mpre">ir</span></span></a><span class="mpre"> !</span><span class="hl_vardecl"><span class="mpre">ow</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_254_13_254_16" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_13_254_16&#39;)"><span class="hl_varref"><span class="mpre">why</span></span></a><span class="mpre">,
                                  if </span><a href="#loc_254_18_254_20" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_254_18_254_20&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">iw</span></span><span class="mpre"> then </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 255, srcSpanStartColumn = 52, srcSpanEndLine = 255, srcSpanEndColumn = 75}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 255, srcSpanStartColumn = 57, srcSpanEndLine = 255, srcSpanEndColumn = 58},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">input{ bufL=0, bufR=0 }</span></span><span class="mpre">
                                              else </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 256, srcSpanStartColumn = 52, srcSpanEndLine = 256, srcSpanEndColumn = 68}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 256, srcSpanStartColumn = 57, srcSpanEndLine = 256, srcSpanEndColumn = 58},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">input{ bufL=ir }</span></span><span class="mpre">,
                                  </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 257, srcSpanStartColumn = 35, srcSpanEndLine = 257, srcSpanEndColumn = 52}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 257, srcSpanStartColumn = 41, srcSpanEndLine = 257, srcSpanEndColumn = 42},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">output{ bufR=ow }</span></span><span class="mpre">)
    in
    </span><a href="#loc_238_8_238_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_238_8_238_12&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ir0</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ow0</span></span><span class="mpre">

</span><a href="#loc_262_1_262_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_1_262_15&#39;)"><span class="mpre">utf32be_encode</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">EncodeBuffer</span></span><span class="mpre">
</span><a name="loc_262_1_262_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_262_1_262_15&#39;)"><span class="hl_fundecl"><span class="mpre">utf32be_encode</span></span></a><span class="mpre">
  </span><span class="hl_specname"><span class="mpre">input</span></span><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 263, srcSpanStartColumn = 9, srcSpanEndLine = 263, srcSpanEndColumn = 63}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 263, srcSpanStartColumn = 15, srcSpanEndLine = 263, srcSpanEndColumn = 16},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanSta"><span class="mpre">Buffer{  bufRaw=iraw, bufL=ir0, bufR=iw,  bufSize=_  }</span></span><span class="mpre">
  </span><span class="hl_specname"><span class="mpre">output</span></span><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 264, srcSpanStartColumn = 10, srcSpanEndLine = 264, srcSpanEndColumn = 63}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 264, srcSpanStartColumn = 16, srcSpanEndLine = 264, srcSpanEndColumn = 17},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanSt"><span class="mpre">Buffer{ bufRaw=oraw, bufL=_,   bufR=ow0, bufSize=os }</span></span><span class="mpre">
 = let 
      </span><a name="loc_266_7_266_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_266_7_266_11&#39;)"><span class="hl_fundecl"><span class="mpre">done</span></span></a><span class="mpre"> </span><a name="loc_266_12_266_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_266_12_266_15&#39;)"><span class="hl_vardecl"><span class="mpre">why</span></span></a><span class="mpre"> !</span><a name="loc_266_17_266_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_266_17_266_19&#39;)"><span class="hl_vardecl"><span class="mpre">ir</span></span></a><span class="mpre"> !</span><span class="hl_vardecl"><span class="mpre">ow</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_266_12_266_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_266_12_266_15&#39;)"><span class="hl_varref"><span class="mpre">why</span></span></a><span class="mpre">,
                                 if </span><a href="#loc_266_17_266_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_266_17_266_19&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">iw</span></span><span class="mpre"> then </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 267, srcSpanStartColumn = 51, srcSpanEndLine = 267, srcSpanEndColumn = 74}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 267, srcSpanStartColumn = 56, srcSpanEndLine = 267, srcSpanEndColumn = 57},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">input{ bufL=0, bufR=0 }</span></span><span class="mpre">
                                             else </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 268, srcSpanStartColumn = 51, srcSpanEndLine = 268, srcSpanEndColumn = 67}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 268, srcSpanStartColumn = 56, srcSpanEndLine = 268, srcSpanEndColumn = 57},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">input{ bufL=ir }</span></span><span class="mpre">,
                                 </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 269, srcSpanStartColumn = 34, srcSpanEndLine = 269, srcSpanEndColumn = 51}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 269, srcSpanStartColumn = 40, srcSpanEndLine = 269, srcSpanEndColumn = 41},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">output{ bufR=ow }</span></span><span class="mpre">)
      </span><a name="loc_270_7_270_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_7_270_11&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> !</span><a name="loc_270_13_270_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_13_270_15&#39;)"><span class="hl_vardecl"><span class="mpre">ir</span></span></a><span class="mpre"> !</span><a name="loc_270_17_270_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_17_270_19&#39;)"><span class="hl_vardecl"><span class="mpre">ow</span></span></a><span class="mpre">
        | </span><a href="#loc_270_13_270_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_13_270_15&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">iw</span></span><span class="mpre">    = </span><a href="#loc_266_7_266_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_266_7_266_11&#39;)"><span class="hl_varref"><span class="mpre">done</span></span></a><span class="mpre"> </span><a href="GHC.IO.Encoding.Types.html#loc_125_23_125_37" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Types.html#loc_125_23_125_37&#39;)"><span class="hl_conref"><span class="mpre">InputUnderflow</span></span></a><span class="mpre">  </span><a href="#loc_270_13_270_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_13_270_15&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre"> </span><a href="#loc_270_17_270_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_17_270_19&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="mpre">
        | </span><span class="hl_varref"><span class="mpre">os</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="#loc_270_17_270_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_17_270_19&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre"> = </span><a href="#loc_266_7_266_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_266_7_266_11&#39;)"><span class="hl_varref"><span class="mpre">done</span></span></a><span class="mpre"> </span><a href="GHC.IO.Encoding.Types.html#loc_127_23_127_38" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Types.html#loc_127_23_127_38&#39;)"><span class="hl_conref"><span class="mpre">OutputUnderflow</span></span></a><span class="mpre"> </span><a href="#loc_270_13_270_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_13_270_15&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre"> </span><a href="#loc_270_17_270_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_17_270_19&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="mpre">
        | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = do
           (</span><a name="loc_274_13_274_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_13_274_14&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">,</span><a name="loc_274_15_274_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_15_274_18&#39;)"><span class="hl_vardecl"><span class="mpre">ir&#39;</span></span></a><span class="mpre">) &lt;- </span><a href="GHC.IO.Buffer.html#loc_119_1_119_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_119_1_119_12&#39;)"><span class="hl_varref"><span class="mpre">readCharBuf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">iraw</span></span><span class="mpre"> </span><a href="#loc_270_13_270_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_13_270_15&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre">
           if </span><a href="GHC.IO.Encoding.Failure.html#loc_126_1_126_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Failure.html#loc_126_1_126_12&#39;)"><span class="hl_varref"><span class="mpre">isSurrogate</span></span></a><span class="mpre"> </span><a href="#loc_274_13_274_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_13_274_14&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> then </span><a href="#loc_266_7_266_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_266_7_266_11&#39;)"><span class="hl_varref"><span class="mpre">done</span></span></a><span class="mpre"> </span><a href="GHC.IO.Encoding.Types.html#loc_128_23_128_38" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Types.html#loc_128_23_128_38&#39;)"><span class="hl_conref"><span class="mpre">InvalidSequence</span></span></a><span class="mpre"> </span><a href="#loc_270_13_270_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_13_270_15&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre"> </span><a href="#loc_270_17_270_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_17_270_19&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="mpre"> else do
             let (</span><a name="loc_276_19_276_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_19_276_21&#39;)"><span class="hl_vardecl"><span class="mpre">c0</span></span></a><span class="mpre">,</span><a name="loc_276_22_276_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_22_276_24&#39;)"><span class="hl_vardecl"><span class="mpre">c1</span></span></a><span class="mpre">,</span><a name="loc_276_25_276_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_25_276_27&#39;)"><span class="hl_vardecl"><span class="mpre">c2</span></span></a><span class="mpre">,</span><a name="loc_276_28_276_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_28_276_30&#39;)"><span class="hl_vardecl"><span class="mpre">c3</span></span></a><span class="mpre">) = </span><a href="#loc_324_1_324_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_1_324_5&#39;)"><span class="hl_varref"><span class="mpre">ord4</span></span></a><span class="mpre"> </span><a href="#loc_274_13_274_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_13_274_14&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
             </span><a href="GHC.IO.Buffer.html#loc_102_1_102_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_102_1_102_14&#39;)"><span class="hl_varref"><span class="mpre">writeWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">oraw</span></span><span class="mpre"> </span><a href="#loc_270_17_270_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_17_270_19&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="mpre">     </span><a href="#loc_276_19_276_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_19_276_21&#39;)"><span class="hl_varref"><span class="mpre">c0</span></span></a><span class="mpre">
             </span><a href="GHC.IO.Buffer.html#loc_102_1_102_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_102_1_102_14&#39;)"><span class="hl_varref"><span class="mpre">writeWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">oraw</span></span><span class="mpre"> (</span><a href="#loc_270_17_270_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_17_270_19&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><a href="#loc_276_22_276_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_22_276_24&#39;)"><span class="hl_varref"><span class="mpre">c1</span></span></a><span class="mpre">
             </span><a href="GHC.IO.Buffer.html#loc_102_1_102_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_102_1_102_14&#39;)"><span class="hl_varref"><span class="mpre">writeWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">oraw</span></span><span class="mpre"> (</span><a href="#loc_270_17_270_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_17_270_19&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">) </span><a href="#loc_276_25_276_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_25_276_27&#39;)"><span class="hl_varref"><span class="mpre">c2</span></span></a><span class="mpre">
             </span><a href="GHC.IO.Buffer.html#loc_102_1_102_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_102_1_102_14&#39;)"><span class="hl_varref"><span class="mpre">writeWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">oraw</span></span><span class="mpre"> (</span><a href="#loc_270_17_270_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_17_270_19&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">) </span><a href="#loc_276_28_276_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_276_28_276_30&#39;)"><span class="hl_varref"><span class="mpre">c3</span></span></a><span class="mpre">
             </span><a href="#loc_270_7_270_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_7_270_11&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a href="#loc_274_15_274_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_274_15_274_18&#39;)"><span class="hl_varref"><span class="mpre">ir&#39;</span></span></a><span class="mpre"> (</span><a href="#loc_270_17_270_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_17_270_19&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre">)
    in
    </span><a href="#loc_270_7_270_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_270_7_270_11&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ir0</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ow0</span></span><span class="mpre">

</span><a href="#loc_286_1_286_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_1_286_15&#39;)"><span class="mpre">utf32le_encode</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">EncodeBuffer</span></span><span class="mpre">
</span><a name="loc_286_1_286_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_286_1_286_15&#39;)"><span class="hl_fundecl"><span class="mpre">utf32le_encode</span></span></a><span class="mpre">
  </span><span class="hl_specname"><span class="mpre">input</span></span><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 287, srcSpanStartColumn = 9, srcSpanEndLine = 287, srcSpanEndColumn = 63}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 287, srcSpanStartColumn = 15, srcSpanEndLine = 287, srcSpanEndColumn = 16},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanSta"><span class="mpre">Buffer{  bufRaw=iraw, bufL=ir0, bufR=iw,  bufSize=_  }</span></span><span class="mpre">
  </span><span class="hl_specname"><span class="mpre">output</span></span><span class="mpre">@</span><span class="warning" data-warning="PatPRec (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 288, srcSpanStartColumn = 10, srcSpanEndLine = 288, srcSpanEndColumn = 63}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 288, srcSpanStartColumn = 16, srcSpanEndLine = 288, srcSpanEndColumn = 17},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanSt"><span class="mpre">Buffer{ bufRaw=oraw, bufL=_,   bufR=ow0, bufSize=os }</span></span><span class="mpre">
 = let
      </span><a name="loc_290_7_290_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_7_290_11&#39;)"><span class="hl_fundecl"><span class="mpre">done</span></span></a><span class="mpre"> </span><a name="loc_290_12_290_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_12_290_15&#39;)"><span class="hl_vardecl"><span class="mpre">why</span></span></a><span class="mpre"> !</span><a name="loc_290_17_290_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_17_290_19&#39;)"><span class="hl_vardecl"><span class="mpre">ir</span></span></a><span class="mpre"> !</span><span class="hl_vardecl"><span class="mpre">ow</span></span><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">return</span></span><span class="mpre"> (</span><a href="#loc_290_12_290_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_12_290_15&#39;)"><span class="hl_varref"><span class="mpre">why</span></span></a><span class="mpre">,
                                 if </span><a href="#loc_290_17_290_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_17_290_19&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">==</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">iw</span></span><span class="mpre"> then </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 291, srcSpanStartColumn = 51, srcSpanEndLine = 291, srcSpanEndColumn = 74}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 291, srcSpanStartColumn = 56, srcSpanEndLine = 291, srcSpanEndColumn = 57},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">input{ bufL=0, bufR=0 }</span></span><span class="mpre">
                                             else </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 292, srcSpanStartColumn = 51, srcSpanEndLine = 292, srcSpanEndColumn = 67}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 292, srcSpanStartColumn = 56, srcSpanEndLine = 292, srcSpanEndColumn = 57},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">input{ bufL=ir }</span></span><span class="mpre">,
                                 </span><span class="warning" data-warning="ExpRecUpdate (SrcSpanInfo {srcInfoSpan = SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 293, srcSpanStartColumn = 34, srcSpanEndLine = 293, srcSpanEndColumn = 51}, srcInfoPoints = [SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcSpanStartLine = 293, srcSpanStartColumn = 40, srcSpanEndLine = 293, srcSpanEndColumn = 41},SrcSpan {srcSpanFilename = &quot;/home/vagrant/nemnem/pull/base-4.7.0.0/GHC/IO/Encoding/UTF32.hs&quot;, srcS"><span class="mpre">output{ bufR=ow }</span></span><span class="mpre">)
      </span><a name="loc_294_7_294_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_7_294_11&#39;)"><span class="hl_fundecl"><span class="mpre">loop</span></span></a><span class="mpre"> !</span><a name="loc_294_13_294_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_13_294_15&#39;)"><span class="hl_vardecl"><span class="mpre">ir</span></span></a><span class="mpre"> !</span><a name="loc_294_17_294_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_17_294_19&#39;)"><span class="hl_vardecl"><span class="mpre">ow</span></span></a><span class="mpre">
        | </span><a href="#loc_294_13_294_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_13_294_15&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">iw</span></span><span class="mpre">    = </span><a href="#loc_290_7_290_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_7_290_11&#39;)"><span class="hl_varref"><span class="mpre">done</span></span></a><span class="mpre"> </span><a href="GHC.IO.Encoding.Types.html#loc_125_23_125_37" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Types.html#loc_125_23_125_37&#39;)"><span class="hl_conref"><span class="mpre">InputUnderflow</span></span></a><span class="mpre">  </span><a href="#loc_294_13_294_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_13_294_15&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre"> </span><a href="#loc_294_17_294_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_17_294_19&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="mpre">
        | </span><span class="hl_varref"><span class="mpre">os</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">-</span></span><span class="mpre"> </span><a href="#loc_294_17_294_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_17_294_19&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre"> = </span><a href="#loc_290_7_290_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_7_290_11&#39;)"><span class="hl_varref"><span class="mpre">done</span></span></a><span class="mpre"> </span><a href="GHC.IO.Encoding.Types.html#loc_127_23_127_38" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Types.html#loc_127_23_127_38&#39;)"><span class="hl_conref"><span class="mpre">OutputUnderflow</span></span></a><span class="mpre"> </span><a href="#loc_294_13_294_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_13_294_15&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre"> </span><a href="#loc_294_17_294_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_17_294_19&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="mpre">
        | </span><span class="hl_varref"><span class="mpre">otherwise</span></span><span class="mpre"> = do
           (</span><a name="loc_298_13_298_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_298_13_298_14&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre">,</span><a name="loc_298_15_298_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_298_15_298_18&#39;)"><span class="hl_vardecl"><span class="mpre">ir&#39;</span></span></a><span class="mpre">) &lt;- </span><a href="GHC.IO.Buffer.html#loc_119_1_119_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_119_1_119_12&#39;)"><span class="hl_varref"><span class="mpre">readCharBuf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">iraw</span></span><span class="mpre"> </span><a href="#loc_294_13_294_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_13_294_15&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre">
           if </span><a href="GHC.IO.Encoding.Failure.html#loc_126_1_126_12" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Failure.html#loc_126_1_126_12&#39;)"><span class="hl_varref"><span class="mpre">isSurrogate</span></span></a><span class="mpre"> </span><a href="#loc_298_13_298_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_298_13_298_14&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre"> then </span><a href="#loc_290_7_290_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_290_7_290_11&#39;)"><span class="hl_varref"><span class="mpre">done</span></span></a><span class="mpre"> </span><a href="GHC.IO.Encoding.Types.html#loc_128_23_128_38" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Encoding.Types.html#loc_128_23_128_38&#39;)"><span class="hl_conref"><span class="mpre">InvalidSequence</span></span></a><span class="mpre"> </span><a href="#loc_294_13_294_15" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_13_294_15&#39;)"><span class="hl_varref"><span class="mpre">ir</span></span></a><span class="mpre"> </span><a href="#loc_294_17_294_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_17_294_19&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="mpre"> else do
             let (</span><a name="loc_300_19_300_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_19_300_21&#39;)"><span class="hl_vardecl"><span class="mpre">c0</span></span></a><span class="mpre">,</span><a name="loc_300_22_300_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_22_300_24&#39;)"><span class="hl_vardecl"><span class="mpre">c1</span></span></a><span class="mpre">,</span><a name="loc_300_25_300_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_25_300_27&#39;)"><span class="hl_vardecl"><span class="mpre">c2</span></span></a><span class="mpre">,</span><a name="loc_300_28_300_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_28_300_30&#39;)"><span class="hl_vardecl"><span class="mpre">c3</span></span></a><span class="mpre">) = </span><a href="#loc_324_1_324_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_1_324_5&#39;)"><span class="hl_varref"><span class="mpre">ord4</span></span></a><span class="mpre"> </span><a href="#loc_298_13_298_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_298_13_298_14&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
             </span><a href="GHC.IO.Buffer.html#loc_102_1_102_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_102_1_102_14&#39;)"><span class="hl_varref"><span class="mpre">writeWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">oraw</span></span><span class="mpre"> </span><a href="#loc_294_17_294_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_17_294_19&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="mpre">     </span><a href="#loc_300_28_300_30" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_28_300_30&#39;)"><span class="hl_varref"><span class="mpre">c3</span></span></a><span class="mpre">
             </span><a href="GHC.IO.Buffer.html#loc_102_1_102_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_102_1_102_14&#39;)"><span class="hl_varref"><span class="mpre">writeWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">oraw</span></span><span class="mpre"> (</span><a href="#loc_294_17_294_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_17_294_19&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">1</span></span><span class="mpre">) </span><a href="#loc_300_25_300_27" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_25_300_27&#39;)"><span class="hl_varref"><span class="mpre">c2</span></span></a><span class="mpre">
             </span><a href="GHC.IO.Buffer.html#loc_102_1_102_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_102_1_102_14&#39;)"><span class="hl_varref"><span class="mpre">writeWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">oraw</span></span><span class="mpre"> (</span><a href="#loc_294_17_294_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_17_294_19&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">2</span></span><span class="mpre">) </span><a href="#loc_300_22_300_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_22_300_24&#39;)"><span class="hl_varref"><span class="mpre">c1</span></span></a><span class="mpre">
             </span><a href="GHC.IO.Buffer.html#loc_102_1_102_14" onmouseover="nemnem.highlightLocalToRemote(&#39;GHC.IO.Buffer.html#loc_102_1_102_14&#39;)"><span class="hl_varref"><span class="mpre">writeWord8Buf</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">oraw</span></span><span class="mpre"> (</span><a href="#loc_294_17_294_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_17_294_19&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">3</span></span><span class="mpre">) </span><a href="#loc_300_19_300_21" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_300_19_300_21&#39;)"><span class="hl_varref"><span class="mpre">c0</span></span></a><span class="mpre">
             </span><a href="#loc_294_7_294_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_7_294_11&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><a href="#loc_298_15_298_18" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_298_15_298_18&#39;)"><span class="hl_varref"><span class="mpre">ir&#39;</span></span></a><span class="mpre"> (</span><a href="#loc_294_17_294_19" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_17_294_19&#39;)"><span class="hl_varref"><span class="mpre">ow</span></span></a><span class="hl_infix"><span class="mpre">+</span></span><span class="hl_num"><span class="mpre">4</span></span><span class="mpre">)
    in
    </span><a href="#loc_294_7_294_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_294_7_294_11&#39;)"><span class="hl_varref"><span class="mpre">loop</span></span></a><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ir0</span></span><span class="mpre"> </span><span class="hl_varref"><span class="mpre">ow0</span></span><span class="mpre">

</span><a href="#loc_310_1_310_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_1_310_5&#39;)"><span class="mpre">chr4</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre">
</span><a name="loc_310_1_310_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_1_310_5&#39;)"><span class="hl_fundecl"><span class="mpre">chr4</span></span></a><span class="mpre"> (</span><span class="hl_conref"><span class="mpre">W8#</span></span><span class="mpre"> </span><a name="loc_310_11_310_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_11_310_14&#39;)"><span class="hl_vardecl"><span class="mpre">x1#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">W8#</span></span><span class="mpre"> </span><a name="loc_310_21_310_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_21_310_24&#39;)"><span class="hl_vardecl"><span class="mpre">x2#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">W8#</span></span><span class="mpre"> </span><a name="loc_310_31_310_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_31_310_34&#39;)"><span class="hl_vardecl"><span class="mpre">x3#</span></span></a><span class="mpre">) (</span><span class="hl_conref"><span class="mpre">W8#</span></span><span class="mpre"> </span><a name="loc_310_41_310_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_41_310_44&#39;)"><span class="hl_vardecl"><span class="mpre">x4#</span></span></a><span class="mpre">) =
    </span><span class="hl_conref"><span class="mpre">C#</span></span><span class="mpre"> (</span><span class="hl_varref"><span class="mpre">chr#</span></span><span class="mpre"> (</span><a href="#loc_317_8_317_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_317_8_317_11&#39;)"><span class="hl_varref"><span class="mpre">z1#</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+#</span></span><span class="mpre"> </span><a href="#loc_318_8_318_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_318_8_318_11&#39;)"><span class="hl_varref"><span class="mpre">z2#</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+#</span></span><span class="mpre"> </span><a href="#loc_319_8_319_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_8_319_11&#39;)"><span class="hl_varref"><span class="mpre">z3#</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">+#</span></span><span class="mpre"> </span><a href="#loc_320_8_320_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_320_8_320_11&#39;)"><span class="hl_varref"><span class="mpre">z4#</span></span></a><span class="mpre">))
    where
      !</span><a name="loc_313_8_313_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_8_313_11&#39;)"><span class="hl_vardecl"><span class="mpre">y1#</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">word2Int#</span></span><span class="mpre"> </span><a href="#loc_310_11_310_14" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_11_310_14&#39;)"><span class="hl_varref"><span class="mpre">x1#</span></span></a><span class="mpre">
      !</span><a name="loc_314_8_314_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_314_8_314_11&#39;)"><span class="hl_vardecl"><span class="mpre">y2#</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">word2Int#</span></span><span class="mpre"> </span><a href="#loc_310_21_310_24" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_21_310_24&#39;)"><span class="hl_varref"><span class="mpre">x2#</span></span></a><span class="mpre">
      !</span><a name="loc_315_8_315_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_315_8_315_11&#39;)"><span class="hl_vardecl"><span class="mpre">y3#</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">word2Int#</span></span><span class="mpre"> </span><a href="#loc_310_31_310_34" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_31_310_34&#39;)"><span class="hl_varref"><span class="mpre">x3#</span></span></a><span class="mpre">
      !</span><a name="loc_316_8_316_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_8_316_11&#39;)"><span class="hl_vardecl"><span class="mpre">y4#</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">word2Int#</span></span><span class="mpre"> </span><a href="#loc_310_41_310_44" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_41_310_44&#39;)"><span class="hl_varref"><span class="mpre">x4#</span></span></a><span class="mpre">
      !</span><a name="loc_317_8_317_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_317_8_317_11&#39;)"><span class="hl_vardecl"><span class="mpre">z1#</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">uncheckedIShiftL#</span></span><span class="mpre"> </span><a href="#loc_313_8_313_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_313_8_313_11&#39;)"><span class="hl_varref"><span class="mpre">y1#</span></span></a><span class="mpre"> 24#
      !</span><a name="loc_318_8_318_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_318_8_318_11&#39;)"><span class="hl_vardecl"><span class="mpre">z2#</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">uncheckedIShiftL#</span></span><span class="mpre"> </span><a href="#loc_314_8_314_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_314_8_314_11&#39;)"><span class="hl_varref"><span class="mpre">y2#</span></span></a><span class="mpre"> 16#
      !</span><a name="loc_319_8_319_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_319_8_319_11&#39;)"><span class="hl_vardecl"><span class="mpre">z3#</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">uncheckedIShiftL#</span></span><span class="mpre"> </span><a href="#loc_315_8_315_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_315_8_315_11&#39;)"><span class="hl_varref"><span class="mpre">y3#</span></span></a><span class="mpre"> 8#
      !</span><a name="loc_320_8_320_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_320_8_320_11&#39;)"><span class="hl_vardecl"><span class="mpre">z4#</span></span></a><span class="mpre"> = </span><a href="#loc_316_8_316_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_316_8_316_11&#39;)"><span class="hl_varref"><span class="mpre">y4#</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_310_1_310_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_310_1_310_5&#39;)"><span class="mpre">chr4</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span><a href="#loc_324_1_324_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_1_324_5&#39;)"><span class="mpre">ord4</span></a><span class="mpre"> :: </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; (</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">,</span><span class="hl_tyconref"><span class="mpre">Word8</span></span><span class="mpre">)
</span><a name="loc_324_1_324_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_1_324_5&#39;)"><span class="hl_fundecl"><span class="mpre">ord4</span></span></a><span class="mpre"> </span><a name="loc_324_6_324_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_6_324_7&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = (</span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> (</span><a href="#loc_329_5_329_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_5_329_6&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="Data.Bits.html#loc_226_5_226_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Bits.html#loc_226_5_226_11&#39;)"><span class="hl_infix"><span class="mpre">`shiftR`</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">24</span></span><span class="mpre">), 
          </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> (</span><a href="#loc_329_5_329_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_5_329_6&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="Data.Bits.html#loc_226_5_226_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Bits.html#loc_226_5_226_11&#39;)"><span class="hl_infix"><span class="mpre">`shiftR`</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">16</span></span><span class="mpre">), 
          </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> (</span><a href="#loc_329_5_329_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_5_329_6&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre"> </span><a href="Data.Bits.html#loc_226_5_226_11" onmouseover="nemnem.highlightLocalToRemote(&#39;Data.Bits.html#loc_226_5_226_11&#39;)"><span class="hl_infix"><span class="mpre">`shiftR`</span></span></a><span class="mpre"> </span><span class="hl_num"><span class="mpre">8</span></span><span class="mpre">),
          </span><span class="hl_varref"><span class="mpre">fromIntegral</span></span><span class="mpre"> </span><a href="#loc_329_5_329_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_5_329_6&#39;)"><span class="hl_varref"><span class="mpre">x</span></span></a><span class="mpre">)
  where
    </span><a name="loc_329_5_329_6" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_329_5_329_6&#39;)"><span class="hl_vardecl"><span class="mpre">x</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">ord</span></span><span class="mpre"> </span><a href="#loc_324_6_324_7" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_6_324_7&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_324_1_324_5" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_324_1_324_5&#39;)"><span class="mpre">ord4</span></a><span class="mpre"> #-}</span></span><span class="mpre">


</span><a href="#loc_334_1_334_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_1_334_9&#39;)"><span class="mpre">validate</span></a><span class="mpre">    :: </span><span class="hl_tyconref"><span class="mpre">Char</span></span><span class="mpre"> -&gt; </span><span class="hl_tyconref"><span class="mpre">Bool</span></span><span class="mpre">
</span><a name="loc_334_1_334_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_1_334_9&#39;)"><span class="hl_fundecl"><span class="mpre">validate</span></span></a><span class="mpre"> </span><a name="loc_334_10_334_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_10_334_11&#39;)"><span class="hl_vardecl"><span class="mpre">c</span></span></a><span class="mpre"> = (</span><a href="#loc_335_10_335_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_10_335_12&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0x0</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_335_10_335_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_10_335_12&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0xD800</span></span><span class="mpre">) </span><span class="hl_infix"><span class="mpre">||</span></span><span class="mpre"> (</span><a href="#loc_335_10_335_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_10_335_12&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&gt;</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0xDFFF</span></span><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&amp;&amp;</span></span><span class="mpre"> </span><a href="#loc_335_10_335_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_10_335_12&#39;)"><span class="hl_varref"><span class="mpre">x1</span></span></a><span class="mpre"> </span><span class="hl_infix"><span class="mpre">&lt;=</span></span><span class="mpre"> </span><span class="hl_num"><span class="mpre">0x10FFFF</span></span><span class="mpre">)
   where </span><a name="loc_335_10_335_12" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_335_10_335_12&#39;)"><span class="hl_vardecl"><span class="mpre">x1</span></span></a><span class="mpre"> = </span><span class="hl_varref"><span class="mpre">ord</span></span><span class="mpre"> </span><a href="#loc_334_10_334_11" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_10_334_11&#39;)"><span class="hl_varref"><span class="mpre">c</span></span></a><span class="mpre">
</span><span class="hl_pragma"><span class="mpre">{-# INLINE </span><a href="#loc_334_1_334_9" onmouseover="nemnem.highlightLocalToLocal(&#39;loc_334_1_334_9&#39;)"><span class="mpre">validate</span></a><span class="mpre"> #-}</span></span><span class="mpre">

</span></div></body></html>